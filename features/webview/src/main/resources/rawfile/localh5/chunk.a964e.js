(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1684:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(67),o=r.n(n),a=(r(1740),function(e,t,r){var n=e;return 0===t?n=o()(n,["nickname"],[r]):1===t?n=o()(n,["answer_time"],[r]):2===t?n=o()(n,["score"],[r]):3===t?n=o()(n,["actual_score"],[r]):4===t?n=o()(n,["student_number"],[r]):5===t?n=o()(n,["answer_time_diff"],[r]):6===t&&(n=o()(n,["answer_rate"],[r])),n})},1788:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(10),o=Object(n.a)((function(e){return e.summary}),(function(e){return e.get("recordMode")}))},2063:function(e,t,r){},2064:function(e,t,r){e.exports=r.p+"ab063b5a1f6f3bc952da2902fe331148.png"},2199:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return U}));r(2063),r(1352);var n,o=r(1353),a=r.n(o),i=(r(184),r(99)),c=r.n(i),u=(r(1831),r(1833)),s=r.n(u),l=r(12),d=r.n(l),m=r(1617),p=r.n(m),f=r(9),_=r.n(f),h=r(115),v=r.n(h),b=r(29),y=r.n(b),k=r(23),E=r.n(k),w=r(75),x=r.n(w),g=r(3),O=r.n(g),C=r(2064),R=r.n(C),j=r(185),T=r(14),S=r(137),P=r(6),F=(r(1),r(128)),M=r(42),A=r(370),D=r(31),N=r(1684),G=r(1788);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function W(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}function z(e,t,r){return t=K(t),function(e,t){if(t&&("object"===B(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var H=D.a.t,I=s.a.Step,L=function(e){var t=e.currCourseTaskFlow,r=void 0===t?[]:t;return O.a.createElement(s.a,{direction:"horizontal",status:"finish",current:function(){var e=0;return r.forEach((function(t,r){"finish"===t.status&&(e=r)})),e}()},r.map((function(e,t){var r,n=e.title;e.description;return O.a.createElement(I,{title:n,icon:(r=t+1,O.a.createElement("div",{className:x()("custom_icon")},r))})})))},U=Object(j.c)((function(e,t){return{currAnswerPaper:Object(T.b)(e),currCourseTaskFlow:Object(T.c)(e),currentRecordPaper:Object(F.a)(e),currMarkRecord:Object(T.h)(e),studentAnswerFromWay:Object(T.i)(e),checkSetting:Object(A.a)(e),recordMode:Object(G.a)(e)}}),(function(e,t){return{QuestionDispatcher:Object(S.b)(P.c,e),CheckDispatcher:Object(S.b)(P.b,e),RecordDispatcher:Object(S.b)(M.a,e),AnswerDispatcher:Object(S.b)(P.a,e)}}))(n=function(e){function t(){var e;J(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=z(this,t,[].concat(n))).handleOnClick=function(){var t,r,n=null===(t=e.props)||void 0===t||null===(t=t.match)||void 0===t?void 0:t.params,o=n.course_id,a=n.paper_id,i=n.node_id,c=n.group_id,u=n.mode,s=null===(r=e.props)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.search;"tryExam"===u||"tryExamTimeout"===u?e.props.history.push("/paper_mobile/exam/info/teacher/".concat(o,"/").concat(a,"/").concat(i,"/").concat(c)):e.props.history.push("/paper_mobile/exam/info/student/".concat(e.props.studentAnswerFromWay,"/").concat(o,"/").concat(a,"/").concat(i,"/").concat(c).concat(s))},e.handleOnSubmit=function(){var t,r=null===(t=e.props)||void 0===t||null===(t=t.match)||void 0===t?void 0:t.params,n=r.course_id,o=r.paper_id,a=r.node_id,i=r.group_id,u=r.mode,s=e.props,l=s.AnswerDispatcher,d=s.currAnswerPaper.answer_record.id;c.a.alert("\u662f\u5426\u786e\u8ba4\u63d0\u4ea4\uff1f","",[{text:"\u53d6\u6d88"},{text:"\u63d0\u4ea4",style:{color:"#40a9ff"},onPress:function(){l.submitAnswerRecord({course_id:n,paper_id:o,node_id:a,group_id:i,record_id:d,is_try:"tryExamTimeout"===u})}}])},e.onCheck=function(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"isCheck",a=e.props.CheckDispatcher,i=e.props.match.params,c=i.course_id,u=i.paper_id,s=i.node_id,l=i.group_id;a.getMarkRecord({access_key:"mycourse",answer_record_id:t,recheck:r?1:2,checkType:o});var d=null===(n=e.props)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.search;e.props.history.push("/paper_mobile/exam/check/mycourse/teacher/".concat(c,"/").concat(u,"/").concat(s,"/").concat(l,"/").concat(r?1:2,"/").concat(o).concat(d))},e.handleReviewRecord=function(t){var r=e.props,n=r.currentRecordPaper.dataSource,o=r.currMarkRecord.answerRecord,a=r.checkSetting,i=a.sort_type,c=a.order_type,u=E()(null!==n&&void 0!==n?n:[],(function(e){return!e.isEmpty&&2===e.status}));window.isMooc||(u=Object(N.a)(u,i,c));var s=E()(u,(function(e){return(window.isMooc?2!==e.check_status:2!==e.teacher_check_status)||e.id===o.id}));!y()(s)&&s.length>1&&(u=s);var l=null===o||void 0===o?void 0:o.id,d=v()(u,{id:l});d>=0&&(l=d===u.length-1?u[0].id:u[d+1].id),e.onCheck(l,t)},e.handleMutualCheck=function(t){var r,n,o,a=e.props.CheckDispatcher,i=null===(r=e.props)||void 0===r||null===(r=r.match)||void 0===r?void 0:r.params,c=i.course_id,u=i.access_key,s=i.paper_id,l=i.node_id,d=i.group_id,m=E()(null!==(n=null===t||void 0===t?void 0:t.items)&&void 0!==n?n:[],(function(e){return 1===(null===e||void 0===e?void 0:e.check_status)}));a.getMarkRecord({access_key:u,answer_record_id:m[0].answer_record_id,check_record_id:m[0].id});var p=null===(o=e.props)||void 0===o||null===(o=o.location)||void 0===o?void 0:o.search;e.props.history.push("/paper_mobile/exam/check/mycourse/teacher/".concat(c,"/").concat(s,"/").concat(l,"/").concat(d,"/1/isCheck").concat(p))},e.handleGoRecordSummary=function(){var t,r,n=null===(t=e.props)||void 0===t||null===(t=t.match)||void 0===t?void 0:t.params,o=n.course_id,a=n.group_id,i=n.paper_id,c=n.node_id,u=null===(r=e.props)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.search;e.props.history.push("/paper_mobile/summary/record/".concat(o,"/").concat(i,"/").concat(c,"/").concat(a).concat(u))},e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e,t=this.props,r=t.QuestionDispatcher,n=t.RecordDispatcher,o=t.checkSetting,a=t.recordMode,i=null===(e=this.props)||void 0===e||null===(e=e.match)||void 0===e?void 0:e.params,c=i.paper_id,u=i.node_id,s=i.group_id,l=i.mode;-1!==l.indexOf("stu")&&setTimeout((function(){r.getCourseTaskFlow({access_key:"mycourse",node_id:u,group_id:s})})),"teaNormal"!==l&&"teaTeam"!==l&&"teaRecheck"!==l||("normal"===a?setTimeout((function(){var e;n.getAnswerRecords({accessKey:"mycourse",group_id:s,paper_id:c,node_id:u,class_id:null!==(e=null===o||void 0===o?void 0:o.class_id)&&void 0!==e?e:""})})):"try"===a&&n.getTryAnswerRecords({group_id:s,paper_id:c}))}},{key:"render",value:function(){var e,t=this.props,r=t.currCourseTaskFlow,n=t.currAnswerPaper,o=t.currentRecordPaper.dataSource,i=(null===(e=this.props)||void 0===e||null===(e=e.match)||void 0===e?void 0:e.params).mode,c=_()(n,"publish_record.mark_mode.mark_mode",1);return O.a.createElement("div",{className:x()("exam_info_submit")},O.a.createElement("div",{className:x()("ok_img")},O.a.createElement("img",{src:R.a})),O.a.createElement("div",null,H("stuExamTimeout"===i||"tryExamTimeout"===i?"exam:info.submit.submit.render.return.stu_exam_timeout.true":"exam:info.submit.submit.render.return.stu_exam_timeout.false")),function(e){var t=e.mode,r=e.mark_mode,n=e.currCourseTaskFlow,i=e.handleReviewRecord,c=e.handleGoRecordSummary,u=e.handleMutualCheck,s={},l=E()(o,(function(e){return(window.isMooc?2!==e.check_status:2!==e.teacher_check_status)&&!e.isEmpty&&2===e.status})).length;return function(e){if("teaRecheck"===t){if(l&&l>0)return O.a.cloneElement(e,p()(s),O.a.createElement(a.a,{type:"primary",onClick:function(){return i(!1)}},H("exam:info.submit.submit.render.remind_decorator.tea_recheck.button.content")))}else{if("teaNormal"===t||"teaTeam"===t)return l&&l>0?O.a.cloneElement(e,p()(s),O.a.createElement(O.a.Fragment,null,H("exam:info.submit.submit.render.remind_decorator.tea_normal.un_recheck.text",{unRecheck:l}),O.a.createElement(a.a,{type:"primary",onClick:function(){return i(!0)}},H("exam:info.submit.submit.render.remind_decorator.tea_normal.un_recheck.button.content")))):O.a.cloneElement(e,p()(s),O.a.createElement(O.a.Fragment,null,H("exam:info.submit.submit.render.remind_decorator.tea_normal.text"),O.a.createElement(a.a,{type:"primary",onClick:c},H("exam:info.submit.submit.render.remind_decorator.tea_normal.button.content"))));if("stuCheck"===t){if(3===r)return O.a.cloneElement(e,p()(s),H("exam:info.submit.submit.render.remind_decorator.stu_check.self_evaluation.content"));if(4===r){var o,m=d()(n,{flow_type:6}),f=E()(null!==(o=null===m||void 0===m?void 0:m.items)&&void 0!==o?o:[],(function(e){return 1===(null===e||void 0===e?void 0:e.check_status)})).length;return f>0?O.a.cloneElement(e,p()(s),O.a.createElement(O.a.Fragment,null,H("exam:info.submit.submit.render.remind_decorator.stu_check.mutual_evaluation.un_finished.text",{un_finished:f}),O.a.createElement(a.a,{type:"primary",onClick:function(){return u(m)}},H("exam:info.submit.submit.render.remind_decorator.stu_check.mutual_evaluation.un_finished.button.content")))):O.a.cloneElement(e,p()(s),H("exam:info.submit.submit.render.remind_decorator.stu_check.mutual_evaluation.content"))}}else{if("stuExam"===t){if(3===r){var _=d()(n,{flow_type:5});return O.a.cloneElement(e,p()(s),O.a.createElement("div",null,O.a.createElement("span",null,H("exam:info.submit.submit.render.remind_decorator.stu_exam.self_evaluation.span1")),O.a.createElement("span",null,H("exam:info.submit.submit.render.remind_decorator.stu_exam.self_evaluation.span2",{description:null===_||void 0===_?void 0:_.description}))))}if(4===r){var h=d()(n,{flow_type:6});return O.a.cloneElement(e,p()(s),O.a.createElement("div",null,O.a.createElement("span",null,H("exam:info.submit.submit.render.remind_decorator.stu_exam.mutual_evaluation.span1")),O.a.createElement("span",null,H("exam:info.submit.submit.render.remind_decorator.stu_exam.mutual_evaluation.span2",{description:null===h||void 0===h?void 0:h.description}))))}return O.a.cloneElement(e,p()(s),H("exam:info.submit.submit.render.remind_decorator.stu_exam.content"))}if("stuExamTimeout"===t||"tryExamTimeout"===t)return O.a.cloneElement(e,p()(s),O.a.createElement("div",null,O.a.createElement("span",null,H("exam:info.submit.submit.render.remind_decorator.stu_exam_timeout.content"))))}}return null}}({mode:i,mark_mode:c,currCourseTaskFlow:r,handleReviewRecord:this.handleReviewRecord,handleGoRecordSummary:this.handleGoRecordSummary,handleMutualCheck:this.handleMutualCheck})(O.a.createElement("div",{className:x()("remind")})),-1!==i.indexOf("tea")?O.a.createElement("span",{onClick:this.handleGoRecordSummary},H("exam:info.submit.submit.render.return.tea")):O.a.createElement(O.a.Fragment,null,"stuCheck"===i?O.a.createElement("span",{onClick:this.handleOnClick},H("exam:info.submit.submit.render.return.stu_check.true")):O.a.createElement(O.a.Fragment,null,"stuExamTimeout"===i||"tryExamTimeout"===i?O.a.createElement(O.a.Fragment,null,O.a.createElement(a.a,{type:"primary",onClick:this.handleOnClick},"\u9000\u51fa\u7b54\u9898"),O.a.createElement(a.a,{className:x()("submit_btn"),onClick:this.handleOnSubmit},"\u53bb\u63d0\u4ea4")):O.a.createElement(a.a,{type:"primary",onClick:this.handleOnClick},H("exam:info.submit.submit.render.return.stu_check.false")))),O.a.createElement(L,{currCourseTaskFlow:r}))}}])&&Q(r.prototype,n),o&&Q(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(O.a.Component))||n}}]);