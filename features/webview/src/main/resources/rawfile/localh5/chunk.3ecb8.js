(window.webpackJsonp=window.webpackJsonp||[]).push([[18,4,6,7],{1170:function(t,e,n){(function(r){var o,i,a,s;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){var t=t||function(t,e){var o;if("undefined"!==typeof window&&window.crypto&&(o=window.crypto),"undefined"!==typeof self&&self.crypto&&(o=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(o=globalThis.crypto),!o&&"undefined"!==typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&"undefined"!==typeof r&&r.crypto&&(o=r.crypto),!o)try{o=n(1280)}catch(m){}var i=function(){if(o){if("function"===typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new l.init(e,t)}}),f=s.enc={},h=f.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},d=f.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,i);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(o,f);n=o.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(c.Hasher=v.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math);return t},"object"===c(e)?t.exports=e=s():(i=[],void 0===(a="function"===typeof(o=s)?o.apply(e,i):o)||(t.exports=a))}).call(this,n(53))},1171:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var r=u(n(1300)),o=u(n(1301)),i=u(n(1302)),a=u(n(1303)),s=u(n(1304)),c=u(n(1305));function u(t){return t&&t.__esModule?t:{default:t}}e.hover=a.default,e.handleHover=a.default,e.handleActive=s.default,e.loop=c.default;var l=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),c=(0,o.default)(t,s);return(0,i.default)(c)};e.default=l},1172:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,c=(s.Utf8,s.Base64),u=n.algo.EvpKDF,l=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(n,r,o){return t(r).encrypt(e,n,r,o)},decrypt:function(n,r,o){return t(r).decrypt(e,n,r,o)}}}}()}),f=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),h=r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=f.CBC=function(){var t=h.extend();function e(t,e,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=r[i]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize;e.call(this,t,n,o),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+o)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,o=r.blockSize,i=t.slice(n,n+o);r.decryptBlock(t,n),e.call(this,t,n,o),this._prevBlock=i}}),t}(),p=(n.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var c=i.create(a,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){var t;l.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(e):e).toString(c)},parse:function(t){var e,n=c.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:e})}},m=r.SerializableCipher=o.extend({cfg:o.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var o=t.createEncryptor(n,r),i=o.finalize(e),a=o.cfg;return v.create({ciphertext:i,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(n.kdf={}).OpenSSL={execute:function(t,e,n,r,o){if(r||(r=i.random(8)),o)a=u.create({keySize:e+n,hasher:o}).compute(t,r);else var a=u.create({keySize:e+n}).compute(t,r);var s=i.create(a.words.slice(e),4*n);return a.sigBytes=4*e,v.create({key:a,iv:s,salt:r})}},b=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize,r.salt,r.hasher);r.iv=o.iv;var i=m.encrypt.call(this,t,e,o.key,r);return i.mixIn(o),i},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=r.kdf.execute(n,t.keySize,t.ivSize,e.salt,r.hasher);return r.iv=o.iv,m.decrypt.call(this,t,e,o.key,r)}})}()},"object"===s(e)?t.exports=e=a(n(1170),n(1173)):(o=[n(1170),n(1173)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1173:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.Base,o=n.WordArray,i=e.algo,a=i.MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,i=r.hasher.create(),a=o.create(),s=a.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(t).finalize(e),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*c,a}});e.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),t.EvpKDF},"object"===s(e)?t.exports=e=a(n(1170),n(1202),n(1188)):(o=[n(1170),n(1202),n(1188)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1175:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},1176:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var o=[],i=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,c=r[t.charCodeAt(a)]>>>6-a%4*2,u=s|c;o[i>>>2]|=u<<24-i%4*8,i++}return n.create(o,i)}(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1177:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,o=t[r];t[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=t[e+0],c=t[e+1],d=t[e+2],p=t[e+3],v=t[e+4],g=t[e+5],m=t[e+6],y=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],x=t[e+11],S=t[e+12],C=t[e+13],O=t[e+14],k=t[e+15],M=i[0],E=i[1],j=i[2],I=i[3];M=u(M,E,j,I,a,7,s[0]),I=u(I,M,E,j,c,12,s[1]),j=u(j,I,M,E,d,17,s[2]),E=u(E,j,I,M,p,22,s[3]),M=u(M,E,j,I,v,7,s[4]),I=u(I,M,E,j,g,12,s[5]),j=u(j,I,M,E,m,17,s[6]),E=u(E,j,I,M,y,22,s[7]),M=u(M,E,j,I,b,7,s[8]),I=u(I,M,E,j,_,12,s[9]),j=u(j,I,M,E,w,17,s[10]),E=u(E,j,I,M,x,22,s[11]),M=u(M,E,j,I,S,7,s[12]),I=u(I,M,E,j,C,12,s[13]),j=u(j,I,M,E,O,17,s[14]),M=l(M,E=u(E,j,I,M,k,22,s[15]),j,I,c,5,s[16]),I=l(I,M,E,j,m,9,s[17]),j=l(j,I,M,E,x,14,s[18]),E=l(E,j,I,M,a,20,s[19]),M=l(M,E,j,I,g,5,s[20]),I=l(I,M,E,j,w,9,s[21]),j=l(j,I,M,E,k,14,s[22]),E=l(E,j,I,M,v,20,s[23]),M=l(M,E,j,I,_,5,s[24]),I=l(I,M,E,j,O,9,s[25]),j=l(j,I,M,E,p,14,s[26]),E=l(E,j,I,M,b,20,s[27]),M=l(M,E,j,I,C,5,s[28]),I=l(I,M,E,j,d,9,s[29]),j=l(j,I,M,E,y,14,s[30]),M=f(M,E=l(E,j,I,M,S,20,s[31]),j,I,g,4,s[32]),I=f(I,M,E,j,b,11,s[33]),j=f(j,I,M,E,x,16,s[34]),E=f(E,j,I,M,O,23,s[35]),M=f(M,E,j,I,c,4,s[36]),I=f(I,M,E,j,v,11,s[37]),j=f(j,I,M,E,y,16,s[38]),E=f(E,j,I,M,w,23,s[39]),M=f(M,E,j,I,C,4,s[40]),I=f(I,M,E,j,a,11,s[41]),j=f(j,I,M,E,p,16,s[42]),E=f(E,j,I,M,m,23,s[43]),M=f(M,E,j,I,_,4,s[44]),I=f(I,M,E,j,S,11,s[45]),j=f(j,I,M,E,k,16,s[46]),M=h(M,E=f(E,j,I,M,d,23,s[47]),j,I,a,6,s[48]),I=h(I,M,E,j,y,10,s[49]),j=h(j,I,M,E,O,15,s[50]),E=h(E,j,I,M,g,21,s[51]),M=h(M,E,j,I,S,6,s[52]),I=h(I,M,E,j,p,10,s[53]),j=h(j,I,M,E,w,15,s[54]),E=h(E,j,I,M,c,21,s[55]),M=h(M,E,j,I,b,6,s[56]),I=h(I,M,E,j,k,10,s[57]),j=h(j,I,M,E,m,15,s[58]),E=h(E,j,I,M,C,21,s[59]),M=h(M,E,j,I,v,6,s[60]),I=h(I,M,E,j,x,10,s[61]),j=h(j,I,M,E,d,15,s[62]),E=h(E,j,I,M,_,21,s[63]),i[0]=i[0]+M|0,i[1]=i[1]+E|0,i[2]=i[2]+j|0,i[3]=i[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+o+a;return(s<<i|s>>>32-i)+e}function l(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+o+a;return(s<<i|s>>>32-i)+e}function f(t,e,n,r,o,i,a){var s=t+(e^n^r)+o+a;return(s<<i|s>>>32-i)+e}function h(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+o+a;return(s<<i|s>>>32-i)+e}n.MD5=i._createHelper(c),n.HmacMD5=i._createHmacHelper(c)}(Math),t.MD5},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1179:function(t,e,n){"use strict";var r=Array.isArray;e.a=r},1180:function(t,e,n){"use strict";var r=n(1247);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"===typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=r.a||i||Function("return this")();e.a=a},1181:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ConfigConsumer",{enumerable:!0,get:function(){return c.ConfigConsumer}}),e.default=e.configConsumerProps=void 0;var o,i=l(n(3)),a=l(n(1406)),s=(o=n(664))&&o.__esModule?o:{default:o},c=n(1408);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function f(t){return(f="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.configConsumerProps=["getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","autoInsertSpaceInButton","locale","pageHeader"];var y=function(t){function e(){var t;return d(this,e),(t=v(this,g(e).apply(this,arguments))).getPrefixCls=function(e,n){var r=t.props.prefixCls,o=void 0===r?"ant":r;return n||(e?"".concat(o,"-").concat(e):o)},t.renderProvider=function(e,n){var r=t.props,o=r.children,s=r.getPopupContainer,u=r.renderEmpty,l=r.csp,f=r.autoInsertSpaceInButton,d=r.locale,p=r.pageHeader,v=h(h({},e),{getPrefixCls:t.getPrefixCls,csp:l,autoInsertSpaceInButton:f});return s&&(v.getPopupContainer=s),u&&(v.renderEmpty=u),p&&(v.pageHeader=p),i.createElement(c.ConfigContext.Provider,{value:v},i.createElement(a.default,{locale:d||n,_ANT_MARK__:a.ANT_MARK},o))},t}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this;return i.createElement(s.default,null,(function(e,n,r){return i.createElement(c.ConfigConsumer,null,(function(e){return t.renderProvider(e,r)}))}))}}])&&p(n.prototype,r),o&&p(n,o),e}(i.Component);e.default=y},1182:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var c=t.displayName||t.name,u="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1183:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,o=r.Base,i=r.WordArray,a=n.x64={};a.Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}})}(),t},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1184:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return null!=t&&"object"==r(t)}},1185:function(t,e,n){"use strict";var r=n(1204),o=n(1211);e.a=function(t){return null!=t&&Object(o.a)(t.length)&&!Object(r.a)(t)}},1186:function(t,e,n){"use strict";var r=n(1194),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;var c=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(c){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o},u=Object.prototype.toString;var l=function(t){return u.call(t)},f=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):l(t)}},1187:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(s[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var u=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[d-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[d]=v+u[d-7]+m+u[d-16]}var y=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[d]+u[d];h=f,f=l,l=s,s=a+_|0,a=i,i=o,o=r,r=_+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=i._createHelper(l),n.HmacSHA256=i._createHmacHelper(l)}(Math),t.SHA256},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1188:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){!function(){var e=t,n=e.lib.Base,r=e.enc.Utf8;e.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,o=4*n;e.sigBytes>o&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),a=this._iKey=e.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}()},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1189:function(t,e,n){"use strict";var r=n(1250),o=n(1205),i=n(1249),a=Object(i.a)(Object.keys,Object),s=Object.prototype.hasOwnProperty;var c=function(t){if(!Object(o.a)(t))return a(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e},u=n(1185);e.a=function(t){return Object(u.a)(t)?Object(r.a)(t):c(t)}},1191:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},1192:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2168),o=Object(r.a)({scriptUrl:"https://at.alicdn.com/t/c/font_914650_ub310hoi1k.js"})},1194:function(t,e,n){"use strict";var r=n(1180).a.Symbol;e.a=r},1195:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var n=r(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}},1196:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},1197:function(t,e,n){var r=n(1313);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},1198:function(t,e,n){var r=n(100).default,o=n(1191);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},1199:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1200:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosX=e.getMainLayoutClassName=e.getDisplayTimeBySeconds=void 0,e.throttle=function(t,e){var n=!1;return function(r){n||(t(r),n=!0,setTimeout((function(){return n=!1}),e))}};e.getMainLayoutClassName=function(t){switch(t){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}};e.getPosX=function(t){return t instanceof MouseEvent?t.clientX:t.touches[0].clientX};var r=function(t){return t>9?t.toString():"0".concat(t)};e.getDisplayTimeBySeconds=function(t,e,n){if(!isFinite(t))return null;var o=Math.floor(t/60),i=r(o),a=r(Math.floor(t%60)),s=r(Math.floor(o%60)),c=Math.floor(o/60),u="".concat(i,":").concat(a),l="".concat(c,":").concat(s,":").concat(a);return"auto"===n?e>=3600?l:u:"mm:ss"===n?u:"hh:mm:ss"===n?l:void 0}},1202:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,i=e.algo,a=[],s=i.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)a[u]=0|t[e+u];else{var l=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+c+a[u];f+=u<20?1518500249+(o&i|~o&s):u<40?1859775393+(o^i^s):u<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,c=s,s=i,i=o<<30|o>>>2,o=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=o._createHelper(s),e.HmacSHA1=o._createHmacHelper(s)}(),t.SHA1},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1203:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.Hasher,r=e.x64,o=r.Word,i=r.WordArray,a=e.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var l=a.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],f=n[6],h=n[7],d=r.high,p=r.low,v=o.high,g=o.low,m=i.high,y=i.low,b=a.high,_=a.low,w=s.high,x=s.low,S=l.high,C=l.low,O=f.high,k=f.low,M=h.high,E=h.low,j=d,I=p,A=v,T=g,P=m,D=y,N=b,L=_,R=w,B=x,z=S,F=C,H=O,U=k,W=M,V=E,Y=0;Y<80;Y++){var G,X,Z=u[Y];if(Y<16)X=Z.high=0|t[e+2*Y],G=Z.low=0|t[e+2*Y+1];else{var q=u[Y-15],K=q.high,Q=q.low,J=(K>>>1|Q<<31)^(K>>>8|Q<<24)^K>>>7,$=(Q>>>1|K<<31)^(Q>>>8|K<<24)^(Q>>>7|K<<25),tt=u[Y-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,ot=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),it=u[Y-7],at=it.high,st=it.low,ct=u[Y-16],ut=ct.high,lt=ct.low;X=(X=(X=J+at+((G=$+st)>>>0<$>>>0?1:0))+rt+((G+=ot)>>>0<ot>>>0?1:0))+ut+((G+=lt)>>>0<lt>>>0?1:0),Z.high=X,Z.low=G}var ft,ht=R&z^~R&H,dt=B&F^~B&U,pt=j&A^j&P^A&P,vt=I&T^I&D^T&D,gt=(j>>>28|I<<4)^(j<<30|I>>>2)^(j<<25|I>>>7),mt=(I>>>28|j<<4)^(I<<30|j>>>2)^(I<<25|j>>>7),yt=(R>>>14|B<<18)^(R>>>18|B<<14)^(R<<23|B>>>9),bt=(B>>>14|R<<18)^(B>>>18|R<<14)^(B<<23|R>>>9),_t=c[Y],wt=_t.high,xt=_t.low,St=W+yt+((ft=V+bt)>>>0<V>>>0?1:0),Ct=mt+vt;W=H,V=U,H=z,U=F,z=R,F=B,R=N+(St=(St=(St=St+ht+((ft+=dt)>>>0<dt>>>0?1:0))+wt+((ft+=xt)>>>0<xt>>>0?1:0))+X+((ft+=G)>>>0<G>>>0?1:0))+((B=L+ft|0)>>>0<L>>>0?1:0)|0,N=P,L=D,P=A,D=T,A=j,T=I,j=St+(gt+pt+(Ct>>>0<mt>>>0?1:0))+((I=ft+Ct|0)>>>0<ft>>>0?1:0)|0}p=r.low=p+I,r.high=d+j+(p>>>0<I>>>0?1:0),g=o.low=g+T,o.high=v+A+(g>>>0<T>>>0?1:0),y=i.low=y+D,i.high=m+P+(y>>>0<D>>>0?1:0),_=a.low=_+L,a.high=b+N+(_>>>0<L>>>0?1:0),x=s.low=x+B,s.high=w+R+(x>>>0<B>>>0?1:0),C=l.low=C+F,l.high=S+z+(C>>>0<F>>>0?1:0),k=f.low=k+U,f.high=O+H+(k>>>0<U>>>0?1:0),E=h.low=E+V,h.high=M+W+(E>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=n._createHelper(l),e.HmacSHA512=n._createHmacHelper(l)}(),t.SHA512},"object"===s(e)?t.exports=e=a(n(1170),n(1183)):(o=[n(1170),n(1183)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1204:function(t,e,n){"use strict";var r=n(1186),o=n(1175);e.a=function(t){if(!Object(o.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1205:function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},1206:function(t,e,n){"use strict";var r=n(1186),o=n(1184);var i=function(t){return Object(o.a)(t)&&"[object Arguments]"==Object(r.a)(t)},a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return Object(o.a)(t)&&s.call(t,"callee")&&!c.call(t,"callee")};e.a=u},1207:function(t,e,n){"use strict";n.r(e);var r=n(27),o=n.n(r);e.default=function(t,e){for(var n=o()({},t),r=0;r<e.length;r++){delete n[e[r]]}return n}},1209:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o){function i(e){var r=new a.default(e);n.call(t,r)}if(t.addEventListener){var s=function(){var n=!1;return"object"===r(o)?n=o.capture||!1:"boolean"===typeof o&&(n=o),t.addEventListener(e,i,o||!1),{v:{remove:function(){t.removeEventListener(e,i,n)}}}}();if("object"===r(s))return s.v}else if(t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}};var o,i=n(1269),a=(o=i)&&o.__esModule?o:{default:o};t.exports=e.default},1210:function(t,e,n){"use strict";n.d(e,"a",(function(){return zO})),n.d(e,"c",(function(){return BO})),n.d(e,"b",(function(){return OO.b}));n(1289),n(65);var r=n(22),o=n.n(r),i=n(1259),a=n.n(i),s=n(210),c=n.n(s),u=n(1256),l=n.n(u),f=n(63),h=n.n(f),d=n(76),p=n.n(d),v=n(71),g=n.n(v),m=n(29),y=n.n(m),b=n(1219),_=n.n(b),w=n(9),x=n.n(w),S=n(75),C=n.n(S),O=n(3),k=n.n(O),M=n(13),E=n.n(M),j=n(20),I=n(1297),A=n.n(I);function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function N(t){return Object(j.getDefaultKeyBinding)(t)}function L(t,e,n,r){var o,i=r.setEditorState;switch(t){case"backspace":case"backspace-word":case"backspace-to-start-of-line":o=j.RichUtils.onBackspace(e);break;case"delete":case"delete-word":case"delete-to-end-of-block":o=j.RichUtils.onDelete(e);break;default:return"not-handled"}return null!=o?(i(o),"handled"):"not-handled"}var R=["props"],B=["props"];function z(t,e){var n={},r=new Set(["onChange"]);return t.forEach((function(o){Object.keys(o).forEach((function(o){r.has(o)||(r.add(o),o.startsWith("on")?n[o]=function(t,e,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.some((function(e){var r=e[t];return"function"===typeof r&&!0===r.apply(void 0,o.concat([n]))}))}}(o,t,e):!function(t){return t.startsWith("handle")}(o)?function(t){return t.endsWith("Fn")}(o)&&("blockRendererFn"===o?n.blockRendererFn=function(t,e){return function(n){var r={props:{}};return t.forEach((function(t){if("function"===typeof t.blockRendererFn){var o=t.blockRendererFn(n,e);if(void 0!==o&&null!==o){var i=o.props,a=D(o,R),s=r,c=s.props,u=D(s,B);r=T({},u,a,{props:T({},c,i)})}}})),!!r.component&&r}}(t,e):"blockStyleFn"===o?n.blockStyleFn=function(t,e){return function(n){var r=[];return t.forEach((function(t){if("function"===typeof t.blockStyleFn){var o=t.blockStyleFn(n,e);void 0!==o&&null!==o&&r.push(o)}})),r.join(" ")}}(t,e):"customStyleFn"===o?n.customStyleFn=function(t,e){return function(n,r){var o;return t.some((function(t){return"function"===typeof t.customStyleFn&&void 0!==(o=t.customStyleFn(n,r,e))}))&&o?o:{}}}(t,e):"keyBindingFn"===o&&(n.keyBindingFn=function(t,e){return function(n){var r=null;return t.some((function(t){return"function"===typeof t.keyBindingFn&&void 0!==(r=t.keyBindingFn(n,e))}))?r:null}}(t,e))):n[o]=function(t,e,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.some((function(e){var r=e[t];return"function"===typeof r&&"handled"===r.apply(void 0,o.concat([n]))}))?"handled":"not-handled"}}(o,t,e))}))})),n}var F=function(){function t(t){this.decorators=void 0,this.decorators=A.a.List(t)}var e=t.prototype;return e.getDecorations=function(t,e){var n=new Array(t.getText().length).fill(null);return this.decorators.forEach((function(r,o){r.getDecorations(t,e).forEach((function(t,e){t&&(n[e]=o+"-"+t)}))})),A.a.List(n)},e.getComponentForKey=function(e){return this.getDecoratorForKey(e).getComponentForKey(t.getInnerKey(e))},e.getPropsForKey=function(e){return this.getDecoratorForKey(e).getPropsForKey(t.getInnerKey(e))},e.getDecoratorForKey=function(t){var e=t.split("-"),n=Number(e[0]);return this.decorators.get(n)},t.getInnerKey=function(t){return t.split("-").slice(1).join("-")},t}(),H=function(t){return"function"===typeof t.getDecorations&&"function"===typeof t.getComponentForKey&&"function"===typeof t.getPropsForKey};function U(t,e,n){var r=function(t){var e=t.decorators,n=t.plugins,r=void 0===n?[]:n;return Object(I.List)([{decorators:e}].concat(r)).filter((function(t){return void 0!==(null==t?void 0:t.decorators)})).flatMap((function(t){return null==t?void 0:t.decorators}))}(t),o=function(t,e,n){var r=Object(I.List)(t).map((function(t){var r=t.component;return T({},t,{component:function(t){return k.a.createElement(r,T({},t,{getEditorState:e,setEditorState:n}))}})})).toJS();return new j.CompositeDecorator(r)}(r.filter((function(t){return!H(t)})),e,n),i=r.filter((function(t){return H(t)}));return new F(i.push(o))}var W=["keyBindingFn"],V=function(t){var e,n;return null!=(null==t?void 0:t.decorators)?null==(e=t.decorators)?void 0:e.size:null!=(null==t?void 0:t._decorators)?null==(n=t._decorators)?void 0:n.length:void 0},Y=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).editor=null,n.state={readOnly:!1},n.onChange=function(t){var e=t;n.resolvePlugins().forEach((function(t){t.onChange&&(e=t.onChange(e,n.getPluginMethods()))})),n.props.onChange&&n.props.onChange(e)},n.getPlugins=function(){return[].concat(n.props.plugins)},n.getProps=function(){return T({},n.props)},n.getReadOnly=function(){return n.props.readOnly||n.state.readOnly},n.setReadOnly=function(t){t!==n.state.readOnly&&n.setState({readOnly:t})},n.getEditorRef=function(){return n.editor},n.getEditorState=function(){return n.props.editorState},n.getPluginMethods=function(){return{getPlugins:n.getPlugins,getProps:n.getProps,setEditorState:n.onChange,getEditorState:n.getEditorState,getReadOnly:n.getReadOnly,setReadOnly:n.setReadOnly,getEditorRef:n.getEditorRef}},n.createPluginHooks=function(){return z([n.props].concat(n.resolvePlugins()),n.getPluginMethods())},n.resolvePlugins=function(){var t=n.getPlugins();return!0===n.props.defaultKeyBindings&&t.push({keyBindingFn:N}),!0===n.props.defaultKeyCommands&&t.push({handleKeyCommand:L}),t},n.resolveCustomStyleMap=function(){return n.props.plugins.filter((function(t){return void 0!==t.customStyleMap})).map((function(t){return t.customStyleMap})).concat([n.props.customStyleMap]).reduce((function(t,e){return T({},t,e)}),{})},n.resolveblockRenderMap=function(){var t=n.props.plugins.filter((function(t){return void 0!==t.blockRenderMap})).reduce((function(t,e){return t.merge(e.blockRenderMap)}),Object(I.Map)({}));return n.props.defaultBlockRenderMap&&(t=j.DefaultDraftBlockRenderMap.merge(t)),n.props.blockRenderMap&&(t=t.merge(n.props.blockRenderMap)),t},n.resolveAccessibilityProps=function(){var t={};return n.resolvePlugins().forEach((function(e){if("function"===typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),r={};void 0===t.ariaHasPopup?r.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(r.ariaHasPopup="true"),void 0===t.ariaExpanded?r.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(r.ariaExpanded=!0),t=T({},t,n,r)}})),t},[n.props].concat(n.resolvePlugins()).forEach((function(t){t&&"function"===typeof t.initialize&&t.initialize(n.getPluginMethods())})),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,P(e,n);var o=r.prototype;return o.focus=function(){this.editor&&this.editor.focus()},o.blur=function(){this.editor&&this.editor.blur()},o.componentDidMount=function(){var t=U(this.props,this.getEditorState,this.onChange),e=j.EditorState.set(this.props.editorState,{decorator:t});this.onChange(j.EditorState.moveSelectionToEnd(e))},o.componentDidUpdate=function(t){var e=this.props,n=t.editorState.getDecorator(),r=e.editorState.getDecorator();if(n&&n!==r&&(!n||!r||V(n)!==V(r))){var o=j.EditorState.set(e.editorState,{decorator:n});this.onChange(j.EditorState.moveSelectionToEnd(o))}},o.componentWillUnmount=function(){var t=this;this.resolvePlugins().forEach((function(e){e.willUnmount&&e.willUnmount({getEditorState:t.getEditorState,setEditorState:t.onChange})}))},o.render=function(){var t=this,e=this.createPluginHooks(),n=this.resolveCustomStyleMap(),r=this.resolveAccessibilityProps(),o=this.resolveblockRenderMap(),i=this.props;i.keyBindingFn;var a=D(i,W);return k.a.createElement(j.Editor,T({},a,r,e,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:o,onChange:this.onChange,editorState:this.props.editorState,ref:function(e){t.editor=e}}))},r}(O.Component);Y.propTypes={editorState:E.a.object.isRequired,onChange:E.a.func.isRequired,plugins:E.a.array,defaultKeyBindings:E.a.bool,defaultKeyCommands:E.a.bool,defaultBlockRenderMap:E.a.bool,customStyleMap:E.a.object,decorators:E.a.array},Y.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var G=Y,X=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1];return function(){for(var t=r.apply(void 0,arguments),n=e.length-2;n>=0;n-=1){var o=e[n];t=o(t)}return t}},Z=n(1296),q=n(116),K=n.n(q);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==Q(t))if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=J(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}var $=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=J(t))&&(r&&(r+=" "),r+=e);return r};function tt(t){var e=function(t,e,n){var r=e.getStartKey(),o=[];return t.getBlockMap().forEach((function(t,e){o.push(t),e===r&&o.push(n)})),t.merge({blockMap:j.BlockMapBuilder.createFromArray(o),selectionBefore:e,selectionAfter:e.merge({anchorKey:n.getKey(),anchorOffset:n.getLength(),focusKey:n.getKey(),focusOffset:n.getLength(),isBackward:!1})})}(t.getCurrentContent(),t.getSelection(),new j.ContentBlock({key:Object(j.genKey)(),type:"unstyled",text:"",characterList:Object(Z.List)()})),n=e.merge({selectionAfter:e.getSelectionAfter().set("hasFocus",!0)});return j.EditorState.push(t,n,"insert-fragment")}var et=function(t,e,n,r){var o=t(),i=o.getSelection().getAnchorKey(),a="up"===n?o.getCurrentContent().getBlockBefore(i):o.getCurrentContent().getBlockAfter(i);if((!a||a.get("key")!==i)&&a){var s=K.a.encode(a.getKey(),0,0),c=document.querySelectorAll('[data-offset-key="'+s+'"]')[0],u=window.getSelection(),l=document.createRange();l.setStart(c,0),l.setEnd(c,0),u.removeAllRanges(),u.addRange(l);var f="up"===n?a.getLength():0;r.preventDefault(),e(j.EditorState.forceSelection(o,new j.SelectionState({anchorKey:a.getKey(),anchorOffset:f,focusKey:a.getKey(),focusOffset:f,isBackward:!1})))}};function nt(){return(nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var rt=function(t){var e=t.theme,n=t.blockKeyStore;return function(t){var r=k.a.forwardRef((function(r,o){Object(O.useEffect)((function(){return n.add(r.block.getKey()),function(){n.remove(r.block.getKey())}}),[]);var i=r.blockProps,a=r.className,s=i.isFocused,c=$(a,s?e.focused:e.unfocused);return k.a.createElement(t,nt({},r,{ref:o,onClick:function(t){t.preventDefault(),r.blockProps.isFocused||r.blockProps.setFocusToBlock()},className:c}))}));return r.displayName="BlockFocus("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",r.WrappedComponent=t.WrappedComponent||t,r}};var ot=function(t,e,n){return t.getBlockMap().keySeq().skipUntil((function(t){return t===e})).takeUntil((function(t){return t===n})).concat([n])},it=function(t,e){return function(t){var e=t.getSelection(),n=t.getCurrentContent();return ot(n,e.getStartKey(),e.getEndKey())}(t).includes(e)};var at={unfocused:"uz5k6rs",focused:"f1vn2c6d"},st=function(t,e){var n=t.getSelection();if(n.getAnchorKey()!==n.getFocusKey())return!1;var r=t.getCurrentContent().getBlockForKey(n.getAnchorKey());return e.includes(r.getKey())},ct=["backspace","backspace-word","backspace-to-start-of-line","delete","delete-word","delete-to-end-of-block"];function ut(t){return j.EditorState.set(t,{selection:t.getSelection(),forceSelection:!0,nativelyRenderedContent:null,inlineStyleOverride:null})}var lt=function(t){void 0===t&&(t={});var e,n,r=function(){var t=Object(Z.List)();return{add:function(e){return t=t.push(e)},remove:function(e){return t=t.filter((function(t){return t!==e}))},includes:function(e){return t.includes(e)},getAll:function(){return t}}}(),o=t.theme?t.theme:at;return{handleReturn:function(t,e,n){var o=n.setEditorState;return st(e,r)?(o(tt(e)),"handled"):"not-handled"},handleKeyCommand:function(t,e,n,o){var i=o.setEditorState;if(ct.includes(t)&&st(e,r)){var a=e.getSelection().getStartKey(),s=function(t,e){var n=t.getCurrentContent(),r=n.getKeyBefore(e),o=n.getBlockForKey(r);if(void 0===o){var i=new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1});n=j.Modifier.removeRange(n,i,"backward"),n=j.Modifier.setBlockType(n,i,"unstyled");var a=j.EditorState.push(t,n,"remove-range"),s=new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0});return j.EditorState.forceSelection(a,s)}var c=new j.SelectionState({anchorKey:r,anchorOffset:o.getLength(),focusKey:e,focusOffset:1});n=j.Modifier.removeRange(n,c,"backward");var u=j.EditorState.push(t,n,"remove-range"),l=new j.SelectionState({anchorKey:r,anchorOffset:o.getLength(),focusKey:r,focusOffset:o.getLength()});return j.EditorState.forceSelection(u,l)}(e,a);if(s!==e)return i(s),"handled"}return"space"===t&&st(e,r)?"handled":"not-handled"},onChange:function(t){var o=t.getCurrentContent();if(!o.equals(n))return n=o,t;n=o;var i=t.getSelection();if(e&&i.equals(e))return e=t.getSelection(),t;var a=r.getAll();if(e&&ot(o,e.getStartKey(),e.getEndKey()).some((function(t){return a.includes(t)})))return e=i,ut(t);return ot(o,i.getStartKey(),i.getEndKey()).some((function(t){return a.includes(t)}))?(e=i,ut(t)):t},keyBindingFn:function(t,e){var n=e.getEditorState,o=e.setEditorState,i=n();if(st(i,r)){if(32===t.keyCode)return"space";if(37===t.keyCode&&et(n,o,"up",t),39===t.keyCode&&et(n,o,"down",t),38===t.keyCode&&et(n,o,"up",t),40===t.keyCode)return void et(n,o,"down",t)}if(!t.shiftKey){if(37===t.keyCode){var a=i.getSelection(),s=a.getAnchorKey(),c=i.getCurrentContent().getBlockBefore(s);c&&0===a.getAnchorOffset()&&r.includes(c.getKey())&&et(n,o,"up",t)}if(39===t.keyCode){var u=i.getSelection(),l=u.getFocusKey(),f=i.getCurrentContent().getBlockForKey(l),h=i.getCurrentContent().getBlockAfter(l),d="atomic"!==f.getType()&&f.getLength()===u.getFocusOffset();h&&d&&r.includes(h.getKey())&&et(n,o,"down",t)}if(38===t.keyCode){var p=i.getSelection().getAnchorKey(),v=i.getCurrentContent().getBlockBefore(p);v&&r.includes(v.getKey())&&et(n,o,"up",t)}if(40===t.keyCode){var g=i.getSelection().getAnchorKey(),m=i.getCurrentContent().getBlockAfter(g);m&&r.includes(m.getKey())&&et(n,o,"down",t)}}},blockRendererFn:function(t,e){var n=e.getEditorState,r=e.setEditorState;if("atomic"===t.getType()){var o=n();return{props:{isFocused:o.getSelection().getHasFocus()&&it(o,t.getKey()),isCollapsedSelection:o.getSelection().isCollapsed(),setFocusToBlock:function(){!function(t,e,n){var r=t(),o=K.a.encode(n.getKey(),0,0),i=document.querySelectorAll('[data-offset-key="'+o+'"]')[0],a=window.getSelection(),s=document.createRange();s.setStart(i,0),s.setEnd(i,0),a.removeAllRanges(),a.addRange(s),e(j.EditorState.forceSelection(r,new j.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:0,isBackward:!1})))}(n,r,t)}}}}},decorator:rt({theme:o,blockKeyStore:r})}};function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ht(t){void 0===t&&(t={});var e=t,n={};return{subscribeToItem:function(t,e){n[t]=n[t]||[],n[t].push(e)},unsubscribeFromItem:function(t,e){var r=n[t];r&&(n[t]=r.filter((function(t){return t!==e})))},updateItem:function(t,r){var o;e=ft({},e,((o={})[t]=r,o));var i=n[t];i&&i.forEach((function(n){return n(e[t])}))},getItem:function(t){return e[t]}}}function dt(){return(dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pt(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=t.alignment===e?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",dt({children:n},i,{className:a,onClick:function(n){n.preventDefault(),t.setAlignment({alignment:e})},type:"button",role:"button","aria-label":"block align text "+e})))}}pt({alignment:"center",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"default",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"left",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"right",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function vt(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=t.getEditorState&&t.getEditorState().getCurrentInlineStyle().has(e)?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",dt({children:n},i,{className:a,onClick:function(n){if(t.getEditorState){n.preventDefault();var r=["left","center","right"].filter((function(t){return t!==e})),o=t.getEditorState(),i=t.getEditorState().getCurrentContent(),a=t.getEditorState().getSelection(),s=i.getBlockForKey(a.getFocusKey()),c=i.getBlockForKey(a.getAnchorKey()),u=a.getIsBackward(),l={anchorOffset:0,focusOffset:s.getLength()};u&&(l={focusOffset:0,anchorOffset:c.getLength()});var f=a.merge(l),h=j.Modifier.applyInlineStyle(i,f,e),d=r.reduce((function(t,e){return j.Modifier.removeInlineStyle(t,f,e)}),h),p=j.EditorState.push(o,d,"change-inline-style");t.setEditorState(p)}},type:"button",role:"button","aria-label":"text align "+e})))}}vt({alignment:"center",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),vt({alignment:"left",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),vt({alignment:"right",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function gt(t){var e=t.blockType,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=function(){if(!t.getEditorState)return!1;var n=t.getEditorState();return n.getCurrentContent().getBlockForKey(n.getSelection().getStartKey()).getType()===e}()?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",dt({children:n},i,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(j.RichUtils.toggleBlockType(t.getEditorState(),e))},type:"button",role:"button","aria-label":"create "+e})))}}gt({blockType:"blockquote",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function mt(t){var e=t.style,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=t.getEditorState&&t.getEditorState().getCurrentInlineStyle().has(e)?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",dt({children:n},i,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(j.RichUtils.toggleInlineStyle(t.getEditorState(),e))},type:"button",role:"button","aria-label":e+" text"})))}}var yt=mt({style:"BOLD",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),bt=(gt({blockType:"code-block",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),mt({style:"CODE",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))})),_t=(gt({blockType:"header-one",children:"H1"}),gt({blockType:"header-three",children:"H3"}),gt({blockType:"header-two",children:"H2"}),mt({style:"ITALIC",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),k.a.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}))})),wt=(gt({blockType:"ordered-list-item",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),mt({style:"SUBSCRIPT",children:k.a.createElement("div",null,"x",k.a.createElement("sub",null,"2"))}),mt({style:"SUPERSCRIPT",children:k.a.createElement("div",null,"x",k.a.createElement("sup",null,"2"))}),mt({style:"UNDERLINE",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),k.a.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}))}));gt({blockType:"unordered-list-item",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))});function xt(){return(xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function St(t,e){return(St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={overrideContent:void 0},e.onOverrideContent=function(t){return e.setState({overrideContent:t})},e.renderDefaultButtons=function(t){return k.a.createElement("div",null,k.a.createElement(yt,t),k.a.createElement(_t,t),k.a.createElement(wt,t),k.a.createElement(bt,t))},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,St(e,n),r.prototype.render=function(){var t=this.props,e=t.theme,n=t.store,r=t.style,o=this.state.overrideContent,i={theme:e.buttonStyles,getEditorState:n.getItem("getEditorState"),setEditorState:n.getItem("setEditorState"),onOverrideContent:this.onOverrideContent};return k.a.createElement("div",{className:$(e.toolbarStyles.toolbar,"toolbar"),style:r},o?k.a.createElement(o,i):(this.props.children||this.renderDefaultButtons)(i))},r}(k.a.Component);Ct.propTypes={children:E.a.func};function Ot(t){var e=t.className,n=void 0===e?"s12gtd8j":e;return k.a.createElement("div",{className:n})}var kt={buttonStyles:{buttonWrapper:"bi5zjrp",button:"b4lzrh6",active:"a1jb7rp"},toolbarStyles:{toolbar:"t6ostam"}},Mt=n(1204),Et=n(1186),jt=n(1179),It=n(1184);var At=function(t){return"string"==typeof t||!Object(jt.a)(t)&&Object(It.a)(t)&&"[object String]"==Object(Et.a)(t)},Tt=n(1252);function Pt(){return(Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Dt(t,e){return(Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Nt=["blockProps","block","style"],Lt=function(t){var e=t.store;return function(t){var n=k.a.forwardRef((function(n,r){var o=n.blockProps,i=n.block,a=n.style,s=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(n,Nt),c=Object(O.useRef)();Object(O.useEffect)((function(){if(o.isFocused&&o.isCollapsedSelection){var t=c.current.getBoundingClientRect();e.updateItem("setAlignment",o.setAlignment),e.updateItem("alignment",o.alignment),e.updateItem("boundingRect",t),e.updateItem("visibleBlock",i.getKey()),e.updateItem("isEdit",!o.videoId)}else e.getItem("visibleBlock")===i.getKey()&&e.updateItem("visibleBlock",null);return function(){e.updateItem("visibleBlock",null)}}),[o.alignment,o.isFocused,o.isCollapsedSelection,e]);var u=o.alignment,l=a;return"center"===u?l=Pt({},a,{marginLeft:"auto",marginRight:"auto",display:"block"}):"right"===u&&(l=Pt({},a,{marginLeft:"auto",marginRight:0,display:"block"})),k.a.createElement(t,Pt({},s,{block:i,blockProps:o,style:l,ref:function(t){c.current=t,"function"===typeof r?r(t):r&&(r.current=t)}}))}));return n.displayName="Alignment("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",n.WrappedComponent=t.WrappedComponent||t,n}};function Rt(t,e,n,r){if(1===t.getCurrentContent().getBlocksAsArray().filter((function(t){return"atomic"===t.getType()&&t.getKey()===n})).length){var o=t.getCurrentContent(),i=o.getBlockForKey(n),a=new j.SelectionState({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:o.getBlockForKey(n).getLength()}),s=j.Modifier.setBlockData(t.getCurrentContent(),a,i.getData().set(r,e)),c=j.EditorState.push(t,s,"change-block-data");return j.EditorState.forceSelection(c,c.getSelection())}return t}var Bt=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).preventBubblingUp=function(t){t.preventDefault()},e.callback=function(t,n,r){var o=e.props,i=o.getEditorState;(0,o.setEditorState)(Rt(i(),At(t)?t:Pt({},t),n,r))},e.handleClick=function(){var t=e.props,n=t.getProps,r=(0,t.getEditorState)(),o=Object(Tt.getSelectedBlock)(r),i=o.getData(),a=n().onBlockEditClick;Object(Mt.a)(a)&&a(i,o.getKey(),e.callback)},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Dt(e,n),r.prototype.render=function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n,o=$(e.button);return k.a.createElement("div",{className:e.buttonWrapper,onMouseDown:this.preventBubblingUp},k.a.createElement("button",Pt({},r,{className:o,type:"button",onClick:this.handleClick}),k.a.createElement("svg",{viewBox:"0 0 200 200","aria-hidden":"true",focusable:"false",width:"22",height:"22",fill:"currentColor"},k.a.createElement("path",{d:"M178,55.8c-1.1,1.2-2.1,2.3-3,3.2l-2.4,2.4c-0.8,0.8-1.5,1.5-2.2,2l-27-27.2c1.1-1.1,2.4-2.3,4-3.8c1.6-1.5,2.9-2.6,4-3.4 c2.7-2.1,5.5-3.1,8.6-2.8c3.1,0.3,5.5,0.9,7.4,1.8c2,1.1,4.2,2.9,6.7,5.6c2.5,2.7,4.4,5.5,5.7,8.4c0.7,1.9,1.1,4.1,1.3,6.6 C181.3,51.1,180.3,53.5,178,55.8z M101.6,78l31-31l27,27c-11.3,11.3-21.7,21.6-31,30.8c-4,3.9-7.9,7.7-11.7,11.5 c-3.8,3.8-7.3,7.2-10.4,10.2s-5.7,5.5-7.7,7.5l-3.6,3.6c-0.9,0.9-2,1.9-3.2,2.8c-1.2,0.9-2.5,1.7-4,2.4c-1.5,0.7-3.5,1.5-6.1,2.4 c-2.6,0.9-5.3,1.8-8.1,2.7c-2.8,0.9-5.5,1.7-8,2.4c-2.5,0.7-4.5,1.2-5.8,1.3c-2.5,0.3-3.9,0-4.1-0.7c-0.2-0.7-0.1-2.4,0.3-4.9 c0.1-1.3,0.5-3.3,1-5.9c0.5-2.6,1.1-5.2,1.6-7.9c0.5-2.7,1.1-5.2,1.7-7.5c0.6-2.3,1.1-4,1.5-4.9c0.7-1.5,1.4-2.7,2.1-3.8 c0.7-1.1,1.8-2.3,3.1-3.6L101.6,78z M169.4,107c2.8,0,5.5,0.7,8,2c2.5,1.3,3.8,4.1,3.8,8.2v45.4c0,3.7-0.7,7.2-2.1,10.3 c-1.4,3.1-3.3,5.9-5.7,8.2c-2.4,2.3-5.1,4.1-8.2,5.4c-3.1,1.3-6.2,1.9-9.4,1.9H44.2c-3.2,0-6.3-0.7-9.4-2.1 c-3.1-1.4-5.8-3.3-8.1-5.7c-2.3-2.4-4.2-5.2-5.7-8.5c-1.5-3.3-2.2-6.8-2.2-10.5V50.2c0-2.7,0.7-5.4,2.2-8.3 c1.5-2.9,3.4-5.5,5.7-7.8c2.3-2.3,5-4.3,7.9-5.8c2.9-1.5,5.9-2.3,8.8-2.3H90c3.7,0,6.4,1.4,7.9,4.1c1.5,2.7,2.3,5.5,2.3,8.3 s-0.8,5.5-2.3,8.1c-1.5,2.6-4.2,3.9-7.9,3.9H53.4c-2.8,0-5.1,1-6.8,2.9c-1.7,1.9-2.6,4.3-2.6,7.1v94c0,2.7,0.9,4.9,2.6,6.7 s4,2.7,6.8,2.7H146c2.8,0,5.2-0.9,7.2-2.7c2-1.8,3-4,3-6.7v-37.2c0-1.9,0.4-3.5,1.3-4.8c0.9-1.3,1.9-2.4,3.2-3.2 c1.3-0.8,2.7-1.4,4.2-1.7C166.4,107.2,167.9,107,169.4,107L169.4,107z"}))))},r}(O.Component);function zt(t){var e=t.store,n=t.theme,r=Object(O.useState)({}),o=r[0],i=r[1],a=Object(O.useState)(null),s=a[0],c=a[1],u=Object(O.useRef)(null),l=Object(O.useRef)(),f=Object(O.useCallback)((function(t){var n=setTimeout((function(){var n,r=e.getItem("boundingRect"),o=e.getItem("getReadOnly");if(!t||!r||null!=o&&o())n={transform:"translate(-50%) scale(0)"};else{var a=function t(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:t(e.parentElement):null}(u.current.parentElement),s=u.current.clientHeight,f=a?a.getBoundingClientRect():document.body.getBoundingClientRect();n={top:r.top-f.top-s-8,left:r.left-f.left+r.width/2,transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}}var h=e.getItem("alignment")||"default";c(h),i(n),l.current=void 0}),0);l.current=n}),[]),h=Object(O.useCallback)((function(t){t&&c(t)}),[]);Object(O.useEffect)((function(){return function(){l.current&&clearTimeout(l.current)}}),[]),Object(O.useEffect)((function(){return e.subscribeToItem("visibleBlock",f),e.subscribeToItem("alignment",h),function(){e.unsubscribeFromItem("visibleBlock",f),e.unsubscribeFromItem("alignment",h)}}),[f,h]);var d=[];return e.getItem("isEdit")&&d.push(Bt),k.a.createElement("div",{className:n.alignmentToolStyles.alignmentTool,style:o,ref:u},d.map((function(t,r){return k.a.createElement(t,{key:r,alignment:s,setAlignment:e.getItem("setAlignment"),getEditorState:e.getItem("getEditorState"),setEditorState:e.getItem("setEditorState"),getProps:e.getItem("getProps"),theme:n.buttonStyles})})))}var Ft={buttonStyles:{buttonWrapper:"b1xfvqad",button:"b4r941m",active:"a1a1su77"},alignmentToolStyles:{alignmentTool:"auihuri"}},Ht=function(t,e){var n=e.getEditorState,r=e.setEditorState;return function(e){var o=t.getEntityAt(0);if(o){var i=n();i.getCurrentContent().mergeEntityData(o,Pt({},e)),r(j.EditorState.forceSelection(i,i.getSelection()))}}},Ut=n(1180),Wt=Ut.a["__core-js_shared__"],Vt=function(){var t=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var Yt=function(t){return!!Vt&&Vt in t},Gt=n(1175),Xt=Function.prototype.toString;var Zt=function(t){if(null!=t){try{return Xt.call(t)}catch(e){}try{return t+""}catch(e){}}return""},qt=/^\[object .+?Constructor\]$/,Kt=Function.prototype,Qt=Object.prototype,Jt=Kt.toString,$t=Qt.hasOwnProperty,te=RegExp("^"+Jt.call($t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(t){return!(!Object(Gt.a)(t)||Yt(t))&&(Object(Mt.a)(t)?te:qt).test(Zt(t))};var ne=function(t,e){return null==t?void 0:t[e]};var re=function(t,e){var n=ne(t,e);return ee(n)?n:void 0},oe=function(){try{var t=re(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var ie=function(t,e,n){"__proto__"==e&&oe?oe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var ae=function(t,e){return t===e||t!==t&&e!==e},se=Object.prototype.hasOwnProperty;var ce=function(t,e,n){var r=t[e];se.call(t,e)&&ae(r,n)&&(void 0!==n||e in t)||ie(t,e,n)};function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var le=function(t){return"symbol"==ue(t)||Object(It.a)(t)&&"[object Symbol]"==Object(Et.a)(t)};function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/;var pe=function(t,e){if(Object(jt.a)(t))return!1;var n=fe(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!le(t))||(de.test(t)||!he.test(t)||null!=e&&t in Object(e))},ve=re(Object,"create");var ge=function(){this.__data__=ve?ve(null):{},this.size=0};var me=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ye=Object.prototype.hasOwnProperty;var be=function(t){var e=this.__data__;if(ve){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(e,t)?e[t]:void 0},_e=Object.prototype.hasOwnProperty;var we=function(t){var e=this.__data__;return ve?void 0!==e[t]:_e.call(e,t)};var xe=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ve&&void 0===e?"__lodash_hash_undefined__":e,this};function Se(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Se.prototype.clear=ge,Se.prototype.delete=me,Se.prototype.get=be,Se.prototype.has=we,Se.prototype.set=xe;var Ce=Se;var Oe=function(){this.__data__=[],this.size=0};var ke=function(t,e){for(var n=t.length;n--;)if(ae(t[n][0],e))return n;return-1},Me=Array.prototype.splice;var Ee=function(t){var e=this.__data__,n=ke(e,t);return!(n<0)&&(n==e.length-1?e.pop():Me.call(e,n,1),--this.size,!0)};var je=function(t){var e=this.__data__,n=ke(e,t);return n<0?void 0:e[n][1]};var Ie=function(t){return ke(this.__data__,t)>-1};var Ae=function(t,e){var n=this.__data__,r=ke(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Te(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Te.prototype.clear=Oe,Te.prototype.delete=Ee,Te.prototype.get=je,Te.prototype.has=Ie,Te.prototype.set=Ae;var Pe=Te,De=re(Ut.a,"Map");var Ne=function(){this.size=0,this.__data__={hash:new Ce,map:new(De||Pe),string:new Ce}};function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Re=function(t){var e=Le(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Be=function(t,e){var n=t.__data__;return Re(e)?n["string"==typeof e?"string":"hash"]:n.map};var ze=function(t){var e=Be(this,t).delete(t);return this.size-=e?1:0,e};var Fe=function(t){return Be(this,t).get(t)};var He=function(t){return Be(this,t).has(t)};var Ue=function(t,e){var n=Be(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function We(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}We.prototype.clear=Ne,We.prototype.delete=ze,We.prototype.get=Fe,We.prototype.has=He,We.prototype.set=Ue;var Ve=We;function Ye(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ye.Cache||Ve),n}Ye.Cache=Ve;var Ge=Ye;var Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,qe=function(t){var e=Ge(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xe,(function(t,n,r,o){e.push(r?o.replace(Ze,"$1"):n||t)})),e})),Ke=n(1194);var Qe=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},Je=Ke.a?Ke.a.prototype:void 0,$e=Je?Je.toString:void 0;var tn=function t(e){if("string"==typeof e)return e;if(Object(jt.a)(e))return Qe(e,t)+"";if(le(e))return $e?$e.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var en=function(t){return null==t?"":tn(t)};var nn=function(t,e){return Object(jt.a)(t)?t:pe(t,e)?[t]:qe(en(t))},rn=n(1195);var on=function(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var an=function(t,e,n,r){if(!Object(Gt.a)(t))return t;for(var o=-1,i=(e=nn(e,t)).length,a=i-1,s=t;null!=s&&++o<i;){var c=on(e[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Object(Gt.a)(l)?l:Object(rn.a)(e[o+1])?[]:{})}ce(s,c,u),s=s[c]}return t};var sn=function(t,e,n){return null==t?t:an(t,e,n)};var cn=function(t,e){for(var n=0,r=(e=nn(e,t)).length;null!=t&&n<r;)t=t[on(e[n++])];return n&&n==r?t:void 0};var un=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=cn(t,a);n(s,a)&&an(i,nn(a,t),s)}return i};var ln=function(t,e){return null!=t&&e in Object(t)},fn=n(1206),hn=n(1211);var dn=function(t,e,n){for(var r=-1,o=(e=nn(e,t)).length,i=!1;++r<o;){var a=on(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Object(hn.a)(o)&&Object(rn.a)(a,o)&&(Object(jt.a)(t)||Object(fn.a)(t))};var pn=function(t,e){return null!=t&&dn(t,e,ln)};var vn=function(t,e){return un(t,e,(function(e,n){return pn(t,n)}))};var gn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},mn=Ke.a?Ke.a.isConcatSpreadable:void 0;var yn=function(t){return Object(jt.a)(t)||Object(fn.a)(t)||!!(mn&&t&&t[mn])};var bn=function t(e,n,r,o,i){var a=-1,s=e.length;for(r||(r=yn),i||(i=[]);++a<s;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,o,i):gn(i,c):o||(i[i.length]=c)}return i};var _n=function(t){return(null==t?0:t.length)?bn(t,1):[]};var wn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},xn=Math.max;var Sn=function(t,e,n){return e=xn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=xn(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),wn(t,this,s)}};var Cn=function(t){return function(){return t}};var On=function(t){return t},kn=oe?function(t,e){return oe(t,"toString",{configurable:!0,enumerable:!1,value:Cn(e),writable:!0})}:On,Mn=Date.now;var En=function(t){var e=0,n=0;return function(){var r=Mn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(kn);var jn=function(t){return En(Sn(t,void 0,_n),t+"")}((function(t,e){return null==t?{}:vn(t,e)}));var In=function(t,e,n){var r=null==t?void 0:cn(t,e);return void 0===r?n:r},An=n(1276),Tn=n.n(An),Pn=n(1309),Dn=n.n(Pn),Nn=n(4),Ln=n(36),Rn=n(91),Bn=n(92),zn=n(101),Fn=n(183),Hn=n(118);function Un(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Un=function(){return!!t})()}var Wn=n(163);function Vn(t){var e=Un();return function(){var n,r=Object(Hn.a)(t);if(e){var o=Object(Hn.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(Wn.a)(this,n)}}var Yn=n(90),Gn=n(264),Xn=n(1174),Zn=n(69);function qn(){qn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Object(Zn.a)(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Object(Zn.a)(e)+" is not iterable")}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Kn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function Qn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Kn(i,r,o,a,s,"next",t)}function s(t){Kn(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Jn=n(267);var $n=n(356),tr=n(349);function er(t){return function(t){if(Array.isArray(t))return Object(Jn.a)(t)}(t)||Object($n.a)(t)||Object(tr.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nr="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function rr(t,e){return 0===t.indexOf(e)}function or(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Object(Gn.a)({},n);var r={};return Object.keys(t).forEach((function(n){(e.aria&&("role"===n||rr(n,"aria-"))||e.data&&rr(n,"data-")||e.attr&&nr.includes(n))&&(r[n]=t[n])})),r}var ir=n(1178),ar=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",o=t.type||"",i=o.replace(/\/.*$/,"");return n.some((function(t){var e=t.trim();if(/^\*(\/\*)?$/.test(t))return!0;if("."===e.charAt(0)){var n=r.toLowerCase(),a=e.toLowerCase(),s=[a];return".jpg"!==a&&".jpeg"!==a||(s=[".jpg",".jpeg"]),s.some((function(t){return n.endsWith(t)}))}return/\/\*$/.test(e)?i===e.replace(/\/.*$/,""):o===e||!!/^\w+$/.test(e)&&(Object(ir.a)(!1,"Upload takes an invalidate 'accept' type '".concat(e,"'.Skip for check.")),!0)}))}return!0};function sr(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function cr(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append("".concat(e,"[]"),t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),sr(e)):t.onSuccess(sr(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}var ur=function(t,e,n){var r=function t(r,o){r&&(r.path=o||"",r.isFile?r.file((function(t){n(t)&&(r.fullPath&&!t.webkitRelativePath&&(Object.defineProperties(t,{webkitRelativePath:{writable:!0}}),t.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(t,{webkitRelativePath:{writable:!1}})),e([t]))})):r.isDirectory&&function(t,e){var n=t.createReader(),r=[];!function t(){n.readEntries((function(n){var o=Array.prototype.slice.apply(n);r=r.concat(o),!o.length?e(r):t()}))}()}(r,(function(e){e.forEach((function(e){t(e,"".concat(o).concat(r.name,"/"))}))})))};t.forEach((function(t){r(t.webkitGetAsEntry())}))},lr=+new Date,fr=0;function hr(){return"rc-upload-".concat(lr,"-").concat(++fr)}var dr=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],pr=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){var t;Object(Rn.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Object(Yn.a)(Object(zn.a)(t),"state",{uid:hr()}),Object(Yn.a)(Object(zn.a)(t),"reqs",{}),Object(Yn.a)(Object(zn.a)(t),"fileInput",void 0),Object(Yn.a)(Object(zn.a)(t),"_isMounted",void 0),Object(Yn.a)(Object(zn.a)(t),"onChange",(function(e){var n=t.props,r=n.accept,o=n.directory,i=er(e.target.files).filter((function(t){return!o||ar(t,r)}));t.uploadFiles(i),t.reset()})),Object(Yn.a)(Object(zn.a)(t),"onClick",(function(e){var n=t.fileInput;if(n){var r=e.target,o=t.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),o&&o(e)}})),Object(Yn.a)(Object(zn.a)(t),"onKeyDown",(function(e){"Enter"===e.key&&t.onClick(e)})),Object(Yn.a)(Object(zn.a)(t),"onFileDrop",(function(e){var n=t.props.multiple;if(e.preventDefault(),"dragover"!==e.type)if(t.props.directory)ur(Array.prototype.slice.call(e.dataTransfer.items),t.uploadFiles,(function(e){return ar(e,t.props.accept)}));else{var r=er(e.dataTransfer.files).filter((function(e){return ar(e,t.props.accept)}));!1===n&&(r=r.slice(0,1)),t.uploadFiles(r)}})),Object(Yn.a)(Object(zn.a)(t),"uploadFiles",(function(e){var n=er(e),r=n.map((function(e){return e.uid=hr(),t.processFile(e,n)}));Promise.all(r).then((function(e){var n=t.props.onBatchStart;null===n||void 0===n||n(e.map((function(t){return{file:t.origin,parsedFile:t.parsedFile}}))),e.filter((function(t){return null!==t.parsedFile})).forEach((function(e){t.post(e)}))}))})),Object(Yn.a)(Object(zn.a)(t),"processFile",function(){var e=Qn(qn().mark((function e(n,r){var o,i,a,s,c,u,l,f,h;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.props.beforeUpload,i=n,!o){e.next=14;break}return e.prev=3,e.next=6,o(n,r);case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=!1;case 12:if(!1!==i){e.next=14;break}return e.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(a=t.props.action)){e.next=21;break}return e.next=18,a(n);case 18:s=e.sent,e.next=22;break;case 21:s=a;case 22:if("function"!==typeof(c=t.props.data)){e.next=29;break}return e.next=26,c(n);case 26:u=e.sent,e.next=30;break;case 29:u=c;case 30:return l="object"!==Object(Zn.a)(i)&&"string"!==typeof i||!i?n:i,f=l instanceof File?l:new File([l],n.name,{type:n.type}),(h=f).uid=n.uid,e.abrupt("return",{origin:n,data:u,parsedFile:h,action:s});case 35:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(Yn.a)(Object(zn.a)(t),"saveFileInput",(function(e){t.fileInput=e})),t}return Object(Bn.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(t){var e=this,n=t.data,r=t.origin,o=t.action,i=t.parsedFile;if(this._isMounted){var a=this.props,s=a.onStart,c=a.customRequest,u=a.name,l=a.headers,f=a.withCredentials,h=a.method,d=r.uid,p=c||cr,v={action:o,filename:u,data:n,file:i,headers:l,withCredentials:f,method:h||"post",onProgress:function(t){var n=e.props.onProgress;null===n||void 0===n||n(t,i)},onSuccess:function(t,n){var r=e.props.onSuccess;null===r||void 0===r||r(t,i,n),delete e.reqs[d]},onError:function(t,n){var r=e.props.onError;null===r||void 0===r||r(t,n,i),delete e.reqs[d]}};s(r),this.reqs[d]=p(v)}}},{key:"reset",value:function(){this.setState({uid:hr()})}},{key:"abort",value:function(t){var e=this.reqs;if(t){var n=t.uid?t.uid:t;e[n]&&e[n].abort&&e[n].abort(),delete e[n]}else Object.keys(e).forEach((function(t){e[t]&&e[t].abort&&e[t].abort(),delete e[t]}))}},{key:"render",value:function(){var t,e=this.props,n=e.component,r=e.prefixCls,o=e.className,i=e.classNames,a=void 0===i?{}:i,s=e.disabled,c=e.id,u=e.style,l=e.styles,f=void 0===l?{}:l,h=e.multiple,d=e.accept,p=e.capture,v=e.children,g=e.directory,m=e.openFileDialogOnClick,y=e.onMouseEnter,b=e.onMouseLeave,_=e.hasControlInside,w=Object(Xn.a)(e,dr),x=C()((t={},Object(Yn.a)(t,r,!0),Object(Yn.a)(t,"".concat(r,"-disabled"),s),Object(Yn.a)(t,o,o),t)),S=g?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},O=s?{}:{onClick:m?this.onClick:function(){},onKeyDown:m?this.onKeyDown:function(){},onMouseEnter:y,onMouseLeave:b,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:_?void 0:"0"};return k.a.createElement(n,Object(Ln.a)({},O,{className:x,role:_?void 0:"button",style:u}),k.a.createElement("input",Object(Ln.a)({},or(w,{aria:!0,data:!0}),{id:c,disabled:s,type:"file",ref:this.saveFileInput,onClick:function(t){return t.stopPropagation()},key:this.state.uid,style:Object(Gn.a)({display:"none"},f.input),className:a.input,accept:d},S,{multiple:h,onChange:this.onChange},null!=p?{capture:p}:{})),v)}}]),n}(O.Component);function vr(){}var gr=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){var t;Object(Rn.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),Object(Yn.a)(Object(zn.a)(t),"uploader",void 0),Object(Yn.a)(Object(zn.a)(t),"saveUploader",(function(e){t.uploader=e})),t}return Object(Bn.a)(n,[{key:"abort",value:function(t){this.uploader.abort(t)}},{key:"render",value:function(){return k.a.createElement(pr,Object(Ln.a)({},this.props,{ref:this.saveUploader}))}}]),n}(O.Component);Object(Yn.a)(gr,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:vr,onError:vr,onSuccess:vr,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var mr,yr=gr,br=localStorage.getItem("school_domain"),_r={iResource:"https://"+(mr=br)+".ai-augmented.com/api/jx-iresource",oResource:"https://"+mr+".ai-augmented.com/api/jx-oresource",oss:"tst-ccnu"===mr?"http://all-for-test.oss-cn-shanghai.aliyuncs.com":"https://aia-publication.oss-cn-shanghai.aliyuncs.com",i:"tst-ccnu"===mr?29357:29353,key:"tst-ccnu"===mr?59894985:94374647,iv:"tst-ccnu"===mr?29393376:99526255},wr=n(346),xr=n.n(wr),Sr=n(135),Cr=n.n(Sr),Or=n(355);var kr=n(357);function Mr(t,e){return Object(Or.a)(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Object(tr.a)(t,e)||Object(kr.a)()}var Er=n(46),jr=n.n(Er),Ir=n(1190),Ar=n(1253);function Tr(t,e,n){var r=O.useRef({});return"value"in r.current&&!n(r.current.condition,e)||(r.current.value=t(),r.current.condition=e),r.current.value}var Pr=function(t,e){"function"===typeof t?t(e):"object"===Object(Zn.a)(t)&&t&&"current"in t&&(t.current=e)},Dr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){e.forEach((function(e){Pr(e,t)}))}},Nr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tr((function(){return Dr.apply(void 0,e)}),e,(function(t,e){return t.length!==e.length||t.every((function(t,n){return t!==e[n]}))}))},Lr=function(t){var e,n,r=Object(Ar.isMemo)(t)?t.type.type:t.type;return!!("function"!==typeof r||null!==(e=r.prototype)&&void 0!==e&&e.render||r.$$typeof===Ar.ForwardRef)&&!!("function"!==typeof t||null!==(n=t.prototype)&&void 0!==n&&n.render||t.$$typeof===Ar.ForwardRef)},Rr=O.createContext(null),Br=Object(Ir.a)()?O.useLayoutEffect:O.useEffect,zr=function(t,e){var n=O.useRef(!0);Br((function(){return t(n.current)}),e),Br((function(){return n.current=!1,function(){n.current=!0}}),[])},Fr=function(t,e){zr((function(e){if(!e)return t()}),e)},Hr=zr,Ur=[];var Wr=n(1281);function Vr(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",t){var a=getComputedStyle(t);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),c=parseInt(s.width,10),u=parseInt(s.height,10);try{var l=c?"width: ".concat(s.width,";"):"",f=u?"height: ".concat(s.height,";"):"";Object(Wr.b)("\n#".concat(e,"::-webkit-scrollbar {\n").concat(l,"\n").concat(f,"\n}"),e)}catch(p){console.error(p),r=c,o=u}}document.body.appendChild(n);var h=t&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,d=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Object(Wr.a)(e),{width:h,height:d}}var Yr="rc-util-locker-".concat(Date.now()),Gr=0;function Xr(t){var e=!!t,n=Mr(O.useState((function(){return Gr+=1,"".concat(Yr,"_").concat(Gr)})),1)[0];Hr((function(){if(e){var t=(o=document.body,"undefined"!==typeof document&&o&&o instanceof Element?Vr(o):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Object(Wr.b)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else Object(Wr.a)(n);var o;return function(){Object(Wr.a)(n)}}),[e,n])}var Zr=!1;var qr=function(t){return!1!==t&&(Object(Ir.a)()&&t?"string"===typeof t?document.querySelector(t):"function"===typeof t?t():t:null)};var Kr=O.forwardRef((function(t,e){var n=t.open,r=t.autoLock,o=t.getContainer,i=(t.debug,t.autoDestroy),a=void 0===i||i,s=t.children,c=Mr(O.useState(n),2),u=c[0],l=c[1],f=u||n;O.useEffect((function(){(a||n)&&l(n)}),[n,a]);var h=Mr(O.useState((function(){return qr(o)})),2),d=h[0],p=h[1];O.useEffect((function(){var t=qr(o);p(null!==t&&void 0!==t?t:null)}));var v=function(t,e){var n=Mr(O.useState((function(){return Object(Ir.a)()?document.createElement("div"):null})),1)[0],r=O.useRef(!1),o=O.useContext(Rr),i=Mr(O.useState(Ur),2),a=i[0],s=i[1],c=o||(r.current?void 0:function(t){s((function(e){return[t].concat(er(e))}))});function u(){n.parentElement||document.body.appendChild(n),r.current=!0}function l(){var t;null===(t=n.parentElement)||void 0===t||t.removeChild(n),r.current=!1}return Hr((function(){return t?o?o(u):u():l(),l}),[t]),Hr((function(){a.length&&(a.forEach((function(t){return t()})),s(Ur))}),[a]),[n,c]}(f&&!d),g=Mr(v,2),m=g[0],y=g[1],b=null!==d&&void 0!==d?d:m;Xr(r&&n&&Object(Ir.a)()&&(b===m||b===document.body));var _=null;s&&Lr(s)&&e&&(_=s.ref);var w=Nr(_,e);if(!f||!Object(Ir.a)()||void 0===d)return null;var x,S=!1===b||("boolean"===typeof x&&(Zr=x),Zr),C=s;return e&&(C=O.cloneElement(s,{ref:w})),O.createElement(Rr.Provider,{value:y},S?C:Object(Er.createPortal)(C,b))})),Qr=O.createContext({}),Jr=n(1248);var $r=0;var to=Object(Gn.a)({},O).useId,eo=to?function(t){var e=to();return t||e}:function(t){var e=Mr(O.useState("ssr-id"),2),n=e[0],r=e[1];return O.useEffect((function(){var t=$r;$r+=1,r("rc_unique_".concat(t))}),[]),t||n},no={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=no.F1&&e<=no.F12)return!1;switch(e){case no.ALT:case no.CAPS_LOCK:case no.CONTEXT_MENU:case no.CTRL:case no.DOWN:case no.END:case no.ESC:case no.HOME:case no.INSERT:case no.LEFT:case no.MAC_FF_META:case no.META:case no.NUMLOCK:case no.NUM_CENTER:case no.PAGE_DOWN:case no.PAGE_UP:case no.PAUSE:case no.PRINT_SCREEN:case no.RIGHT:case no.SHIFT:case no.UP:case no.WIN_KEY:case no.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=no.ZERO&&t<=no.NINE)return!0;if(t>=no.NUM_ZERO&&t<=no.NUM_MULTIPLY)return!0;if(t>=no.A&&t<=no.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case no.SPACE:case no.QUESTION_MARK:case no.NUM_PLUS:case no.NUM_MINUS:case no.NUM_PERIOD:case no.NUM_DIVISION:case no.SEMICOLON:case no.DASH:case no.EQUALS:case no.COMMA:case no.PERIOD:case no.SLASH:case no.APOSTROPHE:case no.SINGLE_QUOTE:case no.OPEN_SQUARE_BRACKET:case no.BACKSLASH:case no.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ro=no;function oo(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function io(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!==typeof n){var o=t.document;"number"!==typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function ao(t){return t instanceof HTMLElement||t instanceof SVGElement}function so(t){return ao(t)?t:t instanceof k.a.Component?jr.a.findDOMNode(t):null}var co=O.createContext({});var uo=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O.Component);function lo(t){var e=O.useRef(!1),n=Mr(O.useState(t),2),r=n[0],o=n[1];return O.useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),[r,function(t,n){n&&e.current||o(t)}]}function fo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}var ho=function(t,e){var n={animationend:fo("Animation","AnimationEnd"),transitionend:fo("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(Object(Ir.a)(),"undefined"!==typeof window?window:{}),po={};if(Object(Ir.a)()){var vo=document.createElement("div");po=vo.style}var go={};function mo(t){if(go[t])return go[t];var e=ho[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(e,i)&&i in po)return go[t]=e[i],go[t]}return""}var yo=mo("animationend"),bo=mo("transitionend"),_o=!(!yo||!bo),wo=yo||"animationend",xo=bo||"transitionend";function So(t,e){return t?"object"===Object(Zn.a)(t)?t[e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}))]:"".concat(t,"-").concat(e):null}var Co=Object(Ir.a)()?O.useLayoutEffect:O.useEffect,Oo=function(t){return+setTimeout(t,16)},ko=function(t){return clearTimeout(t)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Oo=function(t){return window.requestAnimationFrame(t)},ko=function(t){return window.cancelAnimationFrame(t)});var Mo=0,Eo=new Map;function jo(t){Eo.delete(t)}var Io=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Mo+=1;function r(e){if(0===e)jo(n),t();else{var o=Oo((function(){r(e-1)}));Eo.set(n,o)}}return r(e),n};Io.cancel=function(t){var e=Eo.get(t);return jo(t),ko(e)};var Ao=Io,To=["prepare","start","active","end"],Po=["prepare","prepared"];function Do(t){return"active"===t||"end"===t}var No=function(t,e,n){var r=Mr(lo("none"),2),o=r[0],i=r[1],a=Mr(function(){var t=O.useRef(null);function e(){Ao.cancel(t.current)}return O.useEffect((function(){return function(){e()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e();var i=Ao((function(){o<=1?r({isCanceled:function(){return i!==t.current}}):n(r,o-1)}));t.current=i},e]}(),2),s=a[0],c=a[1];var u=e?Po:To;return Co((function(){if("none"!==o&&"end"!==o){var t=u.indexOf(o),e=u[t+1],r=n(o);!1===r?i(e,!0):e&&s((function(t){function n(){t.isCanceled()||i(e,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,o]),O.useEffect((function(){return function(){c()}}),[]),[function(){i("prepare",!0)},o]};function Lo(t,e,n,r){var o=r.motionEnter,i=void 0===o||o,a=r.motionAppear,s=void 0===a||a,c=r.motionLeave,u=void 0===c||c,l=r.motionDeadline,f=r.motionLeaveImmediately,h=r.onAppearPrepare,d=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,g=r.onEnterStart,m=r.onLeaveStart,y=r.onAppearActive,b=r.onEnterActive,_=r.onLeaveActive,w=r.onAppearEnd,x=r.onEnterEnd,S=r.onLeaveEnd,C=r.onVisibleChanged,k=Mr(lo(),2),M=k[0],E=k[1],j=Mr(lo("none"),2),I=j[0],A=j[1],T=Mr(lo(null),2),P=T[0],D=T[1],N=Object(O.useRef)(!1),L=Object(O.useRef)(null);function R(){return n()}var B=Object(O.useRef)(!1);function z(){A("none",!0),D(null,!0)}function F(t){var e=R();if(!t||t.deadline||t.target===e){var n,r=B.current;"appear"===I&&r?n=null===w||void 0===w?void 0:w(e,t):"enter"===I&&r?n=null===x||void 0===x?void 0:x(e,t):"leave"===I&&r&&(n=null===S||void 0===S?void 0:S(e,t)),"none"!==I&&r&&!1!==n&&z()}}var H=Mr(function(t){var e=Object(O.useRef)(),n=Object(O.useRef)(t);n.current=t;var r=O.useCallback((function(t){n.current(t)}),[]);function o(t){t&&(t.removeEventListener(xo,r),t.removeEventListener(wo,r))}return O.useEffect((function(){return function(){o(e.current)}}),[]),[function(t){e.current&&e.current!==t&&o(e.current),t&&t!==e.current&&(t.addEventListener(xo,r),t.addEventListener(wo,r),e.current=t)},o]}(F),1)[0],U=function(t){var e,n,r;switch(t){case"appear":return e={},Object(Yn.a)(e,"prepare",h),Object(Yn.a)(e,"start",v),Object(Yn.a)(e,"active",y),e;case"enter":return n={},Object(Yn.a)(n,"prepare",d),Object(Yn.a)(n,"start",g),Object(Yn.a)(n,"active",b),n;case"leave":return r={},Object(Yn.a)(r,"prepare",p),Object(Yn.a)(r,"start",m),Object(Yn.a)(r,"active",_),r;default:return{}}},W=O.useMemo((function(){return U(I)}),[I]),V=Mr(No(I,!t,(function(t){if("prepare"===t){var e=W.prepare;return!!e&&e(R())}var n;G in W&&D((null===(n=W[G])||void 0===n?void 0:n.call(W,R(),null))||null);return"active"===G&&(H(R()),l>0&&(clearTimeout(L.current),L.current=setTimeout((function(){F({deadline:!0})}),l))),"prepared"===G&&z(),!0})),2),Y=V[0],G=V[1],X=Do(G);B.current=X,Co((function(){E(e);var n,r=N.current;N.current=!0,!r&&e&&s&&(n="appear"),r&&e&&i&&(n="enter"),(r&&!e&&u||!r&&f&&!e&&u)&&(n="leave");var o=U(n);n&&(t||o.prepare)?(A(n),Y()):A("none")}),[e]),Object(O.useEffect)((function(){("appear"===I&&!s||"enter"===I&&!i||"leave"===I&&!u)&&A("none")}),[s,i,u]),Object(O.useEffect)((function(){return function(){N.current=!1,clearTimeout(L.current)}}),[]);var Z=O.useRef(!1);Object(O.useEffect)((function(){M&&(Z.current=!0),void 0!==M&&"none"===I&&((Z.current||M)&&(null===C||void 0===C||C(M)),Z.current=!0)}),[M,I]);var q=P;return W.prepare&&"start"===G&&(q=Object(Gn.a)({transition:"none"},q)),[I,G,q,null!==M&&void 0!==M?M:e]}var Ro=function(t){var e=t;"object"===Object(Zn.a)(t)&&(e=t.transitionSupport);var n=O.forwardRef((function(t,n){var r=t.visible,o=void 0===r||r,i=t.removeOnLeave,a=void 0===i||i,s=t.forceRender,c=t.children,u=t.motionName,l=t.leavedClassName,f=t.eventProps,h=function(t,n){return!(!t.motionName||!e||!1===n)}(t,O.useContext(co).motion),d=Object(O.useRef)(),p=Object(O.useRef)();var v=Mr(Lo(h,o,(function(){try{return d.current instanceof HTMLElement?d.current:so(p.current)}catch(t){return null}}),t),4),g=v[0],m=v[1],y=v[2],b=v[3],_=O.useRef(b);b&&(_.current=!0);var w,x=O.useCallback((function(t){d.current=t,Pr(n,t)}),[n]),S=Object(Gn.a)(Object(Gn.a)({},f),{},{visible:o});if(c)if("none"===g)w=b?c(Object(Gn.a)({},S),x):!a&&_.current&&l?c(Object(Gn.a)(Object(Gn.a)({},S),{},{className:l}),x):s||!a&&!l?c(Object(Gn.a)(Object(Gn.a)({},S),{},{style:{display:"none"}}),x):null;else{var k,M;"prepare"===m?M="prepare":Do(m)?M="active":"start"===m&&(M="start");var E=So(u,"".concat(g,"-").concat(M));w=c(Object(Gn.a)(Object(Gn.a)({},S),{},{className:C()(So(u,g),(k={},Object(Yn.a)(k,E,E&&M),Object(Yn.a)(k,u,"string"===typeof u),k)),style:y}),x)}else w=null;O.isValidElement(w)&&Lr(w)&&(w.ref||(w=O.cloneElement(w,{ref:x})));return O.createElement(uo,{ref:p},w)}));return n.displayName="CSSMotion",n}(_o);function Bo(t){var e;return e=t&&"object"===Object(Zn.a)(t)&&"key"in t?t:{key:t},Object(Gn.a)(Object(Gn.a)({},e),{},{key:String(e.key)})}function zo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(Bo)}function Fo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=e.length,i=zo(t),a=zo(e);i.forEach((function(t){for(var e=!1,i=r;i<o;i+=1){var s=a[i];if(s.key===t.key){r<i&&(n=n.concat(a.slice(r,i).map((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{status:"add"})}))),r=i),n.push(Object(Gn.a)(Object(Gn.a)({},s),{},{status:"keep"})),r+=1,e=!0;break}}e||n.push(Object(Gn.a)(Object(Gn.a)({},t),{},{status:"remove"}))})),r<o&&(n=n.concat(a.slice(r).map((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{status:"add"})}))));var s={};n.forEach((function(t){var e=t.key;s[e]=(s[e]||0)+1}));var c=Object.keys(s).filter((function(t){return s[t]>1}));return c.forEach((function(t){(n=n.filter((function(e){var n=e.key,r=e.status;return n!==t||"remove"!==r}))).forEach((function(e){e.key===t&&(e.status="keep")}))})),n}var Ho=["component","children","onVisibleChanged","onAllRemoved"],Uo=["status"],Wo=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro,n=function(t){Object(Fn.a)(r,t);var n=Vn(r);function r(){var t;Object(Rn.a)(this,r);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=n.call.apply(n,[this].concat(o)),Object(Yn.a)(Object(zn.a)(t),"state",{keyEntities:[]}),Object(Yn.a)(Object(zn.a)(t),"removeKey",(function(e){var n=t.state.keyEntities.map((function(t){return t.key!==e?t:Object(Gn.a)(Object(Gn.a)({},t),{},{status:"removed"})}));return t.setState({keyEntities:n}),n.filter((function(t){return"removed"!==t.status})).length})),t}return Object(Bn.a)(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=r.onVisibleChanged,s=r.onAllRemoved,c=Object(Xn.a)(r,Ho),u=o||O.Fragment,l={};return Wo.forEach((function(t){l[t]=c[t],delete c[t]})),delete c.keys,O.createElement(u,c,n.map((function(n,r){var o=n.status,c=Object(Xn.a)(n,Uo),u="add"===o||"keep"===o;return O.createElement(e,Object(Ln.a)({},l,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(e){(null===a||void 0===a||a(e,{key:c.key}),e)||0===t.removeKey(c.key)&&s&&s()}}),(function(t,e){return i(Object(Gn.a)(Object(Gn.a)({},t),{},{index:r}),e)}))})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.keys,r=e.keyEntities,o=zo(n);return{keyEntities:Fo(r,o).filter((function(t){var e=r.find((function(e){var n=e.key;return t.key===n}));return!e||"removed"!==e.status||"remove"!==t.status}))}}}]),r}(O.Component);Object(Yn.a)(n,"defaultProps",{component:"div"})}(_o);var Vo=Ro,Yo=O.memo((function(t){return t.children}),(function(t,e){return!e.shouldUpdate})),Go={width:0,height:0,overflow:"hidden",outline:"none"},Xo={outline:"none"};var Zo=k.a.forwardRef((function(t,e){var n=t.prefixCls,r=t.className,o=t.style,i=t.title,a=t.ariaId,s=t.footer,c=t.closable,u=t.closeIcon,l=t.onClose,f=t.children,h=t.bodyStyle,d=t.bodyProps,p=t.modalRender,v=t.onMouseDown,g=t.onMouseUp,m=t.holderRef,y=t.visible,b=t.forceRender,_=t.width,w=t.height,x=t.classNames,S=t.styles,M=k.a.useContext(Qr).panel,E=Nr(m,M),j=Object(O.useRef)(),I=Object(O.useRef)(),A=Object(O.useRef)();k.a.useImperativeHandle(e,(function(){return{focus:function(){var t;null===(t=A.current)||void 0===t||t.focus()},changeActive:function(t){var e=document.activeElement;t&&e===I.current?j.current.focus():t||e!==j.current||I.current.focus()}}}));var T,P,D={};void 0!==_&&(D.width=_),void 0!==w&&(D.height=w),s&&(T=k.a.createElement("div",{className:C()("".concat(n,"-footer"),null===x||void 0===x?void 0:x.footer),style:Object(Gn.a)({},null===S||void 0===S?void 0:S.footer)},s)),i&&(P=k.a.createElement("div",{className:C()("".concat(n,"-header"),null===x||void 0===x?void 0:x.header),style:Object(Gn.a)({},null===S||void 0===S?void 0:S.header)},k.a.createElement("div",{className:"".concat(n,"-title"),id:a},i)));var N,L=Object(O.useMemo)((function(){return"object"===Object(Zn.a)(c)&&null!==c?c:c?{closeIcon:null!==u&&void 0!==u?u:k.a.createElement("span",{className:"".concat(n,"-close-x")})}:{}}),[c,u]),R=or(L,!0);c&&(N=k.a.createElement("button",Object(Ln.a)({type:"button",onClick:l,"aria-label":"Close"},R,{className:"".concat(n,"-close")}),L.closeIcon));var B=k.a.createElement("div",{className:C()("".concat(n,"-content"),null===x||void 0===x?void 0:x.content),style:null===S||void 0===S?void 0:S.content},N,P,k.a.createElement("div",Object(Ln.a)({className:C()("".concat(n,"-body"),null===x||void 0===x?void 0:x.body),style:Object(Gn.a)(Object(Gn.a)({},h),null===S||void 0===S?void 0:S.body)},d),f),T);return k.a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?a:null,"aria-modal":"true",ref:E,style:Object(Gn.a)(Object(Gn.a)({},o),D),className:C()(n,r),onMouseDown:v,onMouseUp:g},k.a.createElement("div",{tabIndex:0,ref:j,style:Go,"aria-hidden":"true"}),k.a.createElement("div",{ref:A,tabIndex:-1,style:Xo},k.a.createElement(Yo,{shouldUpdate:y||b},p?p(B):B)),k.a.createElement("div",{tabIndex:0,ref:I,style:Go,"aria-hidden":"true"}))})),qo=O.forwardRef((function(t,e){var n=t.prefixCls,r=t.title,o=t.style,i=t.className,a=t.visible,s=t.forceRender,c=t.destroyOnClose,u=t.motionName,l=t.ariaId,f=t.onVisibleChanged,h=t.mousePosition,d=Object(O.useRef)(),p=Mr(O.useState(),2),v=p[0],g=p[1],m={};function y(){var t=function(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=io(o),n.top+=io(o,!0),n}(d.current);g(h?"".concat(h.x-t.left,"px ").concat(h.y-t.top,"px"):"")}return v&&(m.transformOrigin=v),O.createElement(Vo,{visible:a,onVisibleChanged:f,onAppearPrepare:y,onEnterPrepare:y,forceRender:s,motionName:u,removeOnLeave:c,ref:d},(function(a,s){var c=a.className,u=a.style;return O.createElement(Zo,Object(Ln.a)({},t,{ref:e,title:r,ariaId:l,prefixCls:n,holderRef:s,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({},u),o),m),className:C()(i,c)}))}))}));qo.displayName="Content";var Ko=qo;function Qo(t){var e=t.prefixCls,n=t.style,r=t.visible,o=t.maskProps,i=t.motionName,a=t.className;return O.createElement(Vo,{key:"mask",visible:r,motionName:i,leavedClassName:"".concat(e,"-mask-hidden")},(function(t,r){var i=t.className,s=t.style;return O.createElement("div",Object(Ln.a)({ref:r,style:Object(Gn.a)(Object(Gn.a)({},s),n),className:C()("".concat(e,"-mask"),i,a)},o))}))}function Jo(t){var e=t.prefixCls,n=void 0===e?"rc-dialog":e,r=t.zIndex,o=t.visible,i=void 0!==o&&o,a=t.keyboard,s=void 0===a||a,c=t.focusTriggerAfterClose,u=void 0===c||c,l=t.wrapStyle,f=t.wrapClassName,h=t.wrapProps,d=t.onClose,p=t.afterOpenChange,v=t.afterClose,g=t.transitionName,m=t.animation,y=t.closable,b=void 0===y||y,_=t.mask,w=void 0===_||_,x=t.maskTransitionName,S=t.maskAnimation,k=t.maskClosable,M=void 0===k||k,E=t.maskStyle,j=t.maskProps,I=t.rootClassName,A=t.classNames,T=t.styles;var P=Object(O.useRef)(),D=Object(O.useRef)(),N=Object(O.useRef)(),L=Mr(O.useState(i),2),R=L[0],B=L[1],z=eo();function F(t){null===d||void 0===d||d(t)}var H=Object(O.useRef)(!1),U=Object(O.useRef)(),W=null;return M&&(W=function(t){H.current?H.current=!1:D.current===t.target&&F(t)}),Object(O.useEffect)((function(){i&&(B(!0),Object(Jr.a)(D.current,document.activeElement)||(P.current=document.activeElement))}),[i]),Object(O.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]),O.createElement("div",Object(Ln.a)({className:C()("".concat(n,"-root"),I)},or(t,{data:!0})),O.createElement(Qo,{prefixCls:n,visible:w&&i,motionName:oo(n,x,S),style:Object(Gn.a)(Object(Gn.a)({zIndex:r},E),null===T||void 0===T?void 0:T.mask),maskProps:j,className:null===A||void 0===A?void 0:A.mask}),O.createElement("div",Object(Ln.a)({tabIndex:-1,onKeyDown:function(t){if(s&&t.keyCode===ro.ESC)return t.stopPropagation(),void F(t);i&&t.keyCode===ro.TAB&&N.current.changeActive(!t.shiftKey)},className:C()("".concat(n,"-wrap"),f,null===A||void 0===A?void 0:A.wrapper),ref:D,onClick:W,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({zIndex:r},l),null===T||void 0===T?void 0:T.wrapper),{},{display:R?null:"none"})},h),O.createElement(Ko,Object(Ln.a)({},t,{onMouseDown:function(){clearTimeout(U.current),H.current=!0},onMouseUp:function(){U.current=setTimeout((function(){H.current=!1}))},ref:N,closable:b,ariaId:z,prefixCls:n,visible:i&&R,onClose:F,onVisibleChanged:function(t){if(t)!function(){var t;Object(Jr.a)(D.current,document.activeElement)||null===(t=N.current)||void 0===t||t.focus()}();else{if(B(!1),w&&P.current&&u){try{P.current.focus({preventScroll:!0})}catch(e){}P.current=null}R&&(null===v||void 0===v||v())}null===p||void 0===p||p(t)},motionName:oo(n,g,m)}))))}var $o=function(t){var e=t.visible,n=t.getContainer,r=t.forceRender,o=t.destroyOnClose,i=void 0!==o&&o,a=t.afterClose,s=t.panelRef,c=Mr(O.useState(e),2),u=c[0],l=c[1],f=O.useMemo((function(){return{panel:s}}),[s]);return O.useEffect((function(){e&&l(!0)}),[e]),r||!i||u?O.createElement(Qr.Provider,{value:f},O.createElement(Kr,{open:e||r||u,autoDestroy:!1,getContainer:n,autoLock:e||u},O.createElement(Jo,Object(Ln.a)({},t,{destroyOnClose:i,afterClose:function(){null===a||void 0===a||a(),l(!1)}})))):null};$o.displayName="Dialog";var ti=$o,ei=n(1310),ni=n.n(ei);n(1311);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oi(){oi=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ri(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ri(e)+" is not iterable")}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function ii(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function ai(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ii(i,r,o,a,s,"next",t)}function s(t){ii(i,r,o,a,s,"throw",t)}a(void 0)}))}}function si(){return(si=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ci(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ui(t,e)}function ui(t,e){return(ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fi=["body","headers","method"],hi=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",di=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},pi=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(di(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=In(window,"Toolkits.onGetLrsHeader");r&&r((function(t){di(t)&&localStorage.setItem("lrs_headers",t)}))}return t},vi=function(t,e){var n=e.body,r=void 0===n?void 0:n,o=e.headers,i=void 0===o?{}:o,a=e.method,s=void 0===a?"GET":a,c=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(e,fi);return xr()(t,si({headers:si({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},i,pi()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))};function gi(t,e,n){var r;return r=n&&n["Content-Type"]&&"application/x-www-form-urlencoded"===n["Content-Type"]?Cr.a.stringify(e):JSON.stringify(e),vi(t,{method:"POST",body:r,headers:n})}var mi=function(t,e,n){var r=t.getCurrentContent(),o=t.getSelection(),i=j.Modifier.splitBlock(r,o),a=i.getSelectionAfter(),s=j.Modifier.setBlockType(i,a,"atomic"),c={key:Object(j.genKey)(),type:"atomic",text:" ",data:Object(Nn.Map)({type:"AUDIO",data:{quote_id:n.id}})},u={key:Object(j.genKey)(),type:"unstyled"},l=[new j.ContentBlock(c),new j.ContentBlock(u)],f=j.BlockMapBuilder.createFromArray(l),h=j.Modifier.replaceWithFragment(s,a,f),d=h.merge({selectionBefore:o,selectionAfter:h.getSelectionAfter().set("hasFocus",!0)});return j.EditorState.push(t,d,"insert-fragment")},yi=function(t,e,n){var r=t.getCurrentContent(),o=t.getSelection(),i=j.Modifier.splitBlock(r,o),a=i.getSelectionAfter(),s=j.Modifier.setBlockType(i,a,"atomic"),c={key:Object(j.genKey)(),type:"atomic",text:" ",data:Object(Nn.Map)({type:"DISK",data:{name:n.filename,quote_id:n.id,uploading:!1}})},u={key:Object(j.genKey)(),type:"unstyled"},l=[new j.ContentBlock(c),new j.ContentBlock(u)],f=j.BlockMapBuilder.createFromArray(l),h=j.Modifier.replaceWithFragment(s,a,f),d=h.merge({selectionBefore:o,selectionAfter:h.getSelectionAfter().set("hasFocus",!0)});return j.EditorState.push(t,d,"insert-fragment")},bi=function(t,e){var n=t.getCurrentContent(),r=t.getSelection(),o=j.Modifier.splitBlock(n,r),i=o.getSelectionAfter(),a=j.Modifier.setBlockType(o,i,"atomic"),s={key:Object(j.genKey)(),type:"atomic",text:"",data:Object(Nn.Map)({type:"IMAGE",src:e})},c={key:Object(j.genKey)(),type:"unstyled"},u=[new j.ContentBlock(s),new j.ContentBlock(c)],l=j.BlockMapBuilder.createFromArray(u),f=j.Modifier.replaceWithFragment(a,i,l),h=f.merge({selectionBefore:r,selectionAfter:f.getSelectionAfter().set("hasFocus",!0)});return j.EditorState.push(t,h,"insert-fragment")},_i=function(t,e){var n=t.getCurrentContent().createEntity("UploadPlaceholder","IMMUTABLE",{name:e,progress:"0%"}).getLastCreatedEntityKey(),r=j.AtomicBlockUtils.insertAtomicBlock(t,n," "),o=j.EditorState.forceSelection(r,r.getCurrentContent().getSelectionAfter()),i=r.getCurrentContent().getBlocksAsArray().find((function(t){return"atomic"===t.getType()&&t.getEntityAt(0)===n}));return{state:o,blockKey:null==i?void 0:i.getKey(),key:n,text:e}},wi=function(t,e){var n=e.id,r=e.videoId,o=t.getCurrentContent(),i=t.getSelection(),a=j.Modifier.splitBlock(o,i),s=a.getSelectionAfter(),c=j.Modifier.setBlockType(a,s,"atomic"),u={key:Object(j.genKey)(),type:"atomic",text:" ",data:Object(Nn.Map)({type:"VIDEO",data:{id:n,video_id:r}})},l={key:Object(j.genKey)(),type:"unstyled"},f=[new j.ContentBlock(u),new j.ContentBlock(l)],h=j.BlockMapBuilder.createFromArray(f),d=j.Modifier.replaceWithFragment(c,s,h),p=d.merge({selectionBefore:i,selectionAfter:d.getSelectionAfter().set("hasFocus",!0)});return j.EditorState.push(t,p,"insert-fragment")};function xi(t,e,n){return t.getCurrentContent().mergeEntityData(e,n),j.EditorState.forceSelection(t,t.getCurrentContent().getSelectionAfter())}function Si(t,e){var n=t.getCurrentContent(),r=n.getBlockForKey(e),o=new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:r.getLength()}),i=j.Modifier.removeRange(n,o,"backward"),a=j.Modifier.setBlockType(i,i.getSelectionAfter(),"unstyled"),s=j.EditorState.push(t,a,"remove-range");return j.EditorState.forceSelection(s,a.getSelectionAfter())}var Ci=new Set(["webm","mp3","wma","wav","aac","ra","m4a","m4r","flac","ape","ac3","amr","caf","acm"]),Oi=new Set(["image/bmp","image/gif","image/jpg","image/jpeg","image/png","image/ico","image/x-icon"]),ki=new Set(["3gp","asf","avi","flv","f4v","m2t","m3u8","m4v","mj2","mjpeg","mkv","mov","mp4","mpe","mpg","mpeg","mts","qt","rm","rmvb","swf","ts","vob","wmv"]),Mi=new Set(["audio/x-m4a"]),Ei=new Set(["jpg","jpeg","bmp","gif","png"]),ji=new Set(["video/mp4"]);function Ii(t){return t.split(".").pop().toLowerCase()}function Ai(t,e){var n=Ii(t);return Mi.has(e)||Ci.has(n)||String(e).startsWith("audio")}function Ti(t,e){var n=Ii(t);return Oi.has(e)||Ei.has(n)}function Pi(t,e){var n=Ii(t);return ji.has(e)||ki.has(n)}function Di(t){return Ni.apply(this,arguments)}function Ni(){return(Ni=ai(oi().mark((function t(e){var n,r,o,i,a;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(100,n=10240,r={canUpload:!0,isVideo:Pi(e.name,e.type),isImage:Ti(e.name,e.type),resMsg:"",uploadAuth:null},o=e.size/1024/1024,r.isVideo||!(o>=100)){t.next=8;break}return r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u4e3a100MB",t.abrupt("return",r);case 8:if(r.isVideo){t.next=14;break}return i={uploadId:e.uid,filename:e.name,file_size:e.size},t.next=12,gi(hi+"/disk/files",i);case 12:(a=t.sent).success?r.uploadAuth=jn(a.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"]):3003258===a.code?(r.canUpload=!1,r.resMsg="\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236"):70006===a.code?(r.canUpload=!1,r.resMsg="\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5df2\u8d85\u4e0a\u96501.0GB\uff0c\u8bf7\u5220\u9664\u65e0\u7528\u6587\u4ef6"):70007===a.code?(r.canUpload=!1,r.resMsg="\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5df2\u8d85\u4e0a\u9650100.0MB\uff0c\u8bf7\u5220\u9664\u65e0\u7528\u89c6\u9891\u6587\u4ef6"):(r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u5931\u8d25-"+a.message);case 14:if(!(r.isVideo&&o>=n)){t.next=18;break}return r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u89c6\u9891\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u4e3a"+n+"MB",t.abrupt("return",r);case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Li=function(t){function e(e){var n;(n=t.call(this,e)||this).uploadProps={action:(null==_r?void 0:_r.oss)||Object({NODE_ENV:"production"}).REACT_APP_OSSURL||"http://all-for-test.oss-cn-shanghai.aliyuncs.com",multiple:!1,onStart:function(t){var e=n.props,r=e.getEditorState,o=e.setEditorState,i=n.state.placeholderBlocks,a=_i(r(),t.name),s=a.state,c=a.key,u=a.text,l=a.blockKey,f=void 0===l?"":l,h=i.set(t.uid,{state:s,key:c,text:u,blockKey:f});n.setState({placeholderBlocks:h}),o(s)},onProgress:function(t,e){var r=n.props,o=r.getEditorState,i=r.setEditorState,a=n.state.placeholderBlocks.get(e.uid).key;i(xi(o(),a,{name:e.name,progress:Math.round(t.percent||0)+"%"}))},beforeUpload:function(t){return new Promise((function(e,r){var o=li(n),i=n.props,a=i.getEditorState,s=i.setEditorState,c=i.store.getItem("getProps")(),u=c.onWarnMessage,l=c.ignoreVideo;Di(t).then((function(n){if(n.canUpload||(u&&u(n.resMsg),r(t)),Pi(t.name,t.type)){if(l)return u&&u("\u4e0d\u652f\u6301\u4e0a\u4f20\u89c6\u9891\u8d44\u6e90"),r(t);var i=new window.AliyunUpload.Vod({userId:"1076296013722791",region:"cn-shanghai",partSize:1048576,parallel:5,retryCount:3,retryDuration:2,onUploadstarted:function(e){return ai(oi().mark((function n(){var r,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x,S,C,O;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.videoId){n.next=7;break}return n.next=3,gi(hi+"/vod/video/auth",{title:Dn()().format("YYYY-MM-DD-HH-mm-ss")+"_"+e.file.name,file_name:t.name,file_size:e.file.size});case 3:(r=n.sent).success&&(c=r.data,u=c.upload_address,l=c.upload_auth,f=c.video_id,h=c.quote_id,i.quote_id=h,i.setUploadAuthAndAddress(e,l,u,f)),n.next=11;break;case 7:return n.next=9,gi(hi+"/vod/video/auth/refresh",{video_id:e.videoId});case 9:(d=n.sent).success&&(p=d.data,v=p.upload_address,g=p.upload_auth,m=p.video_id,i.setUploadAuthAndAddress(e,g,v,m));case 11:y=o.state.placeholderBlocks,b=_i(a(),t.name),_=b.state,w=b.key,x=b.text,S=b.blockKey,C=void 0===S?"":S,O=y.set(t.uid,{state:_,key:w,text:x,blockKey:C}),o.setState({placeholderBlocks:O}),s(_);case 16:case"end":return n.stop()}}),n)})))()},onUploadSucceed:function(e){var n=o.state.placeholderBlocks.get(t.uid).blockKey;s(Si(a(),n)),s(wi(a(),si({},e,{id:i.quote_id})))},onUploadProgress:function(e,n,r){var i=o.state.placeholderBlocks.get(t.uid).key;s(xi(a(),i,{name:t.name,progress:Math.round(100*r)+"%"}))}});i.addFile(t,null,null,null,'{"Vod":{}}'),i.startUpload(),r(t)}else Ti(t.name,t.type)?new Tn.a(t,{quality:.5,maxWidth:4e3,maxHeight:4e3,success:function(t){e(t)}}):e(t)}))}))},onSuccess:function(t,e){var r=n.props,o=r.getEditorState,i=r.setEditorState,a=n.state.placeholderBlocks.get(e.uid).blockKey,s=t.data;i(Si(o(),a)),Ai(e.name,e.type)?i(mi(o(),s.id,si({},s))):Ti(e.name,e.type)?i(bi(o(),hi+"/cloud/file_access/"+s.id)):i(yi(o(),s.id,si({},s)))},data:function(t){var e={uploadId:t.uid,filename:t.name,file_size:t.size};return gi(hi+"/disk/files",e).then((function(t){return jn(t.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"])})).then((function(e){var n=function(t){switch(t.split(".").pop().toLowerCase()){case"doc":case"dot":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"dotx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.template";case"dotm":return"application/vnd.ms-word.template.macroEnabled.12";case"ppt":case"pot":case"pps":return"application/vnd.ms-powerpoint";case"potm":return"application/vnd.ms-powerpoint.template.macroEnabled.12";case"ppsm":return"application/vnd.ms-powerpoint.slideshow.macroEnabled.12";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"potx":return"application/vnd.openxmlformats-officedocument.presentationml.template";case"ppsx":return"application/vnd.openxmlformats-officedocument.presentationml.slideshow";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xlsb":return"application/vnd.ms-excel.sheet.binary.macroEnabled.12";case"xlsm":return"application/vnd.ms-excel.sheet.macroEnabled.12";case"ape":return"audio/ape";case"m4r":return"audio/x-m4r";case"amr":return"audio/amr";case"ogg":return"audio/ogg";default:return null}}(t.name);return n&&sn(e,"x-oss-content-type",n),e}))}};var r=e.store.getItem("getReadOnly");return n.state={placeholderBlocks:Object(Nn.Map)(),disabled:r()},n}return ci(e,t),e.prototype.render=function(){var t=this.props.theme,e=this.state.disabled;return k.a.createElement(yr,si({},this.uploadProps,{className:t.buttonWrapper,disabled:e}),k.a.createElement("button",{type:"button",className:t.button},k.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},k.a.createElement("path",{d:"M780.8 198.4c-96-96-249.6-96-339.2 0l-262.4 256v12.8l38.4 38.4c0 6.4 6.4 6.4 6.4 0l262.4-262.4c32-32 76.8-51.2 121.6-51.2a174.848 174.848 0 0 1 172.8 172.8c0 44.8-19.2 89.6-51.2 121.6l-268.8 268.8-44.8 44.8c-38.4 38.4-108.8 38.4-147.2 0-19.2-19.2-32-44.8-32-70.4 0-25.6 12.8-51.2 32-70.4l262.4-262.4c12.8-12.8 25.6-19.2 32-19.2 6.4 0 19.2 6.4 25.6 12.8 6.4 6.4 12.8 12.8 12.8 25.6 0 6.4-6.4 19.2-12.8 25.6l-217.6 217.6v12.8l38.4 32h12.8L640 486.4c19.2-19.2 32-44.8 32-76.8 0-25.6-12.8-57.6-32-76.8-38.4-38.4-108.8-38.4-147.2 0l-32 32-236.8 236.8c-32 32-51.2 76.8-51.2 121.6s19.2 89.6 51.2 121.6c32 38.4 76.8 51.2 121.6 51.2s89.6-19.2 121.6-51.2l307.2-307.2c44.8-44.8 70.4-108.8 70.4-172.8 6.4-64-19.2-121.6-64-166.4z"}))))},e}(O.Component);function Ri(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function Bi(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append(e+"[]",t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot "+t.method+" "+t.action+" "+e.status+"'",r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),Ri(e)):t.onSuccess(Ri(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}function zi(){return(zi=ai(oi().mark((function t(e){var n,r,o,i,a,s,c,u,l,f,h,d,p,v,g;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.action,r=e.file,o=e.filename,i=e.data,a=e.headers,s=e.method,c=e.withCredentials,u=e.onStart,l=e.beforeUpload,f=e.onProgress,h=e.onSuccess,d=e.onError,p=r,!l){t.next=12;break}return t.prev=3,t.next=6,l(r);case 6:p=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),p=!1;case 12:if(!1!==p){t.next=14;break}return t.abrupt("return");case 14:if("function"!==typeof i){t.next=20;break}return t.next=17,i(r);case 17:v=t.sent,t.next=21;break;case 20:v=i;case 21:g={action:n,filename:o||"file",data:v,file:r,headers:a||{},withCredentials:c||!1,method:s||"post",onProgress:function(t){null==f||f(t,r)},onSuccess:function(t,e){null==h||h(t,r,e)},onError:function(t,e){null==d||d(t,e,r)}},null==u||u(r),Bi(g);case 24:case"end":return t.stop()}}),t,null,[[3,9]])})))).apply(this,arguments)}function Fi(t,e,n){var r;(function(t){return zi.apply(this,arguments)})({action:(null==_r?void 0:_r.oss)||Object({NODE_ENV:"production"}).REACT_APP_OSSURL||"http://all-for-test.oss-cn-shanghai.aliyuncs.com",file:t[0],method:"POST",onStart:function(t){var n=e.getEditorState,o=e.setEditorState,i=_i(n(),t.name),a=i.state,s=i.key,c=i.text,u=i.blockKey;r={state:a,key:s,text:c,blockKey:void 0===u?"":u},o(a)},onProgress:function(t,n){var o=e.getEditorState,i=e.setEditorState,a=r.key;i(xi(o(),a,{name:n.name,progress:Math.round(t.percent||0)+"%"}))},beforeUpload:function(t){return new Promise((function(n,o){var i=e.getEditorState,a=e.setEditorState,s=(0,e.getProps)(),c=s.onWarnMessage,u=s.ignoreVideo;Di(t).then((function(e){if(!e.canUpload)return c&&c(e.resMsg),o(t);if(Pi(t.name,t.type)){if(u)return c&&c("\u4e0d\u652f\u6301\u4e0a\u4f20\u89c6\u9891\u8d44\u6e90"),o(t);var s=new window.AliyunUpload.Vod({userId:"1076296013722791",region:"cn-shanghai",partSize:1048576,parallel:5,retryCount:3,retryDuration:2,onUploadstarted:function(e){return ai(oi().mark((function n(){var o,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.videoId){n.next=7;break}return n.next=3,gi(hi+"/vod/video/auth",{title:Dn()().format("YYYY-MM-DD-HH-mm-ss")+"_"+e.file.name,file_name:t.name});case 3:(o=n.sent).success&&(c=o.data,u=c.upload_address,l=c.upload_auth,f=c.video_id,h=c.quote_id,s.quote_id=h,s.setUploadAuthAndAddress(e,l,u,f)),n.next=11;break;case 7:return n.next=9,gi(hi+"/vod/video/auth/refresh",{video_id:e.videoId});case 9:(d=n.sent).success&&(p=d.data,v=p.upload_address,g=p.upload_auth,m=p.video_id,s.setUploadAuthAndAddress(e,g,v,m));case 11:y=_i(i(),t.name),b=y.state,_=y.key,w=y.text,x=y.blockKey,r={state:b,key:_,text:w,blockKey:void 0===x?"":x},a(b);case 14:case"end":return n.stop()}}),n)})))()},onUploadSucceed:function(t){var e=r.blockKey;a(Si(i(),e)),a(wi(i(),t))},onUploadProgress:function(e,n,o){var s=r.key;a(xi(i(),s,{name:t.name,progress:Math.round(100*o)+"%"}))}});s.addFile(t,null,null,null,'{"Vod":{}}'),s.startUpload(),o(t)}else Ti(t.name,t.type)?new Tn.a(t,{quality:.5,maxWidth:4e3,maxHeight:4e3,success:function(t){n(t)}}):n(t)}))}))},onSuccess:function(t,o){var i=e.getEditorState,a=e.setEditorState,s=r.blockKey,c=t.data;a(Si(i(),s)),Ai(o.name,o.type)?(a(mi(i(),c.id,si({},c))),n&&n()):Ti(o.name,o.type)?(a(bi(i(),hi+"/cloud/file_access/"+c.id)),n&&n()):(a(yi(i(),c.id,si({},c))),n&&n())},data:function(t){var e={uploadId:t.uid,filename:t.name,file_size:t.size};return gi(hi+"/disk/files",e).then((function(t){return jn(t.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"])}))}}).then()}var Hi=function(t){function e(e){var n;(n=t.call(this,e)||this).recOpen=function(t){var e=li(n),r=ni()({type:"mp3",bitRate:32,sampleRate:32e3,onProcess:function(t,n,r,o){e.wave.input(t[t.length-1],n,o)}});r.open((function(){e.rec=r,n.setState({error:null},(function(){e.wave=ni.a.WaveSurferView({elem:".ctrlProcessWave",direction:-1}),t&&t()}))}),(function(t,e){e&&n.setState({error:k.a.createElement("p",null,"\u4e3a\u6b63\u5e38\u4f7f\u7528\u8be5\u529f\u80fd\uff0c",k.a.createElement("br",null),"\u8bf7\u524d\u5f80\u7cfb\u7edf",k.a.createElement("a",{onClick:function(){var t=In(window,"Toolkits.onOpenSystemSetting");t&&t()}},"\u8bbe\u7f6e"),"\u4e2d\u5141\u8bb8")})}))},n.recStart=function(){n.rec.start()},n.recStop=function(){var t=li(n);t.rec.stop((function(e){var r=new File([e],"audio_rec_"+Dn()().format("YYYYMMDD_HHmmss")+".mp3",{type:e.type});n.setState({visibleOk:!0,recordFile:r}),t.rec.close(),t.rec=null}),(function(e){console.log("\u5f55\u97f3\u5931\u8d25:"+e),t.rec.close(),t.rec=null}))},n.start=function(){var t=li(n);n.recOpen((function(){console.log("\u5f55\u97f3\u521d\u59cb\u5316\u6210\u529f\uff01"),n.recStart(),n.setState({touchState:!0}),t.timeInterval||(t.timeInterval=setInterval((function(){n.state.recordLength>599&&n.stop(),n.setState({recordLength:n.state.recordLength+1})}),1e3))}))},n.stop=function(){n.state.recordLength>0?(n.recStop(),n.setState({touchState:!1,recordLength:0,visibleOk:!0,visibleDialog:!1})):n.setState({error:k.a.createElement("p",null,"\u8bf4\u8bdd\u65f6\u95f4\u592a\u77ed\uff0c\u957f\u6309\u8fdb\u884c\u5f55\u97f3"),touchState:!1,recordLength:0}),n.timeInterval&&(clearInterval(n.timeInterval),n.timeInterval=0)},n.onClose=function(){n.timeInterval&&(clearInterval(n.timeInterval),n.timeInterval=0),n.setState({visibleDialog:!1,visibleOk:!1,touchState:!1,recordLength:0})},n.setDialogVisible=function(){var t=n.state.visibleDialog,e=In(window,"Toolkits.onCheckMicroPhonePermission");e&&e((function(e){"true"===e&&n.setState({visibleDialog:!t})}))},n.convertMinuteToString=function(t){if("number"===typeof t&&!Number.isNaN(t)){var e=t%60;return Math.floor(t/60).toString().padStart(2,"0")+":"+e.toString().padStart(2,"0")}return"00:00"},n.uploadFile=function(){var t=n.state.recordFile,e=n.props.store,r=e.getItem("getProps"),o=e.getItem("getEditorState"),i=e.getItem("setEditorState");t&&Fi([t],{getProps:r,getEditorState:o,setEditorState:i}),n.setState({visibleOk:!1})};var r=e.store.getItem("getReadOnly");return n.state={disabled:r(),touchState:!1,visibleDialog:!1,visibleOk:!1,recordLength:0,error:null,recordFile:null},n}return ci(e,t),e.prototype.render=function(){var t=this.props.theme,e=this.state,n=e.disabled,r=e.touchState,o=e.visibleDialog,i=e.visibleOk,a=e.error,s=e.recordLength,c=$(t.button),u=600-s<10;return k.a.createElement("div",{className:t.buttonWrapper},k.a.createElement("button",{className:c,disabled:n,type:"button",onClick:this.setDialogVisible},k.a.createElement("svg",{viewBox:"0 0 1024 1024","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",fill:"currentColor"},k.a.createElement("path",{d:"M844.8 454.4c0-6.4-6.4-6.4-12.8-6.4h-57.6c-6.4 0-6.4 0-6.4 6.4 0 140.8-115.2 256-256 256s-256-115.2-256-256C256 448 256 448 249.6 448H192c-6.4 0-12.8 0-12.8 6.4 0 166.4 128 307.2 288 326.4v102.4H326.4c-12.8 0-25.6 12.8-25.6 32v38.4c0 6.4 0 6.4 6.4 6.4h409.6c6.4 0 6.4-6.4 6.4-6.4v-38.4c0-19.2-12.8-32-25.6-32H550.4v-102.4c160-19.2 294.4-153.6 294.4-326.4zM512 627.2c96 0 172.8-76.8 172.8-166.4V230.4C684.8 140.8 608 64 512 64S339.2 140.8 339.2 230.4v224c0 96 76.8 172.8 172.8 172.8zM416 230.4c0-51.2 44.8-89.6 96-89.6s96 38.4 96 89.6v224c0 51.2-44.8 89.6-96 89.6s-96-38.4-96-89.6V230.4z",fill:"currentColor"}))),k.a.createElement(ti,{className:t["record-audio-dialog"],title:"\u5f55\u5236\u97f3\u9891",visible:o,onClose:this.onClose,maskClosable:!1,destroyOnClose:!0},!a&&k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{style:{width:"100%",height:60,margin:"4px 0"},className:"ctrlProcessWave"}),k.a.createElement("p",{style:{textAlign:"center"},className:"text"},k.a.createElement("span",{className:u?"alert":void 0},this.convertMinuteToString(s)),k.a.createElement("span",null," / "),k.a.createElement("span",null,this.convertMinuteToString(600)))),a&&k.a.createElement("div",{className:"text"},a),k.a.createElement("div",{style:{position:"absolute",bottom:16,width:250}},k.a.createElement("div",{className:r?"img-ly2":"img-ly1",onTouchStart:this.start,onTouchEnd:this.stop}),k.a.createElement("div",{className:"text"},"\u957f\u6309\u5f55\u97f3"))),k.a.createElement(ti,{className:t["record-audio-ok"],closable:!1,visible:i},k.a.createElement("div",{className:"message"},"\u5f55\u97f3\u5b8c\u6210\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u4e0a\u4f20"),k.a.createElement("div",{className:"footer"},k.a.createElement("div",{onClick:this.onClose},"\u53d6\u6d88"),k.a.createElement("div",{onClick:this.uploadFile},"\u786e\u5b9a"))))},e}(O.Component);function Ui(t){var e=t.blockProps,n=t.block;return k.a.createElement("span",{contentEditable:!1,"data-offset-key":n.get("key")+"-0-0"},"![\u4e0a\u4f20\u4e2d ",e.name,"...](",e.progress,")")}var Wi={"record-audio-dialog":"rc412vq","record-audio-ok":"r1lox9kq"};var Vi=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),o?ie(n,s,c):ce(n,s,c)}return n};var Yi=function(t,e){return En(Sn(t,e,On),t+"")},Gi=n(1185);function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Zi=function(t,e,n){if(!Object(Gt.a)(n))return!1;var r=Xi(e);return!!("number"==r?Object(Gi.a)(n)&&Object(rn.a)(e,n.length):"string"==r&&e in n)&&ae(n[e],t)};var qi=function(t){return Yi((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Zi(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e}))},Ki=n(1205),Qi=n(1189),Ji=Object.prototype.hasOwnProperty,$i=qi((function(t,e){if(Object(Ki.a)(e)||Object(Gi.a)(e))Vi(e,Object(Qi.a)(e),t);else for(var n in e)Ji.call(e,n)&&ce(t,n,e[n])})),ta=n(1312),ea=n.n(ta),na=n(1279),ra=n.n(na);function oa(){return(oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ia(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var aa=["body","headers","method"],sa=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},ca=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(sa(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=In(window,"Toolkits.onGetLrsHeader");r&&r((function(t){sa(t)&&localStorage.setItem("lrs_headers",t)}))}return t},ua=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource";function la(t,e,n){var r=t;return e&&(r+="?"+Cr.a.stringify(e)),function(t,e){var n=e.body,r=void 0===n?void 0:n,o=e.headers,i=void 0===o?{}:o,a=e.method,s=void 0===a?"GET":a,c=ia(e,aa);return xr()(t,oa({headers:oa({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},i,ca()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))}(r,{method:"GET",headers:n})}var fa=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],ha={i:(null==_r?void 0:_r.i)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_I||29357,key:(null==_r?void 0:_r.key)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_KEY||59894985,iv:(null==_r?void 0:_r.iv)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_IV||29393376},da=k.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection;var o=t.theme;t.tree;var i=ia(t,fa),a=$(o.audioWarp,r),s=Object(O.useRef)(null),c=Object(O.useState)(n.src)[0],u=Object(O.useState)(""),l=u[0],f=u[1],h=function t(){la(c).then((function(e){if(e.data.audio_transcode_url){var n,r=null!=(n=e.data)&&n.is_encryption?function(t){try{var e=ra.a.enc.Utf8.parse(ha.key),n=ra.a.enc.Utf8.parse(ha.iv),r=t.replace(/_/g,"+").replace(/\*/g,"/").replace(/-/g,"=");return ra.a.DES.decrypt({ciphertext:ra.a.enc.Base64.parse(r)},e,{iv:n,mode:ra.a.mode.CBC,padding:ra.a.pad.Pkcs7}).toString(ra.a.enc.Utf8)}catch(o){}return""}(e.data.audio_transcode_url):e.data.audio_transcode_url;f(r)}else setTimeout((function(){t()}),1e3)}))};Object(O.useEffect)((function(){h()}),[c]),Object(O.useEffect)((function(){s.current&&(s.current.audio.current.currentTime=window.draftAudio&&window.draftAudio[c]&&window.draftAudio[c].currentTime||0)}),[l]);var d=window.draftAudio&&window.draftAudio[c]&&window.draftAudio[c].playing;return k.a.createElement("div",oa({},i,{className:a,ref:e}),""===l?k.a.createElement("div",{className:"trans"},"\u97f3\u9891\u8f6c\u7801\u4e2d"):k.a.createElement(ea.a,{layout:"horizontal",src:l,ref:s,autoPlay:!!d,customControlsSection:[ta.RHAP_UI.MAIN_CONTROLS],customProgressBarSection:[ta.RHAP_UI.CURRENT_TIME],onListen:function(t){window.draftAudio||(window.draftAudio={}),window.draftAudio[c]=$i(window.draftAudio[c],{currentTime:t.target.currentTime})},onPause:function(t,e){"user"===e&&(window.draftAudio[c]=$i(window.draftAudio[c],{playing:!1}))},onPlay:function(){window.draftAudio||(window.draftAudio={}),window.draftAudio[c]=$i(window.draftAudio[c],{playing:!0})}}))})),pa={audioWarp:"at80t70"};function va(){return(va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ga=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],ma=new Set(["py","c","cpp","cs","css","go","html","js","sql","tex","ts","java","md","xml","json"]);var ya=k.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection;var o=t.theme;t.tree;var i=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,ga),a=$(o.disk,r);return k.a.createElement("div",va({},i,{className:a,ref:e}),k.a.createElement("a",{href:"javascript:void(0)",onClick:function(t){if(t.stopPropagation(),function(t){var e=function(t){return null==t?void 0:t.split(".").pop().toLowerCase()}(t);return ma.has(e)}(n.filename)){var e=In(window,"Toolkits.onShowCode");e&&e({quote_id:n.quote_id,name:n.filename,from:"rich"})}else{var r=In(window,"Toolkits.onShowOffice");r&&r({quote_id:n.quote_id,name:n.filename,from:"rich"})}}},n.filename))})),ba={disk:"dqauwjr"},_a=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",wa=n(188);function xa(){return(xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Sa(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var Ca=["className","theme"],Oa=["block","blockProps","customStyleMap","customStyleFn","decorator","forceSelection","offsetKey","selection","tree","blockStyleFn","preventScroll","contentState"],ka=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",Ma=k.a.forwardRef((function(t,e){var n=t.className,r=t.theme,o=void 0===r?{}:r,i=Sa(t,Ca);i.block;var a=i.blockProps;i.customStyleMap,i.customStyleFn,i.decorator,i.forceSelection,i.offsetKey,i.selection,i.tree,i.blockStyleFn,i.preventScroll,i.contentState;var s=Sa(i,Oa),c=$(o.image,n),u=a.src,l=function(t){try{var e=new URL(t);if(e&&e.pathname){var n=Object(wa.d)(e.pathname,{path:"/:tab(api|cloud)/file_access/:quote_id",exact:!1,strict:!1});return In(n,"params",{})}}catch(r){return{}}}(u).quote_id;return l&&(u=function(t){return ka+"/cloud/file_access/"+t+"?random="+(new Date).getTime()}(l)),k.a.createElement("img",xa({},s,{ref:e,src:u,role:"presentation",className:c}))})),Ea={image:"i5nsq6m"};var ja=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)},Ia=/\s/;var Aa=function(t){for(var e=t.length;e--&&Ia.test(t.charAt(e)););return e},Ta=/^\s+/;var Pa=function(t){return t?t.slice(0,Aa(t)+1).replace(Ta,""):t},Da=/^[-+]0x[0-9a-f]+$/i,Na=/^0b[01]+$/i,La=/^0o[0-7]+$/i,Ra=parseInt;var Ba=function(t){if("number"==typeof t)return t;if(le(t))return NaN;if(Object(Gt.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(Gt.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Pa(t);var n=Na.test(t);return n||La.test(t)?Ra(t.slice(2),n?2:8):Da.test(t)?NaN:+t},za=Yi((function(t,e,n){return ja(t,Ba(e)||0,n)}));function Fa(){return(Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ha=["className","theme"],Ua=k.a.forwardRef((function(t){var e=t.className,n=t.theme,r=void 0===n?{}:n,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,Ha);o.block;var i=o.blockProps;o.customStyleMap,o.customStyleFn,o.decorator,o.forceSelection,o.offsetKey,o.selection,o.tree,o.blockStyleFn,o.preventScroll,o.contentState;var a=$(r.html,e),s=i.src,c=Object(O.useRef)(null),u=Object(O.useRef)(30),l=Object(O.useCallback)((function(){if(c.current){var t,e=(null==(t=c.current.contentDocument)?void 0:t.body.scrollHeight)||20;e+=10,u.current=e,c.current.style.height=e+"px"}}),[c]);return Object(O.useEffect)((function(){if(c.current&&s){var t,e=c.current.contentDocument||(null==(t=c.current.contentWindow)?void 0:t.document);null==e||e.open(),null==e||e.write(s),null==e||e.close()}za(l,1e3)}),[s,c.current,l]),k.a.createElement("iframe",{ref:c,style:{width:"100%",height:u.current,border:"1px solid #ccc"},className:a})})),Wa={html:"hw09yhk"};function Va(){return(Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ya=["decoratedText","theme","target","rel","className","component","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState","blockKey","start","end"];function Ga(t){t.decoratedText;var e=t.theme,n=void 0===e?{}:e,r=t.target,o=void 0===r?"_self":r,i=t.rel,a=void 0===i?"noreferrer noopener":i,s=t.className,c=t.component;t.dir;var u=t.entityKey;t.getEditorState,t.offsetKey,t.setEditorState;var l=t.contentState;t.blockKey,t.start,t.end;var f=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,Ya),h=$(null==n?void 0:n.link,s),d=l.getEntity(u).getData().url,p=Va({},f,{href:d,target:o,rel:a,className:h,onClick:function(t){t.stopPropagation();var e=In(window,"Toolkits.onOpenWebview");e&&e(d,"")},contentEditable:!1});return c?k.a.createElement(c,p):k.a.createElement("a",p)}var Xa=function(t,e,n){t.findEntityRanges((function(t){var e=t.getEntity();return null!==e&&"LINK"===n.getEntity(e).getType()}),e)},Za={link:"l1pfrj03"},qa=n(1331);function Ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return k.a.Children.forEach(t,(function(t){(void 0!==t&&null!==t||e.keepEmpty)&&(Array.isArray(t)?n=n.concat(Ka(t)):Object(Ar.isFragment)(t)&&t.props?n=n.concat(Ka(t.props.children,e)):n.push(t))})),n}var Qa=O.createContext(null);var Ja=n(1201),$a=new Map;var ts=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=$a.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var es=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O.Component);function ns(t,e){var n=t.children,r=t.disabled,o=O.useRef(null),i=O.useRef(null),a=O.useContext(Qa),s="function"===typeof n,c=s?n(o):n,u=O.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&O.isValidElement(c)&&Lr(c),f=l?c.ref:null,h=Nr(f,o),d=function(){var t;return so(o.current)||(o.current&&"object"===Object(Zn.a)(o.current)?so(null===(t=o.current)||void 0===t?void 0:t.nativeElement):null)||so(i.current)};O.useImperativeHandle(e,(function(){return d()}));var p=O.useRef(t);p.current=t;var v=O.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,o=t.getBoundingClientRect(),i=o.width,s=o.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(i),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(i)?i:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return O.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,$a.has(t)||($a.set(t,new Set),ts.observe(t)),$a.get(t).add(e)),function(){return function(t,e){$a.has(t)&&($a.get(t).delete(e),$a.get(t).size||(ts.unobserve(t),$a.delete(t)))}(n,v)}}),[o.current,r]),O.createElement(es,{ref:i},l?O.cloneElement(c,{ref:h}):c)}var rs=O.forwardRef(ns);function os(t,e){var n=t.children;return("function"===typeof n?[n]:Ka(n)).map((function(n,r){var o=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return O.createElement(rs,Object(Ln.a)({},t,{key:o,ref:0===r?e:void 0}),n)}))}var is=O.forwardRef(os);is.Collection=function(t){var e=t.children,n=t.onBatchResize,r=O.useRef(0),o=O.useRef([]),i=O.useContext(Qa),a=O.useCallback((function(t,e,a){r.current+=1;var s=r.current;o.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===i||void 0===i||i(t,e,a)}),[n,i]);return O.createElement(Qa.Provider,{value:a},e)};var as=is;function ss(t){var e=O.useRef();return e.current=t,O.useCallback((function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.current)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}),[])}function cs(t){return void 0!==t}function us(t,e){var n=e||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,s=Mr(lo((function(){return cs(o)?o:cs(r)?"function"===typeof r?r():r:"function"===typeof t?t():t})),2),c=s[0],u=s[1],l=void 0!==o?o:c,f=a?a(l):l,h=ss(i),d=Mr(lo([l]),2),p=d[0],v=d[1];return Fr((function(){var t=p[0];c!==t&&h(c,t)}),[p]),Fr((function(){cs(o)||u(o)}),[o]),[f,ss((function(t,e){u(t,e),v([l],e)}))]}var ls,fs="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",hs=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ds={};function ps(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&ds[n])return ds[n];var r=window.getComputedStyle(t),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=hs.map((function(t){return"".concat(t,":").concat(r.getPropertyValue(t))})).join(";"),c={sizingStyle:s,paddingSize:i,borderSize:a,boxSizing:o};return e&&n&&(ds[n]=c),c}var vs=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],gs=O.forwardRef((function(t,e){var n=t.prefixCls,r=void 0===n?"rc-textarea":n,o=(t.onPressEnter,t.defaultValue),i=t.value,a=t.autoSize,s=t.onResize,c=t.className,u=t.style,l=t.disabled,f=t.onChange,h=(t.onInternalAutoSize,Object(Xn.a)(t,vs)),d=Mr(us(o,{value:i,postState:function(t){return null!==t&&void 0!==t?t:""}}),2),p=d[0],v=d[1],g=O.useRef();O.useImperativeHandle(e,(function(){return{textArea:g.current}}));var m=Mr(O.useMemo((function(){return a&&"object"===Object(Zn.a)(a)?[a.minRows,a.maxRows]:[]}),[a]),2),y=m[0],b=m[1],_=!!a,w=Mr(O.useState(2),2),x=w[0],S=w[1],k=Mr(O.useState(),2),M=k[0],E=k[1],j=function(){S(0)};Hr((function(){_&&j()}),[i,y,b,_]),Hr((function(){if(0===x)S(1);else if(1===x){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ls||((ls=document.createElement("textarea")).setAttribute("tab-index","-1"),ls.setAttribute("aria-hidden","true"),document.body.appendChild(ls)),t.getAttribute("wrap")?ls.setAttribute("wrap",t.getAttribute("wrap")):ls.removeAttribute("wrap");var o=ps(t,e),i=o.paddingSize,a=o.borderSize,s=o.boxSizing,c=o.sizingStyle;ls.setAttribute("style","".concat(c,";").concat(fs)),ls.value=t.value||t.placeholder||"";var u,l=void 0,f=void 0,h=ls.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=i),null!==n||null!==r){ls.value=" ";var d=ls.scrollHeight-i;null!==n&&(l=d*n,"border-box"===s&&(l=l+i+a),h=Math.max(l,h)),null!==r&&(f=d*r,"border-box"===s&&(f=f+i+a),u=h>f?"":"hidden",h=Math.min(f,h))}var p={height:h,overflowY:u,resize:"none"};return l&&(p.minHeight=l),f&&(p.maxHeight=f),p}(g.current,!1,y,b);S(2),E(t)}else!function(){try{if(document.activeElement===g.current){var t=g.current,e=t.selectionStart,n=t.selectionEnd,r=t.scrollTop;g.current.setSelectionRange(e,n),g.current.scrollTop=r}}catch(o){}}()}),[x]);var I=O.useRef(),A=function(){Ao.cancel(I.current)};O.useEffect((function(){return A}),[]);var T=_?M:null,P=Object(Gn.a)(Object(Gn.a)({},u),T);return 0!==x&&1!==x||(P.overflowY="hidden",P.overflowX="hidden"),O.createElement(as,{onResize:function(t){2===x&&(null===s||void 0===s||s(t),a&&(A(),I.current=Ao((function(){j()}))))},disabled:!(a||s)},O.createElement("textarea",Object(Ln.a)({},h,{ref:g,style:P,className:C()(r,c,Object(Yn.a)({},"".concat(r,"-disabled"),l)),disabled:l,value:p,onChange:function(t){v(t.target.value),null===f||void 0===f||f(t)}})))})),ms=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(t){var r;Object(Rn.a)(this,n),(r=e.call(this,t)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(t){r.resizableTextArea=t},r.handleChange=function(t){var e=r.props.onChange;r.setValue(t.target.value),e&&e(t)},r.handleKeyDown=function(t){var e=r.props,n=e.onPressEnter,o=e.onKeyDown;13===t.keyCode&&n&&n(t),o&&o(t)};var o="undefined"===typeof t.value||null===t.value?t.defaultValue:t.value;return r.state={value:o},r}return Object(Bn.a)(n,[{key:"setValue",value:function(t,e){"value"in this.props||this.setState({value:t},e)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return O.createElement(gs,Object(Ln.a)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}]),n}(O.Component);function ys(t,e,n,r){var o=jr.a.unstable_batchedUpdates?function(t){jr.a.unstable_batchedUpdates(n,t)}:n;return null!==t&&void 0!==t&&t.addEventListener&&t.addEventListener(e,o,r),{remove:function(){null!==t&&void 0!==t&&t.removeEventListener&&t.removeEventListener(e,o,r)}}}var bs=Object(O.forwardRef)((function(t,e){var n=t.didUpdate,r=t.getContainer,o=t.children,i=Object(O.useRef)(),a=Object(O.useRef)();Object(O.useImperativeHandle)(e,(function(){return{}}));var s=Object(O.useRef)(!1);return!s.current&&Object(Ir.a)()&&(a.current=r(),i.current=a.current.parentNode,s.current=!0),Object(O.useEffect)((function(){null===n||void 0===n||n(t)})),Object(O.useEffect)((function(){return null===a.current.parentNode&&null!==i.current&&i.current.appendChild(a.current),function(){var t;null===(t=a.current)||void 0===t||null===(t=t.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?jr.a.createPortal(o,a.current):null}));function _s(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}var ws=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===t||void 0===t?void 0:t.substr(0,4))};function xs(t){var e=t.prefixCls,n=t.motion,r=t.animation,o=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:o?{motionName:o}:null)}function Ss(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,o=t.mask,i=t.maskMotion,a=t.maskAnimation,s=t.maskTransitionName;if(!o)return null;var c={};return(i||s||a)&&(c=Object(Gn.a)({motionAppear:!0},xs({motion:i,prefixCls:e,transitionName:s,animation:a}))),O.createElement(Vo,Object(Ln.a)({},c,{visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return O.createElement("div",{style:{zIndex:r},className:C()("".concat(e,"-mask"),n)})}))}var Cs=n(1266);var Os=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(Object(ir.a)(!a,"Warning: There may be circular references"),a)return!1;if(t===e)return!0;if(n&&i>1)return!1;r.add(t);var s=i+1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var c=0;c<t.length;c++)if(!o(t[c],e[c],s))return!1;return!0}if(t&&e&&"object"===Object(Zn.a)(t)&&"object"===Object(Zn.a)(e)){var u=Object.keys(t);return u.length===Object.keys(e).length&&u.every((function(n){return o(t[n],e[n],s)}))}return!1}return o(t,e)},ks=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1};function Ms(t,e){var n=null,r=null;var o=new Ja.default((function(t){var o=Mr(t,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),a=i.width,s=i.height,c=Math.floor(a),u=Math.floor(s);n===c&&r===u||Promise.resolve().then((function(){e({width:c,height:u})})),n=c,r=u}}));return t&&o.observe(t),function(){o.disconnect()}}function Es(t){return"function"!==typeof t?null:t()}function js(t){return"object"===Object(Zn.a)(t)&&t?t:null}var Is=function(t,e){var n=t.children,r=t.disabled,o=t.target,i=t.align,a=t.onAlign,s=t.monitorWindowResize,c=t.monitorBufferTime,u=void 0===c?0:c,l=k.a.useRef({}),f=k.a.useRef(),h=k.a.Children.only(n),d=k.a.useRef({});d.current.disabled=r,d.current.target=o,d.current.align=i,d.current.onAlign=a;var p=Mr(function(t,e){var n=k.a.useRef(!1),r=k.a.useRef(null);function o(){window.clearTimeout(r.current)}return[function i(a){if(o(),n.current&&!0!==a)r.current=window.setTimeout((function(){n.current=!1,i()}),e);else{if(!1===t(a))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),e)}},function(){n.current=!1,o()}]}((function(){var t=d.current,e=t.disabled,n=t.target,r=t.align,o=t.onAlign,i=f.current;if(!e&&n&&i){var a,s=Es(n),c=js(n);l.current.element=s,l.current.point=c,l.current.align=r;var u=document.activeElement;return s&&ks(s)?a=Object(Cs.a)(i,s,r):c&&(a=Object(Cs.b)(i,c,r)),function(t,e){t!==document.activeElement&&Object(Jr.a)(e,t)&&"function"===typeof t.focus&&t.focus()}(u,i),o&&a&&o(i,a),!0}return!1}),u),2),v=p[0],g=p[1],m=Mr(k.a.useState(),2),y=m[0],b=m[1],_=Mr(k.a.useState(),2),w=_[0],x=_[1];return Hr((function(){b(Es(o)),x(js(o))})),k.a.useEffect((function(){var t,e;l.current.element===y&&((t=l.current.point)===(e=w)||t&&e&&("pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e&&t.clientX===e.clientX&&t.clientY===e.clientY))&&Os(l.current.align,i)||v()})),k.a.useEffect((function(){return Ms(f.current,v)}),[f.current]),k.a.useEffect((function(){return Ms(y,v)}),[y]),k.a.useEffect((function(){r?g():v()}),[r]),k.a.useEffect((function(){if(s)return ys(window,"resize",v).remove}),[s]),k.a.useEffect((function(){return function(){g()}}),[]),k.a.useImperativeHandle(e,(function(){return{forceAlign:function(){return v(!0)}}})),k.a.isValidElement(h)&&(h=k.a.cloneElement(h,{ref:Dr(h.ref,f)})),h},As=k.a.forwardRef(Is);As.displayName="Align";var Ts=As,Ps=["measure","alignPre","align",null,"motion"],Ds=O.forwardRef((function(t,e){var n=t.visible,r=t.prefixCls,o=t.className,i=t.style,a=t.children,s=t.zIndex,c=t.stretch,u=t.destroyPopupOnHide,l=t.forceRender,f=t.align,h=t.point,d=t.getRootDomNode,p=t.getClassNameFromAlign,v=t.onAlign,g=t.onMouseEnter,m=t.onMouseLeave,y=t.onMouseDown,b=t.onTouchStart,_=t.onClick,w=Object(O.useRef)(),x=Object(O.useRef)(),S=Mr(Object(O.useState)(),2),k=S[0],M=S[1],E=function(t){var e=Mr(O.useState({width:0,height:0}),2),n=e[0],r=e[1];return[O.useMemo((function(){var e={};if(t){var r=n.width,o=n.height;-1!==t.indexOf("height")&&o?e.height=o:-1!==t.indexOf("minHeight")&&o&&(e.minHeight=o),-1!==t.indexOf("width")&&r?e.width=r:-1!==t.indexOf("minWidth")&&r&&(e.minWidth=r)}return e}),[t,n]),function(t){var e=t.offsetWidth,n=t.offsetHeight,o=t.getBoundingClientRect(),i=o.width,a=o.height;Math.abs(e-i)<1&&Math.abs(n-a)<1&&(e=i,n=a),r({width:e,height:n})}]}(c),j=Mr(E,2),I=j[0],A=j[1];var T=function(t,e){var n=Mr(lo(null),2),r=n[0],o=n[1],i=Object(O.useRef)();function a(t){o(t,!0)}function s(){Ao.cancel(i.current)}return Object(O.useEffect)((function(){a("measure")}),[t]),Object(O.useEffect)((function(){switch(r){case"measure":e()}r&&(i.current=Ao(Qn(qn().mark((function t(){var e,n;return qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Ps.indexOf(r),(n=Ps[e+1])&&-1!==e&&a(n);case 3:case"end":return t.stop()}}),t)})))))}),[r]),Object(O.useEffect)((function(){return function(){s()}}),[]),[r,function(t){s(),i.current=Ao((function(){a((function(t){switch(r){case"align":return"motion";case"motion":return"stable"}return t})),null===t||void 0===t||t()}))}]}(n,(function(){c&&A(d())})),P=Mr(T,2),D=P[0],N=P[1],L=Mr(Object(O.useState)(0),2),R=L[0],B=L[1],z=Object(O.useRef)();function F(){var t;null===(t=w.current)||void 0===t||t.forceAlign()}function H(t,e){var n=p(e);k!==n&&M(n),B((function(t){return t+1})),"align"===D&&(null===v||void 0===v||v(t,e))}Hr((function(){"alignPre"===D&&B(0)}),[D]),Hr((function(){"align"===D&&(R<3?F():N((function(){var t;null===(t=z.current)||void 0===t||t.call(z)})))}),[R]);var U=Object(Gn.a)({},xs(t));function W(){return new Promise((function(t){z.current=t}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(t){var e=U[t];U[t]=function(t,n){return N(),null===e||void 0===e?void 0:e(t,n)}})),O.useEffect((function(){U.motionName||"motion"!==D||N()}),[U.motionName,D]),O.useImperativeHandle(e,(function(){return{forceAlign:F,getElement:function(){return x.current}}}));var V=Object(Gn.a)(Object(Gn.a)({},I),{},{zIndex:s,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:n||"stable"===D?void 0:"none"},i),Y=!0;null===f||void 0===f||!f.points||"align"!==D&&"stable"!==D||(Y=!1);var G=a;return O.Children.count(a)>1&&(G=O.createElement("div",{className:"".concat(r,"-content")},a)),O.createElement(Vo,Object(Ln.a)({visible:n,ref:x,leavedClassName:"".concat(r,"-hidden")},U,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:u,forceRender:l}),(function(t,e){var n=t.className,i=t.style,a=C()(r,o,k,n);return O.createElement(Ts,{target:h||d,key:"popup",ref:w,monitorWindowResize:!0,disabled:Y,align:f,onAlign:H},O.createElement("div",{ref:e,className:a,onMouseEnter:g,onMouseLeave:m,onMouseDownCapture:y,onTouchStartCapture:b,onClick:_,style:Object(Gn.a)(Object(Gn.a)({},i),V)},G))}))}));Ds.displayName="PopupInner";var Ns=Ds,Ls=O.forwardRef((function(t,e){var n=t.prefixCls,r=t.visible,o=t.zIndex,i=t.children,a=t.mobile,s=(a=void 0===a?{}:a).popupClassName,c=a.popupStyle,u=a.popupMotion,l=void 0===u?{}:u,f=a.popupRender,h=t.onClick,d=O.useRef();O.useImperativeHandle(e,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var p=Object(Gn.a)({zIndex:o},c),v=i;return O.Children.count(i)>1&&(v=O.createElement("div",{className:"".concat(n,"-content")},i)),f&&(v=f(v)),O.createElement(Vo,Object(Ln.a)({visible:r,ref:d,removeOnLeave:!0},l),(function(t,e){var r=t.className,o=t.style,i=C()(n,s,r);return O.createElement("div",{ref:e,className:i,onClick:h,style:Object(Gn.a)(Object(Gn.a)({},o),p)},v)}))}));Ls.displayName="MobilePopupInner";var Rs=Ls,Bs=["visible","mobile"],zs=O.forwardRef((function(t,e){var n=t.visible,r=t.mobile,o=Object(Xn.a)(t,Bs),i=Mr(Object(O.useState)(n),2),a=i[0],s=i[1],c=Mr(Object(O.useState)(!1),2),u=c[0],l=c[1],f=Object(Gn.a)(Object(Gn.a)({},o),{},{visible:a});Object(O.useEffect)((function(){s(n),n&&r&&l(ws())}),[n,r]);var h=u?O.createElement(Rs,Object(Ln.a)({},f,{mobile:r,ref:e})):O.createElement(Ns,Object(Ln.a)({},f,{ref:e}));return O.createElement("div",null,O.createElement(Ss,f),h)}));zs.displayName="Popup";var Fs=zs,Hs=O.createContext(null);function Us(){}function Ws(){return""}function Vs(t){return t?t.ownerDocument:window.document}var Ys=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Gs=function(t){var e=function(e){Object(Fn.a)(r,e);var n=Vn(r);function r(t){var e,o;return Object(Rn.a)(this,r),e=n.call(this,t),Object(Yn.a)(Object(zn.a)(e),"popupRef",O.createRef()),Object(Yn.a)(Object(zn.a)(e),"triggerRef",O.createRef()),Object(Yn.a)(Object(zn.a)(e),"portalContainer",void 0),Object(Yn.a)(Object(zn.a)(e),"attachId",void 0),Object(Yn.a)(Object(zn.a)(e),"clickOutsideHandler",void 0),Object(Yn.a)(Object(zn.a)(e),"touchOutsideHandler",void 0),Object(Yn.a)(Object(zn.a)(e),"contextMenuOutsideHandler1",void 0),Object(Yn.a)(Object(zn.a)(e),"contextMenuOutsideHandler2",void 0),Object(Yn.a)(Object(zn.a)(e),"mouseDownTimeout",void 0),Object(Yn.a)(Object(zn.a)(e),"focusTime",void 0),Object(Yn.a)(Object(zn.a)(e),"preClickTime",void 0),Object(Yn.a)(Object(zn.a)(e),"preTouchTime",void 0),Object(Yn.a)(Object(zn.a)(e),"delayTimer",void 0),Object(Yn.a)(Object(zn.a)(e),"hasPopupMouseDown",void 0),Object(Yn.a)(Object(zn.a)(e),"onMouseEnter",(function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)})),Object(Yn.a)(Object(zn.a)(e),"onMouseMove",(function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)})),Object(Yn.a)(Object(zn.a)(e),"onMouseLeave",(function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)})),Object(Yn.a)(Object(zn.a)(e),"onPopupMouseEnter",(function(){e.clearDelayTimer()})),Object(Yn.a)(Object(zn.a)(e),"onPopupMouseLeave",(function(t){var n;t.relatedTarget&&!t.relatedTarget.setTimeout&&Object(Jr.a)(null===(n=e.popupRef.current)||void 0===n?void 0:n.getElement(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)})),Object(Yn.a)(Object(zn.a)(e),"onFocus",(function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))})),Object(Yn.a)(Object(zn.a)(e),"onMouseDown",(function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()})),Object(Yn.a)(Object(zn.a)(e),"onTouchStart",(function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()})),Object(Yn.a)(Object(zn.a)(e),"onBlur",(function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)})),Object(Yn.a)(Object(zn.a)(e),"onContextMenu",(function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)})),Object(Yn.a)(Object(zn.a)(e),"onContextMenuClose",(function(){e.isContextMenuToShow()&&e.close()})),Object(Yn.a)(Object(zn.a)(e),"onClick",(function(t){if(e.fireEvents("onClick",t),e.focusTime){var n;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)})),Object(Yn.a)(Object(zn.a)(e),"onPopupMouseDown",(function(){var t;(e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=window.setTimeout((function(){e.hasPopupMouseDown=!1}),0),e.context)&&(t=e.context).onPopupMouseDown.apply(t,arguments)})),Object(Yn.a)(Object(zn.a)(e),"onDocumentClick",(function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=e.getRootDomNode(),o=e.getPopupDomNode();Object(Jr.a)(r,n)&&!e.isContextMenuOnly()||Object(Jr.a)(o,n)||e.hasPopupMouseDown||e.close()}})),Object(Yn.a)(Object(zn.a)(e),"getRootDomNode",(function(){var t=e.props.getTriggerDOMNode;if(t)return t(e.triggerRef.current);try{var n=so(e.triggerRef.current);if(n)return n}catch(r){}return jr.a.findDOMNode(Object(zn.a)(e))})),Object(Yn.a)(Object(zn.a)(e),"getPopupClassNameFromAlign",(function(t){var n=[],r=e.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,c=r.getPopupClassNameFromAlign;return o&&i&&n.push(function(t,e,n,r){for(var o=n.points,i=Object.keys(t),a=0;a<i.length;a+=1){var s=i[a];if(_s(t[s].points,o,r))return"".concat(e,"-placement-").concat(s)}return""}(i,a,t,s)),c&&n.push(c(t)),n.join(" ")})),Object(Yn.a)(Object(zn.a)(e),"getComponent",(function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,o=t.popupClassName,i=t.onPopupAlign,a=t.popupMotion,s=t.popupAnimation,c=t.popupTransitionName,u=t.popupStyle,l=t.mask,f=t.maskAnimation,h=t.maskTransitionName,d=t.maskMotion,p=t.zIndex,v=t.popup,g=t.stretch,m=t.alignPoint,y=t.mobile,b=t.forceRender,_=t.onPopupClick,w=e.state,x=w.popupVisible,S=w.point,C=e.getPopupAlign(),k={};return e.isMouseEnterToShow()&&(k.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(k.onMouseLeave=e.onPopupMouseLeave),k.onMouseDown=e.onPopupMouseDown,k.onTouchStart=e.onPopupMouseDown,O.createElement(Fs,Object(Ln.a)({prefixCls:n,destroyPopupOnHide:r,visible:x,point:m&&S,className:o,align:C,onAlign:i,animation:s,getClassNameFromAlign:e.getPopupClassNameFromAlign},k,{stretch:g,getRootDomNode:e.getRootDomNode,style:u,mask:l,zIndex:p,transitionName:c,maskAnimation:f,maskTransitionName:h,maskMotion:d,ref:e.popupRef,motion:a,mobile:y,forceRender:b,onClick:_}),"function"===typeof v?v():v)})),Object(Yn.a)(Object(zn.a)(e),"attachParent",(function(t){Ao.cancel(e.attachId);var n,r=e.props,o=r.getPopupContainer,i=r.getDocument,a=e.getRootDomNode();o?(a||0===o.length)&&(n=o(a)):n=i(e.getRootDomNode()).body,n?n.appendChild(t):e.attachId=Ao((function(){e.attachParent(t)}))})),Object(Yn.a)(Object(zn.a)(e),"getContainer",(function(){if(!e.portalContainer){var t=(0,e.props.getDocument)(e.getRootDomNode()).createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",e.portalContainer=t}return e.attachParent(e.portalContainer),e.portalContainer})),Object(Yn.a)(Object(zn.a)(e),"setPoint",(function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})})),Object(Yn.a)(Object(zn.a)(e),"handlePortalUpdate",(function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)})),Object(Yn.a)(Object(zn.a)(e),"triggerContextValue",{onPopupMouseDown:e.onPopupMouseDown}),o="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,e.state={prevPopupVisible:o,popupVisible:o},Ys.forEach((function(t){e["fire".concat(t)]=function(n){e.fireEvents(t,n)}})),e}return Object(Bn.a)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t,e=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(t=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ys(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ys(t,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(t=t||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ys(t,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ys(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Ao.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var t;return(null===(t=this.popupRef.current)||void 0===t?void 0:t.getElement())||null}},{key:"getPopupAlign",value:function(){var t=this.props,e=t.popupPlacement,n=t.popupAlign,r=t.builtinPlacements;return e&&r?function(t,e,n){var r=t[e]||{};return Object(Gn.a)(Object(Gn.a)({},r),n)}(r,e,n):n}},{key:"setPopupVisible",value:function(t,e){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==t&&("popupVisible"in this.props||this.setState({popupVisible:t,prevPopupVisible:r}),this.props.onPopupVisibleChange(t)),n&&e&&t&&this.setPoint(e)}},{key:"delaySetPopupVisible",value:function(t,e,n){var r=this,o=1e3*e;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(t,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(t,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(t){var e=this.props.children.props,n=this.props;return e[t]&&n[t]?this["fire".concat(t)]:e[t]||n[t]}},{key:"isClickToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var t=this.props.action;return"contextMenu"===t||1===t.length&&"contextMenu"===t[0]}},{key:"isContextMenuToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var t;this.state.popupVisible&&(null===(t=this.popupRef.current)||void 0===t||t.forceAlign())}},{key:"fireEvents",value:function(t,e){var n=this.props.children.props[t];n&&n(e);var r=this.props[t];r&&r(e)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,n=this.props,r=n.children,o=n.forceRender,i=n.alignPoint,a=n.className,s=n.autoDestroy,c=O.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,i&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var l=C()(c&&c.props&&c.props.className,a);l&&(u.className=l);var f=Object(Gn.a)({},u);Lr(c)&&(f.ref=Dr(this.triggerRef,c.ref));var h,d=O.cloneElement(c,f);return(e||this.popupRef.current||o)&&(h=O.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(h=null),O.createElement(Hs.Provider,{value:this.triggerContextValue},d,h)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.popupVisible,r={};return void 0!==n&&e.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=e.popupVisible),r}}]),r}(O.Component);return Object(Yn.a)(e,"contextType",Hs),Object(Yn.a)(e,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Ws,getDocument:Vs,onPopupVisibleChange:Us,afterPopupVisibleChange:Us,onPopupAlign:Us,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),e}(bs),Xs={adjustX:1,adjustY:1},Zs=[0,0],qs={left:{points:["cr","cl"],overflow:Xs,offset:[-4,0],targetOffset:Zs},right:{points:["cl","cr"],overflow:Xs,offset:[4,0],targetOffset:Zs},top:{points:["bc","tc"],overflow:Xs,offset:[0,-4],targetOffset:Zs},bottom:{points:["tc","bc"],overflow:Xs,offset:[0,4],targetOffset:Zs},topLeft:{points:["bl","tl"],overflow:Xs,offset:[0,-4],targetOffset:Zs},leftTop:{points:["tr","tl"],overflow:Xs,offset:[-4,0],targetOffset:Zs},topRight:{points:["br","tr"],overflow:Xs,offset:[0,-4],targetOffset:Zs},rightTop:{points:["tl","tr"],overflow:Xs,offset:[4,0],targetOffset:Zs},bottomRight:{points:["tr","br"],overflow:Xs,offset:[0,4],targetOffset:Zs},rightBottom:{points:["bl","br"],overflow:Xs,offset:[4,0],targetOffset:Zs},bottomLeft:{points:["tl","bl"],overflow:Xs,offset:[0,4],targetOffset:Zs},leftBottom:{points:["br","bl"],overflow:Xs,offset:[-4,0],targetOffset:Zs}};function Ks(t){var e=t.showArrow,n=t.arrowContent,r=t.children,o=t.prefixCls,i=t.id,a=t.overlayInnerStyle,s=t.className,c=t.style;return O.createElement("div",{className:C()("".concat(o,"-content"),s),style:c},!1!==e&&O.createElement("div",{className:"".concat(o,"-arrow"),key:"arrow"},n),O.createElement("div",{className:"".concat(o,"-inner"),id:i,role:"tooltip",style:a},"function"===typeof r?r():r))}var Qs=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Js=function(t,e){var n=t.overlayClassName,r=t.trigger,o=void 0===r?["hover"]:r,i=t.mouseEnterDelay,a=void 0===i?0:i,s=t.mouseLeaveDelay,c=void 0===s?.1:s,u=t.overlayStyle,l=t.prefixCls,f=void 0===l?"rc-tooltip":l,h=t.children,d=t.onVisibleChange,p=t.afterVisibleChange,v=t.transitionName,g=t.animation,m=t.motion,y=t.placement,b=void 0===y?"right":y,_=t.align,w=void 0===_?{}:_,x=t.destroyTooltipOnHide,S=void 0!==x&&x,C=t.defaultVisible,k=t.getTooltipContainer,M=t.overlayInnerStyle,E=t.arrowContent,j=t.overlay,I=t.id,A=t.showArrow,T=void 0===A||A,P=Object(Xn.a)(t,Qs),D=Object(O.useRef)(null);Object(O.useImperativeHandle)(e,(function(){return D.current}));var N=Object(Gn.a)({},P);"visible"in t&&(N.popupVisible=t.visible);var L=!1,R=!1;if("boolean"===typeof S)L=S;else if(S&&"object"===Object(Zn.a)(S)){var B=S.keepParent;L=!0===B,R=!1===B}return O.createElement(Gs,Object(Ln.a)({popupClassName:n,prefixCls:f,popup:function(){return O.createElement(Ks,{showArrow:T,arrowContent:E,key:"content",prefixCls:f,id:I,overlayInnerStyle:M},j)},action:o,builtinPlacements:qs,popupPlacement:b,ref:D,popupAlign:w,getPopupContainer:k,onPopupVisibleChange:d,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:m,defaultPopupVisible:C,destroyPopupOnHide:L,autoDestroy:R,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a},N),h)},$s=Object(O.forwardRef)(Js);function tc(){return(tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ec(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nc(t,e)}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t,e){return e||(e=t.slice(0)),t.raw=e,t}var oc={wrapper:"w1dthssj",dialog:"d1cjvrst"},ic="INSERT",ac="REPLACE";function sc(t,e,n,r,o,i){void 0===e&&(e=ic),void 0===r&&(r=""),void 0===o&&(o=0),void 0===i&&(i=0);var a,s=t.getCurrentContent(),c=t.getSelection(),u=0,l=0,f=s.createEntity("INLINETEX","IMMUTABLE",{teX:""+n}).getLastCreatedEntityKey();switch(e){case ic:var h=j.Modifier.removeRange(s,c,"backward"),d=h.getSelectionAfter();a=j.Modifier.insertText(h,d," ",void 0,f),u=d.getAnchorOffset(),l=s.getBlockForKey(d.getAnchorKey()).getLength();break;case ac:var p=j.SelectionState.createEmpty(r).merge({anchorOffset:o,focusOffset:i});a=j.Modifier.replaceText(s,p,""===n?"":" ",s.getBlockForKey(r).getInlineStyleAt(o),""===n?void 0:f),u=i,l=s.getBlockForKey(p.getAnchorKey()).getLength();break;default:throw new Error('Unidentified value of "mode"')}u===l&&(a=j.Modifier.insertText(a,a.getSelectionAfter()," ")),0===u&&0===l&&(a=j.Modifier.insertText(a,c," "));var v=j.EditorState.push(t,a,"apply-entity");return j.EditorState.forceSelection(v,a.getSelectionAfter())}var cc,uc,lc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).openFormulaEdit=function(){var t=e.props.store;t.getItem("getReadOnly")()||(t.updateItem("isVisible",!0),t.updateItem("mode",ic))},e}return ec(e,t),e.prototype.render=function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n;return k.a.createElement("div",{className:e.buttonWrapper},k.a.createElement("button",tc({},r,{type:"button",className:e.button,onClick:this.openFormulaEdit}),k.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M841 370c3-3.3 2.7-8.3-.6-11.3a8.24 8.24 0 00-5.3-2.1h-72.6c-2.4 0-4.6 1-6.1 2.8L633.5 504.6a7.96 7.96 0 01-13.4-1.9l-63.5-141.3a7.9 7.9 0 00-7.3-4.7H380.7l.9-4.7 8-42.3c10.5-55.4 38-81.4 85.8-81.4 18.6 0 35.5 1.7 48.8 4.7l14.1-66.8c-22.6-4.7-35.2-6.1-54.9-6.1-103.3 0-156.4 44.3-175.9 147.3l-9.4 49.4h-97.6c-3.8 0-7.1 2.7-7.8 6.4L181.9 415a8.07 8.07 0 007.8 9.7H284l-89 429.9a8.07 8.07 0 007.8 9.7H269c3.8 0 7.1-2.7 7.8-6.4l89.7-433.1h135.8l68.2 139.1c1.4 2.9 1 6.4-1.2 8.8l-180.6 203c-2.9 3.3-2.6 8.4.7 11.3 1.5 1.3 3.4 2 5.3 2h72.7c2.4 0 4.6-1 6.1-2.8l123.7-146.7c2.8-3.4 7.9-3.8 11.3-1 .9.8 1.6 1.7 2.1 2.8L676.4 784c1.3 2.8 4.1 4.7 7.3 4.7h64.6a8.02 8.02 0 007.2-11.5l-95.2-198.9c-1.4-2.9-.9-6.4 1.3-8.8L841 370z"}))))},e}(O.Component),fc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).mathField=void 0,e.state={isVisible:!1,latex:void 0,mode:ic},e.onChangeMode=function(t){var n,r=e.props.store;if(t===ic)null==(n=e.mathField)||n.setValue(""),e.setState({latex:void 0,mode:t});else if(t===ac){var o,i=r.getItem("latex");null==(o=e.mathField)||o.setValue(i),e.setState({latex:i,mode:t})}},e.onVisible=function(t){e.setState({isVisible:t})},e.onChangeMathLive=function(t){e.setState({latex:null==t?void 0:t.target.value})},e.onChangeTextarea=function(t){var n,r;e.mathField.setValue(null==t||null==(n=t.target)?void 0:n.value),e.setState({latex:null==t||null==(r=t.target)?void 0:r.value})},e.onClick=function(t){t.stopPropagation()},e.onClose=function(t){t.stopPropagation(),e.props.store.updateItem("isVisible",!1),e.save()},e.save=function(){var t=e.props.store,n=e.state.latex,r=t.getItem("mode"),o=t.getItem("getEditorState"),i=t.getItem("setEditorState"),a=t.getItem("blockKey"),s=t.getItem("start"),c=t.getItem("end");At(n)&&i(sc(o(),r,n,a,s,c)),e.setState({latex:void 0})},e}ec(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.store;t.subscribeToItem("isVisible",this.onVisible),t.subscribeToItem("mode",this.onChangeMode)},n.componentWillUnmount=function(){var t=this.props.store;t.unsubscribeFromItem("isVisible",this.onVisible),t.unsubscribeFromItem("mode",this.onChangeMode)},n.render=function(){var t=this,e=this.props.theme,n=this.state,r=n.isVisible,o=n.latex;return k.a.createElement(ti,{className:null==e?void 0:e.dialog,title:"Latex\u516c\u5f0f\u7f16\u8f91\u5668",visible:r,onClose:this.onClose,wrapProps:{onClick:this.onClick},bodyStyle:{transform:"translateZ(10px)"}},k.a.createElement("div",{className:"output"},k.a.createElement("math-field",{id:"formula",ref:function(e){return t.mathField=e},"virtual-keyboard-mode":"manual",onInput:this.onChangeMathLive},o)),k.a.createElement(ms,{id:"latex",rows:4,value:o,onChange:this.onChangeTextarea,onClick:this.onClick}))},e}(O.Component),hc=k.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"})),dc=["store","theme","className","decoratedText","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState","blockKey","blockProps","start","end"],pc=k.a.forwardRef((function(t,e){var n=t.store,r=t.theme,o=void 0===r?{}:r,i=t.className;t.decoratedText,t.dir;var a=t.entityKey;t.getEditorState,t.offsetKey,t.setEditorState;var s=t.contentState,c=t.blockKey;t.blockProps;var u=t.start,l=t.end,f=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,dc),h=$(o.wrapper,i),d=n.getItem("getReadOnly"),p=(a?s.getEntity(a).getData():{teX:""}).teX,v=Object(O.useState)(!1),g=v[0],m=v[1],y=d()?{visible:!1}:{};return k.a.createElement($s,tc({visible:!1,placement:"top",trigger:["hover"],overlayInnerStyle:{minHeight:"initial"},overlay:k.a.createElement("span",{onClick:function(t){t.preventDefault(),g&&!d()&&(n.updateItem("blockKey",c),n.updateItem("latex",p),n.updateItem("start",u),n.updateItem("end",l),n.updateItem("isVisible",!0),n.updateItem("mode",ac))}},hc),onVisibleChange:function(t){return m(t)}},y),k.a.createElement("span",tc({},f,{contentEditable:!1,"data-offset-key":t.offsetKey,className:h,ref:e}),k.a.createElement(qa.InlineMath,{math:String.raw(cc||(cc=rc(["",""])),p)}),k.a.createElement("span",null)))})),vc=function(t,e,n){t.findEntityRanges((function(t){var e=t.getEntity();return null!==e&&"INLINETEX"===n.getEntity(e).getType()}),e)};function gc(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bc(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function mc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||bc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(t){return function(t){if(Array.isArray(t))return _c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bc(t,e){if(t){if("string"===typeof t)return _c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(t,e):void 0}}function _c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wc=function(t){return t instanceof Object},xc=function(t){return"function"===typeof t},Sc=function(t){return t instanceof Array},Cc=function(t){return t instanceof Set},Oc=function(t){return t instanceof Map},kc=function(t,e,n){if(Sc(t))for(var r=0;r<t.length;r++){var o=e(t[r],r,t);if(n&&n(o))return!1}else if(Cc(t)){var i,a=0,s=gc(t.values());try{for(s.s();!(i=s.n()).done;){var c=e(i.value,a++);if(n&&n(c))return!1}}catch(g){s.e(g)}finally{s.f()}}else if(Oc(t)){var u,l=gc(t.entries());try{for(l.s();!(u=l.n()).done;){var f=mc(u.value,2),h=f[0],d=e(f[1],h);if(n&&n(d))return!1}}catch(g){l.e(g)}finally{l.f()}}else if(wc(t))for(var p in t){var v=e(t[p],p);if(n&&n(v))return!1}return!0},Mc={extend:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sc(t)?n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))})):Cc(t)?n.forEach((function(e){return e.forEach((function(e){return t.add(e)}))})):Oc(t)?n.forEach((function(e){return yc(e.entries()).forEach((function(e){var n=mc(e,2),r=n[0],o=n[1];return t.set(r,o)}))})):wc(t)?n.forEach((function(e){return Object.assign(t,e)})):n.forEach((function(e){for(var n in e)t[n]=e[n]})),t},each:kc,key:function(t,e){var n=null;return kc(t,(function(t,r){return t===e&&(n=r,!0)}),(function(t){return t})),n},elif:function(t,e){var n=xc(t)?t():t;return e[n]&&e[n](t)},group:function(t,e){var n={};return kc(t,(function(){var t=e.apply(void 0,arguments);t in n||(n[t]=new Set([])),n[t].add(arguments.length<=0?void 0:arguments[0])})),n},eachPair:function(t,e){if(Sc(t))for(var n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)e(t[n],t[r],n,r,t);else if(Cc(t))for(var o=yc(t),i=0;i<o.length-1;i++)for(var a=i+1;a<o.length;a++)e(o[i],o[a],i,a);else if(Oc(t))for(var s=yc(t),c=0;c<s.length-1;c++)for(var u=c+1;u<s.length;u++)e(s[c][1],s[u][1],s[c][0],s[u][0]);else if(wc(t))for(var l=t.keys(),f=0;f<l.length-1;f++)for(var h=f+1;h<l.length;h++)e(t[l[f]],t[l[h]],l[f],l[h],l);return t},map:function(t,e){if(Sc(t)){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t));return n}if(Cc(t)){var o,i=new Set,a=0,s=gc(t.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;i.add(e(c,a++,t))}}catch(m){s.e(m)}finally{s.f()}return i}if(Oc(t)){var u,l=new Map,f=gc(t.entries());try{for(f.s();!(u=f.n()).done;){var h=mc(u.value,2),d=h[0],p=h[1];l.set(d,e(p,d))}}catch(m){f.e(m)}finally{f.f()}return l}if(wc(t)){var v={};for(var g in t)v[g]=e(t[g],g);return v}return t},filter:function(t,e){if(Sc(t)){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}if(Cc(t)){var o,i=new Set,a=0,s=gc(t.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;e(c,a++,t)&&i.add(c)}}catch(m){s.e(m)}finally{s.f()}return i}if(Oc(t)){var u,l=new Map,f=gc(t.entries());try{for(f.s();!(u=f.n()).done;){var h=mc(u.value,2),d=h[0],p=h[1];e(p,d)&&l.set(d,p)}}catch(m){f.e(m)}finally{f.f()}return l}if(wc(t)){var v={};for(var g in t)e(t[g],g)&&(v[g]=t[g]);return v}return t},toObj:function(t,e){var n={};return kc(t,(function(){var t=e.apply(void 0,arguments),r=mc(t,2),o=r[0],i=r[1];n[o]=i})),n},toArr:function(t,e){var n=[];return kc(t,(function(){return n.push(e.apply(void 0,arguments))})),n},toSet:function(t,e){var n=new Set;return kc(t,(function(){return n.add(e.apply(void 0,arguments))})),n},del:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sc(t)?kc(n,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}})):Cc(t)?kc(n,(function(e){return t.delete(e)})):Oc(t)?kc(n,(function(e){var n,r=gc(t.entries());try{for(r.s();!(n=r.n()).done;){var o=mc(n.value,2),i=o[0];if(o[1]===e){t.delete(i);break}}}catch(a){r.e(a)}finally{r.f()}})):wc(t)&&kc(n,(function(e){for(var n in t)if(e===t[n]){delete t[n];break}})),t},has:function(t,e){if(Sc(t)){for(var n in t)if(n===e)return!0}else if(Cc(t))return t.has(e);return!1},size:function(t){return Sc(t)?t.length:Cc(t)||Oc(t)?t.size:wc(t)?Object.keys(t).length:0},repeat:function(t,e){for(var n=0;n<t;n++)e(n)},cl:function(t){return JSON.parse(JSON.stringify(t))},getter:function(t,e){return kc(e,(function(e,n){t.__defineGetter__(n,e)})),t},setter:function(t,e){return kc(e,(function(e,n){t.__defineSetter__(n,e)})),t},isNum:function(t){return"number"===typeof t},isArr:Sc,isSet:Cc,isMap:Oc,isNaN:function(t){return window.isNaN(t)},isStr:function(t){return"string"===typeof t},isObj:wc,isFun:xc,isUnd:function(t){return"undefined"===typeof t},isBool:function(t){return"boolean"===typeof t}};function Ec(t){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ac(r.key),r)}}function Ic(t,e,n){return e&&jc(t.prototype,e),n&&jc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ac(t){var e=function(t,e){if("object"!=Ec(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ec(e)?e:e+""}function Tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Pc=Mc.each,Dc=Mc.extend,Nc=Mc.getter,Lc=Mc.isNum,Rc=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame).bind(window),Bc=(window.cancelAnimationFrame||window.mozCancelAnimationFrame).bind(window),zc=!1;try{var Fc=Object.defineProperty({},"passive",{get:function(){return zc=!0}});window.addEventListener("test",null,Fc)}catch(FO){}var Hc=Ic((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Tc(this,t);var o={};this.loop=null,this.timeout=null;var i=function(){return n.loop=Rc(a),o},a=function t(o){!1!==e(o)&&(r?n.timeout=setTimeout((function(){return n.loop=Rc(t)}),r):n.loop=Rc(t))},s=function(){n.timeout&&clearTimeout(n.timeout),n.timeout=null,Bc(n.loop)};return Nc(o,{start:function(){return i},stop:function(){return s}}),o})),Uc={RAF:Rc,CAF:Bc,dom:function(t){return document.createElement(t||"div")},svg:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},attr:function(t,e){return Pc(e,(function(e,n){return t.setAttribute(n,e)}))},delAttr:function(t,e){return t.removeAttribute(e)},prepend:function(t,e){e.parentNode!==t&&(t.childNodes[0]?t.insertBefore(e,t.childNodes[0]):t.appendChild(e))},attach:function(t,e){return e.parentNode!==t&&(t.appendChild(e),!0)},detach:function(t,e){return e.parentNode===t&&(t.removeChild(e),!0)},clean:function(t){for(var e=t.childNodes.length-1;e>=0;e--)t.removeChild(t.childNodes[e])},style:function(t,e){return Dc(t.style,e)},newTextNode:function(t){return document.createTextNode(t)},bind:function(t,e,n){return t.addEventListener(e,n,!!zc&&{passive:!1,capture:!1})},Loop:Hc,color:function(t,e,n,r){return Lc(r)?"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")"):"rgb(".concat(t,",").concat(e,",").concat(n,")")}},Wc={guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}};function Vc(t){return function(t){if(Array.isArray(t))return Qc(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Kc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(t,e,n){return e=Gc(e),function(t,e){if(e&&("object"===Zc(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Gc(t).constructor):e.apply(t,n))}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xc(t,e){return(Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zc(t){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Kc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(t,e){if(t){if("string"===typeof t)return Qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qc(t,e):void 0}}function Qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eu(r.key),r)}}function tu(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eu(t){var e=function(t,e){if("object"!=Zc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zc(e)?e:e+""}var nu=Mc.each,ru=function(t){return Math.pow(t,2)},ou=function(t){return Math.sqrt(t)},iu=function(){function t(e,n){Jc(this,t),this.x=e||0,this.y=n||0}return tu(t,[{key:"cl",value:function(){return new t(this.x,this.y)}},{key:"arr",get:function(){return[this.x,this.y]},set:function(t){var e=qc(t,2);this.x=e[0],this.y=e[1]}},{key:"obj",get:function(){return{x:this.x,y:this.y}},set:function(t){var e=t.x,n=t.y;this.x=e,this.y=n}},{key:"eq",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"dist",value:function(t){return ou(ru(this.x-t.x)+ru(this.y-t.y))}},{key:"val",set:function(t){this.x=t.x,this.y=t.y}}],[{key:"center",value:function(){for(var e=0,n=0,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.length||1;return nu(o,(function(t){e+=t.x,n+=t.y})),new t(e/a,n/a)}}])}(),au=function(t){function e(t,n){if(Jc(this,e),t instanceof iu&&n instanceof iu){var r=[n.x-t.x,n.y-t.y];t=r[0],n=r[1]}return Yc(this,e,[t,n])}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xc(t,e)}(e,t),tu(e,[{key:"cl",value:function(){return new e(this.x,this.y)}},{key:"scale",value:function(t,e){e||(e=t);var n=qc(this.arr,2),r=n[0],o=n[1];return this.arr=[r*t,o*e],this}},{key:"move",value:function(t){return t.x+=this.x,t.y+=this.y,t}},{key:"size",get:function(){return ou(ru(this.x)+ru(this.y))},set:function(t){var e=this.size;this.arr=0===e?[0,0]:[this.x*(t/e),this.y*(t/e)]}},{key:"rot",value:function(t){t=t/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),r=qc(this.arr,2),o=r[0],i=r[1];return this.x=o*e-i*n,this.y=o*n+i*e,this}}])}(iu),su=function(){function t(e,n,r,o){if(Jc(this,t),e instanceof iu&&n instanceof iu){var i=[].concat(Vc(e.x>n.x?[n.x,e.x-n.x]:[e.x,n.x-e.x]),Vc(e.y>n.y?[n.y,e.y-n.y]:[e.y,n.y-e.y]));e=i[0],r=i[1],n=i[2],o=i[3]}this.x=e||0,this.y=n||0,this.w=r||0,this.h=o||0}return tu(t,[{key:"cover",value:function(t){var e=qc(t.arr,2),n=e[0],r=e[1];return this.l<n&&this.r>n&&this.t<r&&this.b>r}},{key:"cx",get:function(){return this.x+this.w/2},set:function(t){this.x+=t-this.cx}},{key:"cy",get:function(){return this.y+this.h/2},set:function(t){this.y+=t-this.cy}},{key:"l",get:function(){return this.x},set:function(t){this.x=t}},{key:"r",get:function(){return this.x+this.w},set:function(t){this.x=t-this.w}},{key:"t",get:function(){return this.y},set:function(t){this.y=t}},{key:"b",get:function(){return this.y+this.h},set:function(t){this.y=t-this.h}},{key:"set",value:function(t){return this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,this}},{key:"merge",value:function(t){var e=Math.min(this.l,t.l),n=Math.max(this.r,t.r),r=Math.min(this.t,t.t),o=[e,r,n-e,Math.max(this.b,t.b)-r];return this.x=o[0],this.y=o[1],this.w=o[2],this.h=o[3],this}},{key:"intersect",value:function(t){var e=Math.max(this.l,t.l),n=Math.min(this.r,t.r),r=Math.max(this.t,t.t),o=Math.min(this.b,t.b),i=qc(e>n||r>o?[0,0,0,0]:[e,r,n-e,o-r],4);return this.x=i[0],this.y=i[1],this.w=i[2],this.h=i[3],this}},{key:"area",value:function(){return this.w*this.h}},{key:"cl",value:function(){return new t(this.x,this.y,this.w,this.h)}},{key:"center",get:function(){return new iu(this.cx,this.cy)}},{key:"val",set:function(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h}}],[{key:"merge",value:function(e){var n=Number.POSITIVE_INFINITY,r=n,o=-n,i=n,a=-n;return nu(e,(function(t){r=t.l<r?t.l:r,i=t.t<i?t.t:i,o=t.r>o?t.r:o,a=t.b>a?t.b:a})),new t(r,i,o-r,a-i)}}])}(),cu={Pin:iu,Vec:au,Box:su};function uu(t){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lu(Object(n),!0).forEach((function(e){hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hu(t,e,n){return(e=vu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vu(r.key),r)}}function pu(t,e,n){return e&&du(t.prototype,e),n&&du(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vu(t){var e=function(t,e){if("object"!=uu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uu(e)?e:e+""}var gu=Mc.map,mu=Mc.getter,yu=Uc.Loop,bu=function(t,e,n,r){return-n*(t/=r)*(t-2)+e},_u=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},wu=function(t,e,n,r){return n-xu(r-t,0,n,r)+e},xu=function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},Su={linear:function(t,e,n,r){return n*(t/r)+e},swing:function(t,e,n,r){return bu(t,e,n,r)},ease:function(t,e,n,r){return _u(t,e,n,r)},easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:bu,easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:_u,easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:1===(t/=r)?e+n:(i||(i=.3*r),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)+e)},easeOutElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:1===(t/=r)?e+n:(i||(i=.3*r),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+n+e)},easeInOutElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:2===(t/=r/2)?e+n:(i||(i=r*(.3*1.5)),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+n+e)},easeInBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},easeInBounce:wu,easeOutBounce:xu,easeInOutBounce:function(t,e,n,r){return t<r/2?.5*wu(2*t,0,n,r)+e:.5*xu(2*t-r,0,n,r)+.5*n+e}},Cu={Animate:pu((function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i={};this.status="ready",this.inital=fu({},e),this.final=fu({},n),this.start=null,this.time=1e3,this.type="linear",this.callback=null,this.frame=0,this.loop=new yu((function(t){if(null===o.start&&(o.start=t),t-o.start>o.time)return r(o.final),o.frame++,o.callback&&o.callback(),o.status="finished",!1;var e=gu(o.inital,(function(e,r){return Su[o.type](t-o.start,e,n[r]-e,o.time)}));r(e),o.frame++}));var a=function(t,e,n){return"ready"!==o.status||(o.time=t,o.type=e,o.callback=n,o.status="playing",o.loop.start()),i},s=function(){return"playing"!==o.status||(o.status="stoped",o.loop.stop(),o.callback&&o.callback(!1)),i};return mu(i,{start:function(){return a},stop:function(){return s},status:function(){return o.status},frame:function(){return o.frame}}),i}))};function Ou(t){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ku(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ku(Object(n),!0).forEach((function(e){Eu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Eu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ou(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ou(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ju=Mu(Mu(Mu(Mu(Mu({},Uc),Wc),Mc),cu),Cu),Iu=function(t){var e={utils:ju},n={};return ju.getter(n,{mindmap:function(){return e},props:function(){return t}}),ju.each(Au,(function(t){return t(n)})),e.core=n,e},Au=[];ju.setter(Iu,{module:function(t){return Au.push(t)}}),ju.getter(Iu,{version:function(){return"2.1.0"},utils:function(){return ju}});var Tu=Iu,Pu=Tu.utils;Tu.module=function(t){var e=Pu.extend({},Du,t.props||{});Pu.getter(t,{option:function(){return e}}),Pu.getter(t.mindmap,{option:function(){return Pu.extend({},e)}})};var Du={};Pu.setter(Tu,{option:function(t){return Pu.extend(Du,t)}});var Nu=Tu.utils;function Lu(t){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(t){return function(t){if(Array.isArray(t))return Bu(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Lu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lu(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=t.props.target;if(!e)throw new Error("there is on target!");e=Nu.isStr(e)?document.querySelector(e):e;var n=Nu.dom("iframe");Nu.attach(e,n);var r=n.contentDocument;r.open(),r.write("<html><head></head><body></body></html>"),r.close();var o=Nu.svg("svg");window.iframe1=n,Nu.attach(r.body,o),Nu.style(n,{width:"100%",height:"100%",borderWidth:0}),Nu.style(r.body,{width:"100%",height:"100%",margin:0,WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"}),Nu.attr(r.body,{tabIndex:0}),Nu.style(o,{width:"100%",height:"100%"});var i=function(){return{width:e.offsetWidth,height:e.offsetHeight}},a=function(){return r.body.focus(),t.mindmap},s=function(){return r.body.blur(),t.mindmap};Nu.getter(t,{target:function(){return e},doc:function(){return r},body:function(){return r.body},win:function(){return n.contentWindow},svg:function(){return o},focus:function(){return a},blur:function(){return s},size:i}),Nu.getter(t.mindmap,{size:i,focus:function(){return a},blur:function(){return s}})};var Hu=Tu.utils;Tu.module=function(t){var e="*",n={},r=function(t,e,r,o){n[t]=n[t]||[],n[t].push({callback:e,target:r,once:o})},o=function(t,r,o){r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zu(Object(n),!0).forEach((function(e){Fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r);var i=!1,a=!1,s=Ru(n[t]||[]);return a=a||s.length,(i=!Hu.each(s,(function(e){if(e.target===o||o===Vu)return e.once&&Hu.del(n[t],e),e.callback(r)}),(function(t){return!1===t})))?!i:(s=Ru(n["".concat(e,"::").concat(t)]||[]),a=a||s.length,i=!Hu.each(s,(function(i){if(i.target===o||o===Vu)return i.once&&Hu.del(n["".concat(e,"::").concat(t)],i),i.callback(r)}),(function(t){return!1===t})),!!a&&!i)},i=function(t,e,r){n[t]&&Hu.each(n[t],(function(o){return(r===o.target||r===Vu)&&o.callback===e&&(Hu.del(n[t],o),!0)}),(function(t){return t}))},a=function(t,e,n){return e=e.toLowerCase().split(/[ |\t]+/g),Hu.each(e,n),t};!function(){var e=function(e,n){return a(t,e,(function(t){return r(t,n,Uu,!1)}))},n=function(e,n){return a(t,e,(function(t){return r(t,n,Uu,!0)}))},s=function(e,n){return a(t,e,(function(t){return i(t,n,Uu)}))},c=function(t,e,n){return o(t,e,n?Vu:Uu)};Hu.getter(t,{on:function(){return e},once:function(){return n},off:function(){return s},fire:function(){return c}})}(),function(){var e=t.mindmap,n=function(t,n){return a(e,t,(function(t){return r(t,n,Wu,!1)}))},s=function(t,n){return a(e,t,(function(t){return r(t,n,Wu,!0)}))},c=function(t,n){return a(e,t,(function(t){return i(t,n,Wu)}))},u=function(t,e){return o(t,e,Wu)};Hu.getter(e,{on:function(){return n},once:function(){return s},off:function(){return c},fire:function(){return u}})}();var s=t.doc,c={win:t.win,doc:s,body:t.doc.body};c.doc.onkeydown=function(){return!1},Hu.each(Yu,(function(e){var n=e.target,r=e.type,o=e.bind;return Hu.bind(c[n],r,o(t))}));var u=!1;t.on("interactchange",(function(){u||(setTimeout((function(){t.mindmap.fire("interactchange"),u=!1}),100),u=!0)})),Hu.setter(t,{status:function(n){t.fire("".concat(e,"->").concat(n)),e=n,t.fire("interactchange")}}),Hu.getter(t,{status:function(){return e}}),Hu.setter(t.mindmap,{status:function(){return e}}),setTimeout((function(){return t.status=t.option.status}))};var Uu=0,Wu=1,Vu=2;Tu.option={status:"edit",readOnly:!1};var Yu={};function Gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Xu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hu.setter(Tu,{event:function(t){return Yu[t.type]=t}});var Zu=Tu.utils;Tu.module=function(t){var e=new Zu.Pin,n=1,r=0,o=Zu.svg("g");Zu.attach(t.svg,o);var i=function(){var r=t.size,i=r.width,a=r.height,s=n,c=Gu(e.arr,2),u=c[0],l=c[1];return Zu.attr(o,{transform:"matrix(".concat(s,",0,0,").concat(s,",").concat(i/2-u*s,",").concat(a/2-l*s,")")}),t.fire("updateview",{},!0),t},a=function(e){var n=t.view.getCTM();return Zu.isUnd(e.w)||(e.w/=n.a),Zu.isUnd(e.h)||(e.h/=n.d),e.x=(e.x-n.e)/n.a,e.y=(e.y-n.f)/n.d,e},s=function(e){var n=t.view.getCTM();return Zu.isUnd(e.w)||(e.w*=n.a),Zu.isUnd(e.h)||(e.h*=n.d),e.x=e.x*n.a+n.e,e.y=e.y*n.d+n.f,e},c=function(e){return t.zoom*=Math.pow(t.option.zoomRate,e)},u="edit";t.on("resize",(function(t){return i()})),t.on("edit::mousewheel hand::mousewheel",(function(t){var e=t.delta;return c(e/120)})),t.on("edit::touchstart hand::touchstart",(function(e){var n=e.points;e.number<2||(r=qu(n),u=t.status,t.status="zoom")})),t.on("zoom::touchmove",(function(t){var e=t.points;if(!(t.number<2)){var n=qu(e);c((n-r)/50),r=n}})),t.on("zoom::touchend",(function(e){e.points;e.number||(t.status=u,r=0)})),Zu.getter(t,{center:function(){return e.cl()},zoom:function(){return n},resize:function(){return i},view:function(){return o},toView:function(){return a},fromView:function(){return s}}),Zu.setter(t,{center:function(t){e.val=t,i()},zoom:function(e){n=Math.max(e,t.option.minZoom),n=Math.min(n,t.option.maxZoom),i()}}),Zu.getter(t.mindmap,{svgHTML:function(){var e=o.cloneNode(!0),n=Zu.svg("svg");Zu.attach(n,e);var r=t.box;Zu.attr(n,{width:r.w,height:r.h}),Zu.attr(e,{transform:"translate(".concat(-r.l,",").concat(-r.t,")")});var i=Zu.dom("div");return Zu.attach(i,n),i.innerHTML},center:function(){return e.obj},zoom:function(){return n},view:function(){return o}})};var qu=function(t){var e=0;return Zu.eachPair(t,(function(t,n){var r=t.dist(n);e=e>r?e:r})),e};Tu.option={zoomRate:1.1,maxZoom:Math.pow(1.1,20),minZoom:Math.pow(1.1,-20),viewAnimationDuration:300,viewAnimationEasing:"ease"};var Ku=Tu.utils;Tu.module=function(t){var e=new Set(t.option.disableCommands),n=new Set(t.option.enableCommands),r=function(t){return n.size>0?!n.has(t):e.size>0?e.has(t):void 0};Ku.each(Qu,(function(e){var n=e.type,o=e.shortcut;if(o&&!r(n)){var a=o.split(/[ |\t]+/g);Ku.each(a,(function(e){return t.on("shortcut:".concat(e),(function(){var e=Qu[n];if(!e)return t.mindmap;if(r(n))return t.mindmap;if("disabled"===i(n))return t.mindmap;var o=e.execute(t)||{};t.fire("execcommand",{type:n,params:o,isShortcut:!0},!0),t.fire("interactchange")}))}))}}));var o=function(e){var n=Qu[e];if(!n)return t.mindmap;if(r(e))return t.mindmap;if("disabled"===i(e))return t.mindmap;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var c=n.execute.apply(n,[t].concat(a))||{};return t.fire("execcommand",{type:e,params:c,isShortcut:!1},!0),t.fire("interactchange"),t.mindmap},i=function(e){var n=Qu[e];if(!n)return"disabled";if(r(e))return"disabled";var o=n.query;return o?o(t):"normal"};Ku.getter(t.mindmap,{execCommand:function(){return o},queryCommand:function(){return i}})};var Qu={};Tu.option={disableCommands:[],enableCommands:[]},Ku.setter(Tu,{command:function(t){return Qu[t.type]=t}});var Ju=Tu.utils;function $u(t){return function(t){if(Array.isArray(t))return tl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){var e=function(){return t.fire("clean"),t},n=function(n,r){if(r&&e(),t.fire("beforeimport",{data:n}),!t.fire("import",{data:n}))throw new Error("fail import!");return t.fire("afterimport",{},!0),t},r=function(){var e={};return t.fire("export",{data:e}),e.version=Tu.version,e};Ju.getter(t,{clean:function(){return e},import:function(){return n},export:function(){return r}}),Ju.getter(t.mindmap,{data:function(){return r()}})};var el=Tu.utils;function nl(t){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ol(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=null,n={},r=function(e,r){var o={};return o.id=e||el.guid(),o.type="tree",o.children=[],o.parent=null,o.level=1,n[o.id]=o,t.fire("newnode",{node:o}),t.fire("newtree",{tree:o}),o},o=function(e){return e?(t.fire("deletetree",{tree:e}),t.fire("deletenode",{node:e}),delete n[e.id],t):t},i=function(e,n,r,o){return o=el.isBool(o)?o:!!el.isBool(r)&&r,(r=el.isFun(r)?r:function(){return!1})(e)||(o?(el.each($u(e.children),(function(t){return i(t,n,r,o)})),n(e)):(n(e),el.each($u(e.children),(function(t){return i(t,n,r,o)})))),t},a=function(t,e){return!t.parent||!1!==e(t.parent)&&a(t.parent,e)};t.on("clean",(function(t){e&&(i(e,(function(t){return o(t)}),!0),e=null)})),t.on("import",(function(o){var i=o.data,a={};i.root=i.root||{id:el.guid(),children:[]},t.traverse(i.root,(function(t){return a[t.id]=t})),el.each(n,(function(e){return a[e.id]||t.delTree(e)}));var s=i.root.id;(e=n[s]||t.recycle(s)||r(s)).parent=null,e.level=1,t.fire("importnode",{node:e,data:i.root}),t.fire("importtree",{tree:e,data:i.root})})),t.on("importtree",(function(e){var o=e.tree,i=e.data;i.children=i.children||[],o.children=[],el.each(i.children,(function(e){var i=e.id,a=n[i]||t.recycle(i)||r(i);o.children.push(a),a.parent=o,a.level=o.level+1,t.fire("importnode",{node:a,data:e}),t.fire("importtree",{tree:a,data:e})}))})),t.on("export",(function(n){var r=n.data;r.root={},e&&(t.fire("exportnode",{node:e,data:r.root}),t.fire("exporttree",{tree:e,data:r.root}))})),t.on("exporttree",(function(e){var n=e.tree,r=e.data;r.id=n.id,r.children=[],el.each(n.children,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exporttree",{tree:e,data:n}),r.children.push(n)}))})),t.on("recycletree",(function(t){var e=t.tree;return n[e.id]=e})),t.on("patch",(function(e){var r=e.last,a=e.next,s=e.patch;r=r.root,a=a.root;var c={},u={};i(r,(function(t){return c[t.id]=t})),i(a,(function(t){return u[t.id]=t}));var l=el.filter(c,(function(t,e){return!u[e]})),f=el.filter(u,(function(t,e){return!c[e]}));(el.size(l)||el.size(f))&&s.push((function(){el.each(l,(function(t,e){return o(n[e])})),el.each(f,(function(e,n){return t.recycle(n)}))})),el.each(n,(function(e){var n=e,r=c[e.id],o=u[e.id];t.fire("nodepatch",{node:n,last:r,next:o,patch:s}),t.fire("treepatch",{tree:e,last:r,next:o,patch:s})}))})),t.on("treepatch",(function(t){var e=t.tree,r=t.last,o=t.next,a=t.patch;r&&o&&r.children.length===o.children.length&&el.each(r.children,(function(t,e){return o.children[e].id!==t.id}),(function(t){return t}))||a.push((function(){e.children=el.map(o?o.children:[],(function(t){return(t=n[t.id]).parent=e,t})),i(e,(function(t){return t.parent?t.level=t.parent.level+1:null}))}))})),el.getter(t,{root:function(){return e},trees:function(){return n},newTree:function(){return r},delTree:function(){return o},traverse:function(){return i},backtrack:function(){return a}})};var il=Tu.utils;function al(t){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=al(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==al(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e={},n=function(e){var n={};return n.id=e||il.guid(),n.type="link",n.input=null,n.output=null,t.fire("newnode",{node:n}),t.fire("newlink",{link:n}),n},r=function(n){return t.fire("deletelink",{link:n}),t.fire("deletenode",{node:n}),delete e[n.id],t};t.on("clean",(function(t){return il.each(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(n),!0).forEach((function(e){ol(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),(function(t){return r(t)}))})),t.on("import",(function(o){var i=o.data;i.links=i.links||[];var a={};il.each(i.links,(function(t){return a[t.id]=t})),il.each(e,(function(t){return a[t.id]||r(t)}));var s=!1;return il.each(i.links,(function(r){var o=r.id,i=e[o]||t.recycle(o)||n(r.id);t.fire("importnode",{node:i,data:r}),s=!t.fire("importlink",{link:i,data:r}),e[o]=i}),(function(){return s})),!s})),t.on("importlink",(function(e){var n=e.link,r=e.data;if(n.input=t.trees[r.input],n.output=t.trees[r.output],!n.output||!n.input)return!1})),t.on("export",(function(n){var r=n.data;r.links=[],il.each(e,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exportlink",{link:e,data:n}),r.links.push(n)}))})),t.on("exportlink",(function(t){var e=t.link,n=t.data;n.id=e.id,n.input=e.input.id,n.output=e.output.id})),t.on("recyclelink",(function(t){var n=t.link;return e[n.id]=n})),t.on("patch",(function(n){var o=n.last,i=n.next,a=n.patch;o=o.links,i=i.links;var s={},c={};il.each(o,(function(t){return s[t.id]=t})),il.each(i,(function(t){return c[t.id]=t}));var u=il.filter(s,(function(t,e){return!c[e]})),l=il.filter(c,(function(t,e){return!s[e]}));(il.size(u)||il.size(l))&&a.push((function(){il.each(u,(function(t,n){return r(e[n])})),il.each(l,(function(e,n){return t.recycle(n)}))})),il.each(e,(function(e){var n=e,r=s[e.id],o=c[e.id];t.fire("nodepatch",{node:n,last:r,next:o,patch:a}),t.fire("linkpatch",{link:e,last:r,next:o,patch:a})}))})),il.getter(t,{links:function(){return e},newLink:function(){return n},delLink:function(){return r}})};var ul=Tu.utils;function ll(t){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ll(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ll(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e={},n=function(e){var n={};return n.id=e||ul.guid(),n.type="summary",n.trees=new Set,t.fire("newnode",{node:n}),t.fire("newsummary",{summary:n}),n},r=function(n){return t.fire("deletesummary",{summary:n}),t.fire("deletenode",{node:n}),delete e[n.id],t};t.on("clean",(function(t){return ul.each(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(n),!0).forEach((function(e){cl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),(function(t){return r(t)}))})),t.on("import",(function(o){var i=o.data;i.summaries=i.summaries||[];var a={};ul.each(i.summaries,(function(t){return a[t.id]=t})),ul.each(e,(function(t){return a[t.id]||r(t)}));var s=!1;return ul.each(i.summaries,(function(r){var o=r.id,i=e[o]||t.recycle(o)||n(o);t.fire("importnode",{node:i,data:r}),s=!t.fire("importsummary",{summary:i,data:r}),e[o]=i}),(function(){return s})),!s})),t.on("importsummary",(function(e){var n=e.summary,r=e.data;return!!ul.isArr(r.trees)&&(!!r.trees.length&&ul.each(r.trees,(function(e){if(!(e=t.trees[e]))return!0;n.trees.add(e)}),(function(t){return t})))})),t.on("export",(function(n){var r=n.data;r.summaries=[],ul.each(e,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exportsummary",{summary:e,data:n}),r.summaries.push(n)}))})),t.on("exportsummary",(function(t){var e=t.summary,n=t.data;n.id=e.id,n.trees=ul.toArr(e.trees,(function(t){return t.id}))})),t.on("recyclesummary",(function(t){var n=t.summary;return e[n.id]=n})),t.on("patch",(function(n){var o=n.last,i=n.next,a=n.patch;o=o.summaries,i=i.summaries;var s={},c={};ul.each(o,(function(t){return s[t.id]=t})),ul.each(i,(function(t){return c[t.id]=t}));var u=ul.filter(s,(function(t,e){return!c[e]})),l=ul.filter(c,(function(t,e){return!s[e]}));(ul.size(u)||ul.size(l))&&a.push((function(){ul.each(u,(function(t,n){return r(e[n])})),ul.each(l,(function(e,n){return t.recycle(n)}))})),ul.each(e,(function(e){var n=e,r=s[e.id],o=c[e.id];t.fire("nodepatch",{node:n,last:r,next:o,patch:a}),t.fire("summarypatch",{summary:e,last:r,next:o,patch:a})}))})),ul.getter(t,{summaries:function(){return e},newSummary:function(){return n},delSummary:function(){return r}})};var hl=Tu.utils;function dl(t){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pl(t){return function(t){if(Array.isArray(t))return vl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gl(Object(n),!0).forEach((function(e){yl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=dl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=[],n=-1,r=null,o={},i=function(e){var n=o[e];return n?(t.fire("recyclenode",{node:n}),t.fire("recycle".concat(n.type),fl({},n.type,n)),delete n[e],n):null},a=function(){return n<e.length-1&&n>=0},s=function(){return n<e.length&&n>0},c=function(){return a()?(hl.each(e[n].redo,(function(t){return t()})),n++,r=t.export(),t):t},u=function(){return s()?(hl.each(e[n].undo,(function(t){return t()})),n--,r=t.export(),t):t};t.on("deletenode",(function(t){var e=t.node;return o[e.id]=e})),t.on("afterimport",(function(i){e=[{redo:[],undo:[]}],n=0,r=t.export(),o={}})),t.on("contentchange",(function(o){var i=t.export(),a=[],s=[];e.splice(n+1),t.fire("patch",{last:r,next:i,patch:a}),t.fire("patch",{last:i,next:r,patch:s}),e[n].redo=a,n++,e.push({redo:[],undo:s}),r=i})),t.on("clean",(function(){return o={}})),hl.getter(t,{recycle:function(){return i},hasRedo:function(){return a()},hasUndo:function(){return s()},redo:function(){return c},undo:function(){return u}})};var bl=Tu.utils;Tu.module=function(t){var e={},n=new Set,r=function(n,r){if(!n)return null;n=bl.isStr(n)&&bl.isStr(r)?t.trees[n]||t.links[n]||t.summaries[n]:n;var o=null,i=null;return r?(o=(i=_l("node-".concat(r)))in e?e[i]:o,o=(i=_l("".concat(n.type,"-").concat(r)))in e?e[i]:o,o=(i=_l(r))in n.style?n.style[i]:o):(r=n,n=void 0,o=(i=_l(r))in e?e[i]:o),bl.isFun(o)?o(t,n):o};t.on("newnode",(function(t){return t.node.style={}})),t.on("importnode",(function(t){var e=t.node,n=t.data;return e.style=n.style?ml({},n.style):{}})),t.on("import",(function(e){var n=e.data;return t.theme=n.theme||t.option.theme})),t.on("export",(function(e){return e.data.theme=t.theme})),t.on("exportnode",(function(t){var e=t.node,n=t.data;return bl.size(e.style)?n.style=ml({},e.style):null})),t.on("patch",(function(e){var n=e.last,r=e.next,o=e.patch;n=new Set((n.theme||"").split(" ")),r=new Set((r.theme||"").split(" "));var i=new Set([].concat(pl(n),pl(r)));n.size===r.size&&r.size===i.size||o.push((function(){return t.theme=pl(r).join(" ")}))})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;r&&n&&(n=n.style||{},r=r.style||{},bl.size(n)===bl.size(r)&&bl.each(n,(function(t,e){return!!r[e]&&r[e]===t}),(function(t){return!t}))||o.push((function(){return e.style=ml({},r)})))})),bl.getter(t,{getStyle:function(){return r},theme:function(){return pl(n).join(" ")}}),bl.getter(t.mindmap,{theme:function(){return pl(n).join(" ")},style:function(){var n={};return bl.each(e,(function(e,o){var i=o.match(/^(summary|node|link|tree)/g),a=i?i[0]:null,s=pl(t.selectedNodes)[0];if(a){if(!s)return;if(s.type!==a&&"node"!==a)return;var c=wl(o.replace(/^(summary|node|link|tree)/g,""));n["node-".concat(c)]=r(s,c)}else{var u=wl(o);n[u]=r(u)}})),n}}),bl.setter(t,{theme:function(t){t=t.toLowerCase().split(/[ |\t]+/g),n=new Set(t);var r=bl.map(bl.filter(t,(function(t){return Sl[t]})),(function(t){return Sl[t].style}));e=bl.extend.apply(bl,[{},xl].concat(pl(r)))}}),t.theme=t.option.theme},Tu.option={theme:"blue round loose mind"};var _l=function(t){return t.replace(/-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()}))},wl=function(t){var e=[];return t.match(/[A-Z][a-z]+|[a-z]+/g).forEach((function(t){return e.push(t.toLowerCase())})),e.join("-")},xl={};bl.setter(Tu,{style:function(t){return bl.extend(xl,t)}});var Sl={};function Cl(t){return function(t){if(Array.isArray(t))return Ol(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Ol(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ol(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}bl.setter(Tu,{theme:function(t){return Sl[t.type]=t}});var kl=Tu.utils;function Ml(t){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function El(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?El(Object(n),!0).forEach((function(e){Il(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Il(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ml(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ml(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=function(){var e=new Set,n=new Set;return t.traverse(t.root,(function(r){r.attach=t.fire("shouldattachtree",{tree:r}),r.attach?e.add(r):n.add(r)})),kl.each(t.links,(function(r){r.attach=t.fire("shouldattachlink",{link:r}),r.attach?e.add(r):n.add(r)})),kl.each(t.summaries,(function(r){r.attach=t.fire("shouldattachsummary",{summary:r}),r.attach?e.add(r):n.add(r)})),kl.each(e,(function(e){kl.delAttr(e.svg,"display"),t.fire("attachnode",{node:e})})),kl.each(n,(function(e){kl.attr(e.svg,{display:"none"}),t.fire("detachnode",{node:e})})),t},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root,n=new Set;return t.traverse(e,(function(t){r(t),n.add(t)})),kl.each(t.links,(function(t){return r(t)})),kl.each(t.summaries,(function(t){return r(t)})),t},r=function(e){if(kl.attr(e.svg,{id:e.id}),!e.attach)return t;var n=new kl.Box;return t.fire("rendercenter",{node:e,box:n}),t.fire("renderleft",{node:e,box:n}),t.fire("renderright",{node:e,box:n}),t.fire("rendertop",{node:e,box:n}),t.fire("renderbottom",{node:e,box:n}),t.fire("renderoutline",{node:e,box:n}),t.fire("renderoutside",{node:e,box:n}),e.box=n,t};t.on("newnode",(function(e){var n=e.node,r=kl.svg("g"),o=kl.svg("g");kl.attach(o,r),o.inner=r,kl.extend(n,{svg:o,box:new kl.Box,attach:!0}),kl.attach(t.view,o);var i=["left","center","right"];kl.bind(r,"mousedown",(function(e){var r=e.ctrlKey||!1,o=e.shiftKey||!1,a=e.altKey||!1;t.fire("clicknode",{node:n,type:i[e.button],ctrlKey:r,shiftKey:o,altKey:a}),t.fire("nodemousedown",{type:i[e.button],ctrlKey:r,shiftKey:o,altKey:a},!0)})),kl.bind(r,"touchstart",(function(e){t.fire("touchnode",{node:n});var r=Cl(e.touches)[0],o=new kl.Pin(r.clientX,r.clientY);t.fire("nodetouchstart",{point:o},!0)})),kl.bind(r,"touchend",(function(e){t.fire("nodetouchend",{},!0)}))})),t.on("recyclenode newnode",(function(e){var n=e.node;return kl.attach(t.view,n.svg)||!0})),t.on("deletenode",(function(e){var n=e.node;return kl.detach(t.view,n.svg)||!0})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||e.parent.attach})),t.on("shouldattachlink",(function(t){var e=t.link;return e.input.attach&&e.output.attach})),t.on("shouldattachsummary",(function(t){var e=t.summary;return kl.each(e.trees,(function(t){return t.attach}),(function(t){return!t}))})),kl.getter(t,{attach:function(){return e},render:function(){return n},renderNode:function(){return r}})};var Al=Tu.utils;Tu.module=function(t){var e=!1,n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.option.enableAnimation,a=t.root;if(r(a),o(a),Al.each(jl(jl({},t.links),t.summaries),(function(t){r(t),o(t)})),!n)return Al.each(jl(jl(jl({},t.trees),t.links),t.summaries),(function(t){return i(t,!1)})),t.fire("afterlayout",{},!0),t;var s=[];return Al.each(jl(jl(jl({},t.trees),t.links),t.summaries),(function(t){return s.push(i(t))})),e=!0,t.fire("beforelayout"),Promise.all(s).then((function(n){return e=!1,t.fire("afterlayout",{},!0),t}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root;if("tree"===e.type)t.traverse(e,(function(t){t.relVec=new Al.Vec,t.treeBox=new Al.Box})),t.traverse(t.root,(function(e){return(Tl[t.getStyle(e,"layout")]||function(){})(t,e)}),(function(t){return!t.attach}),!0);else{var n=t.getStyle(e,"layout"),r=Tl[n]||function(){};r(t,e)}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root;"tree"===e.type?t.traverse(e,(function(t){var e=new Al.Vec;e.val=t.relVec,t.offset&&t.offset.move(e),t.parent&&t.parent.absVec.move(e),t.absVec=e})):(e.absVec.val=e.relVec,e.offset&&e.offset.move(e.absVec))},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.option.enableAnimation,r=e.absVec;return e.animate&&(e.animate.stop(),e.animate=null),n?new Promise((function(n){var r=new Al.Animate(e.vec.obj,e.absVec.obj,(function(t){var n=t.x,r=t.y;return a(e,new Al.Vec(n,r))}));e.animate=r,r.start(t.option.layoutAnimationDuration,t.option.layoutAnimationEasing,(function(){e.animate=null,n(t)}))})):(a(e,r),t)},a=function(e,n){return Al.attr(e.svg,{transform:"translate(".concat(n.x,",").concat(n.y,")")}),e.vec.val=n,e.layoutBox=e.box.cl(),n.move(e.layoutBox),t.fire("layoutnode",{node:e}),t.fire("layout".concat(e.type),Il({},e.type,e)),t},s=function(e,n){return Al.each(e,(function(e){n?(e.offset||(e.offset=new Al.Vec),n.move(e.offset),e.offset=0===e.offset.size?null:e.offset):e.offset=null,"tree"===e.type?(o(e),t.traverse(e,(function(t){return i(t,!1)}))):(r(e),o(e),i(e,!1))})),Al.each(t.links,(function(t){var n=!1;(n=(n=n||Al.has(e,t.input))||Al.has(e,t.output))&&(r(t),o(t),i(t,!1))})),Al.each(t.summaries,(function(n){if(Al.each(n.trees,(function(t){return Al.has(e,t)}),(function(t){return t})))return t;r(n),o(n),i(n,!1)})),t.fire("movenodes"),t},c=function(){var e=new Al.Box,n=jl(jl(jl({},t.trees),t.links),t.summaries);return Al.each(n,(function(t){return t.attach?e.merge(t.absVec.move(t.box.cl())):null})),e},u=function(){var e=new Al.Box,n=jl(jl(jl({},t.trees),t.links),t.summaries);return Al.each(n,(function(t){return t.attach?e.merge(t.layoutBox):null})),e};t.on("newnode",(function(t){var e=t.node;e.vec=new Al.Vec,e.layoutBox=new Al.Box,e.absVec=new Al.Vec,e.relVec=new Al.Vec,e.offset=null})),t.on("newtree",(function(t){return t.tree.treeBox=new Al.Box})),t.on("deletenode",(function(t){var e=t.node;e.animate&&(e.animate.stop(),e.animate=null)})),t.on("importnode",(function(t){var e=t.node,n=t.data;if(n.offset){var r=n.offset,o=r.x,i=r.y;e.offset=new Al.Vec(o,i)}else delete e.offset})),t.on("exportnode",(function(t){var e=t.node,n=t.data;if(e.offset){var r=e.offset.obj,o=r.x,i=r.y;n.offset={x:o,y:i}}})),t.on("exportselectednode",(function(t){var e=t.node,n=t.data,r=e.layoutBox;n.box={x:r.x,y:r.y,width:r.w,height:r.h}})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;r&&n&&(r=r.offset||{x:0,y:0},n=n.offset||{x:0,y:0},r.x===n.x&&r.y===n.y||o.push((function(){e.offset=new Al.Vec(r.x,r.y),0===e.offset.size&&(e.offset=null)})))})),Al.getter(t,{layout:function(){return n},layouting:function(){return e},moveNodes:function(){return s},move:function(){return a},targetBox:c,box:u}),Al.getter(t.mindmap,{targetBox:c,box:u})},Tu.option={enableAnimation:!0,layoutAnimationDuration:300,layoutAnimationEasing:"easeInOutCubic"},Tu.style={treeLayout:"right",linkLayout:"middle",summaryLayout:"offside"};var Tl={};Al.setter(Tu,{layout:function(t){return Tl[t.type]=t}});var Pl=Tu.utils;Tu.module=function(t){var e=Pl.svg("g"),n=Pl.svg("g");Pl.prepend(t.view,e),Pl.attach(e,n);var r=function(t){Pl.detach(e,t.connect),Pl.detach(e,t.arrow),Pl.detach(n,t.connectTextSvg)};t.on("newnode",(function(t){var e=t.node;e.connect=Pl.svg("path"),e.arrow=Pl.svg("path"),e.connectText="",e.connectTextSvg=Pl.svg("text"),Pl.attr(e.connectTextSvg,{x:25})})),t.on("importtree",(function(e){var n=e.tree,r=e.data;return n.connectText=r.connectText?r.connectText:t.option.defaultConnectText})),t.on("exportnode exportselectednode",(function(t){var e=t.node;return t.data.connectText=e.connectText})),t.on("treepatch",(function(t){var e=t.tree,n=t.last,r=t.next,o=t.patch;if(r&&n&&r.connectText!==n.connectText){var i=r.connectText;o.push((function(){return e.connectText=i}))}})),t.on("deletenode",(function(t){var e=t.node;return r(e)})),t.on("attachnode",(function(t){return function(t){Pl.attach(e,t.connect),Pl.attach(e,t.arrow),Pl.attach(n,t.connectTextSvg)}(t.node)})),t.on("detachnode",(function(t){var e=t.node;return r(e)})),t.on("layoutnode",(function(e){var n=e.node;if(n!==t.root){Pl.clean(n.connectTextSvg);var r=t.getStyle(n,"connect");(Dl[r]||function(){})(t,n)}else Pl.attr(n.connect,{d:""})}))},Tu.style={nodeConnectWidth:1,nodeConnectColor:Pl.color(0,0,0),treeConnectType:"solid",treeConnect:"ellipsex",linkConnect:"bezier",summaryConnect:"brace"};var Dl={};function Nl(t){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ll(t){return function(t){if(Array.isArray(t))return Rl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Rl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(n),!0).forEach((function(e){Fl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Nl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.option={defaultConnectText:""},Pl.setter(Tu,{connect:function(t){return Dl[t.type]=t}});var Hl=Tu.utils;function Ul(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(e){var n=e.node;n.text=t.option.defaultText,"link"===n.type&&(n.text="\u65b0\u5efa\u94fe\u63a5"),n.svg.inner.textGroup=Hl.svg("g"),n.svg.inner.mask=Hl.svg("rect")})),t.on("importnode",(function(e){var n=e.node,r=e.data;return n.text=r.text?r.text:t.option.defaultText})),t.on("exportnode exportselectednode",(function(t){var e=t.node;return t.data.text=e.text})),t.on("rendercenter",(function(e){var n=e.node,r=e.box,o=n.svg.inner.textGroup,i=n.svg.inner.mask;Hl.attach(n.svg.inner,o),Hl.attach(n.svg.inner,i),Hl.clean(o);var a=0,s=0,c=n.text,u=[];Hl.each(c.split("\n"),(function(e){var r=Hl.svg("text"),i=""===e;e=i?"j":e;var c=Hl.newTextNode(e);Hl.attach(r,c),Hl.attr(r,zl(zl({fill:t.getStyle(n,"font-color"),"font-size":t.getStyle(n,"font-size"),style:"font-family:".concat(t.getStyle(n,"font-family")),"text-rendering":"geometricPrecision"},t.getStyle(n,"font-bold")?{"font-weight":"bold"}:{}),t.getStyle(n,"font-italic")?{"font-style":"italic"}:{})),Hl.attach(o,r);var l=r.getBBox(),f=l.x,h=l.y,d=l.width,p=l.height;i&&Hl.detach(r,c),Hl.attr(r,{x:-f,y:-h+a}),a+=p,u.push(r),s=s>d?s:d}));var l=t.getStyle(n,"text-align");Hl.each(u,(function(t){var e=t.getBBox(),n=e.x,r=e.width;"center"===l&&Hl.attr(t,{x:n+(s-r)/2}),"right"===l&&Hl.attr(t,{x:n+s-r})}));var f=new Hl.Box(0,0,s,a);f.cx=r.cx,f.cy=r.cy,Hl.attr(o,{transform:"translate(".concat(f.x,",").concat(f.y,")")}),Hl.attr(i,{x:f.x,y:f.y,width:f.w,height:f.h,fill:"rgba(0,0,0,0)"}),r.w=r.w>f.w?r.w:f.w,r.h=r.h>f.h?r.h:f.h,r.cx=f.cx,r.cy=f.cy})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;if(r&&n&&r.text!==n.text){var i=r.text;o.push((function(){return e.text=i}))}})),Hl.getter(t.mindmap,{outputText:function(){var e=t.selectedRoots;return Hl.map(Ll(e),(function(t){return function t(e){var n=Hl.map(e.children,(function(e){return Hl.map(t(e).split("\n"),(function(t){return"\t"+t})).join("\n")})),r=e.text;return(r=(r=r.replace(/\t/g,"\\t")).replace(/\n/g,"\\n"))+(0===n.length?"":"\n"+n.join("\n"))}(t)})).join("\n")}})},Tu.option={defaultText:"\u65b0\u5efa\u8282\u70b9"},Tu.style={nodeFontSize:18,nodeFontColor:Hl.color(0,0,0),nodeFontFamily:"SimHei",nodeFontBold:!1,nodeFontItalic:!1,nodeTextAlign:"left"};var Vl=Tu.utils;function Yl(t){return function(t){if(Array.isArray(t))return Gl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Gl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.border=Vl.svg("path")})),t.on("renderoutline",(function(e){var n=e.node,r=e.box,o=n.svg.inner.border;Vl.prepend(n.svg.inner,o);var i=t.getStyle(n,"border-radius"),a=Ul(t.getStyle(n,"padding"),2),s=a[0],c=a[1];r.w+=2*s,r.h+=2*c,r.x-=s,r.y-=c,i=r.w-2*i>0?i:r.w/2,i=r.h-2*i>0?i:r.h/2,Vl.attr(o,{d:"\n        M".concat(r.x+i,",").concat(r.y,"\n        h").concat(r.w-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(i,"\n        v").concat(r.h-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(i,"\n        h").concat(2*i-r.w,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(-i,"\n        v").concat(2*i-r.h,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(-i,"\n        z\n      ").replace(/\s/g,""),fill:t.getStyle(n,"background-color"),stroke:t.getStyle(n,"border-color"),"stroke-width":t.getStyle(n,"border-width")})}))},Tu.style={nodeBorderWidth:1,nodeBorderColor:Vl.color(0,0,0),nodeBorderRadius:5,nodeBackgroundColor:Vl.color(255,255,255,0),nodePadding:[10,10],nodeMargin:[40,20]};var Xl=Tu.utils;Tu.module=function(t){var e=Xl.svg("path"),n=new Xl.Pin,r=new Xl.Pin,o=!1,i=new Set,a=!1,s=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xl.each(n,(function(e){e.selected=!0,Xl.has(i,e)||(i.add(e),t.renderNode(e))})),t.fire("interactchange")},c=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xl.each(n,(function(e){e.selected=!1,Xl.has(i,e)&&(i.delete(e),t.renderNode(e))})),t.fire("interactchange")},u=function(){return Xl.each(i,(function(e){e.selected=!1,t.renderNode(e)})),i.clear(),t.fire("interactchange"),t},l=function(){var o=new Xl.Box(n,r);Xl.attr(e,{d:"\n        M".concat(o.x,",").concat(o.y,"\n        h").concat(o.w,"\n        v").concat(o.h,"\n        h").concat(-o.w,"\n        v").concat(-o.h,"\n        z\n      ").replace(/\s/g,""),fill:t.getStyle("selector-color"),stroke:t.getStyle("selector-border-color"),"stroke-width":t.getStyle("selector-border-width")})},f=new Xl.Loop((function(){(t.layouting||o)&&(!function(){var e=t.toView(new Xl.Box(n,r)),o=function(t){return!!e.cl().intersect(t.layoutBox).area()};Xl.each(t.trees,(function(t){return o(t)?s(t):c(t)})),Xl.each(t.links,(function(t){return o(t)?s(t):c(t)})),Xl.each(t.summaries,(function(t){return o(t)?s(t):c(t)}))}(),l(),o=!1)}),t.option.detectDelay);t.on("edit->select",(function(n){f.start(),l(),Xl.attach(t.svg,e)})),t.on("select->edit",(function(n){Xl.detach(t.svg,e),f.stop()})),t.on("edit::clicknode edit::touchnode",(function(t){var e=t.node,n=t.shiftKey,r=t.ctrlKey;n||(a=!0,r?i.has(e)?c(e):s(e):i.has(e)||(u(),s(e)))})),t.on("mousedown",(function(t){a?a=!1:u()})),t.on("edit::mousedown",(function(e){var i=e.point,a=e.type;e.shiftKey&&"left"===a&&(n=i,r=i,o=!0,t.status="select")})),t.on("select::mousemove",(function(t){var e,n=t.point;return o=(e=[!0,n])[0],r=e[1],e})),t.on("select::mouseup select::touchend select::mousedown select::touchstart",(function(e){return t.status="edit"})),t.on("newnode",(function(t){var e=t.node;e.selected=!1,e.svg.inner.select=Xl.svg("path")})),t.on("renderoutline",(function(e){var n=e.node,r=e.box,o=n.svg.inner.select;if(n.selected){Xl.attach(n.svg.inner,o);var i=t.getStyle(n,"select-radius");i=r.w-2*i>0?i:r.w/2,i=r.h-2*i>0?i:r.h/2,Xl.attr(o,{d:"\n        M".concat(r.x+i,",").concat(r.y,"\n        h").concat(r.w-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(i,"\n        v").concat(r.h-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(i,"\n        h").concat(2*i-r.w,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(-i,"\n        v").concat(2*i-r.h,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(-i,"\n        z\n      ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(n,"select-color"),"stroke-width":t.getStyle(n,"select-width")})}else Xl.detach(n.svg.inner,o)})),t.on("exportselectednode",(function(t){var e=t.node,n=t.data;n.id=e.id,n.type=e.type})),Xl.getter(t,{selectedNodes:function(){return i},cleanSelected:function(){return u},select:function(){return s},reject:function(){return c},selectedRoots:function(){var e=new Set;return Xl.each(i,(function(t){return"tree"===t.type?e.add(t):null})),Xl.each(Yl(e),(function(n){!t.backtrack(n,(function(t){return!e.has(t)}))&&e.delete(n)})),e}}),Xl.getter(t.mindmap,{cleanSelected:function(){return u},selectedNodes:function(){var e=[];return Xl.each(i,(function(n){var r={};t.fire("exportselectednode",{node:n,data:r}),e.push(r)})),e},selectedNode:function(){var e=Yl(i)[0];if(!e)return null;var n={};return t.fire("exportselectednode",{node:e,data:n}),n}})},Tu.option={detectDelay:0},Tu.style={selectorColor:Xl.color(0,0,0,.05),selectorBorderColor:Xl.color(0,0,0),selectorBorderWidth:1,nodeSelectRadius:0,nodeSelectColor:Xl.color(0,0,0),nodeSelectWidth:3};var Zl=Tu.utils;function ql(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Ql(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(t){return function(t){if(Array.isArray(t))return Jl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ql(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(t,e){if(t){if("string"===typeof t)return Jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jl(t,e):void 0}}function Jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("renderoutline",(function(e){var n=e.node,r=e.box;if("tree"===n.type){var o=n.svg.inner.target;if(n.isTarget){Zl.attach(n.svg.inner,o);var i=t.getStyle(n,"target-radius");i=r.w-2*i>0?i:r.w/2,i=r.h-2*i>0?i:r.h/2,Zl.attr(o,{d:"\n        M".concat(r.x+i,",").concat(r.y,"\n        h").concat(r.w-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(i,"\n        v").concat(r.h-2*i,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(i,"\n        h").concat(2*i-r.w,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(-i,"\n        v").concat(2*i-r.h,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(-i,"\n        z\n      ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(n,"target-color"),"stroke-width":t.getStyle(n,"target-width")})}else Zl.detach(n.svg.inner,o)}}))},Tu.style={treeTargetRadius:0,treeTargetColor:Zl.color(0,0,0),treeTargetWidth:3};var $l=Tu.utils;function tf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||nf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(t){return function(t){if(Array.isArray(t))return rf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(t,e){if(t){if("string"===typeof t)return rf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(t,e):void 0}}function rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){var e=null,n=null,r=$l.svg("path"),o=new $l.Pin,i=new $l.Pin,a=new $l.Pin,s=function(){var e=function(t,e){return"\n      M".concat(t.x-e,",").concat(t.y,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(e,",").concat(e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(e,",").concat(-e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(-e,",").concat(-e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(-e,",").concat(e,"\n      z\n    ").replace(/\s/g,"")},n=[].concat(Kl(o.arr),Kl(i.arr)),a=n[0],s=n[1],c=n[2],u=n[3],l=t.getStyle("catcher-width"),f=t.getStyle("catcher-radius"),h=c-a,d=u-s,p=Math.sqrt(h*h+d*d),v=ql(0===p?[0,0]:[h/p,d/p],2),g=v[0];h=l/2*v[1],d=l/2*g,$l.attr(r,{d:e(o,f)+"\n          M".concat(a+h,",").concat(s-d,"\n          L").concat(a-h,",").concat(s+d,"\n          L").concat(c-h,",").concat(u+d,"\n          L").concat(c+h,",").concat(u-d,"\n        ").replace(/\s/g,"")+e(i,f),fill:t.getStyle("catcher-color"),"stroke-width":0})},c=function(){!!$l.each(t.trees,(function(e){if(!e.attach)return!1;var r=e.layoutBox;return!!r.cover(i)&&(i.val=r.center,n===e||(n&&(n.isTarget=!1,t.renderNode(n)),e.isTarget=!0,t.renderNode(e),n=e),!0)}),(function(t){return t}))&&n&&(n.isTarget=!1,t.renderNode(n)),s()},u=new $l.Loop((function(){!t.layouting&&i.eq(a)||(c(),a.val=i)}),t.option.catchDelay);t.on("edit->link",(function(n){o.val=e.layoutBox.center,i.val=o,s(),$l.attach(t.view,r),u.start()})),t.on("link->edit",(function(o){$l.detach(t.view,r),u.stop(),function(){if(n){var r=t.newLink();r.output=n,r.input=e,n.isTarget=!1,n=null,t.links[r.id]=r,t.attach().renderNode(r).renderNode(r.output).move(r,r.input.absVec).layout(),t.fire("contentchange",{},!0);var o={id:r.input.id,title:r.input.text},i={id:r.output.id,title:r.output.text},a={id:r.id,title:r.text,inputId:r.input.id,outputId:r.output.id};t.fire("lrs:addrelation",{input:o,output:i,node:a},!0),e=null}}()})),t.on("link::mousemove",(function(e){var n=e.point;return i.val=t.toView(n)})),t.on("link::mousedown",(function(e){e.point;return t.status="edit"})),t.on("link::touchstart",(function(e){var n=e.point;i.val=t.toView(n),c(),t.status="edit"})),$l.setter(t,{source:function(t){return e=t}})},Tu.option={catchDelay:0},Tu.style={catcherColor:$l.color(0,0,0,.7),catcherWidth:3,catcherRadius:8};var of=Tu.utils;Tu.module=function(t){var e=new of.Pin,n=new of.Pin,r=!1,o=!1,i=new Set,a=new Set,s=null,c=null,u=null,l=t.option.sortable,f=t.option.offsetChangeable,h=new of.Loop((function(){e.eq(n)||(t.moveNodes(i,new of.Vec(e,n).scale(1/t.zoom)),e=n,t.option.readOnly||o&&(d(),1===of.size(i)&&l&&p()))}),t.option.dragNodesDelay),d=function(){var e=s;return s=null,of.each(i,(function(t){return of.each(a,(function(e){var n=e.layoutBox,r=n.cl().intersect(t.layoutBox).area();if(r>n.area()/2||r>t.layoutBox.area()/2)return s=e,!0}),(function(t){return t}))}),(function(t){return!t})),e===s?!!s:e?(e.isTarget=!1,t.renderNode(e),!1):s?(s.isTarget=!0,t.renderNode(s),!0):void 0},p=function(){var e=c,n=u;c=null,u=null;var r=ef(i)[0],o=null;s||of.each(r.parent.children,(function(e){if(r===e)return!1;var n=r.layoutBox,i=e.layoutBox,a=t.getStyle(e,"arrange-gap"),s=["up","down","left","right"];s=of.map(s,(function(e){return t.getStyle(r,"arrange-".concat(e))}));var l=null,f=tf(s,4),h=f[0],d=f[1],p=f[2],v=f[3];return"none"!==h&&(l=h,o=new of.Box(i.x,i.y-a-5,i.w,a),n.cl().intersect(o).area()>0)||"none"!==d&&(l=d,o=new of.Box(i.x,i.y+i.h+5,i.w,a),n.cl().intersect(o).area()>0)||"none"!==p&&(l=p,o=new of.Box(i.x-a-5,i.y,a,i.h),n.cl().intersect(o).area()>0)||"none"!==v&&(l=v,o=new of.Box(i.x+i.w+5,i.y,a,i.h),n.cl().intersect(o).area()>0)?(c=e,u=l,!0):void 0}),(function(t){return t})),c===e&&u===n||(e&&(e.arrangeBox=null,t.renderNode(e)),c&&(c.arrangeBox=o,t.renderNode(c)))};t.on("newnode",(function(t){return(t.node.dragging=!1)||!0})),t.on("newtree",(function(t){var e=t.tree;e.isTarget=!1,e.svg.inner.target=of.svg("path")})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||!e.parent.dragging})),t.on("renderoutside",(function(t){var e=t.node;return of.elif(e.dragging,{true:function(){return of.attr(e.svg,{opacity:.4})},false:function(){return of.delAttr(e.svg,"opacity")}})})),t.on("predrag->drag",(function(e){if(!r){var n=of.group(t.selectedNodes,(function(t){return t.type}));i=of.elif(n.tree?"tree":"other",{tree:function(){return of.each(n.tree,(function(e){t.backtrack(e,(function(t){return!n.tree.has(t)}))||n.tree.delete(e)})),of.each(n.tree,(function(t){return t.dragging=!0})),o=!0,a=of.toSet(t.trees,(function(t){return t})),of.each(n.tree,(function(e){return t.traverse(e,(function(t){return a.delete(t)}))})),n.tree},other:function(){var t=new Set;return n.link&&(of.each(n.link,(function(t){return t.dragging=!0})),t=new Set([].concat(ef(t),ef(n.link)))),n.summary&&(of.each(n.summary,(function(t){return t.dragging=!0})),t=new Set([].concat(ef(t),ef(n.summary)))),o=!1,t}}),t.attach(),of.each(i,(function(e){return t.renderNode(e)})),h.start()}})),t.on("drag->edit",(function(e){if(!r){if(h.stop(),of.each(i,(function(t){return t.dragging=!1})),o&&s){var n=of.map(i,(function(t){return t.id}));t.fire("dragnodestotarget",{nodes:n,target:s.id},!0);var a=[];t.option.dragNodesToTarget&&of.each(i,(function(e){var n={node:{id:e.id,title:e.text}};n.source={id:e.parent.id,title:e.parent.text},of.del(e.parent.children,e),e.parent=s,n.target={id:s.id,title:s.text},a.push(n),s.children.push(e),t.arrange(e),t.traverse(e,(function(t){return t.level=t.parent.level+1}))})),s.isTarget=!1,s=null,t.attach().render().layout(),t.fire("contentchange",{},!0),t.fire("lrs:drag",{items:a},!0)}else of.each(i,(function(e){return t.renderNode(e)})),t.fire("contentchange",{},!0),t.attach().layout(!1);if(c){var l=ef(i)[0];"last"===u&&t.arrangeLast(l,c),"next"===u&&t.arrangeNext(l,c),t.renderNode(l),c.arrangeBox=null,t.renderNode(c),t.arrange(l),t.layout(),t.fire("contentchange",{},!0),u=null,c=null}f||t.moveNodes(i)}})),t.on("edit::clicknode edit::touchnode",(function(e){var n=e.type,o=e.ctrlKey,i=e.shiftKey,a=e.altKey;o||i||a||n&&"left"!==n||t.layouting||(r=of.has(t.selectedNodes,t.root),t.status="predrag")})),t.on("predrag::mousedown predrag::touchstart",(function(t){var r,o=t.point;return e=(r=[o,o])[0],n=r[1],r})),t.on("predrag::mouseup predrag::touchend",(function(e){return t.status="edit"})),t.on("predrag::mousemove predrag::touchmove",(function(e){return t.status="drag"})),t.on("drag::mousemove drag::touchmove",(function(e){var o=e.point;if(!r)return n=o;var i=t.center;new of.Vec(n,o).scale(-1/t.zoom).move(i),t.center=i,n=o})),t.on("drag::mouseup drag::touchend",(function(e){return t.status="edit"}))},Tu.option={dragNodesDelay:0,dragNodesToTarget:!0,offsetChangeable:!0};var af=Tu.utils;function sf(t){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cf(Object(n),!0).forEach((function(e){lf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newtree",(function(e){var n=e.tree;n.expand=!0;var r=af.svg("path");n.svg.inner.expand=r,af.each(["mousedown","touchstart"],(function(e){r.addEventListener(e,(function(e){n.expand=!n.expand,t.attach().render(n).layout(),t.fire("contentchange",{},!0);var r={node:{id:n.id,title:n.text},parent:n.parent?{id:n.parent.id,title:n.parent.text}:null};t.fire("lrs:expand",{item:r,expand:n.expand},!0)}))}))})),t.on("importtree",(function(t){var e=t.tree,n=t.data;return(e.expand=!n.expand||"collapse"!==n.expand)||!0})),t.on("exporttree",(function(t){var e=t.tree;return t.data.expand=e.expand?"expand":"collapse"})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||e.parent.expand})),t.on("renderoutside",(function(e){var n=e.node,r=e.box;if("tree"===n.type){var o=n.svg.inner.expand;if(n.children.length){af.attach(n.svg,o);var i=t.getStyle("expand-size")/2,a="\n      M 0,".concat(-i,"\n      a ").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(i,"\n      a ").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(i,"\n      a ").concat(i,",").concat(i,",0,0,1,").concat(-i,",").concat(-i,"\n      a ").concat(i,",").concat(i,",0,0,1,").concat(i,",").concat(-i,"\n    ").replace(/\s/g,""),s=n.expand?"M ".concat(-i,",0 l ").concat(2*i,",0"):"M ".concat(-i,",0 l ").concat(2*i,",0 M 0,").concat(-i," l 0,").concat(2*i),c=t.getStyle(n,"expand-position")||"right",u=af.elif(c,{left:function(){return"translate(".concat(r.l-i/2,",").concat(r.cy,")")},right:function(){return"translate(".concat(r.r+i/2,",").concat(r.cy,")")},top:function(){return"translate(".concat(r.cx,",").concat(r.t-i/2,")")},bottom:function(){return"translate(".concat(r.cx,",").concat(r.b+i/2,")")},leftBottom:function(){return"translate(".concat(r.l-i/2,",").concat(r.b+i/2,")")},rightBottom:function(){return"translate(".concat(r.r+i/2,",").concat(r.b+i/2,")")}});af.attr(o,{d:a+s,fill:t.getStyle("expand-background-color"),stroke:t.getStyle("expand-border-color"),"stroke-width":1,transform:u})}else af.detach(n.svg,o)}})),t.on("treepatch",(function(t){var e=t.tree,n=t.last,r=t.next,o=t.patch;r&&n&&r.expand!==n.expand&&o.push((function(){return e.expand="collapse"!==r.expand}))}))},Tu.style={expandSize:16,expandBorderColor:af.color(128,128,128),expandBackgroundColor:af.color(255,255,255),treeExpandPosition:"right"};var ff=Tu.utils;function hf(t){return function(t){if(Array.isArray(t))return df(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return df(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){if(t.option.map){var e=1,n=new ff.Pin,r=ff.svg("svg"),o=t.option.mapWidth,i=t.option.mapHeight;ff.attr(r,{width:o,height:i});var a=ff.svg("path");ff.attach(r,a);var s=function(){var r=t.box,s=-r.l,c=-r.t,u=o/r.w,l=i/r.h,f=u>l?l:u,h=uf(uf(uf({},t.trees),t.links),t.summaries),d="";ff.each(h,(function(t){if(t.attach){var e=t.layoutBox;d+="\n        M".concat((e.l+s)*f,",").concat((e.t+c)*f,"\n        L").concat((e.r+s)*f,",").concat((e.t+c)*f,"\n        L").concat((e.r+s)*f,",").concat((e.b+c)*f,"\n        L").concat((e.l+s)*f,",").concat((e.b+c)*f,"\n        Z\n      ").replace(/\s/g,"")}})),ff.attr(a,{d:d,fill:t.getStyle("map-color"),transform:u<l?"translate(".concat(0,",",(i-r.h*f)/2,")"):"translate(".concat((o-r.w*f)/2,",",0,")")}),e=f,n={x:r.cx,y:r.cy},t.fire("updatemap",{},!0)},c=new ff.Loop((function(){return s()}));t.on("beforelayout",(function(t){return c.start()})),t.on("afterlayout",(function(t){c.stop(),s()})),t.on("movenodes",(function(t){return s()})),ff.getter(t.mindmap,{map:function(){return r},mapRatio:function(){return e},mapCenter:function(){return n}})}},Tu.option={map:!1,mapWidth:120,mapHeight:120},Tu.style={mapColor:ff.color(0,0,0)};var pf=Tu.utils;Tu.module=function(t){var e=null,n=function(){var n=t.selectedRoots;return 0===n.size||(e=pf.map(hf(n),(function(e){var n={};return t.fire("exporttree",{tree:e,data:n}),t.fire("exportnode",{node:e,data:n}),t.traverse(n,(function(t){return t.id=null})),n}))),t},r=function(){if(!e||e&&0===e.length)return!1;var n=t.selectedNodes,r=new Set;pf.each(n,(function(t){return"tree"===t.type?r.add(t):null}));var o=[];return pf.each(r,(function(n){return pf.each(e,(function(e){var r=t.newTree();o.push(r),r.parent=n,r.level=n.level+1,n.children.push(r),t.fire("importnode",{node:r,data:e}),t.fire("importtree",{tree:r,data:e}),t.move(r,n.absVec)}))})),o};pf.getter(t,{copy:function(){return n},paste:function(){return r}})};var vf=Tu.utils;function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return yf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bf(Object(n),!0).forEach((function(e){wf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=null,n=null,r=!1;t.on("edit::mousedown edit::touchstart",(function(t){var n=t.point,o=t.type,i=t.number,a=t.shiftKey;r=!1,a||o&&"left"!==o||i>1||(e=n,r=!0)})),t.on("edit::mousemove edit::touchmove",(function(o){var i=o.point;n=i,!r||e&&n.dist(e)<10||(r=!1,t.status="hand")})),t.on("edit::mouseup edit::touchend",(function(t){r=!1})),t.on("hand::mousemove hand::touchmove",(function(r){var o=r.point,i=t.center;e=n,n=o,new vf.Vec(e,n).scale(-1/t.zoom).move(i),t.center=i})),t.on("hand::mouseup hand::touchend",(function(e){var n=["edit",!1];t.status=n[0],r=n[1]}))};var xf=Tu.utils;function Sf(t){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Of(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Of(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Of(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kf(Object(n),!0).forEach((function(e){Ef(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ef(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.icon=xf.svg("image")})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.icon?e.icon=_f({},n.icon):null})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.icon?n.icon=_f({},e.icon):null})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;r&&n&&(n=n.icon||{},r=r.icon||{},n.url===r.url&&n.type===r.type||o.push((function(){return e.icon=r.type?_f({},r):null})))})),t.on("renderleft",(function(e){var n=e.node,r=e.box,o=n.svg.inner.icon;if(n.icon){xf.attach(n.svg.inner,o);var i=mf(t.getStyle("icon-margin"),2),a=i[0],s=i[1],c=t.getStyle("icon-width"),u=t.getStyle("icon-height");xf.attr(o,{width:c,height:u,transform:"translate(".concat((r.l+r.r)/2-r.w/2-a-c,",").concat((r.t+r.b)/2-u/2,")")});var l=_f({},n.icon);t.fire("beforerendericon",{icon:l},!0),o.setAttribute("href",l.url),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l.url);var f=r.cy,h=(r.r+r.l-2*a-c)/2;r.w=r.w+2*a+c,r.h=r.h>u+2*s?r.h:u+2*s,r.cy=f,r.cx=h}else xf.detach(n.svg.inner,o)}))},Tu.style={iconWidth:25,iconHeight:25,iconMargin:[5,5]};var jf=Tu.utils;function If(t){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Tf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pf(Object(n),!0).forEach((function(e){Nf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=If(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=If(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==If(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.image=jf.svg("image")})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.image?e.image=Mf({},n.image):null})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.image?n.image=Mf({},e.image):null})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;r&&n&&(n=n.image||{},r=r.image||{},n.url===r.url&&n.type===r.type||o.push((function(){return e.image=r.type?Mf({},r):null})))})),t.on("rendertop",(function(e){var n=e.node,r=e.box,o=n.svg.inner.image;if(n.image){jf.attach(n.svg.inner,o);var i=Cf(t.getStyle("image-margin"),2),a=i[0],s=i[1],c=t.getStyle("max-image-width"),u=t.getStyle("max-image-height"),l=n.image.width>c,f=n.image.height>u,h=l?c:n.image.width,d=f?u:n.image.height;jf.attr(o,{width:h,height:d,transform:"translate(".concat((r.l+r.r)/2-h/2,",").concat((r.t+r.b)/2-d-r.h/2-s,")")});var p=Mf({},n.image);t.fire("beforerenderimage",{image:p},!0),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.url),o.setAttribute("href",p.url),jf.bind(o,"dblclick",(function(e){t.fire("imagedblclick",{image:n.image},!0),e.stopPropagation()}));var v=0;jf.bind(o,"touchstart",(function(e){2!==++v?setTimeout((function(){return v=0}),200):t.fire("imagedblclick",{image:n.image},!0)}));var g=r.cx,m=(r.b+r.t-2*s-d)/2;r.w=r.w>h+2*a?r.w:h+2*a,r.h=r.h+2*s+d,r.cy=m,r.cx=g}else jf.detach(n.svg.inner,o)}))},Tu.style={maxImageWidth:450,maxImageHeight:450,imageMargin:[5,5]};var Lf=Tu.utils;function Rf(t){return function(t){if(Array.isArray(t))return Bf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(t){var e=t.node;e.svg.inner.attachment=Lf.svg("g"),e.svg.inner.attachment.blocks=[],e.attachments=[]})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.attachments?e.attachments=Lf.map(n.attachments,(function(t){return Df({},t)})):e.attachments=[]})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.attachments?n.attachments=Lf.map(e.attachments,(function(t){return Df({},t)})):n.attachments=[]})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,o=t.patch;r&&n&&(n=n.attachments||[],r=r.attachments||[],JSON.stringify(n)!==JSON.stringify(r)&&o.push((function(){return e.attachments=JSON.parse(JSON.stringify(r))})))})),t.on("renderright",(function(e){var n=e.node,r=e.box,o=n.svg.inner.attachment;Lf.attach(n.svg.inner,o);var i=o.blocks,a=n.attachments.length-i.length;a>0&&Lf.repeat(a,(function(){var t=Lf.svg("rect"),e=Lf.svg("text"),n=Lf.svg("g");Lf.attr(n,{id:Lf.guid()}),n.text=e,n.background=t,Lf.attach(n,t),Lf.attach(n,e),Lf.attach(o,n),i.push(n)})),Lf.each(i,(function(e,r){e.onmousedown=function(e){var o=new Lf.Pin(e.clientX,e.clientY);t.select(n),t.fire("openattachment",{attachment:Df({},n.attachments[r]),type:["left","center","right"][e.button],point:o},!0),e.stopPropagation()},e.onmouseover=function(e){var o=new Lf.Pin(e.clientX,e.clientY);t.fire("attachmentmouseover",{attachment:Df({},n.attachments[r]),point:o},!0),e.stopPropagation()},e.onmouseout=function(e){t.fire("attachmentmouseout",{attachment:Df({},n.attachments[r])},!0),e.stopPropagation()},e.touchEvent&&e.removeEventListener("touchstart",e.touchEvent),e.touchEvent=function(e){var o=new Lf.Pin(e.touches[0].clientX,e.touches[0].clientY);t.fire("openattachment",{attachment:Df({},n.attachments[r]),type:"touch",point:o},!0),e.stopPropagation()},e.addEventListener("touchstart",e.touchEvent)}));var s=t.getStyle("attachment-color"),c=Af(t.getStyle("attachment-margin"),2),u=c[0],l=c[1],f=Af(t.getStyle("attachment-padding"),2),h=f[0],d=f[1],p=[],v=[];Lf.each(i,(function(t,e){if(e>=n.attachments.length)Lf.attr(t,{display:"none"});else{Lf.delAttr(t,"display");var o=t.text;Lf.attr(o,{"text-rendering":"geometricPrecision",fill:"white","font-size":12,"font-family":"Arial"});var i=Lf.newTextNode(n.attachments[e].keyword.toLocaleUpperCase());Lf.clean(o),Lf.attach(o,i);var a=o.getBBox(),s=a.x,c=a.y,u=a.width,l=a.height;p.push(new Lf.Box(s-h,c-d,u+2*h,l+2*d)),v.push(new Lf.Vec(r.cx-s-u/2,r.cy-c-l/2))}}));var g=t.getStyle("max-attachment-width"),m=0,y=0,b=0,_=0;Lf.each(v,(function(t,e){if(m>g){var n=[0,y+b+2*l,0];m=n[0],y=n[1],b=n[2]}var r=p[e];new Lf.Vec(r.w/2+m+u,r.h/2+y+l).move(t),m=m+r.w+2*u,b=b>r.h?b:r.h,_=_>m?_:m}));var w=_,x=y+b+2*l;Lf.each(n.attachments,(function(t,e){var n=i[e],r=n.background,o=p[e],a=v[e];new Lf.Vec(-w/2,-x/2).move(a),Lf.attr(r,{fill:s[t.keyword.toLocaleLowerCase()]||"#b5b5b5",x:o.x,y:o.y,width:o.w,height:o.h}),Lf.attr(n,{transform:"translate(".concat(a.x,",").concat(a.y,")"),style:"cursor:pointer"})})),Lf.attr(o,{transform:"translate(".concat(w/2+r.w/2,",",0,")")});var S=r.cy,C=(r.l+r.r+w)/2;r.w=r.w+w,r.h=r.h>x?r.h:x,r.cy=S,r.cx=C}))},Tu.style={maxAttachmentWidth:120,attachmentMargin:[2,2],attachmentPadding:[3,3],attachmentColor:{ppt:"#D04526",pptx:"#D04526",doc:"#2B5796",docx:"#2B5796",rtf:"#2B5796",wps:"#2B5796",dps:"#2B5796",et:"#2B5796",xls:"#1E7145",xlsx:"#1E7145",pdf:"#FD0100",wmp:"#3C3C3C",rmvb:"#3C3C3C",rm:"#3C3C3C",dat:"#3C3C3C",mpg:"#3C3C3C",mpeg:"#3C3C3C",mpga:"#3C3C3C",avi:"#3C3C3C",mov:"#3C3C3C",mkv:"#3C3C3C",wav:"#3C3C3C",asf:"#3C3C3C",flv:"#3C3C3C",f4v:"#3C3C3C",rmi:"#3C3C3C",mid:"#3C3C3C",mp2:"#3C3C3C",amr:"#3C3C3C","3gp":"#3C3C3C",mp4:"#3C3C3C",wma:"#3C3C3C",wmv:"#3C3C3C",mp3:"#3C3C3C",bmp:"#98cb00",gif:"#98cb00",jpg:"#98cb00",jpeg:"#98cb00",png:"#98cb00",ico:"#98cb00",tif:"#98cb00",tiff:"#98cb00",htm:"#545B88",html:"#545B88",mht:"#545B88",wb:"#005000",swf:"#E3151C",txt:"#A0A0A0",zip:"#824871",imp:"#3C3C3C",impp:"#3C3C3C",videoslip:"#3C3C3C",imglst:"#98cb00",web:"#538CB5","\u5bfc\u56fe":"#0050b3","\u7b14\u8bb0":"#531dab","\u5e7b\u706f\u7247":"#cf1322","\u95ee\u7b54":"#1e3677","\u767d\u677f":"#237804","\u8ba8\u8bba":"#22a9f0","\u89c6\u9891":"#5bd1d7"}};var zf=Tu.utils;Tu.module=function(t){var e=t.option.sortable,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zf.each(n,(function(e){"tree"===e.type?t.traverse(e,(function(t){return t.offset=null})):e.offset=null})),t},r=function(t){return 0===zf.key(t.parent.children,t)},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.parent.children;return zf.key(e,t)===e.length-1},i=function(t,e){var n=t.parent.children,r=n.slice(0,e),o=n.slice(e,n.length);zf.del(r,t),zf.del(o,t),t.parent.children=[].concat(Rf(r),[t],Rf(o))},a=function(t,n){if(e){var r=t.parent.children,o=n?zf.key(r,n):zf.key(r,t)-1;i(t,o)}},s=function(t,n){if(e){var r=t.parent.children,o=n?zf.key(r,n)+1:zf.key(r,t)+2;i(t,o)}};t.on("newtree",(function(t){var e=t.tree;e.arrangeBox=null;var n=zf.svg("rect");e.svg.arrange=n})),t.on("renderoutside",(function(n){var r=n.node,o=n.box;if(e&&"tree"===r.type){var i=r.arrangeBox;if(i){var a=r.svg.arrange;zf.attach(r.svg,a);var s=r.layoutBox;zf.attr(a,{width:i.w,height:i.h,x:o.x-s.x+i.x,y:o.y-s.y+i.y,fill:t.getStyle(r,"arrange-color")})}else zf.detach(r.svg,r.svg.arrange)}})),zf.getter(t,{isFirst:function(){return r},isLast:function(){return o},arrangeLast:function(){return a},arrangeNext:function(){return s},arrange:function(){return n}})},Tu.style={treeArrangeUp:"none",treeArrangeDown:"none",treeArrangeLeft:"none",treeArrangeRight:"none",treeArrangeGap:15,treeArrangeColor:"black"},Tu.option={sortable:!0};var Ff=Tu.utils,Hf=["left","center","right"];Tu.event={target:"win",type:"mousedown",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,o=e.altKey||!1,i=new Ff.Pin(e.clientX,e.clientY),a=Hf[e.button];t.fire("mousedown",{point:i,type:a,ctrlKey:n,shiftKey:r,altKey:o},!0)}}};var Uf=Tu.utils;Tu.event={target:"win",type:"mousemove",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,o=e.altKey||!1,i=new Uf.Pin(e.clientX,e.clientY);t.fire("mousemove",{point:i,ctrlKey:n,shiftKey:r,altKey:o},!0)}}};var Wf=Tu.utils,Vf=["left","center","right"];Tu.event={target:"win",type:"mouseup",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,o=e.altKey||!1,i=new Wf.Pin(e.clientX,e.clientY),a=Vf[e.button];t.fire("mouseup",{point:i,type:a,ctrlKey:n,shiftKey:r,altKey:o},!0)}}};var Yf=Tu.utils;Tu.event={target:"win",type:"click",bind:function(t){return function(e){var n=new Yf.Pin(e.clientX,e.clientY);t.fire("click",{point:n},!0)}}};var Gf=Tu.utils;function Xf(t){return function(t){if(Array.isArray(t))return Zf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Zf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"dblclick",bind:function(t){return function(e){var n=new Gf.Pin(e.clientX,e.clientY);t.fire("dblclick",{point:n},!0)}}};var qf=Tu.utils;function Kf(t){return function(t){if(Array.isArray(t))return Qf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Qf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"touchend",bind:function(t){return function(e){var n=Xf(e.changedTouches),r=qf.map(n,(function(t){return new qf.Pin(t.clientX,t.clientY)})),o=r[0];t.fire("touchend",{points:r,point:o,number:e.touches.length},!0),e.preventDefault()}}};var Jf=Tu.utils;function $f(t){return function(t){if(Array.isArray(t))return th(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return th(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return th(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"touchmove",bind:function(t){return function(e){var n=Kf(e.changedTouches),r=Jf.map(n,(function(t){return new Jf.Pin(t.clientX,t.clientY)})),o=r[0],i=r.length;t.fire("touchmove",{points:r,point:o,number:i},!0),e.preventDefault()}}};var eh=Tu.utils;Tu.event={target:"win",type:"touchstart",bind:function(t){return function(e){var n=$f(e.touches),r=eh.map(n,(function(t){return new eh.Pin(t.clientX,t.clientY)})),o=r[0],i=r.length;t.focus(),t.fire("touchstart",{points:r,point:o,number:i},!0),e.preventDefault()}}};var nh=Tu.utils;Tu.event={target:"win",type:"mousewheel",bind:function(t){return function(e){var n=e.wheelDelta,r=new nh.Pin(e.clientX,e.clientY);t.fire("mousewheel",{delta:n,point:r},!0),e.preventDefault()}}};var rh=Tu.utils;Tu.event={target:"win",type:"DOMMouseScroll",bind:function(t){return function(e){var n=-40*e.detail,r=new rh.Pin(e.clientX,e.clientY);t.fire("mousewheel",{delta:n,point:r},!0),e.preventDefault()}}},Tu.event={target:"body",type:"focus",bind:function(t){return function(e){t.fire("focus",{},!0),e.preventDefault()}}},Tu.event={target:"body",type:"blur",bind:function(t){return function(e){t.fire("blur",{},!0),e.preventDefault()}}},Tu.event={target:"win",type:"resize",bind:function(t){return function(e){var n={width:e.target.innerWidth,height:e.target.innerHeight};t.fire("resize",{size:n},!0),e.preventDefault()}}},Tu.event={target:"win",type:"contextmenu",bind:function(t){return function(e){t.fire("contextmenu",{},!0),e.preventDefault()}}};var oh=Tu.utils;Tu.event={target:"win",type:"keydown",bind:function(t){return function(e){var n=new Set,r=[];e.altKey&&(r.push("alt"),n.add("alt")),e.ctrlKey&&(r.push("ctrl"),n.add("ctrl")),e.shiftKey&&(r.push("shift"),n.add("shift")),ih[e.code]&&!n.has(ih[e.code])&&r.push(ih[e.code]);var o=r.join("+");r.length>0&&t.fire("shortcut:".concat(o),{},!0),e.preventDefault()}}};var ih={Escape:"esc",Backquote:"~",Tab:"tab",CapsLock:"cap",ShiftLeft:"shift",ShiftRight:"shift",ControlLeft:"ctrl",ControlRight:"ctrl",AltLeft:"alt",AltRight:"alt",Space:"space",ArrowUp:"up",ArrowLeft:"left",ArrowDown:"down",ArrowRight:"right",ContextMenu:"menu",Minus:"-",Equal:"+",Backspace:"backspace",NumpadDecimal:".",Enter:"enter",NumpadEnter:"enter",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",NumpadDivide:"/",NumpadMultiply:"*",NumpadSubtract:"-",NumpadAdd:"+",Insert:"insert",Home:"home",PageUp:"pageup",PageDown:"pagedown",Delete:"delete",End:"end"};function ah(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}oh.each("qwertyuiopasdfghjklzxcvbnm".split(""),(function(t){return ih["Key".concat(t.toLocaleUpperCase())]=t})),oh.each("0123456789".split(""),(function(t){ih["Digit".concat(t)]=t,ih["Numpad".concat(t)]=t})),oh.repeat(12,(function(t){return ih["F".concat(t+1)]="f".concat(t+1)}));var ch=Tu.utils,uh=function(t,e){var n=e.children,r=ah(t.getStyle(e,"margin"),2),o=r[0],i=r[1],a=e.box,s=0,c=0;ch.each(n,(function(t){var e=t.treeBox;t.relVec.x=a.w+o+a.l-e.l,c+=e.h,s=Math.max(s,e.w)}));var u=a.cy-c/2;ch.each(n,(function(t){var e=t.treeBox;t.relVec.y=u-e.t,u+=e.h}));var l=e.treeBox;l.w=s+a.w+2*o,l.l=a.l-o,l.h=Math.max(a.h+2*i,c),l.t=a.cy-l.h/2};function lh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return fh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}uh.type="right",Tu.layout=uh;var hh=Tu.utils,dh=function(t,e){var n=e.children,r=lh(t.getStyle(e,"margin"),2),o=r[0],i=r[1],a=e.box,s=0,c=0;hh.each(n,(function(t){var e=t.treeBox;t.relVec.x=-a.w-o+a.r-e.r,c+=e.h,s=Math.max(s,e.w)}));var u=a.cy-c/2;hh.each(n,(function(t){var e=t.treeBox;t.relVec.y=u-e.t,u+=e.h}));var l=e.treeBox;l.w=s+a.w+2*o,l.r=a.r+o,l.h=Math.max(a.h+2*i,c),l.t=a.cy-l.h/2};function ph(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return vh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}dh.type="left",Tu.layout=dh;var gh=Tu.utils,mh=function(t,e){var n=e.children,r=ph(t.getStyle(e,"margin"),2),o=r[0],i=r[1],a=e.box,s=0,c=0;gh.each(n,(function(t){var e=t.treeBox;t.relVec.y=a.h+i+a.t-e.t,s+=e.w,c=Math.max(c,e.h)}));var u=a.cx-s/2;gh.each(n,(function(t){var e=t.treeBox;t.relVec.x=u-e.l,u+=e.w}));var l=e.treeBox;l.h=c+a.h+2*i,l.t=a.t-i,l.w=Math.max(a.w+2*o,s),l.l=a.cx-l.w/2};function yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return bh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}mh.type="down",Tu.layout=mh;var _h=Tu.utils,wh=function(t,e){var n=e.children,r=yh(t.getStyle(e,"margin"),2),o=r[0],i=r[1],a=e.box,s=0,c=0;_h.each(n,(function(t){var e=t.treeBox;t.relVec.y=-a.h-i+a.b-e.b,s+=e.w,c=Math.max(c,e.h)}));var u=a.cx-s/2;_h.each(n,(function(t){var e=t.treeBox;t.relVec.x=u-e.l,u+=e.w}));var l=e.treeBox;l.h=c+a.h+2*i,l.b=a.b+i,l.w=Math.max(a.w+2*o,s),l.l=a.cx-l.w/2};function xh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}wh.type="up",Tu.layout=wh;var Ch=Tu.utils,Oh=function(t,e){var n=e.children.length,r=Ch.group(e.children,(function(t,e){return e>=n/2?"right":"left"})),o=xh(t.getStyle(e,"margin"),2),i=o[0],a=o[1],s=e.box,c=0,u=0;Ch.each(r.left,(function(t){var e=t.treeBox;t.relVec.x=-s.w-i+s.r-e.r,u+=e.h,c=Math.max(c,e.w)}));var l=s.cy-u/2,f=l;Ch.each(r.left,(function(t){var e=t.treeBox;t.relVec.y=f-e.t,f+=e.h}));var h=0,d=0;Ch.each(r.right,(function(t){var e=t.treeBox;t.relVec.x=s.w+i+s.l-e.l,d+=e.h,h=Math.max(h,e.w)})),l=s.cy-d/2,f=l,Ch.each(r.right,(function(t){var e=t.treeBox;t.relVec.y=f-e.t,f+=e.h}));var p=e.treeBox;p.w=c+h+s.w+2*i,p.l=s.l-i-c,p.h=Math.max(s.h+2*a,u,d),p.t=s.cy-p.h/2};function kh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Mh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Oh.type="leftright",Tu.layout=Oh;var Eh=Tu.utils,jh=function(t,e){var n=e.children.length,r=Eh.group(e.children,(function(t,e){return e>=n/2?"down":"up"})),o=kh(t.getStyle(e,"margin"),2),i=o[0],a=o[1],s=e.box,c=0,u=0;Eh.each(r.up,(function(t){var e=t.treeBox;t.relVec.y=-s.h-a+s.b-e.b,c+=e.w,u=Math.max(u,e.h)}));var l=s.cx-c/2,f=l;Eh.each(r.up,(function(t){var e=t.treeBox;t.relVec.x=f-e.l,f+=e.w}));var h=0,d=0;Eh.each(r.down,(function(t){var e=t.treeBox;t.relVec.y=s.h+a+s.t-e.t,h+=e.w,d=Math.max(d,e.h)})),l=s.cx-h/2,f=l,Eh.each(r.down,(function(t){var e=t.treeBox;t.relVec.x=f-e.l,f+=e.w}));var p=e.treeBox;p.h=u+d+s.h+2*a,p.t=s.t-a-u,p.w=Math.max(s.w+2*i,c,h),p.l=s.cx-p.w/2};jh.type="updown",Tu.layout=jh;var Ih=Tu.utils,Ah=function(t,e){var n=e.input,r=e.output,o=n.absVec.move(n.box.center),i=r.absVec.move(r.box.center),a=Ih.Pin.center(o,i);e.relVec.val=a};function Th(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Ph(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ph(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ph(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ah.type="middle",Tu.layout=Ah;var Dh=Tu.utils,Nh=function(t,e){var n=Number.POSITIVE_INFINITY,r=n,o=-n,i=n,a=-n;Dh.each(e.trees,(function(e){var n=e.absVec.move(e.box.cl()),s=Th(t.getStyle(e,"margin"),2),c=s[0],u=s[1];r=n.l-c<r?n.l-c:r,o=n.r+c>o?n.r+c:o,i=n.t-u<i?n.t-u:i,a=n.b+u>a?n.b+u:a}));var s=Th(t.getStyle(e,"margin"),2),c=s[0],u=(s[1],e.box);e.relVec=new Dh.Vec(o+c+u.w/2,(i+a)/2)};function Lh(t){return function(t){if(Array.isArray(t))return zh(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Bh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bh(t,e){if(t){if("string"===typeof t)return zh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zh(t,e):void 0}}function zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Nh.type="offside",Tu.layout=Nh;var Fh=Tu.utils,Hh=function(t,e){var n=e,r=e.children,o=Rh(t.getStyle(e,"margin"),2),i=o[0],a=o[1],s=n.box,c=0,u=0;Fh.each(r,(function(e){var n=e.treeBox,r=Rh(t.getStyle(e,"margin"),2),o=r[0],i=r[1];e.relVec.y=s.t-n.t-u-n.h-o,e.relVec.x=s.cx-n.l+n.h+u-i,u+=n.h}));var l=[0,0];if(r.length){var f=r[r.length-1];c=u+f.treeBox.w,l=Lh(t.getStyle(f,"margin"))}var h=e.treeBox;h.w=Math.max(s.w/2+c+i-l[0],s.w+2*i),h.l=s.l-i,h.h=u+a+s.h,h.b=s.b+a};function Uh(t){return function(t){if(Array.isArray(t))return Yh(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Vh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vh(t,e){if(t){if("string"===typeof t)return Yh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yh(t,e):void 0}}function Yh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hh.type="fishup",Tu.layout=Hh;var Gh=Tu.utils,Xh=function(t,e){var n=e,r=e.children,o=Wh(t.getStyle(e,"margin"),2),i=o[0],a=o[1],s=n.box,c=0,u=0;Gh.each(r,(function(e){var n=e.treeBox,r=Wh(t.getStyle(e,"margin"),2),o=r[0],i=r[1];e.relVec.y=s.b-n.b+n.h+u+o,e.relVec.x=s.cx-n.l+n.h+u-i,u+=n.h}));var l=[0,0];if(r.length){var f=r[r.length-1];c=u+f.treeBox.w,l=Uh(t.getStyle(f,"margin"))}var h=e.treeBox;h.w=Math.max(s.w/2+c+i-l[0],s.w+2*i),h.l=s.l-i,h.h=u+a+s.h+l[1],h.t=s.t-a};function Zh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return qh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Xh.type="fishdown",Tu.layout=Xh;var Kh=Tu.utils,Qh=function(t,e){var n=e,r=e.children,o=Zh(t.getStyle(e,"margin"),2),i=o[0],a=o[1],s=n.box,c=[],u=[0,0];c.w=u[0],c.h=u[1];var l=[],f=[0,0];l.w=f[0],l.h=f[1],Kh.each(r,(function(t,e){return e<Math.floor((r.length+1)/2)?c.push(t):l.push(t)})),Kh.each(c,(function(t){var e=t.treeBox;t.relVec.y=s.cy-e.b-a,t.relVec.x=s.l-e.l+s.w+c.w+i,c.w+=e.w,c.h=Math.max(c.h,e.h)})),Kh.each(l,(function(t){var e=t.treeBox;t.relVec.y=s.cy-e.t+a,t.relVec.x=s.l-e.l+s.w+l.w+2*i,l.w+=e.w,l.h=Math.max(l.h,e.h)}));var h=e.treeBox;h.w=s.w+i+Math.max(l.w+2*i,c.w+i),h.l=s.l-i,h.h=Math.max(s.h,l.h+c.h)+2*a,h.t=Math.min(s.t-a,-c.h-a)};function Jh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return $h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Qh.type="fishmaster",Tu.layout=Qh;var td=Tu.utils,ed=function(t,e){var n=e,r=e.children,o=Jh(t.getStyle(n,"margin"),2),i=o[0],a=o[1],s=n.box,c=0,u=0;td.each(r,(function(t){var e=t.treeBox;t.relVec.x=s.l-e.l+s.w/2,t.relVec.y=s.b-e.b-s.h-a-u,u+=e.h,c=Math.max(c,e.w)}));var l=n.treeBox;l.w=Math.max(s.w+2*i,c+s.w/2+i),l.l=s.l-i,l.h=u+s.h+2*a,l.b=s.b+a};function nd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return rd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ed.type="parallelup",Tu.layout=ed;var od=Tu.utils,id=function(t,e){var n=e,r=e.children,o=nd(t.getStyle(n,"margin"),2),i=o[0],a=o[1],s=n.box,c=0,u=0;od.each(r,(function(t){var e=t.treeBox;t.relVec.x=s.l-e.l+s.w/2,t.relVec.y=s.t-e.t+s.h+a+u,u+=e.h,c=Math.max(c,e.w)}));var l=n.treeBox;l.w=Math.max(s.w+2*i,c+s.w/2+i),l.l=s.l-i,l.h=u+s.h+2*a,l.t=s.t-a};id.type="paralleldown",Tu.layout=id;var ad=Tu.utils,sd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cy>r.cy?1:0,i=new ad.Pin(n.l+n.w/2,o?n.t:n.b),a=new ad.Pin(n.l+n.w/2,r.cy),s=new ad.Pin(r.l,r.cy);ad.attr(e.connect,{d:"\n      M ".concat(i.x,",").concat(i.y,"\n      L ").concat(a.x,",").concat(a.y,",\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),ad.attr(e.arrow,{d:""})};sd.type="l",Tu.connect=sd;var cd=Tu.utils,ud=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cx>r.cx?1:0,i=new cd.Pin(o?n.l:n.r,n.cy),a=new cd.Pin(o?r.r:r.l,r.b+5),s=new cd.Pin(o?r.l:r.r,r.b+5),c=(i.x+a.x)/2;cd.attr(e.connect,{d:"\n      M ".concat(i.x,",").concat(i.y,"\n      C ").concat(c,",").concat(i.y,",").concat(c,",").concat(a.y,",").concat(a.x,",").concat(a.y,"\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),cd.attr(e.arrow,{d:""})};ud.type="s1",Tu.connect=ud;var ld=Tu.utils,fd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cx>r.cx?1:0,i=new ld.Pin(o?n.l:n.r,n.b+5),a=new ld.Pin(o?r.r:r.l,r.b+5),s=new ld.Pin(o?r.l:r.r,r.b+5),c=(i.x+a.x)/2;ld.attr(e.connect,{d:"\n      M ".concat(i.x,",").concat(i.y,"\n      C ").concat(c,",").concat(i.y,",").concat(c,",").concat(a.y,",").concat(a.x,",").concat(a.y,"\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),ld.attr(e.arrow,{d:""})};fd.type="s2",Tu.connect=fd;var hd=Tu.utils,dd=function(t,e){if(0===t.h||0===t.w)return t.center;var n=new hd.Pin,r=Math.abs(e.y/t.h),o=Math.abs(e.x/t.w);return o>r?(n.x=e.x>0?t.r:t.l,n.y=t.cy+(0===o?0:e.y/(2*o))):(n.y=e.y>0?t.b:t.t,n.x=t.cx+(0===r?0:e.x/(2*r))),n},pd=function(t,e){var n=e.layoutBox,r=e.input.layoutBox,o=e.output.layoutBox,i=n.center,a=new hd.Vec(r.center,i),s=new hd.Vec(o.center,i),c=dd(r,a),u=dd(o,s),l=hd.Pin.center(c,u);new hd.Vec(l,i).scale(2).move(l),hd.attr(e.connect,{d:"\n      M ".concat(c.x,",").concat(c.y,"\n      Q ").concat(l.x,",").concat(l.y,",").concat(u.x,",").concat(u.y,"      \n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":"5,5"});var f=new hd.Vec(u,l);f.size=20;var h=f.cl().rot(15).move(u.cl()),d=f.cl().scale(.7).move(u.cl()),p=f.cl().rot(-15).move(u.cl());hd.attr(e.arrow,{d:"\n      M ".concat(u.x,",").concat(u.y,"\n      L ").concat(h.x,",").concat(h.y,",\n      L ").concat(d.x,",").concat(d.y,",\n      L ").concat(p.x,",").concat(p.y,",\n      Z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};pd.type="bezier",Tu.connect=pd;var vd=Tu.utils,gd=Number.POSITIVE_INFINITY,md=function(t,e){var n=vd.Box.merge(vd.map(e.trees,(function(t){return t.layoutBox}))),r=e.layoutBox,o=10,i=vd.elif(yd(n,r),{left:function(){var t=new vd.Pin(0,gd),n=new vd.Pin(0,-gd);vd.each(e.trees,(function(e){var r=e.layoutBox;r.t<t.y&&(t.arr=[r.l-o,r.t]),r.b>n.y&&(n.arr=[r.l-o,r.b])}));var i=new vd.Pin(r.r+o,r.cy);return bd(i,t,0)+bd(i,n,0)},right:function(){var t=new vd.Pin(0,gd),n=new vd.Pin(0,-gd);vd.each(e.trees,(function(e){var r=e.layoutBox;r.t<t.y&&(t.arr=[r.r+o,r.t]),r.b>n.y&&(n.arr=[r.r+o,r.b])}));var i=new vd.Pin(r.l-o,r.cy);return bd(i,t,0)+bd(i,n,0)},top:function(){var t=new vd.Pin(gd,0),n=new vd.Pin(-gd,0);vd.each(e.trees,(function(e){var r=e.layoutBox;r.l<t.x&&(t.arr=[r.l,r.t-o]),r.r>n.x&&(n.arr=[r.r,r.t-o])}));var i=new vd.Pin(r.cx,r.b+o);return bd(i,t,1)+bd(i,n,1)},bottom:function(){var t=new vd.Pin(gd,0),n=new vd.Pin(-gd,0);vd.each(e.trees,(function(e){var r=e.layoutBox;r.l<=t.x&&(t.arr=[r.l,r.b+o]),r.r>=n.x&&(n.arr=[r.r,r.b+o])}));var i=new vd.Pin(r.cx,r.t-o);return bd(i,t,1)+bd(i,n,1)}});vd.attr(e.connect,{d:i,fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})},yd=function(t,e){var n=new vd.Vec(t.center,e.center),r=t.h*n.x,o=t.w*n.y,i=r>0,a=o>0,s=Math.abs(r)>Math.abs(o);return i&&s?"right":!i&&s?"left":a&&!s?"bottom":a||s?void 0:"top"},bd=function(t,e,n){var r,o=20,i=40,a=e.x-t.x,s=e.y-t.y,c=Math.min(Math.abs(a),Math.abs(s));c<o+i&&(c<o?(i=(r=[0,c])[0],o=r[1]):i=c-o);var u,l,f,h,d,p=a>0?1:-1,v=s>0?1:-1;return n?(u=new vd.Pin(t.x,t.y+v*o),l=new vd.Pin(t.x+p*o,u.y),f=new vd.Pin(e.x-p*i,u.y),h=new vd.Pin(e.x,u.y),d=new vd.Pin(e.x,u.y+v*i)):(u=new vd.Pin(t.x+p*o,t.y),l=new vd.Pin(u.x,t.y+v*o),f=new vd.Pin(u.x,e.y-v*i),h=new vd.Pin(u.x,e.y),d=new vd.Pin(u.x+p*i,e.y)),"\n    M ".concat(t.x,",").concat(t.y,"\n    Q ").concat(u.x,",").concat(u.y,",").concat(l.x,",").concat(l.y," \n    L ").concat(f.x,",").concat(f.y," \n    Q ").concat(h.x,",").concat(h.y,",").concat(d.x,",").concat(d.y," \n    L ").concat(e.x,",").concat(e.y," \n  ").replace(/\s/g,"")};md.type="brace",Tu.connect=md;var _d=Tu.utils,wd=function(t,e){var n=e.parent,r=n.layoutBox,o=e.layoutBox,i=r.cx>o.cx?1:0,a=t.getStyle(n,"margin")[0],s=new _d.Pin(i?r.l:r.r,r.cy),c=new _d.Pin(i?r.l-a:r.r+a,r.cy),u=new _d.Pin(i?r.l-a:r.r+a,o.cy),l=new _d.Pin(i?o.r:o.l,o.cy);_d.attr(e.connect,{d:"\n      M ".concat(s.x,",").concat(s.y,"\n      L ").concat(c.x," ,").concat(c.y,",\n      L ").concat(u.x," ,").concat(u.y,",\n      L ").concat(l.x," ,").concat(l.y,",\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});_d.attr(e.arrow,{d:"\n      M".concat(l.x+(i?3:-3),",").concat(l.y-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};wd.type="brokenx",Tu.connect=wd;var xd=Tu.utils,Sd=function(t,e){var n=e.parent,r=n.layoutBox,o=e.layoutBox,i=r.cy>o.cy?1:0,a=t.getStyle(n,"margin")[1],s=new xd.Pin(r.cx,i?r.t:r.b),c=new xd.Pin(r.cx,i?r.t-a:r.b+a),u=new xd.Pin(o.cx,i?r.t-a:r.b+a),l=new xd.Pin(o.cx,i?o.b:o.t);xd.attr(e.connect,{d:"\n      M ".concat(s.x,",").concat(s.y,"\n      L ").concat(c.x," ,").concat(c.y,",\n      L ").concat(u.x," ,").concat(u.y,",\n      L ").concat(l.x," ,").concat(l.y,",\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});xd.attr(e.arrow,{d:"\n      M".concat(l.x,",").concat(l.y+(i?0:-6),"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};Sd.type="brokeny",Tu.connect=Sd;var Cd=Tu.utils,Od=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cx>r.cx?1:0,i=n.cy>r.cy?1:0,a=new Cd.Pin(n[o?"l":"r"],n.cy),s=new Cd.Pin(r[o?"r":"l"],r.cy);Cd.attr(e.connect,{d:"\n      M ".concat(a.x,",").concat(a.y,"\n      A \n        ").concat(Math.abs(s.x-a.x),",\n        ").concat(Math.abs(s.y-a.y),",\n        0,\n        0,\n        ").concat((o+i)%2?1:0,",\n        ").concat(s.x,",\n        ").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});Cd.attr(e.arrow,{d:"\n      M".concat(s.x+(o?3:-3),",").concat(s.y-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};Od.type="ellipsex",Tu.connect=Od;var kd=Tu.utils,Md=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cx>r.cx?1:0,i=n.cy>r.cy?1:0,a=new kd.Pin(n.cx,n[i?"t":"b"]),s=new kd.Pin(r.cx,r[i?"b":"t"]);kd.attr(e.connect,{d:"\n      M ".concat(a.x,",").concat(a.y,"\n      A \n        ").concat(Math.abs(s.x-a.x),",\n        ").concat(Math.abs(s.y-a.y),",\n        0,\n        0,\n        ").concat((o+i)%2?0:1,",\n        ").concat(s.x,",\n        ").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});kd.attr(e.arrow,{d:"\n      M".concat(s.x,",").concat(s.y+(i?0:-6),"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};Md.type="ellipsey",Tu.connect=Md;var Ed=Tu.utils,jd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cy>r.cy?1:0,i=new Ed.Pin(n.cx,o?n.t:n.b),a=new Ed.Pin(r.l,o?r.t:r.b);Ed.attr(e.connect,{d:"\n      M ".concat(i.x,",").concat(i.y,"\n      L ").concat(a.x,",").concat(a.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),Ed.attr(e.arrow,{d:""})};jd.type="fishslave",Tu.connect=jd;var Id=Tu.utils,Ad=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=(n.cy>r.cy?1:0)?r.b:r.t,i=new Id.Pin(n.r,n.cy),a=new Id.Pin(r.l-Math.abs(n.cy-o),n.cy),s=new Id.Pin(r.l,o);Id.attr(e.connect,{d:"\n      M ".concat(i.x,",").concat(i.y,"\n      L ").concat(a.x,",").concat(a.y,",\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),Id.attr(e.arrow,{d:""})};Ad.type="fishmaster",Tu.connect=Ad;var Td=Tu.utils,Pd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,o=n.cy>r.cy?1:0,i=new Td.Pin(n.cx,o?n.t:n.b),a=new Td.Pin(r.cx,o?r.b:r.t),s=t.getStyle(e,"connect-type"),c=Td.guid();Td.attr(e.connect,{id:c,d:"\n      M ".concat(i.x,",").concat(i.y,"\n      L ").concat(a.x,",").concat(a.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":"dotted"===s?"5,5":""}),Td.clean(e.connectTextSvg);var u=Td.svg("textPath");u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(c)),Td.attach(u,Td.newTextNode(e.connectText)),Td.attach(e.connectTextSvg,u);var l="rearrow"===s||"biarrow"===s?Dd(i,a):"",f="arrow"===s||"biarrow"===s?Dd(a,i):"";Td.attr(e.arrow,{d:l+f,fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})},Dd=function(t,e){var n=new Td.Vec(t,e);n.size=20;var r=n.cl().rot(15).move(t.cl()),o=n.cl().scale(.7).move(t.cl()),i=n.cl().rot(-15).move(t.cl());return"M".concat(t.x,",").concat(t.y,"L").concat(r.x,",").concat(r.y,",L").concat(o.x,",").concat(o.y,",L").concat(i.x,",").concat(i.y,",Z")};Pd.type="conceptline",Tu.connect=Pd;var Nd=Tu.utils,Ld=Nd.color(115,161,191),Rd=Nd.color(238,243,246),Bd=Nd.color(115,161,191,.1),zd=Nd.color(115,161,191,.6),Fd={root:{background:Ld,font:"rgb(255,255,255)",border:Ld},main:{background:Rd,font:"rgb(0,0,0)",border:Ld},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},Hd=function(t,e){return Nd.elif(t.level>2?3:t.level,{1:function(){return Fd.root[e]},2:function(){return Fd.main[e]},3:function(){return Fd.child[e]}})};Tu.theme={type:"blue",style:{treeBorderColor:function(t,e){return Hd(e,"border")},treeBackgroundColor:function(t,e){return Hd(e,"background")},treeFontColor:function(t,e){return Hd(e,"font")},treeArrangeColor:zd,linkBorderColor:Ld,linkBackgroundColor:Rd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Ld,summaryBackgroundColor:Rd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Ld,selectorColor:Bd,selectorBorderColor:Ld,mapColor:Ld}};var Ud=Tu.utils,Wd=Ud.color(191,147,115),Vd=Ud.color(246,242,238),Yd=Ud.color(191,147,115,.1),Gd=Ud.color(191,147,115,.6),Xd={root:{background:Wd,font:"rgb(255,255,255)",border:Wd},main:{background:Vd,font:"rgb(0,0,0)",border:Wd},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},Zd=function(t,e){return Ud.elif(t.level>2?3:t.level,{1:function(){return Xd.root[e]},2:function(){return Xd.main[e]},3:function(){return Xd.child[e]}})};Tu.theme={type:"brown",style:{treeBorderColor:function(t,e){return Zd(e,"border")},treeBackgroundColor:function(t,e){return Zd(e,"background")},treeFontColor:function(t,e){return Zd(e,"font")},treeArrangeColor:Gd,linkBorderColor:Wd,linkBackgroundColor:Vd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Wd,summaryBackgroundColor:Vd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Wd,selectorColor:Yd,selectorBorderColor:Wd,mapColor:Wd}};var qd=Tu.utils,Kd=qd.color(115,191,118),Qd=qd.color(238,246,238),Jd=qd.color(115,191,118,.1),$d=qd.color(115,191,118,.6),tp={root:{background:Kd,font:"rgb(255,255,255)",border:Kd},main:{background:Qd,font:"rgb(0,0,0)",border:Kd},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},ep=function(t,e){return qd.elif(t.level>2?3:t.level,{1:function(){return tp.root[e]},2:function(){return tp.main[e]},3:function(){return tp.child[e]}})};Tu.theme={type:"green",style:{treeBorderColor:function(t,e){return ep(e,"border")},treeBackgroundColor:function(t,e){return ep(e,"background")},treeFontColor:function(t,e){return ep(e,"font")},treeArrangeColor:$d,linkBorderColor:Kd,linkBackgroundColor:Qd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Kd,summaryBackgroundColor:Qd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Kd,selectorColor:Jd,selectorBorderColor:Kd,mapColor:Kd}};var np=Tu.utils,rp=np.color(191,115,148),op=np.color(246,238,242),ip=np.color(191,115,148,.1),ap=np.color(191,115,148,.6),sp={root:{background:rp,font:"rgb(255,255,255)",border:rp},main:{background:op,font:"rgb(0,0,0)",border:rp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},cp=function(t,e){return np.elif(t.level>2?3:t.level,{1:function(){return sp.root[e]},2:function(){return sp.main[e]},3:function(){return sp.child[e]}})};Tu.theme={type:"pink",style:{treeBorderColor:function(t,e){return cp(e,"border")},treeBackgroundColor:function(t,e){return cp(e,"background")},treeFontColor:function(t,e){return cp(e,"font")},treeArrangeColor:ap,linkBorderColor:rp,linkBackgroundColor:op,linkFontColor:"rgb(0,0,0)",summaryBorderColor:rp,summaryBackgroundColor:op,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:rp,selectorColor:ip,selectorBorderColor:rp,mapColor:rp}};var up=Tu.utils,lp=up.color(123,115,191),fp=up.color(239,238,246),hp=up.color(123,115,191,.1),dp=up.color(123,115,191,.6),pp={root:{background:lp,font:"rgb(255,255,255)",border:lp},main:{background:fp,font:"rgb(0,0,0)",border:lp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},vp=function(t,e){return up.elif(t.level>2?3:t.level,{1:function(){return pp.root[e]},2:function(){return pp.main[e]},3:function(){return pp.child[e]}})};Tu.theme={type:"purple",style:{treeBorderColor:function(t,e){return vp(e,"border")},treeBackgroundColor:function(t,e){return vp(e,"background")},treeFontColor:function(t,e){return vp(e,"font")},treeArrangeColor:dp,linkBorderColor:lp,linkBackgroundColor:fp,linkFontColor:"rgb(0,0,0)",summaryBorderColor:lp,summaryBackgroundColor:fp,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:lp,selectorColor:hp,selectorBorderColor:"rgb(0,0,0)",mapColor:lp}};var gp=Tu.utils,mp=gp.color(191,115,115),yp=gp.color(246,238,238),bp=gp.color(191,115,115,.1),_p=gp.color(191,115,115,.6),wp={root:{background:mp,font:"rgb(255,255,255)",border:mp},main:{background:yp,font:"rgb(0,0,0)",border:mp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},xp=function(t,e){return gp.elif(t.level>2?3:t.level,{1:function(){return wp.root[e]},2:function(){return wp.main[e]},3:function(){return wp.child[e]}})};Tu.theme={type:"red",style:{treeBorderColor:function(t,e){return xp(e,"border")},treeBackgroundColor:function(t,e){return xp(e,"background")},treeFontColor:function(t,e){return xp(e,"font")},treeArrangeColor:_p,linkBorderColor:mp,linkBackgroundColor:yp,linkFontColor:"rgb(0,0,0)",summaryBorderColor:mp,summaryBackgroundColor:yp,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:mp,selectorColor:bp,selectorBorderColor:mp,mapColor:mp}};var Sp=Tu.utils,Cp=[{dark:Sp.color(115,161,191),light:Sp.color(238,243,246)},{dark:Sp.color(191,147,115),light:Sp.color(246,242,238)},{dark:Sp.color(115,191,118),light:Sp.color(238,246,238)},{dark:Sp.color(191,115,148),light:Sp.color(246,238,242)},{dark:Sp.color(123,115,191),light:Sp.color(239,238,246)},{dark:Sp.color(191,115,115),light:Sp.color(246,238,238)}],Op=Sp.color(0,58,132),kp=Sp.color(240,240,240),Mp=Sp.color(0,58,132,.1),Ep=Sp.color(0,58,132,.6),jp=function(t,e){var n,r=0;return e.parent===t.root?n=e:t.backtrack(e,(function(e){e.parent===t.root&&(n=e)})),Sp.each(t.root.children,(function(t){if(n===t)return!0;r++}),(function(t){return t})),r};Tu.theme={type:"multicolor",style:{treeBorderColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return Op},2:function(){return Cp[jp(t,e)%Cp.length].dark},3:function(){return Cp[jp(t,e)%Cp.length].dark},4:function(){return"rgba(0,0,0,0)"}})},treeBorderWidth:function(t,e){return Sp.elif(e.level>3,{true:function(){return 0},false:function(){return 1}})},treeBackgroundColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return Op},2:function(){return Cp[jp(t,e)%Cp.length].dark},3:function(){return Cp[jp(t,e)%Cp.length].light},4:function(){return"rgba(0,0,0,0)"}})},treeFontColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return"rgb(255,255,255)"},2:function(){return"rgb(255,255,255)"},3:function(){return"rgb(0,0,0)"},4:function(){return"rgb(0,0,0)"}})},treeConnectColor:function(t,e){return Sp.elif(e.level>1?2:e.level,{1:function(){return Op},2:function(){return Cp[jp(t,e)%Cp.length].dark}})},treeConnectWidth:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return 0},2:function(){return 4},3:function(){return 2},4:function(){return 1}})},treeArrangeColor:Ep,linkBorderColor:Op,linkBackgroundColor:kp,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Op,summaryBackgroundColor:kp,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Op,selectorColor:Mp,selectorBorderColor:Op,mapColor:Op}},Tu.theme={type:"rect",style:{nodeBorderRadius:0,nodeSelectRadius:0,treeTargetRadius:0}},Tu.theme={type:"round",style:{nodeBorderRadius:10,nodeSelectRadius:10,treeTargetRadius:10}};var Ip=Tu.utils,Ap={child:{padding:[5,5],margin:[15,15],border:0},other:{padding:[10,10],margin:[40,40],border:1}},Tp=function(t,e){return Ip.elif(t.type,{tree:function(){return Ip.elif(t.level>2?"child":"other",{other:function(){return Ap.other[e]},child:function(){return Ap.child[e]}})},link:function(){return Ap.other[e]},summary:function(){return Ap.other[e]}})};Tu.theme={type:"loose",style:{nodePadding:function(t,e){return Tp(e,"padding")},nodeMargin:function(t,e){return Tp(e,"margin")},nodeBorderWidth:function(t,e){return Tp(e,"border")}}};var Pp=Tu.utils,Dp={child:{padding:[2,2],margin:[10,5],border:0},other:{padding:[4,4],margin:[20,10],border:1}},Np=function(t,e){return Pp.elif(t.type,{tree:function(){return Pp.elif(t.level>2?"child":"other",{other:function(){return Dp.other[e]},child:function(){return Dp.child[e]}})},link:function(){return Dp.other[e]},summary:function(){return Dp.other[e]}})};Tu.theme={type:"compact",style:{nodePadding:function(t,e){return Np(e,"padding")},nodeMargin:function(t,e){return Np(e,"margin")},nodeBorderWidth:function(t,e){return Np(e,"border")}}};var Lp=Tu.utils;Tu.theme={type:"mind",style:{treeLayout:function(t,e){return Lp.elif(e.level>2?3:e.level,{1:function(){return"leftright"},2:function(){var t=e.parent.children;return Lp.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"layout")}})},linkLayout:"middle",summaryLayout:"offside",treeArrangeUp:"last",treeArrangeDown:"next",treeConnect:function(t,e){return Lp.elif(e.level>4?4:e.level,{2:function(){return"ellipsex"},3:function(){return"s1"},4:function(){return"s2"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Lp.elif(e.level>2?3:e.level,{1:function(){return"bottom"},2:function(){var t=e.parent.children;return Lp.key(t,e)>=t.length/2?"right":"left"},3:function(){var n=t.getStyle(e.parent,"expand-position");return"right"===n||"rightBottom"===n?"rightBottom":"left"===n||"leftBottom"===n?"leftBottom":void 0}})}}};var Rp=Tu.utils;Tu.theme={type:"right",style:{treeLayout:"right",linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return Rp.elif(e.level>4?4:e.level,{2:function(){return"ellipsex"},3:function(){return"s1"},4:function(){return"s2"}})},treeArrangeUp:"last",treeArrangeDown:"next",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Rp.elif(e.level>2?3:e.level,{1:function(){return"right"},2:function(){return"right"},3:function(){return"rightBottom"}})}}};var Bp=Tu.utils;Tu.theme={type:"struct",style:{treeLayout:function(t,e){return Bp.elif(e.level>2?3:e.level,{1:function(){return"leftright"},2:function(){var t=e.parent.children;return Bp.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"layout")}})},treeArrangeUp:"last",treeArrangeDown:"next",linkLayout:"middle",summaryLayout:"offside",treeConnect:"brokenx",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Bp.elif(e.level>2?3:e.level,{1:function(){return"bottom"},2:function(){var t=e.parent.children;return Bp.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"expand-position")}})}}},Tu.theme={type:"downstruct",style:{treeLayout:"down",linkLayout:"middle",summaryLayout:"offside",treeConnect:"brokeny",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom",treeArrangeLeft:"last",treeArrangeRight:"next"}};var zp=Tu.utils;Tu.theme={type:"filetree",style:{treeLayout:function(t,e){return zp.elif(e.level>1,{false:function(){return"down"},true:function(){return"paralleldown"}})},treeArrangeLeft:function(t,e){return 2===e.level?"last":"none"},treeArrangeRight:function(t,e){return 2===e.level?"next":"none"},treeArrangeUp:function(t,e){return e.level>2?"last":"none"},treeArrangeDown:function(t,e){return e.level>2?"next":"none"},linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return zp.elif(e.level>2,{false:function(){return"brokeny"},true:function(){return"l"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom"}};var Fp=Tu.utils,Hp={bottom:"top",top:"bottom"};function Up(t){return function(t){if(Array.isArray(t))return Wp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Wp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.theme={type:"fishbone",style:{treeLayout:function(t,e){return Fp.elif(e.level>2?3:e.level,{1:function(){return"fishmaster"},2:function(){var t=e.parent.children;return Fp.key(t,e)>=Math.floor((t.length+1)/2)?"fishdown":"fishup"},3:function(){var n=t.getStyle(e.parent,"layout");return"fishup"===n||"paralleldown"===n?"paralleldown":"fishdown"===n||"parallelup"===n?"parallelup":void 0}})},treeArrangeLeft:function(t,e){return 2===e.level?"last":"none"},treeArrangeRight:function(t,e){return 2===e.level?"next":"none"},treeArrangeUp:function(t,e){var n=t.getStyle(e.parent,"layout");return Fp.elif(e.level>3?4:e.level,{2:function(){return"none"},3:function(){return"fishdown"===n?"last":"next"},4:function(){return"paralleldown"===n?"last":"next"}})},treeArrangeDown:function(t,e){var n=t.getStyle(e.parent,"layout");return Fp.elif(e.level>3?4:e.level,{2:function(){return"none"},3:function(){return"fishup"===n?"last":"next"},4:function(){return"parallelup"===n?"last":"next"}})},linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return Fp.elif(e.level>3?4:e.level,{2:function(){return"fishmaster"},3:function(){return"fishslave"},4:function(){return"l"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Fp.elif(e.level>3?4:e.level,{1:function(){return"right"},2:function(){var t=e.parent.children;return Fp.key(t,e)>Math.floor(t.length/2)?"bottom":"top"},3:function(){return Hp[t.getStyle(e.parent,"expand-position")]},4:function(){return t.getStyle(e.parent,"expand-position")}})}}},Tu.theme={type:"concept",style:{treeLayout:"down",linkLayout:"middle",summaryLayout:"offside",treeConnect:"conceptline",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom",treeArrangeLeft:"last",treeArrangeRight:"next"}},Tu.command={type:"import",execute:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;try{var o=t.import(e,n).attach().render().layout();o.then&&o.then((function(t){return r&&r()})),t.resize()}catch(FO){console.log(FO)}}},Tu.command={type:"redo",execute:function(t,e){t.redo().attach().render().layout()},query:function(t){return t.hasRedo&&!t.option.readOnly?"normal":"disabled"},shortcut:"ctrl+y"},Tu.command={type:"undo",execute:function(t,e){t.undo().attach().render().layout()},query:function(t){return t.hasUndo&&!t.option.readOnly?"normal":"disabled"},shortcut:"ctrl+z"};var Vp=Tu.utils;function Yp(t){return function(t){if(Array.isArray(t))return Gp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendchild",execute:function(t,e){var n=t.newTree(),r=Up(t.selectedNodes)[0];return r.children.push(n),n.parent=r,n.level=r.level+1,t.attach().renderNode(n).renderNode(r).move(n,r.absVec).layout(),t.fire("contentchange",{},!0),{operation:e,node:{id:n.id,title:n.text},parent:{id:r.id,title:r.text}}},query:function(t){return t.option.readOnly||1!==Vp.size(t.selectedNodes)||"tree"!==Up(t.selectedNodes)[0].type?"disabled":"normal"},shortcut:"tab insert"};var Xp=Tu.utils;function Zp(t){return function(t){if(Array.isArray(t))return qp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendparent",execute:function(t){var e=Yp(t.selectedNodes)[0],n=e.parent,r=t.newTree(),o=Xp.key(n.children,e);n.children[o]=r,r.children[0]=e,e.parent=r,r.parent=n,r.level=n.level+1,t.traverse(e,(function(t){return t.level++})),t.attach().renderNode(r).renderNode(n).renderNode(e).move(r,n.absVec).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==Xp.size(t.selectedNodes)||"tree"!==Yp(t.selectedNodes)[0].type||1===Yp(t.selectedNodes)[0].level?"disabled":"normal"},shortcut:"shift+tab"};var Kp=Tu.utils;function Qp(t){return function(t){if(Array.isArray(t))return Jp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Jp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendbrother",execute:function(t){var e=t.newTree(),n=Zp(t.selectedNodes)[0].parent;n.children.push(e),e.parent=n,e.level=n.level+1,t.attach().renderNode(e).move(e,n.absVec).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==Kp.size(t.selectedNodes)||"tree"!==Zp(t.selectedNodes)[0].type||1===Zp(t.selectedNodes)[0].level?"disabled":"normal"},shortcut:"enter"};var $p=Tu.utils;function tv(t){return function(t){if(Array.isArray(t))return ev(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendlink",execute:function(t){var e=Qp(t.selectedNodes)[0];t.source=e,t.status="link"},query:function(t){return"link"===t.status?"actived":t.option.readOnly||1!==$p.size(t.selectedNodes)||"tree"!==Qp(t.selectedNodes)[0].type?"disabled":"normal"}};var nv=Tu.utils;function rv(t){return function(t){if(Array.isArray(t))return ov(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendsummary",execute:function(t){var e=nv.filter(t.selectedNodes,(function(t){return"tree"===t.type})),n=t.newSummary();return n.trees=e,t.summaries[n.id]=n,t.attach().renderNode(n).layout(),t.fire("contentchange",{},!0),{abstract:{id:n.id,title:n.text},nodes:tv(nv.map(n.trees,(function(t){return{id:t.id,title:t.text}})))}},query:function(t){return t.option.readOnly?"disabled":t.selectedNodes.size&&!nv.each(t.selectedNodes,(function(t){return"tree"===t.type}),(function(t){return t}))?"normal":"disabled"},shortcut:"s"};var iv=Tu.utils;function av(t){return function(t){if(Array.isArray(t))return sv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"delete",execute:function(t,e){var n=new Set,r=t.selectedNodes,o=[];iv.each(t.trees,(function(e){if(r.has(e))return n.add(e),void o.push({node:{id:e.id,title:e.text},parent:{id:e.parent.id,title:e.parent.text}});t.backtrack(e,(function(t){return!r.has(t)}))||n.add(e)}));var i=[];iv.each(t.links,(function(t){(r.has(t)||n.has(t.input)||n.has(t.output))&&(i.push({relation:{id:t.id,title:t.text,inputId:t.input.id,outputId:t.output.id},input:{id:t.input.id,title:t.input.text},output:{id:t.output.id,title:t.output.text}}),n.add(t))}));var a=[];return iv.each(t.summaries,(function(t){!r.has(t)&&iv.each(t.trees,(function(t){return n.has(t)}),(function(t){return t}))||(a.push({abstract:{id:t.id,title:t.text},nodes:rv(iv.map(t.trees,(function(t){return{id:t.id,title:t.text}})))}),n.add(t))})),iv.each(n,(function(e){return iv.elif(e.type,{tree:function(){t.delTree(e),e.parent&&!n.has(e.parent)&&iv.del(e.parent.children,e)},link:function(){return t.delLink(e)},summary:function(){return t.delSummary(e)}})})),t.cleanSelected(),t.select(t.root),t.attach().render().layout(),t.fire("contentchange",{},!0),{deleteTrees:o,deleteLinks:i,deleteSummaries:a,operation:e}},query:function(t){return t.option.readOnly?"disabled":iv.size(t.selectedNodes)?t.selectedNodes.has(t.root)||"edit"!==t.status?"disabled":"normal":"disabled"},shortcut:"delete"};var cv=Tu.utils;function uv(t){return function(t){if(Array.isArray(t))return lv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrange",execute:function(t){t.arrange.apply(t,av(t.selectedNodes)).layout(),t.fire("contentchange",{},!0);var e=[];cv.each(t.selectedNodes,(function(t){"tree"===t.type&&(t.level<=1||e.push({node:{id:t.id,title:t.text},parent:{id:t.parent.id,title:t.parent.text}}))}));var n=[];cv.each(t.selectedNodes,(function(t){"link"===t.type&&n.push({relation:{id:t.id,title:t.text,inputId:t.input.id,outputId:t.output.id},input:{id:t.input.id,title:t.input.text},output:{id:t.output.id,title:t.output.text}})}));var r=[];return cv.each(t.selectedNodes,(function(t){"summary"===t.type&&r.push({abstract:{id:t.id,title:t.text},nodes:av(cv.map(t.trees,(function(t){return{id:t.id,title:t.text}})))})})),{items:e,links:n,summaries:r}},query:function(t){return t.option.readOnly?"disabled":cv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+shift+l"};var fv=Tu.utils;Tu.command={type:"text",execute:function(t,e){var n=uv(t.selectedNodes)[0];n.text=e,t.renderNode(n).layout();var r="tree"===n.type?{node:{id:n.id,title:n.text},parent:n.parent&&{id:n.parent.id,title:n.parent.text}||null}:null,o="link"===n.type?{relation:{id:n.id,title:n.text,inputId:n.input.id,outputId:n.output.id},input:{id:n.input.id,title:n.input.text},output:{id:n.output.id,title:n.output.text}}:null,i="summary"===n.type?{abstract:{id:n.id,title:n.text},nodes:uv(fv.map(n.trees,(function(t){return{id:t.id,title:t.text}})))}:null;return t.fire("contentchange",{},!0),{treeItem:r,linkItem:o,summaryItem:i}},query:function(t){return t.option.readOnly||1!==fv.size(t.selectedNodes)?"disabled":"normal"}};var hv=Tu.utils;Tu.command={type:"bold",execute:function(t){var e=t.selectedNodes,n=hv.size(hv.filter(e,(function(e){return!t.getStyle(e,"font-bold")})))>0;hv.each(e,(function(e){e.style.fontBold=n,t.renderNode(e)})),t.layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":hv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+b"};var dv=Tu.utils;function pv(t){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vv(t){return function(t){if(Array.isArray(t))return gv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mv(Object(n),!0).forEach((function(e){bv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=pv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"italic",execute:function(t){var e=t.selectedNodes,n=dv.size(dv.filter(e,(function(e){return!t.getStyle(e,"font-italic")})))>0;dv.each(e,(function(e){e.style.fontItalic=n,t.renderNode(e)})),t.layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":dv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+i"};var _v=Tu.utils;Tu.command={type:"style",execute:function(t,e){var n=[];return _v.each(t.selectedNodes,(function(r){e?_v.each(e,(function(t,e){return _v.isUnd(t)?delete r.style[e]:r.style[e]=t})):r.style={},t.renderNode(r),n.push(yv(yv(yv(yv({type:r.type,node:{id:r.id,title:r.text}},"tree"===r.type?{parent:r.parent&&{id:r.id,title:r.text}}:{}),"link"===r.type?{input:{id:r.input.id,title:r.input.text},output:{id:r.output.id,title:r.output.text}}:{}),"summary"===r.type?{nodes:vv(_v.map(r.trees,(function(t){return{id:t.id,title:t.text}})))}:{}),{},{style:yv({},e)}))})),t.layout(),t.fire("contentchange",{},!0),{items:n}},query:function(t){return t.option.readOnly?"disabled":_v.size(t.selectedNodes)?"normal":"disabled"}};var wv=Tu.utils;function xv(t){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sv(Object(n),!0).forEach((function(e){Ov(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ov(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"view",execute:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r)return t.center=e,void(t.zoom=n);var o=t.center.obj,i=o.x,a=o.y,s=e.x,c=e.y,u=t.zoom,l=n,f=new wv.Animate({x:i,y:a,z:u},{x:s,y:c,z:l},(function(e){var n;return n=[{x:e.x,y:e.y},e.z],t.center=n[0],t.zoom=n[1],n}));f.start(t.option.viewAnimationDuration,t.option.viewAnimationEasing,(function(){}))}};var kv=Tu.utils;Tu.command={type:"search",execute:function(t,e){var n=Cv(Cv(Cv({},t.trees),t.links),t.summaries);if(t.cleanSelected(),""!==e){var r=[];kv.each(n,(function(t){Mv(t.text,e)&&r.push(t)})),t.select.apply(t,r)}}};var Mv=function(t,e){return t=t.split(""),e=e.split(""),!kv.each(t,(function(n,r){return!(r+e.length>t.length)&&kv.each(e,(function(e,n){return e!==t[r+n]}),(function(t){return t}))}),(function(t){return t}))};Tu.command={type:"theme",execute:function(t,e){t.theme=e,t.attach().render().layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":"normal"}},Tu.command={type:"level",execute:function(t,e){t.traverse(t.root,(function(t){return t.expand=t.level!==e})),t.cleanSelected(),t.attach().render().layout(),t.fire("contentchange",{},!0)},query:function(t){var e="disabled";return"edit"===t.status&&(e="normal"),"hand"===t.status&&(e="normal"),e}};var Ev=Tu.utils;Tu.command={type:"copy",execute:function(t){t.copy();var e=t.selectedRoots;return{copyItems:Ev.map(e,(function(t){return{node:{id:t.id,title:t.text},parent:t.parent?{id:t.parent.id,title:t.parent.text}:null}}))}},query:function(t){return"edit"===t.status?"normal":"disabled"},shortcut:"ctrl+c"};var jv=Tu.utils;function Iv(t){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Iv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Iv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"paste",execute:function(t){var e=t.paste();if(e)return t.attach().render().layout(),t.fire("contentchange",{},!0),{pasteItems:jv.map(e,(function(t){return{node:{id:t.id,title:t.text},parent:t.parent?{id:t.parent.id,title:t.parent.text}:null}}))}},query:function(t){return t.option.readOnly?"disabled":"normal"},shortcut:"ctrl+v"};var Pv=Tu.utils;function Dv(t){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Dv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rv(t){return function(t){if(Array.isArray(t))return Bv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"importtext",execute:function(t,e){var n={text:"*",children:[]},r=[{tab:-1,textTree:n}],o=e.split("\n"),i=Pv.map(o,(function(t){var e=t.match(/\t/g);return e?e.length:0}));Pv.each(i,(function(t,e){for(var n=null;!(t>(n=r[r.length-1]).tab);)r.pop();var i={text:o[e].replace(/\t/g,"").replace(/\\t/g,"\t").replace(/\\n/g,"\n"),children:[]};n.textTree.children.push(i),r.push({tab:t,textTree:i})}));Pv.each(t.selectedNodes,(function(e){if("tree"===e.type){var r=e.absVec;!function e(n,r,o){return Pv.each(r.children,(function(r,i){var a=t.newTree();a.text=r.text,n.children.push(a),a.parent=n,a.level=n.level+1,t.move(a,o),e(a,r,o)}))}(e,n,r)}})),t.attach().render().layout(),t.fire("contentchange",{},!0);var a=[];return Pv.each(t.selectedNodes,(function(t){"tree"===t.type&&(t.level<=0||a.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Av(Object(n),!0).forEach((function(e){Tv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({node:{id:t.id,title:t.text}},t.parent?{parent:{id:t.parent.id,title:t.parent.text}}:{})))})),{items:a,text:e}},query:function(t){return t.option.readOnly?"disabled":"normal"}};var zv=Tu.utils;function Fv(t){return(Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Fv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wv(t){return function(t){if(Array.isArray(t))return Vv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"icon",execute:function(t,e){var n=Rv(t.selectedNodes)[0],r=e||n.icon;return n.icon=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nv(Object(n),!0).forEach((function(e){Lv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):null,t.renderNode(n).layout(),t.fire("contentchange",{},!0),r?{isAdd:!!e,icon:{type:r.type,url:r.url,id:r.url},node:{id:n.id,title:n.text}}:{node:{id:n.id,title:n.text}}},query:function(t){return t.option.readOnly||1!==zv.size(t.selectedNodes)?"disabled":"normal"}};var Yv=Tu.utils;function Gv(t){return(Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Gv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qv(t){return function(t){if(Array.isArray(t))return Kv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"image",execute:function(t,e){var n=Wv(t.selectedNodes)[0];return n.image=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hv(Object(n),!0).forEach((function(e){Uv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):null,t.renderNode(n).layout(),t.fire("contentchange",{},!0),e?{image:{type:e.type,url:e.url,id:e.url},node:{id:n.id,title:n.text}}:{}},query:function(t){return t.option.readOnly||1!==Yv.size(t.selectedNodes)?"disabled":"normal"}};var Qv=Tu.utils;function Jv(t){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$v(Object(n),!0).forEach((function(e){eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Jv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"attachment",execute:function(t,e){var n=qv(t.selectedNodes)[0];return n.attachments=e?Qv.map(e,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xv(Object(n),!0).forEach((function(e){Zv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)})):[],t.renderNode(n).layout(),t.fire("contentchange",{},!0),{node:{id:n.id,title:n.text},attachments:Qv.map(e,(function(t){return{id:t.id,type:t.keyword,title:t.content}}))}},query:function(t){return t.option.readOnly||1!==Qv.size(t.selectedNodes)?"disabled":"normal"}};var ng=Tu.utils;function rg(t){return function(t){if(Array.isArray(t))return og(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return og(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return og(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"fullview",execute:function(t,e,n){var r=t.targetBox,o=r.center;r.w=1.1*r.w,r.h=1.1*r.h;var i=[o.x,o.y];r.cx=i[0],r.cy=i[1];var a=t.size,s=[r.w,r.h,a.width,a.height],c=s[0],u=s[1],l=s[2],f=s[3],h=l/c<f/u?l/c:f/u;h=Math.min(h,1.6);var d=function(e){var n,r=e.x,o=e.y;return n=[e.z,{x:r,y:o}],t.zoom=n[0],t.center=n[1],n};if(0!==(e=ng.isUnd(e)?t.option.viewAnimationDuration:e)){var p=tg(tg({},t.center.obj),{},{z:t.zoom}),v=tg(tg({},o),{},{z:h}),g=new ng.Animate(p,v,d);n=n||t.option.layoutAnimationEasing,g.start(e,n,(function(){}))}else d(tg(tg({},o.obj),{},{z:h}))}};var ig=Tu.utils;function ag(t){return function(t){if(Array.isArray(t))return sg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"connecttext",execute:function(t,e){var n=rg(t.selectedNodes)[0];n.connectText=e,t.renderNode(n).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==ig.size(t.selectedNodes)?"disabled":"normal"}};var cg=Tu.utils;function ug(t){return function(t){if(Array.isArray(t))return lg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"expand",execute:function(t){var e=ag(t.selectedNodes)[0];return e.expand=!e.expand,t.attach().render(e).layout(),t.fire("contentchange",{},!0),{item:{node:{id:e.id,title:e.text},parent:e.parent?{id:e.parent.id,title:e.parent.text}:null},expand:e.expand}},query:function(t){return t.option.readOnly||1!==cg.size(t.selectedNodes)||"tree"!==ag(t.selectedNodes)[0].type?"disabled":"normal"},shortcut:"/"};var fg=Tu.utils;function hg(t){return function(t){if(Array.isArray(t))return dg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeup",execute:function(t){var e=ug(t.selectedNodes)[0],n=t.getStyle(e,"arrange-up");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==fg.size(t.selectedNodes))return"disabled";var e=ug(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-up");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+up"};var pg=Tu.utils;function vg(t){return function(t){if(Array.isArray(t))return gg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangedown",execute:function(t){var e=hg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-down");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==pg.size(t.selectedNodes))return"disabled";var e=hg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-down");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+down"};var mg=Tu.utils;function yg(t){return function(t){if(Array.isArray(t))return bg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeright",execute:function(t){var e=vg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-right");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==mg.size(t.selectedNodes))return"disabled";var e=vg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-right");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+right"};var _g=Tu.utils;function wg(t){return(wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xg(Object(n),!0).forEach((function(e){Cg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Og(t){return function(t){if(Array.isArray(t))return kg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeleft",execute:function(t){var e=yg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-left");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==_g.size(t.selectedNodes))return"disabled";var e=yg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-left");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+left"};var Mg=Tu.utils;function Eg(t){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jg(Object(n),!0).forEach((function(e){Ag(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ag(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Eg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tg(t){return function(t){if(Array.isArray(t))return Pg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectup",execute:function(t){var e=Og(t.selectedNodes)[0],n=Sg(Sg(Sg({},t.trees),t.links),t.summaries),r=e.layoutBox,o=r.x,i=r.y,a=new Mg.Pin(o,i),s=null,c=9999;Mg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,o=n.y;if(!(o>=a.y)){var i=a.dist(new Mg.Pin(r,o));i<c&&(c=i,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Mg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"up"};var Dg=Tu.utils;function Ng(t){return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lg(Object(n),!0).forEach((function(e){Bg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ng(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ng(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ng(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zg(t){return function(t){if(Array.isArray(t))return Fg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectdown",execute:function(t){var e=Tg(t.selectedNodes)[0],n=Ig(Ig(Ig({},t.trees),t.links),t.summaries),r=e.layoutBox,o=r.x,i=r.y,a=new Dg.Pin(o,i),s=null,c=9999;Dg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,o=n.y;if(!(o<=a.y)){var i=a.dist(new Dg.Pin(r,o));i<c&&(c=i,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Dg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"down"};var Hg=Tu.utils;function Ug(t){return(Ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wg(Object(n),!0).forEach((function(e){Yg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ug(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ug(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gg(t){return function(t){if(Array.isArray(t))return Xg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Xg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectleft",execute:function(t){var e=zg(t.selectedNodes)[0],n=Rg(Rg(Rg({},t.trees),t.links),t.summaries),r=e.layoutBox,o=r.x,i=r.y,a=new Hg.Pin(o,i),s=null,c=9999;Hg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,o=n.y;if(!(r>=a.x)){var i=a.dist(new Hg.Pin(r,o));i<c&&(c=i,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Hg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"left"};var Zg=Tu.utils;Tu.command={type:"selectright",execute:function(t){var e=Gg(t.selectedNodes)[0],n=Vg(Vg(Vg({},t.trees),t.links),t.summaries),r=e.layoutBox,o=r.x,i=r.y,a=new Zg.Pin(o,i),s=null,c=9999;Zg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,o=n.y;if(!(r<=a.x)){var i=a.dist(new Zg.Pin(r,o));i<c&&(c=i,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Zg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"right"};var qg=Tu,Kg=qg.utils;qg.module=function(t){t.on("beforeimport",(function(e){var n=e.data;"1.0.0"===n.version&&(n.links&&Kg.each(n.links,(function(t){t.input=t.inputId,t.output=t.outputId,delete t.offset})),n.theme="blue loose round mind",t.traverse(n.root,(function(t){delete t.offset})))}));var e="";Kg.setter(t.mindmap,{id:function(t){return e=t}}),Kg.getter(t.mindmap,{id:function(){return e}})};var Qg=function(){var t=document.createElement("div");return document.body.appendChild(t),t.setAttribute("style","\n    width:4px;\n    height:4px;\n    position:fixed;\n    z-index: -9999;\n    opacity: 0;\n  "),qg({target:t,enableAnimation:!1})}();qg.json2html=function(t){Qg.execCommand("import",t);var e=Qg.box;return Qg.execCommand("view",{x:e.l-5,y:e.t-5},1),{html:'<svg style="user-select:none" viewBox="0 0 '.concat(e.w+10," ").concat(e.h+10,'">').concat(Qg.view.parentNode.innerHTML,"</svg>"),width:e.w+10,height:e.h+10}},window.Mindmap=qg;var Jg=["block","blockProps","blockStyleFn","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"];function $g(){return($g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tm(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var em=qg.json2html,nm=k.a.forwardRef((function(t,e){t.block;var n=t.blockProps,r=(t.blockStyleFn,t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection,t.theme,t.tree,tm(t,Jg)),o=k.a.createRef();return Object(O.useEffect)((function(){var t=em(n.data).html;o.current&&(o.current.innerHTML=t)}),[n.data]),k.a.createElement("div",$g({},r,{ref:e}),k.a.createElement("div",{ref:o}))}));function rm(t){return(rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function im(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=rm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var am=function(t,e){var n=t.getCurrentContent().createEntity("MINDMAP","IMMUTABLE",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?om(Object(n),!0).forEach((function(e){im(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e)).getLastCreatedEntityKey(),r=j.AtomicBlockUtils.insertAtomicBlock(t,n," ");return j.EditorState.forceSelection(r,r.getCurrentContent().getSelectionAfter())};function sm(t){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cm(){return(cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?um(Object(n),!0).forEach((function(e){fm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fm(t,e,n){return(e=pm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pm(r.key),r)}}function pm(t){var e=function(t,e){if("object"!=sm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sm(e)?e:e+""}function vm(t,e,n){return e=gm(e),function(t,e){if(e&&("object"===sm(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function gm(t){return(gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mm(t,e){return(mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ym=function(t){function e(){var t;hm(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=vm(this,e,[].concat(r))).callback=function(e){var n=t.props.store,r=n.getItem("getEditorState");n.getItem("setEditorState")(am(r(),lm({},e)))},t.handleClick=function(){var e=t.props.store,n=e.getItem("getProps"),r=e.getItem("getReadOnly"),o=n().onMindmapClick;!r()&&c()(o)&&o(t.callback)},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mm(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n;return k.a.createElement("div",{className:e.buttonWrapper},k.a.createElement("button",cm({},r,{type:"button",className:e.button,onClick:this.handleClick}),k.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"function",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M160 64C107.264 64 64 107.264 64 160S107.264 256 160 256c14.72 0 28.48-3.776 40.96-9.728l145.792 145.728a155.328 155.328 0 0 0-9.28 158.976l-127.744 103.296A96.256 96.256 0 0 0 160 640c-52.736 0-96 43.264-96 96S107.264 832 160 832 256 788.736 256 736a89.6 89.6 0 0 0-6.016-31.744l127.04-103.04c27.968 23.808 63.744 38.784 102.976 38.784 17.28 0 33.472-3.52 49.024-8.512l68.224 109.248A95.232 95.232 0 0 0 576 800c0 52.736 43.264 96 96 96s96-43.264 96-96a96.32 96.32 0 0 0-116.736-93.76L584.96 599.744c21.248-18.752 37.504-43.008 46.464-70.72l137.792 28.224c6.72 46.528 46.72 82.752 94.72 82.752 52.736 0 96-43.264 96-96S916.736 448 864 448a96.64 96.64 0 0 0-81.728 46.528l-143.744-29.504a158.4 158.4 0 0 0-54.016-105.024l66.496-106.496c6.72 1.472 13.76 2.496 20.992 2.496 52.736 0 96-43.264 96-96S724.736 64 672 64 576 107.264 576 160c0 22.272 8 42.752 20.992 59.008l-68.224 109.44A158.464 158.464 0 0 0 480 320c-32.512 0-62.72 9.984-88 26.752L246.272 201.024C252.16 188.48 256 174.72 256 160 256 107.264 212.736 64 160 64z m0 64c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m512 0c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m-192 256C533.504 384 576 426.496 576 480c0 34.56-17.984 64.256-44.992 81.28a31.872 31.872 0 0 0-8.96 4.992C509.184 572.16 494.912 576 480 576A95.36 95.36 0 0 1 384 480C384 426.496 426.496 384 480 384z m384 128c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m-704 192c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m512 64c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z"}))))}}])&&dm(n.prototype,r),o&&dm(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(O.Component),bm={};function _m(){return(_m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function wm(){return(wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function xm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sm(t,e)}function Sm(t,e){return(Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Cm=function(t,e){var n,r,o=t.getCurrentContent(),i=t.getSelection(),a=j.Modifier.removeRange(o,i,"backward"),s=a.getSelectionAfter(),c=s.get("focusKey"),u=o.getBlockForKey(c),l=0===u.getLength()&&null===u.getEntityAt(0),f=0===i.getStartOffset();l||f?(n=s,r=a):n=(r=j.Modifier.splitBlock(a,s)).getSelectionAfter();var h=j.Modifier.setBlockType(r,n,"sticker"),d=h.createEntity("sticker","IMMUTABLE",{id:e}).getLastCreatedEntityKey(),p=j.CharacterMetadata.create({entity:d}),v=[new j.ContentBlock({key:Object(j.genKey)(),type:"unstyled",text:"",characterList:Object(Nn.List)()}),new j.ContentBlock({key:Object(j.genKey)(),type:"sticker",text:" ",characterList:Object(Nn.List)(Object(Nn.Repeat)(p,1))}),new j.ContentBlock({key:Object(j.genKey)(),type:"unstyled",text:"",characterList:Object(Nn.List)()})],g=j.BlockMapBuilder.createFromArray(v),m=j.Modifier.replaceWithFragment(h,n,g),y=j.EditorState.push(t,m,"insert-fragment");return j.EditorState.forceSelection(y,m.getSelectionAfter())},Om=function(t,e){var n,r=t.getCurrentContent(),o=new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0}),i=r.getKeyAfter(e),a=r.getBlockForKey(i);n=a&&"unstyled"===a.getType()&&0===a.getLength()&&a===r.getBlockMap().last()?new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:i,focusOffset:0}):new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1}),r=j.Modifier.setBlockType(r,n,"unstyled"),r=j.Modifier.removeRange(r,n,"backward");var s=j.EditorState.push(t,r,"remove-range");return j.EditorState.forceSelection(s,o)},km=function(t){var e=t;return t.getCurrentContent().get("blockMap").forEach((function(n){"sticker"===n.get("type")&&null===n.getEntityAt(0)&&(e=function(t,e){var n=t.getCurrentContent(),r=new j.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0}),o=j.Modifier.setBlockType(n,r,"unstyled"),i=j.EditorState.push(t,o,"remove-range");return j.EditorState.forceSelection(i,o.getSelectionAfter())}(t,n.get("key")))})),e},Mm=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).remove=function(t){t.preventDefault(),t.stopPropagation(),e.props.blockProps.onRemove(e.props.block.getKey())},e}return xm(e,t),e.prototype.render=function(){var t=this.props,e=t.block,n=t.stickers,r=t.theme,o=void 0===r?{}:r,i=t.contentState,a=k.a.createElement("span",{className:o.stickerRemoveButton,onClick:this.remove,role:"button"},"\u2715"),s=i.getEntity(e.getEntityAt(0)).getData();return k.a.createElement("figure",{contentEditable:!1,"data-offset-key":e.get("key")+"-0-0",className:o.sticker},k.a.createElement("img",{className:o.stickerImage,src:n.getIn(["data",s.id,"url"]),role:"presentation"}),this.props.attachRemoveButton?a:null)},e}(O.Component),Em=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).onClick=function(t){t.stopPropagation(),e.props.onClick(e.props.id)},e}return xm(e,t),e.prototype.render=function(){var t=this.props,e=t.id,n=t.url,r=t.theme,o=void 0===r?{}:r;return k.a.createElement("button",{onClick:this.onClick,key:e,type:"button",className:o.selectSticker},k.a.createElement("img",{className:o.selectStickerImage,src:n,role:"presentation"}))},e}(O.Component);function jm(t,e){e.style.overflow=t}var Im=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={open:!1},e.preventNextClose=void 0,e.onMouseEnter=function(){jm("hidden",document.body)},e.onMouseLeave=function(){jm("auto",document.body)},e.openPopover=function(){e.state.open||(e.preventNextClose=!0,e.setState({open:!0}))},e.closePopover=function(){!e.preventNextClose&&e.state.open&&e.setState({open:!1}),e.preventNextClose=!1},e.add=function(t){var n=e.props.editor;n.onChange(Cm(n.state.editorState,t))},e}xm(e,t);var n=e.prototype;return n.componentDidMount=function(){document.addEventListener("click",this.closePopover)},n.componentWillUnmount=function(){document.removeEventListener("click",this.closePopover)},n.render=function(){var t=this,e=this.props.stickers.get("data").map((function(e){var n=e.get("id"),r=e.get("url");return k.a.createElement(Em,{theme:t.props.theme,key:n,onClick:t.add,id:n,url:r})})),n=this.props.theme,r=void 0===n?{}:n,o=this.state.open?r.selectPopover:r.selectClosedPopover,i=this.state.open?r.selectPressedButton:r.selectButton;return k.a.createElement("div",{className:r.select},k.a.createElement("button",{className:i,onMouseUp:this.openPopover,type:"button"},this.props.selectButtonContent),k.a.createElement("div",{className:o,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},k.a.createElement("div",{className:r.selectStickerList},e.toList().toJS()),k.a.createElement("div",{className:r.selectBottomGradient})))},e}(O.Component),Am={sticker:"sguqmxj",stickerImage:"s14n3kb5",stickerRemoveButton:"sbasy7n",select:"surl5pn",selectPopover:"sz489xs",selectClosedPopover:"s9rpy2j",selectBottomGradient:"s1qnmidc",selectButton:"s1afvjwz",selectPressedButton:"ss5bye0",selectStickerList:"svz23p4",selectSticker:"s18qbqny",selectStickerImage:"s1v21ont"};var Tm=function(){this.__data__=new Pe,this.size=0};var Pm=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Dm=function(t){return this.__data__.get(t)};var Nm=function(t){return this.__data__.has(t)};var Lm=function(t,e){var n=this.__data__;if(n instanceof Pe){var r=n.__data__;if(!De||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ve(r)}return n.set(t,e),this.size=n.size,this};function Rm(t){var e=this.__data__=new Pe(t);this.size=e.size}Rm.prototype.clear=Tm,Rm.prototype.delete=Pm,Rm.prototype.get=Dm,Rm.prototype.has=Nm,Rm.prototype.set=Lm;var Bm=Rm;var zm=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Fm=function(t){return this.__data__.has(t)};function Hm(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ve;++e<n;)this.add(t[e])}Hm.prototype.add=Hm.prototype.push=zm,Hm.prototype.has=Fm;var Um=Hm;var Wm=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Vm=function(t,e){return t.has(e)};var Ym=function(t,e,n,r,o,i){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(t),l=i.get(e);if(u&&l)return u==e&&l==t;var f=-1,h=!0,d=2&n?new Um:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,i):r(p,v,f,t,e,i);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Wm(e,(function(t,e){if(!Vm(d,e)&&(p===t||o(p,t,n,r,i)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h},Gm=Ut.a.Uint8Array;var Xm=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Zm=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},qm=Ke.a?Ke.a.prototype:void 0,Km=qm?qm.valueOf:void 0;var Qm=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Gm(t),new Gm(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ae(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Xm;case"[object Set]":var c=1&r;if(s||(s=Zm),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var l=Ym(s(t),s(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Km)return Km.call(t)==Km.call(e)}return!1};var Jm=function(t,e,n){var r=e(t);return Object(jt.a)(t)?r:gn(r,n(t))};var $m=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var ty=function(){return[]},ey=Object.prototype.propertyIsEnumerable,ny=Object.getOwnPropertySymbols,ry=ny?function(t){return null==t?[]:(t=Object(t),$m(ny(t),(function(e){return ey.call(t,e)})))}:ty;var oy=function(t){return Jm(t,Qi.a,ry)},iy=Object.prototype.hasOwnProperty;var ay=function(t,e,n,r,o,i){var a=1&n,s=oy(t),c=s.length;if(c!=oy(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:iy.call(e,l)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var d=!0;i.set(t,e),i.set(e,t);for(var p=a;++u<c;){var v=t[l=s[u]],g=e[l];if(r)var m=a?r(g,v,l,e,t,i):r(v,g,l,t,e,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return i.delete(t),i.delete(e),d},sy=re(Ut.a,"DataView"),cy=re(Ut.a,"Promise"),uy=re(Ut.a,"Set"),ly=re(Ut.a,"WeakMap"),fy=Zt(sy),hy=Zt(De),dy=Zt(cy),py=Zt(uy),vy=Zt(ly),gy=Et.a;(sy&&"[object DataView]"!=gy(new sy(new ArrayBuffer(1)))||De&&"[object Map]"!=gy(new De)||cy&&"[object Promise]"!=gy(cy.resolve())||uy&&"[object Set]"!=gy(new uy)||ly&&"[object WeakMap]"!=gy(new ly))&&(gy=function(t){var e=Object(Et.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Zt(n):"";if(r)switch(r){case fy:return"[object DataView]";case hy:return"[object Map]";case dy:return"[object Promise]";case py:return"[object Set]";case vy:return"[object WeakMap]"}return e});var my=gy,yy=n(1213),by=n(1214),_y=Object.prototype.hasOwnProperty;var wy=function(t,e,n,r,o,i){var a=Object(jt.a)(t),s=Object(jt.a)(e),c=a?"[object Array]":my(t),u=s?"[object Array]":my(e),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h=c==u;if(h&&Object(yy.a)(t)){if(!Object(yy.a)(e))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new Bm),a||Object(by.a)(t)?Ym(t,e,n,r,o,i):Qm(t,e,c,n,r,o,i);if(!(1&n)){var d=l&&_y.call(t,"__wrapped__"),p=f&&_y.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return i||(i=new Bm),o(v,g,n,r,i)}}return!!h&&(i||(i=new Bm),ay(t,e,n,r,o,i))};var xy=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Object(It.a)(e)&&!Object(It.a)(n)?e!==e&&n!==n:wy(e,n,r,o,t,i))};var Sy=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var c=(s=n[o])[0],u=t[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in t))return!1}else{var f=new Bm;if(r)var h=r(u,l,c,t,e,f);if(!(void 0===h?xy(l,u,3,r,f):h))return!1}}return!0};var Cy=function(t){return t===t&&!Object(Gt.a)(t)};var Oy=function(t){for(var e=Object(Qi.a)(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Cy(o)]}return e};var ky=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var My=function(t){var e=Oy(t);return 1==e.length&&e[0][2]?ky(e[0][0],e[0][1]):function(n){return n===t||Sy(n,t,e)}};var Ey=function(t,e){return pe(t)&&Cy(e)?ky(on(t),e):function(n){var r=In(n,t);return void 0===r&&r===e?pn(n,t):xy(e,r,3)}};var jy=function(t){return function(e){return null==e?void 0:e[t]}};var Iy=function(t){return function(e){return cn(e,t)}};var Ay=function(t){return pe(t)?jy(on(t)):Iy(t)};function Ty(t){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Py=function(t){return"function"==typeof t?t:null==t?On:"object"==Ty(t)?Object(jt.a)(t)?Ey(t[0],t[1]):My(t):Ay(t)};var Dy=function(t){return function(e,n,r){var o=Object(e);if(!Object(Gi.a)(e)){var i=Py(n,3);e=Object(Qi.a)(e),n=function(t){return i(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[i?e[a]:a]:void 0}};var Ny=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1};var Ly=function(t){return t?(t=Ba(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0};var Ry=function(t){var e=Ly(t),n=e%1;return e===e?n?e-n:e:0},By=Math.max;var zy=Dy((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:Ry(n);return o<0&&(o=By(r+o,0)),Ny(t,Py(e,3),o)}));var Fy=function(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};var Hy=function(t,e,n){return t=en(t),n=null==n?0:Fy(Ry(n),0,t.length),e=tn(e),t.slice(n,n+e.length)==e};var Uy=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Wy=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var Vy=function(t,e){return e.length<2?t:cn(t,Wy(e,0,-1))};var Yy=function(t,e){return e=nn(e,t),null==(t=Vy(t,e))||delete t[on(Uy(e))]},Gy=Array.prototype.splice;var Xy=function(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;Object(rn.a)(o)?Gy.call(t,o,1):Yy(t,o)}}return t};var Zy=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Py(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Xy(t,o),n},qy=n(1298),Ky=n.n(qy),Qy=n(1171),Jy=n.n(Qy),$y=function(t,e,n,r,o){var i=o.clientWidth,a=o.clientHeight,s="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,c="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,u=s-(o.getBoundingClientRect().left+window.pageXOffset),l=c-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=l<0?0:l>a?1:Math.round(100*l/a)/100,e.a!==f)return{h:e.h,s:e.s,l:e.l,a:f,source:"rgb"}}else{var h=void 0;if(r!==(h=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:e.h,s:e.s,l:e.l,a:h,source:"rgb"}}return null},tb={},eb=function(t,e,n,r){var o=t+"-"+e+"-"+n+(r?"-server":"");if(tb[o])return tb[o];var i=function(t,e,n,r){if("undefined"===typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=t,i.fillRect(0,0,o.width,o.height),i.fillStyle=e,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null}(t,e,n,r);return tb[o]=i,i},nb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb=function(t){var e=t.white,n=t.grey,r=t.size,o=t.renderers,i=t.borderRadius,a=t.boxShadow,s=t.children,c=Jy()({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+eb(e,n,r,o.canvas)+") center left"}}});return Object(O.isValidElement)(s)?k.a.cloneElement(s,nb({},s.props,{style:nb({},s.props.style,c.grid)})):k.a.createElement("div",{style:c.grid})};rb.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ob=rb;function ib(t){return(ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ab=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ub(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==ib(e)&&"function"!==typeof e?t:e}var lb=function(t){function e(){var t,n,r;cb(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ub(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleChange=function(t){var e=$y(t,r.props.hsl,r.props.direction,r.props.a,r.container);e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},ub(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+ib(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),sb(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=this.props.rgb,n=Jy()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:ab({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return k.a.createElement("div",{style:n.alpha},k.a.createElement("div",{style:n.checkboard},k.a.createElement(ob,{renderers:this.props.renderers})),k.a.createElement("div",{style:n.gradient}),k.a.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("div",{style:n.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:n.slider}))))}}]),e}(O.PureComponent||O.Component);function fb(t){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var hb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var db=[38,40],pb=1,vb=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==fb(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.setUpdatedValue(t.target.value,t)},n.handleKeyDown=function(t){var e,r=function(t){return Number(String(t).replace(/%/g,""))}(t.target.value);if(!isNaN(r)&&(e=t.keyCode,db.indexOf(e)>-1)){var o=n.getArrowOffset(),i=38===t.keyCode?r+o:r-o;n.setUpdatedValue(i,t)}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n.inputId="rc-editable-input-"+pb++,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+fb(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),hb(e,[{key:"componentDidUpdate",value:function(t,e){this.props.value===this.state.value||t.value===this.props.value&&e.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(t){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.props.label,t)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(t,e){var n=this.props.label?this.getValueObjectWithLabel(t):t;this.props.onChange&&this.props.onChange(n,e),this.setState({value:t})}},{key:"render",value:function(){var t=this,e=Jy()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return k.a.createElement("div",{style:e.wrap},k.a.createElement("input",{id:this.inputId,style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?k.a.createElement("label",{htmlFor:this.inputId,style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(O.PureComponent||O.Component),gb=function(t,e,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===e){var l=void 0;if(u<0)l=359;else if(u>i)l=0;else{l=360*(-100*u/i+100)/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>o)f=359;else{f=360*(100*c/o)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null};function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var yb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==mb(e)&&"function"!==typeof e?t:e}var wb=function(t){function e(){var t,n,r;bb(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=_b(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.handleChange=function(t){var e=gb(t,r.props.direction,r.props.hsl,r.container);e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},_b(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+mb(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),yb(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.direction,n=void 0===e?"horizontal":e,r=Jy()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return k.a.createElement("div",{style:r.hue},k.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),k.a.createElement("div",{style:r.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:r.slider}))))}}]),e}(O.PureComponent||O.Component);var xb=function(t,e,n){(void 0!==n&&!ae(t[e],n)||void 0===n&&!(e in t))&&ie(t,e,n)};var Sb=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}(),Cb=n(1306);var Ob=function(t){var e=new t.constructor(t.byteLength);return new Gm(e).set(new Gm(t)),e};var kb=function(t,e){var n=e?Ob(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Mb=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Eb=Object.create,jb=function(){function t(){}return function(e){if(!Object(Gt.a)(e))return{};if(Eb)return Eb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Ib=n(1249),Ab=Object(Ib.a)(Object.getPrototypeOf,Object);var Tb=function(t){return"function"!=typeof t.constructor||Object(Ki.a)(t)?{}:jb(Ab(t))};var Pb=function(t){return Object(It.a)(t)&&Object(Gi.a)(t)},Db=Function.prototype,Nb=Object.prototype,Lb=Db.toString,Rb=Nb.hasOwnProperty,Bb=Lb.call(Object);var zb=function(t){if(!Object(It.a)(t)||"[object Object]"!=Object(Et.a)(t))return!1;var e=Ab(t);if(null===e)return!0;var n=Rb.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Lb.call(n)==Bb};var Fb=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]},Hb=n(1250);var Ub=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Wb=Object.prototype.hasOwnProperty;var Vb=function(t){if(!Object(Gt.a)(t))return Ub(t);var e=Object(Ki.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&Wb.call(t,r))&&n.push(r);return n};var Yb=function(t){return Object(Gi.a)(t)?Object(Hb.a)(t,!0):Vb(t)};var Gb=function(t){return Vi(t,Yb(t))};var Xb=function(t,e,n,r,o,i,a){var s=Fb(t,n),c=Fb(e,n),u=a.get(c);if(u)xb(t,n,u);else{var l=i?i(s,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=Object(jt.a)(c),d=!h&&Object(yy.a)(c),p=!h&&!d&&Object(by.a)(c);l=c,h||d||p?Object(jt.a)(s)?l=s:Pb(s)?l=Mb(s):d?(f=!1,l=Object(Cb.a)(c,!0)):p?(f=!1,l=kb(c,!0)):l=[]:zb(c)||Object(fn.a)(c)?(l=s,Object(fn.a)(s)?l=Gb(s):Object(Gt.a)(s)&&!Object(Mt.a)(s)||(l=Tb(c))):f=!1}f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c)),xb(t,n,l)}};var Zb=function t(e,n,r,o,i){e!==n&&Sb(n,(function(a,s){if(i||(i=new Bm),Object(Gt.a)(a))Xb(e,n,s,r,t,o,i);else{var c=o?o(Fb(e,s),a,s+"",e,n,i):void 0;void 0===c&&(c=a),xb(e,s,c)}}),Yb)},qb=qi((function(t,e,n){Zb(t,e,n)})),Kb=function(t){var e=t.zDepth,n=t.radius,r=t.background,o=t.children,i=t.styles,a=void 0===i?{}:i,s=Jy()(qb({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":1===e});return k.a.createElement("div",{style:s.wrap},k.a.createElement("div",{style:s.bg}),k.a.createElement("div",{style:s.content},o))};Kb.propTypes={background:E.a.string,zDepth:E.a.oneOf([0,1,2,3,4,5]),radius:E.a.number,styles:E.a.object},Kb.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Qb=Kb,Jb=function(){return Ut.a.Date.now()},$b=Math.max,t_=Math.min;var e_=function(t,e,n){var r,o,i,a,s,c,u=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,u=e,a=t.apply(i,n)}function p(t){return u=t,s=setTimeout(g,e),l?d(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=i}function g(){var t=Jb();if(v(t))return m(t);s=setTimeout(g,function(t){var n=e-(t-c);return f?t_(n,i-(t-u)):n}(t))}function m(t){return s=void 0,h&&r?d(t):(r=o=void 0,a)}function y(){var t=Jb(),n=v(t);if(r=arguments,o=this,c=t,n){if(void 0===s)return p(c);if(f)return clearTimeout(s),s=setTimeout(g,e),d(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Ba(e)||0,Object(Gt.a)(n)&&(l=!!n.leading,i=(f="maxWait"in n)?$b(Ba(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},y.flush=function(){return void 0===s?a:m(Jb())},y};var n_=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(Gt.a)(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),e_(t,e,{leading:r,maxWait:e,trailing:o})};function r_(t){return(r_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i_=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r_(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(t,e,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),u=s-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),u<0?u=0:u>i&&(u=i);var l=c/o,f=1-u/i;return{h:e.h,s:l,v:f,a:e.a,source:"hsv"}}(t,n.props.hsl,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t);var e=n.getContainerRenderWindow();e.addEventListener("mousemove",n.handleChange),e.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=n_((function(t,e,n){t(e,n)}),50),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o_(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var t=this.container,e=window;!e.document.contains(t)&&e.parent!==e;)e=e.parent;return e}},{key:"unbindEventListeners",value:function(){var t=this.getContainerRenderWindow();t.removeEventListener("mousemove",this.handleChange),t.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.style||{},n=e.color,r=e.white,o=e.black,i=e.pointer,a=e.circle,s=Jy()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return k.a.createElement("div",{style:s.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),k.a.createElement("div",{style:s.white,className:"saturation-white"},k.a.createElement("div",{style:s.black,className:"saturation-black"}),k.a.createElement("div",{style:s.pointer},this.props.pointer?k.a.createElement(this.props.pointer,this.props):k.a.createElement("div",{style:s.circle}))))}}]),e}(O.PureComponent||O.Component);var a_=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var s_=function(t,e){return function(n,r){if(null==n)return n;if(!Object(Gi.a)(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&Sb(t,e,Qi.a)}));var c_=function(t){return"function"==typeof t?t:On};var u_=function(t,e){return(Object(jt.a)(t)?a_:s_)(t,c_(e))},l_=n(673),f_=n.n(l_),h_=function(t){var e=0,n=0;return u_(["r","g","b","a","h","s","l","v"],(function(r){if(t[r]&&(e+=1,isNaN(t[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(t[r])&&(n+=1)}})),e===n&&t},d_=function(t,e){var n=t.hex?f_()(t.hex):f_()(t),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=e||0,o.h=e||0),{hsl:r,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:t.h||e||r.h,source:t.source}},p_=function(t){if("transparent"===t)return!0;var e="#"===String(t).charAt(0)?1:0;return t.length!==4+e&&t.length<7+e&&f_()(t).isValid()},v_=function(t){if(!t)return"#fff";var e=d_(t);return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=128?"#000":"#fff"},g_=function(t,e){var n=t.replace("\xb0","");return f_()(e+" ("+n+")")._ok};function m_(t){return(m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var __=function(t){var e=function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==m_(e)&&"function"!==typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(h_(t)){var r=d_(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(h_(t)){var r=d_(t,t.h||e.state.oldHue);e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=y_({},d_(t.color,0)),e.debounce=e_((function(t,e,n){t(e,n)}),100),e}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+m_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),b_(n,[{key:"render",value:function(){var e={};return this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover),k.a.createElement(t,y_({},this.props,this.state,{onChange:this.handleChange},e))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return y_({},d_(t.color,e.oldHue))}}]),n}(O.PureComponent||O.Component);return e.propTypes=y_({},t.propTypes),e.defaultProps=y_({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};function w_(t){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function C_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==w_(e)&&"function"!==typeof e?t:e}function k_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+w_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var M_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var t,e,n;C_(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n=O_(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},O_(n,e)}return k_(r,n),S_(r,[{key:"render",value:function(){return k.a.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},k.a.createElement(t,x_({},this.props,this.state)))}}]),r}(k.a.Component)}((function(t){var e=t.color,n=t.style,r=t.onClick,o=void 0===r?function(){}:r,i=t.onHover,a=t.title,s=void 0===a?e:a,c=t.children,u=t.focus,l=t.focusStyle,f=void 0===l?{}:l,h="transparent"===e,d=Jy()({default:{swatch:M_({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,u?f:{})}}),p={};return i&&(p.onMouseOver=function(t){return i(e,t)}),k.a.createElement("div",M_({style:d.swatch,onClick:function(t){return o(e,t)},title:s,tabIndex:0,onKeyDown:function(t){return 13===t.keyCode&&o(e,t)}},p),c,h&&k.a.createElement(ob,{borderRadius:d.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),j_=function(t){var e=t.direction,n=Jy()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return k.a.createElement("div",{style:n.picker})},I_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_=function(t){var e=t.rgb,n=t.hsl,r=t.width,o=t.height,i=t.onChange,a=t.direction,s=t.style,c=t.renderers,u=t.pointer,l=t.className,f=void 0===l?"":l,h=Jy()({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:s}}});return k.a.createElement("div",{style:h.picker,className:"alpha-picker "+f},k.a.createElement(lb,I_({},h.alpha,{rgb:e,hsl:n,pointer:u,renderers:c,onChange:i,direction:a})))};A_.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:j_};__(A_);var T_=function(t,e){var n=-1,r=Object(Gi.a)(t)?Array(t.length):[];return s_(t,(function(t,o,i){r[++n]=e(t,o,i)})),r};var P_=function(t,e){return(Object(jt.a)(t)?Qe:T_)(t,Py(e,3))},D_=function(t){var e=t.colors,n=t.onClick,r=t.onSwatchHover,o=Jy()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return k.a.createElement("div",{style:o.swatches},P_(e,(function(t){return k.a.createElement(E_,{key:t,color:t,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}})})),k.a.createElement("div",{style:o.clear}))},N_=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,o=t.colors,i=t.width,a=t.triangle,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f="transparent"===r,h=function(t,n){p_(t)&&e({hex:t,source:"hex"},n)},d=Jy()(qb({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:v_(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===a});return k.a.createElement("div",{style:d.card,className:"block-picker "+l},k.a.createElement("div",{style:d.triangle}),k.a.createElement("div",{style:d.head},f&&k.a.createElement(ob,{borderRadius:"6px 6px 0 0"}),k.a.createElement("div",{style:d.label},r)),k.a.createElement("div",{style:d.body},k.a.createElement(D_,{colors:o,onClick:h,onSwatchHover:n}),k.a.createElement(vb,{style:{input:d.input},value:r,onChange:h})))};N_.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.string),triangle:E.a.oneOf(["top","hide"]),styles:E.a.object},N_.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};__(N_);var L_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},R_={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},B_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},z_={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},F_={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},H_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},U_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},W_={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},V_={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Y_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},G_={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},X_={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Z_={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},q_={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},K_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Q_={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},J_={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},$_={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},tw=function(t){var e=t.color,n=t.onClick,r=t.onSwatchHover,o=t.hover,i=t.active,a=t.circleSize,s=t.circleSpacing,c=Jy()({default:{swatch:{width:a,height:a,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:o,active:i});return k.a.createElement("div",{style:c.swatch},k.a.createElement(E_,{style:c.Swatch,color:e,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+e}}))};tw.defaultProps={circleSize:28,circleSpacing:14};var ew=Object(Qy.handleHover)(tw),nw=function(t){var e=t.width,n=t.onChange,r=t.onSwatchHover,o=t.colors,i=t.hex,a=t.circleSize,s=t.styles,c=void 0===s?{}:s,u=t.circleSpacing,l=t.className,f=void 0===l?"":l,h=Jy()(qb({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),d=function(t,e){return n({hex:t,source:"hex"},e)};return k.a.createElement("div",{style:h.card,className:"circle-picker "+f},P_(o,(function(t){return k.a.createElement(ew,{key:t,color:t,onClick:d,onSwatchHover:r,active:i===t.toLowerCase(),circleSize:a,circleSpacing:u})})))};nw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),circleSize:E.a.number,circleSpacing:E.a.number,styles:E.a.object},nw.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[L_[500],R_[500],B_[500],z_[500],F_[500],H_[500],U_[500],W_[500],V_[500],Y_[500],G_[500],X_[500],Z_[500],q_[500],K_[500],Q_[500],J_[500],$_[500]],styles:{}};var rw=__(nw);var ow=function(t){return void 0===t},iw=n(1307),aw=n.n(iw);function sw(t){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var cw=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var uw=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==sw(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(t,e){t.hex?p_(t.hex)&&n.props.onChange({hex:t.hex,source:"hex"},e):t.r||t.g||t.b?n.props.onChange({r:t.r||n.props.rgb.r,g:t.g||n.props.rgb.g,b:t.b||n.props.rgb.b,source:"rgb"},e):t.a?(t.a<0?t.a=0:t.a>1&&(t.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},e)):(t.h||t.s||t.l)&&("string"===typeof t.s&&t.s.includes("%")&&(t.s=t.s.replace("%","")),"string"===typeof t.l&&t.l.includes("%")&&(t.l=t.l.replace("%","")),1==t.s?t.s=.01:1==t.l&&(t.l=.01),n.props.onChange({h:t.h||n.props.hsl.h,s:Number(ow(t.s)?n.props.hsl.s:t.s),l:Number(ow(t.l)?n.props.hsl.l:t.l),source:"hsl"},e))},n.showHighlight=function(t){t.currentTarget.style.background="#eee"},n.hideHighlight=function(t){t.currentTarget.style.background="transparent"},1!==t.hsl.a&&"hex"===t.view?n.state={view:"rgb"}:n.state={view:t.view},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+sw(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),cw(e,[{key:"render",value:function(){var t=this,e=Jy()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=k.a.createElement("div",{style:e.fields,className:"flexbox-fix"},k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=k.a.createElement("div",{style:e.fields,className:"flexbox-fix"},k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),k.a.createElement("div",{style:e.alpha},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=k.a.createElement("div",{style:e.fields,className:"flexbox-fix"},k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),k.a.createElement("div",{style:e.field},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),k.a.createElement("div",{style:e.alpha},k.a.createElement(vb,{style:{input:e.input,label:e.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),k.a.createElement("div",{style:e.wrap,className:"flexbox-fix"},n,k.a.createElement("div",{style:e.toggle},k.a.createElement("div",{style:e.icon,onClick:this.toggleViews,ref:function(e){return t.icon=e}},k.a.createElement(aw.a,{style:e.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 1!==t.hsl.a&&"hex"===e.view?{view:"rgb"}:null}}]),e}(k.a.Component);uw.defaultProps={view:"hex"};var lw=uw,fw=function(){var t=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.a.createElement("div",{style:t.picker})},hw=function(){var t=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return k.a.createElement("div",{style:t.picker})},dw=function(t){var e=t.width,n=t.onChange,r=t.disableAlpha,o=t.rgb,i=t.hsl,a=t.hsv,s=t.hex,c=t.renderers,u=t.styles,l=void 0===u?{}:u,f=t.className,h=void 0===f?"":f,d=t.defaultView,p=Jy()(qb({default:{picker:{width:e,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},l),{disableAlpha:r});return k.a.createElement("div",{style:p.picker,className:"chrome-picker "+h},k.a.createElement("div",{style:p.saturation},k.a.createElement(i_,{style:p.Saturation,hsl:i,hsv:a,pointer:hw,onChange:n})),k.a.createElement("div",{style:p.body},k.a.createElement("div",{style:p.controls,className:"flexbox-fix"},k.a.createElement("div",{style:p.color},k.a.createElement("div",{style:p.swatch},k.a.createElement("div",{style:p.active}),k.a.createElement(ob,{renderers:c}))),k.a.createElement("div",{style:p.toggles},k.a.createElement("div",{style:p.hue},k.a.createElement(wb,{style:p.Hue,hsl:i,pointer:fw,onChange:n})),k.a.createElement("div",{style:p.alpha},k.a.createElement(lb,{style:p.Alpha,rgb:o,hsl:i,pointer:fw,renderers:c,onChange:n})))),k.a.createElement(lw,{rgb:o,hsl:i,hex:s,view:d,onChange:n,disableAlpha:r})))};dw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),disableAlpha:E.a.bool,styles:E.a.object,defaultView:E.a.oneOf(["hex","rgb","hsl"])},dw.defaultProps={width:225,disableAlpha:!1,styles:{}};__(dw);var pw=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,o=t.onSwatchHover,i=t.active,a=Jy()({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:v_(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return k.a.createElement(E_,{style:a.color,color:e,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+e}},k.a.createElement("div",{style:a.dot}))},vw=function(t){var e=t.hex,n=t.rgb,r=t.onChange,o=Jy()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(t,e){t.r||t.g||t.b?r({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},e):r({hex:t.hex,source:"hex"},e)};return k.a.createElement("div",{style:o.fields,className:"flexbox-fix"},k.a.createElement("div",{style:o.active}),k.a.createElement(vb,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:e,onChange:i}),k.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:i}),k.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:i}),k.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:i}))},gw=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.colors,o=t.hex,i=t.rgb,a=t.styles,s=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,l=Jy()(qb({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),f=function(t,n){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},n):e(t,n)};return k.a.createElement(Qb,{style:l.Compact,styles:s},k.a.createElement("div",{style:l.compact,className:"compact-picker "+u},k.a.createElement("div",null,P_(r,(function(t){return k.a.createElement(pw,{key:t,color:t,active:t.toLowerCase()===o,onClick:f,onSwatchHover:n})})),k.a.createElement("div",{style:l.clear})),k.a.createElement(vw,{hex:o,rgb:i,onChange:f})))};gw.propTypes={colors:E.a.arrayOf(E.a.string),styles:E.a.object},gw.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};__(gw);var mw=Object(Qy.handleHover)((function(t){var e=t.hover,n=t.color,r=t.onClick,o=t.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Jy()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:e});return k.a.createElement("div",{style:a.swatch},k.a.createElement(E_,{color:n,onClick:r,onHover:o,focusStyle:i}))})),yw=function(t){var e=t.width,n=t.colors,r=t.onChange,o=t.onSwatchHover,i=t.triangle,a=t.styles,s=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,l=Jy()(qb({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),f=function(t,e){return r({hex:t,source:"hex"},e)};return k.a.createElement("div",{style:l.card,className:"github-picker "+u},k.a.createElement("div",{style:l.triangleShadow}),k.a.createElement("div",{style:l.triangle}),P_(n,(function(t){return k.a.createElement(mw,{color:t,key:t,onClick:f,onSwatchHover:o})})))};yw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.string),triangle:E.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:E.a.object},yw.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};__(yw);var bw=function(t){var e=t.direction,n=Jy()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return k.a.createElement("div",{style:n.picker})},_w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww=function(t){var e=t.width,n=t.height,r=t.onChange,o=t.hsl,i=t.direction,a=t.pointer,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(qb({default:{picker:{position:"relative",width:e,height:n},hue:{radius:"2px"}}},c));return k.a.createElement("div",{style:f.picker,className:"hue-picker "+l},k.a.createElement(wb,_w({},f.hue,{hsl:o,pointer:a,onChange:function(t){return r({a:1,h:t.h,l:.5,s:1})},direction:i})))};ww.propTypes={styles:E.a.object},ww.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:bw,styles:{}};__(ww),__((function(t){var e=t.onChange,n=t.hex,r=t.rgb,o=t.styles,i=void 0===o?{}:o,a=t.className,s=void 0===a?"":a,c=Jy()(qb({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),u=function(t,n){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},n):(t.r||t.g||t.b)&&e({r:t.r||r.r,g:t.g||r.g,b:t.b||r.b,source:"rgb"},n)};return k.a.createElement(Qb,{styles:i},k.a.createElement("div",{style:c.material,className:"material-picker "+s},k.a.createElement(vb,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:u}),k.a.createElement("div",{style:c.split,className:"flexbox-fix"},k.a.createElement("div",{style:c.third},k.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:u})),k.a.createElement("div",{style:c.third},k.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:u})),k.a.createElement("div",{style:c.third},k.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:u})))))}));var xw=function(t){var e=t.onChange,n=t.rgb,r=t.hsv,o=t.hex,i=Jy()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(t,o){t["#"]?p_(t["#"])&&e({hex:t["#"],source:"hex"},o):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},o):(t.h||t.s||t.v)&&e({h:t.h||r.h,s:t.s||r.s,v:t.v||r.v,source:"hsv"},o)};return k.a.createElement("div",{style:i.fields},k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(r.h),onChange:a}),k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:a}),k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:a}),k.a.createElement("div",{style:i.divider}),k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),k.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}),k.a.createElement("div",{style:i.divider}),k.a.createElement(vb,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),k.a.createElement("div",{style:i.fieldSymbols},k.a.createElement("div",{style:i.symbol},"\xb0"),k.a.createElement("div",{style:i.symbol},"%"),k.a.createElement("div",{style:i.symbol},"%")))},Sw=function(t){var e=t.hsl,n=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return k.a.createElement("div",{style:n.picker})},Cw=function(){var t=Jy()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return k.a.createElement("div",{style:t.pointer},k.a.createElement("div",{style:t.left},k.a.createElement("div",{style:t.leftInside})),k.a.createElement("div",{style:t.right},k.a.createElement("div",{style:t.rightInside})))},Ow=function(t){var e=t.onClick,n=t.label,r=t.children,o=t.active,i=Jy()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return k.a.createElement("div",{style:i.button,onClick:e},n||r)},kw=function(t){var e=t.rgb,n=t.currentColor,r=Jy()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return k.a.createElement("div",null,k.a.createElement("div",{style:r.label},"new"),k.a.createElement("div",{style:r.swatches},k.a.createElement("div",{style:r.new}),k.a.createElement("div",{style:r.current})),k.a.createElement("div",{style:r.label},"current"))};function Mw(t){return(Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ew=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var jw=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==Mw(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:t.hex},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+Mw(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Ew(e,[{key:"render",value:function(){var t=this.props,e=t.styles,n=void 0===e?{}:e,r=t.className,o=void 0===r?"":r,i=Jy()(qb({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return k.a.createElement("div",{style:i.picker,className:"photoshop-picker "+o},k.a.createElement("div",{style:i.head},this.props.header),k.a.createElement("div",{style:i.body,className:"flexbox-fix"},k.a.createElement("div",{style:i.saturation},k.a.createElement(i_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Sw,onChange:this.props.onChange})),k.a.createElement("div",{style:i.hue},k.a.createElement(wb,{direction:"vertical",hsl:this.props.hsl,pointer:Cw,onChange:this.props.onChange})),k.a.createElement("div",{style:i.controls},k.a.createElement("div",{style:i.top,className:"flexbox-fix"},k.a.createElement("div",{style:i.previews},k.a.createElement(kw,{rgb:this.props.rgb,currentColor:this.state.currentColor})),k.a.createElement("div",{style:i.actions},k.a.createElement(Ow,{label:"OK",onClick:this.props.onAccept,active:!0}),k.a.createElement(Ow,{label:"Cancel",onClick:this.props.onCancel}),k.a.createElement(xw,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(k.a.Component);jw.propTypes={header:E.a.string,styles:E.a.object},jw.defaultProps={header:"Color Picker",styles:{}};__(jw);var Iw=function(t){var e=t.onChange,n=t.rgb,r=t.hsl,o=t.hex,i=t.disableAlpha,a=Jy()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),s=function(t,o){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},o):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,a:n.a,source:"rgb"},o):t.a&&(t.a<0?t.a=0:t.a>100&&(t.a=100),t.a/=100,e({h:r.h,s:r.s,l:r.l,a:t.a,source:"rgb"},o))};return k.a.createElement("div",{style:a.fields,className:"flexbox-fix"},k.a.createElement("div",{style:a.double},k.a.createElement(vb,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:s})),k.a.createElement("div",{style:a.single},k.a.createElement(vb,{style:{input:a.input,label:a.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),k.a.createElement("div",{style:a.single},k.a.createElement(vb,{style:{input:a.input,label:a.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),k.a.createElement("div",{style:a.single},k.a.createElement(vb,{style:{input:a.input,label:a.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),k.a.createElement("div",{style:a.alpha},k.a.createElement(vb,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))},Aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw=function(t){var e=t.colors,n=t.onClick,r=void 0===n?function(){}:n,o=t.onSwatchHover,i=Jy()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),a=function(t,e){r({hex:t,source:"hex"},e)};return k.a.createElement("div",{style:i.colors,className:"flexbox-fix"},e.map((function(t){var e="string"===typeof t?{color:t}:t,n=""+e.color+(e.title||"");return k.a.createElement("div",{key:n,style:i.swatchWrap},k.a.createElement(E_,Aw({},e,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+e.color}})))})))};Tw.propTypes={colors:E.a.arrayOf(E.a.oneOfType([E.a.string,E.a.shape({color:E.a.string,title:E.a.string})])).isRequired};var Pw=Tw,Dw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw=function(t){var e=t.width,n=t.rgb,r=t.hex,o=t.hsv,i=t.hsl,a=t.onChange,s=t.onSwatchHover,c=t.disableAlpha,u=t.presetColors,l=t.renderers,f=t.styles,h=void 0===f?{}:f,d=t.className,p=void 0===d?"":d,v=Jy()(qb({default:Dw({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:c});return k.a.createElement("div",{style:v.picker,className:"sketch-picker "+p},k.a.createElement("div",{style:v.saturation},k.a.createElement(i_,{style:v.Saturation,hsl:i,hsv:o,onChange:a})),k.a.createElement("div",{style:v.controls,className:"flexbox-fix"},k.a.createElement("div",{style:v.sliders},k.a.createElement("div",{style:v.hue},k.a.createElement(wb,{style:v.Hue,hsl:i,onChange:a})),k.a.createElement("div",{style:v.alpha},k.a.createElement(lb,{style:v.Alpha,rgb:n,hsl:i,renderers:l,onChange:a}))),k.a.createElement("div",{style:v.color},k.a.createElement(ob,null),k.a.createElement("div",{style:v.activeColor}))),k.a.createElement(Iw,{rgb:n,hsl:i,hex:r,onChange:a,disableAlpha:c}),k.a.createElement(Pw,{colors:u,onClick:a,onSwatchHover:s}))};Nw.propTypes={disableAlpha:E.a.bool,width:E.a.oneOfType([E.a.string,E.a.number]),styles:E.a.object},Nw.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};__(Nw);var Lw=function(t){var e=t.hsl,n=t.offset,r=t.onClick,o=void 0===r?function(){}:r,i=t.active,a=t.first,s=t.last,c=Jy()({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:s});return k.a.createElement("div",{style:c.swatch,onClick:function(t){return o({h:e.h,s:.5,l:n,source:"hsl"},t)}})},Rw=function(t){var e=t.onClick,n=t.hsl,r=Jy()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return k.a.createElement("div",{style:r.swatches},k.a.createElement("div",{style:r.swatch},k.a.createElement(Lw,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:e,first:!0})),k.a.createElement("div",{style:r.swatch},k.a.createElement(Lw,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),k.a.createElement("div",{style:r.swatch},k.a.createElement(Lw,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),k.a.createElement("div",{style:r.swatch},k.a.createElement(Lw,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),k.a.createElement("div",{style:r.swatch},k.a.createElement(Lw,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:e,last:!0})),k.a.createElement("div",{style:r.clear}))},Bw=function(){var t=Jy()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.a.createElement("div",{style:t.picker})},zw=function(t){var e=t.hsl,n=t.onChange,r=t.pointer,o=t.styles,i=void 0===o?{}:o,a=t.className,s=void 0===a?"":a,c=Jy()(qb({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return k.a.createElement("div",{style:c.wrap||{},className:"slider-picker "+s},k.a.createElement("div",{style:c.hue},k.a.createElement(wb,{style:c.Hue,hsl:e,pointer:r,onChange:n})),k.a.createElement("div",{style:c.swatches},k.a.createElement(Rw,{hsl:e,onClick:n})))};zw.propTypes={styles:E.a.object},zw.defaultProps={pointer:Bw,styles:{}};__(zw);var Fw=n(1308),Hw=n.n(Fw),Uw=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,o=t.onSwatchHover,i=t.first,a=t.last,s=t.active,c=Jy()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{color:v_(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:s,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return k.a.createElement(E_,{color:e,style:c.color,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+e}},k.a.createElement("div",{style:c.check},k.a.createElement(Hw.a,null)))},Ww=function(t){var e=t.onClick,n=t.onSwatchHover,r=t.group,o=t.active,i=Jy()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return k.a.createElement("div",{style:i.group},P_(r,(function(t,i){return k.a.createElement(Uw,{key:t,color:t,active:t.toLowerCase()===o,first:0===i,last:i===r.length-1,onClick:e,onSwatchHover:n})})))},Vw=function(t){var e=t.width,n=t.height,r=t.onChange,o=t.onSwatchHover,i=t.colors,a=t.hex,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(qb({default:{picker:{width:e,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),h=function(t,e){return r({hex:t,source:"hex"},e)};return k.a.createElement("div",{style:f.picker,className:"swatches-picker "+l},k.a.createElement(Qb,null,k.a.createElement("div",{style:f.overflow},k.a.createElement("div",{style:f.body},P_(i,(function(t){return k.a.createElement(Ww,{key:t.toString(),group:t,active:a,onClick:h,onSwatchHover:o})})),k.a.createElement("div",{style:f.clear})))))};Vw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),height:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.arrayOf(E.a.string)),styles:E.a.object},Vw.defaultProps={width:320,height:240,colors:[[L_[900],L_[700],L_[500],L_[300],L_[100]],[R_[900],R_[700],R_[500],R_[300],R_[100]],[B_[900],B_[700],B_[500],B_[300],B_[100]],[z_[900],z_[700],z_[500],z_[300],z_[100]],[F_[900],F_[700],F_[500],F_[300],F_[100]],[H_[900],H_[700],H_[500],H_[300],H_[100]],[U_[900],U_[700],U_[500],U_[300],U_[100]],[W_[900],W_[700],W_[500],W_[300],W_[100]],[V_[900],V_[700],V_[500],V_[300],V_[100]],["#194D33",Y_[700],Y_[500],Y_[300],Y_[100]],[G_[900],G_[700],G_[500],G_[300],G_[100]],[X_[900],X_[700],X_[500],X_[300],X_[100]],[Z_[900],Z_[700],Z_[500],Z_[300],Z_[100]],[q_[900],q_[700],q_[500],q_[300],q_[100]],[K_[900],K_[700],K_[500],K_[300],K_[100]],[Q_[900],Q_[700],Q_[500],Q_[300],Q_[100]],[J_[900],J_[700],J_[500],J_[300],J_[100]],[$_[900],$_[700],$_[500],$_[300],$_[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};__(Vw);var Yw=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,o=t.colors,i=t.width,a=t.triangle,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(qb({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),h=function(t,n){p_(t)&&e({hex:t,source:"hex"},n)};return k.a.createElement("div",{style:f.card,className:"twitter-picker "+l},k.a.createElement("div",{style:f.triangleShadow}),k.a.createElement("div",{style:f.triangle}),k.a.createElement("div",{style:f.body},P_(o,(function(t,e){return k.a.createElement(E_,{key:e,color:t,hex:t,style:f.swatch,onClick:h,onHover:n,focusStyle:{boxShadow:"0 0 4px "+t}})})),k.a.createElement("div",{style:f.hash},"#"),k.a.createElement(vb,{label:null,style:{input:f.input},value:r.replace("#",""),onChange:h}),k.a.createElement("div",{style:f.clear})))};Yw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),triangle:E.a.oneOf(["hide","top-left","top-right"]),colors:E.a.arrayOf(E.a.string),styles:E.a.object},Yw.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};__(Yw);var Gw=function(t){var e=Jy()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(100*t.hsl.s)+"%, "+Math.round(100*t.hsl.l)+"%)"}}});return k.a.createElement("div",{style:e.picker})};Gw.propTypes={hsl:E.a.shape({h:E.a.number,s:E.a.number,l:E.a.number,a:E.a.number})},Gw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Xw=Gw,Zw=function(t){var e=Jy()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return k.a.createElement("div",{style:e.picker})};Zw.propTypes={hsl:E.a.shape({h:E.a.number,s:E.a.number,l:E.a.number,a:E.a.number})},Zw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var qw=Zw,Kw=function(t){var e=t.onChange,n=t.rgb,r=t.hsl,o=t.hex,i=t.hsv,a=function(t,n){if(t.hex)p_(t.hex)&&e({hex:t.hex,source:"hex"},n);else if(t.rgb){var r=t.rgb.split(",");g_(t.rgb,"rgb")&&e({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(t.hsv){var o=t.hsv.split(",");g_(t.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),e({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},n))}else if(t.hsl){var i=t.hsl.split(",");g_(t.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==l[1]?l[1]=.01:1==l[2]&&(l[2]=.01),e({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},n))}},s=Jy()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,u=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",l=Math.round(i.h)+"\xb0, "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return k.a.createElement("div",{style:s.wrap,className:"flexbox-fix"},k.a.createElement("div",{style:s.fields},k.a.createElement("div",{style:s.double},k.a.createElement(vb,{style:{input:s.input,label:s.label},label:"hex",value:o,onChange:a})),k.a.createElement("div",{style:s.column},k.a.createElement("div",{style:s.single},k.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"rgb",value:c,onChange:a})),k.a.createElement("div",{style:s.single},k.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"hsv",value:l,onChange:a})),k.a.createElement("div",{style:s.single},k.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"hsl",value:u,onChange:a})))))},Qw=function(t){var e=t.width,n=t.onChange,r=t.rgb,o=t.hsl,i=t.hsv,a=t.hex,s=t.header,c=t.styles,u=void 0===c?{}:c,l=t.className,f=void 0===l?"":l,h=Jy()(qb({default:{picker:{width:e,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return k.a.createElement("div",{style:h.picker,className:"google-picker "+f},k.a.createElement("div",{style:h.head},s),k.a.createElement("div",{style:h.swatch}),k.a.createElement("div",{style:h.saturation},k.a.createElement(i_,{hsl:o,hsv:i,pointer:Xw,onChange:n})),k.a.createElement("div",{style:h.body},k.a.createElement("div",{style:h.controls,className:"flexbox-fix"},k.a.createElement("div",{style:h.hue},k.a.createElement(wb,{style:h.Hue,hsl:o,radius:"4px",pointer:qw,onChange:n}))),k.a.createElement(Kw,{rgb:r,hsl:o,hex:a,hsv:i,onChange:n})))};Qw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),styles:E.a.object,header:E.a.string},Qw.defaultProps={width:652,styles:{},header:"Color picker"};__(Qw);var Jw=function(t){var e=t.className,n=t.customizeIcon,r=t.customizeIconProps,o=t.children,i=t.onMouseDown,a=t.onClick,s="function"===typeof n?n(r):n;return O.createElement("span",{className:e,onMouseDown:function(t){t.preventDefault(),null===i||void 0===i||i(t)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==s?s:O.createElement("span",{className:C()(e.split(/\s+/).map((function(t){return"".concat(t,"-icon")})))},o))},$w=O.createContext(null);function tx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,e=O.useRef(null),n=O.useRef(null);function r(r){(r||null===e.current)&&(e.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.current=null}),t)}return O.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return e.current},r]}var ex=O.createContext(null);var nx=new Map;var rx=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=nx.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var ox=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O.Component);function ix(t,e){var n=t.children,r=t.disabled,o=O.useRef(null),i=O.useRef(null),a=O.useContext(ex),s="function"===typeof n,c=s?n(o):n,u=O.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&O.isValidElement(c)&&Lr(c),f=l?c.ref:null,h=Nr(f,o),d=function(){var t;return so(o.current)||(o.current&&"object"===Object(Zn.a)(o.current)?so(null===(t=o.current)||void 0===t?void 0:t.nativeElement):null)||so(i.current)};O.useImperativeHandle(e,(function(){return d()}));var p=O.useRef(t);p.current=t;var v=O.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,o=t.getBoundingClientRect(),i=o.width,s=o.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(i),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(i)?i:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return O.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,nx.has(t)||(nx.set(t,new Set),rx.observe(t)),nx.get(t).add(e)),function(){return function(t,e){nx.has(t)&&(nx.get(t).delete(e),nx.get(t).size||(rx.unobserve(t),nx.delete(t)))}(n,v)}}),[o.current,r]),O.createElement(ox,{ref:i},l?O.cloneElement(c,{ref:h}):c)}var ax=O.forwardRef(ix);function sx(t,e){var n=t.children;return("function"===typeof n?[n]:Ka(n)).map((function(n,r){var o=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return O.createElement(ax,Object(Ln.a)({},t,{key:o,ref:0===r?e:void 0}),n)}))}var cx=O.forwardRef(sx);cx.Collection=function(t){var e=t.children,n=t.onBatchResize,r=O.useRef(0),o=O.useRef([]),i=O.useContext(ex),a=O.useCallback((function(t,e,a){r.current+=1;var s=r.current;o.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===i||void 0===i||i(t,e,a)}),[n,i]);return O.createElement(ex.Provider,{value:a},e)};var ux=cx,lx=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"];function fx(t,e){var n=t.prefixCls,r=t.invalidate,o=t.item,i=t.renderItem,a=t.responsive,s=t.responsiveDisabled,c=t.registerSize,u=t.itemKey,l=t.className,f=t.style,h=t.children,d=t.display,p=t.order,v=t.component,g=void 0===v?"div":v,m=Object(Xn.a)(t,lx),y=a&&!d;function b(t){c(u,t)}O.useEffect((function(){return function(){b(null)}}),[]);var _,w=i&&void 0!==o?i(o):h;r||(_={opacity:y?0:1,height:y?0:void 0,overflowY:y?"hidden":void 0,order:a?p:void 0,pointerEvents:y?"none":void 0,position:y?"absolute":void 0});var x={};y&&(x["aria-hidden"]=!0);var S=O.createElement(g,Object(Ln.a)({className:C()(!r&&n,l),style:Object(Gn.a)(Object(Gn.a)({},_),f)},x,m,{ref:e}),w);return a&&(S=O.createElement(ux,{onResize:function(t){b(t.offsetWidth)},disabled:s},S)),S}var hx=O.forwardRef(fx);hx.displayName="Item";var dx=hx;function px(){var t=O.useRef(null);return function(e){t.current||(t.current=[],function(t){if("undefined"===typeof MessageChannel)Ao(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}((function(){Object(Er.unstable_batchedUpdates)((function(){t.current.forEach((function(t){t()})),t.current=null}))}))),t.current.push(e)}}function vx(t,e){var n=Mr(O.useState(e),2),r=n[0],o=n[1];return[r,ss((function(e){t((function(){o(e)}))}))]}var gx=k.a.createContext(null),mx=["component"],yx=["className"],bx=["className"],_x=function(t,e){var n=O.useContext(gx);if(!n){var r=t.component,o=void 0===r?"div":r,i=Object(Xn.a)(t,mx);return O.createElement(o,Object(Ln.a)({},i,{ref:e}))}var a=n.className,s=Object(Xn.a)(n,yx),c=t.className,u=Object(Xn.a)(t,bx);return O.createElement(gx.Provider,{value:null},O.createElement(dx,Object(Ln.a)({ref:e,className:C()(a,c)},s,u)))},wx=O.forwardRef(_x);wx.displayName="RawItem";var xx=wx,Sx=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"];function Cx(t){return"+ ".concat(t.length," ...")}function Ox(t,e){var n=t.prefixCls,r=void 0===n?"rc-overflow":n,o=t.data,i=void 0===o?[]:o,a=t.renderItem,s=t.renderRawItem,c=t.itemKey,u=t.itemWidth,l=void 0===u?10:u,f=t.ssr,h=t.style,d=t.className,p=t.maxCount,v=t.renderRest,g=t.renderRawRest,m=t.suffix,y=t.component,b=void 0===y?"div":y,_=t.itemComponent,w=t.onVisibleChange,x=Object(Xn.a)(t,Sx),S="full"===f,k=px(),M=Mr(vx(k,null),2),E=M[0],j=M[1],I=E||0,A=Mr(vx(k,new Map),2),T=A[0],P=A[1],D=Mr(vx(k,0),2),N=D[0],L=D[1],R=Mr(vx(k,0),2),B=R[0],z=R[1],F=Mr(vx(k,0),2),H=F[0],U=F[1],W=Mr(Object(O.useState)(null),2),V=W[0],Y=W[1],G=Mr(Object(O.useState)(null),2),X=G[0],Z=G[1],q=O.useMemo((function(){return null===X&&S?Number.MAX_SAFE_INTEGER:X||0}),[X,E]),K=Mr(Object(O.useState)(!1),2),Q=K[0],J=K[1],$="".concat(r,"-item"),tt=Math.max(N,B),et="responsive"===p,nt=i.length&&et,rt="invalidate"===p,ot=nt||"number"===typeof p&&i.length>p,it=Object(O.useMemo)((function(){var t=i;return nt?t=null===E&&S?i:i.slice(0,Math.min(i.length,I/l)):"number"===typeof p&&(t=i.slice(0,p)),t}),[i,l,E,p,nt]),at=Object(O.useMemo)((function(){return nt?i.slice(q+1):i.slice(it.length)}),[i,it,nt,q]),st=Object(O.useCallback)((function(t,e){var n;return"function"===typeof c?c(t):null!==(n=c&&(null===t||void 0===t?void 0:t[c]))&&void 0!==n?n:e}),[c]),ct=Object(O.useCallback)(a||function(t){return t},[a]);function ut(t,e,n){(X!==t||void 0!==e&&e!==V)&&(Z(t),n||(J(t<i.length-1),null===w||void 0===w||w(t)),void 0!==e&&Y(e))}function lt(t,e){P((function(n){var r=new Map(n);return null===e?r.delete(t):r.set(t,e),r}))}function ft(t){return T.get(st(it[t],t))}Hr((function(){if(I&&"number"===typeof tt&&it){var t=H,e=it.length,n=e-1;if(!e)return void ut(0,null);for(var r=0;r<e;r+=1){var o=ft(r);if(S&&(o=o||0),void 0===o){ut(r-1,void 0,!0);break}if(t+=o,0===n&&t<=I||r===n-1&&t+ft(n)<=I){ut(n,null);break}if(t+tt>I){ut(r-1,t-o-H+B);break}}m&&ft(0)+H>I&&Y(null)}}),[I,T,B,H,st,it]);var ht=Q&&!!at.length,dt={};null!==V&&nt&&(dt={position:"absolute",left:V,top:0});var pt,vt={prefixCls:$,responsive:nt,component:_,invalidate:rt},gt=s?function(t,e){var n=st(t,e);return O.createElement(gx.Provider,{key:n,value:Object(Gn.a)(Object(Gn.a)({},vt),{},{order:e,item:t,itemKey:n,registerSize:lt,display:e<=q})},s(t,e))}:function(t,e){var n=st(t,e);return O.createElement(dx,Object(Ln.a)({},vt,{order:e,key:n,item:t,renderItem:ct,itemKey:n,registerSize:lt,display:e<=q}))},mt={order:ht?q:Number.MAX_SAFE_INTEGER,className:"".concat($,"-rest"),registerSize:function(t,e){z(e),L(B)},display:ht};if(g)g&&(pt=O.createElement(gx.Provider,{value:Object(Gn.a)(Object(Gn.a)({},vt),mt)},g(at)));else{var yt=v||Cx;pt=O.createElement(dx,Object(Ln.a)({},vt,mt),"function"===typeof yt?yt(at):yt)}var bt=O.createElement(b,Object(Ln.a)({className:C()(!rt&&r,d),style:h,ref:e},x),it.map(gt),ot?pt:null,m&&O.createElement(dx,Object(Ln.a)({},vt,{responsive:et,responsiveDisabled:!nt,order:q,className:"".concat($,"-suffix"),registerSize:function(t,e){U(e)},display:!0,style:dt}),m));return et&&(bt=O.createElement(ux,{onResize:function(t,e){j(e.clientWidth)},disabled:!nt},bt)),bt}var kx=O.forwardRef(Ox);kx.displayName="Overflow",kx.Item=xx,kx.RESPONSIVE="responsive",kx.INVALIDATE="invalidate";var Mx=kx,Ex=function(t,e){var n,r=t.prefixCls,o=t.id,i=t.inputElement,a=t.disabled,s=t.tabIndex,c=t.autoFocus,u=t.autoComplete,l=t.editable,f=t.activeDescendantId,h=t.value,d=t.maxLength,p=t.onKeyDown,v=t.onMouseDown,g=t.onChange,m=t.onPaste,y=t.onCompositionStart,b=t.onCompositionEnd,_=t.open,w=t.attrs,x=i||O.createElement("input",null),S=x,k=S.ref,M=S.props,E=M.onKeyDown,j=M.onChange,I=M.onMouseDown,A=M.onCompositionStart,T=M.onCompositionEnd,P=M.style;return Object(ir.c)(!("maxLength"in x.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),x=O.cloneElement(x,Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({type:"search"},M),{},{id:o,ref:Dr(e,k),disabled:a,tabIndex:s,autoComplete:u||"off",autoFocus:c,className:C()("".concat(r,"-selection-search-input"),null===(n=x)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":_||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":_?f:void 0},w),{},{value:l?h:"",maxLength:d,readOnly:!l,unselectable:l?null:"on",style:Object(Gn.a)(Object(Gn.a)({},P),{},{opacity:l?null:0}),onKeyDown:function(t){p(t),E&&E(t)},onMouseDown:function(t){v(t),I&&I(t)},onChange:function(t){g(t),j&&j(t)},onCompositionStart:function(t){y(t),A&&A(t)},onCompositionEnd:function(t){b(t),T&&T(t)},onPaste:m}))};var jx=O.forwardRef(Ex);function Ix(t){return Array.isArray(t)?t:void 0!==t?[t]:[]}var Ax="undefined"!==typeof window&&window.document&&window.document.documentElement;function Tx(t){return["string","number"].includes(Object(Zn.a)(t))}function Px(t){var e=void 0;return t&&(Tx(t.title)?e=t.title.toString():Tx(t.label)&&(e=t.label.toString())),e}function Dx(t){var e;return null!==(e=t.key)&&void 0!==e?e:t.value}var Nx=function(t){t.preventDefault(),t.stopPropagation()},Lx=function(t){var e,n,r=t.id,o=t.prefixCls,i=t.values,a=t.open,s=t.searchValue,c=t.autoClearSearchValue,u=t.inputRef,l=t.placeholder,f=t.disabled,h=t.mode,d=t.showSearch,p=t.autoFocus,v=t.autoComplete,g=t.activeDescendantId,m=t.tabIndex,y=t.removeIcon,b=t.maxTagCount,_=t.maxTagTextLength,w=t.maxTagPlaceholder,x=void 0===w?function(t){return"+ ".concat(t.length," ...")}:w,S=t.tagRender,k=t.onToggleOpen,M=t.onRemove,E=t.onInputChange,j=t.onInputPaste,I=t.onInputKeyDown,A=t.onInputMouseDown,T=t.onInputCompositionStart,P=t.onInputCompositionEnd,D=O.useRef(null),N=Mr(Object(O.useState)(0),2),L=N[0],R=N[1],B=Mr(Object(O.useState)(!1),2),z=B[0],F=B[1],H="".concat(o,"-selection"),U=a||"multiple"===h&&!1===c||"tags"===h?s:"",W="tags"===h||"multiple"===h&&!1===c||d&&(a||z);e=function(){R(D.current.scrollWidth)},n=[U],Ax?O.useLayoutEffect(e,n):O.useEffect(e,n);var V=function(t,e,n,r,o){return O.createElement("span",{title:Px(t),className:C()("".concat(H,"-item"),Object(Yn.a)({},"".concat(H,"-item-disabled"),n))},O.createElement("span",{className:"".concat(H,"-item-content")},e),r&&O.createElement(Jw,{className:"".concat(H,"-item-remove"),onMouseDown:Nx,onClick:o,customizeIcon:y},"\xd7"))},Y=function(t,e,n,r,o,i){return O.createElement("span",{onMouseDown:function(t){Nx(t),k(!a)}},S({label:e,value:t,disabled:n,closable:r,onClose:o,isMaxTag:!!i}))},G=O.createElement("div",{className:"".concat(H,"-search"),style:{width:L},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},O.createElement(jx,{ref:u,open:a,prefixCls:o,id:r,inputElement:null,disabled:f,autoFocus:p,autoComplete:v,editable:W,activeDescendantId:g,value:U,onKeyDown:I,onMouseDown:A,onChange:E,onPaste:j,onCompositionStart:T,onCompositionEnd:P,tabIndex:m,attrs:or(t,!0)}),O.createElement("span",{ref:D,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},U,"\xa0")),X=O.createElement(Mx,{prefixCls:"".concat(H,"-overflow"),data:i,renderItem:function(t){var e=t.disabled,n=t.label,r=t.value,o=!f&&!e,i=n;if("number"===typeof _&&("string"===typeof n||"number"===typeof n)){var a=String(i);a.length>_&&(i="".concat(a.slice(0,_),"..."))}var s=function(e){e&&e.stopPropagation(),M(t)};return"function"===typeof S?Y(r,i,e,o,s):V(t,i,e,o,s)},renderRest:function(t){var e="function"===typeof x?x(t):x;return"function"===typeof S?Y(void 0,e,!1,!1,void 0,!0):V({title:e},e,!1)},suffix:G,itemKey:Dx,maxCount:b});return O.createElement(O.Fragment,null,X,!i.length&&!U&&O.createElement("span",{className:"".concat(H,"-placeholder")},l))},Rx=function(t){var e=t.inputElement,n=t.prefixCls,r=t.id,o=t.inputRef,i=t.disabled,a=t.autoFocus,s=t.autoComplete,c=t.activeDescendantId,u=t.mode,l=t.open,f=t.values,h=t.placeholder,d=t.tabIndex,p=t.showSearch,v=t.searchValue,g=t.activeValue,m=t.maxLength,y=t.onInputKeyDown,b=t.onInputMouseDown,_=t.onInputChange,w=t.onInputPaste,x=t.onInputCompositionStart,S=t.onInputCompositionEnd,C=t.title,k=Mr(O.useState(!1),2),M=k[0],E=k[1],j="combobox"===u,I=j||p,A=f[0],T=v||"";j&&g&&!M&&(T=g),O.useEffect((function(){j&&E(!1)}),[j,g]);var P=!("combobox"!==u&&!l&&!p)&&!!T,D=void 0===C?Px(A):C,N=O.useMemo((function(){return A?null:O.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:P?{visibility:"hidden"}:void 0},h)}),[A,P,h,n]);return O.createElement(O.Fragment,null,O.createElement("span",{className:"".concat(n,"-selection-search")},O.createElement(jx,{ref:o,prefixCls:n,id:r,open:l,inputElement:e,disabled:i,autoFocus:a,autoComplete:s,editable:I,activeDescendantId:c,value:T,onKeyDown:y,onMouseDown:b,onChange:function(t){E(!0),_(t)},onPaste:w,onCompositionStart:x,onCompositionEnd:S,tabIndex:d,attrs:or(t,!0),maxLength:j?m:void 0})),!j&&A?O.createElement("span",{className:"".concat(n,"-selection-item"),title:D,style:P?{visibility:"hidden"}:void 0},A.label):null,N)},Bx=function(t,e){var n=Object(O.useRef)(null),r=Object(O.useRef)(!1),o=t.prefixCls,i=t.open,a=t.mode,s=t.showSearch,c=t.tokenWithEnter,u=t.disabled,l=t.autoClearSearchValue,f=t.onSearch,h=t.onSearchSubmit,d=t.onToggleOpen,p=t.onInputKeyDown,v=t.domRef;O.useImperativeHandle(e,(function(){return{focus:function(t){n.current.focus(t)},blur:function(){n.current.blur()}}}));var g=Mr(tx(0),2),m=g[0],y=g[1],b=Object(O.useRef)(null),_=function(t){!1!==f(t,!0,r.current)&&d(!0)},w={inputRef:n,onInputKeyDown:function(t){var e,n=t.which;n!==ro.UP&&n!==ro.DOWN||t.preventDefault(),p&&p(t),n!==ro.ENTER||"tags"!==a||r.current||i||null===h||void 0===h||h(t.target.value),e=n,[ro.ESC,ro.SHIFT,ro.BACKSPACE,ro.TAB,ro.WIN_KEY,ro.ALT,ro.META,ro.WIN_KEY_RIGHT,ro.CTRL,ro.SEMICOLON,ro.EQUALS,ro.CAPS_LOCK,ro.CONTEXT_MENU,ro.F1,ro.F2,ro.F3,ro.F4,ro.F5,ro.F6,ro.F7,ro.F8,ro.F9,ro.F10,ro.F11,ro.F12].includes(e)||d(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(t){var e=t.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");e=e.replace(n,b.current)}b.current=null,_(e)},onInputPaste:function(t){var e=t.clipboardData,n=null===e||void 0===e?void 0:e.getData("text");b.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(t){r.current=!1,"combobox"!==a&&_(t.target.value)}},x="multiple"===a||"tags"===a?O.createElement(Lx,Object(Ln.a)({},t,w)):O.createElement(Rx,Object(Ln.a)({},t,w));return O.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:function(t){t.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(t){var e=m();t.target===n.current||e||"combobox"===a&&u||t.preventDefault(),("combobox"===a||s&&e)&&i||(i&&!1!==l&&f("",!0,!1),d())}},x)};var zx=O.forwardRef(Bx),Fx=O.createContext(null);var Hx=new Map;var Ux=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=Hx.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var Wx=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O.Component);function Vx(t,e){var n=t.children,r=t.disabled,o=O.useRef(null),i=O.useRef(null),a=O.useContext(Fx),s="function"===typeof n,c=s?n(o):n,u=O.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&O.isValidElement(c)&&Lr(c),f=l?c.ref:null,h=Nr(f,o),d=function(){var t;return so(o.current)||(o.current&&"object"===Object(Zn.a)(o.current)?so(null===(t=o.current)||void 0===t?void 0:t.nativeElement):null)||so(i.current)};O.useImperativeHandle(e,(function(){return d()}));var p=O.useRef(t);p.current=t;var v=O.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,o=t.getBoundingClientRect(),i=o.width,s=o.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(i),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(i)?i:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return O.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,Hx.has(t)||(Hx.set(t,new Set),Ux.observe(t)),Hx.get(t).add(e)),function(){return function(t,e){Hx.has(t)&&(Hx.get(t).delete(e),Hx.get(t).size||(Ux.unobserve(t),Hx.delete(t)))}(n,v)}}),[o.current,r]),O.createElement(Wx,{ref:i},l?O.cloneElement(c,{ref:h}):c)}var Yx=O.forwardRef(Vx);function Gx(t,e){var n=t.children;return("function"===typeof n?[n]:Ka(n)).map((function(n,r){var o=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return O.createElement(Yx,Object(Ln.a)({},t,{key:o,ref:0===r?e:void 0}),n)}))}var Xx=O.forwardRef(Gx);Xx.Collection=function(t){var e=t.children,n=t.onBatchResize,r=O.useRef(0),o=O.useRef([]),i=O.useContext(Fx),a=O.useCallback((function(t,e,a){r.current+=1;var s=r.current;o.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===i||void 0===i||i(t,e,a)}),[n,i]);return O.createElement(Fx.Provider,{value:a},e)};var Zx=Xx;function qx(t){var e;return null===t||void 0===t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}function Kx(t){return function(t){return qx(t)instanceof ShadowRoot}(t)?qx(t):null}function Qx(t){var e=t.prefixCls,n=t.align,r=t.arrow,o=t.arrowPos,i=r||{},a=i.className,s=i.content,c=o.x,u=void 0===c?0:c,l=o.y,f=void 0===l?0:l,h=O.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],v=n.points[1],g=p[0],m=p[1],y=v[0],b=v[1];g!==y&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=f,m!==b&&["l","r"].includes(m)?"l"===m?d.left=0:d.right=0:d.left=u}return O.createElement("div",{ref:h,className:C()("".concat(e,"-arrow"),a),style:d},s)}function Jx(t){var e=t.prefixCls,n=t.open,r=t.zIndex,o=t.mask,i=t.motion;return o?O.createElement(Vo,Object(Ln.a)({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return O.createElement("div",{style:{zIndex:r},className:C()("".concat(e,"-mask"),n)})})):null}var $x=O.memo((function(t){return t.children}),(function(t,e){return e.cache}));var tS=O.forwardRef((function(t,e){var n=t.popup,r=t.className,o=t.prefixCls,i=t.style,a=t.target,s=t.onVisibleChanged,c=t.open,u=t.keepDom,l=t.fresh,f=t.onClick,h=t.mask,d=t.arrow,p=t.arrowPos,v=t.align,g=t.motion,m=t.maskMotion,y=t.forceRender,b=t.getPopupContainer,_=t.autoDestroy,w=t.portal,x=t.zIndex,S=t.onMouseEnter,k=t.onMouseLeave,M=t.onPointerEnter,E=t.ready,j=t.offsetX,I=t.offsetY,A=t.offsetR,T=t.offsetB,P=t.onAlign,D=t.onPrepare,N=t.stretch,L=t.targetWidth,R=t.targetHeight,B="function"===typeof n?n():n,z=c||u,F=(null===b||void 0===b?void 0:b.length)>0,H=Mr(O.useState(!b||!F),2),U=H[0],W=H[1];if(Hr((function(){!U&&F&&a&&W(!0)}),[U,F,a]),!U)return null;var V={left:"-1000vw",top:"-1000vh",right:"auto",bottom:"auto"};if(E||!c){var Y,G=v.points,X=v.dynamicInset||(null===(Y=v._experimental)||void 0===Y?void 0:Y.dynamicInset),Z=X&&"r"===G[0][1],q=X&&"b"===G[0][0];Z?(V.right=A,V.left="auto"):(V.left=j,V.right="auto"),q?(V.bottom=T,V.top="auto"):(V.top=I,V.bottom="auto")}var K={};return N&&(N.includes("height")&&R?K.height=R:N.includes("minHeight")&&R&&(K.minHeight=R),N.includes("width")&&L?K.width=L:N.includes("minWidth")&&L&&(K.minWidth=L)),c||(K.pointerEvents="none"),O.createElement(w,{open:y||z,getContainer:b&&function(){return b(a)},autoDestroy:_},O.createElement(Jx,{prefixCls:o,open:c,zIndex:x,mask:h,motion:m}),O.createElement(Zx,{onResize:P,disabled:!c},(function(t){return O.createElement(Vo,Object(Ln.a)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(o,"-hidden")},g,{onAppearPrepare:D,onEnterPrepare:D,visible:c,onVisibleChanged:function(t){var e;null===g||void 0===g||null===(e=g.onVisibleChanged)||void 0===e||e.call(g,t),s(t)}}),(function(n,a){var s=n.className,u=n.style,h=C()(o,s,r);return O.createElement("div",{ref:Dr(t,e,a),className:h,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},V),K),u),{},{boxSizing:"border-box",zIndex:x},i),onMouseEnter:S,onMouseLeave:k,onPointerEnter:M,onClick:f},d&&O.createElement(Qx,{prefixCls:o,arrow:d,arrowPos:p,align:v}),O.createElement($x,{cache:!c&&!l},B))}))})))}));var eS=O.forwardRef((function(t,e){var n=t.children,r=t.getTriggerDOMNode,o=Lr(n),i=O.useCallback((function(t){Pr(e,r?r(t):t)}),[r]),a=Nr(i,n.ref);return o?O.cloneElement(n,{ref:a}):n})),nS=O.createContext(null);function rS(t){return t?Array.isArray(t)?t:[t]:[]}function oS(t,e,n,r){return O.useMemo((function(){var o=rS(null!==n&&void 0!==n?n:e),i=rS(null!==r&&void 0!==r?r:e),a=new Set(o),s=new Set(i);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[t,e,n,r])}function iS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function aS(t,e,n,r){for(var o=n.points,i=Object.keys(t),a=0;a<i.length;a+=1){var s,c=i[a];if(iS(null===(s=t[c])||void 0===s?void 0:s.points,o,r))return"".concat(e,"-placement-").concat(c)}return""}function sS(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function cS(t){return t.ownerDocument.defaultView}function uS(t){for(var e=[],n=null===t||void 0===t?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=cS(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(t){return r.includes(t)}))&&e.push(n),n=n.parentElement}return e}function lS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(t)?e:t}function fS(t){return lS(parseFloat(t),0)}function hS(t,e){var n=Object(Gn.a)({},t);return(e||[]).forEach((function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var e=cS(t).getComputedStyle(t),r=e.overflow,o=e.overflowClipMargin,i=e.borderTopWidth,a=e.borderBottomWidth,s=e.borderLeftWidth,c=e.borderRightWidth,u=t.getBoundingClientRect(),l=t.offsetHeight,f=t.clientHeight,h=t.offsetWidth,d=t.clientWidth,p=fS(i),v=fS(a),g=fS(s),m=fS(c),y=lS(Math.round(u.width/h*1e3)/1e3),b=lS(Math.round(u.height/l*1e3)/1e3),_=(h-d-g-m)*y,w=(l-f-p-v)*b,x=p*b,S=v*b,C=g*y,O=m*y,k=0,M=0;if("clip"===r){var E=fS(o);k=E*y,M=E*b}var j=u.x+C-k,I=u.y+x-M,A=j+u.width+2*k-C-O-_,T=I+u.height+2*M-x-S-w;n.left=Math.max(n.left,j),n.top=Math.max(n.top,I),n.right=Math.min(n.right,A),n.bottom=Math.min(n.bottom,T)}})),n}function dS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function pS(t,e){var n=Mr(e||[],2),r=n[0],o=n[1];return[dS(t.width,r),dS(t.height,o)]}function vS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[t[0],t[1]]}function gS(t,e){var n,r=e[0],o=e[1];return n="t"===r?t.y:"b"===r?t.y+t.height:t.y+t.height/2,{x:"l"===o?t.x:"r"===o?t.x+t.width:t.x+t.width/2,y:n}}function mS(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map((function(t,r){return r===e?n[t]||"c":t})).join("")}function yS(t,e,n,r,o,i,a){var s=Mr(O.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),2),c=s[0],u=s[1],l=O.useRef(0),f=O.useMemo((function(){return e?uS(e):[]}),[e]),h=O.useRef({});t||(h.current={});var d=ss((function(){if(e&&n&&t){var s,c,l,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=j.x+t,o=j.y+e,i=r+B,a=o+R,s=Math.max(r,n.left),c=Math.max(o,n.top),u=Math.min(i,n.right),l=Math.min(a,n.bottom);return Math.max(0,(u-s)*(l-c))},p=function(){at=j.y+yt,st=at+R,ct=j.x+mt,ut=ct+B},v=e,g=v.ownerDocument,m=cS(v).getComputedStyle(v),y=m.width,b=m.height,_=m.position,w=v.style.left,x=v.style.top,S=v.style.right,C=v.style.bottom,O=v.style.overflow,k=Object(Gn.a)(Object(Gn.a)({},o[r]),i),M=g.createElement("div");if(null===(s=v.parentElement)||void 0===s||s.appendChild(M),M.style.left="".concat(v.offsetLeft,"px"),M.style.top="".concat(v.offsetTop,"px"),M.style.position=_,M.style.height="".concat(v.offsetHeight,"px"),M.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden",Array.isArray(n))l={x:n[0],y:n[1],width:0,height:0};else{var E=n.getBoundingClientRect();l={x:E.x,y:E.y,width:E.width,height:E.height}}var j=v.getBoundingClientRect(),I=g.documentElement,A=I.clientWidth,T=I.clientHeight,P=I.scrollWidth,D=I.scrollHeight,N=I.scrollTop,L=I.scrollLeft,R=j.height,B=j.width,z=l.height,F=l.width,H={left:0,top:0,right:A,bottom:T},U={left:-L,top:-N,right:P-L,bottom:D-N},W=k.htmlRegion;"scroll"!==W&&"visibleFirst"!==W&&(W="visible");var V="visibleFirst"===W,Y=hS(U,f),G=hS(H,f),X="visible"===W?G:Y,Z=V?G:X;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var q=v.getBoundingClientRect();v.style.left=w,v.style.top=x,v.style.right=S,v.style.bottom=C,v.style.overflow=O,null===(c=v.parentElement)||void 0===c||c.removeChild(M);var K=lS(Math.round(B/parseFloat(y)*1e3)/1e3),Q=lS(Math.round(R/parseFloat(b)*1e3)/1e3);if(0===K||0===Q||ao(n)&&!ks(n))return;var J=k.offset,$=k.targetOffset,tt=Mr(pS(j,J),2),et=tt[0],nt=tt[1],rt=Mr(pS(l,$),2),ot=rt[0],it=rt[1];l.x-=ot,l.y-=it;var at,st,ct,ut,lt=Mr(k.points||[],2),ft=lt[0],ht=vS(lt[1]),dt=vS(ft),pt=gS(l,ht),vt=gS(j,dt),gt=Object(Gn.a)({},k),mt=pt.x-vt.x+et,yt=pt.y-vt.y+nt,bt=d(mt,yt),_t=d(mt,yt,G),wt=gS(l,["t","l"]),xt=gS(j,["t","l"]),St=gS(l,["b","r"]),Ct=gS(j,["b","r"]),Ot=k.overflow||{},kt=Ot.adjustX,Mt=Ot.adjustY,Et=Ot.shiftX,jt=Ot.shiftY,It=function(t){return"boolean"===typeof t?t:t>=0};p();var At=It(Mt),Tt=dt[0]===ht[0];if(At&&"t"===dt[0]&&(st>Z.bottom||h.current.bt)){var Pt=yt;Tt?Pt-=R-z:Pt=wt.y-Ct.y-nt;var Dt=d(mt,Pt),Nt=d(mt,Pt,G);Dt>bt||Dt===bt&&(!V||Nt>=_t)?(h.current.bt=!0,yt=Pt,nt=-nt,gt.points=[mS(dt,0),mS(ht,0)]):h.current.bt=!1}if(At&&"b"===dt[0]&&(at<Z.top||h.current.tb)){var Lt=yt;Tt?Lt+=R-z:Lt=St.y-xt.y-nt;var Rt=d(mt,Lt),Bt=d(mt,Lt,G);Rt>bt||Rt===bt&&(!V||Bt>=_t)?(h.current.tb=!0,yt=Lt,nt=-nt,gt.points=[mS(dt,0),mS(ht,0)]):h.current.tb=!1}var zt=It(kt),Ft=dt[1]===ht[1];if(zt&&"l"===dt[1]&&(ut>Z.right||h.current.rl)){var Ht=mt;Ft?Ht-=B-F:Ht=wt.x-Ct.x-et;var Ut=d(Ht,yt),Wt=d(Ht,yt,G);Ut>bt||Ut===bt&&(!V||Wt>=_t)?(h.current.rl=!0,mt=Ht,et=-et,gt.points=[mS(dt,1),mS(ht,1)]):h.current.rl=!1}if(zt&&"r"===dt[1]&&(ct<Z.left||h.current.lr)){var Vt=mt;Ft?Vt+=B-F:Vt=St.x-xt.x-et;var Yt=d(Vt,yt),Gt=d(Vt,yt,G);Yt>bt||Yt===bt&&(!V||Gt>=_t)?(h.current.lr=!0,mt=Vt,et=-et,gt.points=[mS(dt,1),mS(ht,1)]):h.current.lr=!1}p();var Xt=!0===Et?0:Et;"number"===typeof Xt&&(ct<G.left&&(mt-=ct-G.left-et,l.x+F<G.left+Xt&&(mt+=l.x-G.left+F-Xt)),ut>G.right&&(mt-=ut-G.right-et,l.x>G.right-Xt&&(mt+=l.x-G.right+Xt)));var Zt=!0===jt?0:jt;"number"===typeof Zt&&(at<G.top&&(yt-=at-G.top-nt,l.y+z<G.top+Zt&&(yt+=l.y-G.top+z-Zt)),st>G.bottom&&(yt-=st-G.bottom-nt,l.y>G.bottom-Zt&&(yt+=l.y-G.bottom+Zt)));var qt=j.x+mt,Kt=qt+B,Qt=j.y+yt,Jt=Qt+R,$t=l.x,te=$t+F,ee=l.y,ne=ee+z,re=(Math.max(qt,$t)+Math.min(Kt,te))/2-qt,oe=(Math.max(Qt,ee)+Math.min(Jt,ne))/2-Qt;null===a||void 0===a||a(e,gt);var ie=q.right-j.x-(mt+j.width),ae=q.bottom-j.y-(yt+j.height);u({ready:!0,offsetX:mt/K,offsetY:yt/Q,offsetR:ie/K,offsetB:ae/Q,arrowX:re/K,arrowY:oe/Q,scaleX:K,scaleY:Q,align:gt})}})),p=function(){u((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{ready:!1})}))};return Hr(p,[r]),Hr((function(){t||p()}),[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){l.current+=1;var t=l.current;Promise.resolve().then((function(){l.current===t&&d()}))}]}function bS(t,e,n,r,o){Hr((function(){if(t&&e&&n){var i=function(){r(),o()},a=n,s=uS(e),c=uS(a),u=cS(a),l=new Set([u].concat(er(s),er(c)));return l.forEach((function(t){t.addEventListener("scroll",i,{passive:!0})})),u.addEventListener("resize",i,{passive:!0}),r(),function(){l.forEach((function(t){t.removeEventListener("scroll",i),u.removeEventListener("resize",i)}))}}}),[t,e,n])}function _S(t,e,n,r,o,i,a,s){var c=O.useRef(t);c.current=t,O.useEffect((function(){if(e&&r&&(!o||i)){var t=function(t){var e=t.target;c.current&&!a(e)&&s(!1)},u=cS(r);u.addEventListener("mousedown",t,!0),u.addEventListener("contextmenu",t,!0);var l=Kx(n);return l&&(l.addEventListener("mousedown",t,!0),l.addEventListener("contextmenu",t,!0)),function(){u.removeEventListener("mousedown",t,!0),u.removeEventListener("contextmenu",t,!0),l&&(l.removeEventListener("mousedown",t,!0),l.removeEventListener("contextmenu",t,!0))}}}),[e,n,r,o,i])}var wS=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var xS=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,e=O.forwardRef((function(e,n){var r=e.prefixCls,o=void 0===r?"rc-trigger-popup":r,i=e.children,a=e.action,s=void 0===a?"hover":a,c=e.showAction,u=e.hideAction,l=e.popupVisible,f=e.defaultPopupVisible,h=e.onPopupVisibleChange,d=e.afterPopupVisibleChange,p=e.mouseEnterDelay,v=e.mouseLeaveDelay,g=void 0===v?.1:v,m=e.focusDelay,y=e.blurDelay,b=e.mask,_=e.maskClosable,w=void 0===_||_,x=e.getPopupContainer,S=e.forceRender,k=e.autoDestroy,M=e.destroyPopupOnHide,E=e.popup,j=e.popupClassName,I=e.popupStyle,A=e.popupPlacement,T=e.builtinPlacements,P=void 0===T?{}:T,D=e.popupAlign,N=e.zIndex,L=e.stretch,R=e.getPopupClassNameFromAlign,B=e.fresh,z=e.alignPoint,F=e.onPopupClick,H=e.onPopupAlign,U=e.arrow,W=e.popupMotion,V=e.maskMotion,Y=e.popupTransitionName,G=e.popupAnimation,X=e.maskTransitionName,Z=e.maskAnimation,q=e.className,K=e.getTriggerDOMNode,Q=Object(Xn.a)(e,wS),J=k||M||!1,$=Mr(O.useState(!1),2),tt=$[0],et=$[1];Hr((function(){et(ws())}),[]);var nt=O.useRef({}),rt=O.useContext(nS),ot=O.useMemo((function(){return{registerSubPopup:function(t,e){nt.current[t]=e,null===rt||void 0===rt||rt.registerSubPopup(t,e)}}}),[rt]),it=eo(),at=Mr(O.useState(null),2),st=at[0],ct=at[1],ut=O.useRef(null),lt=ss((function(t){ut.current=t,ao(t)&&st!==t&&ct(t),null===rt||void 0===rt||rt.registerSubPopup(it,t)})),ft=Mr(O.useState(null),2),ht=ft[0],dt=ft[1],pt=O.useRef(null),vt=ss((function(t){ao(t)&&ht!==t&&(dt(t),pt.current=t)})),gt=O.Children.only(i),mt=(null===gt||void 0===gt?void 0:gt.props)||{},yt={},bt=ss((function(t){var e,n,r=ht;return(null===r||void 0===r?void 0:r.contains(t))||(null===(e=Kx(r))||void 0===e?void 0:e.host)===t||t===r||(null===st||void 0===st?void 0:st.contains(t))||(null===(n=Kx(st))||void 0===n?void 0:n.host)===t||t===st||Object.values(nt.current).some((function(e){return(null===e||void 0===e?void 0:e.contains(t))||t===e}))})),_t=sS(o,W,G,Y),wt=sS(o,V,Z,X),xt=Mr(O.useState(f||!1),2),St=xt[0],Ct=xt[1],Ot=null!==l&&void 0!==l?l:St,kt=ss((function(t){void 0===l&&Ct(t)}));Hr((function(){Ct(l||!1)}),[l]);var Mt=O.useRef(Ot);Mt.current=Ot;var Et=O.useRef([]);Et.current=[];var jt=ss((function(t){var e;kt(t),(null!==(e=Et.current[Et.current.length-1])&&void 0!==e?e:Ot)!==t&&(Et.current.push(t),null===h||void 0===h||h(t))})),It=O.useRef(),At=function(){clearTimeout(It.current)},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;At(),0===e?jt(t):It.current=setTimeout((function(){jt(t)}),1e3*e)};O.useEffect((function(){return At}),[]);var Pt=Mr(O.useState(!1),2),Dt=Pt[0],Nt=Pt[1];Hr((function(t){t&&!Ot||Nt(!0)}),[Ot]);var Lt=Mr(O.useState(null),2),Rt=Lt[0],Bt=Lt[1],zt=Mr(O.useState([0,0]),2),Ft=zt[0],Ht=zt[1],Ut=function(t){Ht([t.clientX,t.clientY])},Wt=Mr(yS(Ot,st,z?Ft:ht,A,P,D,H),11),Vt=Wt[0],Yt=Wt[1],Gt=Wt[2],Xt=Wt[3],Zt=Wt[4],qt=Wt[5],Kt=Wt[6],Qt=Wt[7],Jt=Wt[8],$t=Wt[9],te=Wt[10],ee=Mr(oS(tt,s,c,u),2),ne=ee[0],re=ee[1],oe=ne.has("click"),ie=re.has("click")||re.has("contextMenu"),ae=ss((function(){Dt||te()}));bS(Ot,ht,st,ae,(function(){Mt.current&&z&&ie&&Tt(!1)})),Hr((function(){ae()}),[Ft,A]),Hr((function(){!Ot||null!==P&&void 0!==P&&P[A]||ae()}),[JSON.stringify(D)]);var se=O.useMemo((function(){var t=aS(P,o,$t,z);return C()(t,null===R||void 0===R?void 0:R($t))}),[$t,R,P,o,z]);O.useImperativeHandle(n,(function(){return{nativeElement:pt.current,popupElement:ut.current,forceAlign:ae}}));var ce=Mr(O.useState(0),2),ue=ce[0],le=ce[1],fe=Mr(O.useState(0),2),he=fe[0],de=fe[1],pe=function(){if(L&&ht){var t=ht.getBoundingClientRect();le(t.width),de(t.height)}};function ve(t,e,n,r){yt[t]=function(o){var i;null===r||void 0===r||r(o),Tt(e,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];null===(i=mt[t])||void 0===i||i.call.apply(i,[mt,o].concat(s))}}Hr((function(){Rt&&(te(),Rt(),Bt(null))}),[Rt]),(oe||ie)&&(yt.onClick=function(t){var e;Mt.current&&ie?Tt(!1):!Mt.current&&oe&&(Ut(t),Tt(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(e=mt.onClick)||void 0===e||e.call.apply(e,[mt,t].concat(r))}),_S(Ot,ie,ht,st,b,w,bt,Tt);var ge,me,ye=ne.has("hover"),be=re.has("hover");ye&&(ve("onMouseEnter",!0,p,(function(t){Ut(t)})),ve("onPointerEnter",!0,p,(function(t){Ut(t)})),ge=function(t){(Ot||Dt)&&null!==st&&void 0!==st&&st.contains(t.target)&&Tt(!0,p)},z&&(yt.onMouseMove=function(t){var e;null===(e=mt.onMouseMove)||void 0===e||e.call(mt,t)})),be&&(ve("onMouseLeave",!1,g),ve("onPointerLeave",!1,g),me=function(){Tt(!1,g)}),ne.has("focus")&&ve("onFocus",!0,m),re.has("focus")&&ve("onBlur",!1,y),ne.has("contextMenu")&&(yt.onContextMenu=function(t){var e;Mt.current&&re.has("contextMenu")?Tt(!1):(Ut(t),Tt(!0)),t.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(e=mt.onContextMenu)||void 0===e||e.call.apply(e,[mt,t].concat(r))}),q&&(yt.className=C()(mt.className,q));var _e=Object(Gn.a)(Object(Gn.a)({},mt),yt),we={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(t){Q[t]&&(we[t]=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(e=_e[t])||void 0===e||e.call.apply(e,[_e].concat(r)),Q[t].apply(Q,r)})}));var xe=O.cloneElement(gt,Object(Gn.a)(Object(Gn.a)({},_e),we)),Se={x:qt,y:Kt},Ce=U?Object(Gn.a)({},!0!==U?U:{}):null;return O.createElement(O.Fragment,null,O.createElement(Zx,{disabled:!Ot,ref:vt,onResize:function(){pe(),ae()}},O.createElement(eS,{getTriggerDOMNode:K},xe)),O.createElement(nS.Provider,{value:ot},O.createElement(tS,{portal:t,ref:lt,prefixCls:o,popup:E,className:C()(j,se),style:I,target:ht,onMouseEnter:ge,onMouseLeave:me,onPointerEnter:ge,zIndex:N,open:Ot,keepDom:Dt,fresh:B,onClick:F,mask:b,motion:_t,maskMotion:wt,onVisibleChanged:function(t){Nt(!1),te(),null===d||void 0===d||d(t)},onPrepare:function(){return new Promise((function(t){pe(),Bt((function(){return t}))}))},forceRender:S,autoDestroy:J,getPopupContainer:x,align:$t,arrow:Ce,arrowPos:Se,ready:Vt,offsetX:Yt,offsetY:Gt,offsetR:Xt,offsetB:Zt,onAlign:ae,stretch:L,targetWidth:ue/Qt,targetHeight:he/Jt})))}));return e}(Kr),SS=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],CS=function(t,e){var n=t.prefixCls,r=(t.disabled,t.visible),o=t.children,i=t.popupElement,a=t.animation,s=t.transitionName,c=t.dropdownStyle,u=t.dropdownClassName,l=t.direction,f=void 0===l?"ltr":l,h=t.placement,d=t.builtinPlacements,p=t.dropdownMatchSelectWidth,v=t.dropdownRender,g=t.dropdownAlign,m=t.getPopupContainer,y=t.empty,b=t.getTriggerDOMNode,_=t.onPopupVisibleChange,w=t.onPopupMouseEnter,x=Object(Xn.a)(t,SS),S="".concat(n,"-dropdown"),k=i;v&&(k=v(i));var M=O.useMemo((function(){return d||function(t){var e=!0===t?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}}(p)}),[d,p]),E=a?"".concat(S,"-").concat(a):s,j="number"===typeof p,I=O.useMemo((function(){return j?null:!1===p?"minWidth":"width"}),[p,j]),A=c;j&&(A=Object(Gn.a)(Object(Gn.a)({},A),{},{width:p}));var T=O.useRef(null);return O.useImperativeHandle(e,(function(){return{getPopupElement:function(){var t;return null===(t=T.current)||void 0===t?void 0:t.popupElement}}})),O.createElement(xS,Object(Ln.a)({},x,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:h||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:M,prefixCls:S,popupTransitionName:E,popup:O.createElement("div",{onMouseEnter:w},k),ref:T,stretch:I,popupAlign:g,popupVisible:r,getPopupContainer:m,popupClassName:C()(u,Object(Yn.a)({},"".concat(S,"-empty"),y)),popupStyle:A,getTriggerDOMNode:b,onPopupVisibleChange:_}),o)};var OS=O.forwardRef(CS),kS=n(348);function MS(t,e){var n,r=t.key;return"value"in t&&(n=t.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(e)}function ES(t){return"undefined"!==typeof t&&!Number.isNaN(t)}function jS(t,e){var n=t||{},r=n.label||(e?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function IS(t){var e=Object(Gn.a)({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Object(ir.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var AS=O.createContext(null);function TS(t){var e=t.visible,n=t.values;if(!e)return null;return O.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(t){var e=t.label,n=t.value;return["number","string"].includes(Object(Zn.a)(e))?e:n})).join(", ")),n.length>50?", ...":null)}var PS=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],DS=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],NS=function(t){return"tags"===t||"multiple"===t};var LS=O.forwardRef((function(t,e){var n,r=t.id,o=t.prefixCls,i=t.className,a=t.showSearch,s=t.tagRender,c=t.direction,u=t.omitDomProps,l=t.displayValues,f=t.onDisplayValuesChange,h=t.emptyOptions,d=t.notFoundContent,p=void 0===d?"Not Found":d,v=t.onClear,g=t.mode,m=t.disabled,y=t.loading,b=t.getInputElement,_=t.getRawInputElement,w=t.open,x=t.defaultOpen,S=t.onDropdownVisibleChange,M=t.activeValue,E=t.onActiveValueChange,j=t.activeDescendantId,I=t.searchValue,A=t.autoClearSearchValue,T=t.onSearch,P=t.onSearchSplit,D=t.tokenSeparators,N=t.allowClear,L=t.suffixIcon,R=t.clearIcon,B=t.OptionList,z=t.animation,F=t.transitionName,H=t.dropdownStyle,U=t.dropdownClassName,W=t.dropdownMatchSelectWidth,V=t.dropdownRender,Y=t.dropdownAlign,G=t.placement,X=t.builtinPlacements,Z=t.getPopupContainer,q=t.showAction,K=void 0===q?[]:q,Q=t.onFocus,J=t.onBlur,$=t.onKeyUp,tt=t.onKeyDown,et=t.onMouseDown,nt=Object(Xn.a)(t,PS),rt=NS(g),ot=(void 0!==a?a:rt)||"combobox"===g,it=Object(Gn.a)({},nt);DS.forEach((function(t){delete it[t]})),null===u||void 0===u||u.forEach((function(t){delete it[t]}));var at=Mr(O.useState(!1),2),st=at[0],ct=at[1];O.useEffect((function(){ct(ws())}),[]);var ut=O.useRef(null),lt=O.useRef(null),ft=O.useRef(null),ht=O.useRef(null),dt=O.useRef(null),pt=O.useRef(!1),vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=O.useState(!1),n=Mr(e,2),r=n[0],o=n[1],i=O.useRef(null),a=function(){window.clearTimeout(i.current)};O.useEffect((function(){return a}),[]);var s=function(e,n){a(),i.current=window.setTimeout((function(){o(e),n&&n()}),t)};return[r,s,a]}(),gt=Mr(vt,3),mt=gt[0],yt=gt[1],bt=gt[2];O.useImperativeHandle(e,(function(){var t,e;return{focus:null===(t=ht.current)||void 0===t?void 0:t.focus,blur:null===(e=ht.current)||void 0===e?void 0:e.blur,scrollTo:function(t){var e;return null===(e=dt.current)||void 0===e?void 0:e.scrollTo(t)}}}));var _t=O.useMemo((function(){var t;if("combobox"!==g)return I;var e=null===(t=l[0])||void 0===t?void 0:t.value;return"string"===typeof e||"number"===typeof e?String(e):""}),[I,g,l]),wt="combobox"===g&&"function"===typeof b&&b()||null,xt="function"===typeof _&&_(),St=Nr(lt,null===xt||void 0===xt||null===(n=xt.props)||void 0===n?void 0:n.ref),Ct=Mr(O.useState(!1),2),Ot=Ct[0],kt=Ct[1];Hr((function(){kt(!0)}),[]);var Mt=Mr(us(!1,{defaultValue:x,value:w}),2),Et=Mt[0],jt=Mt[1],It=!!Ot&&Et,At=!p&&h;(m||At&&It&&"combobox"===g)&&(It=!1);var Tt=!At&&It,Pt=O.useCallback((function(t){var e=void 0!==t?t:!It;m||(jt(e),It!==e&&(null===S||void 0===S||S(e)))}),[m,It,jt,S]),Dt=O.useMemo((function(){return(D||[]).some((function(t){return["\n","\r\n"].includes(t)}))}),[D]),Nt=O.useContext(AS)||{},Lt=Nt.maxCount,Rt=Nt.rawValues,Bt=function(t,e,n){if(!(rt&&ES(Lt)&&(null===Rt||void 0===Rt?void 0:Rt.size)>=Lt)){var r=!0,o=t;null===E||void 0===E||E(null);var i=function(t,e,n){if(!e||!e.length)return null;var r=!1,o=function t(e,n){var o=Object(kS.a)(n),i=o[0],a=o.slice(1);if(!i)return[e];var s=e.split(i);return r=r||s.length>1,s.reduce((function(e,n){return[].concat(er(e),er(t(n,a)))}),[]).filter(Boolean)}(t,e);return r?"undefined"!==typeof n?o.slice(0,n):o:null}(t,D,ES(Lt)?Lt-Rt.size:void 0),a=n?null:i;return"combobox"!==g&&a&&(o="",null===P||void 0===P||P(a),Pt(!1),r=!1),T&&_t!==o&&T(o,{source:e?"typing":"effect"}),r}};O.useEffect((function(){It||rt||"combobox"===g||Bt("",!1,!1)}),[It]),O.useEffect((function(){Et&&m&&jt(!1),m&&!pt.current&&yt(!1)}),[m]);var zt=Mr(tx(),2),Ft=zt[0],Ht=zt[1],Ut=O.useRef(!1),Wt=[];O.useEffect((function(){return function(){Wt.forEach((function(t){return clearTimeout(t)})),Wt.splice(0,Wt.length)}}),[]);var Vt,Yt=Mr(O.useState({}),2)[1];xt&&(Vt=function(t){Pt(t)}),function(t,e,n,r){var o=O.useRef(null);o.current={open:e,triggerOpen:n,customizedTrigger:r},O.useEffect((function(){function e(e){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=e.target;r.shadowRoot&&e.composed&&(r=e.composedPath()[0]||r),o.current.open&&t().filter((function(t){return t})).every((function(t){return!t.contains(r)&&t!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var t;return[ut.current,null===(t=ft.current)||void 0===t?void 0:t.getPopupElement()]}),Tt,Pt,!!xt);var Gt,Xt=O.useMemo((function(){return Object(Gn.a)(Object(Gn.a)({},t),{},{notFoundContent:p,open:It,triggerOpen:Tt,id:r,showSearch:ot,multiple:rt,toggleOpen:Pt})}),[t,p,Tt,It,r,ot,rt,Pt]),Zt=!!L||y;Zt&&(Gt=O.createElement(Jw,{className:C()("".concat(o,"-arrow"),Object(Yn.a)({},"".concat(o,"-arrow-loading"),y)),customizeIcon:L,customizeIconProps:{loading:y,searchValue:_t,open:It,focused:mt,showSearch:ot}}));var qt,Kt=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=k.a.useMemo((function(){return"object"===Object(Zn.a)(r)?r.clearIcon:o||void 0}),[r,o]),u=k.a.useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===s&&""===a)}),[r,i,n.length,a,s]);return{allowClear:u,clearIcon:k.a.createElement(Jw,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:c},"\xd7")}}(o,(function(){var t;null===v||void 0===v||v(),null===(t=ht.current)||void 0===t||t.focus(),f([],{type:"clear",values:l}),Bt("",!1,!1)}),l,N,R,m,_t,g),Qt=Kt.allowClear,Jt=Kt.clearIcon,$t=O.createElement(B,{ref:dt}),te=C()(o,i,Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)({},"".concat(o,"-focused"),mt),"".concat(o,"-multiple"),rt),"".concat(o,"-single"),!rt),"".concat(o,"-allow-clear"),N),"".concat(o,"-show-arrow"),Zt),"".concat(o,"-disabled"),m),"".concat(o,"-loading"),y),"".concat(o,"-open"),It),"".concat(o,"-customize-input"),wt),"".concat(o,"-show-search"),ot)),ee=O.createElement(OS,{ref:ft,disabled:m,prefixCls:o,visible:Tt,popupElement:$t,animation:z,transitionName:F,dropdownStyle:H,dropdownClassName:U,direction:c,dropdownMatchSelectWidth:W,dropdownRender:V,dropdownAlign:Y,placement:G,builtinPlacements:X,getPopupContainer:Z,empty:h,getTriggerDOMNode:function(){return lt.current},onPopupVisibleChange:Vt,onPopupMouseEnter:function(){Yt({})}},xt?O.cloneElement(xt,{ref:St}):O.createElement(zx,Object(Ln.a)({},t,{domRef:lt,prefixCls:o,inputElement:wt,ref:ht,id:r,showSearch:ot,autoClearSearchValue:A,mode:g,activeDescendantId:j,tagRender:s,values:l,open:It,onToggleOpen:Pt,activeValue:M,searchValue:_t,onSearch:Bt,onSearchSubmit:function(t){t&&t.trim()&&T(t,{source:"submit"})},onRemove:function(t){var e=l.filter((function(e){return e!==t}));f(e,{type:"remove",values:[t]})},tokenWithEnter:Dt})));return qt=xt?ee:O.createElement("div",Object(Ln.a)({className:te},it,{ref:ut,onMouseDown:function(t){var e,n=t.target,r=null===(e=ft.current)||void 0===e?void 0:e.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var t,e=Wt.indexOf(o);(-1!==e&&Wt.splice(e,1),bt(),st||r.contains(document.activeElement))||(null===(t=ht.current)||void 0===t||t.focus())}));Wt.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];null===et||void 0===et||et.apply(void 0,[t].concat(a))},onKeyDown:function(t){var e,n=Ft(),r=t.which;if(r===ro.ENTER&&("combobox"!==g&&t.preventDefault(),It||Pt(!0)),Ht(!!_t),r===ro.BACKSPACE&&!n&&rt&&!_t&&l.length){for(var o=er(l),i=null,a=o.length-1;a>=0;a-=1){var s=o[a];if(!s.disabled){o.splice(a,1),i=s;break}}i&&f(o,{type:"remove",values:[i]})}for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];It&&(null===(e=dt.current)||void 0===e||e.onKeyDown.apply(e,[t].concat(u)));null===tt||void 0===tt||tt.apply(void 0,[t].concat(u))},onKeyUp:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o;It&&(null===(o=dt.current)||void 0===o||o.onKeyUp.apply(o,[t].concat(n)));null===$||void 0===$||$.apply(void 0,[t].concat(n))},onFocus:function(){yt(!0),m||(Q&&!Ut.current&&Q.apply(void 0,arguments),K.includes("focus")&&Pt(!0)),Ut.current=!0},onBlur:function(){pt.current=!0,yt(!1,(function(){Ut.current=!1,pt.current=!1,Pt(!1)})),m||(_t&&("tags"===g?T(_t,{source:"submit"}):"multiple"===g&&T("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),O.createElement(TS,{visible:mt&&!It,values:l}),ee,Gt,Qt&&Jt),O.createElement($w.Provider,{value:Xt},qt)})),RS=function(){return null};RS.isSelectOptGroup=!0;var BS=RS,zS=function(){return null};zS.isSelectOption=!0;var FS=zS;var HS=O.createContext(null);var US=new Map;var WS=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=US.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var VS=function(t){Object(Fn.a)(n,t);var e=Vn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O.Component);function YS(t,e){var n=t.children,r=t.disabled,o=O.useRef(null),i=O.useRef(null),a=O.useContext(HS),s="function"===typeof n,c=s?n(o):n,u=O.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&O.isValidElement(c)&&Lr(c),f=l?c.ref:null,h=Nr(f,o),d=function(){var t;return so(o.current)||(o.current&&"object"===Object(Zn.a)(o.current)?so(null===(t=o.current)||void 0===t?void 0:t.nativeElement):null)||so(i.current)};O.useImperativeHandle(e,(function(){return d()}));var p=O.useRef(t);p.current=t;var v=O.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,o=t.getBoundingClientRect(),i=o.width,s=o.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(i),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(i)?i:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return O.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,US.has(t)||(US.set(t,new Set),WS.observe(t)),US.get(t).add(e)),function(){return function(t,e){US.has(t)&&(US.get(t).delete(e),US.get(t).size||(WS.unobserve(t),US.delete(t)))}(n,v)}}),[o.current,r]),O.createElement(VS,{ref:i},l?O.cloneElement(c,{ref:h}):c)}var GS=O.forwardRef(YS);function XS(t,e){var n=t.children;return("function"===typeof n?[n]:Ka(n)).map((function(n,r){var o=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return O.createElement(GS,Object(Ln.a)({},t,{key:o,ref:0===r?e:void 0}),n)}))}var ZS=O.forwardRef(XS);ZS.Collection=function(t){var e=t.children,n=t.onBatchResize,r=O.useRef(0),o=O.useRef([]),i=O.useContext(HS),a=O.useCallback((function(t,e,a){r.current+=1;var s=r.current;o.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===i||void 0===i||i(t,e,a)}),[n,i]);return O.createElement(HS.Provider,{value:a},e)};var qS=ZS;"undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;var KS=O.forwardRef((function(t,e){var n=t.height,r=t.offsetY,o=t.offsetX,i=t.children,a=t.prefixCls,s=t.onInnerResize,c=t.innerProps,u=t.rtl,l=t.extra,f={},h={display:"flex",flexDirection:"column"};return void 0!==r&&(f={height:n,position:"relative",overflow:"hidden"},h=Object(Gn.a)(Object(Gn.a)({},h),{},Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),O.createElement("div",{style:f},O.createElement(qS,{onResize:function(t){t.offsetHeight&&s&&s()}},O.createElement("div",Object(Ln.a)({style:h,className:C()(Object(Yn.a)({},"".concat(a,"-holder-inner"),a)),ref:e},c),i,l)))}));KS.displayName="Filler";var QS=KS;function JS(t){var e=t.children,n=t.setRef,r=O.useCallback((function(t){n(t)}),[]);return O.cloneElement(e,{ref:r})}function $S(t,e,n){var r=Mr(O.useState(t),2),o=r[0],i=r[1],a=Mr(O.useState(null),2),s=a[0],c=a[1];return O.useEffect((function(){var r=function(t,e,n){var r,o,i=t.length,a=e.length;if(0===i&&0===a)return null;i<a?(r=t,o=e):(r=e,o=t);var s={__EMPTY_ITEM__:!0};function c(t){return void 0!==t?n(t):s}for(var u=null,l=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var h=c(r[f]);if(h!==c(o[f])){u=f,l=l||h!==c(o[f+1]);break}}return null===u?null:{index:u,multiple:l}}(o||[],t||[],e);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),c(t[r.index])),i(t)}),[t]),[s]}var tC="object"===("undefined"===typeof navigator?"undefined":Object(Zn.a)(navigator))&&/Firefox/i.test(navigator.userAgent),eC=function(t,e){var n=Object(O.useRef)(!1),r=Object(O.useRef)(null);function o(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var i=Object(O.useRef)({top:t,bottom:e});return i.current.top=t,i.current.bottom=e,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t<0&&i.current.top||t>0&&i.current.bottom;return e&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||o(),!n.current&&a}};function nC(t,e,n,r,o){var i=Object(O.useRef)(0),a=Object(O.useRef)(null),s=Object(O.useRef)(null),c=Object(O.useRef)(!1),u=eC(e,n);var l=Object(O.useRef)(null),f=Object(O.useRef)(null);return[function(e){if(t){Ao.cancel(f.current),f.current=Ao((function(){l.current=null}),2);var n=e.deltaX,h=e.deltaY,d=e.shiftKey,p=n,v=h;("sx"===l.current||!l.current&&d&&h&&!n)&&(p=h,v=0,l.current="sx");var g=Math.abs(p),m=Math.abs(v);null===l.current&&(l.current=r&&g>m?"x":"y"),"y"===l.current?function(t,e){Ao.cancel(a.current),i.current+=e,s.current=e,u(e)||(tC||t.preventDefault(),a.current=Ao((function(){var t=c.current?10:1;o(i.current*t),i.current=0})))}(e,v):function(t,e){o(e,!0),tC||t.preventDefault()}(e,p)}},function(e){t&&(c.current=e.detail===s.current)}]}var rC=function(){function t(){Object(Rn.a)(this,t),Object(Yn.a)(this,"maps",void 0),Object(Yn.a)(this,"id",0),this.maps=Object.create(null)}return Object(Bn.a)(t,[{key:"set",value:function(t,e){this.maps[t]=e,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),t}();function oC(t,e){return("touches"in t?t.touches[0]:t)[e?"pageX":"pageY"]}var iC=O.forwardRef((function(t,e){var n=t.prefixCls,r=t.rtl,o=t.scrollOffset,i=t.scrollRange,a=t.onStartMove,s=t.onStopMove,c=t.onScroll,u=t.horizontal,l=t.spinSize,f=t.containerSize,h=t.style,d=t.thumbStyle,p=Mr(O.useState(!1),2),v=p[0],g=p[1],m=Mr(O.useState(null),2),y=m[0],b=m[1],_=Mr(O.useState(null),2),w=_[0],x=_[1],S=!r,k=O.useRef(),M=O.useRef(),E=Mr(O.useState(!1),2),j=E[0],I=E[1],A=O.useRef(),T=function(){clearTimeout(A.current),I(!0),A.current=setTimeout((function(){I(!1)}),3e3)},P=i-f||0,D=f-l||0,N=O.useMemo((function(){return 0===o||0===P?0:o/P*D}),[o,P,D]),L=O.useRef({top:N,dragging:v,pageY:y,startTop:w});L.current={top:N,dragging:v,pageY:y,startTop:w};var R=function(t){g(!0),b(oC(t,u)),x(L.current.top),a(),t.stopPropagation(),t.preventDefault()};O.useEffect((function(){var t=function(t){t.preventDefault()},e=k.current,n=M.current;return e.addEventListener("touchstart",t),n.addEventListener("touchstart",R),function(){e.removeEventListener("touchstart",t),n.removeEventListener("touchstart",R)}}),[]);var B=O.useRef();B.current=P;var z=O.useRef();z.current=D,O.useEffect((function(){if(v){var t,e=function(e){var n=L.current,r=n.dragging,o=n.pageY,i=n.startTop;if(Ao.cancel(t),r){var a=oC(e,u)-o,s=i;!S&&u?s-=a:s+=a;var l=B.current,f=z.current,h=f?s/f:0,d=Math.ceil(h*l);d=Math.max(d,0),d=Math.min(d,l),t=Ao((function(){c(d,u)}))}},n=function(){g(!1),s()};return window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Ao.cancel(t)}}}),[v]),O.useEffect((function(){T()}),[o]),O.useImperativeHandle(e,(function(){return{delayHidden:T}}));var F="".concat(n,"-scrollbar"),H={position:"absolute",visibility:j?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(H.height=8,H.left=0,H.right=0,H.bottom=0,U.height="100%",U.width=l,S?U.left=N:U.right=N):(H.width=8,H.top=0,H.bottom=0,S?H.right=0:H.left=0,U.width="100%",U.height=l,U.top=N),O.createElement("div",{ref:k,className:C()(F,Object(Yn.a)(Object(Yn.a)(Object(Yn.a)({},"".concat(F,"-horizontal"),u),"".concat(F,"-vertical"),!u),"".concat(F,"-visible"),j)),style:Object(Gn.a)(Object(Gn.a)({},H),h),onMouseDown:function(t){t.stopPropagation(),t.preventDefault()},onMouseMove:T},O.createElement("div",{ref:M,className:C()("".concat(F,"-thumb"),Object(Yn.a)({},"".concat(F,"-thumb-moving"),v)),style:Object(Gn.a)(Object(Gn.a)({},U),d),onMouseDown:R}))}));function aC(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,20),Math.floor(n)}var sC=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],cC=[],uC={overflowY:"auto",overflowAnchor:"none"};function lC(t,e){var n=t.prefixCls,r=void 0===n?"rc-virtual-list":n,o=t.className,i=t.height,a=t.itemHeight,s=t.fullHeight,c=void 0===s||s,u=t.style,l=t.data,f=t.children,h=t.itemKey,d=t.virtual,p=t.direction,v=t.scrollWidth,g=t.component,m=void 0===g?"div":g,y=t.onScroll,b=t.onVirtualScroll,_=t.onVisibleChange,w=t.innerProps,x=t.extraRender,S=t.styles,k=Object(Xn.a)(t,sC),M=O.useCallback((function(t){return"function"===typeof h?h(t):null===t||void 0===t?void 0:t[h]}),[h]),E=function(t,e,n){var r=Mr(O.useState(0),2),o=r[0],i=r[1],a=Object(O.useRef)(new Map),s=Object(O.useRef)(new rC),c=Object(O.useRef)();function u(){Ao.cancel(c.current)}function l(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u();var e=function(){a.current.forEach((function(t,e){if(t&&t.offsetParent){var n=so(t),r=n.offsetHeight;s.current.get(e)!==r&&s.current.set(e,n.offsetHeight)}})),i((function(t){return t+1}))};t?e():c.current=Ao(e)}return Object(O.useEffect)((function(){return u}),[]),[function(r,o){var i=t(r),s=a.current.get(i);o?(a.current.set(i,o),l()):a.current.delete(i),!s!==!o&&(o?null===e||void 0===e||e(r):null===n||void 0===n||n(r))},l,s.current,o]}(M,null,null),j=Mr(E,4),I=j[0],A=j[1],T=j[2],P=j[3],D=!(!1===d||!i||!a),N=O.useMemo((function(){return Object.values(T.maps).reduce((function(t,e){return t+e}),0)}),[T.id,T.maps]),L=D&&l&&(Math.max(a*l.length,N)>i||!!v),R="rtl"===p,B=C()(r,Object(Yn.a)({},"".concat(r,"-rtl"),R),o),z=l||cC,F=Object(O.useRef)(),H=Object(O.useRef)(),U=Mr(Object(O.useState)(0),2),W=U[0],V=U[1],Y=Mr(Object(O.useState)(0),2),G=Y[0],X=Y[1],Z=Mr(Object(O.useState)(!1),2),q=Z[0],K=Z[1],Q=function(){K(!0)},J=function(){K(!1)},$={getKey:M};function tt(t){V((function(e){var n=function(t){var e=t;Number.isNaN(mt.current)||(e=Math.min(e,mt.current));return e=Math.max(e,0)}("function"===typeof t?t(e):t);return F.current.scrollTop=n,n}))}var et=Object(O.useRef)({start:0,end:z.length}),nt=Object(O.useRef)(),rt=Mr($S(z,M),1)[0];nt.current=rt;var ot=O.useMemo((function(){if(!D)return{scrollHeight:void 0,start:0,end:z.length-1,offset:void 0};var t;if(!L)return{scrollHeight:(null===(t=H.current)||void 0===t?void 0:t.offsetHeight)||0,start:0,end:z.length-1,offset:void 0};for(var e,n,r,o=0,s=z.length,c=0;c<s;c+=1){var u=z[c],l=M(u),f=T.get(l),h=o+(void 0===f?a:f);h>=W&&void 0===e&&(e=c,n=o),h>W+i&&void 0===r&&(r=c),o=h}return void 0===e&&(e=0,n=0,r=Math.ceil(i/a)),void 0===r&&(r=z.length-1),{scrollHeight:o,start:e,end:r=Math.min(r+1,z.length-1),offset:n}}),[L,D,W,z,P,i]),it=ot.scrollHeight,at=ot.start,st=ot.end,ct=ot.offset;et.current.start=at,et.current.end=st;var ut=Mr(O.useState({width:0,height:i}),2),lt=ut[0],ft=ut[1],ht=Object(O.useRef)(),dt=Object(O.useRef)(),pt=O.useMemo((function(){return aC(lt.width,v)}),[lt.width,v]),vt=O.useMemo((function(){return aC(lt.height,it)}),[lt.height,it]),gt=it-i,mt=Object(O.useRef)(gt);mt.current=gt;var yt=W<=0,bt=W>=gt,_t=eC(yt,bt),wt=function(){return{x:R?-G:G,y:W}},xt=Object(O.useRef)(wt()),St=ss((function(t){if(b){var e=Object(Gn.a)(Object(Gn.a)({},wt()),t);xt.current.x===e.x&&xt.current.y===e.y||(b(e),xt.current=e)}}));function Ct(t,e){var n=t;e?(Object(Er.flushSync)((function(){X(n)})),St()):tt(n)}var Ot=function(t){var e=t,n=v?v-lt.width:0;return e=Math.max(e,0),e=Math.min(e,n)},kt=ss((function(t,e){e?(Object(Er.flushSync)((function(){X((function(e){return Ot(e+(R?-t:t))}))})),St()):tt((function(e){return e+t}))})),Mt=Mr(nC(D,yt,bt,!!v,kt),2),Et=Mt[0],jt=Mt[1];!function(t,e,n){var r,o=Object(O.useRef)(!1),i=Object(O.useRef)(0),a=Object(O.useRef)(null),s=Object(O.useRef)(null),c=function(t){if(o.current){var e=Math.ceil(t.touches[0].pageY),r=i.current-e;i.current=e,n(r)&&t.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=14/15,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},u=function(){o.current=!1,r()},l=function(t){r(),1!==t.touches.length||o.current||(o.current=!0,i.current=Math.ceil(t.touches[0].pageY),a.current=t.target,a.current.addEventListener("touchmove",c),a.current.addEventListener("touchend",u))};r=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",u))},Hr((function(){return t&&e.current.addEventListener("touchstart",l),function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("touchstart",l),r(),clearInterval(s.current)}}),[t])}(D,F,(function(t,e){return!_t(t,e)&&(Et({preventDefault:function(){},deltaY:t}),!0)})),Hr((function(){function t(t){D&&t.preventDefault()}var e=F.current;return e.addEventListener("wheel",Et),e.addEventListener("DOMMouseScroll",jt),e.addEventListener("MozMousePixelScroll",t),function(){e.removeEventListener("wheel",Et),e.removeEventListener("DOMMouseScroll",jt),e.removeEventListener("MozMousePixelScroll",t)}}),[D]),Hr((function(){if(v){var t=Ot(G);X(t),St({x:t})}}),[lt.width,v]);var It=function(){var t,e;null===(t=ht.current)||void 0===t||t.delayHidden(),null===(e=dt.current)||void 0===e||e.delayHidden()},At=function(t,e,n,r,o,i,a,s){var c=O.useRef(),u=Mr(O.useState(null),2),l=u[0],f=u[1];return Hr((function(){if(l&&l.times<10){if(!t.current)return void f((function(t){return Object(Gn.a)({},t)}));i();var s=l.targetAlign,c=l.originAlign,u=l.index,h=l.offset,d=t.current.clientHeight,p=!1,v=s,g=null;if(d){for(var m=s||c,y=0,b=0,_=0,w=Math.min(e.length-1,u),x=0;x<=w;x+=1){var S=o(e[x]);b=y;var C=n.get(S);y=_=b+(void 0===C?r:C)}for(var O="top"===m?h:d-h,k=w;k>=0;k-=1){var M=o(e[k]),E=n.get(M);if(void 0===E){p=!0;break}if((O-=E)<=0)break}switch(m){case"top":g=b-h;break;case"bottom":g=_-d+h;break;default:var j=t.current.scrollTop;b<j?v="top":_>j+d&&(v="bottom")}null!==g&&a(g),g!==l.lastTop&&(p=!0)}p&&f(Object(Gn.a)(Object(Gn.a)({},l),{},{times:l.times+1,targetAlign:v,lastTop:g}))}else 0}),[l,t.current]),function(t){if(null!==t&&void 0!==t){if(Ao.cancel(c.current),"number"===typeof t)a(t);else if(t&&"object"===Object(Zn.a)(t)){var n,r=t.align;n="index"in t?t.index:e.findIndex((function(e){return o(e)===t.key}));var i=t.offset;f({times:0,index:n,offset:void 0===i?0:i,originAlign:r})}}else s()}}(F,z,T,a,M,(function(){return A(!0)}),tt,It);O.useImperativeHandle(e,(function(){return{getScrollInfo:wt,scrollTo:function(t){var e;(e=t)&&"object"===Object(Zn.a)(e)&&("left"in e||"top"in e)?(void 0!==t.left&&X(Ot(t.left)),At(t.top)):At(t)}}})),Hr((function(){if(_){var t=z.slice(at,st+1);_(t,z)}}),[at,st,z]);var Tt=function(t,e,n,r){var o=Mr(O.useMemo((function(){return[new Map,[]]}),[t,n.id,r]),2),i=o[0],a=o[1];return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,c=i.get(o),u=i.get(s);if(void 0===c||void 0===u)for(var l=t.length,f=a.length;f<l;f+=1){var h,d=t[f],p=e(d);i.set(p,f);var v=null!==(h=n.get(p))&&void 0!==h?h:r;if(a[f]=(a[f-1]||0)+v,p===o&&(c=f),p===s&&(u=f),void 0!==c&&void 0!==u)break}return{top:a[c-1]||0,bottom:a[u]}}}(z,M,T,a),Pt=null===x||void 0===x?void 0:x({start:at,end:st,virtual:L,offsetX:G,offsetY:ct,rtl:R,getSize:Tt}),Dt=function(t,e,n,r,o,i,a){var s=a.getKey;return t.slice(e,n+1).map((function(t,n){var a=i(t,e+n,{style:{width:r}}),c=s(t);return O.createElement(JS,{key:c,setRef:function(e){return o(t,e)}},a)}))}(z,at,st,v,I,f,$),Nt=null;i&&(Nt=Object(Gn.a)(Object(Yn.a)({},c?"height":"maxHeight",i),uC),D&&(Nt.overflowY="hidden",v&&(Nt.overflowX="hidden"),q&&(Nt.pointerEvents="none")));var Lt={};return R&&(Lt.dir="rtl"),O.createElement("div",Object(Ln.a)({style:Object(Gn.a)(Object(Gn.a)({},u),{},{position:"relative"}),className:B},Lt,k),O.createElement(qS,{onResize:function(t){ft({width:t.width||t.offsetWidth,height:t.height||t.offsetHeight})}},O.createElement(m,{className:"".concat(r,"-holder"),style:Nt,ref:F,onScroll:function(t){var e=t.currentTarget.scrollTop;e!==W&&tt(e),null===y||void 0===y||y(t),St()},onMouseEnter:It},O.createElement(QS,{prefixCls:r,height:it,offsetX:G,offsetY:ct,scrollWidth:v,onInnerResize:A,ref:H,innerProps:w,rtl:R,extra:Pt},Dt))),L&&it>i&&O.createElement(iC,{ref:ht,prefixCls:r,scrollOffset:W,scrollRange:it,rtl:R,onScroll:Ct,onStartMove:Q,onStopMove:J,spinSize:vt,containerSize:lt.height,style:null===S||void 0===S?void 0:S.verticalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.verticalScrollBarThumb}),L&&v>lt.width&&O.createElement(iC,{ref:dt,prefixCls:r,scrollOffset:G,scrollRange:v,rtl:R,onScroll:Ct,onStartMove:Q,onStopMove:J,spinSize:pt,containerSize:lt.width,horizontal:!0,style:null===S||void 0===S?void 0:S.horizontalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.horizontalScrollBarThumb}))}var fC=O.forwardRef(lC);fC.displayName="List";var hC=fC;var dC=["disabled","title","children","style","className"];function pC(t){return"string"===typeof t||"number"===typeof t}var vC=function(t,e){var n=O.useContext($w),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,s=n.mode,c=n.searchValue,u=n.toggleOpen,l=n.notFoundContent,f=n.onPopupScroll,h=O.useContext(AS),d=h.maxCount,p=h.flattenOptions,v=h.onActiveValue,g=h.defaultActiveFirstOption,m=h.onSelect,y=h.menuItemSelectedIcon,b=h.rawValues,_=h.fieldNames,w=h.virtual,x=h.direction,S=h.listHeight,k=h.listItemHeight,M=h.optionRender,E="".concat(r,"-item"),j=Tr((function(){return p}),[i,p],(function(t,e){return e[0]&&t[1]!==e[1]})),I=O.useRef(null),A=O.useMemo((function(){return a&&ES(d)&&(null===b||void 0===b?void 0:b.size)>=d}),[a,d,null===b||void 0===b?void 0:b.size]),T=function(t){t.preventDefault()},P=function(t){var e;null===(e=I.current)||void 0===e||e.scrollTo("number"===typeof t?{index:t}:t)},D=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=j.length,r=0;r<n;r+=1){var o=(t+r*e+n)%n,i=j[o]||{},a=i.group,s=i.data;if(!a&&(null===s||void 0===s||!s.disabled)&&!A)return o}return-1},N=Mr(O.useState((function(){return D(0)})),2),L=N[0],R=N[1],B=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R(t);var n={source:e?"keyboard":"mouse"},r=j[t];r?v(r.value,t,n):v(null,-1,n)};Object(O.useEffect)((function(){B(!1!==g?D(0):-1)}),[j.length,c]);var z=O.useCallback((function(t){return b.has(t)&&"combobox"!==s}),[s,er(b).toString(),b.size]);Object(O.useEffect)((function(){var t,e=setTimeout((function(){if(!a&&i&&1===b.size){var t=Array.from(b)[0],e=j.findIndex((function(e){return e.data.value===t}));-1!==e&&(B(e),P(e))}}));i&&(null===(t=I.current)||void 0===t||t.scrollTo(void 0));return function(){return clearTimeout(e)}}),[i,c]);var F=function(t){void 0!==t&&m(t,{selected:!b.has(t)}),a||u(!1)};if(O.useImperativeHandle(e,(function(){return{onKeyDown:function(t){var e=t.which,n=t.ctrlKey;switch(e){case ro.N:case ro.P:case ro.UP:case ro.DOWN:var r=0;if(e===ro.UP?r=-1:e===ro.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(e===ro.N?r=1:e===ro.P&&(r=-1)),0!==r){var o=D(L+r,r);P(o),B(o,!0)}break;case ro.ENTER:var a,s=j[L];!s||null!==s&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.disabled||A?F(void 0):F(s.value),i&&t.preventDefault();break;case ro.ESC:u(!1),i&&t.stopPropagation()}},onKeyUp:function(){},scrollTo:function(t){P(t)}}})),0===j.length)return O.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(E,"-empty"),onMouseDown:T},l);var H=Object.keys(_).map((function(t){return _[t]})),U=function(t){return t.label};function W(t,e){return{role:t.group?"presentation":"option",id:"".concat(o,"_list_").concat(e)}}var V=function(t){var e=j[t];if(!e)return null;var n=e.data||{},r=n.value,o=e.group,i=or(n,!0),a=U(e);return e?O.createElement("div",Object(Ln.a)({"aria-label":"string"!==typeof a||o?null:a},i,{key:t},W(e,t),{"aria-selected":z(r)}),r):null},Y={role:"listbox",id:"".concat(o,"_list")};return O.createElement(O.Fragment,null,w&&O.createElement("div",Object(Ln.a)({},Y,{style:{height:0,width:0,overflow:"hidden"}}),V(L-1),V(L),V(L+1)),O.createElement(hC,{itemKey:"key",ref:I,data:j,height:S,itemHeight:k,fullHeight:!1,onMouseDown:T,onScroll:f,virtual:w,direction:x,innerProps:w?null:Y},(function(t,e){var n=t.group,r=t.groupOption,o=t.data,i=t.label,a=t.value,s=o.key;if(n){var c,u=null!==(c=o.title)&&void 0!==c?c:pC(i)?i.toString():void 0;return O.createElement("div",{className:C()(E,"".concat(E,"-group"),o.className),title:u},void 0!==i?i:s)}var l=o.disabled,f=o.title,h=(o.children,o.style),d=o.className,p=function(t,e){var n=Object(Gn.a)({},t);return Array.isArray(e)&&e.forEach((function(t){delete n[t]})),n}(Object(Xn.a)(o,dC),H),v=z(a),g=l||!v&&A,m="".concat(E,"-option"),b=C()(E,m,d,Object(Yn.a)(Object(Yn.a)(Object(Yn.a)(Object(Yn.a)({},"".concat(m,"-grouped"),r),"".concat(m,"-active"),L===e&&!g),"".concat(m,"-disabled"),g),"".concat(m,"-selected"),v)),_=U(t),x=!y||"function"===typeof y||v,S="number"===typeof _?_:_||a,k=pC(S)?S.toString():void 0;return void 0!==f&&(k=f),O.createElement("div",Object(Ln.a)({},or(p),w?{}:W(t,e),{"aria-selected":v,className:b,title:k,onMouseMove:function(){L===e||g||B(e)},onClick:function(){g||F(a)},style:h}),O.createElement("div",{className:"".concat(m,"-content")},"function"===typeof M?M(t,{index:e}):S),O.isValidElement(y)||v,x&&O.createElement(Jw,{className:"".concat(E,"-option-state"),customizeIcon:y,customizeIconProps:{value:a,disabled:g,isSelected:v}},v?"\u2713":null))})))};var gC=O.forwardRef(vC);function mC(t,e){return Ix(t).join("").toUpperCase().includes(e)}var yC=0,bC=Object(Ir.a)();function _C(t){var e=Mr(O.useState(),2),n=e[0],r=e[1];return O.useEffect((function(){r("rc_select_".concat(function(){var t;return bC?(t=yC,yC+=1):t="TEST_OR_SSR",t}()))}),[]),t||n}var wC=["children","value"],xC=["children"];function SC(t){var e=t,n=e.key,r=e.props,o=r.children,i=r.value,a=Object(Xn.a)(r,wC);return Object(Gn.a)({key:n,value:void 0!==i?i:n,children:o},a)}function CC(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ka(t).map((function(t,n){if(!O.isValidElement(t)||!t.type)return null;var r=t,o=r.type.isSelectOptGroup,i=r.key,a=r.props,s=a.children,c=Object(Xn.a)(a,xC);return e||!o?SC(t):Object(Gn.a)(Object(Gn.a)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},c),{},{options:CC(s)})})).filter((function(t){return t}))}var OC=function(t,e,n,r,o){return O.useMemo((function(){var i=t;!t&&(i=CC(e));var a=new Map,s=new Map,c=function(t,e,n){n&&"string"===typeof n&&t.set(e[n],e)};return function t(e){for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<e.length;u+=1){var l=e[u];!l[n.options]||i?(a.set(l[n.value],l),c(s,l,n.label),c(s,l,r),c(s,l,o)):t(l[n.options],!0)}}(i),{options:i,valueOptions:a,labelOptions:s}}),[t,e,n,r,o])};function kC(t){var e=O.useRef();return e.current=t,O.useCallback((function(){return e.current.apply(e,arguments)}),[])}var MC=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],EC=["inputValue"];var jC=O.forwardRef((function(t,e){var n=t.id,r=t.mode,o=t.prefixCls,i=void 0===o?"rc-select":o,a=t.backfill,s=t.fieldNames,c=t.inputValue,u=t.searchValue,l=t.onSearch,f=t.autoClearSearchValue,h=void 0===f||f,d=t.onSelect,p=t.onDeselect,v=t.dropdownMatchSelectWidth,g=void 0===v||v,m=t.filterOption,y=t.filterSort,b=t.optionFilterProp,_=t.optionLabelProp,w=t.options,x=t.optionRender,S=t.children,C=t.defaultActiveFirstOption,k=t.menuItemSelectedIcon,M=t.virtual,E=t.direction,j=t.listHeight,I=void 0===j?200:j,A=t.listItemHeight,T=void 0===A?20:A,P=t.labelRender,D=t.value,N=t.defaultValue,L=t.labelInValue,R=t.onChange,B=t.maxCount,z=Object(Xn.a)(t,MC),F=_C(n),H=NS(r),U=!(w||!S),W=O.useMemo((function(){return(void 0!==m||"combobox"!==r)&&m}),[m,r]),V=O.useMemo((function(){return jS(s,U)}),[JSON.stringify(s),U]),Y=Mr(us("",{value:void 0!==u?u:c,postState:function(t){return t||""}}),2),G=Y[0],X=Y[1],Z=OC(w,S,V,b,_),q=Z.valueOptions,K=Z.labelOptions,Q=Z.options,J=O.useCallback((function(t){return Ix(t).map((function(t){var e,n,r,o,i,a;(function(t){return!t||"object"!==Object(Zn.a)(t)})(t)?e=t:(r=t.key,n=t.label,e=null!==(a=t.value)&&void 0!==a?a:r);var s,c=q.get(e);c&&(void 0===n&&(n=null===c||void 0===c?void 0:c[_||V.label]),void 0===r&&(r=null!==(s=null===c||void 0===c?void 0:c.key)&&void 0!==s?s:e),o=null===c||void 0===c?void 0:c.disabled,i=null===c||void 0===c?void 0:c.title);return{label:n,value:e,key:r,disabled:o,title:i}}))}),[V,_,q]),$=Mr(us(N,{value:D}),2),tt=$[0],et=$[1],nt=Mr(function(t,e){var n=O.useRef({values:new Map,options:new Map});return[O.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=t.map((function(t){var e;return void 0===t.label?Object(Gn.a)(Object(Gn.a)({},t),{},{label:null===(e=o.get(t.value))||void 0===e?void 0:e.label}):t})),s=new Map,c=new Map;return a.forEach((function(t){s.set(t.value,t),c.set(t.value,e.get(t.value)||i.get(t.value))})),n.current.values=s,n.current.options=c,a}),[t,e]),O.useCallback((function(t){return e.get(t)||n.current.options.get(t)}),[e])]}(O.useMemo((function(){var t,e=J(H&&null===tt?[]:tt);return"combobox"===r&&function(t){return!t&&0!==t}(null===(t=e[0])||void 0===t?void 0:t.value)?[]:e}),[tt,J,r,H]),q),2),rt=nt[0],ot=nt[1],it=O.useMemo((function(){if(!r&&1===rt.length){var t=rt[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return rt.map((function(t){var e;return Object(Gn.a)(Object(Gn.a)({},t),{},{label:null!==(e="function"===typeof P?P(t):t.label)&&void 0!==e?e:t.value})}))}),[r,rt,P]),at=O.useMemo((function(){return new Set(rt.map((function(t){return t.value})))}),[rt]);O.useEffect((function(){if("combobox"===r){var t,e=null===(t=rt[0])||void 0===t?void 0:t.value;X(function(t){return void 0!==t&&null!==t}(e)?String(e):"")}}),[rt]);var st=kC((function(t,e){var n=null!==e&&void 0!==e?e:t;return Object(Yn.a)(Object(Yn.a)({},V.value,t),V.label,n)})),ct=function(t,e,n,r,o){return O.useMemo((function(){if(!n||!1===r)return t;var i=e.options,a=e.label,s=e.value,c=[],u="function"===typeof r,l=n.toUpperCase(),f=u?r:function(t,e){return o?mC(e[o],l):e[i]?mC(e["children"!==a?a:"label"],l):mC(e[s],l)},h=u?function(t){return IS(t)}:function(t){return t};return t.forEach((function(t){if(t[i])if(f(n,h(t)))c.push(t);else{var e=t[i].filter((function(t){return f(n,h(t))}));e.length&&c.push(Object(Gn.a)(Object(Gn.a)({},t),{},Object(Yn.a)({},i,e)))}else f(n,h(t))&&c.push(t)})),c}),[t,r,o,n,e])}(O.useMemo((function(){if("tags"!==r)return Q;var t=er(Q);return er(rt).sort((function(t,e){return t.value<e.value?-1:1})).forEach((function(e){var n=e.value;(function(t){return q.has(t)})(n)||t.push(st(n,e.label))})),t}),[st,Q,q,rt,r]),V,G,W,b),ut=O.useMemo((function(){return"tags"!==r||!G||ct.some((function(t){return t[b||"value"]===G}))||ct.some((function(t){return t[V.value]===G}))?ct:[st(G)].concat(er(ct))}),[st,b,r,ct,G,V]),lt=O.useMemo((function(){return y?er(ut).sort((function(t,e){return y(t,e)})):ut}),[ut,y]),ft=O.useMemo((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,o=[],i=jS(n,!1),a=i.label,s=i.value,c=i.options,u=i.groupLabel;function l(t,e){Array.isArray(t)&&t.forEach((function(t){if(e||!(c in t)){var n=t[s];o.push({key:MS(t,o.length),groupOption:e,data:t,label:t[a],value:n})}else{var i=t[u];void 0===i&&r&&(i=t.label),o.push({key:MS(t,o.length),group:!0,data:t,label:i}),l(t[c],!0)}}))}return l(t,!1),o}(lt,{fieldNames:V,childrenAsData:U})}),[lt,V,U]),ht=function(t){var e=J(t);if(et(e),R&&(e.length!==rt.length||e.some((function(t,e){var n;return(null===(n=rt[e])||void 0===n?void 0:n.value)!==(null===t||void 0===t?void 0:t.value)})))){var n=L?e:e.map((function(t){return t.value})),r=e.map((function(t){return IS(ot(t.value))}));R(H?n:n[0],H?r:r[0])}},dt=Mr(O.useState(null),2),pt=dt[0],vt=dt[1],gt=Mr(O.useState(0),2),mt=gt[0],yt=gt[1],bt=void 0!==C?C:"combobox"!==r,_t=O.useCallback((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;yt(e),a&&"combobox"===r&&null!==t&&"keyboard"===i&&vt(String(t))}),[a,r]),wt=function(t,e,n){var r=function(){var e,n=ot(t);return[L?{label:null===n||void 0===n?void 0:n[V.label],value:t,key:null!==(e=null===n||void 0===n?void 0:n.key)&&void 0!==e?e:t}:t,IS(n)]};if(e&&d){var o=Mr(r(),2),i=o[0],a=o[1];d(i,a)}else if(!e&&p&&"clear"!==n){var s=Mr(r(),2),c=s[0],u=s[1];p(c,u)}},xt=kC((function(t,e){var n,o=!H||e.selected;n=o?H?[].concat(er(rt),[t]):[t]:rt.filter((function(e){return e.value!==t})),ht(n),wt(t,o),"combobox"===r?vt(""):NS&&!h||(X(""),vt(""))})),St=O.useMemo((function(){var t=!1!==M&&!1!==g;return Object(Gn.a)(Object(Gn.a)({},Z),{},{flattenOptions:ft,onActiveValue:_t,defaultActiveFirstOption:bt,onSelect:xt,menuItemSelectedIcon:k,rawValues:at,fieldNames:V,virtual:t,direction:E,listHeight:I,listItemHeight:T,childrenAsData:U,maxCount:B,optionRender:x})}),[B,Z,ft,_t,bt,xt,k,at,V,M,g,E,I,T,U,x]);return O.createElement(AS.Provider,{value:St},O.createElement(LS,Object(Ln.a)({},z,{id:F,prefixCls:i,ref:e,omitDomProps:EC,mode:r,displayValues:it,onDisplayValuesChange:function(t,e){ht(t);var n=e.type,r=e.values;"remove"!==n&&"clear"!==n||r.forEach((function(t){wt(t.value,!1,n)}))},direction:E,searchValue:G,onSearch:function(t,e){if(X(t),vt(null),"submit"!==e.source)"blur"!==e.source&&("combobox"===r&&ht(t),null===l||void 0===l||l(t));else{var n=(t||"").trim();if(n){var o=Array.from(new Set([].concat(er(at),[n])));ht(o),wt(n,!0),X("")}}},autoClearSearchValue:h,onSearchSplit:function(t){var e=t;"tags"!==r&&(e=t.map((function(t){var e=K.get(t);return null===e||void 0===e?void 0:e.value})).filter((function(t){return void 0!==t})));var n=Array.from(new Set([].concat(er(at),er(e))));ht(n),n.forEach((function(t){wt(t,!0)}))},dropdownMatchSelectWidth:g,OptionList:gC,emptyOptions:!ft.length,activeValue:pt,activeDescendantId:"".concat(F,"_list_").concat(mt)})))}));jC.Option=FS,jC.OptGroup=BS;var IC=jC;function AC(){return(AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function TC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,PC(t,e)}function PC(t,e){return(PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}O.Component;var DC=["#ffffff","#fdeeee","#ffe1b2","#ffff02","#c8f0d6","#d3e8ff","#dadbef","#fedaec","#d9d9d9","#f78da7","#ff6900","#fed670","#7bdcb5","#8ed1fc","#8c7be9","#ee94f7","#abb8c3","#e06666","#bd5b22","#fcb900","#00d084","#0693e3","#4756fe","#d041e1","#000000","#eb144c","#ac2840","#c29632","#4aa36f","#3374b1","#403ed6","#9900ef"],NC={},LC={};DC.forEach((function(t){var e=Ky.a.scale(["white",t,"black"]).colors(11);NC[t+"-light"]=t,NC[t+"-dark"]=e[6]})),DC.forEach((function(t){LC["color-"+t]={color:NC[t+"-dark"]}})),DC.forEach((function(t){LC["backgroundColor-"+t]={backgroundColor:NC[t+"-light"]}}));[12,14,16,18,20,22,24,26,28,30,32,36,40,44,48,54,60].forEach((function(t){LC["fontSize-"+t]={fontSize:t}})),LC["fontFamily-msYaHei"]={fontFamily:'"Microsoft YaHei"'},LC["fontFamily-song"]={fontFamily:"SimSun, STSong"},LC["fontFamily-xinSong"]={fontFamily:"NSimSun"},LC["fontFamily-fangSong"]={fontFamily:"FangSong_GB2312, FangSong, STFangsong"},LC["fontFamily-kaiTi"]={fontFamily:"KaiTi_GB2312, KaiTi, STKaiti"},LC["fontFamily-heiTi"]={fontFamily:"SimHei, STHeiti"},LC["fontFamily-arial"]={fontFamily:"Arial"},LC["fontFamily-arialBlack"]={fontFamily:'"Arial Black"'},LC["fontFamily-timesNewRoman"]={fontFamily:'"Times New Roman"'},LC["fontFamily-courierNew"]={fontFamily:'"Courier New"'},LC["fontFamily-tahoma"]={fontFamily:"Tahoma"},LC["fontFamily-verdana"]={fontFamily:"Verdana"},LC["fontFamily-sans-serif"]={fontFamily:"sans-serif"},LC.CODE={fontFamily:'"courier", monospace',backgroundColor:"lightGray"},LC.lineThrough={textDecoration:"line-through"},LC.SUBSCRIPT={fontSize:"0.5em",verticalAlign:"sub"},LC.SUPERSCRIPT={fontSize:"0.5em",verticalAlign:"super"};[["red_less","#c00000"],["red","#ff0000"],["orange","#ffc000"],["yellow","#ffff00"],["grass","#92d050"],["green","#00b050"],["blue","#00b0f0"],["purple","#7030a0"]].forEach((function(t){var e=t[0],n=t[1];LC["color-"+e]={color:n},LC["backgroundColor-"+e]={backgroundColor:n},DC.push(n)}));O.Component;function RC(t,e){try{var n=t.getCurrentInlineStyle().toList().filter((function(t){return t.startsWith(e)}));return n&&n.size>0?n.last():void 0}catch(FO){return}}O.Component;var BC=[{key:"fontFamily-msYaHei",value:"\u5fae\u8f6f\u96c5\u9ed1"},{key:"fontFamily-song",value:"\u5b8b\u4f53"},{key:"fontFamily-xinSong",value:"\u65b0\u5b8b\u4f53"},{key:"fontFamily-fangSong",value:"\u4eff\u5b8b"},{key:"fontFamily-kaiTi",value:"\u6977\u4f53"},{key:"fontFamily-heiTi",value:"\u9ed1\u4f53"},{key:"fontFamily-arial",value:"Arial"},{key:"fontFamily-arialBlack",value:"Arial Black"},{key:"fontFamily-timesNewRoman",value:"Times New Roman"},{key:"fontFamily-courierNew",value:"Courier New"},{key:"fontFamily-tahoma",value:"Tahoma"},{key:"fontFamily-verdana",value:"Verdana"},{key:"fontFamily-sans-serif",value:"sans-serif"}],zC=(O.Component,[12,14,16,18,20,22,24,26,28,30,32,36,40,44,48,54,60]);O.Component;function FC(t){var e=t.blockType,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=function(){var n;if(!t.getEditorState)return!1;var r=t.getEditorState();return(null==(n=r.getCurrentContent().getBlockForKey(r.getSelection().getStartKey()))?void 0:n.getType())===e}()?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",AC({children:n},i,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(j.RichUtils.toggleBlockType(t.getEditorState(),e))},type:"button"})))}}FC({blockType:"header-one",children:"H1"}),FC({blockType:"header-two",children:"H2"}),FC({blockType:"header-three",children:"H3"}),FC({blockType:"header-four",children:"H4"}),FC({blockType:"header-five",children:"H5"}),FC({blockType:"header-six",children:"H6"}),O.Component;function HC(t){var e=t.style,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=RC(t.getEditorState(),e)?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",AC({children:n},i,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(j.RichUtils.toggleInlineStyle(t.getEditorState(),e))},type:"button"})))}}HC({style:"lineThrough",children:k.a.createElement("svg",{viewBox:"0 0 1024 1024","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",fill:"currentColor"},k.a.createElement("path",{d:"M334.908235 542.117647L512 78.908235 689.091765 542.117647h60.235294L542.117647 0h-60.235294L274.672941 542.117647h60.235294zM205.402353 722.823529L90.352941 1024h60.235294l115.049412-301.176471h-60.235294zM758.362353 722.823529L873.411765 1024h60.235294l-115.049412-301.176471h-60.235294z",fill:"#4D4D4D"}),k.a.createElement("path",{d:"M90.352941 602.352941h843.294118v60.235294H90.352941z",fill:"#05AFC8"}))}),O.Component,O.Component,FC({blockType:"blockquote",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),FC({blockType:"code-block",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),FC({blockType:"ordered-list-item",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),FC({blockType:"unordered-list-item",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))});function UC(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,o=t.buttonProps,i=void 0===o?{}:o,a=function(){var n=t.getEditorState(),r=t.getEditorState().getCurrentContent().getBlockForKey(n.getSelection().getStartKey()).getData().get("textAlignment")||"justify";return e===r}()?$(r.button,r.active):r.button;return k.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},k.a.createElement("button",AC({children:n},i,{className:a,onClick:function(n){if(t.getEditorState){n.preventDefault();var r=t.getEditorState(),o=t.getEditorState().getCurrentContent(),i=t.getEditorState().getSelection(),a=Object(Tt.getSelectedBlocksList)(r),s=r;a.forEach((function(t){var n=t.getType();if("code-block"!==n&&"atomic"!==n){var a=j.Modifier.setBlockData(o,i,t.getData().set("textAlignment",e));s=j.EditorState.push(r,a,"change-block-data")}})),t.setEditorState(s)}},type:"button"})))}}var WC=UC({alignment:"center",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),VC=UC({alignment:"justify",children:k.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M128 149.33366667h768V234.66666667H128v-85.333z m0 640h768V874.66666667H128v-85.333z m0-213.334h768v85.334H128v-85.334zM128 362.66666667h768v85.333H128V362.66666667z"}))}),YC=UC({alignment:"left",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),GC=UC({alignment:"right",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),k.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),XC=HC({style:"BOLD",children:k.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M697.6 480c32-32 51.2-83.2 51.2-134.4v-6.4c0-108.8-89.6-192-198.4-192H262.4c-12.8 0-25.6 12.8-25.6 25.6v678.4c0 19.2 12.8 32 32 32h320c115.2 0 211.2-96 211.2-211.2v-12.8c-6.4-76.8-44.8-140.8-102.4-179.2zM326.4 236.8h224c57.6 0 102.4 44.8 102.4 102.4v6.4c0 57.6-44.8 102.4-102.4 102.4H326.4V236.8z m371.2 428.8c0 64-51.2 115.2-115.2 115.2h-256V544H576c64 0 115.2 51.2 115.2 115.2v6.4z"}))}),ZC=(HC({style:"CODE",children:k.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),HC({style:"ITALIC",children:k.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M800 160H364.8c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h179.2l-153.6 544H230.4c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h435.2c6.4 0 6.4-6.4 6.4-6.4v-64c0-6.4-6.4-6.4-6.4-6.4h-192l153.6-544h166.4c6.4 0 6.4-6.4 6.4-6.4v-64c6.4 0 0-6.4 0-6.4z"}))})),qC=(HC({style:"SUBSCRIPT",children:k.a.createElement("div",null,"x",k.a.createElement("sub",null,"2"))}),HC({style:"SUPERSCRIPT",children:k.a.createElement("div",null,"x",k.a.createElement("sup",null,"2"))}),HC({style:"UNDERLINE",children:k.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},k.a.createElement("path",{d:"M825.6 806.4H198.4c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h627.2c6.4 0 6.4-6.4 6.4-6.4v-64c0-6.4-6.4-6.4-6.4-6.4zM512 729.6c70.4 0 134.4-25.6 185.6-76.8 51.2-51.2 76.8-115.2 76.8-185.6V153.6c0-6.4-6.4-12.8-12.8-12.8H704c-6.4 0-12.8 6.4-12.8 12.8v313.6c0 96-76.8 179.2-179.2 179.2S332.8 563.2 332.8 467.2V153.6c0-6.4-6.4-12.8-12.8-12.8h-57.6c-6.4 0-12.8 6.4-12.8 12.8v313.6c0 70.4 25.6 134.4 76.8 185.6s115.2 76.8 185.6 76.8z"}))}));function KC(){return(KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function QC(t,e){return(QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var JC=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderAlignmentButtons=function(t){var e=t.buttonProps,n=void 0===e?[]:e,r=KC({},t,{buttonProps:n[0]}),o=KC({},t,{buttonProps:n[1]}),i=KC({},t,{buttonProps:n[2]}),a=KC({},t,{buttonProps:n[3]});return k.a.createElement(k.a.Fragment,null,k.a.createElement(VC,r),k.a.createElement(YC,o),k.a.createElement(WC,i),k.a.createElement(GC,a))},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,QC(e,n),r.prototype.render=function(){var t=this.props,e=t.store,n=t.theme,r={buttonProps:t.buttonProps,theme:n,getEditorState:e.getItem("getEditorState"),setEditorState:e.getItem("setEditorState")};return this.renderAlignmentButtons(r)},r}(k.a.Component),$C={alignmentStyles:{draftLeft:"d3glz6k",draftRight:"dke0p9a",draftCenter:"d10hnkai",draftJustify:"d1dckq6a"}},tO=Math.floor,eO=Math.random;var nO=function(t,e){return t+tO(eO()*(e-t+1))},rO=parseFloat,oO=Math.min,iO=Math.random;var aO=function(t,e,n){if(n&&"boolean"!=typeof n&&Zi(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Ly(t),void 0===e?(e=t,t=0):e=Ly(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=iO();return oO(t+o*(e-t+rO("1e-"+((o+"").length-1))),e)}return nO(t,e)};function sO(){return(sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function cO(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var uO={video:"v1419uk5"},lO=["body","headers","method"],fO=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",hO=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},dO=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(hO(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=In(window,"Toolkits.onGetLrsHeader");r&&r((function(t){hO(t)&&localStorage.setItem("lrs_headers",t)}))}return t};function pO(t,e,n){var r=t;return e&&(r+="?"+Cr.a.stringify(e)),function(t,e){var n=e.body,r=void 0===n?void 0:n,o=e.headers,i=void 0===o?{}:o,a=e.method,s=void 0===a?"GET":a,c=cO(e,lO);return xr()(t,sO({headers:sO({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},i,dO()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))}(r,{method:"GET",headers:n})}var vO=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],gO=k.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection;var o=t.offsetKey;t.preventScroll,t.selection;var i=t.theme,a=void 0===i?{}:i;t.tree;var s=cO(t,vO),c=Object(O.useState)("player-"+o+"-"+aO(0,10))[0],u=Object(O.useState)(!1),l=u[0],f=u[1],h=$(a.video,r,"prism-player",{fullscreen:l}),d=null;return Object(O.useEffect)((function(){return function t(){pO(fO+"/vod/video/play_auth/"+n.videoId,{is_public:1}).then((function(e){var r=e.data,o=r.play_auth,i=r.video_id,a=r.status;!d&&o&&i&&"Normal"===a?((d=window.Aliplayer({id:c,width:"100%",height:"100%",autoplay:!1,encryptType:1,preload:!0,useH5Prism:!0,vid:n.videoId,playauth:o,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}]})).on("requestFullScreen",(function(){return f(!0)})),d.on("cancelFullScreen",(function(){return f(!1)}))):za((function(){return t()}),5e3)}))}(),function(){d&&(d.dispose(),d=null)}}),[n.videoId]),k.a.createElement("div",sO({},s,{id:c,className:h,ref:e}),!d&&k.a.createElement("div",{className:"trans"},"\u8f6c\u7801\u4e2d"))})),mO=n(1332),yO=n.n(mO);function bO(t){return"code-block"===t.getType()}function _O(t){return t.getData?t.getData().get("syntax"):null}function wO(t){return k.a.createElement("span",{className:"prism-token token "+t.type},t.children)}var xO="cpciw8t",SO=new(function(){function t(){var t=this;this.highlighted={},this.getDecorations=function(e){var n,r,o,i=0,a=0,s=bO,c=_O,u=e.getKey(),l=e.getText(),f=Array(l.length).fill(null),h=t.highlighted;if(h[u]={},!s(e))return Nn.default.List(f);var d=c(e)||"javascript";if(null==d)return Nn.default.List(f);var p=yO.a.languages[d],v=yO.a.tokenize(l,p);function g(t,e,n){if("string"!==typeof e){r="tok"+a,a+=1,o=u+"-"+r,h[u][r]=e,function(t,e,n,r){for(var o=e;o<n;o++)t[o]=r}(t,n,n+e.length,o);for(var i=n,s=0;s<e.content.length;s++){var c=e.content[s];g(t,c,i),i+=c.length}}}for(var m=0;m<v.length;m++)g(f,n=v[m],i),i+=n.length;return Nn.default.List(f)},this.getPropsForKey=function(e){var n=e.split("-"),r=n[0],o=n[1],i=t.highlighted[r][o];return{type:null==i?void 0:i.type}}}return t.prototype.getComponentForKey=function(){return wO},t}()),CO=n(1278),OO=n(159),kO=n(1265),MO=k.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k.a.createElement("path",{d:"M460.8 563.2v307.2a102.4 102.4 0 0 1-102.4 102.4H153.6a102.4 102.4 0 0 1-102.4-102.4v-204.8a102.4 102.4 0 0 1 102.4-102.4h307.2z m409.6 0a102.4 102.4 0 0 1 102.4 102.4v204.8a102.4 102.4 0 0 1-102.4 102.4h-204.8a102.4 102.4 0 0 1-102.4-102.4v-307.2h307.2zM358.4 665.6H153.6v204.8h204.8v-204.8z m512 0h-204.8v204.8h204.8v-204.8zM358.4 51.2a102.4 102.4 0 0 1 102.4 102.4v307.2H153.6a102.4 102.4 0 0 1-102.4-102.4V153.6a102.4 102.4 0 0 1 102.4-102.4h204.8z m563.2 0a51.2 51.2 0 0 1 50.8416 45.2096L972.8 102.4v307.2a51.2 51.2 0 0 1-102.0416 5.9904L870.4 409.6V225.9456l-174.7968 174.848a51.2 51.2 0 1 1-72.3968-72.3968L797.952 153.6H614.4a51.2 51.2 0 0 1-50.8416-45.2096L563.2 102.4a51.2 51.2 0 0 1 45.2096-50.8416L614.4 51.2h307.2zM358.4 153.6H153.6v204.8h204.8V153.6z"}));function EO(t){return(EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var jO=["href"],IO=["className","ref","style"];function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TO(r.key),r)}}function TO(t){var e=function(t,e){if("object"!=EO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EO(e)?e:e+""}function PO(t,e,n){return e=DO(e),function(t,e){if(e&&("object"===EO(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],DO(t).constructor):e.apply(t,n))}function DO(t){return(DO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NO(t,e){return(NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LO(){return(LO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function RO(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function BO(){var t,e=function(t){void 0===t&&(t={});var e=ht({isEdit:!0,isVisible:!1}),n=t.theme,r=void 0===n?Ft:n;return{initialize:function(t){var n=t.getProps,r=t.getReadOnly,o=t.getEditorState,i=t.setEditorState;e.updateItem("getProps",n),e.updateItem("getReadOnly",r),e.updateItem("getEditorState",o),e.updateItem("setEditorState",i)},decorator:Lt({store:e}),blockRendererFn:function(t,e){var n=e.getEditorState,r=e.setEditorState,o=t.getEntityAt(0),i=n().getCurrentContent();return{props:{alignment:(o?i.getEntity(o).getData():{}).alignment||"default",setAlignment:Ht(t,{getEditorState:n,setEditorState:r})}}},AlignmentTool:function(){return k.a.createElement(zt,{store:e,theme:r})}}}(),n=lt(),r=X(n.decorator,e.decorator),o=function(t){void 0===t&&(t={});var e=ht(),n=t.theme,r=void 0===n?$C:n,o=function(t){var e,n="left",r=t.getData().get("textAlignment");return r&&(n=r),(e=n).charAt(0).toUpperCase()+e.slice(1)};return{initialize:function(t){var n=t.getEditorState,r=t.setEditorState;e.updateItem("getEditorState",n),e.updateItem("setEditorState",r)},blockStyleFn:function(t,e){var n=e.getEditorState,i="draft"+o(t);if(!t.getText()){var a=n().getCurrentContent().getBlockBefore(t.getKey());a&&(i="draft"+o(a))}return r.alignmentStyles[i]},TextAlignment:function(t){return k.a.createElement(JC,KC({},t,{store:e,theme:KC({},t.theme,r)}))}}}(),i=function(){var t=ht();return{initialize:function(e){var n=e.getProps,r=e.getReadOnly,o=e.setEditorState,i=e.getEditorState;t.updateItem("getProps",n),t.updateItem("getReadOnly",r),t.updateItem("setEditorState",o),t.updateItem("getEditorState",i)},blockRendererFn:function(t,e){var n=e.getEditorState;if("atomic"===t.getType()){var r=n().getCurrentContent(),o=t.getEntityAt(0);if(!o)return null;var i=r.getEntity(o).getType();return"UploadPlaceholder"===i||"PLACEHOLDER"===i?{component:Ui,editable:!1,props:si({},r.getEntity(o).getData())}:null}return null},handlePastedFiles:function(t,e){return Fi(t,e),"not-handled"},AttachmentButton:function(e){return k.a.createElement(Li,si({},e,{store:t}))},RecordButton:function(e){return k.a.createElement(Hi,si({},e,{store:t,theme:si({},e.theme,Wi)}))}}}(),a=function(t){void 0===t&&(t={});var e=t.theme?t.theme:pa,n=t.audioComponent||da;t.decorator&&(n=t.decorator(n));var r=function(t){return k.a.createElement(n,oa({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),o=e.get("data");if("AUDIO"===n||"audio"===n){var i=o.quote_id;return{component:r,editable:!1,props:{src:ua+"/cloud/file_url/"+i}}}return null}return null}}}(),s={handleBeforeInput:function(t,e,n,r){var o=r.getProps,i=r.setEditorState,a=o(),s=a.maxLength,c=a.sumLength,u=e.getCurrentContent(),l=e.getSelection();if(!l.isCollapsed()){var f=j.Modifier.replaceText(u,l,t),h=j.EditorState.push(e,f,"insert-characters");return i(j.EditorState.forceSelection(h,f.getSelectionAfter())),"handled"}return c&&c(e.getCurrentContent().getPlainText("").length),s&&e.getCurrentContent().getPlainText("").length>=s?"handled":"not-handled"},handlePastedText:function(t,e,n,r){var o=r.getProps,i=r.setEditorState,a=o(),s=a.maxLength,c=a.sumLength,u=n.getCurrentContent(),l=n.getSelection(),f=n.getCurrentContent().getPlainText("");if(!l.isCollapsed()){var h=j.Modifier.replaceText(u,l,t),d=j.EditorState.push(n,h,"insert-characters");if(d.getCurrentContent().getPlainText("").length<=s)return i(j.EditorState.forceSelection(d,h.getSelectionAfter())),"handled"}if(c&&c(n.getCurrentContent().getPlainText("").length),s&&f.length+t.length>=s){var p=j.Modifier.insertText(n.getCurrentContent(),n.getSelection(),t.substring(0,s-f.length)),v=j.EditorState.push(n,p,"insert-characters");return i(j.EditorState.forceSelection(v,p.getSelectionAfter())),"handled"}return"not-handled"}},c=function(t){void 0===t&&(t={});var e=t.theme?t.theme:ba,n=t.diskComponent||ya;t.decorator&&(n=t.decorator(n));var r=function(t){return k.a.createElement(n,va({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),o=e.get("data");if("DISK"===n||"disk"===n){var i=o.name,a=o.quote_id;return{component:r,editable:!1,props:{filename:i,src:_a+"/cloud/file_access/"+a,quote_id:a}}}return null}return null}}}(),u=function(t){void 0===t&&(t={});var e=t.theme?t.theme:Ea,n=t.imageComponent||Ma;t.decorator&&(n=t.decorator(n));var r=function(t){return k.a.createElement(n,xa({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),o=e.get("src");return"IMAGE"===n||"image"===n?{component:r,editable:!1,props:{src:o}}:null}return null}}}({decorator:r}),l=function(t){void 0===t&&(t={});var e=t.theme?t.theme:Wa,n=t.htmlComponent||Ua;t.decorator&&(n=t.decorator(n));var r=function(t){return k.a.createElement(n,Fa({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),o=e.get("data");return"HTML"===n||"html"===n?{component:r,editable:!1,props:{src:o.htmlContent}}:null}return null}}}(),f=function(t){void 0===t&&(t={});var e=t,n=e.component,r=e.theme,o=void 0===r?Za:r,i=e.target,a=void 0===i?"_self":i,s=e.rel,c=void 0===s?"noreferrer noopener":s;return{decorators:[{strategy:Xa,component:function(t){return k.a.createElement(Ga,Va({},t,{theme:o,target:a,rel:c,component:n}))}}]}}({component:function(t){var e=t.href,n=RO(t,jO),r=x()(window,"Toolkits.onOpenWebview");return k.a.createElement("a",LO({},n,{href:"javascript:void(0)",onClick:function(){r&&r(e,"")}}))}}),h=function(t){void 0===t&&(t={});var e=ht({isVisible:!1}),n=t.theme,r=void 0===n?oc:n,o=function(t){var e=t.blockProps.teX;return k.a.createElement(qa.BlockMath,{math:String.raw(uc||(uc=rc(["",""])),e)})};return{initialize:function(t){var n=t.getReadOnly,r=t.getEditorState,o=t.setEditorState;e.updateItem("getReadOnly",n),e.updateItem("getEditorState",r),e.updateItem("setEditorState",o)},blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("mathjax"),r=e.get("teX");return n?{component:o,editable:!1,props:{teX:r}}:null}return null},decorators:[{strategy:vc,component:function(t){return k.a.createElement(pc,tc({},t,{store:e,theme:r}))}}],FormulaButton:function(t){return k.a.createElement(lc,tc({},t,{store:e}))},FormulaEdit:function(){return k.a.createElement(fc,{store:e,theme:r})}}}(),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ht(),n=t.theme?t.theme:bm,r=t.mindmapComponent||nm;t.decorator&&(r=t.decorator(r));var o=function(t){return k.a.createElement(r,_m({},t,{theme:n}))},i=function(t){return k.a.createElement(ym,_m({},t,{store:e}))};return{initialize:function(t){var n=t.getProps,r=t.getReadOnly,o=t.getEditorState,i=t.setEditorState;e.updateItem("getProps",n),e.updateItem("getReadOnly",r),e.updateItem("getEditorState",o),e.updateItem("setEditorState",i)},blockRendererFn:function(t,e){e.getEditorState;if("atomic"===t.getType()){var n=t.getData(),r=n.get("type"),i=n.get("data");return"MINDMAP"===r||"mindmap"===r?{component:o,editable:!1,props:{data:i}}:null}return null},MindmapButton:i}}(),p=function(t){void 0===t&&(t={});var e=ht(),n=t.theme,r=void 0===n?kt:n;return{initialize:function(t){var n=t.getEditorState,r=t.setEditorState;e.updateItem("getEditorState",n),e.updateItem("setEditorState",r)},onChange:function(t){return e.updateItem("selection",t.getSelection()),t},Toolbar:function(t){return k.a.createElement(Ct,xt({},t,{store:e,theme:r}))}}}(),v=function(t){void 0===t&&(t={});var e=t.theme?t.theme:uO,n=t.videoComponent||gO;t.decorator&&(n=t.decorator(n));var r=function(t){return k.a.createElement(n,sO({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),o=e.get("data");return"VIDEO"===n||"video"===n?{component:r,editable:!1,props:{videoId:o.video_id}}:null}return null}}}(),g={decorators:[SO],blockStyleFn:function(t){switch(t.getType()){case"code-block":return xO}return null}},m=function(t){var e,n=t.theme?t.theme:Am,r=t.stickers,o=t.selectButtonContent?t.selectButtonContent:"\u263a",i=!1!==t.attachRemoveButton;return{blockRendererFn:(e=function(t){return k.a.createElement(Mm,wm({},t,{attachRemoveButton:i,stickers:r,theme:n}))},function(t,n){var r=n.getEditorState,o=n.setEditorState;if("sticker"===t.getType())return{component:e,props:{onRemove:function(t){o(Om(r(),t))}}}}),onChange:km,add:Cm,remove:Om,blockRenderMap:Object(Nn.Map)({sticker:{element:"div"}}),StickerSelect:function(t){return k.a.createElement(Im,wm({},t,{selectButtonContent:o,stickers:r,theme:n}))}}}({stickers:null!==(t=window.xyDraftStickerSource)&&void 0!==t?t:Object(OO.a)()}),y=e.AlignmentTool,b=i.AttachmentButton,_=i.RecordButton;return{plugins:[e,i,a,s,c,n,u,f,h,d,m,o,p,v,g,l],AlignmentTool:y,AttachmentButton:b,FormulaButton:h.FormulaButton,FormulaEdit:h.FormulaEdit,RecordButton:_,StickerSelect:m.StickerSelect,Toolbar:p.Toolbar}}var zO=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=PO(this,e,[t])).focus=function(){n.refEditor&&n.refEditor.focus()},n.handleBlockEdit=function(t,e,r){var o=t.toJS(),i=o.type,a=o.data,s=void 0===a?{}:a,c=o.src;switch(i){case"IMAGE":if(y()(null===s||void 0===s?void 0:s.quote_id)){var u,l=(null!==(u=Object(OO.d)(c))&&void 0!==u?u:{}).quote_id;if(y()(l))return void console.warn("\u8fdb\u5165\u56fe\u50cf\u7f16\u8f91\u5931\u8d25\uff0c\u4e22\u5931\u56fe\u50cf\u8d44\u6e90id");s.id=l,s.name=l}n.setState({editImageVisible:!0,editImageInfo:s,editImageBlockCb:function(t){return r(t,e,"src")}});break;default:console.warn("unhandled block double click,",i)}},n.handleChangeImage=function(t){(0,n.state.editImageBlockCb)(t.src),n.setState({editImageVisible:!1})},n.handleOnChange=function(t){var e=n.props.onChange;l()(Object(j.convertToRaw)(t.getCurrentContent()),Object(j.convertToRaw)(n.state.editorState.getCurrentContent()))?n.setState({editorState:t}):(n.setState({editorState:t}),c()(e)&&e(t))},n.handleOnClick=function(t){t.preventDefault(),n.setState({advMode:!n.state.advMode})},n.InitPlugin=BO(),n.state={advMode:!1,editorState:y()(t.value)?j.EditorState.createEmpty():kO.a.autoConvertFormulas(Object(OO.b)(t.value)),value:y()(t.value)?void 0:n.props.value,editImageVisible:!1,editImageInfo:{},editImageBlockCb:_.a},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NO(t,e)}(e,t),n=e,i=[{key:"getDerivedStateFromProps",value:function(t,e){return t.readOnly||void 0!==e.value||g()(t.value)||p()(t.value)?!t.readOnly||g()(t.value)||p()(t.value)||l()(t.value,e.value)?null:{editorState:h()(t.value,"_immutable")?t.value:Object(OO.b)(t.value),value:t.value}:{editorState:h()(t.value,"_immutable")?t.value:j.EditorState.moveSelectionToEnd(Object(OO.b)(t.value)),value:t.value}}}],(r=[{key:"IsEmpty",value:function(t){var e=this.props.onEmpty,n=t.getCurrentContent().getPlainText(),r=Object(j.convertToRaw)(t.getCurrentContent()).entityMap;y()(n)&&y()(r)?e(!0):e(!1)}},{key:"render",value:function(){var t=this,e=a()(this.props,["onChange"]),n=e.className,r=e.ref,i=e.style,s=RO(e,IO),c=this.state,u=c.advMode,l=c.editorState,f=this.InitPlugin,h=f.plugins,d=f.AlignmentTool,p=f.AttachmentButton,v=f.RecordButton,g=f.Toolbar;return this.IsEmpty(l),k.a.createElement("div",{className:C()("draft_editor",{draft_editor_fullscreen:u||s.noteMode},n),ref:r,style:i},k.a.createElement(G,LO({},s,{customStyleMap:LC,editorState:l,plugins:h,ref:function(e){return t.refEditor=e},onChange:this.handleOnChange,onBlockEditClick:this.handleBlockEdit,onWarnMessage:function(t){return o.a.fail(t)}})),k.a.createElement(d,null),k.a.createElement("div",{className:C()({hide:!s.noteMode&&!u})},k.a.createElement(g,null,(function(t){return k.a.createElement("div",null,!s.disableUpload&&k.a.createElement(k.a.Fragment,null,k.a.createElement(p,t),k.a.createElement(v,t),k.a.createElement(Ot,null)),k.a.createElement(XC,t),k.a.createElement(ZC,t),k.a.createElement(qC,t))}))),k.a.createElement("button",{className:C()({hide:s.readOnly||s.noteMode}),onClick:this.handleOnClick},MO),k.a.createElement(CO.a,{fileInfo:this.state.editImageInfo,visible:this.state.editImageVisible,onClose:function(){return t.setState({editImageVisible:!1})},onOk:this.handleChangeImage}))}}])&&AO(n.prototype,r),i&&AO(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(k.a.Component);zO.defaultProps={noteMode:!1,disableUpload:!1,readOnly:!1,value:void 0,onChange:_.a,onEmpty:_.a},zO.propTypes={noteMode:E.a.bool,readOnly:E.a.bool,disableUpload:E.a.bool,value:E.a.oneOfType([E.a.object,E.a.string]),onChange:E.a.func,onEmpty:E.a.func}},1211:function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},1212:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},1213:function(t,e,n){"use strict";(function(t){var r=n(1180),o=n(1283);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"===typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,s=a&&"object"==i(t)&&t&&!t.nodeType&&t,c=s&&s.exports===a?r.a.Buffer:void 0,u=(c?c.isBuffer:void 0)||o.a;e.a=u}).call(this,n(1212)(t))},1214:function(t,e,n){"use strict";var r=n(1186),o=n(1211),i=n(1184),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(t){return Object(i.a)(t)&&Object(o.a)(t.length)&&!!a[Object(r.a)(t)]};var c=function(t){return function(e){return t(e)}},u=n(1284),l=u.a&&u.a.isTypedArray,f=l?c(l):s;e.a=f},1215:function(t,e,n){var r=n(670),o=n(672);t.exports=function(t,e){return t&&r(t,o(e))}},1217:function(t,e,n){var r=n(114),o=n(353),i=n(93),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},1218:function(t,e,n){"use strict";n(343),n(1339)},1219:function(t,e){t.exports=function(){}},1222:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,n=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,r=[],o=0;o<e;o++)r[o>>>2]|=t[o]<<24-o%4*8;n.call(this,r,e)}else n.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1223:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray,r=e.enc;function o(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var i=e[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o++)r[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return n.create(r,2*e)}},r.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var a=o(e[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>1]|=o(t.charCodeAt(i)<<16-i%2*16);return n.create(r,2*e)}}}(),t.enc.Utf16},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1224:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray;e.enc.Base64url={stringify:function(t,e){void 0===e&&(e=!0);var n=t.words,r=t.sigBytes,o=e?this._safe_map:this._map;t.clamp();for(var i=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<r;c++)i.push(o.charAt(s>>>6*(3-c)&63));var u=o.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t,e){void 0===e&&(e=!0);var r=t.length,o=e?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<o.length;a++)i[o.charCodeAt(a)]=a}var s=o.charAt(64);if(s){var c=t.indexOf(s);-1!==c&&(r=c)}return function(t,e,r){for(var o=[],i=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,c=r[t.charCodeAt(a)]>>>6-a%4*2,u=s|c;o[i>>>2]|=u<<24-i%4*8,i++}return n.create(o,i)}(t,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),t.enc.Base64url},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1225:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray,r=e.algo,o=r.SHA256,i=r.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=o._createHelper(i),e.HmacSHA224=o._createHmacHelper(i)}(),t.SHA224},"object"===s(e)?t.exports=e=a(n(1170),n(1187)):(o=[n(1170),n(1187)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1226:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.x64,r=n.Word,o=n.WordArray,i=e.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),t.SHA384},"object"===s(e)?t.exports=e=a(n(1170),n(1183),n(1203)):(o=[n(1170),n(1183),n(1203)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1227:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.x64.Word,s=n.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,f=0,h=0;h<7;h++){if(1&o){var d=(1<<h)-1;d<32?f^=1<<d:s^=1<<d-32}128&o?o=o<<1^113:o<<=1}l[i]=a.create(s,f)}}();var f=[];!function(){for(var t=0;t<25;t++)f[t]=a.create()}();var h=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=t[e+2*o],a=t[e+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(E=n[o]).high^=a,E.low^=i}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,v=0;v<5;v++)d^=(E=n[h+5*v]).high,p^=E.low;var g=f[h];g.high=d,g.low=p}for(h=0;h<5;h++){var m=f[(h+4)%5],y=f[(h+1)%5],b=y.high,_=y.low;for(d=m.high^(b<<1|_>>>31),p=m.low^(_<<1|b>>>31),v=0;v<5;v++)(E=n[h+5*v]).high^=d,E.low^=p}for(var w=1;w<25;w++){var x=(E=n[w]).high,S=E.low,C=c[w];C<32?(d=x<<C|S>>>32-C,p=S<<C|x>>>32-C):(d=S<<C-32|x>>>64-C,p=x<<C-32|S>>>64-C);var O=f[u[w]];O.high=d,O.low=p}var k=f[0],M=n[0];for(k.high=M.high,k.low=M.low,h=0;h<5;h++)for(v=0;v<5;v++){var E=n[w=h+5*v],j=f[w],I=f[(h+1)%5+5*v],A=f[(h+2)%5+5*v];E.high=j.high^~I.high&A.high,E.low=j.low^~I.low&A.low}E=n[0];var T=l[s];E.high^=T.high,E.low^=T.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(h)}return new o.init(u,s)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});n.SHA3=i._createHelper(h),n.HmacSHA3=i._createHmacHelper(h)}(Math),t.SHA3},"object"===s(e)?t.exports=e=a(n(1170),n(1183)):(o=[n(1170),n(1183)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1228:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,o=r.WordArray,i=r.Hasher,a=n.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),h=o.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,o=t[r];t[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,a,d,_,w,x,S,C,O,k,M,E=this._hash.words,j=f.words,I=h.words,A=s.words,T=c.words,P=u.words,D=l.words;for(x=i=E[0],S=a=E[1],C=d=E[2],O=_=E[3],k=w=E[4],n=0;n<80;n+=1)M=i+t[e+A[n]]|0,M+=n<16?p(a,d,_)+j[0]:n<32?v(a,d,_)+j[1]:n<48?g(a,d,_)+j[2]:n<64?m(a,d,_)+j[3]:y(a,d,_)+j[4],M=(M=b(M|=0,P[n]))+w|0,i=w,w=_,_=b(d,10),d=a,a=M,M=x+t[e+T[n]]|0,M+=n<16?y(S,C,O)+I[0]:n<32?m(S,C,O)+I[1]:n<48?g(S,C,O)+I[2]:n<64?v(S,C,O)+I[3]:p(S,C,O)+I[4],M=(M=b(M|=0,D[n]))+k|0,x=k,k=O,O=b(C,10),C=S,S=M;M=E[1]+d+O|0,E[1]=E[2]+_+k|0,E[2]=E[3]+w+x|0,E[3]=E[4]+i+S|0,E[4]=E[0]+a+C|0,E[0]=M},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function v(t,e,n){return t&e|~t&n}function g(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function b(t,e){return t<<e|t>>>32-e}n.RIPEMD160=i._createHelper(d),n.HmacRIPEMD160=i._createHmacHelper(d)}(Math),t.RIPEMD160},"object"===s(e)?t.exports=e=a(n(1170)):(o=[n(1170)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1229:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.Base,o=n.WordArray,i=e.algo,a=i.SHA256,s=i.HMAC,c=i.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:25e4}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=s.create(n.hasher,t),i=o.create(),a=o.create([1]),c=i.words,u=a.words,l=n.keySize,f=n.iterations;c.length<l;){var h=r.update(e).finalize(a);r.reset();for(var d=h.words,p=d.length,v=h,g=1;g<f;g++){v=r.finalize(v),r.reset();for(var m=v.words,y=0;y<p;y++)d[y]^=m[y]}i.concat(h),u[0]++}return i.sigBytes=4*l,i}});e.PBKDF2=function(t,e,n){return c.create(n).compute(t,e)}}(),t.PBKDF2},"object"===s(e)?t.exports=e=a(n(1170),n(1187),n(1188)):(o=[n(1170),n(1187),n(1188)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1230:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function n(t,e,n,r){var o,i=this._iv;i?(o=i.slice(0),this._iv=void 0):o=this._prevBlock,r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize;n.call(this,t,e,o,r),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize,i=t.slice(e,e+o);n.call(this,t,e,o,r),this._prevBlock=i}}),e}(),t.mode.CFB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1231:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[r-1]=i[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}});return e.Decryptor=n,e}(),t.mode.CTR},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1232:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function n(t){if(255===(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),function(t){0===(t[0]=n(t[0]))&&(t[1]=n(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<o;c++)t[e+c]^=s[c]}});return e.Decryptor=r,e}(),t.mode.CTRGladman},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1233:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}});return e.Decryptor=n,e}(),t.mode.OFB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1234:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.mode.ECB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1235:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,o=r-n%r,i=n+o-1;t.clamp(),t.words[i>>>2]|=o<<24-i%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1236:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.Iso10126={pad:function(e,n){var r=4*n,o=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1237:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1238:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},t.pad.ZeroPadding},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1239:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1240:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib.CipherParams,o=n.enc.Hex;n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return r.create({ciphertext:e})}}}(),t.format.Hex},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(o=[n(1170),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1241:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,o=[],i=[],a=[],s=[],c=[],u=[],l=[],f=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,o[n]=p,i[p]=n;var v=t[n],g=t[v],m=t[g],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*m^65537*g^257*v^16843008*n,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=v^t[t[t[m^v]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<r;a++)a<n?i[a]=e[a]:(u=i[a-1],a%n?n>6&&a%n==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=p[a/n|0]<<24),i[a]=i[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=i[a];else u=i[a-4];s[c]=c<4||a<=4?u:l[o[u>>>24]]^f[o[u>>>16&255]]^h[o[u>>>8&255]]^d[o[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,f,h,d,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,o,i,a,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],f=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<c;p++){var v=r[u>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&h]^n[d++],g=r[l>>>24]^o[f>>>16&255]^i[h>>>8&255]^a[255&u]^n[d++],m=r[f>>>24]^o[h>>>16&255]^i[u>>>8&255]^a[255&l]^n[d++],y=r[h>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&f]^n[d++];u=v,l=g,f=m,h=y}v=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[d++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^n[d++],m=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],y=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++],t[e]=v,t[e+1]=g,t[e+2]=m,t[e+3]=y},keySize:8});e.AES=n._createHelper(v)}(),t.AES},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1242:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.WordArray,o=n.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var u=o[i]=[],l=c[i];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=o[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^o[c])&l[c])>>>0];this._lBlock=a,this._rBlock=i^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function d(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}e.DES=o._createHelper(f);var p=i.TripleDES=o.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),o=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=f.createEncryptor(r.create(e)),this._des2=f.createEncryptor(r.create(n)),this._des3=f.createEncryptor(r.create(o))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(p)}(),t.TripleDES},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1243:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,o=r.RC4=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var a=o%n,s=e[a>>>2]>>>24-a%4*8&255;i=(i+r[o]+s)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+t[e=(e+1)%256])%256;var i=t[e];t[e]=t[n],t[n]=i,r|=t[(t[e]+t[n])%256]<<24-8*o}return this._i=e,this._j=n,r}e.RC4=n._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)i.call(this)}});e.RC4Drop=n._createHelper(a)}(),t.RC4},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1244:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,o=[],i=[],a=[],s=r.Rabbit=n.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(o[0]^=u,o[1]^=f,o[2]^=l,o[3]^=h,o[4]^=u,o[5]^=f,o[6]^=l,o[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),t[e+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=n._createHelper(s)}(),t.Rabbit},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1245:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,o=[],i=[],a=[],s=r.RabbitLegacy=n.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(r[0]^=u,r[1]^=f,r[2]^=l,r[3]^=h,r[4]^=u,r[5]^=f,r[6]^=l,r[7]^=h,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),t[e+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=n._createHelper(s)}(),t.RabbitLegacy},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1246:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,o=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],s={pbox:[],sbox:[]};function c(t,e){var n=e>>24&255,r=e>>16&255,o=e>>8&255,i=255&e,a=t.sbox[0][n]+t.sbox[1][r];return a^=t.sbox[2][o],a+=t.sbox[3][i]}function u(t,e,n){for(var r,i=e,a=n,s=0;s<o;++s)r=i^=t.pbox[s],i=a=c(t,i)^a,a=r;return r=i,i=a,a=r,a^=t.pbox[o],{left:i^=t.pbox[17],right:a}}var l=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4;!function(t,e,n){for(var r=0;r<4;r++){t.sbox[r]=[];for(var o=0;o<256;o++)t.sbox[r][o]=a[r][o]}for(var s=0,c=0;c<18;c++)t.pbox[c]=i[c]^e[s],++s>=n&&(s=0);for(var l=0,f=0,h=0,d=0;d<18;d+=2)l=(h=u(t,l,f)).left,f=h.right,t.pbox[d]=l,t.pbox[d+1]=f;for(var p=0;p<4;p++)for(var v=0;v<256;v+=2)l=(h=u(t,l,f)).left,f=h.right,t.sbox[p][v]=l,t.sbox[p][v+1]=f}(s,e,n)}},encryptBlock:function(t,e){var n=u(s,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},decryptBlock:function(t,e){var n=function(t,e,n){for(var r,o=e,i=n,a=17;a>1;--a)r=o^=t.pbox[a],o=i=c(t,o)^i,i=r;return r=o,o=i,i=r,i^=t.pbox[1],{left:o^=t.pbox[0],right:i}}(s,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=n._createHelper(l)}(),t.Blowfish},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(o=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1247:function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==("undefined"===typeof t?"undefined":n(t))&&t&&t.Object===Object&&t;e.a=r}).call(this,n(53))},1249:function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},1250:function(t,e,n){"use strict";var r=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},o=n(1206),i=n(1179),a=n(1213),s=n(1195),c=n(1214),u=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(i.a)(t),l=!n&&Object(o.a)(t),f=!n&&!l&&Object(a.a)(t),h=!n&&!l&&!f&&Object(c.a)(t),d=n||l||f||h,p=d?r(t.length,String):[],v=p.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||Object(s.a)(g,v))||p.push(g);return p}},1251:function(t,e,n){(function(t){var n,r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,i=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=33)}([function(t,e,n){"use strict";t.exports=function(t,e){var n,r,o,i,a=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1)for(r in n=arguments[o])a.call(n,r)&&(t[r]=n[r]);return t}},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Array}},function(t,e,n){"use strict";var r=n(1),o=n(6),i=n(7);t.exports=function(t,e,n){r(t)?o(t,e,n):i(t,e,n)}},function(t,e,n){"use strict";t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";var r=n(22),o=n(2),i=n(6),a=n(7),s=n(37),c=0,u={getLength:function(t){var e=0;return a(t,(function(){e+=1})),e},map:function(t,e,n){var r=[];return o(t,(function(){r.push(e.apply(n||null,arguments))})),r},filter:function(t,e,n){var r=[];return i(t,(function(t){e.apply(n||null,arguments)&&r.push(t)})),r},generateId:function(){return c+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}};t.exports=u},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e,n){var o,i;if(n=n||0,!r(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,o=n;n>=0&&o<i;o+=1)if(e[o]===t)return o;return-1}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=0,o=t.length;for(n=n||null;r<o&&!1!==e.call(n,t[r],r,t);r+=1);}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}},function(t,e,n){"use strict";var r=n(39),o=n(13),i=n(41),a=n(3),s=n(9),c=n(19),u=n(4);function l(t,e){var n=u.generateId();t=t||{},a(e)&&(e=s.appendHTMLElement("div")),r(e,"tui-view-"+n),this.id=n,this.container=e,this.childs=new c((function(t){return t.id})),this.parent=null}l.prototype.addChild=function(t,e){e&&e.call(t,this),t.parent=this,this.childs.add(t)},l.prototype.removeChild=function(t,e){var n=i(t)?this.childs.items[t]:t;e&&e.call(n,this),this.childs.remove(n.id)},l.prototype.render=function(){this.childs.each((function(t){t.render()}))},l.prototype.recursive=function(t,e){o(t)&&(e||t(this),this.childs.each((function(e){e.recursive(t)})))},l.prototype.resize=function(){for(var t=Array.prototype.slice.call(arguments),e=this.parent;e;)o(e._onResize)&&e._onResize.apply(e,t),e=e.parent},l.prototype._beforeDestroy=function(){},l.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},l.prototype.destroy=function(t){this.childs&&(this.childs.each((function(t){t.destroy(!0),t._destroy()})),this.childs.clear()),t||this._destroy()},l.prototype.getViewBound=function(){var t=this.container.getBoundingClientRect();return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}},t.exports=l},function(t,e,n){"use strict";var r={appendHTMLElement:function(t,e,n){var r=document.createElement(t);return r.className=n||"",e?e.appendChild(r):document.body.appendChild(r),r}};t.exports=r},function(t,e,n){"use strict";var r=n(0),o=n(20),i=n(11),a=n(21),s=n(1),c=n(13),u=n(2),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(t){r(t.prototype,f.prototype)},f.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},f.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},f.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},f.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},f.prototype._forgetContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},f.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},f.prototype.on=function(t,e,n){var r=this;i(t)?(t=t.split(l),u(t,(function(t){r._bindEvent(t,e,n)}))):a(t)&&(n=e,u(t,(function(t,e){r.on(e,t,n)})))},f.prototype.once=function(t,e,n){var r=this;if(a(t))return n=e,void u(t,(function(t,e){r.once(e,t,n)}));this.on(t,(function o(){e.apply(n,arguments),r.off(t,o,n)}),n)},f.prototype._spliceMatches=function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n;r+=1)!0===e(t[r])&&(t.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},f.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var o=t===r.handler,i=e===r.context,a=o&&i;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(t,e){var n=this,r=c(e),o=n._matchHandler(e);t=t.split(l),u(t,(function(t){var e=n._safeEvent(t);r?n._spliceMatches(e,o):(u(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},f.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);u(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},f.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?u(t,(function(t,e){r.off(e,t)})):i(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):c(e)?(n=this._matchHandlerAndContext(e,t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},f.prototype.off=function(t,e){i(t)?this._offByEventName(t,e):arguments.length?c(t)?this._offByHandler(t):a(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},f.prototype.fire=function(t){this.invoke.apply(this,arguments)},f.prototype.invoke=function(t){var e,n,r,o;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(!1===(o=e[r]).handler.apply(o.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(t){return this.getListenerLength(t)>0},f.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=f},function(t,e,n){"use strict";t.exports=function(t){return"string"===typeof t||t instanceof String}},function(t,e,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,o={leadingZero:function(t,e){var n="",r=0;if((t+"").length>e)return t+"";for(;r<e-1;r+=1)n+="0";return(n+t).slice(-1*e)},isValidRGB:function(t){return r.test(t)},hexToRGB:function(t){return!!o.isValidRGB(t)&&(t=t.substring(1),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)])},rgbToHEX:function(t,e,n){var r="#"+o.leadingZero(t.toString(16),2)+o.leadingZero(e.toString(16),2)+o.leadingZero(n.toString(16),2);return!!o.isValidRGB(r)&&r},rgbToHSV:function(t,e,n){var r,o,i,a,s,c;if(t/=255,e/=255,n/=255,s=r=Math.max(t,e,n),c=r-(o=Math.min(t,e,n)),a=0===r?0:c/r,r===o)i=0;else{switch(r){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*s)]},hsvToRGB:function(t,e,n){var r,o,i,a,s,c,u,l;if(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e)),n=Math.max(0,Math.min(100,n)),n/=100,0===(e/=100))return r=o=i=n,[Math.round(255*r),Math.round(255*o),Math.round(255*i)];switch(c=n*(1-e),u=n*(1-e*(s=(t/=60)-(a=Math.floor(t)))),l=n*(1-e*(1-s)),a){case 0:r=n,o=l,i=c;break;case 1:r=u,o=n,i=c;break;case 2:r=c,o=n,i=l;break;case 3:r=c,o=u,i=n;break;case 4:r=l,o=c,i=n;break;default:r=n,o=c,i=u}return[Math.round(255*r),Math.round(255*o),Math.round(255*i)]}};t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Function}},function(t,e,n){"use strict";var r=n(11),o=n(2),i=n(26);function a(t,e,n,r){function a(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),function(t,e,n,r){var a=i(t,e),s=!1;o(a,(function(t){return t.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(t,e,n,a)}t.exports=function(t,e,n,i){r(e)?o(e.split(/\s+/g),(function(e){a(t,e,n,i)})):o(e,(function(e,r){a(t,r,e,n)}))}},function(t,e,n){"use strict";t.exports=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){"use strict";t.exports=function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}},function(t,e,n){"use strict";var r=n(11),o=n(2),i=n(26);function a(t,e,n){var r,a=i(t,e);n?(o(a,(function(o,i){return n!==o.handler||(s(t,e,o.wrappedHandler),r=i,!1)})),a.splice(r,1)):(o(a,(function(n){s(t,e,n.wrappedHandler)})),a.splice(0,a.length))}function s(t,e,n){"removeEventListener"in t?t.removeEventListener(e,n):"detachEvent"in t&&t.detachEvent("on"+e,n)}t.exports=function(t,e,n){r(e)?o(e.split(/\s+/g),(function(e){a(t,e,n)})):o(e,(function(e,n){a(t,n,e)}))}},function(t,e,n){"use strict";var r=n(50);t.exports=function(t,e){var n=r(e.prototype);n.constructor=t,t.prototype=n}},function(t,e,n){"use strict";var r=n(6),o=n(7),i=n(0),a=n(1),s=n(20),c=n(13),u=n(21),l=n(4),f=Array.prototype.slice;function h(t){this.items={},this.length=0,c(t)&&(this.getItemID=t)}h.and=function(t){var e;return t=f.call(arguments),e=t.length,function(n){for(var r=0;r<e;r+=1)if(!t[r].call(null,n))return!1;return!0}},h.or=function(t){var e;return t=f.call(arguments),e=t.length,function(n){for(var r=1,o=t[0].call(null,n);r<e;r+=1)o=o||t[r].call(null,n);return o}},h.merge=function(t){var e={},n=new h(t.getItemID);return r(arguments,(function(t){i(e,t.items)})),n.items=e,n.length=l.getLength(n.items),n},h.prototype.getItemID=function(t){return t._id+""},h.prototype.add=function(t){var e,n;arguments.length>1?r(f.call(arguments),(function(t){this.add(t)}),this):(e=this.getItemID(t),(n=this.items)[e]||(this.length+=1),n[e]=t)},h.prototype.remove=function(t){var e,n,r=[];return this.length?arguments.length>1?r=l.map(f.call(arguments),(function(t){return this.remove(t)}),this):(e=this.items,u(t)&&(t=this.getItemID(t)),e[t]?(this.length-=1,n=e[t],delete e[t],n):r):r},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(t){var e,n;return!!this.length&&(e=c(t),n=!1,e?this.each((function(e){return!0!==t(e)||(n=!0,!1)})):(t=u(t)?this.getItemID(t):t,n=s(this.items[t])),n)},h.prototype.doWhenHas=function(t,e,n){var r=this.items[t];s(r)&&e.call(n||this,r)},h.prototype.find=function(t){var e=new h;return this.hasOwnProperty("getItemID")&&(e.getItemID=this.getItemID),this.each((function(n){!0===t(n)&&e.add(n)})),e},h.prototype.groupBy=function(t,e){var n,o,i={},s=c(t),u=this.getItemID;if(a(t)){if(r(t,(function(t){i[t+""]=new h(u)})),!e)return i;t=e,s=!0}return this.each((function(e){s?o=t(e):(o=e[t],c(o)&&(o=o.apply(e))),(n=i[o])||(n=i[o]=new h(u)),n.add(e)})),i},h.prototype.single=function(){var t;return this.each((function(e){return t=e,!1}),this),t},h.prototype.sort=function(t){var e=[];return this.each((function(t){e.push(t)})),c(t)&&(e=e.sort(t)),e},h.prototype.each=function(t,e){o(this.items,t,e||this)},h.prototype.toArray=function(){return this.length?l.map(this.items,(function(t){return t})):[]},t.exports=h},function(t,e,n){"use strict";var r=n(3),o=n(36);t.exports=function(t){return!r(t)&&!o(t)}},function(t,e,n){"use strict";t.exports=function(t){return t===Object(t)}},function(t,e,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!==typeof window&&window.navigator&&function(){var t,e,n=window.navigator,o=n.appName.replace(/\s/g,"_"),i=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,c=/Edge\/(\d+)\./,u={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},l={Microsoft_Internet_Explorer:function(){var t=i.match(a);t?(r.msie=!0,r.version=parseFloat(t[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(i))r.msie=!0,r.version=11,n=!0;else if(c.exec(i))r.edge=!0,r.version=i.match(c)[1],n=!0;else for(t in u)if(u.hasOwnProperty(t)&&(e=i.match(u[t]))&&e.length>1){r[t]=n=!0,r.version=parseFloat(e[1]||0);break}n||(r.others=!0)}};l[o]&&l[o]()}(),t.exports=r},function(t,e,n){"use strict";var r=n(3);t.exports=function(t){return t&&t.className?r(t.className.baseVal)?t.className:t.className.baseVal:""}},function(t,e,n){"use strict";(function(e){var r=n(10),o=n(42),i=n(44),a=n(47),s=n(28),c=n(17),u=n(14),l=n(15),f=n(0);function h(t,e){u(e,"mousedown",this._onMouseDown,this),this.options=f({distance:10},t),this.container=e,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){c(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(t){var n=this.container;t?(o(n),u(window,"dragstart",l),u(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(i(n),c(window,"dragstart",l),c(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(t){return{target:s(t),originEvent:t}},h.prototype._onMouseDown=function(t){0===a(t)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(t),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(t){var e=this.options.distance;l(t),this._isMoved=!0,this._distance<e?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(t)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(t){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(t));this.fire("click",this._getEventData(t))},r.mixin(h),t.exports=h}).call(this,n(25))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===("undefined"===typeof window?"undefined":a(window))&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t,e){var n,r=t._feEventKey;return r||(r=t._feEventKey={}),(n=r[e])||(n=r[e]=[]),n}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=document.documentElement.style;for(e=0,n=t.length;e<n;e+=1)if(t[e]in r)return t[e];return!1}},function(t,e,n){"use strict";t.exports=function(t){return t.target||t.srcElement}},function(t,e,n){"use strict";var r=n(10),o=n(28),i=n(17),a=n(14),s=n(30),c=n(0),u=n(18),l=n(9),f=n(12),h=n(8),d=n(51);function p(t,e){this.options=c({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},t),e=l.appendHTMLElement("div",e,this.options.cssPrefix+"palette-container"),h.call(this,t,e)}u(p,h),p.prototype._onClick=function(t){var e=this.options,n=o(t),r={};if(s(n,e.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);s(n,e.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(t){var e=this.options,n=o(t),r={};s(n,e.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(t){var e,n=this.options,r=this.container,o=t?a:i;o(r,"click",this._onClick,this),(e=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&o(e,"change",this._onChange,this)},p.prototype.render=function(t){var e,n=this.options;this._toggleEvent(!1),e=d({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:t,isValidRGB:f.isValidRGB,getItemClass:function(t){return t?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(e){return e===t?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=e,this._toggleEvent(!0)},r.mixin(p),t.exports=p},function(t,e,n){"use strict";var r=n(5),o=n(23);t.exports=function(t,e){var n;return t.classList?t.classList.contains(e):(n=o(t).split(/\s+/),r(e,n)>-1)}},function(t,e,n){"use strict";var r=n(10),o=n(53),i=n(54),a=n(30),s=n(0),c=n(18),u=n(9),l=n(32),f=n(12),h=n(8),d=n(24),p=n(57);function v(t,e){(e=u.appendHTMLElement("div",e,t.cssPrefix+"slider-container")).style.display="none",h.call(this,t,e),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},t),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new d({distance:0},e),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}c(v,h),v.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},v.prototype.toggle=function(t){this.container.style.display=t?"block":"none"},v.prototype.isVisible=function(){return"block"===this.container.style.display},v.prototype.render=function(t){var e,n,r=this.container,o=this.options,i=p.layout;f.isValidRGB(t)&&(i=(i=(i=(i=i.replace(/{{slider}}/,p.slider)).replace(/{{huebar}}/,p.huebar)).replace(/{{cssPrefix}}/g,o.cssPrefix)).replace(/{{id}}/g,o.id),this.container.innerHTML=i,this.sliderSvgElement=r.querySelector("."+o.cssPrefix+"svg-slider"),this.huebarSvgElement=r.querySelector("."+o.cssPrefix+"svg-huebar"),this.sliderHandleElement=r.querySelector("."+o.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+o.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+o.cssPrefix+"slider-basecolor"),e=f.hexToRGB(t),n=f.rgbToHSV.apply(null,e),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},v.prototype._setColorSliderPosMax=function(){var t=this.sliderSvgElement.getClientRects()[0];t&&(this.colorSliderPosLimitRange[1]=t.height-10)},v.prototype._moveColorSliderHandle=function(t,e,n){var r,o=this.sliderHandleElement;e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),l.setTranslateXY(o,t,e),r=e>50?"white":"black",l.setStrokeColor(o,r),n||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveSaturationAndValue=function(t,e,n){var r,o,i,a;t=t||0,e=e||0,r=Math.abs(this.colorSliderPosLimitRange[0]),i=t*(o=this.colorSliderPosLimitRange[1])/100-r,a=o-e*o/100-r,this._moveColorSliderHandle(i,a,n)},v.prototype._moveColorSliderByPosition=function(t,e){var n=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(t+n,e+n)},v.prototype.getSaturationAndValue=function(){var t=Math.abs(this.colorSliderPosLimitRange[0]),e=t+this.colorSliderPosLimitRange[1],n=l.getTranslateXY(this.sliderHandleElement);return[(n[1]+t)/e*100,100-(n[0]+t)/e*100]},v.prototype._setHueBarPosMax=function(){var t=this.huebarSvgElement.getClientRects()[0];t&&(this.huebarPosLimitRange[1]=t.height-7)},v.prototype._moveHueHandle=function(t,e){var n,r,o=this.huebarHandleElement,i=this.baseColorElement;t=Math.max(this.huebarPosLimitRange[0],t),t=Math.min(this.huebarPosLimitRange[1],t),l.setTranslateY(o,t),n=f.hsvToRGB(this.getHue(),100,100),r=f.rgbToHEX.apply(null,n),l.setGradientColorStop(i,r),e||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveHue=function(t,e){var n,r;n=((r=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(t=t||0)/359.99-r,this._moveHueHandle(n,e)},v.prototype._moveHueByPosition=function(t){var e=this.huebarPosLimitRange[0];this._moveHueHandle(t+e)},v.prototype.getHue=function(){var t,e,n=this.huebarHandleElement,r=l.getTranslateXY(n);return e=(t=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],359.99*(r[0]+t)/e},v.prototype.getHSV=function(){var t=this.getSaturationAndValue();return[this.getHue()].concat(t)},v.prototype.getRGB=function(){return f.hsvToRGB.apply(null,this.getHSV())},v.prototype._prepareColorSliderForMouseEvent=function(t){var e=this.options,n=i(t.target,"."+e.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:a(n,e.cssPrefix+"slider-left"),parentElement:n}},v.prototype._onClick=function(t){var e=this._prepareColorSliderForMouseEvent(t),n=o(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},v.prototype._onDragStart=function(t){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(t)},v.prototype._onDrag=function(t){var e=this._dragDataCache,n=o(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},v.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(v),t.exports=v},function(t,e,n){"use strict";var r=n(4).isOldBrowser,o=/[\.\-0-9]+/g,i={getTranslateXY:function(t){var e;return r?(e=t.style,[parseFloat(e.top),parseFloat(e.left)]):(e=t.getAttribute("transform"))?(e=e.match(o),[parseFloat(e[1]),parseFloat(e[0])]):[0,0]},setTranslateXY:function(t,e,n){r?(t.style.left=e+"px",t.style.top=n+"px"):t.setAttribute("transform","translate("+e+","+n+")")},setTranslateY:function(t,e){r?t.style.top=e+"px":t.setAttribute("transform","translate(-6,"+e+")")},setStrokeColor:function(t,e){r?t.strokecolor=e:t.setAttribute("stroke",e)},setGradientColorStop:function(t,e){r?t.color=e:t.setAttribute("stop-color",e)}};t.exports=i},function(t,e,n){n(34),t.exports=n(35)},function(t,e,n){},function(t,e,n){"use strict";var r={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return null===t}},function(t,e,n){"use strict";var r=n(3),o=n(38);t.exports=function(t,e){var n=location.hostname,i="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(i);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>6048e5}(a)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){var n=document.createElement("img"),o="";return r(e,(function(t,e){o+="&"+e+"="+t})),o=o.substring(1),n.src=t+"?"+o,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(t,e,n){"use strict";var r=n(2),o=n(5),i=n(23),a=n(40);t.exports=function(t){var e,n=Array.prototype.slice.call(arguments,1),s=t.classList,c=[];s?r(n,(function(e){t.classList.add(e)})):((e=i(t))&&(n=[].concat(e.split(/\s+/),n)),r(n,(function(t){o(t,c)<0&&c.push(t)})),a(t,c))}},function(t,e,n){"use strict";var r=n(1),o=n(3);t.exports=function(t,e){e=(e=r(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(t.className.baseVal)?t.className=e:t.className.baseVal=e}},function(t,e,n){"use strict";t.exports=function(t){return"number"===typeof t||t instanceof Number}},function(t,e,n){"use strict";var r=n(14),o=n(15),i=n(43),a=n(27),s="onselectstart"in document,c=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),s?r(t,"selectstart",o):(t=t===document?document.documentElement:t,i(t,"prevUserSelect",t.style[c]),t.style[c]="none")}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e,n){t.dataset?t.dataset[e]=n:t.setAttribute("data-"+r(e),n)}},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(45),a=n(46),s=n(27),c="onselectstart"in document,u=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),c?r(t,"selectstart",o):((t=t===document?document.documentElement:t).style[u]=i(t,"prevUserSelect")||"auto",a(t,"prevUserSelect"))}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){return t.dataset?t.dataset[e]:t.getAttribute("data-"+r(e))}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){t.dataset?delete t.dataset[e]:t.removeAttribute("data-"+r(e))}},function(t,e,n){"use strict";var r=n(22),o=n(5),i=["0","1","3","5","7"],a=["2","6"],s=["4"];t.exports=function(t){return r.msie&&r.version<=8?function(t){var e=String(t.button);return o(e,i)>-1?0:o(e,a)>-1?2:o(e,s)>-1?1:null}(t):t.button}},function(t,e,n){"use strict";var r=n(10),o=n(0),i=n(4),a=n(12),s=n(49),c=n(29),u=n(31),l=0;function f(t){var e;if(!(this instanceof f))return new f(t);if(!(t=this.options=o({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:l+=1,usageStatistics:!0},t)).container)throw new Error("ColorPicker(): need container option.");e=this.layout=new s(t,t.container),this.palette=new c(t,e.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new u(t,e.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),e.addChild(this.palette),e.addChild(this.slider),this.render(t.color),t.usageStatistics&&i.sendHostName()}f.prototype._onSelectColorInPalette=function(t){var e=t.color,n=this.options;a.isValidRGB(e)||""===e?(this.fire("selectColor",{color:e,origin:"palette"}),n.color!==e&&(n.color=e,this.render(e))):this.render()},f.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},f.prototype._onSelectColorInSlider=function(t){var e=t.color,n=this.options;this.fire("selectColor",{color:e,origin:"slider"}),n.color!==e&&(n.color=e,this.palette.render(e))},f.prototype.setColor=function(t){if(!a.isValidRGB(t))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=t,this.render(t)},f.prototype.getColor=function(){return this.options.color},f.prototype.toggle=function(t){this.layout.container.style.display=t?"block":"none"},f.prototype.render=function(t){this.layout.render(t||this.options.color)},f.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(f),t.exports=f},function(t,e,n){"use strict";var r=n(0),o=n(18),i=n(9),a=n(8);function s(t,e){this.options=r({cssPrefix:"tui-colorpicker-"},t),e=i.appendHTMLElement("div",e,this.options.cssPrefix+"container"),a.call(this,t,e),this.render()}o(s,a),s.prototype.render=function(t){this.recursive((function(e){e.render(t)}),!0)},t.exports=s},function(t,e,n){"use strict";t.exports=function(t){function e(){}return e.prototype=t,new e}},function(t,e,n){"use strict";var r=n(52);t.exports=function(t){var e=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(e,t)}},function(t,e,n){"use strict";var r=n(5),o=n(2),i=n(1),a=n(11),s=n(0),c=/{{\s?|\s?}}/g,u=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,l=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,d=/^["']\w+["']$/,p=/"|'/g,v=/^-?\d+\.?\d*$/,g={if:function(t,e,n){var r=function(t,e){var n=[t],r=[],i=0,a=0;return o(e,(function(t,o){0===t.indexOf("if")?i+=1:"/if"===t?i-=1:i||0!==t.indexOf("elseif")&&"else"!==t||(n.push("else"===t?["true"]:t.split(" ").slice(1)),r.push(e.slice(a,o)),a=o+1)})),r.push(e.slice(a)),{exps:n,sourcesInsideIf:r}}(t,e),i=!1,a="";return o(r.exps,(function(t,e){return(i=_(t,n))&&(a=w(r.sourcesInsideIf[e],n)),!i})),a},each:function(t,e,n){var r=_(t,n),a=i(r)?"@index":"@key",c={},u="";return o(r,(function(t,r){c[a]=r,c["@this"]=t,s(n,c),u+=w(e.slice(),n)})),u},with:function(t,e,n){var o=r("as",t),i=t[o+1],a=_(t.slice(0,o),n),c={};return c[i]=a,w(e,s(n,c))||""}},m=3==="a".split(/a/).length?function(t,e){return t.split(e)}:function(t,e){var n,r,o=[],i=0;for(e.global||(e=new RegExp(e,"g")),n=e.exec(t);null!==n;)r=n.index,o.push(t.slice(i,r)),i=r+n[0].length,n=e.exec(t);return o.push(t.slice(i)),o};function y(t,e){var n,r=e[t];return"true"===t?r=!0:"false"===t?r=!1:d.test(t)?r=t.replace(p,""):u.test(t)?r=y((n=t.split(l))[0],e)[y(n[1],e)]:f.test(t)?r=y((n=t.split(h))[0],e)[n[1]]:v.test(t)&&(r=parseFloat(t)),r}function b(t,e,n){for(var r,o=g[t],i=1,s=2,c=e[s];i&&a(c);)0===c.indexOf(t)?i+=1:0===c.indexOf("/"+t)&&(i-=1,r=s),c=e[s+=2];if(i)throw Error(t+" needs {{/"+t+"}} expression.");return e[0]=o(e[0].split(" ").slice(1),function(t,e,n){var r=t.splice(e+1,n-e);return r.pop(),r}(e,0,r),n),e}function _(t,e){var n=y(t[0],e);return n instanceof Function?function(t,e,n){var r=[];return o(e,(function(t){r.push(y(t,n))})),t.apply(null,r)}(n,t.slice(1),e):n}function w(t,e){for(var n,r,o,i=1,s=t[i];a(s);)r=(n=s.split(" "))[0],g[r]?(o=b(r,t.splice(i,t.length-i),e),t=t.concat(o)):t[i]=_(n,e),s=t[i+=2];return t.join("")}t.exports=function(t,e){return w(m(t,c),e)}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){var n,o=r(t),i=o?t[0]:t.clientX,a=o?t[1]:t.clientY;return e?[i-(n=e.getBoundingClientRect()).left-e.clientLeft,a-n.top-e.clientTop]:[i,a]}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t,e){var n=t.parentNode;if(r(t,e))return t;for(;n&&n!==document;){if(r(n,e))return n;n=n.parentNode}return null}},function(t,e,n){"use strict";var r=n(5),o=n(56),i=Element.prototype,a=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return r(this,o(e.querySelectorAll(t)))>-1};t.exports=function(t,e){return a.call(t,e)}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],r(t,(function(t){e.push(t)}))}return e}},function(t,e,n){"use strict";(function(e){var r=n(4).isOldBrowser,o=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),i=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),c=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&e.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.exports={layout:o,slider:r?a:i,huebar:r?c:s}}).call(this,n(25))}])},"object"===a(e)&&"object"===a(t)?t.exports=i():(r=[],void 0===(o="function"===typeof(n=i)?n.apply(e,r):n)||(t.exports=o))}).call(this,n(157)(t))},1252:function(t,e,n){(function(t){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,a=function(t,e){return o={},n.m=r=[function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1);function i(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getStartKey(),o=e.getEndKey(),i=n.getBlockMap();return i.toSeq().skipUntil((function(t,e){return e===r})).takeUntil((function(t,e){return e===o})).concat([[o,i.get(o)]])}function a(t){return i(t).toList()}function c(t){if(t)return a(t).get(0)}function u(t){if(t){var e=c(t),n=t.getCurrentContent().getBlockMap().toSeq().toList(),r=0;if(n.forEach((function(t,n){t.get("key")===e.get("key")&&(r=n-1)})),-1<r)return n.get(r)}}function l(t){return t?t.getCurrentContent().getBlockMap().toList():new o.List}function f(t){var e=a(t);if(!e.some((function(t){return t.type!==e.get(0).type})))return e.get(0).type}function h(t){var e=r.RichUtils.tryToRemoveBlockStyle(t);return e?r.EditorState.push(t,e,"change-block-type"):t}function d(t){var e="",n=t.getSelection(),r=n.getAnchorOffset(),o=n.getFocusOffset(),i=a(t);if(0<i.size){if(n.getIsBackward()){var s=r;r=o,o=s}for(var c=0;c<i.size;c+=1){var u=0===c?r:0,l=c===i.size-1?o:i.get(c).getText().length;e+=i.get(c).getText().slice(u,l)}}return e}function p(t){var e=t.getCurrentContent(),n=t.getSelection(),o=r.Modifier.removeRange(e,n,"forward"),i=o.getSelectionAfter(),a=o.getBlockForKey(i.getStartKey());return o=r.Modifier.insertText(o,i,"\n",a.getInlineStyleAt(i.getStartOffset()),null),r.EditorState.push(t,o,"insert-fragment")}function v(t){var e=r.Modifier.splitBlock(t.getCurrentContent(),t.getSelection());return h(r.EditorState.push(t,e,"split-block"))}function g(t){var e=t.getCurrentContent().getBlockMap().toList(),n=t.getSelection().merge({anchorKey:e.first().get("key"),anchorOffset:0,focusKey:e.last().get("key"),focusOffset:e.last().getLength()}),o=r.Modifier.removeRange(t.getCurrentContent(),n,"forward");return r.EditorState.push(t,o,"remove-range")}function m(t,e){var n=r.Modifier.setBlockData(t.getCurrentContent(),t.getSelection(),e);return r.EditorState.push(t,n,"change-block-data")}function y(t){var e=new o.Map({}),n=a(t);if(n&&0<n.size)for(var r=function(t){var r=n.get(t).getData();if(!r||0===r.size)return e=e.clear(),"break";if(0===t)e=r;else if(e.forEach((function(t,n){r.get(n)&&r.get(n)===t||(e=e.delete(n))})),0===e.size)return e=e.clear(),"break"},i=0;i<n.size&&"break"!==r(i);i+=1);return e}var b=Object(o.Map)({code:{element:"pre"}}),_=r.DefaultDraftBlockRenderMap.merge(b);function w(t){if(t){var e=t.getType();return"unordered-list-item"===e||"ordered-list-item"===e}return!1}function x(t,e,n){var o,a=t.getSelection();o=a.getIsBackward()?a.getFocusKey():a.getAnchorKey();var s=t.getCurrentContent(),c=s.getBlockForKey(o),u=c.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;var l=s.getBlockBefore(o);if(!l)return t;if(l.getType()!==u)return t;var f=c.getDepth();if(1===e&&f===n)return t;var h,d,p,v,g,m,y,b=Math.min(l.getDepth()+1,n),_=(d=e,p=b,v=(h=t).getSelection(),m=(g=h.getCurrentContent()).getBlockMap(),y=i(h).map((function(t){var e=t.getDepth()+d;return e=Math.max(0,Math.min(e,p)),t.set("depth",e)})),m=m.merge(y),g.merge({blockMap:m,selectionBefore:v,selectionAfter:v}));return r.EditorState.push(t,_,"adjust-depth")}function S(t,e){var n;return 13===(n=e).which&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))?t.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(t):p(t):function(t){var e=t.getSelection();if(e.isCollapsed()){var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockForKey(r);if(!w(o)&&"unstyled"!==o.getType()&&o.getLength()===e.getStartOffset())return v(t);if(w(o)&&0===o.getLength()){var i=o.getDepth();if(0===i)return h(t);if(0<i)return x(t,-1,i)}}}(t)}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){return(k="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}function M(t){var e=t.getSelection();if(e.isCollapsed()){var n={},r=t.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(t){n[t]=0<=r.indexOf(t)})),n}var o=e.getStartOffset(),i=e.getEndOffset(),s=a(t);if(0<s.size){var c=function(){for(var t={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},e=0;e<s.size;e+=1){var n=0===e?o:0,r=e===s.size-1?i:s.get(e).getText().length;n===r&&0===n?(n=1,r=2):n===r&&--n;for(var a=function(n){var r=s.get(e).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(e){t[e]=t[e]&&r.get(e)===e}))},c=n;c<r;c+=1)a(c)}return{v:t}}();if("object"===k(c))return c.v}return{}}function E(t){var e,n=t.getSelection(),r=n.getStartOffset(),o=n.getEndOffset();r===o&&0===r?o=1:r===o&&--r;for(var i=c(t),a=r;a<o;a+=1){var s=i.getEntityAt(a);if(!s){e=void 0;break}if(a===r)e=s;else if(e!==s){e=void 0;break}}return e}function j(t,e){var n,r=c(t);return r.findEntityRanges((function(t){return t.get("entity")===e}),(function(t,e){n={start:t,end:e,text:r.get("text").slice(t,e)}})),n}function I(t,e,n){T[t]["".concat(t.toLowerCase(),"-").concat(n)]=O({},"".concat(e),n)}function A(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},T.color,{},T.bgcolor,{},T.fontSize,{},T.fontFamily,{CODE:T.CODE,SUPERSCRIPT:T.SUPERSCRIPT,SUBSCRIPT:T.SUBSCRIPT})}var T={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}};function P(t,e,n){var o=t.getSelection(),i=Object.keys(T[e]).reduce((function(t,e){return r.Modifier.removeInlineStyle(t,o,e)}),t.getCurrentContent()),a=r.EditorState.push(t,i,"changeinline-style"),s=t.getCurrentInlineStyle();if(o.isCollapsed()&&(a=s.reduce((function(t,e){return r.RichUtils.toggleInlineStyle(t,e)}),a)),"SUPERSCRIPT"===e||"SUBSCRIPT"==e)s.has(n)||(a=r.RichUtils.toggleInlineStyle(a,n));else{var c="bgcolor"===e?"backgroundColor":e;s.has("".concat(c,"-").concat(n))||(a=r.RichUtils.toggleInlineStyle(a,"".concat(e.toLowerCase(),"-").concat(n)),I(e,c,n))}return a}function D(t){t&&t.getCurrentContent().getBlockMap().map((function(t){return t.get("characterList")})).toList().flatten().forEach((function(t){t&&0===t.indexOf("color-")?I("color","color",t.substr(6)):t&&0===t.indexOf("bgcolor-")?I("bgcolor","backgroundColor",t.substr(8)):t&&0===t.indexOf("fontsize-")?I("fontSize","fontSize",+t.substr(9)):t&&0===t.indexOf("fontfamily-")&&I("fontFamily","fontFamily",t.substr(11))}))}function N(t,e,n){var r=t.getInlineStyleAt(n).toList().filter((function(t){return t.startsWith(e.toLowerCase())}));if(r&&0<r.size)return r.get(0)}function L(t,e){if(t&&e&&0<e.length){var n=function(){var n=t.getSelection(),r={};if(n.isCollapsed())return e.forEach((function(e){r[e]=function(t,e){var n=t.getCurrentInlineStyle().toList().filter((function(t){return t.startsWith(e.toLowerCase())}));if(n&&0<n.size)return n.get(0)}(t,e)})),{v:r};var o=n.getStartOffset(),i=n.getEndOffset(),s=a(t);if(0<s.size){for(var c=function(t){var n=0===t?o:0,a=t===s.size-1?i:s.get(t).getText().length;n===a&&0===n?(n=1,a=2):n===a&&--n;for(var c=function(o){o===n?e.forEach((function(e){r[e]=N(s.get(t),e,o)})):e.forEach((function(e){r[e]&&r[e]!==N(s.get(t),e,o)&&(r[e]=void 0)}))},u=n;u<a;u+=1)c(u)},u=0;u<s.size;u+=1)c(u);return{v:r}}}();if("object"===k(n))return n.v}return{}}function R(t){var e=t.getCurrentInlineStyle(),n=t.getCurrentContent();return e.forEach((function(e){n=r.Modifier.removeInlineStyle(n,t.getSelection(),e)})),r.EditorState.push(t,n,"change-inline-style")}n.d(e,"isListBlock",(function(){return w})),n.d(e,"changeDepth",(function(){return x})),n.d(e,"handleNewLine",(function(){return S})),n.d(e,"getEntityRange",(function(){return j})),n.d(e,"getCustomStyleMap",(function(){return A})),n.d(e,"toggleCustomInlineStyle",(function(){return P})),n.d(e,"getSelectionEntity",(function(){return E})),n.d(e,"extractInlineStyle",(function(){return D})),n.d(e,"removeAllInlineStyles",(function(){return R})),n.d(e,"getSelectionInlineStyle",(function(){return M})),n.d(e,"getSelectionCustomInlineStyle",(function(){return L})),n.d(e,"getSelectedBlocksMap",(function(){return i})),n.d(e,"getSelectedBlocksList",(function(){return a})),n.d(e,"getSelectedBlock",(function(){return c})),n.d(e,"getBlockBeforeSelectedBlock",(function(){return u})),n.d(e,"getAllBlocks",(function(){return l})),n.d(e,"getSelectedBlocksType",(function(){return f})),n.d(e,"removeSelectedBlocksStyle",(function(){return h})),n.d(e,"getSelectionText",(function(){return d})),n.d(e,"addLineBreakRemovingSelection",(function(){return p})),n.d(e,"insertNewUnstyledBlock",(function(){return v})),n.d(e,"clearEditorContent",(function(){return g})),n.d(e,"setBlockData",(function(){return m})),n.d(e,"getSelectedBlocksMetadata",(function(){return y})),n.d(e,"blockRenderMap",(function(){return _}))}],n.c=o,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==s(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2);function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r,o},"object"==s(e)&&"object"==s(t)?t.exports=a(n(20),n(4)):(o=[n(20),n(4)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))}).call(this,n(157)(t))},1253:function(t,e,n){"use strict";t.exports=n(1299)},1254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tupleNum=e.tuple=void 0;e.tuple=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e};e.tupleNum=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}},1255:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(27),i=(r=o)&&r.__esModule?r:{default:r};e.getComponentLocale=function(t,e,n,r){var o={};if(e&&e.antLocale&&e.antLocale[n])o=e.antLocale[n];else{var a=r();o=a.default||a}var s=(0,i.default)({},o);t.locale&&(s=(0,i.default)({},s,t.locale),t.locale.lang&&(s.lang=(0,i.default)({},o.lang,t.locale.lang)));return s},e.getLocaleCode=function(t){var e=t.antLocale&&t.antLocale.locale;if(t.antLocale&&t.antLocale.exist&&!e)return"zh-cn";return e}},1256:function(t,e,n){var r=n(351);t.exports=function(t,e){return r(t,e)}},1257:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(27)),o=f(n(39)),i=f(n(40)),a=f(n(37)),s=f(n(45)),c=f(n(75)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),l=f(n(1345));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},d=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.children,o=t.className,i=t.style,a=t.renderHeader,s=t.renderFooter,l=h(t,["prefixCls","children","className","style","renderHeader","renderFooter"]),f=(0,c.default)(e,o);return u.createElement("div",(0,r.default)({className:f,style:i},l),a?u.createElement("div",{className:e+"-header"},"function"===typeof a?a():a):null,n?u.createElement("div",{className:e+"-body"},n):null,s?u.createElement("div",{className:e+"-footer"},"function"===typeof s?s():s):null)}}]),e}(u.Component);e.default=d,d.Item=l.default,d.defaultProps={prefixCls:"am-list"},t.exports=e.default},1258:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.fixControlledValue=C,e.resolveOnChange=O,e.getInputClassName=k,e.default=e.InputSizes=void 0;var o=v(n(3)),i=v(n(13)),a=n(1182),s=d(n(661)),c=d(n(1207)),u=n(1254),l=v(n(1381)),f=n(1181),h=d(n(347));function d(t){return t&&t.__esModule?t:{default:t}}function p(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function v(t){if(t&&t.__esModule)return t;if(null===t||"object"!==g(t)&&"function"!==typeof t)return{default:t};var e=p();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function g(t){return(g="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==g(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=(0,u.tuple)("small","default","large");function C(t){return"undefined"===typeof t||null===t?"":t}function O(t,e,n){if(n){var r=e;if("click"===e.type){(r=Object.create(e)).target=t,r.currentTarget=t;var o=t.value;return t.value="",n(r),void(t.value=o)}n(r)}}function k(t,e,n){var r;return(0,s.default)(t,(x(r={},"".concat(t,"-sm"),"small"===e),x(r,"".concat(t,"-lg"),"large"===e),x(r,"".concat(t,"-disabled"),n),r))}e.InputSizes=S;var M=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=b(this,_(e).call(this,t))).saveClearableInput=function(t){n.clearableInput=t},n.saveInput=function(t){n.input=t},n.handleReset=function(t){n.setValue("",(function(){n.focus()})),O(n.input,t,n.props.onChange)},n.renderInput=function(t){var e=n.props,r=e.className,i=e.addonBefore,a=e.addonAfter,u=e.size,l=e.disabled,f=(0,c.default)(n.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType"]);return o.createElement("input",m({},f,{onChange:n.handleChange,onKeyDown:n.handleKeyDown,className:(0,s.default)(k(t,u,l),x({},r,r&&!i&&!a)),ref:n.saveInput}))},n.handleChange=function(t){n.setValue(t.target.value),O(n.input,t,n.props.onChange)},n.handleKeyDown=function(t){var e=n.props,r=e.onPressEnter,o=e.onKeyDown;13===t.keyCode&&r&&r(t),o&&o(t)},n.renderComponent=function(t){var e=t.getPrefixCls,r=n.state.value,i=e("input",n.props.prefixCls);return o.createElement(l.default,m({},n.props,{prefixCls:i,inputType:"input",value:C(r),element:n.renderInput(i),handleReset:n.handleReset,ref:n.saveClearableInput}))};var r="undefined"===typeof t.value?t.defaultValue:t.value;return n.state={value:r},n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,t),n=e,i=[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}],(r=[{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(t){return(0,l.hasPrefixSuffix)(t)!==(0,l.hasPrefixSuffix)(this.props)&&(0,h.default)(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(t,e){"value"in this.props||this.setState({value:t},e)}},{key:"render",value:function(){return o.createElement(f.ConfigConsumer,null,this.renderComponent)}}])&&y(n.prototype,r),i&&y(n,i),e}(o.Component);M.defaultProps={type:"text"},M.propTypes={type:i.string,id:i.string,size:i.oneOf(S),maxLength:i.number,disabled:i.bool,value:i.any,defaultValue:i.any,className:i.string,addonBefore:i.node,addonAfter:i.node,prefixCls:i.string,onPressEnter:i.func,onKeyDown:i.func,onKeyUp:i.func,onFocus:i.func,onBlur:i.func,prefix:i.node,suffix:i.node,allowClear:i.bool},(0,a.polyfill)(M);var E=M;e.default=E},1259:function(t,e,n){var r=n(186),o=n(674),i=n(1273),a=n(211),s=n(212),c=n(1288),u=n(671),l=n(668),f=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=a(e,t),u||(u=e.length>1),e})),s(t,l(t),n),u&&(n=o(n,7,c));for(var f=e.length;f--;)i(n,e[f]);return n}));t.exports=f},1260:function(t,e,n){"use strict";n(343),n(665),n(1382)},1261:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(27)),o=p(n(39)),i=p(n(40)),a=p(n(37)),s=p(n(45)),c=d(n(3)),u=d(n(13)),l=p(n(1385)),f=n(1255),h=p(n(666));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=(0,f.getComponentLocale)(this.props,this.context,"PullToRefresh",(function(){return n(1383)})),e=t.activateText,o=t.deactivateText,i=t.finishText,a=(0,r.default)({activate:e,deactivate:o,release:c.createElement(h.default,{type:"loading"}),finish:i},this.props.indicator);return c.createElement(l.default,(0,r.default)({},this.props,{indicator:a}))}}]),e}(c.Component);e.default=v,v.defaultProps={prefixCls:"am-pull-to-refresh"},v.contextTypes={antLocale:u.object},t.exports=e.default},1263:function(t,e,n){(function(e){for(var r=n(1388),o="undefined"===typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],c=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!c){var l=0,f=0,h=[];s=function(t){if(0===h.length){var e=r(),n=Math.max(0,1e3/60-(e-l));l=n+e,setTimeout((function(){var t=h.slice(0);h.length=0;for(var e=function(){if(!t[n].cancelled)try{t[n].callback(l)}catch(e){setTimeout((function(){throw e}),0)}},n=0;n<t.length;n++)e()}),Math.round(n))}return h.push({handle:++f,callback:t,cancelled:!1}),f},c=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return s.call(o,t)},t.exports.cancel=function(){c.apply(o,arguments)},t.exports.polyfill=function(t){t||(t=o),t.requestAnimationFrame=s,t.cancelAnimationFrame=c}}).call(this,n(53))},1264:function(t,e,n){"use strict";var r=function(){};t.exports=r},1265:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(1189),o=n(20);function i(t,e){void 0===e&&(e="\r\n");var n=[],r=t.getCurrentContent();return r.getBlocksAsArray().forEach((function(t){n.push(function(t,e){if("atomic"===e.getType()){var n=e.getData().get("type"),r=a[n];return r||"["+n+"]"}var i=[];e.findEntityRanges((function(e){var n=e.getEntity();return null!==n&&"INLINETEX"===t.getEntity(n).getType()}),(function(t,n){var r=e.getEntityAt(t);i.push({key:r,start:t,end:n})}));var s=e.getText();i.length>0&&(i=i.reverse()).forEach((function(t){try{var e=o.Entity.get(t.key).getData().teX;e&&e.length>0&&(s=s.substring(0,t.start)+"$$ "+e+" $$"+s.substring(t.end))}catch(n){}}));return s}(r,t))})),n.filter((function(t){return t.length>0})).join(e)}var a={IMAGE:"\ud83d\udcf7",AUDIO:"\ud83c\udfb5",VIDEO:"\ud83c\udfa5",DISK:"\ud83d\udcce"};function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){for(var e,n=[],r=/\$\$(.+?)\$\$/g;null!==(e=r.exec(t));)n.push({start:e.index,end:e.index+e[0].length,text:e[1]});return n}var l="INSERT",f="REPLACE";function h(t,e,n,r,i,a){void 0===e&&(e=l),void 0===r&&(r=""),void 0===i&&(i=0),void 0===a&&(a=0);var s,c=t.getCurrentContent(),u=t.getSelection(),h=0,d=0,p=c.createEntity("INLINETEX","IMMUTABLE",{teX:""+n}).getLastCreatedEntityKey();switch(e){case l:var v=o.Modifier.removeRange(c,u,"backward"),g=v.getSelectionAfter();s=o.Modifier.insertText(v,g," ",void 0,p),h=g.getAnchorOffset(),d=c.getBlockForKey(g.getAnchorKey()).getLength();break;case f:var m=o.SelectionState.createEmpty(r).merge({anchorOffset:i,focusOffset:a});s=o.Modifier.replaceText(c,m,""===n?"":" ",c.getBlockForKey(r).getInlineStyleAt(i),""===n?void 0:p),h=a,d=c.getBlockForKey(m.getAnchorKey()).getLength();break;default:throw new Error('Unidentified value of "mode"')}h===d&&(s=o.Modifier.insertText(s,s.getSelectionAfter()," ")),0===h&&0===d&&(s=o.Modifier.insertText(s,u," "));var y=o.EditorState.push(t,s,"apply-entity");return o.EditorState.forceSelection(y,s.getSelectionAfter())}var d={toPlainText:i,isEditorState:function(t){try{if(t&&t.getImmutable&&"function"===typeof t.getImmutable){var e=t.getImmutable();if(e&&"function"===typeof e.toJS)return!0}}catch(n){return!1}return!1},toJson:function(t){return JSON.stringify(Object(o.convertToRaw)(t.getCurrentContent()))},hasValuableContent:function(t){if(i(t).trim().length>0)return!0;for(var e,n=t.getCurrentContent(),a=c(n.getBlocksAsArray());!(e=a()).done;){var s=e.value;if(s.type&&"atomic"===s.type)return!0}var u=Object(o.convertToRaw)(n);return Object(r.a)(null==u?void 0:u.entityMap).length>0},findFormulas:u,addFormula:h,autoConvertFormulas:function(t){var e=t;return t.getCurrentContent().getBlocksAsArray().forEach((function(t){if("atomic"===t.getType());else{var n=t.getKey(),r=u(t.getText());if(r.length>0)for(var i=r.length-1;i>=0;i--){var a=r[i];e=h(e=o.EditorState.acceptSelection(e,new o.SelectionState({anchorKey:n,anchorOffset:a.start,focusKey:n,focusOffset:a.end,isBackward:!1})),l,a.text)}}})),e}}},1267:function(t,e,n){"use strict";n(1357),n(1359)},1268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nonsense=void 0;var r=h(n(39)),o=h(n(37)),i=h(n(45)),a=f(n(3)),s=n(1360),c=h(s),u=f(n(13)),l=h(n(1367));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}e.nonsense=a.createElement("div",null);var d=function(t){function e(){(0,r.default)(this,e);var t=(0,o.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.popupProps=l.default,t}return(0,i.default)(e,t),e}(c.default);e.default=d,d.defaultProps=(0,s.getDefaultProps)(),d.contextTypes={antLocale:u.object}},1269:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1270)),i=r(n(138)),a=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function s(t){return null===t||void 0===t}var c=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(t,e){s(t.which)&&(t.which=s(e.charCode)?e.keyCode:e.charCode),void 0===t.metaKey&&(t.metaKey=t.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(t,e){var n=void 0,r=void 0,o=void 0,i=e.wheelDelta,a=e.axis,s=e.wheelDeltaY,c=e.wheelDeltaX,u=e.detail;i&&(o=i/120),u&&(o=0-(u%3===0?u/3:u)),void 0!==a&&(a===t.HORIZONTAL_AXIS?(r=0,n=0-o):a===t.VERTICAL_AXIS&&(n=0,r=o)),void 0!==s&&(r=s/120),void 0!==c&&(n=-1*c/120),n||r||(r=o),void 0!==n&&(t.deltaX=n),void 0!==r&&(t.deltaY=r),void 0!==o&&(t.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(t,e){var n=void 0,r=void 0,o=void 0,i=t.target,a=e.button;return i&&s(t.pageX)&&!s(e.clientX)&&(r=(n=i.ownerDocument||document).documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===i?t.toElement:t.fromElement),t}}];function u(){return!0}function l(){return!1}function f(t){var e=t.type,n="function"===typeof t.stopPropagation||"boolean"===typeof t.cancelBubble;o.default.call(this),this.nativeEvent=t;var r=l;"defaultPrevented"in t?r=t.defaultPrevented?u:l:"getPreventDefault"in t?r=t.getPreventDefault()?u:l:"returnValue"in t&&(r=!1===t.returnValue?u:l),this.isDefaultPrevented=r;var i=[],s=void 0,f=void 0,h=a.concat();for(c.forEach((function(t){e.match(t.reg)&&(h=h.concat(t.props),t.fix&&i.push(t.fix))})),s=h.length;s;)this[f=h[--s]]=t[f];for(!this.target&&n&&(this.target=t.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),s=i.length;s;)(0,i[--s])(this,t);this.timeStamp=t.timeStamp||Date.now()}var h=o.default.prototype;(0,i.default)(f.prototype,h,{constructor:f,preventDefault:function(){var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,h.preventDefault.call(this)},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,h.stopPropagation.call(this)}}),e.default=f,t.exports=e.default},1270:function(t,e,n){"use strict";function r(){return!1}function o(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=o},stopPropagation:function(){this.isPropagationStopped=o},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},halt:function(t){t?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},e.default=i,t.exports=e.default},1271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3)),o=i(n(75));function i(t){return t&&t.__esModule?t:{default:t}}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=(0,i(n(1362)).default)((function(t){var e=t.prefixCls,n=t.className,i=t.rootNativeProps,s=t.children,c=t.style,u=t.getValue(),l=r.Children.map(s,(function(e,n){return r.cloneElement(e,{selectedValue:u[n],onValueChange:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.onValueChange.apply(t,[n].concat(r))},onScrollChange:t.onScrollChange&&function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.onScrollChange.apply(t,[n].concat(r))}})}));return r.createElement("div",a({},i,{style:c,className:(0,o.default)(n,e)}),l)}));e.default=s},1272:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3)),i=s(n(75)),a=s(n(1363));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,h(e).call(this,t))).scrollHanders=function(){var t=-1,e=0,r=0,o=!1,i=!1,a=function(t,e){t.transform=e,t.webkitTransform=e},s=function(t,e){t.transition=e,t.webkitTransition=e},c=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3;t!==r&&(t=r,o&&!n.props.noAnimate&&s(n.contentRef.style,"cubic-bezier(0,0,0.2,1.15) ".concat(o,"s")),a(n.contentRef.style,"translate3d(0,".concat(-r,"px,0)")),setTimeout((function(){n.scrollingComplete(),n.contentRef&&s(n.contentRef.style,"")}),1e3*+o))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=0,r=0,o=0,i={record:function(i){var a=+new Date;o=(i-r)/(a-n),a-n>=t&&(o=a-n<=e?o:0,r=i,n=a)},getVelocity:function(t){return t!==r&&i.record(t),o}};return i}(),l=function(){i=!1;var e=t,r=(n.props.children.length-1)*n.itemHeight,o=.3,a=4*u.getVelocity(e);a&&(e=40*a+e,o=.1*Math.abs(a)),e%n.itemHeight!==0&&(e=Math.round(e/n.itemHeight)*n.itemHeight),e<0?e=0:e>r&&(e=r),c(0,e,o<.3?.3:o),n.onScrollChange()},f=function(n){o||(i=!0,r=n,e=t)},h=function(s){!o&&i&&(t=e-s+r,u.record(t),n.onScrollChange(),a(n.contentRef.style,"translate3d(0,".concat(-t,"px,0)")))};return{touchstart:function(t){return f(t.touches[0].pageY)},mousedown:function(t){return f(t.pageY)},touchmove:function(t){t.preventDefault(),h(t.touches[0].pageY)},mousemove:function(t){t.preventDefault(),h(t.pageY)},touchend:function(){return l()},touchcancel:function(){return l()},mouseup:function(){return l()},getValue:function(){return t},scrollTo:c,setDisabled:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o=t}}}(),n.scrollTo=function(t){n.scrollHanders.scrollTo(0,t)},n.scrollToWithoutAnimation=function(t){n.scrollHanders.scrollTo(0,t,0)},n.fireValueChange=function(t){t!==n.state.selectedValue&&("selectedValue"in n.props||n.setState({selectedValue:t}),n.props.onValueChange&&n.props.onValueChange(t))},n.onScrollChange=function(){var t=n.scrollHanders.getValue();if(t>=0){var e=o.Children.toArray(n.props.children),r=n.props.computeChildIndex(t,n.itemHeight,e.length);if(n.scrollValue!==r){n.scrollValue=r;var i=e[r];i&&n.props.onScrollChange?n.props.onScrollChange(i.props.value):!i&&console.warn&&console.warn("child not found",e,r)}}},n.scrollingComplete=function(){var t=n.scrollHanders.getValue();t>=0&&n.props.doScrollingComplete(t,n.itemHeight,n.fireValueChange)};var i=n.props,a=i.selectedValue,s=i.defaultSelectedValue;if(void 0!==a)r=a;else if(void 0!==s)r=s;else{var c=o.Children.toArray(n.props.children);r=c&&c[0]&&c[0].props.value}return n.state={selectedValue:r},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this,e=this.contentRef,n=this.indicatorRef,r=this.maskRef,o=this.rootRef,i=o.getBoundingClientRect().height,a=this.itemHeight=n.getBoundingClientRect().height,s=Math.floor(i/a);s%2===0&&s--,s--,s/=2,e.style.padding="".concat(a*s,"px 0"),n.style.top="".concat(a*s,"px"),r.style.backgroundSize="100% ".concat(a*s,"px"),this.scrollHanders.setDisabled(this.props.disabled),this.props.select(this.state.selectedValue,this.itemHeight,this.scrollTo);var c=this.passiveSupported(),u=!!c&&{passive:!1},l=!!c&&{passive:!0};Object.keys(this.scrollHanders).forEach((function(e){if(0===e.indexOf("touch")||0===e.indexOf("mouse")){var n=e.indexOf("move")>=0?u:l;o.addEventListener(e,t.scrollHanders[e],n)}}))}},{key:"componentWillUnmount",value:function(){var t=this;Object.keys(this.scrollHanders).forEach((function(e){0!==e.indexOf("touch")&&0!==e.indexOf("mouse")||t.rootRef.removeEventListener(e,t.scrollHanders[e])}))}},{key:"passiveSupported",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(n){}return t}},{key:"componentWillReceiveProps",value:function(t){var e=this;"selectedValue"in t&&this.state.selectedValue!==t.selectedValue&&this.setState({selectedValue:t.selectedValue},(function(){e.props.select(t.selectedValue,e.itemHeight,t.noAnimate?e.scrollToWithoutAnimation:e.scrollTo)})),this.scrollHanders.setDisabled(t.disabled)}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.selectedValue!==e.selectedValue||this.props.children!==t.children}},{key:"componentDidUpdate",value:function(){this.props.select(this.state.selectedValue,this.itemHeight,this.scrollToWithoutAnimation)}},{key:"getValue",value:function(){if("selectedValue"in this.props)return this.props.selectedValue;var t=o.Children.toArray(this.props.children);return t&&t[0]&&t[0].props.value}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.prefixCls,a=n.itemStyle,s=n.indicatorStyle,l=n.indicatorClassName,f=void 0===l?"":l,h=n.children,d=this.state.selectedValue,p="".concat(r,"-item"),v="".concat(p," ").concat(r,"-item-selected"),g=function(t){var e=t.props,n=e.className,r=void 0===n?"":n,i=e.style,s=e.value;return o.createElement("div",{style:u({},a,i),className:"".concat(d===s?v:p," ").concat(r),key:s},t.children||t.props.children)},m=o.Children?o.Children.map(h,g):[].concat(h).map(g),y=(c(t={},n.className,!!n.className),c(t,r,!0),t);return o.createElement("div",{className:(0,i.default)(y),ref:function(t){return e.rootRef=t},style:this.props.style},o.createElement("div",{className:"".concat(r,"-mask"),ref:function(t){return e.maskRef=t}}),o.createElement("div",{className:"".concat(r,"-indicator ").concat(f),ref:function(t){return e.indicatorRef=t},style:s}),o.createElement("div",{className:"".concat(r,"-content"),ref:function(t){return e.contentRef=t}},m))}}])&&l(n.prototype,r),a&&l(n,a),e}(o.Component);p.defaultProps={prefixCls:"rmc-picker"};var v=(0,a.default)(p);e.default=v},1273:function(t,e,n){var r=n(211),o=n(1282),i=n(1287),a=n(189);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},1275:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){if(""===e||"application/octet-stream"===e)switch(t.split(".").pop().toLowerCase()){case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"ppt":return"application/vnd.ms-powerpoint";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";default:return}}},1276:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function r(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}var s={exports:{}};!function(t){"undefined"!==typeof window&&function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||i)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,s,c,u,l,f,h,d;if(!(e=t.match(a)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),s=!!e[4],c=t.slice(e[0].length),u=s?atob(c):decodeURIComponent(c),l=new ArrayBuffer(u.length),f=new Uint8Array(l),h=0;h<u.length;h+=1)f[h]=u.charCodeAt(h);return r?new Blob([o?f:l],{type:n}):((d=new i).append(l),d.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,r){var o=this;setTimeout((function(){r&&n.toDataURL&&s?t(s(o.toDataURL(e,r))):t(o.mozGetAsFile("blob",e))}))}:n.toDataURL&&s&&(n.msToBlob?n.toBlob=function(t,e,r){var o=this;setTimeout((function(){(e&&"image/png"!==e||r)&&n.toDataURL&&s?t(s(o.toDataURL(e,r))):t(o.msToBlob(e))}))}:n.toBlob=function(t,e,n){var r=this;setTimeout((function(){t(s(r.toDataURL(e,n)))}))})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)}(s);var c=s.exports,u={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},l="undefined"!==typeof window&&"undefined"!==typeof window.document?window:{},f=function(t){return t>0&&t<1/0},h=Array.prototype.slice;function d(t){return Array.from?Array.from(t):h.call(t)}var p=/^image\/.+$/;function v(t){return p.test(t)}var g=String.fromCharCode,m=l.btoa;function y(t,e){for(var n=[],r=new Uint8Array(t);r.length>0;)n.push(g.apply(null,d(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(m(n.join("")))}function b(t){var e,n=new DataView(t);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){o=s;break}s+=1}if(o){var c=o+10;if("Exif"===function(t,e,n){var r,o="";for(n+=e,r=e;r<n;r+=1)o+=g(t.getUint8(r));return o}(n,o+4,4)){var u=n.getUint16(c);if(((r=18761===u)||19789===u)&&42===n.getUint16(c+2,r)){var l=n.getUint32(c+4,r);l>=8&&(i=c+l)}}}if(i){var f,h,d=n.getUint16(i,r);for(h=0;h<d;h+=1)if(f=i+12*h+2,274===n.getUint16(f,r)){f+=8,e=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(p){e=1}return e}var _=/\.\d*(?:0|9){12}\d*$/;function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return _.test(t)?Math.round(t*e)/e:t}function x(t){var e=t.aspectRatio,n=t.height,r=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",i=f(r),a=f(n);if(i&&a){var s=n*e;("contain"===o||"none"===o)&&s>r||"cover"===o&&s<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}var S=l.ArrayBuffer,C=l.FileReader,O=l.URL||l.webkitURL,k=/\.\w+$/,M=l.Compressor;return function(){function t(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=n,this.exif=[],this.image=new Image,this.options=e(e({},u),r),this.aborted=!1,this.result=null,this.init()}var r,i,a;return r=t,a=[{key:"noConflict",value:function(){return window.Compressor=M,t}},{key:"setDefaults",value:function(t){o(u,t)}}],(i=[{key:"init",value:function(){var t=this,e=this.file,n=this.options;if(r=e,"undefined"!==typeof Blob&&(r instanceof Blob||"[object Blob]"===Object.prototype.toString.call(r))){var r,i=e.type;if(v(i))if(O&&C){S||(n.checkOrientation=!1,n.retainExif=!1);var a="image/jpeg"===i,s=a&&n.checkOrientation,c=a&&n.retainExif;if(!O||s||c){var u=new C;this.reader=u,u.onload=function(n){var r=n.target.result,a={},u=1;s&&(u=b(r))>1&&o(a,function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(u)),c&&(t.exif=function(t){for(var e=d(new Uint8Array(t)),n=e.length,r=[],o=0;o+3<n;){var i=e[o],a=e[o+1];if(255===i&&218===a)break;if(255===i&&216===a)o+=2;else{var s=o+(256*e[o+2]+e[o+3])+2,c=e.slice(o,s);r.push(c),o=s}}return r.reduce((function(t,e){return 255===e[0]&&225===e[1]?t.concat(e):t}),[])}(r)),a.url=s||c?!O||u>1?y(r,i):O.createObjectURL(e):r,t.load(a)},u.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){t.reader=null},s||c?u.readAsArrayBuffer(e):u.readAsDataURL(e)}else this.load({url:O.createObjectURL(e)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var n=this,r=this.file,o=this.image;o.onload=function(){n.draw(e(e({},t),{},{naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight}))},o.onabort=function(){n.fail(new Error("Aborted to load the image."))},o.onerror=function(){n.fail(new Error("Failed to load the image."))},l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent)&&(o.crossOrigin="anonymous"),o.alt=r.name,o.src=t.url}},{key:"draw",value:function(t){var e=this,n=t.naturalWidth,r=t.naturalHeight,o=t.rotate,i=void 0===o?0:o,a=t.scaleX,s=void 0===a?1:a,u=t.scaleY,l=void 0===u?1:u,h=this.file,p=this.image,g=this.options,m=document.createElement("canvas"),b=m.getContext("2d"),_=Math.abs(i)%180===90,S=("contain"===g.resize||"cover"===g.resize)&&f(g.width)&&f(g.height),O=Math.max(g.maxWidth,0)||1/0,k=Math.max(g.maxHeight,0)||1/0,M=Math.max(g.minWidth,0)||0,E=Math.max(g.minHeight,0)||0,j=n/r,I=g.width,A=g.height;if(_){var T=[k,O];O=T[0],k=T[1];var P=[E,M];M=P[0],E=P[1];var D=[A,I];I=D[0],A=D[1]}S&&(j=I/A);var N=x({aspectRatio:j,width:O,height:k},"contain");O=N.width,k=N.height;var L=x({aspectRatio:j,width:M,height:E},"cover");if(M=L.width,E=L.height,S){var R=x({aspectRatio:j,width:I,height:A},g.resize);I=R.width,A=R.height}else{var B=x({aspectRatio:j,width:I,height:A}),z=B.width;I=void 0===z?n:z;var F=B.height;A=void 0===F?r:F}var H=-(I=Math.floor(w(Math.min(Math.max(I,M),O))))/2,U=-(A=Math.floor(w(Math.min(Math.max(A,E),k))))/2,W=I,V=A,Y=[];if(S){var G,X,Z,q,K=x({aspectRatio:j,width:n,height:r},{contain:"cover",cover:"contain"}[g.resize]);Z=K.width,q=K.height,G=(n-Z)/2,X=(r-q)/2,Y.push(G,X,Z,q)}if(Y.push(H,U,W,V),_){var Q=[A,I];I=Q[0],A=Q[1]}m.width=I,m.height=A,v(g.mimeType)||(g.mimeType=h.type);var J="transparent";h.size>g.convertSize&&g.convertTypes.indexOf(g.mimeType)>=0&&(g.mimeType="image/jpeg");var $="image/jpeg"===g.mimeType;if($&&(J="#fff"),b.fillStyle=J,b.fillRect(0,0,I,A),g.beforeDraw&&g.beforeDraw.call(this,b,m),!this.aborted&&(b.save(),b.translate(I/2,A/2),b.rotate(i*Math.PI/180),b.scale(s,l),b.drawImage.apply(b,[p].concat(Y)),b.restore(),g.drew&&g.drew.call(this,b,m),!this.aborted)){var tt=function(t){if(!e.aborted){var o=function(t){return e.done({naturalWidth:n,naturalHeight:r,result:t})};if(t&&$&&g.retainExif&&e.exif&&e.exif.length>0){var i=function(t){return o(c(y(function(t,e){var n=d(new Uint8Array(t));if(255!==n[2]||224!==n[3])return t;var r=256*n[4]+n[5],o=[255,216].concat(e,n.slice(4+r));return new Uint8Array(o)}(t,e.exif),g.mimeType)))};if(t.arrayBuffer)t.arrayBuffer().then(i).catch((function(){e.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}));else{var a=new C;e.reader=a,a.onload=function(t){var e=t.target;i(e.result)},a.onabort=function(){e.fail(new Error("Aborted to read the compressed image with FileReader."))},a.onerror=function(){e.fail(new Error("Failed to read the compressed image with FileReader."))},a.onloadend=function(){e.reader=null},a.readAsArrayBuffer(t)}}else o(t)}};m.toBlob?m.toBlob(tt,g.mimeType,g.quality):tt(c(m.toDataURL(g.mimeType,g.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,n=t.naturalHeight,r=t.result,o=this.file,i=this.image,a=this.options;if(O&&0===i.src.indexOf("blob:")&&O.revokeObjectURL(i.src),r)if(a.strict&&!a.retainExif&&r.size>o.size&&a.mimeType===o.type&&!(a.width>e||a.height>n||a.minWidth>e||a.minHeight>n||a.maxWidth<e||a.maxHeight<n))r=o;else{var s=new Date;r.lastModified=s.getTime(),r.lastModifiedDate=s,r.name=o.name,r.name&&r.type!==o.type&&(r.name=r.name.replace(k,function(t){var e=v(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}(r.type)))}else r=o;this.result=r,a.success&&a.success.call(this,r)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&n(r.prototype,i),a&&n(r,a),Object.defineProperty(r,"prototype",{writable:!1}),t}()},"object"===a(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},1277:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";return function(t,e,n){(n=n||{}).childrenKeyName=n.childrenKeyName||"children";var r=t||[],o=[],i=0;do{var a=r.filter((function(t){return e(t,i)}))[0];if(!a)break;o.push(a),r=a[n.childrenKeyName]||[],i+=1}while(r.length>0);return o}},"object"===a(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},1278:function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));n(1290),n(184);var r=n(99),o=n.n(r),i=n(1219),a=n.n(i),s=n(3),c=n.n(s),u=n(13),l=n.n(u),f=n(29),h=n.n(f),d=n(1291),p=n.n(d);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function _(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}function w(t,e,n){return e=x(e),function(t,e){if(e&&("object"===v(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],x(t).constructor):e.apply(t,n))}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(){var t;y(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=w(this,e,[].concat(r))).rootEl=c.a.createRef(),t.imageEditorInst=null,t.addListenerMenu=function(){var e=t.props.menuActive,n=document.querySelector("div.tui-image-editor-controls"),r=null===n||void 0===n?void 0:n.querySelector("ul.tui-image-editor-menu");if(r){new MutationObserver((function(t){t.forEach((function(t){var n;"LI"===(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.nodeName)&&"class"===(null===t||void 0===t?void 0:t.attributeName)&&e&&e(t.target.classList.contains("active"))}))})).observe(r,{childList:!0,attributeFilter:["class"],subtree:!0});var o=r.querySelectorAll("li.active");e&&e(!h()(o))}},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.imageEditorInst=new p.a(this.rootEl.current,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props)),this.addListenerMenu(),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(t){return this.bindEventHandlers(this.props,t),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(t,e){var n=this;Object.keys(t).filter(this.isEventHandlerKeys).forEach((function(r){var o=r[2].toLowerCase()+r.slice(3);e&&e[r]!==t[r]&&n.imageEditorInst.off(o),n.imageEditorInst.on(o,t[r])}))}},{key:"unbindEventHandlers",value:function(){var t=this;Object.keys(this.props).filter(this.isEventHandlerKeys).forEach((function(e){var n=e[2].toLowerCase()+e.slice(3);t.imageEditorInst.off(n)}))}},{key:"isEventHandlerKeys",value:function(t){return/on[A-Z][a-zA-Z]+/.test(t)}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.rootEl})}}])&&b(n.prototype,r),o&&b(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(c.a.Component),O=(n(65),n(22)),k=n.n(O),M=n(160),E=n.n(M),j=n(9),I=n.n(j),A=n(265),T=n.n(A),P=n(352),D=n.n(P),N=n(1),L=n.n(N),R=n(2),B=n(1275);function z(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}var F=function(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){n.append(e,t.data[e])})),n.append(t.rename||"file",t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e){var n="cannot post ".concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method="post",r.url=t.action,r}(t,e),z(e));t.onSuccess(z(e),e)},e.open(t.method||"post",t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};for(var o in null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),r)r.hasOwnProperty(o)&&null!==r[o]&&e.setRequestHeader(o,r[o]);return e.send(n),{abort:function(){e.abort()}}},H=n(79);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(){W=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==U(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(U(e)+" is not iterable")}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function V(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}var Y={"common.bisize.display":"none","header.display":"none","loadButton.display":"none","downloadButton.display":"none","menu.normalIcon.color":"#ccc","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#8a8a8a","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#ccc","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#858585","submenu.normalLabel.color":"#858585","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"1px solid #ccc","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter"},G={ZoomIn:"\u653e\u5927",ZoomOut:"\u7f29\u5c0f",Hand:"\u624b\u638c",History:"\u5386\u53f2",Resize:"\u8c03\u6574\u5bbd\u9ad8",Crop:"\u88c1\u526a",DeleteAll:"\u5168\u90e8\u5220\u9664",Delete:"\u5220\u9664",Undo:"\u64a4\u9500",Redo:"\u53cd\u64a4\u9500",Reset:"\u91cd\u7f6e",Flip:"\u955c\u50cf",Rotate:"\u65cb\u8f6c",Draw:"\u753b",Shape:"\u5f62\u72b6\u6807\u6ce8",Icon:"\u56fe\u6807\u6807\u6ce8",Text:"\u6587\u5b57\u6807\u6ce8",Mask:"\u906e\u7f69",Filter:"\u6ee4\u955c",Bold:"\u52a0\u7c97",Italic:"\u659c\u4f53",Underline:"\u4e0b\u5212\u7ebf",Left:"\u5de6\u5bf9\u9f50",Center:"\u5c45\u4e2d",Right:"\u53f3\u5bf9\u9f50",Color:"\u989c\u8272","Text size":"\u5b57\u4f53\u5927\u5c0f",Custom:"\u81ea\u5b9a\u4e49",Square:"\u6b63\u65b9\u5f62",Apply:"\u5e94\u7528",Cancel:"\u53d6\u6d88","Flip X":"X \u8f74","Flip Y":"Y \u8f74",Range:"\u533a\u95f4",Stroke:"\u63cf\u8fb9",Fill:"\u586b\u5145",Circle:"\u5706",Triangle:"\u4e09\u89d2",Rectangle:"\u77e9\u5f62",Free:"\u66f2\u7ebf",Straight:"\u76f4\u7ebf",Arrow:"\u7bad\u5934","Arrow-2":"\u7bad\u59342","Arrow-3":"\u7bad\u59343","Star-1":"\u661f\u661f1","Star-2":"\u661f\u661f2",Polygon:"\u591a\u8fb9\u5f62",Location:"\u5b9a\u4f4d",Heart:"\u5fc3\u5f62",Bubble:"\u6c14\u6ce1","Custom icon":"\u81ea\u5b9a\u4e49\u56fe\u6807","Load Mask Image":"\u52a0\u8f7d\u8499\u5c42\u56fe\u7247",Grayscale:"\u7070\u5ea6",Blur:"\u6a21\u7cca",Sharpen:"\u9510\u5316",Emboss:"\u6d6e\u96d5","Remove White":"\u9664\u53bb\u767d\u8272",Distance:"\u8ddd\u79bb",Brightness:"\u4eae\u5ea6",Noise:"\u566a\u97f3","Color Filter":"\u5f69\u8272\u6ee4\u955c",Sepia:"\u68d5\u8272",Sepia2:"\u68d5\u82722",Invert:"\u8d1f\u7247",Pixelate:"\u50cf\u7d20\u5316",Threshold:"\u9608\u503c",Tint:"\u8272\u8c03",Multiply:"\u6b63\u7247\u53e0\u5e95",Blend:"\u6df7\u5408\u8272",Width:"\u5bbd\u5ea6",Height:"\u9ad8\u5ea6","Lock Aspect Ratio":"\u9501\u5b9a\u5bbd\u9ad8\u6bd4\u4f8b",Download:"\u4e0b\u8f7d\u56fe\u7247"};function X(t){return"".concat(R.d,"/cloud/file_access/").concat(t,"?random=").concat((new Date).getTime())}var Z=function(){var t,e=(t=W().mark((function t(e,n,r){var o,i,a,s,c,u,l,f,h,d;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="rc-upload-".concat(+new Date),i="image_rec_".concat(L()().format("YYYYMMDD_HHmmss"),".png"),t.prev=2,t.next=5,Object(R.i)("".concat(R.d,"/cloud/bucket")).then((function(t){return t.data.aliyun_oss_host}));case 5:return a=t.sent,t.next=8,Object(R.j)("".concat(R.d,"/disk/files"),{uploadId:o,filename:i,file_size:e.size,is_statistics:n});case 8:null!==(s=t.sent)&&void 0!==s&&s.success?(c=s.data,c=D()(c.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"]),(u=Object(B.a)(i,e.type))&&T()(c,"x-oss-content-type",u),F({action:a,filename:i,file:e,data:c,onProgress:function(t){},onSuccess:r,onError:function(t,e){}})):70006===(null===s||void 0===s?void 0:s.code)?(l=I()(s,"extra.total"),f=E()(l)?Object(H.b)(l,"B",1):"",k.a.fail("\u8d85\u8fc7\u4e2a\u4eba\u6587\u6863\u603b\u91cf\u9650\u5236".concat(f,"\uff0c\u8bf7\u5728\u201c\u4e2a\u4eba\u4e2d\u5fc3>>\u4e2a\u4eba\u4e0a\u4f20\u8d44\u6e90\u201d\u4e2d\u5220\u9664\u6587\u4ef6\u540e\u91cd\u8bd5"))):70007===(null===s||void 0===s?void 0:s.code)?(h=I()(s,"extra.total"),d=E()(h)?Object(H.b)(h,"B",1):"",k.a.fail("\u8d85\u8fc7\u4e2a\u4eba\u89c6\u9891\u6587\u6863\u603b\u91cf\u9650\u5236".concat(d,"\uff0c\u8bf7\u5728\u201c\u4e2a\u4eba\u4e2d\u5fc3>>\u4e2a\u4eba\u4e0a\u4f20\u8d44\u6e90\u201d\u4e2d\u5220\u9664\u6587\u4ef6\u540e\u91cd\u8bd5"))):k.a.fail("\u6587\u4ef6\u4e0a\u4f20\u65f6\u53d1\u751f\u4e86\u9519\u8bef"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,s,"next",t)}function s(t){V(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}(),q=n(1192);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}function tt(t,e,n){return e=et(e),function(t,e){if(e&&("object"===K(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],et(t).constructor):e.apply(t,n))}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(){var t;Q(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=tt(this,e,[].concat(r))).state={showEditBar:!0},t.handleEditBarChange=function(){var e=t.state.showEditBar;t.setState({showEditBar:!e},(function(){var n=t.imgEditorRef.imageEditorInst;if(n){var r=n.ui.submenu;r&&(e?document.querySelectorAll(".tui-image-editor-main").forEach((function(t){t.classList.remove("tui-image-editor-menu-".concat(r))})):document.querySelectorAll(".tui-image-editor-main").forEach((function(t){t.classList.add("tui-image-editor-menu-".concat(r))})))}}))},t.handleOnMenuActive=function(e){t.setState({showEditBar:e});var n=document.querySelector(".tui-image-editor");n&&(n.style.width="100%",n.style.height="100%",n.style.top="0px")},t.handleOnClose=function(){var e=t.props.onClose;t.setState({showEditBar:!0}),e&&e()},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this,e=this.props,n=e.visible,r=e.onOk,i=e.fileInfo,a=e.watermark,s=void 0===a?null:a,u=e.isStatistics;return c.a.createElement(o.a,{className:"edit-image-modal",visible:n,footer:[{text:"\u4fdd\u5b58",onPress:function(){if(t.imgEditorRef){var e=t.imgEditorRef.imageEditorInst;e?function(t,e){var n=t.getCanvasSize(),r=n.width,o=void 0===r?0:r,i=n.height,a=void 0===i?0:i,s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));if(!e)return new Promise((function(e){e(t)}));if(o&&a){var c=.02*s+10,u=null,l=null;return t.addShape("rect",{fill:"#FFA500",stroke:"",strokeWidth:2,width:100,height:c,left:o-50-4,top:c/2+2,isRegular:!1,opacity:.8}).then((function(n){return u=n.id,t.addText(e,{styles:{fill:"#fff",fontSize:.02*s,fontWeight:"bold",opacity:1},position:{x:o-100+4,y:c/4}})})).then((function(e){var n=e.width+15;return l=e.id,t.changeShape(u,{width:n},!0)})).then((function(e){var n=t.getObjectProperties(l,["width"]).width;return t.getObjectProperties(u,["height"]).height,t.setObjectPosition(l,{x:o-n-8,y:4})})).then((function(){var e=t.getObjectProperties(u,["width","height"]),n=e.width;return e.height,t.setObjectPosition(u,{x:o-n/2,y:c/2})})).then((function(){return t.addShape("rect",{fill:"transparent",stroke:"#FF4040",strokeWidth:2})})).finally((function(){t.discardSelection()}))}}(e,s).then((function(){var t=function(t){var e,n,r,o,i="";for(e=t.replace(/data:(image\/.+);base64,/,(function(t,e){return i=e,""})),o=(e=atob(e)).length,n=new Uint8Array(o),r=0;r<o;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:i})}(null===e||void 0===e?void 0:e.toDataURL());Z(t,u,(function(t){if(t.success){var e=t.data,n=(void 0===e?{}:e).id;r({quote_id:n,src:X(n)})}})).then(null)})):console.warn("\u56fe\u7247\u7f16\u8f91\u5668\u51fa\u4e86\u70b9\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}}},{text:"\u53d6\u6d88",onPress:this.handleOnClose}]},c.a.createElement(C,{includeUI:{loadImage:{path:X(i.quote_id||i.id),name:i.name||i.filename},menu:["crop","rotate","draw","shape","icon","text"],initMenu:"draw",menuBarPosition:"top",locale:G,theme:Y},menuActive:this.handleOnMenuActive,cssMaxWidth:window.innerWidth-10,usageStatistics:!1,ref:function(e){return t.imgEditorRef=e}}),c.a.createElement("div",{className:"edit-bar-control",onClick:this.handleEditBarChange},c.a.createElement(q.a,{type:this.state.showEditBar?"icon-down1":"icon-up1"})))}}])&&J(n.prototype,r),i&&J(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(c.a.Component);rt.defaultProps={visible:!1,isStatistics:!0,onClose:a.a,onOk:a.a,fileInfo:{}},rt.propTypes={visible:l.a.bool,isStatistics:l.a.bool,onClose:l.a.func,onOk:l.a.func,fileInfo:l.a.object}},1279:function(t,e,n){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t},"object"===s(e)?t.exports=e=a(n(1170),n(1183),n(1222),n(1223),n(1176),n(1224),n(1177),n(1202),n(1187),n(1225),n(1203),n(1226),n(1227),n(1228),n(1188),n(1229),n(1173),n(1172),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246)):(o=[n(1170),n(1183),n(1222),n(1223),n(1176),n(1224),n(1177),n(1202),n(1187),n(1225),n(1203),n(1226),n(1227),n(1228),n(1188),n(1229),n(1173),n(1172),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},1280:function(t,e){},1282:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},1283:function(t,e,n){"use strict";e.a=function(){return!1}},1284:function(t,e,n){"use strict";(function(t){var r=n(1247);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"===typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,s=a&&a.exports===i&&r.a.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();e.a=c}).call(this,n(1212)(t))},1286:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(3)),o=i(n(1409));function i(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||o.default,t.exports=e.default},1287:function(t,e,n){var r=n(213),o=n(667);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},1288:function(t,e,n){var r=n(1217);t.exports=function(t){return r(t)?void 0:t}},1289:function(t,e,n){},1290:function(t,e,n){},1291:function(t,e,n){(function(t,r,o){var i,a,s,c;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}self,c=function(e){return function(){var n={2777:function(e,n,r){var o,i=i||{version:"4.6.0"};if(n.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var a=new(r(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=a.document,i.jsdomImplForWrapper=r(6759).implForWrapper,i.nodeCanvas=r(6272).Canvas,i.window=a,DOMParser=i.window.DOMParser}function s(t,e){var n=t.canvas,r=e.targetCanvas,o=r.getContext("2d");o.translate(0,r.height),o.scale(1,-1);var i=n.height-r.height;o.drawImage(n,0,i,r.width,r.height,0,0,r.width,r.height)}function c(t,e){var n=e.targetCanvas.getContext("2d"),r=e.destinationWidth,o=e.destinationHeight,i=r*o*4,a=new Uint8Array(this.imageBuffer,0,i),s=new Uint8ClampedArray(this.imageBuffer,0,i);t.readPixels(0,0,r,o,t.RGBA,t.UNSIGNED_BYTE,a);var c=new ImageData(s,r,o);n.putImageData(c,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof t&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:i.util.array.fill(n,!1)}}function e(t,e){var n=function(){e.apply(this,arguments),this.off(t,n)}.bind(this);this.on(t,n)}i.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var n=this.__eventListeners[t];if(!n)return this;for(var r=0,o=n.length;r<o;r++)n[r]&&n[r].call(this,e||{});return this.__eventListeners[t]=n.filter((function(t){return!1!==t})),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,n){if(1===arguments.length)for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this},off:function(e,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===u(arguments[0]))for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this}}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,n){var r=this._objects;return n?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,n=!1,r=0,o=arguments.length;r<o;r++)-1!==(t=e.indexOf(arguments[r]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n);return this},getObjects:function(t){return"undefined"===typeof t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"===typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},i.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof i.Gradient||this.set(e,new i.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof i.Pattern?n&&n():this.set(e,new i.Pattern(t,n))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===u(t)?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,a=Math.PI/2;i.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/a){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,e,n){var r=new i.Point(t.x-e.x,t.y-e.y),o=i.util.rotateVector(r,n);return new i.Point(o.x,o.y).addEquals(e)},rotateVector:function(t,e){var n=i.util.sin(e),r=i.util.cos(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}},transformPoint:function(t,e,n){return n?new i.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new i.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var n=0;n<t.length;n++)t[n]=i.util.transformPoint(t[n],e);var r=[t[0].x,t[1].x,t[2].x,t[3].x],o=i.util.array.min(r),a=i.util.array.max(r)-o,s=[t[0].y,t[1].y,t[2].y,t[3].y],c=i.util.array.min(s);return{left:o,top:c,width:a,height:i.util.array.max(s)-c}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=i.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=i.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*i.DPI/25.4;case"cm":return r*i.DPI/2.54;case"in":return r*i.DPI;case"pt":return r*i.DPI/72;case"pc":return r*i.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=i.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),i.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(e){if(!e)return i;var n,r=e.split("."),o=r.length,a=t||i.window;for(n=0;n<o;++n)a=a[r[n]];return a},loadImage:function(t,e,n,r){if(t){var o=i.util.createImage(),a=function(){e&&e.call(n,o,!1),o=o.onload=o.onerror=null};o.onload=a,o.onerror=function(){i.log("Error loading "+o.src),e&&e.call(n,null,!0),o=o.onload=o.onerror=null},0!==t.indexOf("data")&&void 0!==r&&null!==r&&(o.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(o.onload=null,i.util.loadImageInDom(o,a)),o.src=t}else e&&e.call(n,t)},loadImageInDom:function(t,e){var n=i.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(t),i.document.querySelector("body").appendChild(n),t.onload=function(){e(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(t,e,n,r){var o=[],a=0,s=(t=t||[]).length;function c(){++a===s&&e&&e(o.filter((function(t){return t})))}s?t.forEach((function(t,e){t&&t.type?i.util.getKlass(t.type,n).fromObject(t,(function(n,i){i||(o[e]=n),r&&r(t,n,i),c()})):c()})):e&&e(o)},enlivenPatterns:function(t,e){function n(){++o===a&&e&&e(r)}var r=[],o=0,a=(t=t||[]).length;a?t.forEach((function(t,e){t&&t.source?new i.Pattern(t,(function(t){r[e]=t,n()})):(r[e]=t,n())})):e&&e(r)},groupSVGElements:function(t,e,n){var r;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new i.Group(t,e),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,o=n.length;r<o;r++)n[r]in t&&(e[n[r]]=t[n[r]])},drawDashedLine:function(t,r,o,i,a,s){var c=i-r,u=a-o,l=e(c*c+u*u),f=n(u,c),h=s.length,d=0,p=!0;for(t.save(),t.translate(r,o),t.moveTo(0,0),t.rotate(f),r=0;l>r;)(r+=s[d++%h])>l&&(r=l),t[p?"lineTo":"moveTo"](r,0),p=!p;t.restore()},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(t){var e=i.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,n){return t.toDataURL("image/"+e,n)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var i=n(t[1],t[0]),a=r(t[0],2)+r(t[1],2),s=e(a),c=(t[0]*t[3]-t[2]*t[1])/s,u=n(t[0]*t[2]+t[1]*t[3],a);return{angle:i/o,scaleX:s,scaleY:c,skewX:u/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return i.iMatrix.concat();var e=i.util.degreesToRadians(t.angle),n=i.util.cos(e),r=i.util.sin(e);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(t){var e="undefined"===typeof t.scaleX?1:t.scaleX,n="undefined"===typeof t.scaleY?1:t.scaleY,r=[t.flipX?-e:e,0,0,t.flipY?-n:n,0,0],o=i.util.multiplyTransformMatrices,a=i.util.degreesToRadians;return t.skewX&&(r=o(r,[1,0,Math.tan(a(t.skewX)),1],!0)),t.skewY&&(r=o(r,[1,Math.tan(a(t.skewY)),0,1],!0)),r},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],n=i.util.multiplyTransformMatrices;return t.angle&&(e=n(e,i.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=n(e,i.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,n,r){r>0&&(e>r?e-=r:e=0,n>r?n-=r:n=0);var o,i=!0,a=t.getImageData(e,n,2*r||1,2*r||1),s=a.data.length;for(o=3;o<s&&!1!==(i=a.data[o]<=0);o+=4);return a=null,i},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",r=t.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(e=n,n="meet"):r.length&&(e=r.pop())),{meetOrSlice:n,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?i.charWidthsCache[t]&&delete i.charWidthsCache[t]:i.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),r=Math.floor(e/n);return{x:Math.floor(n),y:r}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return i.util.toFixed(t,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var n=i.util.invertTransform(e),r=i.util.multiplyTransformMatrices(n,t.calcOwnMatrix());i.util.applyTransformToObject(t,r)},addTransformToObject:function(t,e){i.util.applyTransformToObject(t,i.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var n=i.util.qrDecompose(e),r=new i.Point(n.translateX,n.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",n.scaleX),t.set("scaleY",n.scaleY),t.skewX=n.skewX,t.skewY=n.skewY,t.angle=n.angle,t.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(t,e,n){var r=t/2,o=e/2,a=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],s=i.util.calcDimensionsMatrix(n),c=i.util.makeBoundingBoxFromPoints(a,s);return{x:c.width,y:c.height}}}}(n),function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(t,e,n,r,o,a,s,c,u,l,f){var h=i.util.cos(t),d=i.util.sin(t),p=i.util.cos(e),v=i.util.sin(e),g=n*o*p-r*a*v+s,m=r*o*p+n*a*v+c;return["C",l+u*(-n*o*d-r*a*h),f+u*(-r*o*d+n*a*h),g+u*(n*o*v+r*a*p),m+u*(r*o*v-n*a*p),g,m]}function o(t,e,n,o,s,c,u){var l=Math.PI,f=u*l/180,h=i.util.sin(f),d=i.util.cos(f),p=0,v=0,g=-d*t*.5-h*e*.5,m=-d*e*.5+h*t*.5,y=(n=Math.abs(n))*n,b=(o=Math.abs(o))*o,_=m*m,w=g*g,x=y*b-y*_-b*w,S=0;if(x<0){var C=Math.sqrt(1-x/(y*b));n*=C,o*=C}else S=(s===c?-1:1)*Math.sqrt(x/(y*_+b*w));var O=S*n*m/o,k=-S*o*g/n,M=d*O-h*k+.5*t,E=h*O+d*k+.5*e,j=a(1,0,(g-O)/n,(m-k)/o),I=a((g-O)/n,(m-k)/o,(-g-O)/n,(-m-k)/o);0===c&&I>0?I-=2*l:1===c&&I<0&&(I+=2*l);for(var A=Math.ceil(Math.abs(I/l*2)),T=[],P=I/A,D=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2),N=j+P,L=0;L<A;L++)T[L]=r(j,N,d,h,n,o,M,E,D,p,v),p=T[L][5],v=T[L][6],j=N,N+=P;return T}function a(t,e,n,r){var o=Math.atan2(e,t),i=Math.atan2(r,n);return i>=o?i-o:2*Math.PI-(o-i)}function s(e,n,r,o,a,s,c,u){var l;if(i.cachesBoundsOfCurve&&(l=t.call(arguments),i.boundsOfCurveCache[l]))return i.boundsOfCurveCache[l];var f,h,d,p,v,g,m,y,b=Math.sqrt,_=Math.min,w=Math.max,x=Math.abs,S=[],C=[[],[]];h=6*e-12*r+6*a,f=-3*e+9*r-9*a+3*c,d=3*r-3*e;for(var O=0;O<2;++O)if(O>0&&(h=6*n-12*o+6*s,f=-3*n+9*o-9*s+3*u,d=3*o-3*n),x(f)<1e-12){if(x(h)<1e-12)continue;0<(p=-d/h)&&p<1&&S.push(p)}else(m=h*h-4*d*f)<0||(0<(v=(-h+(y=b(m)))/(2*f))&&v<1&&S.push(v),0<(g=(-h-y)/(2*f))&&g<1&&S.push(g));for(var k,M,E,j=S.length,I=j;j--;)k=(E=1-(p=S[j]))*E*E*e+3*E*E*p*r+3*E*p*p*a+p*p*p*c,C[0][j]=k,M=E*E*E*n+3*E*E*p*o+3*E*p*p*s+p*p*p*u,C[1][j]=M;C[0][I]=e,C[1][I]=n,C[0][I+1]=c,C[1][I+1]=u;var A=[{x:_.apply(null,C[0]),y:_.apply(null,C[1])},{x:w.apply(null,C[0]),y:w.apply(null,C[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[l]=A),A}function c(t,e,n){for(var r=n[1],i=n[2],a=n[3],s=n[4],c=n[5],u=o(n[6]-t,n[7]-e,r,i,s,c,a),l=0,f=u.length;l<f;l++)u[l][1]+=t,u[l][2]+=e,u[l][3]+=t,u[l][4]+=e,u[l][5]+=t,u[l][6]+=e;return u}function u(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}function l(t,e,n,r,o,i,a,s){return function(c){var u,l=(u=c)*u*u,f=function(t){return 3*t*t*(1-t)}(c),h=function(t){return 3*t*(1-t)*(1-t)}(c),d=function(t){return(1-t)*(1-t)*(1-t)}(c);return{x:a*l+o*f+n*h+t*d,y:s*l+i*f+r*h+e*d}}}function f(t,e,n,r,o,i,a,s){return function(c){var u=1-c,l=3*u*u*(n-t)+6*u*c*(o-n)+3*c*c*(a-o),f=3*u*u*(r-e)+6*u*c*(i-r)+3*c*c*(s-i);return Math.atan2(f,l)}}function h(t,e,n,r,o,i){return function(a){var s,c=(s=a)*s,u=function(t){return 2*t*(1-t)}(a),l=function(t){return(1-t)*(1-t)}(a);return{x:o*c+n*u+t*l,y:i*c+r*u+e*l}}}function d(t,e,n,r,o,i){return function(a){var s=1-a,c=2*s*(n-t)+2*a*(o-n),u=2*s*(r-e)+2*a*(i-r);return Math.atan2(u,c)}}function p(t,e,n){var r,o,i={x:e,y:n},a=0;for(o=1;o<=100;o+=1)r=t(o/100),a+=u(i.x,i.y,r.x,r.y),i=r;return a}function v(t,e){for(var n,r,o,i=0,a=0,s=t.iterator,c={x:t.x,y:t.y},l=.01,f=t.angleFinder;a<e&&i<=1&&l>1e-4;)n=s(i),o=i,(r=u(c.x,c.y,n.x,n.y))+a>e?i-=l/=2:(c=n,i+=l,a+=r);return n.angle=f(o),n}function g(t){for(var e,n,r,o,i=0,a=t.length,s=0,c=0,v=0,g=0,m=[],y=0;y<a;y++){switch(r={x:s,y:c,command:(e=t[y])[0]},e[0]){case"M":r.length=0,v=s=e[1],g=c=e[2];break;case"L":r.length=u(s,c,e[1],e[2]),s=e[1],c=e[2];break;case"C":n=l(s,c,e[1],e[2],e[3],e[4],e[5],e[6]),o=f(s,c,e[1],e[2],e[3],e[4],e[5],e[6]),r.iterator=n,r.angleFinder=o,r.length=p(n,s,c),s=e[5],c=e[6];break;case"Q":n=h(s,c,e[1],e[2],e[3],e[4]),o=d(s,c,e[1],e[2],e[3],e[4]),r.iterator=n,r.angleFinder=o,r.length=p(n,s,c),s=e[3],c=e[4];break;case"Z":case"z":r.destX=v,r.destY=g,r.length=u(s,c,v,g),s=v,c=g}i+=r.length,m.push(r)}return m.push({length:i,x:s,y:c}),m}i.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},i.util.parsePath=function(t){var r,o,a,s,c,u=[],l=[],f=i.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",d="("+h+")"+i.commaWsp,p="([01])"+i.commaWsp+"?",v=new RegExp(d+"?"+d+"?"+d+p+p+d+"?("+h+")","g");if(!t||!t.match)return u;for(var g,m=0,y=(c=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;m<y;m++){s=(r=c[m]).slice(1).trim(),l.length=0;var b=r.charAt(0);if(g=[b],"a"===b.toLowerCase())for(var _;_=v.exec(s);)for(var w=1;w<_.length;w++)l.push(_[w]);else for(;a=f.exec(s);)l.push(a[0]);w=0;for(var x=l.length;w<x;w++)o=parseFloat(l[w]),isNaN(o)||g.push(o);var S=e[b.toLowerCase()],C=n[b]||b;if(g.length-1>S)for(var O=1,k=g.length;O<k;O+=S)u.push([b].concat(g.slice(O,O+S))),b=C;else u.push(g)}return u},i.util.makePathSimpler=function(t){var e,n,r,o,i,a,s=0,u=0,l=t.length,f=0,h=0,d=[];for(n=0;n<l;++n){switch(r=!1,(e=t[n].slice(0))[0]){case"l":e[0]="L",e[1]+=s,e[2]+=u;case"L":s=e[1],u=e[2];break;case"h":e[1]+=s;case"H":e[0]="L",e[2]=u,s=e[1];break;case"v":e[1]+=u;case"V":e[0]="L",u=e[1],e[1]=s,e[2]=u;break;case"m":e[0]="M",e[1]+=s,e[2]+=u;case"M":s=e[1],u=e[2],f=e[1],h=e[2];break;case"c":e[0]="C",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u,e[5]+=s,e[6]+=u;case"C":i=e[3],a=e[4],s=e[5],u=e[6];break;case"s":e[0]="S",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u;case"S":"C"===o?(i=2*s-i,a=2*u-a):(i=s,a=u),s=e[3],u=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=i,e[2]=a,i=e[3],a=e[4];break;case"q":e[0]="Q",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u;case"Q":i=e[1],a=e[2],s=e[3],u=e[4];break;case"t":e[0]="T",e[1]+=s,e[2]+=u;case"T":"Q"===o?(i=2*s-i,a=2*u-a):(i=s,a=u),e[0]="Q",s=e[1],u=e[2],e[1]=i,e[2]=a,e[3]=s,e[4]=u;break;case"a":e[0]="A",e[6]+=s,e[7]+=u;case"A":r=!0,d=d.concat(c(s,u,e)),s=e[6],u=e[7];break;case"z":case"Z":s=f,u=h}r||d.push(e),o=e[0]}return d},i.util.getSmoothPathFromPoints=function(t,e){var n,r=[],o=new i.Point(t[0].x,t[0].y),a=new i.Point(t[1].x,t[1].y),s=t.length,c=1,u=0,l=s>2;for(e=e||0,l&&(c=t[2].x<a.x?-1:t[2].x===a.x?0:1,u=t[2].y<a.y?-1:t[2].y===a.y?0:1),r.push(["M",o.x-c*e,o.y-u*e]),n=1;n<s;n++){if(!o.eq(a)){var f=o.midPointFrom(a);r.push(["Q",o.x,o.y,f.x,f.y])}o=t[n],n+1<t.length&&(a=t[n+1])}return l&&(c=o.x>t[n-2].x?1:o.x===t[n-2].x?0:-1,u=o.y>t[n-2].y?1:o.y===t[n-2].y?0:-1),r.push(["L",o.x+c*e,o.y+u*e]),r},i.util.getPathSegmentsInfo=g,i.util.getBoundsOfCurve=s,i.util.getPointOnPath=function(t,e,n){n||(n=g(t));for(var r=0;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;var o,a=n[r],s=e/a.length,c=a.command,u=t[r];switch(c){case"M":return{x:a.x,y:a.y,angle:0};case"Z":case"z":return(o=new i.Point(a.x,a.y).lerp(new i.Point(a.destX,a.destY),s)).angle=Math.atan2(a.destY-a.y,a.destX-a.x),o;case"L":return(o=new i.Point(a.x,a.y).lerp(new i.Point(u[1],u[2]),s)).angle=Math.atan2(u[2]-a.y,u[1]-a.x),o;case"C":case"Q":return v(a,e)}},i.util.transformPath=function(t,e,n){return n&&(e=i.util.multiplyTransformMatrices(e,[1,0,0,1,-n.x,-n.y])),t.map((function(t){for(var n=t.slice(0),r={},o=1;o<t.length-1;o+=2)r.x=t[o],r.y=t[o+1],r=i.util.transformPoint(r,e),n[o]=r.x,n[o+1]=r.y;return n}))},i.util.fromArcToBeizers=c,i.util.getBoundsOfArc=function(t,e,n,r,i,a,c,u,l){for(var f,h=0,d=0,p=[],v=o(u-t,l-e,n,r,a,c,i),g=0,m=v.length;g<m;g++)f=s(h,d,v[g][1],v[g][2],v[g][3],v[g][4],v[g][5],v[g][6]),p.push({x:f[0].x+t,y:f[0].y+e}),p.push({x:f[1].x+t,y:f[1].y+e}),h=v[g][5],d=v[g][6];return p},i.util.drawArc=function(t,e,n,r){c(e,n,r=r.slice(0).unshift("X")).forEach((function(e){t.bezierCurveTo.apply(t,e.slice(1))}))}}(),function(){var t=Array.prototype.slice;function e(t,e,n){if(t&&0!==t.length){var r=t.length-1,o=e?t[r][e]:t[r];if(e)for(;r--;)n(t[r][e],o)&&(o=t[r][e]);else for(;r--;)n(t[r],o)&&(o=t[r]);return o}}i.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(e,n){for(var r=t.call(arguments,2),o=[],i=0,a=e.length;i<a;i++)o[i]=r.length?e[i][n].apply(e[i],r):e[i][n].call(e[i]);return o},min:function(t,n){return e(t,n,(function(t,e){return t<e}))},max:function(t,n){return e(t,n,(function(t,e){return t>=e}))}}}(),function(){function t(e,n,r){if(r)if(!i.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var o=0,a=n.length;o<a;o++)e[o]=t({},n[o],r)}else if(n&&"object"===u(n))for(var s in n)"canvas"===s||"group"===s?e[s]=null:n.hasOwnProperty(s)&&(e[s]=t({},n[s],r));else e=n;else for(var s in n)e[s]=n[s];return e}i.util.object={extend:t,clone:function(e,n){return t({},e,n)}},i.util.object.extend(i.util,i.Observable)}(),function(){function t(t,e){var n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var o=t.charCodeAt(e-1);if(55296>o||o>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var n,r=0,o=[];for(r=0;r<e.length;r++)!1!==(n=t(e,r))&&o.push(n);return o}}}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var o in e)o in t.prototype&&"function"===typeof t.prototype[o]&&(e[o]+"").indexOf("callSuper")>-1?t.prototype[o]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var o=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return o}}(o):t.prototype[o]=e[o],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function o(){}function a(e){for(var n=null,r=this;r.constructor.superclass;){var o=r.constructor.superclass.prototype[e];if(r[e]!==o){n=o;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}i.util.createClass=function(){var n=null,i=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(n=i.shift()),s.superclass=n,s.subclasses=[],n&&(o.prototype=n.prototype,s.prototype=new o,n.subclasses.push(s));for(var c=0,u=i.length;c<u;c++)r(s,i[c],n);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),function(){var t=!!i.document.createElement("div").attachEvent,e=["touchstart","touchmove","touchend"];i.util.addListener=function(e,n,r,o){e&&e.addEventListener(n,r,!t&&o)},i.util.removeListener=function(e,n,r,o){e&&e.removeEventListener(n,r,!t&&o)},i.util.getPointer=function(t){var e=t.target,n=i.util.getScrollLeftTop(e),r=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:r.clientX+n.left,y:r.clientY+n.top}},i.util.isTouchEvent=function(t){return e.indexOf(t.type)>-1||"touch"===t.pointerType}}(),function(){var t=i.document.createElement("div"),e="string"===typeof t.style.opacity,n="string"===typeof t.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(t){return t};e?o=function(t,e){return t.style.opacity=e,t}:n&&(o=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(r,e)):n.filter+=" alpha(opacity="+100*e+")",t}),i.util.setStyle=function(t,e){var n=t.style;if(!n)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?o(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?o(t,e[r]):n["float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r]=e[r];return t}}(),function(){var t,e,n=Array.prototype.slice,r=function(t){return n.call(t,0)};try{t=r(i.document.childNodes)instanceof Array}catch(s){}function o(t,e){var n=i.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function a(t){for(var e=0,n=0,r=i.document.documentElement,o=i.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===i.document?(e=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:n}}t||(r=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e}),e=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(t,e){var n=i.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){var t=i.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";i.util.makeElementUnselectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=i.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t},i.util.makeElementSelectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}}(),i.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},i.util.getById=function(t){return"string"===typeof t?i.document.getElementById(t):t},i.util.toArray=r,i.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},i.util.makeElement=o,i.util.wrapElement=function(t,e,n){return"string"===typeof e&&(e=o(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},i.util.getScrollLeftTop=a,i.util.getElementOffset=function(t){var n,r,o=t&&t.ownerDocument,i={left:0,top:0},s={left:0,top:0},c={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!o)return s;for(var u in c)s[c[u]]+=parseInt(e(t,u),10)||0;return n=o.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(i=t.getBoundingClientRect()),r=a(t),{left:i.left+r.left-(n.clientLeft||0)+s.left,top:i.top+r.top-(n.clientTop||0)+s.top}},i.util.getNodeCanvas=function(t){var e=i.jsdomImplForWrapper(t);return e._canvas||e._image},i.util.cleanUpJsdomNode=function(t){if(i.isLikelyNode){var e=i.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}i.util.request=function(e,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},a=new i.window.XMLHttpRequest,s=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(o(a),a.onreadystatechange=t)},"GET"===r&&(s=null,"string"===typeof n.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,n.parameters))),a.open(r,e,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),i.log=console.log,i.warn=console.warn,function(){function t(){return!1}function e(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e}var n=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(t){return i.window.setTimeout(t,1e3/60)},r=i.window.cancelAnimationFrame||i.window.clearTimeout;function o(){return n.apply(i.window,arguments)}i.util.animate=function(n){var r=!1;return o((function(i){n||(n={});var a,s=i||+new Date,c=n.duration||500,u=s+c,l=n.onChange||t,f=n.abort||t,h=n.onComplete||t,d=n.easing||e,p="startValue"in n?n.startValue:0,v="endValue"in n?n.endValue:100,g=n.byValue||v-p;n.onStart&&n.onStart(),function t(e){var n=(a=e||+new Date)>u?c:a-s,i=n/c,m=d(n,p,g,c),y=Math.abs((m-p)/g);if(!r){if(!f(m,y,i))return a>u?(l(v,1,1),void h(v,1,1)):(l(m,y,i),void o(t));h(v,1,1)}}(s)})),function(){r=!0}},i.util.requestAnimFrame=o,i.util.cancelAnimFrame=function(){return r.apply(i.window,arguments)}}(),function(){function t(t,e,n){var r="rgba("+parseInt(t[0]+n*(e[0]-t[0]),10)+","+parseInt(t[1]+n*(e[1]-t[1]),10)+","+parseInt(t[2]+n*(e[2]-t[2]),10);return r+=","+(t&&e?parseFloat(t[3]+n*(e[3]-t[3])):1),r+=")"}i.util.animateColor=function(e,n,r,o){var a=new i.Color(e).getSource(),s=new i.Color(n).getSource(),c=o.onComplete,u=o.onChange;return o=o||{},i.util.animate(i.util.object.extend(o,{duration:r||500,startValue:a,endValue:s,byValue:s,easing:function(e,n,r,i){return t(n,r,o.colorEasing?o.colorEasing(e,i):1-Math.cos(e/i*(Math.PI/2)))},onComplete:function(e,n,r){if(c)return c(t(s,s,0),n,r)},onChange:function(e,n,r){if(u){if(Array.isArray(e))return u(t(e,e,0),n,r);u(e,n,r)}}}))}}(),function(){function t(t,e,n,r){return t<Math.abs(e)?(t=e,r=n/4):r=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:r}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,o){return n-r(o-t,0,n,o)+e}function r(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}i.util.ease={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,r,o,i){var a=0;return 0===n?r:1===(n/=i)?r+o:(a||(a=.3*i),-e(t(o,o,a,1.70158),n,i)+r)},easeOutElastic:function(e,n,r,o){var i=0;if(0===e)return n;if(1===(e/=o))return n+r;i||(i=.3*o);var a=t(r,r,i,1.70158);return a.a*Math.pow(2,-10*e)*Math.sin((e*o-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,r,o,i){var a=0;if(0===n)return r;if(2===(n/=i/2))return r+o;a||(a=i*(.3*1.5));var s=t(o,o,a,1.70158);return n<1?-.5*e(s,n,i)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*i-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(t,e,o,i){return t<i/2?.5*n(2*t,0,o,i)+e:.5*r(2*t-i,0,o,i)+.5*o+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,o=e.util.toFixed,i=e.util.parseUnit,a=e.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},c={stroke:"strokeOpacity",fill:"fillOpacity"};function u(t){return t in s?s[t]:t}function l(t,n,r,o){var s,c="[object Array]"===Object.prototype.toString.call(n);if("fill"!==t&&"stroke"!==t||"none"!==n){if("strokeUniform"===t)return"non-scaling-stroke"===n;if("strokeDashArray"===t)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)n=r&&r.transformMatrix?a(r.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n);else if("visible"===t)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===t)n=parseFloat(n),r&&"undefined"!==typeof r.opacity&&(n*=r.opacity);else if("textAnchor"===t)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===t)s=i(n,o)/o*1e3;else if("paintFirst"===t){var u=n.indexOf("fill"),l=n.indexOf("stroke");n="fill",(u>-1&&l>-1&&l<u||-1===u&&l>-1)&&(n="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return n;if("imageSmoothing"===t)return"optimizeQuality"===n;s=c?n.map(i):i(n,o)}}else n="";return!c&&isNaN(s)?n:s}function f(t){return new RegExp("^("+t.join("|")+")\\b","i")}function h(t,e){var n,r,o,i,a=[];for(o=0,i=e.length;o<i;o++)n=e[o],r=t.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(r));return a}function d(t,e){var n,r=!0;return(n=p(t,e.pop()))&&e.length&&(r=function(t,e){for(var n,r=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(n=e.pop()),t=t.parentNode,r=p(t,n);return 0===e.length}(t,e)),n&&r&&0===e.length}function p(t,e){var n,r,o=t.nodeName,i=t.getAttribute("class"),a=t.getAttribute("id");if(n=new RegExp("^"+o,"i"),e=e.replace(n,""),a&&e.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),i&&e.length)for(r=(i=i.split(" ")).length;r--;)n=new RegExp("\\."+i[r]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function v(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var r,o,i,a=t.getElementsByTagName("*");for(o=0,i=a.length;o<i;o++)if(e===(r=a[o]).getAttribute("id"))return r}e.svgValidTagNamesRegEx=f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=f(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=f(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,n,r){t[r]=Math.tan(e.util.degreesToRadians(n[0]))}var n=e.iMatrix,r=e.reNum,o=e.commaWsp,i="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+")"+o+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",a=new RegExp("^\\s*(?:(?:"+i+"(?:"+o+"*"+i+")*)?)\\s*$"),s=new RegExp(i,"g");return function(r){var o=n.concat(),c=[];if(!r||r&&!a.test(r))return o;r.replace(s,(function(r){var a=new RegExp(i).exec(r).filter((function(t){return!!t})),s=a[1],u=a.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(o,u);break;case"rotate":u[0]=e.util.degreesToRadians(u[0]),function(t,n){var r=e.util.cos(n[0]),o=e.util.sin(n[0]),i=0,a=0;3===n.length&&(i=n[1],a=n[2]),t[0]=r,t[1]=o,t[2]=-o,t[3]=r,t[4]=i-(r*i-o*a),t[5]=a-(o*i+r*a)}(o,u);break;case"scale":!function(t,e){var n=e[0],r=2===e.length?e[1]:e[0];t[0]=n,t[3]=r}(o,u);break;case"skewX":t(o,u,2);break;case"skewY":t(o,u,1);break;case"matrix":o=u}c.push(o.concat()),o=n.concat()}));for(var u=c[0];c.length>1;)c.shift(),u=e.util.multiplyTransformMatrices(u,c[0]);return u}}();var g=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function m(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var n,r,o,a,s,c,u=t.getAttribute("viewBox"),l=1,f=1,h=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,v=t.getAttribute("y")||0,m=t.getAttribute("preserveAspectRatio")||"",y=!u||!(u=u.match(g)),b=!h||!d||"100%"===h||"100%"===d,_=y&&b,w={},x="",S=0,C=0;if(w.width=0,w.height=0,w.toBeParsed=_,y&&(p||v)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(x=" translate("+i(p)+" "+i(v)+") ",s=(t.getAttribute("transform")||"")+x,t.setAttribute("transform",s),t.removeAttribute("x"),t.removeAttribute("y")),_)return w;if(y)return w.width=i(h),w.height=i(d),w;if(n=-parseFloat(u[1]),r=-parseFloat(u[2]),o=parseFloat(u[3]),a=parseFloat(u[4]),w.minX=n,w.minY=r,w.viewBoxWidth=o,w.viewBoxHeight=a,b?(w.width=o,w.height=a):(w.width=i(h),w.height=i(d),l=w.width/o,f=w.height/a),"none"!==(m=e.util.parsePreserveAspectRatioAttribute(m)).alignX&&("meet"===m.meetOrSlice&&(f=l=l>f?f:l),"slice"===m.meetOrSlice&&(f=l=l>f?l:f),S=w.width-o*l,C=w.height-a*l,"Mid"===m.alignX&&(S/=2),"Mid"===m.alignY&&(C/=2),"Min"===m.alignX&&(S=0),"Min"===m.alignY&&(C=0)),1===l&&1===f&&0===n&&0===r&&0===p&&0===v)return w;if((p||v)&&"#document"!==t.parentNode.nodeName&&(x=" translate("+i(p)+" "+i(v)+") "),s=x+" matrix("+l+" 0 0 "+f+" "+(n*l+S)+" "+(r*f+C)+") ","svg"===t.nodeName){for(c=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)c.appendChild(t.firstChild);t.appendChild(c)}else(c=t).removeAttribute("x"),c.removeAttribute("y"),s=c.getAttribute("transform")+s;return c.setAttribute("transform",s),w}function y(t,e){var n=v(t,e.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&y(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var r=n.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,n,o,i){if(t){!function(t){for(var n=h(t,["use","svg:use"]),r=0;n.length&&r<n.length;){var o=n[r],i=o.getAttribute("xlink:href")||o.getAttribute("href");if(null===i)return;var a,s,c,u,l=i.substr(1),f=o.getAttribute("x")||0,d=o.getAttribute("y")||0,p=v(t,l).cloneNode(!0),g=(p.getAttribute("transform")||"")+" translate("+f+", "+d+")",y=n.length,b=e.svgNS;if(m(p),/^svg$/i.test(p.nodeName)){var _=p.ownerDocument.createElementNS(b,"g");for(s=0,u=(c=p.attributes).length;s<u;s++)a=c.item(s),_.setAttributeNS(b,a.nodeName,a.nodeValue);for(;p.firstChild;)_.appendChild(p.firstChild);p=_}for(s=0,u=(c=o.attributes).length;s<u;s++)"x"!==(a=c.item(s)).nodeName&&"y"!==a.nodeName&&"xlink:href"!==a.nodeName&&"href"!==a.nodeName&&("transform"===a.nodeName?g=a.nodeValue+" "+g:p.setAttribute(a.nodeName,a.nodeValue));p.setAttribute("transform",g),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),o.parentNode.replaceChild(p,o),n.length===y&&r++}}(t);var a,s,c=e.Object.__uid++,u=m(t),l=e.util.toArray(t.getElementsByTagName("*"));if(u.crossOrigin=i&&i.crossOrigin,u.svgUid=c,0===l.length&&e.isLikelyNode){var f=[];for(a=0,s=(l=t.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)f[a]=l[a];l=f}var d=l.filter((function(t){return m(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)n&&n([],{});else{var p={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var n=t.getAttribute("id");p[n]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[c]=e.getGradientDefs(t),e.cssRules[c]=e.getCSSRules(t),e.clipPaths[c]=p,e.parseElements(d,(function(t,r){n&&(n(t,u,r,l),delete e.gradientDefs[c],delete e.cssRules[c],delete e.clipPaths[c])}),r(u),o,i)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(b);if(n){var r=n[1],o=n[3],a=n[4],s=n[5],c=n[6];r&&(e.fontStyle=r),o&&(e.fontWeight=isNaN(parseFloat(o))?o:parseFloat(o)),a&&(e.fontSize=i(a)),c&&(e.fontFamily=c),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n=h(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,o={};for(r=n.length;r--;)(e=n[r]).getAttribute("xlink:href")&&y(t,e),o[e.getAttribute("id")]=e;return o},parseAttributes:function(t,r,a){if(t){var s,f,h,p={};"undefined"===typeof a&&(a=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(p=e.parseAttributes(t.parentNode,r,a));var v=r.reduce((function(e,n){return(s=t.getAttribute(n))&&(e[n]=s),e}),{}),g=n(function(t,n){var r={};for(var o in e.cssRules[n])if(d(t,o.split(" ")))for(var i in e.cssRules[n][o])r[i]=e.cssRules[n][o][i];return r}(t,a),e.parseStyleAttribute(t));v=n(v,g),g["clip-path"]&&t.setAttribute("clip-path",g["clip-path"]),f=h=p.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,v["font-size"]&&(v["font-size"]=f=i(v["font-size"],h));var m,y,b={};for(var _ in v)y=l(m=u(_),v[_],p,f),b[m]=y;b&&b.font&&e.parseFontDeclaration(b.font,b);var w=n(p,b);return e.svgValidParentsRegEx.test(t.nodeName)?w:function(t){for(var n in c)if("undefined"!==typeof t[c[n]]&&""!==t[n]){if("undefined"===typeof t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var r=new e.Color(t[n]);t[n]=r.setAlpha(o(r.getAlpha()*t[c[n]],2)).toRgba()}}return t}(w)}},parseElements:function(t,n,r,o,i){new e.ElementsParser(t,n,r,o,i).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"===typeof n?function(t,e){var n,r;t.replace(/;\s*$/,"").split(";").forEach((function(t){var o=t.split(":");n=o[0].trim().toLowerCase(),r=o[1].trim(),e[n]=r}))}(n,e):function(t,e){var n,r;for(var o in t)"undefined"!==typeof t[o]&&(n=o.toLowerCase(),r=t[o],e[n]=r)}(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,r=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){var n,r,o=t.getElementsByTagName("style"),i={};for(n=0,r=o.length;n<r;n++){var a=o[n].textContent;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var o=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=o[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=s.length;n<r;n++){var c=s[n].split(/\s*:\s*/),u=c[0],l=c[1];a[u]=l}(t=o[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(i[t]?e.util.object.extend(i[t],a):i[t]=e.util.object.clone(a))}))}))}return i},loadSVGFromURL:function(t,n,r,o){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var i=t.responseXML;if(!i||!i.documentElement)return n&&n(null),!1;e.parseSVGDocument(i.documentElement,(function(t,e,r,o){n&&n(t,e,r,o)}),r,o)}})},loadSVGFromString:function(t,n,r,o){var i=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(i.documentElement,(function(t,e,r,o){n(t,e,r,o)}),r,o)}})}(n),i.ElementsParser=function(t,e,n,r,o,i){this.elements=t,this.callback=e,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=i},(o=i.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var t=this;this.elements.forEach((function(e,n){e.setAttribute("svgUid",t.svgUid),t.createObject(e,n)}))},o.findTag=function(t){return i[i.util.string.capitalize(t.tagName.replace("svg:",""))]},o.createObject=function(t,e){var n=this.findTag(t);if(n&&n.fromElement)try{n.fromElement(t,this.createCallback(e,t),this.options)}catch(r){i.log(r)}else this.checkIfDone()},o.createCallback=function(t,e){var n=this;return function(r){var o;n.resolveGradient(r,e,"fill"),n.resolveGradient(r,e,"stroke"),r instanceof i.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(o),n.resolveClipPath(r,e),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},o.extractPropertyDefinition=function(t,e,n){var r=t[e],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var a=o.exec(r)[1];return o.lastIndex=0,i[n][this.svgUid][a]}},o.resolveGradient=function(t,e,n){var r=this.extractPropertyDefinition(t,n,"gradientDefs");if(r){var o=e.getAttribute(n+"-opacity"),a=i.Gradient.fromElement(r,t,o,this.options);t.set(n,a)}},o.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},o.resolveClipPath=function(t,e){var n,r,o,a,s=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(s){o=[],r=i.util.invertTransform(t.calcTransformMatrix());for(var c=s[0].parentNode,u=e;u.parentNode&&u.getAttribute("clip-path")!==t.clipPath;)u=u.parentNode;u.parentNode.appendChild(c);for(var l=0;l<s.length;l++)n=s[l],this.findTag(n).fromElement(n,this.createClipPathCallback(t,o),this.options);s=1===o.length?o[0]:new i.Group(o),a=i.util.multiplyTransformMatrices(r,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,u);var f=i.util.qrDecompose(a);s.flipX=!1,s.flipY=!1,s.set("scaleX",f.scaleX),s.set("scaleY",f.scaleY),s.angle=f.angle,s.skewX=f.skewX,s.skewY=0,s.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),t.clipPath=s}else delete t.clipPath},o.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,r,o,i){var a,s=(i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x),c=(r.x-t.x)*(t.y-o.y)-(r.y-t.y)*(t.x-o.x),u=(i.y-o.y)*(r.x-t.x)-(i.x-o.x)*(r.y-t.y);if(0!==u){var l=s/u,f=c/u;0<=l&&l<=1&&0<=f&&f<=1?(a=new n("Intersection")).appendPoint(new e.Point(t.x+l*(r.x-t.x),t.y+l*(r.y-t.y))):a=new n}else a=new n(0===s||0===c?"Coincident":"Parallel");return a},e.Intersection.intersectLinePolygon=function(t,e,r){var o,i,a,s,c=new n,u=r.length;for(s=0;s<u;s++)o=r[s],i=r[(s+1)%u],a=n.intersectLineLine(t,e,o,i),c.appendPoints(a.points);return c.points.length>0&&(c.status="Intersection"),c},e.Intersection.intersectPolygonPolygon=function(t,e){var r,o=new n,i=t.length;for(r=0;r<i;r++){var a=t[r],s=t[(r+1)%i],c=n.intersectLinePolygon(a,s,e);o.appendPoints(c.points)}return o.points.length>0&&(o.status="Intersection"),o},e.Intersection.intersectPolygonRectangle=function(t,r,o){var i=r.min(o),a=r.max(o),s=new e.Point(a.x,i.y),c=new e.Point(i.x,a.y),u=n.intersectLinePolygon(i,s,t),l=n.intersectLinePolygon(s,a,t),f=n.intersectLinePolygon(a,c,t),h=n.intersectLinePolygon(c,i,t),d=new n;return d.appendPoints(u.points),d.appendPoints(l.points),d.appendPoints(f.points),d.appendPoints(h.points),d.points.length>0&&(d.status="Intersection"),d})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,r){t/=255,n/=255,r/=255;var o,i,a,s=e.util.array.max([t,n,r]),c=e.util.array.min([t,n,r]);if(a=(s+c)/2,s===c)o=i=0;else{var u=s-c;switch(i=a>.5?u/(2-s-c):u/(s+c),s){case t:o=(n-r)/u+(n<r?6:0);break;case n:o=(r-t)/u+2;break;case r:o=(t-n)/u+4}o/=6}return[Math.round(360*o),Math.round(100*i),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,r=this.getSource();return t=1===(t=r[0].toString(16)).length?"0"+t:t,e=1===(e=r[1].toString(16)).length?"0"+e:e,n=1===(n=r[2].toString(16)).length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(t){t instanceof n||(t=new n(t));var e,r=[],o=this.getAlpha(),i=this.getSource(),a=t.getSource();for(e=0;e<3;e++)r.push(Math.round(.5*i[e]+.5*a[e]));return r[3]=o,this.setSource(r),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var r=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),o=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),i=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(r,10),parseInt(o,10),parseInt(i,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var o,i,a,s=(parseFloat(e[1])%360+360)%360/360,c=parseFloat(e[2])/(/%$/.test(e[2])?100:1),u=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===c)o=i=a=u;else{var l=u<=.5?u*(c+1):u+c-u*c,f=2*u-l;o=r(f,l,s+1/3),i=r(f,l,s),a=r(f,l,s-1/3)}return[Math.round(255*o),Math.round(255*i),Math.round(255*a),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),r=3===e.length||4===e.length,o=8===e.length||4===e.length,i=r?e.charAt(0)+e.charAt(0):e.substring(0,2),a=r?e.charAt(1)+e.charAt(1):e.substring(2,4),s=r?e.charAt(2)+e.charAt(2):e.substring(4,6),c=o?r?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(i,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],o={},i="left",a="top",s={top:"bottom",bottom:a,left:"right",right:i,center:"center"},c=e.util.radiansToDegrees,u=Math.sign||function(t){return(t>0)-(t<0)||+t};function l(t,e){var n=t.angle+c(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function f(t,n){var r=n.transform.target,o=r.canvas,i=e.util.object.clone(n);i.target=r,o&&o.fire("object:"+t,i),r.fire(t,n)}function h(t,e){var n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function d(t){return"center"===t.originX&&"center"===t.originY}function p(t,e,n){var r=t.lockScalingX,o=t.lockScalingY;return!(!r||!o)||!(e||!r&&!o||!n)||!(!r||"x"!==e)||!(!o||"y"!==e)}function v(t,e,n,r){return{e:t,transform:e,pointer:{x:n,y:r}}}function g(t){return function(e,n,r,o){var i=n.target,a=i.getCenterPoint(),s=i.translateToOriginPoint(a,n.originX,n.originY),c=t(e,n,r,o);return i.setPositionByOrigin(s,n.originX,n.originY),c}}function m(t,e){return function(n,r,o,i){var a=e(n,r,o,i);return a&&f(t,v(n,r,o,i)),a}}function y(t,n,r,o,i){var a=t.target,s=a.controls[t.corner],c=a.canvas.getZoom(),u=a.padding/c,l=a.toLocalPoint(new e.Point(o,i),n,r);return l.x>=u&&(l.x-=u),l.x<=-u&&(l.x+=u),l.y>=u&&(l.y-=u),l.y<=u&&(l.y+=u),l.x-=s.offsetX,l.y-=s.offsetY,l}function b(t){return t.flipX!==t.flipY}function _(t,e,n,r,o){if(0!==t[e]){var i=o/t._getTransformedDimensions()[r]*t[n];t.set(n,i)}}function w(t,e,n,r){var o,s=e.target,u=s._getTransformedDimensions(0,s.skewY),l=y(e,e.originX,e.originY,n,r),f=Math.abs(2*l.x)-u.x,h=s.skewX;f<2?o=0:(o=c(Math.atan2(f/s.scaleX,u.y/s.scaleY)),e.originX===i&&"bottom"===e.originY&&(o=-o),"right"===e.originX&&e.originY===a&&(o=-o),b(s)&&(o=-o));var d=h!==o;if(d){var p=s._getTransformedDimensions().y;s.set("skewX",o),_(s,"skewY","scaleY","y",p)}return d}function x(t,e,n,r){var o,s=e.target,u=s._getTransformedDimensions(s.skewX,0),l=y(e,e.originX,e.originY,n,r),f=Math.abs(2*l.y)-u.y,h=s.skewY;f<2?o=0:(o=c(Math.atan2(f/s.scaleY,u.x/s.scaleX)),e.originX===i&&"bottom"===e.originY&&(o=-o),"right"===e.originX&&e.originY===a&&(o=-o),b(s)&&(o=-o));var d=h!==o;if(d){var p=s._getTransformedDimensions().x;s.set("skewY",o),_(s,"skewX","scaleX","x",p)}return d}function S(t,e,n,r,o){o=o||{};var i,a,c,l,f,v,g=e.target,m=g.lockScalingX,b=g.lockScalingY,_=o.by,w=h(t,g),x=p(g,_,w),S=e.gestureScale;if(x)return!1;if(S)a=e.scaleX*S,c=e.scaleY*S;else{if(i=y(e,e.originX,e.originY,n,r),f="y"!==_?u(i.x):1,v="x"!==_?u(i.y):1,e.signX||(e.signX=f),e.signY||(e.signY=v),g.lockScalingFlip&&(e.signX!==f||e.signY!==v))return!1;if(l=g._getTransformedDimensions(),w&&!_){var C=Math.abs(i.x)+Math.abs(i.y),O=e.original,k=C/(Math.abs(l.x*O.scaleX/g.scaleX)+Math.abs(l.y*O.scaleY/g.scaleY));a=O.scaleX*k,c=O.scaleY*k}else a=Math.abs(i.x*g.scaleX/l.x),c=Math.abs(i.y*g.scaleY/l.y);d(e)&&(a*=2,c*=2),e.signX!==f&&"y"!==_&&(e.originX=s[e.originX],a*=-1,e.signX=f),e.signY!==v&&"x"!==_&&(e.originY=s[e.originY],c*=-1,e.signY=v)}var M=g.scaleX,E=g.scaleY;return _?("x"===_&&g.set("scaleX",a),"y"===_&&g.set("scaleY",c)):(!m&&g.set("scaleX",a),!b&&g.set("scaleY",c)),M!==g.scaleX||E!==g.scaleY}o.scaleCursorStyleHandler=function(t,e,r){var o=h(t,r),i="";if(0!==e.x&&0===e.y?i="x":0===e.x&&0!==e.y&&(i="y"),p(r,i,o))return"not-allowed";var a=l(r,e);return n[a]+"-resize"},o.skewCursorStyleHandler=function(t,e,n){if(0!==e.x&&n.lockSkewingY)return"not-allowed";if(0!==e.y&&n.lockSkewingX)return"not-allowed";var o=l(n,e)%4;return r[o]+"-resize"},o.scaleSkewCursorStyleHandler=function(t,e,n){return t[n.canvas.altActionKey]?o.skewCursorStyleHandler(t,e,n):o.scaleCursorStyleHandler(t,e,n)},o.rotationWithSnapping=m("rotating",g((function(t,e,n,r){var o=e,i=o.target,a=i.translateToOriginPoint(i.getCenterPoint(),o.originX,o.originY);if(i.lockRotation)return!1;var s,u=Math.atan2(o.ey-a.y,o.ex-a.x),l=Math.atan2(r-a.y,n-a.x),f=c(l-u+o.theta);if(i.snapAngle>0){var h=i.snapAngle,d=i.snapThreshold||h,p=Math.ceil(f/h)*h,v=Math.floor(f/h)*h;Math.abs(f-v)<d?f=v:Math.abs(f-p)<d&&(f=p)}return f<0&&(f=360+f),f%=360,s=i.angle!==f,i.angle=f,s}))),o.scalingEqually=m("scaling",g((function(t,e,n,r){return S(t,e,n,r)}))),o.scalingX=m("scaling",g((function(t,e,n,r){return S(t,e,n,r,{by:"x"})}))),o.scalingY=m("scaling",g((function(t,e,n,r){return S(t,e,n,r,{by:"y"})}))),o.scalingYOrSkewingX=function(t,e,n,r){return t[e.target.canvas.altActionKey]?o.skewHandlerX(t,e,n,r):o.scalingY(t,e,n,r)},o.scalingXOrSkewingY=function(t,e,n,r){return t[e.target.canvas.altActionKey]?o.skewHandlerY(t,e,n,r):o.scalingX(t,e,n,r)},o.changeWidth=m("resizing",g((function(t,e,n,r){var o=e.target,i=y(e,e.originX,e.originY,n,r),a=o.strokeWidth/(o.strokeUniform?o.scaleX:1),s=d(e)?2:1,c=o.width,u=Math.abs(i.x*s/o.scaleX)-a;return o.set("width",Math.max(u,0)),c!==u}))),o.skewHandlerX=function(t,e,n,r){var o,s=e.target,c=s.skewX,u=e.originY;return!s.lockSkewingX&&(0===c?o=y(e,"center","center",n,r).x>0?i:"right":(c>0&&(o=u===a?i:"right"),c<0&&(o=u===a?"right":i),b(s)&&(o=o===i?"right":i)),e.originX=o,m("skewing",g(w))(t,e,n,r))},o.skewHandlerY=function(t,e,n,r){var o,s=e.target,c=s.skewY,u=e.originX;return!s.lockSkewingY&&(0===c?o=y(e,"center","center",n,r).y>0?a:"bottom":(c>0&&(o=u===i?a:"bottom"),c<0&&(o=u===i?"bottom":a),b(s)&&(o=o===a?"bottom":a)),e.originY=o,m("skewing",g(x))(t,e,n,r))},o.dragHandler=function(t,e,n,r){var o=e.target,i=n-e.offsetX,a=r-e.offsetY,s=!o.get("lockMovementX")&&o.left!==i,c=!o.get("lockMovementY")&&o.top!==a;return s&&o.set("left",i),c&&o.set("top",a),(s||c)&&f("moving",v(t,e,n,r)),s||c},o.scaleOrSkewActionName=function(t,e,n){var r=t[n.canvas.altActionKey];return 0===e.x?r?"skewX":"scaleY":0===e.y?r?"skewY":"scaleX":void 0},o.rotationStyleHandler=function(t,e,n){return n.lockRotation?"not-allowed":e.cursorStyle},o.fireEvent=f,o.wrapWithFixedAnchor=g,o.wrapWithFireEvent=m,o.getLocalPoint=y,e.controlsUtils=o}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.degreesToRadians,r=e.controlsUtils;r.renderCircleControl=function(t,e,n,r,o){r=r||{};var i,a=this.sizeX||r.cornerSize||o.cornerSize,s=this.sizeY||r.cornerSize||o.cornerSize,c="undefined"!==typeof r.transparentCorners?r.transparentCorners:o.transparentCorners,u=c?"stroke":"fill",l=!c&&(r.cornerStrokeColor||o.cornerStrokeColor),f=e,h=n;t.save(),t.fillStyle=r.cornerColor||o.cornerColor,t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,a>s?(i=a,t.scale(1,s/a),h=n*a/s):s>a?(i=s,t.scale(a/s,1),f=e*s/a):i=a,t.lineWidth=1,t.beginPath(),t.arc(f,h,i/2,0,2*Math.PI,!1),t[u](),l&&t.stroke(),t.restore()},r.renderSquareControl=function(t,e,r,o,i){o=o||{};var a=this.sizeX||o.cornerSize||i.cornerSize,s=this.sizeY||o.cornerSize||i.cornerSize,c="undefined"!==typeof o.transparentCorners?o.transparentCorners:i.transparentCorners,u=c?"stroke":"fill",l=!c&&(o.cornerStrokeColor||i.cornerStrokeColor),f=a/2,h=s/2;t.save(),t.fillStyle=o.cornerColor||i.cornerColor,t.strokeStyle=o.cornerStrokeColor||i.cornerStrokeColor,t.lineWidth=1,t.translate(e,r),t.rotate(n(i.angle)),t[u+"Rect"](-f,-h,a,s),l&&t.strokeRect(-f,-h,a,s),t.restore()}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var n=t._controlsVisibility;return n&&"undefined"!==typeof n[e]?n[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,n){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},n)},calcCornerCoords:function(t,n,r,o,i){var a,s,c,u,l=i?this.touchSizeX:this.sizeX,f=i?this.touchSizeY:this.sizeY;if(l&&f&&l!==f){var h=Math.atan2(f,l),d=Math.sqrt(l*l+f*f)/2,p=h-e.util.degreesToRadians(t),v=Math.PI/2-h-e.util.degreesToRadians(t);a=d*e.util.cos(p),s=d*e.util.sin(p),c=d*e.util.cos(v),u=d*e.util.sin(v)}else d=.7071067812*(l&&f?l:n),p=e.util.degreesToRadians(45-t),a=c=d*e.util.cos(p),s=u=d*e.util.sin(p);return{tl:{x:r-u,y:o-c},tr:{x:r+a,y:o-s},bl:{x:r-a,y:o+s},br:{x:r+u,y:o+c}}},render:function(t,n,r,o,i){switch((o=o||{}).cornerStyle||i.cornerStyle){case"circle":e.controlsUtils.renderCircleControl.call(this,t,n,r,o,i);break;default:e.controlsUtils.renderSquareControl.call(this,t,n,r,o,i)}}}}(n),function(){function t(t,e){var n,r,o,a,s=t.getAttribute("style"),c=t.getAttribute("offset")||0;if(c=(c=parseFloat(c)/(/%$/.test(c)?100:1))<0?0:c>1?1:c,s){var u=s.split(/\s*;\s*/);for(""===u[u.length-1]&&u.pop(),a=u.length;a--;){var l=u[a].split(/\s*:\s*/),f=l[0].trim(),h=l[1].trim();"stop-color"===f?n=h:"stop-opacity"===f&&(o=h)}}return n||(n=t.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=t.getAttribute("stop-opacity")),r=(n=new i.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*e,{offset:c,color:n.toRgb(),opacity:o}}var e=i.util.object.clone;i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,n=this;Object.keys(t).forEach((function(e){n[e]=t[e]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var n=new i.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,e,t),e},toSVG:function(t,n){var r,o,a,s,c=e(this.coords,!0),u=(n=n||{},e(this.colorStops,!0)),l=c.r1>c.r2,f=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),h=-this.offsetX,d=-this.offsetY,p=!!n.additionalTransform,v="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(u.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===v?(h/=t.width,d/=t.height):(h+=t.width/2,d+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(h-=t.pathOffset.x,d-=t.pathOffset.y),f[4]-=h,f[5]-=d,s='id="SVGID_'+this.id+'" gradientUnits="'+v+'"',s+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+i.util.matrixToSVG(f)+'" ',"linear"===this.type?a=["<linearGradient ",s,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",s,' cx="',l?c.x1:c.x2,'" cy="',l?c.y1:c.y2,'" r="',l?c.r1:c.r2,'" fx="',l?c.x2:c.x1,'" fy="',l?c.y2:c.y1,'">\n']),"radial"===this.type){if(l)for((u=u.concat()).reverse(),r=0,o=u.length;r<o;r++)u[r].offset=1-u[r].offset;var g=Math.min(c.r1,c.r2);if(g>0){var m=g/Math.max(c.r1,c.r2);for(r=0,o=u.length;r<o;r++)u[r].offset+=m*(1-u[r].offset)}}for(r=0,o=u.length;r<o;r++){var y=u[r];a.push("<stop ",'offset="',100*y.offset+"%",'" style="stop-color:',y.color,"undefined"!==typeof y.opacity?";stop-opacity: "+y.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(t){var e,n,r,o=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(e=t.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,s=this.colorStops[n].opacity,c=this.colorStops[n].offset;"undefined"!==typeof s&&(a=new i.Color(a).setAlpha(s).toRgba()),e.addColorStop(c,a)}return e}}}),i.util.object.extend(i.Gradient,{fromElement:function(e,n,r,o){var a=parseFloat(r)/(/%$/.test(r)?100:1);a=a<0?0:a>1?1:a,isNaN(a)&&(a=1);var s,c,u,l,f=e.getElementsByTagName("stop"),h="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",d=e.getAttribute("gradientTransform")||"",p=[],v=0,g=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(s="linear",c=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(s="radial",c=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),u=f.length;u--;)p.push(t(f[u],a));return l=i.parseTransformAttribute(d),function(t,e,n,r){var o,i;Object.keys(e).forEach((function(t){"Infinity"===(o=e[t])?i=1:"-Infinity"===o?i=0:(i=parseFloat(e[t],10),"string"===typeof o&&/^(\d+\.\d+)%|(\d+)%$/.test(o)&&(i*=.01,"pixels"===r&&("x1"!==t&&"x2"!==t&&"r2"!==t||(i*=n.viewBoxWidth||n.width),"y1"!==t&&"y2"!==t||(i*=n.viewBoxHeight||n.height)))),e[t]=i}))}(0,c,o,h),"pixels"===h&&(v=-n.left,g=-n.top),new i.Gradient({id:e.getAttribute("id"),type:s,coords:c,colorStops:p,gradientUnits:h,gradientTransform:l,offsetX:v,offsetY:g})}})}(),function(){"use strict";var t=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=i.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else{var n=this;this.source=i.util.createImage(),i.util.loadImage(t.source,(function(t,r){n.source=t,e&&e(n,r)}),null,this.crossOrigin)}},toObject:function(e){var n,r,o=i.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?n=this.source.src:"object"===u(this.source)&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,o),offsetY:t(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,n=e.width/t.width,r=e.height/t.height,o=this.offsetX/t.width,i=this.offsetY/t.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,i&&(r+=Math.abs(i))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),e.src?a=e.src:e.toDataURL&&(a=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+i+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var n in"string"===typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,o=40,i=e.Object.NUM_FRACTION_DIGITS,a=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),s=new e.Color(this.color);return t.width&&t.height&&(r=100*n((Math.abs(a.x)+this.blur)/t.width,i)+20,o=100*n((Math.abs(a.y)+this.blur)/t.height,i)+20),t.flipX&&(a.x*=-1),t.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,i)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,i)+'" dy="'+n(a.y,i)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==n[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(n),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var t=i.util.object.extend,e=i.util.getElementOffset,n=i.util.removeFromArray,r=i.util.toFixed,o=i.util.transformPoint,a=i.util.invertTransform,s=i.util.getNodeCanvas,c=i.util.createCanvasElement,u=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==i.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?i.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=i.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,n){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),n.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,n,r){return"string"===typeof e?i.util.loadImage(e,(function(e,o){if(e){var a=new i.Image(e,r);this[t]=a,a.canvas=this}n&&n(e,o)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),n&&n(e,!1)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(){var t=c();if(!t)throw u;if(t.style||(t.style={}),"undefined"===typeof t.getContext)throw u;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=i.util.getById(t)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var r in e=e||{},t)n=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),n+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n,r,o=this._activeObject,i=this.backgroundImage,a=this.overlayImage;for(this.viewportTransform=t,n=0,r=this._objects.length;n<r;n++)(e=this._objects[n]).group||e.setCoords(!0);return o&&o.setCoords(),i&&i.setCoords(!0),a&&a.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var n=t,r=this.viewportTransform.slice(0);t=o(t,a(this.viewportTransform)),r[0]=e,r[3]=e;var i=o(t,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new i.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new i.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,n=this.height,r=a(this.viewportTransform);return t.tl=o({x:0,y:0},r),t.br=o({x:e,y:n},r),t.tr=new i.Point(t.br.x,t.tl.y),t.bl=new i.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),i.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,n=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"],r=this[e+"Image"],o=this.viewportTransform,i=this[e+"Vpt"];if(n||r){if(n){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=n.toLive?n.toLive(t,this):n,i&&t.transform(o[0],o[1],o[2],o[3],o[4],o[5]),t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&t.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.fill(),t.restore()}r&&(t.save(),i&&t.transform(o[0],o[1],o[2],o[3],o[4],o[5]),r.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new i.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new i.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new i.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=a(this.viewportTransform);return o({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r=this.clipPath,o={version:i.version,objects:this._toObjects(e,n)};return r&&!r.excludeFromExport&&(o.clipPath=this._toObject(this.clipPath,e,n)),t(o,this.__serializeBgOverlay(e,n)),i.util.populateWithProperties(this,o,n),o},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(n){return this._toObject(n,t,e)}),this)},_toObject:function(t,e,n){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var o=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=r),o},__serializeBgOverlay:function(t,e){var n={},r=this.backgroundImage,o=this.overlayImage,i=this.backgroundColor,a=this.overlayColor;return i&&i.toObject?i.excludeFromExport||(n.background=i.toObject(e)):i&&(n.background=i),a&&a.toObject?a.excludeFromExport||(n.overlay=a.toObject(e)):a&&(n.overlay=a),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),o&&!o.excludeFromExport&&(n.overlayImage=this._toObject(o,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,o=e.width||this.width,a=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',c=i.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+r(-n[4]/n[0],c)+" "+r(-n[5]/n[3],c)+" "+r(this.width/n[0],c)+" "+r(this.height/n[3],c)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',a,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var n=t[e+"Color"];if(n&&n.toLive){var r=t[e+"Vpt"],o=t.viewportTransform,a={width:t.width/(r?o[0]:1),height:t.height/(r?o[3]:1)};return n.toSVG(a,{additionalTransform:r?i.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,n,r,o,a,s,c,u="",l={},f=i.fontPaths,h=[];for(this._objects.forEach((function t(e){h.push(e),e._objects&&e._objects.forEach(t)})),s=0,c=h.length;s<c;s++)if(e=(t=h[s]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&f[e]&&(l[e]=!0,t.styles))for(o in n=t.styles)for(a in r=n[o])!l[e=r[a].fontFamily]&&f[e]&&(l[e]=!0);for(var d in l)u+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",f[d],"');\n","\t\t}\n"].join("");return u&&(u=['\t<style type="text/css">',"<![CDATA[\n",u,"]]>","</style>\n"].join("")),u},_setSVGObjects:function(t,e){var n,r,o,i=this._objects;for(r=0,o=i.length;r<o;r++)(n=i[r]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e+"Color"],r=this.viewportTransform,o=this.width,a=this.height;if(n)if(n.toLive){var s=n.repeat,c=i.util.invertTransform(r),u=this[e+"Vpt"]?i.util.matrixToSVG(c):"";t.push('<rect transform="'+u+" translate(",o/2,",",a/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:o,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,o,i=this._activeObject;if(t===i&&"activeSelection"===t.type)for(e=(o=i._objects).length;e--;)r=o[e],n(this._objects,r),this._objects.unshift(r);else n(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,r,o,i=this._activeObject;if(t===i&&"activeSelection"===t.type)for(o=i._objects,e=0;e<o.length;e++)r=o[e],n(this._objects,r),this._objects.push(r);else n(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var r,o,i,a,s,c=this._activeObject,u=0;if(t===c&&"activeSelection"===t.type)for(s=c._objects,r=0;r<s.length;r++)o=s[r],(i=this._objects.indexOf(o))>0+u&&(a=i-1,n(this._objects,o),this._objects.splice(a,0,o)),u++;else 0!==(i=this._objects.indexOf(t))&&(a=this._findNewLowerIndex(t,i,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,n){var r,o;if(n){for(r=e,o=e-1;o>=0;--o)if(t.intersectsWithObject(this._objects[o])||t.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(t)){r=o;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,o,i,a,s,c=this._activeObject,u=0;if(t===c&&"activeSelection"===t.type)for(r=(s=c._objects).length;r--;)o=s[r],(i=this._objects.indexOf(o))<this._objects.length-1-u&&(a=i+1,n(this._objects,o),this._objects.splice(a,0,o)),u++;else(i=this._objects.indexOf(t))!==this._objects.length-1&&(a=this._findNewUpperIndex(t,i,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,n){var r,o,i;if(n){for(r=e,o=e+1,i=this._objects.length;o<i;++o)if(t.intersectsWithObject(this._objects[o])||t.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(t)){r=o;break}}else r=e+1;return r},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(i.StaticCanvas.prototype,i.Observable),t(i.StaticCanvas.prototype,i.Collection),t(i.StaticCanvas.prototype,i.DataURLExporter),t(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=c();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"setLineDash":return"undefined"!==typeof n.setLineDash;default:return null}}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,n=t.contextTop,r=t.getZoom();t&&t._isRetinaScaling()&&(r*=i.devicePixelRatio),n.shadowColor=e.color,n.shadowBlur=e.blur*r,n.shadowOffsetX=e.offsetX*r,n.shadowOffsetY=e.offsetY*r}},needsFullRender:function(){return new i.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,n){var r=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,n[r-2],n[r-1],!0),o.stroke(),o.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new i.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new i.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,r=this._points[0],o=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var a=this.width/1e3;r=new i.Point(r.x,r.y),o=new i.Point(o.x,o.y),r.x-=a,o.x+=a}for(n.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(n,r,o),r=this._points[t],o=this._points[t+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return i.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===i.util.joinPath(t)},createPath:function(t){var e=new i.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new i.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var n,r=this.canvas.getZoom(),o=Math.pow(e/r,2),i=t.length-1,a=t[0],s=[a];for(n=1;n<i-1;n++)Math.pow(a.x-t[n].x,2)+Math.pow(a.y-t[n].y,2)>=o&&(a=t[n],s.push(a));return s.push(t[i]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,e),n.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),t=0,e=r.length;t<e;t++)this.dot(n,r[t]);n.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var o=this.points[t],a=new i.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(a.shadow=new i.Shadow(this.shadow)),r.push(a)}var s=new i.Group(r);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(t){var e=new i.Point(t.x,t.y),n=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],a=0,s=o.length;a<s;a++){var c=new i.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});e.push(c)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new i.Group(e);this.shadow&&u.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,n,r,o={};for(n=0,r=t.length;n<r;n++)o[e=t[n].left+""+t[n].top]||(o[e]=t[n]);var i=[];for(e in o)i.push(o[e]);return i},render:function(t){var e,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),e=0,n=t.length;e<n;e++){var o=t[e];"undefined"!==typeof o.opacity&&(r.globalAlpha=o.opacity),r.fillRect(o.x,o.y,o.width,o.width)}r.restore()},_render:function(){var t,e,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);n.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,n,r,o,a=this.width/2;for(o=0;o<this.density;o++){e=i.util.getRandomInt(t.x-a,t.x+a),n=i.util.getRandomInt(t.y-a,t.y+a),r=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new i.Point(e,n);s.width=r,this.randomOpacity&&(s.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var t=i.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=i.util.getPointer,e=i.util.degreesToRadians,n=i.util.isTouchEvent;for(var r in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){e=[],n=[];for(var o=0,i=this._objects.length;o<i;o++)t=this._objects[o],-1===r.indexOf(t)?e.push(t):n.push(t);r.length>1&&(this._activeObject._objects=n),e.push.apply(e,n)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=i.util.invertTransform(n),o=this.restorePointerVpt(e);return i.util.transformPoint(o,r)},isTargetTransparent:function(t,e,n){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:n}),o=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),a=Math.max(t.cacheTranslationY+r.y*t.zoomY,0);return i.util.isTransparent(t._cacheContext,Math.round(o),Math.round(a),this.targetFindTolerance)}var s=this.contextCache,c=t.selectionBackgroundColor,u=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),t.render(s),s.restore(),t.selectionBackgroundColor=c,i.util.isTransparent(s,e,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var n=this.getActiveObjects(),r=this._activeObject;return!e||e&&r&&n.length>1&&-1===n.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t,e,n){var r;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?r=this.centeredScaling||t.centeredScaling:"rotate"===e&&(r=this.centeredRotation||t.centeredRotation),r?!n:n},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n,r){if(!e||!t)return"drag";var o=r.controls[e];return o.getActionName(n,o,r)},_setupCurrentTransform:function(t,n,r){if(n){var o=this.getPointer(t),a=n.__corner,s=n.controls[a],c=r&&a?s.getActionHandler(t,n,s):i.controlsUtils.dragHandler,u=this._getActionFromCorner(r,a,t,n),l=this._getOriginFromCorner(n,a),f=t[this.centeredKey],h={target:n,action:u,actionHandler:c,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:l.x,originY:l.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:e(n.angle),width:n.width*n.scaleX,shiftKey:t.shiftKey,altKey:f,original:i.util.saveObjectTransform(n)};this._shouldCenterTransform(n,u,f)&&(h.originX="center",h.originY="center"),h.original.originX=l.x,h.original.originY=l.y,this._currentTransform=h,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,n=new i.Point(e.ex,e.ey),r=i.util.transformPoint(n,this.viewportTransform),o=new i.Point(e.ex+e.left,e.ey+e.top),a=i.util.transformPoint(o,this.viewportTransform),s=Math.min(r.x,a.x),c=Math.min(r.y,a.y),u=Math.max(r.x,a.x),l=Math.max(r.y,a.y),f=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(s,c,u-s,l-c)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,s+=f,c+=f,u-=f,l-=f,i.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(s,c,u-s,l-c))},findTarget:function(t,e){if(!this.skipTargetFind){var r,o,i=this.getPointer(t,!0),a=this._activeObject,s=this.getActiveObjects(),c=n(t),u=s.length>1&&!e||1===s.length;if(this.targets=[],u&&a._findTargetCorner(i,c))return a;if(s.length>1&&!e&&a===this._searchPossibleTargets([a],i))return a;if(1===s.length&&a===this._searchPossibleTargets([a],i)){if(!this.preserveObjectStacking)return a;r=a,o=this.targets,this.targets=[]}var l=this._searchPossibleTargets(this._objects,i);return t[this.altSelectionKey]&&l&&r&&l!==r&&(l=r,this.targets=o),l}},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,n.x,n.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,r,o=t.length;o--;){var a=t[o],s=a.group?this._normalizePointer(a.group,e):e;if(this._checkTarget(s,a,e)){(n=t[o]).subTargetCheck&&n instanceof i.Group&&(r=this._searchPossibleTargets(n._objects,e))&&this.targets.push(r);break}}return n},restorePointerVpt:function(t){return i.util.transformPoint(t,i.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,o=t(e),i=this.upperCanvasEl,a=i.getBoundingClientRect(),s=a.width||0,c=a.height||0;s&&c||("top"in a&&"bottom"in a&&(c=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=this.restorePointerVpt(o));var u=this.getRetinaScaling();return 1!==u&&(o.x/=u,o.y/=u),r=0===s||0===c?{width:1,height:1}:{width:i.width/s,height:i.height/c},{x:o.x*r.width,y:o.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),i.util.addClass(n,"upper-canvas "+t),this.wrapperEl.appendChild(n),this._copyCanvasStyle(e,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,n=this.height||t.height;i.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=n,i.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var n=!1,r=this.getActiveObjects(),o=[],i=[];t.forEach((function(t){-1===r.indexOf(t)&&(n=!0,t.fire("deselected",{e:e,target:t}),i.push(t))})),r.forEach((function(r){-1===t.indexOf(r)&&(n=!0,r.fire("selected",{e:e,target:r}),o.push(r))})),t.length>0&&r.length>0?n&&this.fire("selection:updated",{e:e,selected:o,deselected:i,updated:o[0]||i[0],target:this._activeObject}):r.length>0?this.fire("selection:created",{e:e,selected:o,target:this._activeObject}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:i})},setActiveObject:function(t,e){var n=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(n,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e:e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var n=this._activeObject;if(n){if(n.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),n=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:n,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(t),o=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,r),o},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){e[n]=t[n]})),i.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,r)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),i.StaticCanvas)"prototype"!==r&&(i.Canvas[r]=i.StaticCanvas[r])}(),function(){var t=i.util.addListener,e=i.util.removeListener,n={passive:!1};function r(t,e){return t.button&&t.button===e-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var r=this.upperCanvasEl,o=this._getEventPrefix();t(i.window,"resize",this._onResize),t(r,o+"down",this._onMouseDown),t(r,o+"move",this._onMouseMove,n),t(r,o+"out",this._onMouseOut),t(r,o+"enter",this._onMouseEnter),t(r,"wheel",this._onMouseWheel),t(r,"contextmenu",this._onContextMenu),t(r,"dblclick",this._onDoubleClick),t(r,"dragover",this._onDragOver),t(r,"dragenter",this._onDragEnter),t(r,"dragleave",this._onDragLeave),t(r,"drop",this._onDrop),this.enablePointerEvents||t(r,"touchstart",this._onTouchStart,n),"undefined"!==typeof eventjs&&e in eventjs&&(eventjs[e](r,"gesture",this._onGesture),eventjs[e](r,"drag",this._onDrag),eventjs[e](r,"orientation",this._onOrientationChange),eventjs[e](r,"shake",this._onShake),eventjs[e](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(i.document,t+"up",this._onMouseUp),e(i.document,"touchend",this._onTouchEnd,n),e(i.document,t+"move",this._onMouseMove,n),e(i.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:e,e:t}),r&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,n),t(i.document,"touchmove",this._onMouseMove,n),e(o,a+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();e(o,a+"move",this._onMouseMove,n),t(i.document,a+"up",this._onMouseUp),t(i.document,a+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();e(i.document,"touchend",this._onTouchEnd,n),e(i.document,"touchmove",this._onMouseMove,n);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,o+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(r)&&(e(i.document,a+"up",this._onMouseUp),e(i.document,a+"move",this._onMouseMove,n),t(o,a+"move",this._onMouseMove,n))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!==!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,n=this._currentTransform,o=this._groupSelector,a=!1,s=!o||0===o.left&&0===o.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),r(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,s);else{if(r(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(n&&(this._finalizeCurrentTransform(t),a=n.actionPerformed),!s){var c=e===this._activeObject;this._maybeGroupObjects(t),a||(a=this._shouldRender(e)||!c&&e===this._activeObject)}if(e){if(e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),a=!0;else{var u=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t)),l=e.controls[u],f=l&&l.getMouseUpHandler(t,e,l);if(f){var h=this.getPointer(t);f(t,n,h.x,h.y)}}e.isMoving=!1}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),a?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(t,e){var n=this.findTarget(e),r=this.targets,o={e:e,target:n,subTargets:r};if(this.fire(t,o),n&&n.fire(t,o),!r)return n;for(var i=0;i<r.length;i++)r[i].fire(t,o);return n},_handleEvent:function(t,e,n,r){var o=this._target,i=this.targets||[],a={e:t,target:o,subTargets:i,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(a.currentTarget=this.findTarget(t),a.currentSubTargets=this.targets),this.fire("mouse:"+e,a),o&&o.fire("mouse"+e,a);for(var s=0;s<i.length;s++)i[s].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e,n=this._currentTransform,r=n.target,o={e:t,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(e=this._addEventOptions(o,n),this._fire(e,o)),this._fire("modified",o))},_addEventOptions:function(t,e){var n,r;switch(e.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return t.by=r,n},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(r(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(r(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var o=this._shouldRender(e),a=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):a&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var c=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t));if(e.__corner=c,e===this._activeObject&&(c||!a)){this._setupCurrentTransform(t,e,s);var u=e.controls[c],l=(n=this.getPointer(t),u&&u.getMouseDownHandler(t,e,u));l&&l(t,this._currentTransform,n.x,n.y)}}this._handleEvent(t,"down"),(o||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,n;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var r=this._groupSelector;r?(n=this._absolutePointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var n=this._hoveredTarget,r=this._hoveredTargets,o=this.targets,i=Math.max(r.length,o.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<i;a++)this.fireSyntheticInOutEvents(o[a],e,{oldTarget:r[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var n=this._draggedoverTarget,r=this._hoveredTargets,o=this.targets,i=Math.max(r.length,o.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<i;a++)this.fireSyntheticInOutEvents(o[a],e,{oldTarget:r[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,n){var r,o,i,a=n.oldTarget,s=a!==t,c=n.canvasEvtIn,u=n.canvasEvtOut;s&&(r={e:e,target:t,previousTarget:a},o={e:e,target:a,nextTarget:t}),i=t&&s,a&&s&&(u&&this.fire(u,o),a.fire(n.evtOut,o)),i&&(c&&this.fire(c,r),t.fire(n.evtIn,r))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._performTransformAction(t,n,e),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,n){var r=n.x,o=n.y,i=e.action,a=!1,s=e.actionHandler;s&&(a=s(t,e,r,o)),"drag"===i&&a&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,o=(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));o?this.setCursor(this.getCornerCursor(o,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){n=t.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,e,n){var r=e.controls[t];return r.cursorStyleHandler(n,r,e)}})}(),function(){var t=Math.min,e=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(t,e){var n=this._activeObject;return n&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(n!==e||"activeSelection"===n.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var n=this._activeObject;n.__corner||(e!==n||(e=this.findTarget(t,!0))&&e.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var n=this._activeObject,r=n._objects.slice(0);n.contains(t)?(n.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),e)):(n.addWithUpdate(t),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,e)},_createActiveSelection:function(t,e){var n=this.getActiveObjects(),r=this._createGroup(t);this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents(n,e)},_createGroup:function(t){var e=this._objects,n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(t){var e,n=this._collectObjects(t);1===n.length?this.setActiveObject(n[0],t):n.length>1&&(e=new i.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(n){for(var r,o=[],a=this._groupSelector.ex,s=this._groupSelector.ey,c=a+this._groupSelector.left,u=s+this._groupSelector.top,l=new i.Point(t(a,c),t(s,u)),f=new i.Point(e(a,c),e(s,u)),h=!this.selectionFullyContained,d=a===c&&s===u,p=this._objects.length;p--&&!((r=this._objects[p])&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(l,f,!0)||r.isContainedWithinRect(l,f,!0)||h&&r.containsPoint(l,null,!0)||h&&r.containsPoint(f,null,!0))&&(o.push(r),d)););return o.length>1&&(o=o.filter((function(t){return!t.onSelect({e:n})}))),o},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,t);return i.util.toDataURL(o,e,n)},toCanvasElement:function(t,e){t=t||1;var n=((e=e||{}).width||this.width)*t,r=(e.height||this.height)*t,o=this.getZoom(),a=this.width,s=this.height,c=o*t,u=this.viewportTransform,l=(u[4]-(e.left||0))*t,f=(u[5]-(e.top||0))*t,h=this.interactive,d=[c,0,0,c,l,f],p=this.enableRetinaScaling,v=i.util.createCanvasElement(),g=this.contextTop;return v.width=n,v.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(v.getContext("2d"),this._objects),this.viewportTransform=u,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=p,this.contextTop=g,v}}),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(t,e,n){if(t){var r="string"===typeof t?JSON.parse(t):i.util.object.clone(t),o=this,a=r.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(t){o.clear(),o._setBgOverlay(r,(function(){a?o._enlivenObjects([a],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,t,s,e)})):o.__setupCanvas.call(o,r,t,s,e)}))}),n),this}},__setupCanvas:function(t,e,n,r){var o=this;e.forEach((function(t,e){o.insertAt(t,e)})),this.renderOnAddRemove=n,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),r&&r()},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r)}else e&&e()},__setBgOverlay:function(t,e,n,r){var o=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?i.util.enlivenObjects([e],(function(e){o[t]=e[0],n[t]=!0,r&&r()})):this["set"+i.util.string.capitalize(t,!0)](e,(function(){n[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,n){t&&0!==t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),null,n):e&&e([])},_toDataURL:function(t,e){this.clone((function(n){e(n.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,n){this.clone((function(r){n(r.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(n,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=i.util.createCanvasElement();e.width=this.width,e.height=this.height;var n=new i.Canvas(e);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),t&&t(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,o=e.util.toFixed,i=e.util.string.capitalize,a=e.util.degreesToRadians,s=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:s,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,r=t.width,o=t.height,i=e.maxCacheSideLimit,a=e.minCacheSideLimit;if(r<=i&&o<=i&&r*o<=n)return r<a&&(t.width=a),o<a&&(t.height=a),t;var s=r/o,c=e.util.limitDimsByArea(s,n),u=e.util.capValue,l=u(a,c.x,i),f=u(a,c.y,i);return r>l&&(t.zoomX/=r/l,t.width=l,t.capped=!0),o>f&&(t.zoomY/=o/f,t.height=f,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),n=e.x*t.scaleX/this.scaleX,r=e.y*t.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:t.scaleX,zoomY:t.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var n=t._currentTransform.target,r=t._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var o,i,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),c=e.minCacheSideLimit,u=s.width,l=s.height,f=s.zoomX,h=s.zoomY,d=u!==this.cacheWidth||l!==this.cacheHeight,p=this.zoomX!==f||this.zoomY!==h,v=d||p,g=0,m=0,y=!1;if(d){var b=this._cacheCanvas.width,_=this._cacheCanvas.height,w=u>b||l>_;y=w||(u<.9*b||l<.9*_)&&b>c&&_>c,w&&!s.capped&&(u>c||l>c)&&(g=.1*u,m=.1*l)}return this instanceof e.Text&&this.path&&(v=!0,y=!0,g+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!v&&(y?(a.width=Math.ceil(u+g),a.height=Math.ceil(l+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),o=s.x/2,i=s.y/2,this.cacheTranslationX=Math.round(a.width/2-o)+o,this.cacheTranslationY=Math.round(a.height/2-i)+i,this.cacheWidth=u,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(f,h),this.zoomX=f,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:o(this.left,n),top:o(this.top,n),width:o(this.width,n),height:o(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,n),scaleX:o(this.scaleX,n),scaleY:o(this.scaleY,n),angle:o(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,n),skewY:o(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(r.clipPath=this.clipPath.toObject(t),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype;return n.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===n[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+i(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,n=t.scaleY;if(this.canvas){var r=this.canvas.getZoom(),o=this.canvas.getRetinaScaling();e*=r*o,n*=r*o}return{scaleX:e,scaleY:n}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,n){var r="scaleX"===t||"scaleY"===t,o=this[t]!==n,i=!1;return r&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,o&&(i=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,i&&this.group.set("dirty",!0)):i&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==u(this.shadow))||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var n=this.clipPath;if(t.save(),n.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",n.absolutePositioned){var r=e.util.invertTransform(this.calcTransformMatrix());t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},drawObject:function(t,e){var n=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t),this.fill=n,this.stroke=r},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var n=e.fill;n&&(n.toLive?(t.fillStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=n)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,n){var r,o,i,s=this.getViewportTransform(),c=this.calcTransformMatrix();o="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,i="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,c=e.util.multiplyTransformMatrices(s,c),r=e.util.qrDecompose(c),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),t.rotate(a(r.angle)),n.forActiveSelection||this.group?o&&this.drawBordersInGroup(t,r,n):o&&this.drawBorders(t,n),i&&this.drawControls(t,n),t.restore()},_setShadow:function(t){if(this.shadow){var n,r=this.shadow,o=this.canvas,i=o&&o.viewportTransform[0]||1,a=o&&o.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),o&&o._isRetinaScaling()&&(i*=e.devicePixelRatio,a*=e.devicePixelRatio),t.shadowColor=r.color,t.shadowBlur=r.blur*e.browserShadowBlurConstant*(i+a)*(n.scaleX+n.scaleY)/4,t.shadowOffsetX=r.offsetX*i*n.scaleX,t.shadowOffsetY=r.offsetY*a*n.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,o=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,r,o):t.transform(1,0,0,1,r,o),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:o}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,n){var r,o=this._limitCacheSize(this._getCacheCanvasDimensions()),i=e.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=o.x/this.scaleX/a,c=o.y/this.scaleY/a;i.width=s,i.height=c,(r=i.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,c),r.lineTo(0,c),r.closePath(),r.translate(s/2,c/2),r.scale(o.zoomX/this.scaleX/a,o.zoomY/this.scaleY/a),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(t),r.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(a*this.scaleX/o.zoomX,a*this.scaleY/o.zoomY),t.strokeStyle=r.createPattern(i,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=e.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(n,"center","center")},clone:function(t,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,t):e.Object._fromObject("Object",r,t)},cloneAsImage:function(t,n){var r=this.toCanvasElement(n);return t&&t(new e.Image(r)),this},toCanvasElement:function(t){t||(t={});var n=e.util,r=n.saveObjectTransform(this),o=this.group,i=this.shadow,a=Math.abs,s=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&n.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var c,u,l,f,h=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,v={x:0,y:0};p&&(u=p.blur,c=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),v.x=2*Math.round(a(p.offsetX)+u)*a(c.scaleX),v.y=2*Math.round(a(p.offsetY)+u)*a(c.scaleY)),l=d.width+v.x,f=d.height+v.y,h.width=Math.ceil(l),h.height=Math.ceil(f);var g=new e.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(g.width/2,g.height/2),"center","center");var m=this.canvas;g.add(this);var y=g.toCanvasElement(s||1,t);return this.shadow=i,this.set("canvas",m),o&&(this.group=o),this.set(r).setCoords(),g._objects=[],g.dispose(),g=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var r=new e.Point(n.x,n.y),o=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,o,a(-this.angle))),{x:r.x-o.x,y:r.y-o.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,o,i){var a=e[t];n=r(n,!0),e.util.enlivenPatterns([n.fill,n.stroke],(function(t){"undefined"!==typeof t[0]&&(n.fill=t[0]),"undefined"!==typeof t[1]&&(n.stroke=t[1]),e.util.enlivenObjects([n.clipPath],(function(t){n.clipPath=t[0];var e=i?new a(n[i],n):new a(n);o&&o(e)}))}))},e.Object.__uid=0)}(n),function(){var t=i.util.degreesToRadians,e={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(t,r,o,a,s){var c,u,l,f=t.x,h=t.y;return"string"===typeof r?r=e[r]:r-=.5,"string"===typeof a?a=e[a]:a-=.5,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof s?s=n[s]:s-=.5,u=s-o,((c=a-r)||u)&&(l=this._getTransformedDimensions(),f=t.x+c*l.x,h=t.y+u*l.y),new i.Point(f,h)},translateToCenterPoint:function(e,n,r){var o=this.translateToGivenOrigin(e,n,r,"center","center");return this.angle?i.util.rotatePoint(o,e,t(this.angle)):o},translateToOriginPoint:function(e,n,r){var o=this.translateToGivenOrigin(e,"center","center",n,r);return this.angle?i.util.rotatePoint(o,e,t(this.angle)):o},getCenterPoint:function(){var t=new i.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,r){var o,a,s=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(s,"center","center",n,r):new i.Point(this.left,this.top),a=new i.Point(e.x,e.y),this.angle&&(a=i.util.rotatePoint(a,s,-t(this.angle))),a.subtractEquals(o)},setPositionByOrigin:function(t,e,n){var r=this.translateToCenterPoint(t,e,n),o=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",o.x),this.set("top",o.y)},adjustPosition:function(n){var r,o,a=t(this.angle),s=this.getScaledWidth(),c=i.util.cos(a)*s,u=i.util.sin(a)*s;r="string"===typeof this.originX?e[this.originX]:this.originX-.5,o="string"===typeof n?e[n]:n-.5,this.left+=c*(o-r),this.top+=u*(o-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var t=i.util,e=t.degreesToRadians,n=t.multiplyTransformMatrices,r=t.transformPoint;t.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return n=this._getCoords(t,e),[new i.Point(n.tl.x,n.tl.y),new i.Point(n.tr.x,n.tr.y),new i.Point(n.br.x,n.br.y),new i.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(t,e,n,r){var o=this.getCoords(n,r);return"Intersection"===i.Intersection.intersectPolygonRectangle(o,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===i.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var r=this.getCoords(e,n),o=e?t.aCoords:t.lineCoords,i=0,a=t._getImageLines(o);i<4;i++)if(!t.containsPoint(r[i],a))return!1;return!0},isContainedWithinRect:function(t,e,n,r){var o=this.getBoundingRect(n,r);return o.left>=t.x&&o.left+o.width<=e.x&&o.top>=t.y&&o.top+o.height<=e.y},containsPoint:function(t,e,n,r){var o=this._getCoords(n,r),i=(e=e||this._getImageLines(o),this._findCrossPoints(t,e));return 0!==i&&i%2===1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some((function(t){return t.x<=n.x&&t.x>=e.x&&t.y<=n.y&&t.y>=e.y}))||!!this.intersectsWithRect(e,n,!0,t)||this._containsCenterOfCanvas(e,n,t)},_containsCenterOfCanvas:function(t,e,n){var r={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,n,!0,t)||this.getCoords(!0,t).every((function(t){return(t.x>=n.x||t.x<=e.x)&&(t.y>=n.y||t.y<=e.y)}))&&this._containsCenterOfCanvas(e,n,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,r,o,i=0;for(var a in e)if(!((o=e[a]).o.y<t.y&&o.d.y<t.y)&&!(o.o.y>=t.y&&o.d.y>=t.y)&&(o.o.x===o.d.x&&o.o.x>=t.x?r=o.o.x:(n=(o.d.y-o.o.y)/(o.d.x-o.o.x),r=-(t.y-0*t.x-(o.o.y-n*o.o.x))/(0-n)),r>=t.x&&(i+=1),2===i))break;return i},getBoundingRect:function(e,n){var r=this.getCoords(e,n);return t.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var n=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/n)},scaleToHeight:function(t,e){var n=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/n)},calcCoords:function(t){return t?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),o=this.padding,i=e(this.angle),a=t.cos(i)*o,s=t.sin(i)*o,c=a+s,u=a-s,l=this.calcACoords(),f={tl:r(l.tl,n),tr:r(l.tr,n),bl:r(l.bl,n),br:r(l.br,n)};return o&&(f.tl.x-=u,f.tl.y-=c,f.tr.x+=c,f.tr.y-=u,f.bl.x-=c,f.bl.y+=u,f.br.x+=u,f.br.y+=c),f},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),r=this.getViewportTransform(),o=n(r,e),i=n(o,t),a=(i=n(i,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl((function(t,e,n){s[e]=t.positionHandler(a,i,n)})),s},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),o=n(e,t),i=this._getTransformedDimensions(),a=i.x/2,s=i.y/2;return{tl:r({x:-a,y:-s},o),tr:r({x:a,y:-s},o),bl:r({x:-a,y:s},o),br:r({x:a,y:s},o)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var r=this.transformMatrixKey(t),o=this.matrixCache||(this.matrixCache={});return o.key===r?o.value:(this.group&&(e=n(this.group.calcTransformMatrix(!1),e)),o.key=r,o.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===e)return n.value;var r=this._calcTranslateMatrix(),o={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=e,n.value=t.composeMatrix(o),n.value},_calcDimensionsTransformMatrix:function(e,n,r){return t.calcDimensionsMatrix({skewX:e,skewY:n,scaleX:this.scaleX*(r&&this.flipX?-1:1),scaleY:this.scaleY*(r&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,n){"undefined"===typeof e&&(e=this.skewX),"undefined"===typeof n&&(n=this.skewY);var r,o,i,a=0===e&&0===n;if(this.strokeUniform?(o=this.width,i=this.height):(o=(r=this._getNonTransformedDimensions()).x,i=r.y),a)return this._finalizeDimensions(o*this.scaleX,i*this.scaleY);var s=t.sizeAfterTransform(o,i,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:n});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return r(e,t,!0).scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new i.Color(e),r=t+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=t+"-opacity: "+o.toString()+"; "),r}return t+": none; "}var e=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",i=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u="undefined"!==typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",f=e?"":this.getSvgFilter(),h=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",c,"; ",h,"fill-rule: ",n,"; ","opacity: ",u,";",f,l].join("")},getSvgSpanStyles:function(e,n){var r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",o=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",i=(r=r,e.fontSize?"font-size: "+e.fontSize+"px; ":""),a=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",s=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",c=e.fill?t("fill",e.fill):"",u=e.stroke?t("stroke",e.stroke):"",l=this.getSvgTextDecoration(e);return l&&(l="text-decoration: "+l+"; "),[u,o,r,i,a,s,l,c,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var n=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+i.util.matrixToSVG(n)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var n=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,n),'" y="',e(-this.height/2,n),'" width="',e(this.width,n),'" height="',e(this.height,n),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var n=(e=e||{}).reviver,r=e.additionalTransform||"",o=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),i=t.indexOf("COMMON_PARTS");return t[i]=o,n?n(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var n,r,o=(e=e||{}).noStyle,a=e.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',c=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=u&&u.absolutePositioned,h=this.stroke,d=this.fill,p=this.shadow,v=[],g=t.indexOf("COMMON_PARTS"),m=e.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+i.Object.__uid++,r='<clipPath id="'+u.clipPathId+'" >\n'+u.toClipPathSVG(a)+"</clipPath>\n"),f&&v.push("<g ",c,this.getSvgCommons()," >\n"),v.push("<g ",this.getSvgTransform(!1),f?"":c+this.getSvgCommons()," >\n"),n=[s,l,o?"":this.addPaintOrder()," ",m?'transform="'+m+'" ':""].join(""),t[g]=n,d&&d.toLive&&v.push(d.toSVG(this)),h&&h.toLive&&v.push(h.toSVG(this)),p&&v.push(p.toSVG(this)),u&&v.push(r),v.push(t.join("")),v.push("</g>\n"),f&&v.push("</g>\n"),a?a(v.join("")):v.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=i.util.object.extend;function e(e,n,r){var o={};r.forEach((function(t){o[t]=e[t]})),t(e[n],o,!0)}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,n,r){if(e===n)return!0;if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var o=0,i=e.length;o<i;o++)if(!t(e[o],n[o]))return!1;return!0}if(e&&"object"===u(e)){var a,s=Object.keys(e);if(!n||"object"!==u(n)||!r&&s.length!==Object.keys(n).length)return!1;for(o=0,i=s.length;o<i;o++)if("canvas"!==(a=s[o])&&"group"!==a&&!t(e[a],n[a]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var n=t&&t.propertySet||"stateProperties",r="_"+n;return this[r]?(e(this,r,this[n]),t&&t.stateProperties&&e(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,o,i=t.x,a=t.y,s=Object.keys(this.oCoords),c=s.length-1;for(this.__corner=0;c>=0;c--)if(o=s[c],this.isControlVisible(o)&&(r=this._getImageLines(e?this.oCoords[o].touchCorner:this.oCoords[o].corner),0!==(n=this._findCrossPoints({x:i,y:a},r))&&n%2===1))return this.__corner=o,o;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var n=this.controls[e];t[e].corner=n.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/o[0],1/o[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,o=n.x+r,i=n.y+r,a="undefined"!==typeof e.hasControls?e.hasControls:this.hasControls,s=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-o/2,-i/2,o,i),a&&(t.beginPath(),this.forEachControl((function(e,n,r){e.withConnection&&e.getVisibility(r,n)&&(s=!0,t.moveTo(e.x*o,e.y*i),t.lineTo(e.x*o+e.offsetX,e.y*i+e.offsetY))})),s&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,n){n=n||{};var r=i.util.sizeAfterTransform(this.width,this.height,e),o=this.strokeWidth,a=this.strokeUniform,s=this.borderScaleFactor,c=r.x+o*(a?this.canvas.getZoom():e.scaleX)+s,u=r.y+o*(a?this.canvas.getZoom():e.scaleY)+s;return t.save(),this._setLineDash(t,n.borderDashArray||this.borderDashArray),t.strokeStyle=n.borderColor||this.borderColor,t.strokeRect(-c/2,-u/2,c,u),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var n,r,o=this.canvas.getRetinaScaling();return t.setTransform(o,0,0,o,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(o,a,s){r=s.oCoords[a],o.getVisibility(s,a)&&(n&&(r=i.util.transformPoint(r,n)),o.render(t,r.x,r.y,e,s))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,o=e.onChange||n,a=this;return i.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),a.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,o=e.onChange||n,a=this;return i.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),a.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,o=e.onChange||n,a=this;return i.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),a.requestRenderAll(),o()},onComplete:function(){a.remove(t),r()}}),this}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===u(arguments[0])){var t,e,n=[];for(t in arguments[0])n.push(t);for(var r=0,o=n.length;r<o;r++)t=n[r],e=r!==o-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,r){var o,a=this;e=e.toString(),n=n?i.util.object.clone(n):{},~t.indexOf(".")&&(o=t.split("."));var s=a.colorProperties.indexOf(t)>-1||o&&a.colorProperties.indexOf(o[1])>-1,c=o?this.get(o[0])[o[1]]:this.get(t);"from"in n||(n.from=c),s||(e=~e.indexOf("=")?c+parseFloat(e.replace("=","")):parseFloat(e));var u={startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(t,e,r){return n.abort.call(a,t,e,r)},onChange:function(e,i,s){o?a[o[0]][o[1]]=e:a.set(t,e),r||n.onChange&&n.onChange(e,i,s)},onComplete:function(t,e,o){r||(a.setCoords(),n.onComplete&&n.onComplete(t,e,o))}};return s?i.util.animateColor(u.startValue,u.endValue,u.duration,u):i.util.animate(u)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};function i(t,e){var n=t.origin,r=t.axis1,o=t.axis2,i=t.dimension,a=e.nearest,s=e.center,c=e.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(o));case s:return Math.min(this.get(r),this.get(o))+.5*this.get(i);case c:return Math.max(this.get(r),this.get(o))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof o[t]&&this._setWidthHeight(),this},_getLeftToOriginX:i({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:i({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var n=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,r=e*this.height*.5;return{x1:n,x2:t*this.width*-.5,y1:r,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,r,o){o=o||{};var i=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),a=[i.x1||0,i.y1||0,i.x2||0,i.y2||0];r(new e.Line(a,n(i,o)))},e.Line.fromObject=function(t,n){var o=r(t,!0);o.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",o,(function(t){delete t.points,n&&n(t)}),"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var o=e.util.cos(this.startAngle)*this.radius,i=e.util.sin(this.startAngle)*this.radius,a=e.util.cos(this.endAngle)*this.radius,s=e.util.sin(this.endAngle)*this.radius,c=r>n?"1":"0";t=['<path d="M '+o+" "+i," A "+this.radius+" "+this.radius," 0 ",+c+" 1"," "+a+" "+s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){var r,o=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=o)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");o.left=(o.left||0)-o.radius,o.top=(o.top||0)-o.radius,n(new e.Circle(o))},e.Circle.fromObject=function(t,n){e.Object._fromObject("Circle",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,n){return e.Object._fromObject("Triangle",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,n,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new e.Ellipse(r))},e.Ellipse.fromObject=function(t,n){e.Object._fromObject("Ellipse",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,i=-this.width/2,a=-this.height/2,s=0!==e||0!==n,c=.4477152502;t.beginPath(),t.moveTo(i+e,a),t.lineTo(i+r-e,a),s&&t.bezierCurveTo(i+r-c*e,a,i+r,a+c*n,i+r,a+n),t.lineTo(i+r,a+o-n),s&&t.bezierCurveTo(i+r,a+o-c*n,i+r-c*e,a+o,i+r-e,a+o),t.lineTo(i+e,a+o),s&&t.bezierCurveTo(i+c*e,a+o,i,a+o-c*n,i,a+o-n),t.lineTo(i,a+n),s&&t.bezierCurveTo(i,a+c*n,i+c*e,a,i+e,a),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r,o){if(!t)return r(null);o=o||{};var i=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0,i.height=i.height||0,i.width=i.width||0;var a=new e.Rect(n(o?e.util.object.clone(o):{},i));a.visible=a.visible&&a.width>0&&a.height>0,r(a)},e.Rect.fromObject=function(t,n){return e.Object._fromObject("Rect",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,o=e.util.array.max,i=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,n=this._calcDimensions(t);this.width=n.width,this.height=n.height,t.fromSVG||(e=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof t.left&&(this.left=t.fromSVG?n.left:e.x),"undefined"===typeof t.top&&(this.top=t.fromSVG?n.top:e.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x")||0,n=r(t,"y")||0;return{left:e,top:n,width:(o(t,"x")||0)-e,height:(o(t,"y")||0)-n}},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],n=this.pathOffset.x,r=this.pathOffset.y,o=e.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)t.push(i(this.points[a].x-n,o),",",i(this.points[a].y-r,o)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,n=this.points.length,r=this.pathOffset.x,o=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-o);for(var i=0;i<n;i++)e=this.points[i],t.lineTo(e.x-r,e.y-o);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(r,o,i){if(!r)return o(null);i||(i={});var a=e.parsePointsAttribute(r.getAttribute("points")),s=e.parseAttributes(r,e[t].ATTRIBUTE_NAMES);s.fromSVG=!0,o(new e[t](a,n(s,i)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,n){return e.Object._fromObject("Polyline",t,n,"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,n){e.Object._fromObject("Polygon",t,n,"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max,o=e.util.object.extend,i=Object.prototype.toString,a=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,n){n=n||{},this.callSuper("initialize",n),t||(t=[]);var r="[object Array]"===i.call(t);this.path=e.util.makePathSimpler(r?t:e.util.parsePath(t)),this.path&&e.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(t){var e,n=0,r=0,o=0,i=0,a=0,s=0,c=-this.pathOffset.x,u=-this.pathOffset.y;t.beginPath();for(var l=0,f=this.path.length;l<f;++l)switch((e=this.path[l])[0]){case"L":o=e[1],i=e[2],t.lineTo(o+c,i+u);break;case"M":n=o=e[1],r=i=e[2],t.moveTo(o+c,i+u);break;case"C":o=e[5],i=e[6],a=e[3],s=e[4],t.bezierCurveTo(e[1]+c,e[2]+u,a+c,s+u,o+c,i+u);break;case"Q":t.quadraticCurveTo(e[1]+c,e[2]+u,e[3]+c,e[4]+u),o=e[3],i=e[4],a=e[1],s=e[2];break;case"z":case"Z":o=n,i=r,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return o(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,t)+", "+a(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,o,i=[],a=[],s=0,c=0,u=0,l=0,f=0,h=this.path.length;f<h;++f){switch((t=this.path[f])[0]){case"L":u=t[1],l=t[2],o=[];break;case"M":s=u=t[1],c=l=t[2],o=[];break;case"C":o=e.util.getBoundsOfCurve(u,l,t[1],t[2],t[3],t[4],t[5],t[6]),u=t[5],l=t[6];break;case"Q":o=e.util.getBoundsOfCurve(u,l,t[1],t[2],t[1],t[2],t[3],t[4]),u=t[3],l=t[4];break;case"z":case"Z":u=s,l=c}o.forEach((function(t){i.push(t.x),a.push(t.y)})),i.push(u),a.push(l)}var d=n(i)||0,p=n(a)||0;return{left:d,top:p,width:(r(i)||0)-d,height:(r(a)||0)-p}}}),e.Path.fromObject=function(t,n){if("string"===typeof t.sourcePath){var r=t.sourcePath;e.loadSVGFromURL(r,(function(e){var r=e[0];r.setOptions(t),n&&n(r)}))}else e.Object._fromObject("Path",t,n,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,r){var i=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);i.fromSVG=!0,n(new e.Path(i.d,o(i,r)))})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var o=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),o||this._calcBounds(),this._updateObjectsCoords(o),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var n=t.left,r=t.top;t.set({left:n-e.x,top:r-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var n=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(n&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,n);if("canvas"===t)for(;r--;)this._objects[r]._set(t,n);e.Object.prototype._set.call(this,t,n)},toObject:function(t){var n=this.includeDefaultValues,r=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var r=e.includeDefaultValues;e.includeDefaultValues=n;var o=e.toObject(t);return e.includeDefaultValues=r,o})),o=e.Object.prototype.toObject.call(this,t);return o.objects=r,o},toDatalessObject:function(t){var n,r=this.sourcePath;if(r)n=r;else{var o=this.includeDefaultValues;n=this._objects.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=o;var r=e.toDatalessObject(t);return e.includeDefaultValues=n,r}))}var i=e.Object.prototype.toDatalessObject.call(this,t);return i.objects=n,i},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,o=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-o/2,r,o)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(n){e.util.addTransformToObject(n,t),delete n.group,n.setCoords()})),this},realizeTransform:function(t,n){return e.util.addTransformToObject(t,n),t},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var o=new e.ActiveSelection([]);return o.set(r),o.type="activeSelection",n.remove(this),t.forEach((function(t){t.group=o,t.dirty=!0,n.add(t)})),o.canvas=n,o._objects=t,n._activeObject=o,o.setCoords(),o}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0)})),this},_calcBounds:function(t){for(var e,n,r,o,i=[],a=[],s=["tr","br","bl","tl"],c=0,u=this._objects.length,l=s.length;c<u;++c){for(r=(e=this._objects[c]).calcACoords(),o=0;o<l;o++)n=s[o],i.push(r[n].x),a.push(r[n].y);e.aCoords=r}this._getBounds(i,a,t)},_getBounds:function(t,o,i){var a=new e.Point(n(t),n(o)),s=new e.Point(r(t),r(o)),c=a.y||0,u=a.x||0,l=s.x-a.x||0,f=s.y-a.y||0;this.width=l,this.height=f,i||this.setPositionByOrigin({x:u,y:c},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)e.push("\t\t",this._objects[n].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],n=0,r=this._objects.length;n<r;n++)e.push("\t",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,n){var r=t.objects,o=e.util.object.clone(t,!0);delete o.objects,"string"!==typeof r?e.util.enlivenObjects(r,(function(r){e.util.enlivenObjects([t.clipPath],(function(o){var i=e.util.object.clone(t,!0);i.clipPath=o[0],delete i.objects,n&&n(new e.Group(r,i,!0))}))})):e.loadSVGFromURL(r,(function(i){var a=e.util.groupSVGElements(i,t,r);a.set(o),n&&n(a)}))})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,n){n=n||{},this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var n=e.Object.prototype.toObject.call(this),r=new e.Group([]);if(delete n.type,r.set(n),t.forEach((function(t){t.canvas.remove(t),t.group=r})),r._objects=t,!this.canvas)return r;var o=this.canvas;return o.add(r),o._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,o=this._objects.length;r<o;r++)this._objects[r]._renderControls(t,n);t.restore()}}),e.ActiveSelection.fromObject=function(t,n){e.util.enlivenObjects(t.objects,(function(r){delete t.objects,n&&n(new e.ActiveSelection(r,t,!0))}))})}(n),function(t){"use strict";var e=i.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=i.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},toObject:function(t){var n=[];this.filters.forEach((function(t){t&&n.push(t.toObject())}));var r=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],n=[],r=this._element,o=-this.width/2,a=-this.height/2,s="",c="";if(!r)return[];if(this.hasCrop()){var u=i.Object.__uid++;e.push('<clipPath id="imageCrop_'+u+'">\n','\t<rect x="'+o+'" y="'+a+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',a-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,c,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var l=this.fill;this.fill=null,t=["\t<rect ",'x="',o,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=l}return e="fill"!==this.paintFirst?e.concat(t,n):e.concat(n,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,n){return i.util.loadImage(t,(function(t,r){this.setElement(t,n),this._setWidthHeight(),e&&e(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&o>e)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);i.filterBackend||(i.filterBackend=i.initFilterBackend());var s=i.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,u=a.width,l=a.height;s.width=u,s.height=l,this._element=s,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=o,i.filterBackend.applyFilters([t],a,u,l,this._element,c),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(t,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var n=this._filterScalingX,r=this._filterScalingY,o=this.width,i=this.height,a=Math.min,s=Math.max,c=s(this.cropX,0),u=s(this.cropY,0),l=e.naturalWidth||e.width,f=e.naturalHeight||e.height,h=c*n,d=u*r,p=a(o*n,l-h),v=a(i*r,f-d),g=-o/2,m=-i/2,y=a(o,l/n-c),b=a(i,f/r-u);e&&t.drawImage(e,h,d,p,v,g,m,y,b)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(i.util.getById(t),e),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,a=1,s=0,c=0,u=0,l=0,f=this.width,h=this.height,d={width:f,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(o=f/n,a=h/r):("meet"===e.meetOrSlice&&(t=(f-n*(o=a=i.util.findScaleToFit(this._element,d)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(h-r*a)/2,"Min"===e.alignY&&(c=-t),"Max"===e.alignY&&(c=t)),"slice"===e.meetOrSlice&&(t=n-f/(o=a=i.util.findScaleToCover(this._element,d)),"Mid"===e.alignX&&(u=t/2),"Max"===e.alignX&&(u=t),t=r-h/a,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),n=f/o,r=h/a)),{width:n,height:r,scaleX:o,scaleY:a,offsetLeft:s,offsetTop:c,cropX:u,cropY:l}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(t,e){var n=i.util.object.clone(t);i.util.loadImage(n.src,(function(t,r){r?e&&e(null,!0):i.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],i.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],i.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var o=new i.Image(t,n);e(o,!1)}))}))}))}),null,n.crossOrigin)},i.Image.fromURL=function(t,e,n){i.util.loadImage(t,(function(t,r){e&&e(new i.Image(t,n),r)}),null,n&&n.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(t,n,r){var o=i.parseAttributes(t,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(o["xlink:href"],n,e(r?i.util.object.clone(r):{},o))})}(n),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,r=t.onChange||e,o=this;return i.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){o.rotate(t),r()},onComplete:function(){o.setCoords(),n()}}),this}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var n="precision "+e+" float;\nvoid main(){}",r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,n),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(e){if(i.isLikelyNode)return!1;e=e||i.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){i.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=i.maxTextureSize>=e;for(var a=["highp","mediump","lowp"],s=0;s<3;s++)if(t(r,a[s])){i.webGlPrecision=a[s];break}}return this.isSupported=o,o},i.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(p){n=!1}var o="undefined"!==typeof ArrayBuffer,a="undefined"!==typeof Uint8ClampedArray;if(r&&n&&o&&a){var u=i.util.createCanvasElement(),l=new ArrayBuffer(t*e*4);if(i.forceGLPutImageData)return this.imageBuffer=l,void(this.copyGLTo2D=c);var f,h,d={imageBuffer:l,destinationWidth:t,destinationHeight:e,targetCanvas:u};u.width=t,u.height=e,f=window.performance.now(),s.call(d,this.gl,d),h=window.performance.now()-f,f=window.performance.now(),c.call(d,this.gl,d),h>window.performance.now()-f?(this.imageBuffer=l,this.copyGLTo2D=c):this.copyGLTo2D=s}},createWebGLCanvas:function(t,e){var n=i.util.createCanvasElement();n.width=t,n.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(t,e,n,r,o,i){var a,s=this.gl;i&&(a=this.getCachedTexture(i,e));var c={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!a&&e),targetTexture:this.createTexture(s,n,r),originalTexture:a||this.createTexture(s,n,r,!a&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},u=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,u),t.forEach((function(t){t&&t.applyTo(c)})),function(t){var e=t.targetCanvas,n=e.width,r=e.height,o=t.destinationWidth,i=t.destinationHeight;n===o&&r===i||(e.width=o,e.height=i)}(c),this.copyGLTo2D(s,c),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(c.sourceTexture),s.deleteTexture(c.targetTexture),s.deleteFramebuffer(u),o.getContext("2d").setTransform(1,0,0,1,0,0),c},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,n,r){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var n=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=n,n},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var n=t.getExtension("WEBGL_debug_renderer_info");if(n){var r=t.getParameter(n.UNMASKED_RENDERER_WEBGL),o=t.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),o&&(e.vendor=o.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}i.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,n,r,o){var i=o.getContext("2d");i.drawImage(e,0,0,n,r);var a={sourceWidth:n,sourceHeight:r,imageData:i.getImageData(0,0,n,r),originalEl:e,originalImageData:i.getImageData(0,0,n,r),canvasEl:o,ctx:i,filterBackend:this};return t.forEach((function(t){t.applyTo(a)})),a.imageData.width===n&&a.imageData.height===r||(o.width=a.imageData.width,o.height=a.imageData.height),i.putImageData(a.imageData,0,0),a}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,n){e=e||this.fragmentSource,n=n||this.vertexSource,"highp"!==i.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(o));var a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(a));var s=this.getAttributeLocations(t,a),c=this.getUniformLocations(t,a)||{};return c.uStepW=t.getUniformLocation(a,"uStepW"),c.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:c}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,n){var r=e.aPosition,o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,n,r=t.context;t.passes>1?(e=t.destinationWidth,n=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===n||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=i.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var n=e[t].length;n--;)if(this[t][n]!==e[t][n])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,n=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(t,e){var n=new i.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,n,r,o,i,a=t.imageData.data,s=a.length,c=this.matrix,u=this.colorsOnly;for(i=0;i<s;i+=4)e=a[i],n=a[i+1],r=a[i+2],u?(a[i]=e*c[0]+n*c[1]+r*c[2]+255*c[4],a[i+1]=e*c[5]+n*c[6]+r*c[7]+255*c[9],a[i+2]=e*c[10]+n*c[11]+r*c[12]+255*c[14]):(o=a[i+3],a[i]=e*c[0]+n*c[1]+r*c[2]+o*c[3]+255*c[4],a[i+1]=e*c[5]+n*c[6]+r*c[7]+o*c[8]+255*c[9],a[i+2]=e*c[10]+n*c[11]+r*c[12]+o*c[13]+255*c[14],a[i+3]=e*c[15]+n*c[16]+r*c[17]+o*c[18]+255*c[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],o=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,o)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,n=t.imageData.data,r=n.length,o=Math.round(255*this.brightness);for(e=0;e<r;e+=4)n[e]=n[e]+o,n[e+1]=n[e+1]+o,n[e+2]=n[e+2]+o}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,o=e.util.createClass;r.Convolute=o(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),n=this.type+"_"+e+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return t.programCache.hasOwnProperty(n)||(t.programCache[n]=this.createProgram(t.context,r)),t.programCache[n]},applyTo2d:function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p=t.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,_=p.height,w=t.ctx.createImageData(b,_),x=w.data,S=this.opaque?1:0;for(f=0;f<_;f++)for(l=0;l<b;l++){for(i=4*(f*b+l),e=0,n=0,r=0,o=0,d=0;d<m;d++)for(h=0;h<m;h++)a=l+h-y,(s=f+d-y)<0||s>=_||a<0||a>=b||(c=4*(s*b+a),u=g[d*m+h],e+=v[c]*u,n+=v[c+1]*u,r+=v[c+2]*u,S||(o+=v[c+3]*u));x[i]=e,x[i+1]=n,x[i+2]=r,x[i+3]=S?v[i+3]:o}t.imageData=w},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,n,r=t.imageData.data,o=r.length,i=this.mode;for(e=0;e<o;e+=4)"average"===i?n=(r[e]+r[e+1]+r[e+2])/3:"lightness"===i?n=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===i&&(n=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=n,r[e+1]=n,r[e+2]=n},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var n=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,n)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,n=t.imageData.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,o=e.util.createClass;r.Noise=o(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,n,r=t.imageData.data,o=r.length,i=this.noise;for(e=0,o=r.length;e<o;e+=4)n=(.5-Math.random())*i,r[e]+=n,r[e+1]+=n,r[e+2]+=n}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,n,r,o,i,a,s,c,u,l,f,h=t.imageData,d=h.data,p=h.height,v=h.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<v;r+=this.blocksize)for(o=d[e=4*n*v+4*r],i=d[e+1],a=d[e+2],s=d[e+3],l=Math.min(n+this.blocksize,p),f=Math.min(r+this.blocksize,v),c=n;c<l;c++)for(u=r;u<f;u++)d[e=4*c*v+4*u]=o,d[e+1]=i,d[e+2]=a,d[e+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,o=e.util.createClass;r.RemoveColor=o(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var n,r,o,i,a=t.imageData.data,s=255*this.distance,c=new e.Color(this.color).getSource(),u=[c[0]-s,c[1]-s,c[2]-s],l=[c[0]+s,c[1]+s,c[2]+s];for(n=0;n<a.length;n+=4)r=a[n],o=a[n+1],i=a[n+2],r>u[0]&&o>u[1]&&i>u[2]&&r<l[0]&&o<l[1]&&i<l[2]&&(a[n+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,n){var r=new e.Color(this.color).getSource(),o=parseFloat(this.distance),i=[0+r[0]/255-o,0+r[1]/255-o,0+r[2]/255-o,1],a=[r[0]/255+o,r[1]/255+o,r[2]/255+o,1];t.uniform4fv(n.uLow,i),t.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var i in o)n[i]=r(n.ColorMatrix,{type:i,matrix:o[i],mainParameter:!1,colorsOnly:!0}),e.Image.filters[i].fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric,n=e.Image.filters,r=e.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,n=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(n)||(e=this.buildSource(this.mode),t.programCache[n]=this.createProgram(t.context,e)),t.programCache[n]},applyTo2d:function(t){var n,r,o,i,a,s,c,u=t.imageData.data,l=u.length,f=1-this.alpha;n=(c=new e.Color(this.color).getSource())[0]*this.alpha,r=c[1]*this.alpha,o=c[2]*this.alpha;for(var h=0;h<l;h+=4)switch(i=u[h],a=u[h+1],s=u[h+2],this.mode){case"multiply":u[h]=i*n/255,u[h+1]=a*r/255,u[h+2]=s*o/255;break;case"screen":u[h]=255-(255-i)*(255-n)/255,u[h+1]=255-(255-a)*(255-r)/255,u[h+2]=255-(255-s)*(255-o)/255;break;case"add":u[h]=i+n,u[h+1]=a+r,u[h+2]=s+o;break;case"diff":case"difference":u[h]=Math.abs(i-n),u[h+1]=Math.abs(a-r),u[h+2]=Math.abs(s-o);break;case"subtract":u[h]=i-n,u[h+1]=a-r,u[h+2]=s-o;break;case"darken":u[h]=Math.min(i,n),u[h+1]=Math.min(a,r),u[h+2]=Math.min(s,o);break;case"lighten":u[h]=Math.max(i,n),u[h+1]=Math.max(a,r),u[h+2]=Math.max(s,o);break;case"overlay":u[h]=n<128?2*i*n/255:255-2*(255-i)*(255-n)/255,u[h+1]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,u[h+2]=o<128?2*s*o/255:255-2*(255-s)*(255-o)/255;break;case"exclusion":u[h]=n+i-2*n*i/255,u[h+1]=r+a-2*r*a/255,u[h+2]=o+s-2*o*s/255;break;case"tint":u[h]=n+i*f,u[h+1]=r+a*f,u[h+2]=o+s*f}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,n){var r=new e.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric,n=e.Image.filters,r=e.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,n)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,n=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]},applyTo2d:function(t){var n,r,o,i,a,s,c,u,l,f,h,d=t.imageData,p=t.filterBackend.resources,v=d.data,g=v.length,m=d.width,y=d.height,b=this.image;p.blendImage||(p.blendImage=e.util.createCanvasElement()),f=(l=p.blendImage).getContext("2d"),l.width!==m||l.height!==y?(l.width=m,l.height=y):f.clearRect(0,0,m,y),f.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),f.drawImage(b._element,0,0,m,y),h=f.getImageData(0,0,m,y).data;for(var _=0;_<g;_+=4)switch(a=v[_],s=v[_+1],c=v[_+2],u=v[_+3],n=h[_],r=h[_+1],o=h[_+2],i=h[_+3],this.mode){case"multiply":v[_]=a*n/255,v[_+1]=s*r/255,v[_+2]=c*o/255,v[_+3]=u*i/255;break;case"mask":v[_+3]=i}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,n){e.Image.fromObject(t.image,(function(r){var o=e.util.object.clone(t);o.image=r,n(new e.Image.filters.BlendImage(o))}))}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,r=Math.floor,o=Math.sqrt,i=Math.abs,a=Math.round,s=Math.sin,c=Math.ceil,u=e.Image.filters,l=e.util.createClass;u.Resize=l(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),n=this.type+"_"+e;if(!t.programCache.hasOwnProperty(n)){var r=this.generateShader(e);t.programCache[n]=this.createProgram(t.context,r)}return t.programCache[n]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),r=new Array(n),o=1;o<=n;o++)r[o-1]=t(o*e);return r},generateShader:function(t){for(var e=new Array(t),n=this.fragmentSourceTOP,r=1;r<=t;r++)e[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+t+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",e.forEach((function(t,e){n+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",n+="  sum += 2.0 * uTaps["+e+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var n=(e*=Math.PI)/t;return s(e)/e*s(n)/n}},applyTo2d:function(t){var e=t.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var o,i=e.width,s=e.height,c=a(i*n),u=a(s*r);"sliceHack"===this.resizeType?o=this.sliceByTwo(t,i,s,c,u):"hermite"===this.resizeType?o=this.hermiteFastResize(t,i,s,c,u):"bilinear"===this.resizeType?o=this.bilinearFiltering(t,i,s,c,u):"lanczos"===this.resizeType&&(o=this.lanczosResize(t,i,s,c,u)),t.imageData=o},sliceByTwo:function(t,n,o,i,a){var s,c,u=t.imageData,l=!1,f=!1,h=.5*n,d=.5*o,p=e.filterBackend.resources,v=0,g=0,m=n,y=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((s=p.sliceByTwo).width<1.5*n||s.height<o)&&(s.width=1.5*n,s.height=o),(c=s.getContext("2d")).clearRect(0,0,1.5*n,o),c.putImageData(u,0,0),i=r(i),a=r(a);!l||!f;)n=h,o=d,i<r(.5*h)?h=r(.5*h):(h=i,l=!0),a<r(.5*d)?d=r(.5*d):(d=a,f=!0),c.drawImage(s,v,g,n,o,m,y,h,d),v=m,g=y,y+=d;return c.getImageData(v,g,i,a)},lanczosResize:function(t,e,a,s,u){var l=t.imageData.data,f=t.ctx.createImageData(s,u),h=f.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,v=this.rcpScaleY,g=2/this.rcpScaleX,m=2/this.rcpScaleY,y=c(p*this.lanczosLobes/2),b=c(v*this.lanczosLobes/2),_={},w={},x={};return function t(c){var S,C,O,k,M,E,j,I,A,T,P;for(w.x=(c+.5)*p,x.x=r(w.x),S=0;S<u;S++){for(w.y=(S+.5)*v,x.y=r(w.y),M=0,E=0,j=0,I=0,A=0,C=x.x-y;C<=x.x+y;C++)if(!(C<0||C>=e)){T=r(1e3*i(C-w.x)),_[T]||(_[T]={});for(var D=x.y-b;D<=x.y+b;D++)D<0||D>=a||(P=r(1e3*i(D-w.y)),_[T][P]||(_[T][P]=d(o(n(T*g,2)+n(P*m,2))/1e3)),(O=_[T][P])>0&&(M+=O,E+=O*l[k=4*(D*e+C)],j+=O*l[k+1],I+=O*l[k+2],A+=O*l[k+3]))}h[k=4*(S*s+c)]=E/M,h[k+1]=j/M,h[k+2]=I/M,h[k+3]=A/M}return++c<s?t(c):f}(0)},bilinearFiltering:function(t,e,n,o,i){var a,s,c,u,l,f,h,d,p,v=0,g=this.rcpScaleX,m=this.rcpScaleY,y=4*(e-1),b=t.imageData.data,_=t.ctx.createImageData(o,i),w=_.data;for(c=0;c<i;c++)for(u=0;u<o;u++)for(l=g*u-(a=r(g*u)),f=m*c-(s=r(m*c)),p=4*(s*e+a),h=0;h<4;h++)d=b[p+h]*(1-l)*(1-f)+b[p+4+h]*l*(1-f)+b[p+y+h]*f*(1-l)+b[p+y+4+h]*l*f,w[v++]=d;return _},hermiteFastResize:function(t,e,n,a,s){for(var u=this.rcpScaleX,l=this.rcpScaleY,f=c(u/2),h=c(l/2),d=t.imageData.data,p=t.ctx.createImageData(a,s),v=p.data,g=0;g<s;g++)for(var m=0;m<a;m++){for(var y=4*(m+g*a),b=0,_=0,w=0,x=0,S=0,C=0,O=0,k=(g+.5)*l,M=r(g*l);M<(g+1)*l;M++)for(var E=i(k-(M+.5))/h,j=(m+.5)*u,I=E*E,A=r(m*u);A<(m+1)*u;A++){var T=i(j-(A+.5))/f,P=o(I+T*T);P>1&&P<-1||(b=2*P*P*P-3*P*P+1)>0&&(O+=b*d[3+(T=4*(A+M*e))],w+=b,d[T+3]<255&&(b=b*d[T+3]/250),x+=b*d[T],S+=b*d[T+1],C+=b*d[T+2],_+=b)}v[y]=x/_,v[y+1]=S/_,v[y+2]=C/_,v[y+3]=O/w}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,n=t.imageData.data,r=n.length,o=Math.floor(255*this.contrast),i=259*(o+255)/(255*(259-o));for(e=0;e<r;e+=4)n[e]=i*(n[e]-128)+128,n[e+1]=i*(n[e+1]-128)+128,n[e+2]=i*(n[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,n,r=t.imageData.data,o=r.length,i=-this.saturation;for(e=0;e<o;e+=4)n=Math.max(r[e],r[e+1],r[e+2]),r[e]+=n!==r[e]?(n-r[e])*i:0,r[e+1]+=n!==r[e+1]?(n-r[e+1])*i:0,r[e+2]+=n!==r[e+2]?(n-r[e+2])*i:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Vibrance=r(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,n,r,o,i=t.imageData.data,a=i.length,s=-this.vibrance;for(e=0;e<a;e+=4)n=Math.max(i[e],i[e+1],i[e+2]),r=(i[e]+i[e+1]+i[e+2])/3,o=2*Math.abs(n-r)/255*s,i[e]+=n!==i[e]?(n-i[e])*o:0,i[e+1]+=n!==i[e+1]?(n-i[e+1])*o:0,i[e+2]+=n!==i[e+2]?(n-i[e+2])*o:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var n,r,o=t.filterBackend.resources,i=t.imageData.width,a=t.imageData.height;o.blurLayer1||(o.blurLayer1=e.util.createCanvasElement(),o.blurLayer2=e.util.createCanvasElement()),n=o.blurLayer1,r=o.blurLayer2,n.width===i&&n.height===a||(r.width=n.width=i,r.height=n.height=a);var s,c,u,l,f=n.getContext("2d"),h=r.getContext("2d"),d=.06*this.blur*.5;for(f.putImageData(t.imageData,0,0),h.clearRect(0,0,i,a),l=-15;l<=15;l++)u=d*(c=l/15)*i+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(n,u,s),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(l=-15;l<=15;l++)u=d*(c=l/15)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(n,s,u),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);t.ctx.drawImage(n,0,0);var p=t.ctx.getImageData(0,0,n.width,n.height);return f.globalAlpha=1,f.clearRect(0,0,n.width,n.height),p},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var n=this.chooseRightDelta();t.uniform2fv(e.delta,n)},chooseRightDelta:function(){var t,e=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),n.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,n=t.imageData.data,r=this.gamma,o=n.length,i=1/r[0],a=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,o=256;e<o;e++)this.rVals[e]=255*Math.pow(e/255,i),this.gVals[e]=255*Math.pow(e/255,a),this.bVals[e]=255*Math.pow(e/255,s);for(e=0,o=n.length;e<o;e+=4)n[e]=this.rVals[n[e]],n[e+1]=this.gVals[n[e+1]],n[e+2]=this.bVals[n[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,n){var r=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),o=new e.Image.filters.Composed({subFilters:r});return n&&n(o),o}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,n=e.util.cos(t),r=e.util.sin(t),o=Math.sqrt(1/3)*r,i=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+i/3,this.matrix[1]=1/3*i-o,this.matrix[2]=1/3*i+o,this.matrix[5]=1/3*i+o,this.matrix[6]=n+1/3*i,this.matrix[7]=1/3*i-o,this.matrix[10]=1/3*i-o,this.matrix[11]=1/3*i+o,this.matrix[12]=n+1/3*i},isNeutralState:function(t){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(r),cacheProperties:e.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,n,r,o,i,a,s=0,c=this._textLines.length;s<c;s++)if(("justify"===this.textAlign||s!==c-1&&!this.isEndOfWrapping(s))&&(r=0,o=this._textLines[s],(e=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,t=(this.width-e)/n;for(var u=0,l=o.length;u<=l;u++)i=this.__charBounds[s][u],this._reSpaceAndTab.test(o[u])?(i.width+=t,i.kernedWidth+=t,i.left+=r,r+=t):i.left+=r}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,n){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,n)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,n=this._textLines.length;e<n;e++){var r=this.getLineWidth(e);r>t&&(t=r)}return t},_renderTextLine:function(t,e,n,r,o,i){this._renderChars(t,e,n,r,o,i)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,n,r,o,i,a,s,c=t.fillStyle,u=this._getLeftOffset(),l=this._getTopOffset(),f=0,h=0,d=this.path,p=0,v=this._textLines.length;p<v;p++)if(e=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),h=0,f=0,o=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,m=r.length;g<m;g++)i=this.__charBounds[p][g],a=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),d?(t.save(),t.translate(i.renderLeft,i.renderTop),t.rotate(i.angle),t.fillStyle=a,a&&t.fillRect(-i.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),i.width,e/this.lineHeight),t.restore()):a!==o?(s=u+n+f,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=o,o&&t.fillRect(s,l,h,e/this.lineHeight),f=i.left,h=i.width,o=a):h+=i.kernedWidth;a&&!d&&(s=u+n+f,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=a,t.fillRect(s,l,h,e/this.lineHeight)),l+=e}else l+=e;t.fillStyle=c,this._removeShadow(t)}},getFontCache:function(t){var n=t.fontFamily.toLowerCase();e.charWidthsCache[n]||(e.charWidthsCache[n]={});var r=e.charWidthsCache[n],o=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return r[o]||(r[o]={}),r[o]},_measureChar:function(t,e,n,r){var o,i,a,s,c=this.getFontCache(e),u=n+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(r),f=e.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==c[n]&&(a=c[n]),void 0!==c[t]&&(s=o=c[t]),l&&void 0!==c[u]&&(s=(i=c[u])-a),void 0===o||void 0===a||void 0===i){var h=this.getMeasuringContext();this._setTextStyles(h,e,!0)}return void 0===o&&(s=o=h.measureText(t).width,c[t]=o),void 0===a&&l&&n&&(a=h.measureText(n).width,c[n]=a),l&&void 0===i&&(i=h.measureText(u).width,c[u]=i,s=i-a),{width:o*f,kernedWidth:s*f}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var n,r,o,i,a,s,c=0,u=this._textLines[t],l=new Array(u.length),f=0,h=this.path,d="right"===this.pathSide;for(this.__charBounds[t]=l,n=0;n<u.length;n++)r=u[n],i=this._getGraphemeBox(r,t,n,o),l[n]=i,c+=i.kernedWidth,o=r;if(l[n]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(s=h.segmentsInfo[h.segmentsInfo.length-1].length,(a=e.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,a.y+=h.pathOffset.y,this.textAlign){case"left":f=d?s-c:0;break;case"center":f=(s-c)/2;break;case"right":f=d?0:s-c}for(f+=this.pathStartOffset*(d?-1:1),n=d?u.length-1:0;d?n>=0:n<u.length;d?n--:n++)i=l[n],f>s?f%=s:f<0&&(f+=s),this._setGraphemeOnPath(f,i,a),f+=i.kernedWidth}return{width:c,numOfSpaces:0}},_setGraphemeOnPath:function(t,n,r){var o=t+n.kernedWidth/2,i=this.path,a=e.util.getPointOnPath(i.path,o,i.segmentsInfo);n.renderLeft=a.x-r.x,n.renderTop=a.y-r.y,n.angle=a.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,n,r,o){var i,a=this.getCompleteStyleDeclaration(e,n),s=r?this.getCompleteStyleDeclaration(e,n-1):{},c=this._measureChar(t,a,r,s),u=c.kernedWidth,l=c.width;0!==this.charSpacing&&(l+=i=this._getWidthOfCharSpacing(),u+=i);var f={width:l,left:0,height:a.fontSize,kernedWidth:u,deltaY:a.deltaY};if(n>0&&!o){var h=this.__charBounds[e][n-1];f.left=h.left+h.width+c.kernedWidth-c.width}return f},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],n=this.getHeightOfChar(t,0),r=1,o=e.length;r<o;r++)n=Math.max(this.getHeightOfChar(t,r),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,n=0,r=this._textLines.length;n<r;n++)t=this.getHeightOfLine(n),e+=n===r-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var n=0,r=this._getLeftOffset(),o=this._getTopOffset(),i=0,a=this._textLines.length;i<a;i++){var s=this.getHeightOfLine(i),c=s/this.lineHeight,u=this._getLineLeftOffset(i);this._renderTextLine(e,t,this._textLines[i],r+u,o+n+c,i),n+=s}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,n,r,o,i){var a,s,c,u,l,f=this.getHeightOfLine(i),h=-1!==this.textAlign.indexOf("justify"),d="",p=0,v=this.path,g=!h&&0===this.charSpacing&&this.isEmptyStyles(i)&&!v,m="ltr"===this.direction,y="ltr"===this.direction?1:-1;if(e.save(),o-=f*this._fontSizeFraction/this.lineHeight,g)return e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?"left":"right",this._renderChar(t,e,i,0,n.join(""),r,o,f),void e.restore();for(var b=0,_=n.length-1;b<=_;b++)u=b===_||this.charSpacing||v,d+=n[b],c=this.__charBounds[i][b],0===p?(r+=y*(c.kernedWidth-c.width),p+=c.width):p+=c.kernedWidth,h&&!u&&this._reSpaceAndTab.test(n[b])&&(u=!0),u||(a=a||this.getCompleteStyleDeclaration(i,b),s=this.getCompleteStyleDeclaration(i,b+1),u=this._hasStyleChanged(a,s)),u&&(v?(e.save(),e.translate(c.renderLeft,c.renderTop),e.rotate(c.angle),this._renderChar(t,e,i,b,d,-p/2,0,f),e.restore()):(l=r,e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?"left":"right",this._renderChar(t,e,i,b,d,l,o,f)),d="",a=s,r+=y*p,p=0);e.restore()},_applyPatternGradientTransformText:function(t){var n,r=e.util.createCanvasElement(),o=this.width+this.strokeWidth,i=this.height+this.strokeWidth;return r.width=o,r.height=i,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(o,0),n.lineTo(o,i),n.lineTo(0,i),n.closePath(),n.translate(o/2,i/2),n.fillStyle=t.toLive(n),this._applyPatternGradientTransform(n,t),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(t,e,n){var r,o;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,o=-this.height/2,t.translate(r,o),t[e]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:o}):(t[e]=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,n,r,o,i,a){var s,c,u=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),f="fillText"===t&&l.fill,h="strokeText"===t&&l.stroke&&l.strokeWidth;(h||f)&&(e.save(),f&&(s=this._setFillStyles(e,l)),h&&(c=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),u&&u.textBackgroundColor&&this._removeShadow(e),u&&u.deltaY&&(a+=u.deltaY),f&&e.fillText(o,i-s.offsetX,a-s.offsetY),h&&e.strokeText(o,i-c.offsetX,a-c.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,n){var r=this.get2DCursorLocation(t,!0),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:o*n.size,deltaY:i+o*n.baseline};return this.setSelectionStyles(a,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),n=this.width-e,r=this.textAlign,o=this.direction,i=0,a=this.isEndOfWrapping(t);return"justify"===r||"justify-center"===r&&!a||"justify-right"===r&&!a||"justify-left"===r&&!a?0:("center"===r&&(i=n/2),"right"===r&&(i=n),"justify-center"===r&&(i=n/2),"justify-right"===r&&(i=n),"rtl"===o&&(i-=n),i)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,n){var r=this._getStyleDeclaration(t,e);return r&&"undefined"!==typeof r[n]?r[n]:this[n]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var n,r,o,i,a,s,c,u,l,f,h,d,p,v,g,m,y=this._getLeftOffset(),b=this._getTopOffset(),_=this.path,w=this._getWidthOfCharSpacing(),x=this.offsets[e],S=0,C=this._textLines.length;S<C;S++)if(n=this.getHeightOfLine(S),this[e]||this.styleHas(e,S)){c=this._textLines[S],v=n/this.lineHeight,i=this._getLineLeftOffset(S),f=0,h=0,u=this.getValueOfPropertyAt(S,0,e),m=this.getValueOfPropertyAt(S,0,"fill"),l=b+v*(1-this._fontSizeFraction),r=this.getHeightOfChar(S,0),a=this.getValueOfPropertyAt(S,0,"deltaY");for(var O=0,k=c.length;O<k;O++)if(d=this.__charBounds[S][O],p=this.getValueOfPropertyAt(S,O,e),g=this.getValueOfPropertyAt(S,O,"fill"),o=this.getHeightOfChar(S,O),s=this.getValueOfPropertyAt(S,O,"deltaY"),_&&p&&g)t.save(),t.fillStyle=m,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,x*o+s,d.kernedWidth,this.fontSize/15),t.restore();else if((p!==u||g!==m||o!==r||s!==a)&&h>0){var M=y+i+f;"rtl"===this.direction&&(M=this.width-M-h),u&&m&&(t.fillStyle=m,t.fillRect(M,l+x*r+a,h,this.fontSize/15)),f=d.left,h=d.width,u=p,m=g,r=o,a=s}else h+=d.kernedWidth;M=y+i+f,"rtl"===this.direction&&(M=this.width-M-h),t.fillStyle=g,p&&g&&t.fillRect(M,l+x*r+a,h-w,this.fontSize/15),b+=n}else b+=n;this._removeShadow(t)}},_getFontDeclaration:function(t,n){var r=t||this,o=this.fontFamily,i=e.Text.genericFonts.indexOf(o.toLowerCase())>-1,a=void 0===o||o.indexOf("'")>-1||o.indexOf(",")>-1||o.indexOf('"')>-1||i?r.fontFamily:'"'+r.fontFamily+'"';return[e.isLikelyNode?r.fontWeight:r.fontStyle,e.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",a].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var n=t.split(this._reNewline),r=new Array(n.length),o=["\n"],i=[],a=0;a<n.length;a++)r[a]=e.util.string.graphemeSplit(n[a]),i=i.concat(r[a],o);return i.pop(),{_unwrappedLines:r,lines:n,graphemeText:i,graphemeLines:r}},toObject:function(t){var e=r.concat(t),o=this.callSuper("toObject",e);return o.styles=n(this.styles,!0),o.path&&(o.path=this.path.toObject()),o},set:function(t,e){this.callSuper("set",t,e);var n=!1,r=!1;if("object"===u(t))for(var o in t)"path"===o&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(o),r=r||"path"===o;else n=-1!==this._dimensionAffectingProps.indexOf(t),r="path"===t;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,r,o){if(!t)return r(null);var i=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),a=i.textAnchor||"left";if((o=e.util.object.extend(o?n(o):{},i)).top=o.top||0,o.left=o.left||0,i.textDecoration){var s=i.textDecoration;-1!==s.indexOf("underline")&&(o.underline=!0),-1!==s.indexOf("overline")&&(o.overline=!0),-1!==s.indexOf("line-through")&&(o.linethrough=!0),delete o.textDecoration}"dx"in i&&(o.left+=i.dx),"dy"in i&&(o.top+=i.dy),"fontSize"in o||(o.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var c="";"textContent"in t?c=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(c=t.firstChild.data),c=c.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var u=o.strokeWidth;o.strokeWidth=0;var l=new e.Text(c,o),f=l.getScaledHeight()/l.height,h=((l.height+l.strokeWidth)*l.lineHeight-l.height)*f,d=l.getScaledHeight()+h,p=0;"center"===a&&(p=l.getScaledWidth()/2),"right"===a&&(p=l.getScaledWidth()),l.set({left:l.left-p,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:"undefined"!==typeof u?u:1}),r(l)},e.Text.fromObject=function(t,r){var o=n(t),i=t.path;return delete o.path,e.Object._fromObject("Text",o,(function(t){i?e.Object._fromObject("Path",i,(function(e){t.set("path",e),r(t)}),"path"):r(t)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(n),i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if("undefined"!==typeof t&&!this.styles[t])return!0;var e="undefined"===typeof t?this.styles:{line:this.styles[t]};for(var n in e)for(var r in e[n])for(var o in e[n][r])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if("undefined"!==typeof e&&!this.styles[e])return!1;var n="undefined"===typeof e?this.styles:{0:this.styles[e]};for(var r in n)for(var o in n[r])if("undefined"!==typeof n[r][o][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,n,r=this.styles,o=0,i=!0,a=0;for(var s in r){for(var c in e=0,r[s]){var u;o++,(u=r[s][c]).hasOwnProperty(t)?(n?u[t]!==n&&(i=!1):n=u[t],u[t]===this[t]&&delete u[t]):i=!1,0!==Object.keys(u).length?e++:delete r[s][c]}0===e&&delete r[s]}for(var l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;i&&o===a&&(this[t]=n,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,n,r,o=this.styles;for(n in o){for(r in e=o[n])delete e[r][t],0===Object.keys(e[r]).length&&delete e[r];0===Object.keys(e).length&&delete o[n]}}},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},get2DCursorLocation:function(t,e){"undefined"===typeof t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,r=n.length,o=0;o<r;o++){if(t<=n[o].length)return{lineIndex:o,charIndex:t};t-=n[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:n[o-1].length<t?n[o-1].length:t}},getSelectionStyles:function(t,e,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof e&&(e=this.selectionEnd||t);for(var r=[],o=t;o<e;o++)r.push(this.getStyleAtPosition(o,n));return r},getStyleAtPosition:function(t,e){var n=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(t,e,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||e);for(var r=e;r<n;r++)this._extendStyles(r,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var n=this.styles&&this.styles[t];return n?n[e]:null},getCompleteStyleDeclaration:function(t,e){for(var n,r=this._getStyleDeclaration(t,e)||{},o={},i=0;i<this._styleProperties.length;i++)o[n=this._styleProperties[i]]="undefined"===typeof r[n]?this[n]:r[n];return o},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},_getCursorBoundaries:function(t){"undefined"===typeof t&&(t=this.selectionStart);var e=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t);return{left:e,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,n,r,o,i=0,a=0,s=this.get2DCursorLocation(t);r=s.charIndex,n=s.lineIndex;for(var c=0;c<n;c++)i+=this.getHeightOfLine(c);e=this._getLineLeftOffset(n);var u=this.__charBounds[n][r];return u&&(a=u.left),0!==this.charSpacing&&r===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),o={top:i,left:e+(a>0?a:0)},"rtl"===this.direction&&(o.left*=-1),this.cursorOffsetCache=o,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),r=n.lineIndex,o=n.charIndex>0?n.charIndex-1:0,i=this.getValueOfPropertyAt(r,o,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,c=t.topOffset,u=this.getValueOfPropertyAt(r,o,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-i*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,o,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,c+t.top+u,s,i)},renderSelection:function(t,e){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=-1!==this.textAlign.indexOf("justify"),i=this.get2DCursorLocation(n),a=this.get2DCursorLocation(r),s=i.lineIndex,c=a.lineIndex,u=i.charIndex<0?0:i.charIndex,l=a.charIndex<0?0:a.charIndex,f=s;f<=c;f++){var h,d=this._getLineLeftOffset(f)||0,p=this.getHeightOfLine(f),v=0,g=0;if(f===s&&(v=this.__charBounds[s][u].left),f>=s&&f<c)g=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===c)if(0===l)g=this.__charBounds[c][l].left;else{var m=this._getWidthOfCharSpacing();g=this.__charBounds[c][l-1].left+this.__charBounds[c][l-1].width-m}h=p,(this.lineHeight<1||f===c&&this.lineHeight>1)&&(p/=this.lineHeight);var y=t.left+d+v,b=g-v,_=p,w=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,w=p):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),e.fillRect(y,t.top+t.topOffset+w,b,_),t.topOffset+=h}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),i.IText.fromObject=function(e,n){if(t(e),e.styles)for(var r in e.styles)for(var o in e.styles[r])t(e.styles[r][o]);i.Object._fromObject("IText",e,n,"text")}}(),function(){var t=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],i.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,r){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){o.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},searchWordBoundary:function(t,e){for(var n=this._text,r=this._reSpace.test(n[t])?t-1:t,o=n[r],a=i.reNonWord;!a.test(o)&&r>0&&r<n.length;)o=n[r+=e];return a.test(o)&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==r||n!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,n){var r=n.slice(0,t),o=i.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:o,selectionEnd:o};var a=n.slice(t,e);return{selectionStart:o,selectionEnd:o+i.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(t,e,n){var r=n.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=n.lineIndex,o=n.charIndex,a=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,s=e.leftOffset,c=this.calcTransformMatrix(),u={x:e.left+s,y:e.top+e.topOffset+a},l=this.canvas.getRetinaScaling(),f=this.canvas.upperCanvasEl,h=f.width/l,d=f.height/l,p=h-a,v=d-a,g=f.clientWidth/h,m=f.clientHeight/d;return u=i.util.transformPoint(u,c),(u=i.util.transformPoint(u,this.canvas.viewportTransform)).x*=g,u.y*=m,u.x<0&&(u.x=0),u.x>p&&(u.x=p),u.y<0&&(u.y=0),u.y>v&&(u.y=v),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var n,r,o=this.get2DCursorLocation(t,!0),i=this.get2DCursorLocation(e,!0),a=o.lineIndex,s=o.charIndex,c=i.lineIndex,u=i.charIndex;if(a!==c){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[c])for(n=u;n<this._unwrappedTextLines[c].length;n++)(r=this.styles[c][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-u]=r);for(n=a+1;n<=c;n++)delete this.styles[n];this.shiftLineStyles(c,a-c)}else if(this.styles[a]){r=this.styles[a];var l,f,h=u-s;for(n=s;n<u;n++)delete r[n];for(f in this.styles[a])(l=parseInt(f,10))>=u&&(r[l-h]=r[f],delete r[f])}},shiftLineStyles:function(e,n){var r=t(this.styles);for(var o in this.styles){var i=parseInt(o,10);i>e&&(this.styles[i+n]=r[i],r[i-n]||delete this.styles[i])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,n,r,o){var i,a={},s=!1,c=this._unwrappedTextLines[e].length===n;for(var u in r||(r=1),this.shiftLineStyles(e,r),this.styles[e]&&(i=this.styles[e][0===n?n:n-1]),this.styles[e]){var l=parseInt(u,10);l>=n&&(s=!0,a[l-n]=this.styles[e][u],c&&0===n||delete this.styles[e][u])}var f=!1;for(s&&!c&&(this.styles[e+r]=a,f=!0),f&&r--;r>0;)o&&o[r-1]?this.styles[e+r]={0:t(o[r-1])}:i?this.styles[e+r]={0:t(i)}:delete this.styles[e+r],r--;this._forceClearCache=!0},insertCharStyleObject:function(e,n,r,o){this.styles||(this.styles={});var i=this.styles[e],a=i?t(i):{};for(var s in r||(r=1),a){var c=parseInt(s,10);c>=n&&(i[c+r]=a[c],a[c-r]||delete i[c])}if(this._forceClearCache=!0,o)for(;r--;)Object.keys(o[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=t(o[r]));else if(i)for(var u=i[n?n-1:1];u&&r--;)this.styles[e][n+r]=t(u)},insertNewStyleBlock:function(t,e,n){for(var r=this.get2DCursorLocation(e,!0),o=[0],i=0,a=0;a<t.length;a++)"\n"===t[a]?o[++i]=0:o[i]++;for(o[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,o[0],n),n=n&&n.slice(o[0]+1)),i&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+o[0],i),a=1;a<i;a++)o[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,o[a],n):n&&(this.styles[r.lineIndex+a][0]=n[0]),n=n&&n.slice(o[a]+1);o[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,o[a],n)},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,n=this.getLocalPointer(t),r=0,o=0,i=0,a=0,s=0,c=0,u=this._textLines.length;c<u&&i<=n.y;c++)i+=this.getHeightOfLine(c)*this.scaleY,s=c,c>0&&(a+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));o=this._getLineLeftOffset(s)*this.scaleX,e=this._textLines[s],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+o);for(var l=0,f=e.length;l<f&&(r=o,(o+=this.__charBounds[s][l].kernedWidth*this.scaleX)<=n.x);l++)a++;return this._getNewSelectionStartFromOffset(n,r,o,a,f)},_getNewSelectionStartFromOffset:function(t,e,n,r,o){var i=t.x-e,a=n-t.x,s=r+(a>i||a<0?0:1);return this.flipX&&(s=o-s),s>this._text.length&&(s=this._text.length),s}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var n,r,o,a,s,c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,l=c.length,f=l-u,h=this.selectionStart,d=this.selectionEnd,p=h!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>v.selectionStart;p?(n=this._text.slice(h,d),f+=d-h):l<u&&(n=g?this._text.slice(d+f,d):this._text.slice(h,h-f)),r=c.slice(v.selectionEnd-f,v.selectionEnd),n&&n.length&&(r.length&&(o=this.getSelectionStyles(h,h+1,!1),o=r.map((function(){return o[0]}))),p?(a=h,s=d):g?(a=d-n.length,s=d):(a=d,s=d+n.length),this.removeStyleFromTo(a,s)),r.length&&(e&&r.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(o=i.copiedTextStyle),this.insertNewStyleBlock(r,h,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(t,e){var n,r=this._getLineLeftOffset(t);return e>0&&(r+=(n=this.__charBounds[t][e-1]).left+n.width),r},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),o=r.lineIndex;if(o===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-n;var i=r.charIndex,a=this._getWidthBeforeCursor(o,i),s=this._getIndexOnLine(o+1,a);return this._textLines[o].slice(i).length+s+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),o=r.lineIndex;if(0===o||t.metaKey||33===t.keyCode)return-n;var i=r.charIndex,a=this._getWidthBeforeCursor(o,i),s=this._getIndexOnLine(o-1,a),c=this._textLines[o].slice(0,i),u=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+s-c.length+(1-u)},_getIndexOnLine:function(t,e){for(var n,r,o=this._textLines[t],i=this._getLineLeftOffset(t),a=0,s=0,c=o.length;s<c;s++)if((i+=n=this.__charBounds[t][s].width)>e){r=!0;var u=i-n,l=i,f=Math.abs(u-e);a=Math.abs(l-e)<f?s:s-1;break}return r||(a=o.length-1),a},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var r;if(t.altKey)r=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[e])}if(void 0!==u(r)&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?n+="Shift":n+="outShift",this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){"undefined"===typeof e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=i.util.string.graphemeSplit(t);this.insertNewStyleBlock(o,n,e),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=i.util.toFixed,e=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var n,r=[],o=[],i=t;this._setSVGBg(o);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(o,a,e+n,i),this._setSVGTextLineText(r,a,e+n,i),i+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:o}},_createTextCharSpan:function(n,r,o,a){var s=n!==n.trim()||n.match(e),c=this.getSvgSpanStyles(r,s),u=c?'style="'+c+'"':"",l=r.deltaY,f="",h=i.Object.NUM_FRACTION_DIGITS;return l&&(f=' dy="'+t(l,h)+'" '),['<tspan x="',t(o,h),'" y="',t(a,h),'" ',f,u,">",i.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,n,r){var o,i,a,s,c,u=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),f="",h=0,d=this._textLines[e];r+=u*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,v=d.length-1;p<=v;p++)c=p===v||this.charSpacing,f+=d[p],a=this.__charBounds[e][p],0===h?(n+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,l&&!c&&this._reSpaceAndTab.test(d[p])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(e,p),i=this.getCompleteStyleDeclaration(e,p+1),c=this._hasStyleChangedForSvg(o,i)),c&&(s=this._getStyleDeclaration(e,p)||{},t.push(this._createTextCharSpan(f,s,n,r)),f="",o=i,n+=h,h=0)},_pushTextBgRect:function(e,n,r,o,a,s){var c=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(n),' x="',t(r,c),'" y="',t(o,c),'" width="',t(a,c),'" height="',t(s,c),'"></rect>\n')},_setSVGTextLineBg:function(t,e,n,r){for(var o,i,a=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight,c=0,u=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),f=0,h=a.length;f<h;f++)o=this.__charBounds[e][f],(i=this.getValueOfPropertyAt(e,f,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,n+u,r,c,s),u=o.left,c=o.width,l=i):c+=o.kernedWidth;i&&this._pushTextBgRect(t,i,n+u,r,c,s)},_getFillAttributes:function(t){var e=t&&"string"===typeof t?new i.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,n=0,r=0;r<t;r++)n+=this.getHeightOfLine(r);return e=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return i.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,n=0,r=0,o={},i=0;i<t.graphemeLines.length;i++)"\n"===t.graphemeText[r]&&i>0?(n=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&i>0&&(n++,r++),o[i]={line:e,offset:n},r+=t.graphemeLines[i].length,n+=t.graphemeLines[i].length;return o},styleHas:function(t,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return e.Text.prototype.styleHas.call(this,t,n)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,n,r=0,o=!1,i=this._styleMap[t],a=this._styleMap[t+1];for(var s in i&&(t=i.line,r=i.offset),a&&(o=a.line===t,e=a.offset),n="undefined"===typeof t?this.styles:{line:this.styles[t]})for(var c in n[s])if(c>=r&&(!o||c<e))for(var u in n[s][c])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];if(!n)return null;t=n.line,e=n.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,n){var r=this._styleMap[t];t=r.line,e=r.offset+e,this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];t=n.line,e=n.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var n,r=[];for(this.isWrapping=!0,n=0;n<t.length;n++)r=r.concat(this._wrapLine(t[n],n,e));return this.isWrapping=!1,r},_measureWord:function(t,e,n){var r,o=0;n=n||0;for(var i=0,a=t.length;i<a;i++)o+=this._getGraphemeBox(t[i],e,i+n,r,!0).kernedWidth,r=t[i];return o},_wrapLine:function(t,n,r,o){var i=0,a=this.splitByGrapheme,s=[],c=[],u=a?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",f=0,h=a?"":" ",d=0,p=0,v=0,g=!0,m=this._getWidthOfCharSpacing();o=o||0,0===u.length&&u.push([]),r-=o;for(var y=0;y<u.length;y++)l=a?u[y]:e.util.string.graphemeSplit(u[y]),d=this._measureWord(l,n,f),f+=l.length,(i+=p+d-m)>r&&!g?(s.push(c),c=[],i=d,g=!0):i+=m,g||a||c.push(h),c=c.concat(l),p=a?0:this._measureWord([h],n,f),f++,g=!1,d>v&&(v=d);return y&&s.push(c),v+o>this.dynamicMinWidth&&(this.dynamicMinWidth=v-m+o),s},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var n=e.Text.prototype._splitTextIntoLines.call(this,t),r=this._wrapText(n.lines,this.width),o=new Array(r.length),i=0;i<r.length;i++)o[i]=r[i].join("");return n.lines=o,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,n){return e.Object._fromObject("Textbox",t,n,"text")}}(n),function(){var t=i.controlsUtils,e=t.scaleSkewCursorStyleHandler,n=t.scaleCursorStyleHandler,r=t.scalingEqually,o=t.scalingYOrSkewingX,a=t.scalingXOrSkewingY,s=t.scaleOrSkewActionName,c=i.Object.prototype.controls;if(c.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:a,getActionName:s}),c.mr=new i.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:a,getActionName:s}),c.mb=new i.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:o,getActionName:s}),c.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:o,getActionName:s}),c.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),c.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),c.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),c.br=new i.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),c.mtr=new i.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var u=i.Textbox.prototype.controls={};u.mtr=c.mtr,u.tr=c.tr,u.br=c.br,u.tl=c.tl,u.bl=c.bl,u.mt=c.mt,u.mb=c.mb,u.mr=new i.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),u.ml=new i.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},3053:function(t,e,n){"use strict";var r=n(602);t.exports=function(t,e,n){var o,i;if(n=n||0,!r(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,o=n;n>=0&&o<i;o+=1)if(e[o]===t)return o;return-1}},8592:function(t,e,n){"use strict";var r=n(602),o=n(6092),i=n(5573);t.exports=function(t,e,n){r(t)?o(t,e,n):i(t,e,n)}},6092:function(t){"use strict";t.exports=function(t,e,n){var r=0,o=t.length;for(n=n||null;r<o&&!1!==e.call(n,t[r],r,t);r+=1);}},5573:function(t){"use strict";t.exports=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}},9052:function(t,e,n){"use strict";var r=n(961),o=n(9886),i=n(2560),a=n(5393),s=n(602),c=n(5183),u=n(8592),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(t){r(t.prototype,f.prototype)},f.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},f.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},f.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},f.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},f.prototype._forgetContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},f.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},f.prototype.on=function(t,e,n){var r=this;i(t)?(t=t.split(l),u(t,(function(t){r._bindEvent(t,e,n)}))):a(t)&&(n=e,u(t,(function(t,e){r.on(e,t,n)})))},f.prototype.once=function(t,e,n){var r=this;if(a(t))return n=e,void u(t,(function(t,e){r.once(e,t,n)}));this.on(t,(function o(){e.apply(n,arguments),r.off(t,o,n)}),n)},f.prototype._spliceMatches=function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n;r+=1)!0===e(t[r])&&(t.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},f.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var o=t===r.handler,i=e===r.context,a=o&&i;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(t,e){var n=this,r=c(e),o=n._matchHandler(e);t=t.split(l),u(t,(function(t){var e=n._safeEvent(t);r?n._spliceMatches(e,o):(u(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},f.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);u(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},f.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?u(t,(function(t,e){r.off(e,t)})):i(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):c(e)?(n=this._matchHandlerAndContext(e,t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},f.prototype.off=function(t,e){i(t)?this._offByEventName(t,e):arguments.length?c(t)?this._offByHandler(t):a(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},f.prototype.fire=function(t){this.invoke.apply(this,arguments)},f.prototype.invoke=function(t){var e,n,r,o;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(!1===(o=e[r]).handler.apply(o.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(t){return this.getListenerLength(t)>0},f.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=f},961:function(t){"use strict";t.exports=function(t,e){var n,r,o,i,a=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1)for(r in n=arguments[o])a.call(n,r)&&(t[r]=n[r]);return t}},1610:function(t,e,n){"use strict";var r=n(1603),o=n(3778);t.exports=function(t,e){for(var n=arguments,i=n[0],a=1,s=n.length;a<s;a+=1){if(r(i)||o(i))return;i=i[n[a]]}return i}},4564:function(t,e,n){"use strict";var r=n(5573);t.exports=function(t,e){var n=document.createElement("img"),o="";return r(e,(function(t,e){o+="&"+e+"="+t})),o=o.substring(1),n.src=t+"?"+o,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},4729:function(t,e,n){"use strict";var r=n(1603),o=n(4564);t.exports=function(t,e){var n=location.hostname,i="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(i);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>6048e5}(a)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))}},602:function(t){"use strict";t.exports=function(t){return t instanceof Array}},9886:function(t,e,n){"use strict";var r=n(1603),o=n(3778);t.exports=function(t){return!r(t)&&!o(t)}},5183:function(t){"use strict";t.exports=function(t){return t instanceof Function}},3778:function(t){"use strict";t.exports=function(t){return null===t}},5393:function(t){"use strict";t.exports=function(t){return t===Object(t)}},2560:function(t){"use strict";t.exports=function(t){return"string"===typeof t||t instanceof String}},1603:function(t){"use strict";t.exports=function(t){return void 0===t}},1801:function(t){var e={rect:1,circle:2,triangle:1},n={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function r(t,e,n){var r=t.x,o=t.y,i=e.x,a=e.y,s=n*Math.PI/180;return{originX:r>(i-r)*Math.cos(s)-(a-o)*Math.sin(s)+r?"right":"left",originY:o>(i-r)*Math.sin(s)+(a-o)*Math.cos(s)+o?"bottom":"top"}}t.exports={setOrigins:function(t){var e=t.getPointByOrigin("left","top"),n=t.getPointByOrigin("right","top"),r=t.getPointByOrigin("right","bottom"),o=t.getPointByOrigin("left","bottom");t.origins={lt:e,rt:n,rb:r,lb:o}},resize:function(t,o,i){(function(t){return"center"===t.originX&&"center"===t.originY})(t)&&(function(t,e){var n=e.getPointByOrigin("center","center"),o=r(n,t,-e.angle),i=o.originX,a=o.originY,s=e.getPointByOrigin(i,a),c=e.left-(n.x-s.x),u=e.top-(n.y-s.y);e.set({originX:i,originY:a,left:c,top:u}),e.setCoords()}(o,t),function(t){var e=t.originX,n=t.originY,r=e.substring(0,1)+n.substring(0,1);t.startPoint=t.origins[r]}(t)),i?function(t){var e=t.type,r=t.scaleX,o=t.scaleY,i=n[e],a=t[i.w]*r,s=t[i.h]*o;if(t.isRegular){var c=Math.max(r,o);a=t[i.w]*c,s=t[i.h]*c}var u={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};u[i.w]=a,u[i.h]=s,t.set(u)}(t):function(t,r){var o=r.type,i=r.strokeWidth,a=r.startPoint,s=e[o],c=n[o],u=!("triangle"!==r.type),l={},f=Math.abs(a.x-t.x)/s,h=Math.abs(a.y-t.y)/s;f>i&&(f-=i/s),h>i&&(h-=i/s),r.isRegular&&(f=h=Math.max(f,h),u&&(h=Math.sqrt(3)/2*f)),l[c.w]=f,l[c.h]=h,r.set(l)}(o,t),function(t,e){var n=e.startPoint,o=r(n,t,-e.angle),i=o.originX,a=o.originY;e.setPositionByOrigin(n,i,a),e.setCoords()}(o,t)},adjustOriginToCenter:function(t){var e=t.getPointByOrigin("center","center"),n=t.originX,r=t.originY,o=t.getPointByOrigin(n,r),i=t.left+(e.x-o.x),a=t.top+(e.y-o.y);t.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:i,top:a}),t.setCoords()}}},7129:function(t,e,n){var r=n(3822);t.exports=r},6250:function(t,e,n){var r=n(1434);t.exports=r},1347:function(t,e,n){var r=n(7710);t.exports=r},5992:function(t,e,n){var r=n(4486);t.exports=r},9633:function(t,e,n){var r=n(2926);t.exports=r},6843:function(t,e,n){var r=n(4741);t.exports=r},7528:function(t,e,n){var r=n(4963);t.exports=r},5271:function(t,e,n){var r=n(7820);t.exports=r},9373:function(t,e,n){var r=n(8980);t.exports=r},7443:function(t,e,n){var r=n(6672);t.exports=r},9821:function(t,e,n){var r=n(2285);n(9031),t.exports=r},8008:function(t,e,n){var r=n(8535);t.exports=r},164:function(t,e,n){var r=n(6042);t.exports=r},2221:function(t,e,n){n(5454),n(9173);var r=n(7545);t.exports=r.Array.from},5078:function(t,e,n){n(8118);var r=n(7545);t.exports=r.Array.isArray},6135:function(t,e,n){n(9106);var r=n(5607);t.exports=r("Array").concat},9510:function(t,e,n){n(1710);var r=n(5607);t.exports=r("Array").fill},3971:function(t,e,n){n(3436);var r=n(5607);t.exports=r("Array").filter},98:function(t,e,n){n(9823);var r=n(5607);t.exports=r("Array").forEach},2089:function(t,e,n){n(2276);var r=n(5607);t.exports=r("Array").indexOf},6209:function(t,e,n){n(3838);var r=n(5607);t.exports=r("Array").map},7077:function(t,e,n){n(6382);var r=n(5607);t.exports=r("Array").push},2671:function(t,e,n){n(5818);var r=n(5607);t.exports=r("Array").slice},1375:function(t,e,n){n(2178);var r=n(5607);t.exports=r("Array").splice},3528:function(t,e,n){n(665);var r=n(5607);t.exports=r("Function").bind},5739:function(t,e,n){n(8939),n(5454);var r=n(8703);t.exports=r},278:function(t,e,n){var r=n(8902),o=n(3528),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||r(i,t)&&e===i.bind?o:e}},1484:function(t,e,n){var r=n(8902),o=n(6135),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||r(i,t)&&e===i.concat?o:e}},7731:function(t,e,n){var r=n(8902),o=n(9510),i=Array.prototype;t.exports=function(t){var e=t.fill;return t===i||r(i,t)&&e===i.fill?o:e}},3669:function(t,e,n){var r=n(8902),o=n(3971),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||r(i,t)&&e===i.filter?o:e}},2604:function(t,e,n){var r=n(8902),o=n(2089),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||r(i,t)&&e===i.indexOf?o:e}},263:function(t,e,n){var r=n(8902),o=n(6209),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||r(i,t)&&e===i.map?o:e}},3590:function(t,e,n){var r=n(8902),o=n(7077),i=Array.prototype;t.exports=function(t){var e=t.push;return t===i||r(i,t)&&e===i.push?o:e}},7663:function(t,e,n){var r=n(8902),o=n(2671),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||r(i,t)&&e===i.slice?o:e}},5063:function(t,e,n){var r=n(8902),o=n(1375),i=Array.prototype;t.exports=function(t){var e=t.splice;return t===i||r(i,t)&&e===i.splice?o:e}},6813:function(t,e,n){var r=n(8902),o=n(3842),i=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===i||r(i,t)&&e===i.trim?o:e}},6285:function(t,e,n){n(2666);var r=n(7545);t.exports=r.Number.parseInt},3213:function(t,e,n){n(3113);var r=n(7545).Object;t.exports=function(t,e){return r.create(t,e)}},3512:function(t,e,n){n(297);var r=n(7545).Object,o=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(o.sham=!0)},8168:function(t,e,n){n(9234);var r=n(7545);t.exports=r.Object.getPrototypeOf},8651:function(t,e,n){n(2647);var r=n(7545);t.exports=r.Object.keys},3083:function(t,e,n){n(3222);var r=n(7545);t.exports=r.Object.setPrototypeOf},2987:function(t,e,n){n(4859);var r=n(7545);t.exports=r.parseFloat},2239:function(t,e,n){n(5706);var r=n(7545);t.exports=r.parseInt},3154:function(t,e,n){n(4242),n(8939),n(6663),n(9021),n(7884),n(8885),n(1868),n(5454);var r=n(7545);t.exports=r.Promise},6577:function(t,e,n){n(5397);var r=n(7545);t.exports=r.Reflect.construct},3842:function(t,e,n){n(957);var r=n(5607);t.exports=r("String").trim},5008:function(t,e,n){n(9106),n(6663),n(6187),n(9781),n(492),n(6681),n(9594),n(3665),n(9017),n(1250),n(9786),n(503),n(6565),n(9322),n(3610),n(6886),n(3514),n(8671),n(8556),n(1367);var r=n(7545);t.exports=r.Symbol},994:function(t,e,n){n(8939),n(6663),n(5454),n(3665);var r=n(9207);t.exports=r.f("iterator")},290:function(t,e,n){n(2432),n(3610);var r=n(9207);t.exports=r.f("toPrimitive")},2708:function(t,e,n){var r=n(7129);t.exports=r},8541:function(t,e,n){var r=n(6250);t.exports=r},7020:function(t,e,n){var r=n(1347);t.exports=r},3685:function(t,e,n){var r=n(5992);t.exports=r},2607:function(t,e,n){var r=n(9633);t.exports=r},1626:function(t,e,n){var r=n(6843);t.exports=r},7021:function(t,e,n){var r=n(7528);t.exports=r},229:function(t,e,n){var r=n(5271);t.exports=r},7994:function(t,e,n){var r=n(9373);t.exports=r},5796:function(t,e,n){var r=n(7443);t.exports=r},2185:function(t,e,n){var r=n(9821);n(177),n(2725),n(1806),n(6658),n(4212),n(8658),n(1875),n(4592),n(6680),t.exports=r},9982:function(t,e,n){var r=n(8008);t.exports=r},8241:function(t,e,n){var r=n(164);t.exports=r},6235:function(t,e,n){var r=n(6447),o=n(9288),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a function")}},1404:function(t,e,n){var r=n(2091),o=n(9288),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a constructor")}},7757:function(t,e,n){var r=n(6447),o=String,i=TypeError;t.exports=function(t){if("object"==u(t)||r(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},7423:function(t){t.exports=function(){}},6961:function(t,e,n){var r=n(8902),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},1138:function(t,e,n){var r=n(5744),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not an object")}},2724:function(t,e,n){"use strict";var r=n(1795),o=n(7739),i=n(4104);t.exports=function(t){for(var e=r(this),n=i(e),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)e[s++]=t;return e}},7397:function(t,e,n){"use strict";var r=n(454).forEach,o=n(424)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},841:function(t,e,n){"use strict";var r=n(8043),o=n(8922),i=n(1795),a=n(1635),s=n(6109),c=n(2091),u=n(4104),l=n(9361),f=n(1669),h=n(8703),d=Array;t.exports=function(t){var e=i(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,b,_,w,x,S=h(e),C=0;if(!S||this===d&&s(S))for(m=u(e),y=n?new this(m):d(m);m>C;C++)x=g?v(e[C],C):e[C],l(y,C,x);else for(w=(_=f(e,S)).next,y=n?new this:[];!(b=o(w,_)).done;C++)x=g?a(_,v,[b.value,C],!0):b.value,l(y,C,x);return y.length=C,y}},8180:function(t,e,n){var r=n(101),o=n(7739),i=n(4104),a=function(t){return function(e,n,a){var s,c=r(e),u=i(c),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},454:function(t,e,n){var r=n(8043),o=n(4120),i=n(2202),a=n(1795),s=n(4104),c=n(1321),u=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,v,g,m){for(var y,b,_=a(p),w=i(_),x=r(v,g),S=s(w),C=0,O=m||c,k=e?O(p,S):n||h?O(p,0):void 0;S>C;C++)if((d||C in w)&&(b=x(y=w[C],C,_),t))if(e)k[C]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return C;case 2:u(k,y)}else switch(t){case 4:return!1;case 7:u(k,y)}return f?-1:o||l?l:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},242:function(t,e,n){var r=n(6192),o=n(8182),i=n(4218),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},424:function(t,e,n){"use strict";var r=n(6192);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},5072:function(t,e,n){"use strict";var r=n(69),o=n(4770),i=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1923:function(t,e,n){var r=n(7739),o=n(4104),i=n(9361),a=Array,s=Math.max;t.exports=function(t,e,n){for(var c=o(t),u=r(e,c),l=r(void 0===n?c:n,c),f=a(s(l-u,0)),h=0;u<l;u++,h++)i(f,h,t[u]);return f.length=h,f}},3096:function(t,e,n){var r=n(4120);t.exports=r([].slice)},6614:function(t,e,n){var r=n(1923),o=Math.floor,i=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,s=0;a<o||s<i;)t[a+s]=a<o&&s<i?r(e[a],n[s])<=0?e[a++]:n[s++]:a<o?e[a++]:n[s++];return t};t.exports=function t(e,n){var s=e.length,c=o(s/2);return s<8?i(e,n):a(e,t(r(e,0,c),n),t(r(e,c),n),n)}},3712:function(t,e,n){var r=n(4770),o=n(2091),i=n(5744),a=n(8182)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(o(e)&&(e===s||r(e.prototype))||i(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},1321:function(t,e,n){var r=n(3712);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1635:function(t,e,n){var r=n(1138),o=n(6639);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},9770:function(t,e,n){var r=n(8182)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(s){}return n}},9272:function(t,e,n){var r=n(4120),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},4696:function(t,e,n){var r=n(3471),o=n(6447),i=n(9272),a=n(8182)("toStringTag"),s=Object,c="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=s(t),a))?n:c?i(e):"Object"==(r=i(e))&&o(e.callee)?"Arguments":r}},7987:function(t,e,n){var r=n(4500),o=n(3011),i=n(5141),a=n(2760);t.exports=function(t,e,n){for(var s=o(e),c=a.f,u=i.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||c(t,f,u(e,f))}}},4635:function(t,e,n){var r=n(6192);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7271:function(t){t.exports=function(t,e){return{value:t,done:e}}},8711:function(t,e,n){var r=n(69),o=n(2760),i=n(774);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},774:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9361:function(t,e,n){"use strict";var r=n(77),o=n(2760),i=n(774);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},4008:function(t,e,n){var r=n(2760);t.exports=function(t,e,n){return r.f(t,e,n)}},9362:function(t,e,n){var r=n(8711);t.exports=function(t,e,n,o){return o&&o.enumerable?t[e]=n:r(t,e,n),t}},5090:function(t,e,n){var r=n(9362);t.exports=function(t,e,n){for(var o in e)n&&n.unsafe&&t[o]?t[o]=e[o]:r(t,o,e[o],n);return t}},5098:function(t,e,n){var r=n(8576),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9970:function(t,e,n){"use strict";var r=n(9288),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+r(e)+" of "+r(t))}},69:function(t,e,n){var r=n(6192);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8382:function(t){var e="object"==("undefined"===typeof document?"undefined":u(document))&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},7449:function(t,e,n){var r=n(8576),o=n(5744),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},9425:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7365:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(t,e,n){var r=n(659),o=n(8189);t.exports=!r&&!o&&"object"==("undefined"===typeof window?"undefined":u(window))&&"object"==("undefined"===typeof document?"undefined":u(document))},2807:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},659:function(t){t.exports="object"==("undefined"===typeof Deno?"undefined":u(Deno))&&Deno&&"object"==u(Deno.version)},9347:function(t,e,n){var r=n(8989);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},9536:function(t,e,n){var r=n(8989);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},8189:function(t,e,n){var o=n(9272);t.exports="undefined"!=typeof r&&"process"==o(r)},5914:function(t,e,n){var r=n(8989);t.exports=/web0s(?!.*chrome)/i.test(r)},8989:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4218:function(t,e,n){var r,o,i=n(8576),a=n(8989),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},5607:function(t,e,n){var r=n(7545);t.exports=function(t){return r[t+"Prototype"]}},2952:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4503:function(t,e,n){var r=n(4120),o=Error,i=r("".replace),a=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=i(t,s,"");return t}},8266:function(t,e,n){var r=n(8711),o=n(4503),i=n(274),a=Error.captureStackTrace;t.exports=function(t,e,n,s){i&&(a?a(t,e):r(t,"stack",o(n,s)))}},274:function(t,e,n){var r=n(6192),o=n(774);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},3085:function(t,e,n){"use strict";var r=n(8576),o=n(6298),i=n(4914),a=n(6447),s=n(5141).f,c=n(9245),l=n(7545),f=n(8043),h=n(8711),d=n(4500),p=function(t){var e=function e(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return o(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,o,v,g,m,y,b,_,w,x=t.target,S=t.global,C=t.stat,O=t.proto,k=S?r:C?r[x]:(r[x]||{}).prototype,M=S?l:l[x]||h(l,x,{})[x],E=M.prototype;for(g in e)o=!(n=c(S?g:x+(C?".":"#")+g,t.forced))&&k&&d(k,g),y=M[g],o&&(b=t.dontCallGetSet?(w=s(k,g))&&w.value:k[g]),m=o&&b?b:e[g],o&&u(y)==u(m)||(_=t.bind&&o?f(m,r):t.wrap&&o?p(m):O&&a(m)?i(m):m,(t.sham||m&&m.sham||y&&y.sham)&&h(_,"sham",!0),h(M,g,_),O&&(d(l,v=x+"Prototype")||h(l,v,{}),h(l[v],g,m),t.real&&E&&(n||!E[g])&&h(E,g,m)))}},6192:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},6298:function(t,e,n){var r=n(2784),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==("undefined"===typeof Reflect?"undefined":u(Reflect))&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},8043:function(t,e,n){var r=n(4914),o=n(6235),i=n(2784),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},2784:function(t,e,n){var r=n(6192);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6782:function(t,e,n){"use strict";var r=n(4120),o=n(6235),i=n(5744),a=n(4500),s=n(3096),c=n(2784),u=Function,l=r([].concat),f=r([].join),h={},d=function(t,e,n){if(!a(h,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";h[e]=u("C,a","return new C("+f(r,",")+")")}return h[e](t,n)};t.exports=c?u.bind:function(t){var e=o(this),n=e.prototype,r=s(arguments,1),a=function(){var n=l(r,s(arguments));return this instanceof a?d(e,n.length,n):e.apply(t,n)};return i(n)&&(a.prototype=n),a}},8922:function(t,e,n){var r=n(2784),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},2282:function(t,e,n){var r=n(69),o=n(4500),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},6419:function(t,e,n){var r=n(4120),o=n(6235);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(i){}}},4914:function(t,e,n){var r=n(9272),o=n(4120);t.exports=function(t){if("Function"===r(t))return o(t)}},4120:function(t,e,n){var r=n(2784),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},150:function(t,e,n){var r=n(7545),o=n(8576),i=n(6447),a=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},8703:function(t,e,n){var r=n(4696),o=n(5037),i=n(5646),a=n(7771),s=n(8182)("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[r(t)]}},1669:function(t,e,n){var r=n(8922),o=n(6235),i=n(1138),a=n(9288),s=n(8703),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(o(n))return i(r(n,t));throw c(a(t)+" is not iterable")}},9202:function(t,e,n){var r=n(4120),o=n(4770),i=n(6447),a=n(9272),s=n(4845),c=r([].push);t.exports=function(t){if(i(t))return t;if(o(t)){for(var e=t.length,n=[],r=0;r<e;r++){var u=t[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!=a(u)&&"String"!=a(u)||c(n,s(u))}var l=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(o(this))return e;for(var r=0;r<l;r++)if(n[r]===t)return e}}}},5037:function(t,e,n){var r=n(6235),o=n(5646);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},8576:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"===typeof globalThis?"undefined":u(globalThis))&&globalThis)||r("object"==("undefined"===typeof window?"undefined":u(window))&&window)||r("object"==("undefined"===typeof self?"undefined":u(self))&&self)||r("object"==u(n.g)&&n.g)||function(){return this}()||this||Function("return this")()},4500:function(t,e,n){var r=n(4120),o=n(1795),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},4535:function(t){t.exports={}},3681:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(n){}}},7403:function(t,e,n){var r=n(150);t.exports=r("document","documentElement")},188:function(t,e,n){var r=n(69),o=n(6192),i=n(7449);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},2202:function(t,e,n){var r=n(4120),o=n(6192),i=n(9272),a=Object,s=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},9516:function(t,e,n){var r=n(4120),o=n(6447),i=n(6434),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},273:function(t,e,n){var r=n(5744),o=n(8711);t.exports=function(t,e){r(e)&&"cause"in e&&o(t,"cause",e.cause)}},3326:function(t,e,n){var r,o,i,a=n(5278),s=n(8576),c=n(5744),u=n(8711),l=n(4500),f=n(6434),h=n(9766),d=n(4535),p=s.TypeError,v=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw p("Object already initialized");return e.facade=t,g.set(t,e),e},o=function(t){return g.get(t)||{}},i=function(t){return g.has(t)}}else{var m=h("state");d[m]=!0,r=function(t,e){if(l(t,m))throw p("Object already initialized");return e.facade=t,u(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw p("Incompatible receiver, "+t+" required");return n}}}},6109:function(t,e,n){var r=n(8182),o=n(7771),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},4770:function(t,e,n){var r=n(9272);t.exports=Array.isArray||function(t){return"Array"==r(t)}},6447:function(t,e,n){var r=n(8382),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},2091:function(t,e,n){var r=n(4120),o=n(6192),i=n(6447),a=n(4696),s=n(150),c=n(9516),u=function(){},l=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(u),v=function(t){if(!i(t))return!1;try{return f(u,l,t),!0}catch(e){return!1}},g=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,c(t))}catch(e){return!0}};g.sham=!0,t.exports=!f||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},9245:function(t,e,n){var r=n(6192),o=n(6447),i=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n==l||n!=u&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5646:function(t){t.exports=function(t){return null===t||void 0===t}},5744:function(t,e,n){var r=n(6447),o=n(8382),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==u(t)?null!==t:r(t)||t===i}:function(t){return"object"==u(t)?null!==t:r(t)}},5546:function(t){t.exports=!0},3236:function(t,e,n){var r=n(150),o=n(6447),i=n(8902),a=n(615),s=Object;t.exports=a?function(t){return"symbol"==u(t)}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,s(t))}},3442:function(t,e,n){var r=n(8043),o=n(8922),i=n(1138),a=n(9288),s=n(6109),c=n(4104),l=n(8902),f=n(1669),h=n(8703),d=n(6639),p=TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,n){var m,y,b,_,w,x,S,C=n&&n.that,O=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),M=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),j=r(e,C),I=function(t){return m&&d(m,"normal",t),new v(!0,t)},A=function(t){return O?(i(t),E?j(t[0],t[1],I):j(t[0],t[1])):E?j(t,I):j(t)};if(k)m=t.iterator;else if(M)m=t;else{if(!(y=h(t)))throw p(a(t)+" is not iterable");if(s(y)){for(b=0,_=c(t);_>b;b++)if((w=A(t[b]))&&l(g,w))return w;return new v(!1)}m=f(t,y)}for(x=k?t.next:m.next;!(S=o(x,m)).done;){try{w=A(S.value)}catch(T){d(m,"throw",T)}if("object"==u(w)&&w&&l(g,w))return w}return new v(!1)}},6639:function(t,e,n){var r=n(8922),o=n(1138),i=n(5037);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){s=!0,a=c}if("throw"===e)throw n;if(s)throw a;return o(a),n}},5695:function(t,e,n){"use strict";var r=n(4413).IteratorPrototype,o=n(2853),i=n(774),a=n(1284),s=n(7771),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!u,n)}),a(t,l,!1,!0),s[l]=c,t}},5297:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(5546),a=n(2282),s=n(6447),c=n(5695),u=n(9341),l=n(4469),f=n(1284),h=n(8711),d=n(9362),p=n(8182),v=n(7771),g=n(4413),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,_=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x=function(){return this};t.exports=function(t,e,n,a,p,g,S){c(n,e,a);var C,O,k,M=function(t){if(t===p&&T)return T;if(!_&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",j=!1,I=t.prototype,A=I[w]||I["@@iterator"]||p&&I[p],T=!_&&A||M(p),P="Array"==e&&I.entries||A;if(P&&(C=u(P.call(new t)))!==Object.prototype&&C.next&&(i||u(C)===b||(l?l(C,b):s(C[w])||d(C,w,x)),f(C,E,!0,!0),i&&(v[E]=x)),m&&"values"==p&&A&&"values"!==A.name&&(!i&&y?h(I,"name","values"):(j=!0,T=function(){return o(A,this)})),p)if(O={values:M("values"),keys:g?T:M("keys"),entries:M("entries")},S)for(k in O)(_||j||!(k in I))&&d(I,k,O[k]);else r({target:e,proto:!0,forced:_||j},O);return i&&!S||I[w]===T||d(I,w,T,{name:p}),v[e]=T,O}},4413:function(t,e,n){"use strict";var r,o,i,a=n(6192),s=n(6447),c=n(5744),u=n(2853),l=n(9341),f=n(9362),h=n(8182),d=n(5546),p=h("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):v=!0),!c(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:d&&(r=u(r)),s(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},7771:function(t){t.exports={}},4104:function(t,e,n){var r=n(8445);t.exports=function(t){return r(t.length)}},7679:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2950:function(t,e,n){var r,o,i,a,s,c=n(8576),u=n(8043),l=n(5141).f,f=n(7160).set,h=n(6412),d=n(9536),p=n(9347),v=n(5914),g=n(8189),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,b=c.process,_=c.Promise,w=l(c,"queueMicrotask"),x=w&&w.value;if(!x){var S=new h,C=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(n){throw S.head&&r(),n}t&&t.enter()};d||g||v||!m||!y?!p&&_&&_.resolve?((a=_.resolve(void 0)).constructor=_,s=u(a.then,a),r=function(){s(C)}):g?r=function(){b.nextTick(C)}:(f=u(f,c),r=function(){f(C)}):(o=!0,i=y.createTextNode(""),new m(C).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),x=function(t){S.head||r(),S.add(t)}}t.exports=x},9438:function(t,e,n){"use strict";var r=n(6235),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},6016:function(t,e,n){var r=n(4845);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},15:function(t,e,n){var r=n(8576),o=n(6192),i=n(4120),a=n(4845),s=n(4277).trim,c=n(1450),u=i("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(c+"-0")!==-1/0||h&&!o((function(){l(Object(h))}));t.exports=d?function(t){var e=s(a(t)),n=l(e);return 0===n&&"-"==u(e,0)?-0:n}:l},2558:function(t,e,n){var r=n(8576),o=n(6192),i=n(4120),a=n(4845),s=n(4277).trim,c=n(1450),u=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=i(h.exec),p=8!==u(c+"08")||22!==u(c+"0x16")||f&&!o((function(){u(Object(f))}));t.exports=p?function(t,e){var n=s(a(t));return u(n,e>>>0||(d(h,n)?16:10))}:u},2503:function(t,e,n){"use strict";var r=n(69),o=n(4120),i=n(8922),a=n(6192),s=n(7653),c=n(4750),u=n(6007),l=n(1795),f=n(2202),h=Object.assign,d=Object.defineProperty,p=o([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||"abcdefghijklmnopqrst"!=s(h({},e)).join("")}))?function(t,e){for(var n=l(t),o=arguments.length,a=1,h=c.f,d=u.f;o>a;)for(var v,g=f(arguments[a++]),m=h?p(s(g),h(g)):s(g),y=m.length,b=0;y>b;)v=m[b++],r&&!i(d,g,v)||(n[v]=g[v]);return n}:h},2853:function(t,e,n){var r,o=n(1138),i=n(1187),a=n(2952),s=n(4535),c=n(7403),u=n(7449),l=n(9766),f=l("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var t,e=u("iframe");return e.style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F}():p(r);for(var t=a.length;t--;)delete v.prototype[a[t]];return v()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[f]=t):n=v(),void 0===e?n:i.f(n,e)}},1187:function(t,e,n){var r=n(69),o=n(9600),i=n(2760),a=n(1138),s=n(101),c=n(7653);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),o=c(e),u=o.length,l=0;u>l;)i.f(t,n=o[l++],r[n]);return t}},2760:function(t,e,n){var r=n(69),o=n(188),i=n(9600),a=n(1138),s=n(77),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=r?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=l(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5141:function(t,e,n){var r=n(69),o=n(8922),i=n(6007),a=n(774),s=n(101),c=n(77),u=n(4500),l=n(188),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=c(e),l)try{return f(t,e)}catch(n){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},4052:function(t,e,n){var r=n(9272),o=n(101),i=n(2092).f,a=n(1923),s="object"==("undefined"===typeof window?"undefined":u(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return i(t)}catch(e){return a(s)}}(t):i(o(t))}},2092:function(t,e,n){var r=n(7934),o=n(2952).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},4750:function(t,e){e.f=Object.getOwnPropertySymbols},9341:function(t,e,n){var r=n(4500),o=n(6447),i=n(1795),a=n(9766),s=n(4635),c=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},8902:function(t,e,n){var r=n(4120);t.exports=r({}.isPrototypeOf)},7934:function(t,e,n){var r=n(4120),o=n(4500),i=n(101),a=n(8180).indexOf,s=n(4535),c=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;e.length>u;)o(r,n=e[u++])&&(~a(l,n)||c(l,n));return l}},7653:function(t,e,n){var r=n(7934),o=n(2952);t.exports=Object.keys||function(t){return r(t,o)}},6007:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4469:function(t,e,n){var r=n(6419),o=n(1138),i=n(7757);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},158:function(t,e,n){"use strict";var r=n(3471),o=n(4696);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},380:function(t,e,n){var r=n(8922),o=n(6447),i=n(5744),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!i(s=r(n,t)))return s;if(o(n=t.valueOf)&&!i(s=r(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!i(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3011:function(t,e,n){var r=n(150),o=n(4120),i=n(2092),a=n(4750),s=n(1138),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?c(e,n(t)):e}},7545:function(t){t.exports={}},892:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},511:function(t,e,n){var r=n(8576),o=n(5813),i=n(6447),a=n(9245),s=n(9516),c=n(8182),u=n(2957),l=n(659),f=n(5546),h=n(4218),d=o&&o.prototype,p=c("species"),v=!1,g=i(r.PromiseRejectionEvent),m=a("Promise",(function(){var t=s(o),e=t!==String(o);if(!e&&66===h)return!0;if(f&&(!d.catch||!d.finally))return!0;if(!h||h<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(u||l)&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},5813:function(t,e,n){var r=n(8576);t.exports=r.Promise},9126:function(t,e,n){var r=n(1138),o=n(5744),i=n(9438);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},2775:function(t,e,n){var r=n(5813),o=n(9770),i=n(511).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},6412:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},3209:function(t,e,n){var r=n(5646),o=TypeError;t.exports=function(t){if(r(t))throw o("Can't call method on "+t);return t}},3755:function(t,e,n){"use strict";var r=n(8576),o=n(6298),i=n(6447),a=n(2807),s=n(8989),c=n(3096),u=n(7822),l=r.Function,f=/MSIE .\./.test(s)||a&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return f?function(r,a){var s=u(arguments.length,1)>n,f=i(r)?r:l(r),h=s?c(arguments,n):[],d=s?function(){o(f,this,h)}:f;return e?t(d,a):t(d)}:t}},3656:function(t,e,n){"use strict";var r=n(150),o=n(4008),i=n(8182),a=n(69),s=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&o(e,s,{configurable:!0,get:function(){return this}})}},1284:function(t,e,n){var r=n(3471),o=n(2760).f,i=n(8711),a=n(4500),s=n(158),c=n(8182)("toStringTag");t.exports=function(t,e,n,u){if(t){var l=n?t:t.prototype;a(l,c)||o(l,c,{configurable:!0,value:e}),u&&!r&&i(l,"toString",s)}}},9766:function(t,e,n){var r=n(8717),o=n(2759),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},6434:function(t,e,n){var r=n(8576),o=n(5098),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},8717:function(t,e,n){var r=n(5546),o=n(6434);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},4743:function(t,e,n){var r=n(1138),o=n(1404),i=n(5646),a=n(8182)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||i(n=r(s)[a])?e:o(n)}},863:function(t,e,n){var r=n(4120),o=n(1941),i=n(4845),a=n(3209),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,f=i(a(e)),h=o(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=c(f,h))<55296||r>56319||h+1===d||(l=c(f,h+1))<56320||l>57343?t?s(f,h):r:t?u(f,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},7977:function(t,e,n){var r=n(4120),o=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=RangeError,c=r(i.exec),u=Math.floor,l=String.fromCharCode,f=r("".charCodeAt),h=r([].join),d=r([].push),p=r("".replace),v=r("".split),g=r("".toLowerCase),m=function(t){return t+22+75*(t<26)},y=function(t,e,n){var r=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),r+=36;return u(r+36*t/(t+38))},b=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=f(t,n++);if(o>=55296&&o<=56319&&n<r){var i=f(t,n++);56320==(64512&i)?d(e,((1023&o)<<10)+(1023&i)+65536):(d(e,o),n--)}else d(e,o)}return e}(t)).length,i=128,c=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&d(r,l(n));var v=r.length,g=v;for(v&&d(r,"-");g<o;){var b=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=i&&n<b&&(b=n);var _=g+1;if(b-i>u((2147483647-c)/_))throw s(a);for(c+=(b-i)*_,i=b,e=0;e<t.length;e++){if((n=t[e])<i&&++c>2147483647)throw s(a);if(n==i){for(var w=c,x=36;;){var S=x<=p?1:x>=p+26?26:x-p;if(w<S)break;var C=w-S,O=36-S;d(r,l(m(S+C%O))),w=u(C/O),x+=36}d(r,l(m(w))),p=y(c,_,g==v),c=0,g++}}c++,i++}return h(r,"")};t.exports=function(t){var e,n,r=[],a=v(p(g(t),i,"."),".");for(e=0;e<a.length;e++)n=a[e],d(r,c(o,n)?"xn--"+b(n):n);return h(r,".")}},6815:function(t,e,n){var r=n(2282).PROPER,o=n(6192),i=n(1450);t.exports=function(t){return o((function(){return!!i[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||r&&i[t].name!==t}))}},4277:function(t,e,n){var r=n(4120),o=n(3209),i=n(4845),a=n(1450),s=r("".replace),c=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=i(o(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,u,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},6770:function(t,e,n){var r=n(4218),o=n(6192),i=n(8576).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3407:function(t,e,n){var r=n(8922),o=n(150),i=n(8182),a=n(9362);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=i("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},31:function(t,e,n){var r=n(6770);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},7160:function(t,e,n){var r,o,i,a,s=n(8576),c=n(6298),u=n(8043),l=n(6447),f=n(4500),h=n(6192),d=n(7403),p=n(3096),v=n(7449),g=n(7822),m=n(9536),y=n(8189),b=s.setImmediate,_=s.clearImmediate,w=s.process,x=s.Dispatch,S=s.Function,C=s.MessageChannel,O=s.String,k=0,M={};h((function(){r=s.location}));var E=function(t){if(f(M,t)){var e=M[t];delete M[t],e()}},j=function(t){return function(){E(t)}},I=function(t){E(t.data)},A=function(t){s.postMessage(O(t),r.protocol+"//"+r.host)};b&&_||(b=function(t){g(arguments.length,1);var e=l(t)?t:S(t),n=p(arguments,1);return M[++k]=function(){c(e,void 0,n)},o(k),k},_=function(t){delete M[t]},y?o=function(t){w.nextTick(j(t))}:x&&x.now?o=function(t){x.now(j(t))}:C&&!m?(a=(i=new C).port2,i.port1.onmessage=I,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(A)?(o=A,s.addEventListener("message",I,!1)):o="onreadystatechange"in v("script")?function(t){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),E(t)}}:function(t){setTimeout(j(t),0)}),t.exports={set:b,clear:_}},7739:function(t,e,n){var r=n(1941),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},101:function(t,e,n){var r=n(2202),o=n(3209);t.exports=function(t){return r(o(t))}},1941:function(t,e,n){var r=n(7679);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8445:function(t,e,n){var r=n(1941),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},1795:function(t,e,n){var r=n(3209),o=Object;t.exports=function(t){return o(r(t))}},7888:function(t,e,n){var r=n(8922),o=n(5744),i=n(3236),a=n(5037),s=n(380),c=n(8182),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},77:function(t,e,n){var r=n(7888),o=n(3236);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},3471:function(t,e,n){var r={};r[n(8182)("toStringTag")]="z",t.exports="[object z]"===String(r)},4845:function(t,e,n){var r=n(4696),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},9288:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},2759:function(t,e,n){var r=n(4120),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},8552:function(t,e,n){var r=n(6192),o=n(8182),i=n(69),a=n(5546),s=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),a&&!t.toJSON||!e.size&&(a||!i)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},615:function(t,e,n){var r=n(6770);t.exports=r&&!Symbol.sham&&"symbol"==u(Symbol.iterator)},9600:function(t,e,n){var r=n(69),o=n(6192);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7822:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},5278:function(t,e,n){var r=n(8576),o=n(6447),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},8332:function(t,e,n){var r=n(7545),o=n(4500),i=n(9207),a=n(2760).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},9207:function(t,e,n){var r=n(8182);e.f=r},8182:function(t,e,n){var r=n(8576),o=n(8717),i=n(4500),a=n(2759),s=n(6770),c=n(615),u=r.Symbol,l=o("wks"),f=c?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=s&&i(u,t)?u[t]:f("Symbol."+t)),l[t]}},1450:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},3820:function(t,e,n){"use strict";var r=n(3085),o=n(8902),i=n(9341),a=n(4469),s=n(7987),c=n(2853),u=n(8711),l=n(774),f=n(273),h=n(8266),d=n(3442),p=n(6016),v=n(8182)("toStringTag"),g=Error,m=[].push,y=function(t,e){var n,r=o(b,this);a?n=a(g(),r?i(this):b):(n=r?this:c(b),u(n,v,"Error")),void 0!==e&&u(n,"message",p(e)),h(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var s=[];return d(t,m,{that:s}),u(n,"errors",s),n};a?a(y,g):s(y,g,{name:!0});var b=y.prototype=c(g.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},4242:function(t,e,n){n(3820)},9106:function(t,e,n){"use strict";var r=n(3085),o=n(6192),i=n(4770),a=n(5744),s=n(1795),c=n(4104),u=n(9425),l=n(9361),f=n(1321),h=n(242),d=n(8182),p=n(4218),v=d("isConcatSpreadable"),g=p>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(t){var e,n,r,o,i,a=s(this),h=f(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(m(i=-1===e?a:arguments[e]))for(o=c(i),u(d+o),n=0;n<o;n++,d++)n in i&&l(h,d,i[n]);else u(d+1),l(h,d++,i);return h.length=d,h}})},1710:function(t,e,n){var r=n(3085),o=n(2724),i=n(7423);r({target:"Array",proto:!0},{fill:o}),i("fill")},3436:function(t,e,n){"use strict";var r=n(3085),o=n(454).filter;r({target:"Array",proto:!0,forced:!n(242)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},9823:function(t,e,n){"use strict";var r=n(3085),o=n(7397);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},9173:function(t,e,n){var r=n(3085),o=n(841);r({target:"Array",stat:!0,forced:!n(9770)((function(t){Array.from(t)}))},{from:o})},2276:function(t,e,n){"use strict";var r=n(3085),o=n(4914),i=n(8180).indexOf,a=n(424),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,t,e)||0:i(this,t,e)}})},8118:function(t,e,n){n(3085)({target:"Array",stat:!0},{isArray:n(4770)})},8939:function(t,e,n){"use strict";var r=n(101),o=n(7423),i=n(7771),a=n(3326),s=n(2760).f,c=n(5297),u=n(7271),l=n(5546),f=n(69),h=a.set,d=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){h(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var p=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(v){}},3838:function(t,e,n){"use strict";var r=n(3085),o=n(454).map;r({target:"Array",proto:!0,forced:!n(242)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},6382:function(t,e,n){"use strict";var r=n(3085),o=n(1795),i=n(4104),a=n(5072),s=n(9425);r({target:"Array",proto:!0,arity:1,forced:n(6192)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=o(this),n=i(e),r=arguments.length;s(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return a(e,n),n}})},5818:function(t,e,n){"use strict";var r=n(3085),o=n(4770),i=n(2091),a=n(5744),s=n(7739),c=n(4104),u=n(101),l=n(9361),f=n(8182),h=n(242),d=n(3096),p=h("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,h=u(this),p=c(h),y=s(t,p),b=s(void 0===e?p:e,p);if(o(h)&&(n=h.constructor,(i(n)&&(n===g||o(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return d(h,y,b);for(r=new(void 0===n?g:n)(m(b-y,0)),f=0;y<b;y++,f++)y in h&&l(r,f,h[y]);return r.length=f,r}})},2178:function(t,e,n){"use strict";var r=n(3085),o=n(1795),i=n(7739),a=n(1941),s=n(4104),c=n(5072),u=n(9425),l=n(1321),f=n(9361),h=n(9970),d=n(242)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,d,g,m,y,b=o(this),_=s(b),w=i(t,_),x=arguments.length;for(0===x?n=r=0:1===x?(n=0,r=_-w):(n=x-2,r=v(p(a(e),0),_-w)),u(_+n-r),d=l(b,r),g=0;g<r;g++)(m=w+g)in b&&f(d,g,b[m]);if(d.length=r,n<r){for(g=w;g<_-r;g++)y=g+n,(m=g+r)in b?b[y]=b[m]:h(b,y);for(g=_;g>_-r+n;g--)h(b,g-1)}else if(n>r)for(g=_-r;g>w;g--)y=g+n-1,(m=g+r-1)in b?b[y]=b[m]:h(b,y);for(g=0;g<n;g++)b[g+w]=arguments[g+2];return c(b,_-r+n),d}})},2432:function(){},665:function(t,e,n){var r=n(3085),o=n(6782);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},9704:function(t,e,n){var r=n(3085),o=n(150),i=n(6298),a=n(8922),s=n(4120),c=n(6192),u=n(6447),l=n(3236),f=n(3096),h=n(9202),d=n(6770),p=String,v=o("JSON","stringify"),g=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),_=s(1..toString),w=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!d||c((function(){var t=o("Symbol")();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))})),O=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),k=function(t,e){var n=f(arguments),r=h(e);if(u(r)||void 0!==t&&!l(t))return n[1]=function(t,e){if(u(r)&&(e=a(r,this,p(t),e)),!l(e))return e},i(v,null,n)},M=function(t,e,n){var r=m(n,e-1),o=m(n,e+1);return g(x,t)&&!g(S,o)||g(S,t)&&!g(x,r)?"\\u"+_(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:C||O},{stringify:function(t,e,n){var r=f(arguments),o=i(C?k:v,null,r);return O&&"string"==typeof o?b(o,w,M):o}})},8671:function(t,e,n){var r=n(8576);n(1284)(r.JSON,"JSON",!0)},8556:function(){},2666:function(t,e,n){var r=n(3085),o=n(2558);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},3113:function(t,e,n){n(3085)({target:"Object",stat:!0,sham:!n(69)},{create:n(2853)})},297:function(t,e,n){var r=n(3085),o=n(69),i=n(2760).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},7895:function(t,e,n){var r=n(3085),o=n(6770),i=n(6192),a=n(4750),s=n(1795);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},9234:function(t,e,n){var r=n(3085),o=n(6192),i=n(1795),a=n(9341),s=n(4635);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(i(t))}})},2647:function(t,e,n){var r=n(3085),o=n(1795),i=n(7653);r({target:"Object",stat:!0,forced:n(6192)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},3222:function(t,e,n){n(3085)({target:"Object",stat:!0},{setPrototypeOf:n(4469)})},6663:function(){},4859:function(t,e,n){var r=n(3085),o=n(15);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},5706:function(t,e,n){var r=n(3085),o=n(2558);r({global:!0,forced:parseInt!=o},{parseInt:o})},7884:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s((function(){var n=i(e.resolve),a=[],s=0,u=1;c(t,(function(t){var i=s++,c=!1;u++,o(n,e,t).then((function(t){c||(c=!0,a[i]={status:"fulfilled",value:t},--u||r(a))}),(function(t){c||(c=!0,a[i]={status:"rejected",reason:t},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},9701:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s((function(){var n=i(e.resolve),a=[],s=0,l=1;c(t,(function(t){var i=s++,c=!1;l++,o(n,e,t).then((function(t){c||(c=!0,a[i]=t,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},8885:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(6235),a=n(150),s=n(9438),c=n(892),u=n(3442),l=n(2775);r({target:"Promise",stat:!0,forced:l},{any:function(t){var e=this,n=a("AggregateError"),r=s.f(e),l=r.resolve,f=r.reject,h=c((function(){var r=i(e.resolve),a=[],s=0,c=1,h=!1;u(t,(function(t){var i=s++,u=!1;c++,o(r,e,t).then((function(t){u||h||(h=!0,l(t))}),(function(t){u||h||(u=!0,a[i]=t,--c||f(new n(a,"No one promise resolved")))}))})),--c||f(new n(a,"No one promise resolved"))}));return h.error&&f(h.value),r.promise}})},4025:function(t,e,n){"use strict";var r=n(3085),o=n(5546),i=n(511).CONSTRUCTOR,a=n(5813),s=n(150),c=n(6447),u=n(9362),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(a)){var f=s("Promise").prototype.catch;l.catch!==f&&u(l,"catch",f,{unsafe:!0})}},268:function(t,e,n){"use strict";var r,o,i,a=n(3085),s=n(5546),c=n(8189),u=n(8576),l=n(8922),f=n(9362),h=n(4469),d=n(1284),p=n(3656),v=n(6235),g=n(6447),m=n(5744),y=n(6961),b=n(4743),_=n(7160).set,w=n(2950),x=n(3681),S=n(892),C=n(6412),O=n(3326),k=n(5813),M=n(511),E=n(9438),j=M.CONSTRUCTOR,I=M.REJECTION_EVENT,A=M.SUBCLASSING,T=O.getterFor("Promise"),P=O.set,D=k&&k.prototype,N=k,L=D,R=u.TypeError,B=u.document,z=u.process,F=E.f,H=F,U=!!(B&&B.createEvent&&u.dispatchEvent),W=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},V=function(t,e){var n,r,o,i=e.value,a=1==e.state,s=a?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&q(e),e.rejection=1),!0===s?n=i:(f&&f.enter(),n=s(i),f&&(f.exit(),o=!0)),n===t.promise?u(R("Promise-chain cycle")):(r=W(n))?l(r,n,c,u):c(n)):u(i)}catch(h){f&&!o&&f.exit(),u(h)}},Y=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)V(n,t);t.notified=!1,e&&!t.rejection&&X(t)})))},G=function(t,e,n){var r,o;U?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!I&&(o=u["on"+t])?o(r):"unhandledrejection"===t&&x("Unhandled promise rejection",n)},X=function(t){l(_,u,(function(){var e,n=t.facade,r=t.value;if(Z(t)&&(e=S((function(){c?z.emit("unhandledRejection",r,n):G("unhandledrejection",n,r)})),t.rejection=c||Z(t)?2:1,e.error))throw e.value}))},Z=function(t){return 1!==t.rejection&&!t.parent},q=function(t){l(_,u,(function(){var e=t.facade;c?z.emit("rejectionHandled",e):G("rejectionhandled",e,t.value)}))},K=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Y(t,!0))},J=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw R("Promise can't be resolved itself");var o=W(n);o?w((function(){var r={done:!1};try{l(o,n,K(t,r,e),K(Q,r,e))}catch(i){Q(r,i,e)}})):(e.value=n,e.state=1,Y(e,!1))}catch(i){Q({done:!1},i,e)}}};if(j&&(L=(N=function(t){y(this,L),v(t),l(r,this);var e=T(this);try{t(K(J,e),K(Q,e))}catch(n){Q(e,n)}}).prototype,(r=function(t){P(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=f(L,"then",(function(t,e){var n=T(this),r=F(b(this,N));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=c?z.domain:void 0,0==n.state?n.reactions.add(r):w((function(){V(r,n)})),r.promise})),o=function(){var t=new r,e=T(t);this.promise=t,this.resolve=K(J,e),this.reject=K(Q,e)},E.f=F=function(t){return t===N||void 0===t?new o(t):H(t)},!s&&g(k)&&D!==Object.prototype)){i=D.then,A||f(D,"then",(function(t,e){var n=this;return new N((function(t,e){l(i,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete D.constructor}catch($){}h&&h(D,L)}a({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:N}),d(N,"Promise",!1,!0),p("Promise")},1868:function(t,e,n){"use strict";var r=n(3085),o=n(5546),i=n(5813),a=n(6192),s=n(150),c=n(6447),u=n(4743),l=n(9126),f=n(9362),h=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!o&&c(i)){var d=s("Promise").prototype.finally;h.finally!==d&&f(h,"finally",d,{unsafe:!0})}},9021:function(t,e,n){n(268),n(9701),n(4025),n(7196),n(5873),n(2931)},7196:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{race:function(t){var e=this,n=a.f(e),r=n.reject,u=s((function(){var a=i(e.resolve);c(t,(function(t){o(a,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},5873:function(t,e,n){"use strict";var r=n(3085),o=n(8922),i=n(9438);r({target:"Promise",stat:!0,forced:n(511).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},2931:function(t,e,n){"use strict";var r=n(3085),o=n(150),i=n(5546),a=n(5813),s=n(511).CONSTRUCTOR,c=n(9126),u=o("Promise"),l=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(t){return c(l&&this===u?a:this,t)}})},5397:function(t,e,n){var r=n(3085),o=n(150),i=n(6298),a=n(6782),s=n(1404),c=n(1138),u=n(5744),l=n(2853),f=n(6192),h=o("Reflect","construct"),d=Object.prototype,p=[].push,v=f((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),g=!f((function(){h((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){s(t),c(e);var n=arguments.length<3?t:s(arguments[2]);if(g&&!v)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(p,r,e),new(i(a,t,r))}var o=n.prototype,f=l(u(o)?o:d),m=i(t,f,e);return u(m)?m:f}})},1367:function(){},5454:function(t,e,n){"use strict";var r=n(863).charAt,o=n(4845),i=n(3326),a=n(5297),s=n(7271),c=i.set,u=i.getterFor("String Iterator");a(String,"String",(function(t){c(this,{type:"String Iterator",string:o(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?s(void 0,!0):(t=r(n,o),e.index+=t.length,s(t,!1))}))},957:function(t,e,n){"use strict";var r=n(3085),o=n(4277).trim;r({target:"String",proto:!0,forced:n(6815)("trim")},{trim:function(){return o(this)}})},9781:function(t,e,n){n(8332)("asyncIterator")},9351:function(t,e,n){"use strict";var r=n(3085),o=n(8576),i=n(8922),a=n(4120),s=n(5546),c=n(69),u=n(6770),l=n(6192),f=n(4500),h=n(8902),d=n(1138),p=n(101),v=n(77),g=n(4845),m=n(774),y=n(2853),b=n(7653),_=n(2092),w=n(4052),x=n(4750),S=n(5141),C=n(2760),O=n(1187),k=n(6007),M=n(9362),E=n(4008),j=n(8717),I=n(9766),A=n(4535),T=n(2759),P=n(8182),D=n(9207),N=n(8332),L=n(3407),R=n(1284),B=n(3326),z=n(454).forEach,F=I("hidden"),H=B.set,U=B.getterFor("Symbol"),W=Object.prototype,V=o.Symbol,Y=V&&V.prototype,G=o.TypeError,X=o.QObject,Z=S.f,q=C.f,K=w.f,Q=k.f,J=a([].push),$=j("symbols"),tt=j("op-symbols"),et=j("wks"),nt=!X||!X.prototype||!X.prototype.findChild,rt=c&&l((function(){return 7!=y(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Z(W,e);r&&delete W[e],q(t,e,n),r&&t!==W&&q(W,e,r)}:q,ot=function(t,e){var n=$[t]=y(Y);return H(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},it=function(t,e,n){t===W&&it(tt,e,n),d(t);var r=v(e);return d(n),f($,r)?(n.enumerable?(f(t,F)&&t[F][r]&&(t[F][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,F)||q(t,F,m(1,{})),t[F][r]=!0),rt(t,r,n)):q(t,r,n)},at=function(t,e){d(t);var n=p(e),r=b(n).concat(lt(n));return z(r,(function(e){c&&!i(st,n,e)||it(t,e,n[e])})),t},st=function(t){var e=v(t),n=i(Q,this,e);return!(this===W&&f($,e)&&!f(tt,e))&&(!(n||!f(this,e)||!f($,e)||f(this,F)&&this[F][e])||n)},ct=function(t,e){var n=p(t),r=v(e);if(n!==W||!f($,r)||f(tt,r)){var o=Z(n,r);return!o||!f($,r)||f(n,F)&&n[F][r]||(o.enumerable=!0),o}},ut=function(t){var e=K(p(t)),n=[];return z(e,(function(t){f($,t)||f(A,t)||J(n,t)})),n},lt=function(t){var e=t===W,n=K(e?tt:p(t)),r=[];return z(n,(function(t){!f($,t)||e&&!f(W,t)||J(r,$[t])})),r};u||(M(Y=(V=function(){if(h(Y,this))throw G("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=T(t),n=function t(n){this===W&&i(t,tt,n),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),rt(this,e,m(1,n))};return c&&nt&&rt(W,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return U(this).tag})),M(V,"withoutSetter",(function(t){return ot(T(t),t)})),k.f=st,C.f=it,O.f=at,S.f=ct,_.f=w.f=ut,x.f=lt,D.f=function(t){return ot(P(t),t)},c&&(E(Y,"description",{configurable:!0,get:function(){return U(this).description}}),s||M(W,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),z(b(et),(function(t){N(t)})),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?y(t):at(y(t),e)},defineProperty:it,defineProperties:at,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ut}),L(),R(V,"Symbol"),A[F]=!0},492:function(){},9148:function(t,e,n){var r=n(3085),o=n(150),i=n(4500),a=n(4845),s=n(8717),c=n(31),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(i(u,e))return u[e];var n=o("Symbol")(e);return u[e]=n,l[n]=e,n}})},6681:function(t,e,n){n(8332)("hasInstance")},9594:function(t,e,n){n(8332)("isConcatSpreadable")},3665:function(t,e,n){n(8332)("iterator")},6187:function(t,e,n){n(9351),n(9148),n(5991),n(9704),n(7895)},5991:function(t,e,n){var r=n(3085),o=n(4500),i=n(3236),a=n(9288),s=n(8717),c=n(31),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(a(t)+" is not a symbol");if(o(u,t))return u[t]}})},1250:function(t,e,n){n(8332)("matchAll")},9017:function(t,e,n){n(8332)("match")},9786:function(t,e,n){n(8332)("replace")},503:function(t,e,n){n(8332)("search")},6565:function(t,e,n){n(8332)("species")},9322:function(t,e,n){n(8332)("split")},3610:function(t,e,n){var r=n(8332),o=n(3407);r("toPrimitive"),o()},6886:function(t,e,n){var r=n(150),o=n(8332),i=n(1284);o("toStringTag"),i(r("Symbol"),"Symbol")},3514:function(t,e,n){n(8332)("unscopables")},177:function(t,e,n){n(8332)("asyncDispose")},9031:function(t,e,n){n(8332)("dispose")},2725:function(t,e,n){var r=n(3085),o=n(150),i=n(4120),a=o("Symbol"),s=a.keyFor,c=i(a.prototype.valueOf);r({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==s(c(t))}catch(e){return!1}}})},1806:function(t,e,n){for(var r=n(3085),o=n(8717),i=n(150),a=n(4120),s=n(3236),c=n(8182),u=i("Symbol"),l=u.isWellKnown,f=i("Object","getOwnPropertyNames"),h=a(u.prototype.valueOf),d=o("wks"),p=0,v=f(u),g=v.length;p<g;p++)try{var m=v[p];s(u[m])&&c(m)}catch(y){}r({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(l&&l(t))return!0;try{for(var e=h(t),n=0,r=f(d),o=r.length;n<o;n++)if(d[r[n]]==e)return!0}catch(y){}return!1}})},6658:function(t,e,n){n(8332)("matcher")},4212:function(t,e,n){n(8332)("metadataKey")},1875:function(t,e,n){n(8332)("metadata")},8658:function(t,e,n){n(8332)("observable")},4592:function(t,e,n){n(8332)("patternMatch")},6680:function(t,e,n){n(8332)("replaceAll")},162:function(t,e,n){n(8939);var r=n(7365),o=n(8576),i=n(4696),a=n(8711),s=n(7771),c=n(8182)("toStringTag");for(var u in r){var l=o[u],f=l&&l.prototype;f&&i(f)!==c&&a(f,c,u),s[u]=s.Array}},7408:function(t,e,n){var r=n(3085),o=n(8576),i=n(3755)(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},683:function(t,e,n){var r=n(3085),o=n(8576),i=n(3755)(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},2906:function(t,e,n){n(7408),n(683)},7054:function(t,e,n){"use strict";n(8939);var r=n(3085),o=n(8576),i=n(8922),a=n(4120),s=n(69),c=n(8552),u=n(9362),l=n(4008),f=n(5090),h=n(1284),d=n(5695),p=n(3326),v=n(6961),g=n(6447),m=n(4500),y=n(8043),b=n(4696),_=n(1138),w=n(5744),x=n(4845),S=n(2853),C=n(774),O=n(1669),k=n(8703),M=n(7822),E=n(8182),j=n(6614),I=E("iterator"),A=p.set,T=p.getterFor("URLSearchParams"),P=p.getterFor("URLSearchParamsIterator"),D=Object.getOwnPropertyDescriptor,N=function(t){if(!s)return o[t];var e=D(o,t);return e&&e.value},L=N("fetch"),R=N("Request"),B=N("Headers"),z=R&&R.prototype,F=B&&B.prototype,H=o.RegExp,U=o.TypeError,W=o.decodeURIComponent,V=o.encodeURIComponent,Y=a("".charAt),G=a([].join),X=a([].push),Z=a("".replace),q=a([].shift),K=a([].splice),Q=a("".split),J=a("".slice),$=/\+/g,tt=Array(4),et=function(t){return tt[t-1]||(tt[t-1]=H("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return W(t)}catch(e){return t}},rt=function(t){var e=Z(t,$," "),n=4;try{return W(e)}catch(r){for(;n;)e=Z(e,et(n--),nt);return e}},ot=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},at=function(t){return it[t]},st=function(t){return Z(V(t),ot,at)},ct=d((function(t,e){A(this,{type:"URLSearchParamsIterator",iterator:O(T(t).entries),kind:e})}),"Iterator",(function(){var t=P(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Y(t,0)?J(t,1):t:x(t)))};ut.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,o,a,s,c,u=k(t);if(u)for(n=(e=O(t,u)).next;!(r=i(n,e)).done;){if(a=(o=O(_(r.value))).next,(s=i(a,o)).done||(c=i(a,o)).done||!i(a,o).done)throw U("Expected sequence with length 2");X(this.entries,{key:x(s.value),value:x(c.value)})}else for(var l in t)m(t,l)&&X(this.entries,{key:l,value:x(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=Q(t,"&"),o=0;o<r.length;)(e=r[o++]).length&&(n=Q(e,"="),X(this.entries,{key:rt(q(n)),value:rt(G(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],X(n,st(t.key)+"="+st(t.value));return G(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){v(this,ft);var t=arguments.length>0?arguments[0]:void 0,e=A(this,new ut(t));s||(this.length=e.entries.length)},ft=lt.prototype;if(f(ft,{append:function(t,e){M(arguments.length,2);var n=T(this);X(n.entries,{key:x(t),value:x(e)}),s||this.length++,n.updateURL()},delete:function(t){M(arguments.length,1);for(var e=T(this),n=e.entries,r=x(t),o=0;o<n.length;)n[o].key===r?K(n,o,1):o++;s||(this.length=n.length),e.updateURL()},get:function(t){M(arguments.length,1);for(var e=T(this).entries,n=x(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){M(arguments.length,1);for(var e=T(this).entries,n=x(t),r=[],o=0;o<e.length;o++)e[o].key===n&&X(r,e[o].value);return r},has:function(t){M(arguments.length,1);for(var e=T(this).entries,n=x(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){M(arguments.length,1);for(var n,r=T(this),o=r.entries,i=!1,a=x(t),c=x(e),u=0;u<o.length;u++)(n=o[u]).key===a&&(i?K(o,u--,1):(i=!0,n.value=c));i||X(o,{key:a,value:c}),s||(this.length=o.length),r.updateURL()},sort:function(){var t=T(this);j(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=T(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),u(ft,I,ft.entries,{name:"entries"}),u(ft,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),s&&l(ft,"size",{get:function(){return T(this).entries.length},configurable:!0,enumerable:!0}),h(lt,"URLSearchParams"),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:lt}),!c&&g(B)){var ht=a(F.has),dt=a(F.set),pt=function(t){if(w(t)){var e,n=t.body;if("URLSearchParams"===b(n))return e=t.headers?new B(t.headers):new B,ht(e,"content-type")||dt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(t,{body:C(0,x(n)),headers:C(0,e)})}return t};if(g(L)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?pt(arguments[1]):{})}}),g(R)){var vt=function(t){return v(this,z),new R(t,arguments.length>1?pt(arguments[1]):{})};z.constructor=vt,vt.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:lt,getState:T}},9336:function(t,e,n){n(7054)},7441:function(){},9856:function(t,e,n){var r=n(3085),o=n(150),i=n(6192),a=n(7822),s=n(4845),c=n(8552),u=o("URL");r({target:"URL",stat:!0,forced:!(c&&i((function(){u.canParse()})))},{canParse:function(t){var e=a(arguments.length,1),n=s(t),r=e<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return!!new u(n,r)}catch(o){return!1}}})},5352:function(t,e,n){"use strict";n(5454);var r,o=n(3085),i=n(69),a=n(8552),s=n(8576),c=n(8043),l=n(4120),f=n(9362),h=n(4008),d=n(6961),p=n(4500),v=n(2503),g=n(841),m=n(1923),y=n(863).codeAt,b=n(7977),_=n(4845),w=n(1284),x=n(7822),S=n(7054),C=n(3326),O=C.set,k=C.getterFor("URL"),M=S.URLSearchParams,E=S.getState,j=s.URL,I=s.TypeError,A=s.parseInt,T=Math.floor,P=Math.pow,D=l("".charAt),N=l(/./.exec),L=l([].join),R=l(1..toString),B=l([].pop),z=l([].push),F=l("".replace),H=l([].shift),U=l("".split),W=l("".slice),V=l("".toLowerCase),Y=l([].unshift),G=/[a-z]/i,X=/[\d+-.a-z]/i,Z=/\d/,q=/^0x/i,K=/^[0-7]+$/,Q=/^\d+$/,J=/^[\da-f]+$/i,$=/[\0\t\n\r #%/:<>?@[\\\]^|]/,tt=/[\0\t\n\r #/:<>?@[\\\]^|]/,et=/^[\u0000-\u0020]+/,nt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,rt=/[\t\n\r]/g,ot=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)Y(e,t%256),t=T(t/256);return L(e,".")}if("object"==u(t)){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=R(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},it={},at=v({},it,{" ":1,'"':1,"<":1,">":1,"`":1}),st=v({},at,{"#":1,"?":1,"{":1,"}":1}),ct=v({},st,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ut=function(t,e){var n=y(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},lt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var n;return 2==t.length&&N(G,D(t,0))&&(":"==(n=D(t,1))||!e&&"|"==n)},ht=function(t){var e;return t.length>1&&ft(W(t,0,2))&&(2==t.length||"/"===(e=D(t,2))||"\\"===e||"?"===e||"#"===e)},dt=function(t){return"."===t||"%2e"===V(t)},pt={},vt={},gt={},mt={},yt={},bt={},_t={},wt={},xt={},St={},Ct={},Ot={},kt={},Mt={},Et={},jt={},It={},At={},Tt={},Pt={},Dt={},Nt=function t(e,n,r){var o,i,a,s=_(e);if(n){if(i=this.parse(s))throw I(i);this.searchParams=null}else{if(void 0!==r&&(o=new t(r,!0)),i=this.parse(s,null,o))throw I(i);(a=E(new M)).bindURL(this),this.searchParams=a}};Nt.prototype={type:"URL",parse:function(t,e,n){var o,i,a,s,c,u=this,l=e||pt,f=0,h="",d=!1,v=!1,y=!1;for(t=_(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=F(t,et,""),t=F(t,nt,"$1")),t=F(t,rt,""),o=g(t);f<=o.length;){switch(i=o[f],l){case pt:if(!i||!N(G,i)){if(e)return"Invalid scheme";l=gt;continue}h+=V(i),l=vt;break;case vt:if(i&&(N(X,i)||"+"==i||"-"==i||"."==i))h+=V(i);else{if(":"!=i){if(e)return"Invalid scheme";h="",l=gt,f=0;continue}if(e&&(u.isSpecial()!=p(lt,h)||"file"==h&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=h,e)return void(u.isSpecial()&&lt[u.scheme]==u.port&&(u.port=null));h="","file"==u.scheme?l=Mt:u.isSpecial()&&n&&n.scheme==u.scheme?l=mt:u.isSpecial()?l=wt:"/"==o[f+1]?(l=yt,f++):(u.cannotBeABaseURL=!0,z(u.path,""),l=Tt)}break;case gt:if(!n||n.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=m(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Dt;break}l="file"==n.scheme?Mt:bt;continue;case mt:if("/"!=i||"/"!=o[f+1]){l=bt;continue}l=xt,f++;break;case yt:if("/"==i){l=St;break}l=At;continue;case bt:if(u.scheme=n.scheme,i==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())l=_t;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query="",l=Pt;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.path.length--,l=At;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query,u.fragment="",l=Dt}break;case _t:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=At;continue}l=St}else l=xt;break;case wt:if(l=xt,"/"!=i||"/"!=D(h,f+1))continue;f++;break;case xt:if("/"!=i&&"\\"!=i){l=St;continue}break;case St:if("@"==i){d&&(h="%40"+h),d=!0,a=g(h);for(var b=0;b<a.length;b++){var w=a[b];if(":"!=w||y){var x=ut(w,ct);y?u.password+=x:u.username+=x}else y=!0}h=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(d&&""==h)return"Invalid authority";f-=g(h).length+1,h="",l=Ct}else h+=i;break;case Ct:case Ot:if(e&&"file"==u.scheme){l=jt;continue}if(":"!=i||v){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==h)return"Invalid host";if(e&&""==h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h))return s;if(h="",l=It,e)return;continue}"["==i?v=!0:"]"==i&&(v=!1),h+=i}else{if(""==h)return"Invalid host";if(s=u.parseHost(h))return s;if(h="",l=kt,e==Ot)return}break;case kt:if(!N(Z,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||e){if(""!=h){var S=A(h,10);if(S>65535)return"Invalid port";u.port=u.isSpecial()&&S===lt[u.scheme]?null:S,h=""}if(e)return;l=It;continue}return"Invalid port"}h+=i;break;case Mt:if(u.scheme="file","/"==i||"\\"==i)l=Et;else{if(!n||"file"!=n.scheme){l=At;continue}if(i==r)u.host=n.host,u.path=m(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=m(n.path),u.query="",l=Pt;else{if("#"!=i){ht(L(m(o,f),""))||(u.host=n.host,u.path=m(n.path),u.shortenPath()),l=At;continue}u.host=n.host,u.path=m(n.path),u.query=n.query,u.fragment="",l=Dt}}break;case Et:if("/"==i||"\\"==i){l=jt;break}n&&"file"==n.scheme&&!ht(L(m(o,f),""))&&(ft(n.path[0],!0)?z(u.path,n.path[0]):u.host=n.host),l=At;continue;case jt:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&ft(h))l=At;else if(""==h){if(u.host="",e)return;l=It}else{if(s=u.parseHost(h))return s;if("localhost"==u.host&&(u.host=""),e)return;h="",l=It}continue}h+=i;break;case It:if(u.isSpecial()){if(l=At,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=r&&(l=At,"/"!=i))continue}else u.fragment="",l=Dt;else u.query="",l=Pt;break;case At:if(i==r||"/"==i||"\\"==i&&u.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(c=V(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||z(u.path,"")):dt(h)?"/"==i||"\\"==i&&u.isSpecial()||z(u.path,""):("file"==u.scheme&&!u.path.length&&ft(h)&&(u.host&&(u.host=""),h=D(h,0)+":"),z(u.path,h)),h="","file"==u.scheme&&(i==r||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)H(u.path);"?"==i?(u.query="",l=Pt):"#"==i&&(u.fragment="",l=Dt)}else h+=ut(i,st);break;case Tt:"?"==i?(u.query="",l=Pt):"#"==i?(u.fragment="",l=Dt):i!=r&&(u.path[0]+=ut(i,it));break;case Pt:e||"#"!=i?i!=r&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":ut(i,it)):(u.fragment="",l=Dt);break;case Dt:i!=r&&(u.fragment+=ut(i,at))}f++}},parseHost:function(t){var e,n,r;if("["==D(t,0)){if("]"!=D(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return D(t,f)};if(":"==h()){if(":"!=D(t,1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&N(J,h());)e=16*e+A(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;f++}if(!N(Z,h()))return;for(;N(Z,h());){if(i=A(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(W(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=b(t),N($,t))return"Invalid host";if(null===(e=function(t){var e,n,r,o,i,a,s,c=U(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==D(o,0)&&(i=N(q,o)?16:8,o=W(o,8==i?1:2)),""===o)a=0;else{if(!N(10==i?Q:8==i?K:J,o))return t;a=A(o,i)}z(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=P(256,5-e))return null}else if(a>255)return null;for(s=B(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s}(t)))return"Invalid host";this.host=e}else{if(N(tt,t))return"Invalid host";for(e="",n=g(t),r=0;r<n.length;r++)e+=ut(n[r],it);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(lt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",t.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ot(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+L(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw I(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Lt(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_(t)+":",pt)},getUsername:function(){return this.username},setUsername:function(t){var e=g(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ut(e[n],ct)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ut(e[n],ct)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ct)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getPort:function(){var t=this.port;return null===t?"":_(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=_(t))?this.port=null:this.parse(t,kt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,It))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=_(t))?this.query=null:("?"==D(t,0)&&(t=W(t,1)),this.query="",this.parse(t,Pt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=_(t))?("#"==D(t,0)&&(t=W(t,1)),this.fragment="",this.parse(t,Dt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Lt=function(t){var e=d(this,Rt),n=x(arguments.length,1)>1?arguments[1]:void 0,r=O(e,new Nt(t,!1,n));i||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Rt=Lt.prototype,Bt=function(t,e){return{get:function(){return k(this)[t]()},set:e&&function(t){return k(this)[e](t)},configurable:!0,enumerable:!0}};if(i&&(h(Rt,"href",Bt("serialize","setHref")),h(Rt,"origin",Bt("getOrigin")),h(Rt,"protocol",Bt("getProtocol","setProtocol")),h(Rt,"username",Bt("getUsername","setUsername")),h(Rt,"password",Bt("getPassword","setPassword")),h(Rt,"host",Bt("getHost","setHost")),h(Rt,"hostname",Bt("getHostname","setHostname")),h(Rt,"port",Bt("getPort","setPort")),h(Rt,"pathname",Bt("getPathname","setPathname")),h(Rt,"search",Bt("getSearch","setSearch")),h(Rt,"searchParams",Bt("getSearchParams")),h(Rt,"hash",Bt("getHash","setHash"))),f(Rt,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),f(Rt,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),j){var zt=j.createObjectURL,Ft=j.revokeObjectURL;zt&&f(Lt,"createObjectURL",c(zt,j)),Ft&&f(Lt,"revokeObjectURL",c(Ft,j))}w(Lt,"URL"),o({global:!0,constructor:!0,forced:!a,sham:!i},{URL:Lt})},4948:function(t,e,n){n(5352)},9801:function(){},3822:function(t,e,n){var r=n(2221);t.exports=r},1434:function(t,e,n){var r=n(5078);t.exports=r},6899:function(t,e,n){var r=n(98);t.exports=r},7710:function(t,e,n){var r=n(5739);n(162),t.exports=r},4486:function(t,e,n){var r=n(278);t.exports=r},4877:function(t,e,n){var r=n(1484);t.exports=r},7178:function(t,e,n){var r=n(7731);t.exports=r},5603:function(t,e,n){var r=n(3669);t.exports=r},1206:function(t,e,n){n(162);var r=n(4696),o=n(4500),i=n(8902),a=n(6899),s=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===s||i(s,t)&&e===s.forEach||o(c,r(t))?a:e}},6174:function(t,e,n){var r=n(2604);t.exports=r},57:function(t,e,n){var r=n(263);t.exports=r},2926:function(t,e,n){var r=n(3590);t.exports=r},4741:function(t,e,n){var r=n(7663);t.exports=r},8368:function(t,e,n){var r=n(5063);t.exports=r},3739:function(t,e,n){var r=n(6813);t.exports=r},172:function(t,e,n){var r=n(6285);t.exports=r},4963:function(t,e,n){var r=n(3213);t.exports=r},7820:function(t,e,n){var r=n(3512);t.exports=r},8980:function(t,e,n){var r=n(8168);t.exports=r},5636:function(t,e,n){var r=n(8651);t.exports=r},6672:function(t,e,n){var r=n(3083);t.exports=r},5059:function(t,e,n){var r=n(2987);t.exports=r},3969:function(t,e,n){var r=n(2239);t.exports=r},6618:function(t,e,n){var r=n(3154);n(162),t.exports=r},5279:function(t,e,n){var r=n(6577);t.exports=r},9562:function(t,e,n){n(2906);var r=n(7545);t.exports=r.setTimeout},2285:function(t,e,n){var r=n(5008);n(162),t.exports=r},8535:function(t,e,n){var r=n(994);n(162),t.exports=r},6042:function(t,e,n){var r=n(290);t.exports=r},652:function(t,e,n){var r=n(5668);t.exports=r},5668:function(t,e,n){n(4948),n(9856),n(9801),n(9336),n(7441);var r=n(7545);t.exports=r.URL},4858:function(t){"use strict";t.exports=e},4960:function(){},6759:function(){},6272:function(){},7456:function(t,e,n){t.exports=n(4486)},192:function(t,e,n){t.exports=n(4877)},9805:function(t,e,n){t.exports=n(7178)},453:function(t,e,n){t.exports=n(5603)},1463:function(t,e,n){t.exports=n(1206)},3188:function(t,e,n){t.exports=n(6174)},4903:function(t,e,n){t.exports=n(57)},1488:function(t,e,n){t.exports=n(4741)},3963:function(t,e,n){t.exports=n(8368)},6087:function(t,e,n){t.exports=n(3739)},934:function(t,e,n){t.exports=n(172)},4644:function(t,e,n){t.exports=n(4963)},7961:function(t,e,n){t.exports=n(7820)},2921:function(t,e,n){t.exports=n(5636)},1092:function(t,e,n){t.exports=n(5059)},9521:function(t,e,n){t.exports=n(3969)},2583:function(t,e,n){t.exports=n(6618)},3662:function(t,e,n){t.exports=n(5279)},3305:function(t,e,n){t.exports=n(9562)},6736:function(t,e,n){t.exports=n(652)}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}};return n[t].call(r.exports,r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"===("undefined"===typeof globalThis?"undefined":u(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===("undefined"===typeof window?"undefined":u(window)))return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var a={};return function(){"use strict";i.d(a,{default:function(){return Bs}});var t=i(6087),e=i.n(t),n=i(3188),r=i.n(n),o=i(3963),s=i.n(o),c=i(7961),u=i.n(c),l=i(1488),f=i.n(l),h=i(4644),d=i.n(h),p=i(3305),v=i.n(p);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var n=t.Element.prototype,o=Object,i=e()(String.prototype)||function(){return this.replace(/^\s+|\s+$/g,"")},a=r()(Array.prototype)||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},f=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},h=f.prototype=[],d=function(){return new f(this)};if(c.prototype=Error.prototype,h.item=function(t){return this[t]||null},h.contains=function(t){return~l(this,t+"")},h.add=function(){var t,e=arguments,n=0,r=e.length,o=!1;do{t=e[n]+"",~l(this,t)||(this.push(t),o=!0)}while(++n<r);o&&this._updateClassName()},h.remove=function(){var t,e,n=arguments,r=0,o=n.length,i=!1;do{for(t=n[r]+"",e=l(this,t);~e;){var a;s()(a=this).call(a,e,1),i=!0,e=l(this,t)}}while(++r<o);i&&this._updateClassName()},h.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},h.replace=function(t,e){var n,r=l(t+"");~r&&(s()(n=this).call(n,r,1,e),this._updateClassName())},h.toString=function(){return this.join(" ")},u()){var p={get:d,enumerable:!0,configurable:!0};try{u()(n,"classList",p)}catch(v){void 0!==v.number&&-2146823252!==v.number||(p.enumerable=!1,u()(n,"classList",p))}}else o.prototype.__defineGetter__&&n.__defineGetter__("classList",d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)===!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),o=r()(n).call(n,t+"");~o&&(n=f()(n).call(n,o),this.remove.apply(this,n),this.add(e),this.add.apply(this,f()(n).call(n,1)))}),t=null}()),function(){if("undefined"!==typeof window&&window.addEventListener){var t,e,n,r=d()(null),o=function(){clearTimeout(e),e=v()(t,100)},i=function(){},a=function(t){function e(t){var e;return void 0!==t.protocol?e=t:(e=document.createElement("a")).href=t,e.protocol.replace(/:/g,"")+e.host}var n,r,o;return window.XMLHttpRequest&&(n=new XMLHttpRequest,r=e(location),o=e(t),n=void 0===n.withCredentials&&""!==o&&o!==r?XDomainRequest||void 0:XMLHttpRequest),n},s="http://www.w3.org/1999/xlink";t=function(){var t,e,n,c,u,l,f,h,d,p,g=0;function m(){0===(g-=1)&&(i(),function(){var t;window.addEventListener("resize",o,!1),window.addEventListener("orientationchange",o,!1),window.MutationObserver?((t=new MutationObserver(o)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),i=function(){try{t.disconnect(),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",o,!1),i=function(){document.documentElement.removeEventListener("DOMSubtreeModified",o,!1),window.removeEventListener("resize",o,!1),window.removeEventListener("orientationchange",o,!1)})}())}function y(t){return function(){!0!==r[t.base]&&(t.useEl.setAttributeNS(s,"xlink:href","#"+t.hash),t.useEl.hasAttribute("href")&&t.useEl.setAttribute("href","#"+t.hash))}}function b(t){return function(){var e,n=document.body,r=document.createElement("x");t.onload=null,r.innerHTML=t.responseText,(e=r.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",n.insertBefore(e,n.firstChild)),m()}}function _(t){return function(){t.onerror=null,t.ontimeout=null,m()}}for(i(),d=document.getElementsByTagName("use"),u=0;u<d.length;u+=1){try{e=d[u].getBoundingClientRect()}catch(w){e=!1}t=(h=(c=d[u].getAttribute("href")||d[u].getAttributeNS(s,"href")||d[u].getAttribute("xlink:href"))&&c.split?c.split("#"):["",""])[0],n=h[1],l=e&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom,e&&0===e.width&&0===e.height&&!l?(d[u].hasAttribute("href")&&d[u].setAttributeNS(s,"xlink:href",c),t.length&&(!0!==(p=r[t])&&v()(y({useEl:d[u],base:t,hash:n}),0),void 0===p&&void 0!==(f=a(t))&&(p=new f,r[t]=p,p.onload=b(p),p.onerror=_(p),p.ontimeout=_(p),p.open("GET",t),p.send(),g+=1))):l?t.length&&r[t]&&v()(y({useEl:d[u],base:t,hash:n}),0):void 0===r[t]?r[t]=!0:r[t].onload&&(r[t].abort(),delete r[t].onload,r[t]=!0)}d="",g+=1,m()},n=function(){window.removeEventListener("load",n,!1),e=v()(t,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}();var g=i(8541);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=i(2185),b=i(7020),_=i(2708),w=i(1626);function x(t,e){var n;if(t){if("string"===typeof t)return m(t,e);var r=w(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?_(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function S(t){return function(t){if(g(t))return m(t)}(t)||function(t){if("undefined"!==typeof y&&null!=b(t)||null!=t["@@iterator"])return _(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=i(229),O=i(9982);function k(t){return(k="function"==typeof y&&"symbol"==typeof O?function(t){return typeof t}:function(t){return t&&"function"==typeof y&&t.constructor===y&&t!==y.prototype?"symbol":typeof t})(t)}var M=i(8241);function E(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[M];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===k(e)?e:String(e)}function j(t,e,n){return(e=E(e))in t?C(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),C(t,E(r.key),r)}}function T(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),C(t,"prototype",{writable:!1}),t}var P=i(7456),D=i.n(P),N=i(192),L=i.n(N),R=i(2583),B=i.n(R),z=i(6736),F=i.n(z),H=i(2777),U=i(961),W=i.n(U),V=i(1603),Y=i.n(V),G=i(8592),X=i.n(G),Z=i(9052),q=i.n(Z),K=i(2560),Q=i.n(K),J=i(2921),$=i.n(J),tt=i(2607);function et(t,e){return function(t){if(g(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof y&&b(t)||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(tt(s).call(s,r.value),s.length!==e);c=!0);}catch(l){u=!0,o=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||x(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nt,rt=i(9521),ot=i.n(rt),it=i(1463),at=i.n(it),st=i(9805),ct=i.n(st),ut=i(4729),lt=i.n(ut),ft=i(1610),ht=i.n(ft),dt=i(3053),pt=i.n(dt),vt=["zoomIn","zoomOut","hand"],gt=["history","undo","redo","reset"],mt=L()(nt=[]).call(nt,gt),yt="filter",bt="color",_t=["rect","circle","triangle"],wt="cropzone",xt="vintage",St="sepia2",Ct="removeColor",Ot="colorFilter",kt="removeWhite",Mt="blendColor",Et="blend",jt=Fn("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),It={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},At="clearObjects",Tt="loadImage",Pt="flip",Dt="rotate",Nt="addObject",Lt="removeObject",Rt="applyFilter",Bt="removeFilter",zt="addIcon",Ft="changeIconColor",Ht="addShape",Ut="changeShape",Wt="addText",Vt="changeText",Yt="changeTextStyle",Gt="addImageObject",Xt="resizeCanvasDimension",Zt="setObjectProperties",qt="setObjectPosition",Kt="changeSelection",Qt="resize",Jt="objectActivated",$t="objectMoved",te="objectScaled",ee="objectRotated",ne="objectAdded",re="objectModified",oe="textEditing",ie="textChanged",ae="iconCreateResize",se="iconCreateEnd",ce="addText",ue="addObject",le="addObjectAfter",fe="mousedown",he="redoStackChanged",de="undoStackChanged",pe="selectionCleared",ve="selectionCreated",ge="executeCommand",me="afterUndo",ye="afterRedo",be="zoomChanged",_e="handStarted",we="handStopped",xe="keydown",Se="keyup",Ce="inputBoxEditingStarted",Oe="inputBoxEditingStopped",ke="focus",Me="blur",Ee=".tui-colorpicker-palette-hex",je="Load",Ie="Mask",Ae="Mask",Te="Crop",Pe="Resize",De="Filter",Ne="Filter",Le="Shape",Re="Icon",Be="Text",ze="Text",Fe="Delete",He="Delete",Ue=Fn("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),We="text",Ve="crop",Ye="resize",Ge="shape",Xe="zoom",Ze="normal",qe="zoom",Ke="hand",Qe=90,Je=89,$e=67,tn=86,en=16,nn=46,rn=40,on=38,an=32,sn=48,cn=57,un={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},ln="The object is already added.",fn="The flipX and flipY setting values are not changed.",hn="Invalid parameters.",dn="The executing command state is locked.",pn="The background image is empty.",vn="Invalid image loaded.",gn="The object is not in canvas.",mn="The promise of redo command is reject.",yn="The promise of undo command is reject.",bn="Unsupported operation.",_n="Unsupported object type.",wn={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},xn={realTimeEvent:!0,min:-360,max:360,value:0},Sn={min:5,max:30,value:12},Cn={realTimeEvent:!0,min:2,max:300,value:3},On={realTimeEvent:!0,min:10,max:100,value:24},kn={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},Mn=0,En=0,jn=.5,In=.5,An={realTimeEvent:!0,min:32},Tn="tui-image-editor-",Pn=Math.min,Dn=Math.max,Nn=!1,Ln=0;function Rn(t){return t.__fe_id||(Ln+=1,t.__fe_id=Ln),t.__fe_id}function Bn(t){return"function"===typeof t}function zn(t,e,n){if(e>n){var r=[n,e];e=r[0],n=r[1]}return Dn(e,Pn(t,n))}function Fn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return X()(n,(function(e){t[e]=e})),t}function Hn(t,e){var n,r={},o=e.length,i=0;for(i=0;i<o;i+=1)r[n=e[i]]=t[n];return r}function Un(t){return ot()(t,10)}function Wn(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()}))}function Vn(){return!!(window.File&&window.FileList&&window.FileReader)}function Yn(t,e){var n,r,o,i;4===t.length&&(t=L()(i="".concat(t)).call(i,f()(t).call(t,1,4)));var a=ot()(f()(t).call(t,1,3),16),s=ot()(f()(t).call(t,3,5),16),c=ot()(f()(t).call(t,5,7),16),u=e||1;return L()(n=L()(r=L()(o="rgba(".concat(a,", ")).call(o,s,", ")).call(r,c,", ")).call(n,u,")")}function Gn(t){X()(t,(function(e,n){t[n]=null}))}function Xn(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===n.charAt(0)?L()(e=".".concat(Tn).concat(r)).call(e,f()(n).call(n,1)):L()(t="".concat(Tn).concat(r)).call(t,n)}function Zn(t,e){t.customProps=t.customProps||{},W()(t.customProps,e)}function qn(t,e){var n={};return Q()(e)&&(e=[e]),X()(e,(function(e){n[e]=t.customProps[e]})),n}function Kn(t,e){return r()(t).call(t,e)>=0}function Qn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ht()(t,"type")||bt}function Jn(t){var e=ct()(t);return(void 0===e?{}:e).source?yt:bt}function $n(t){return pt()(t.get("type"),_t)>=0}function tr(t){if(Kn(_t,t))return"Shape";switch(t){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return nr(t)}}function er(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useAlpha,o=void 0===r||r,i=n.mode,a=xt,s=Ct,c=Mt,u=St,l=Ot,f=kt,h=Et;switch(t){case a:e=u;break;case s:e=o?l:f;break;case c:e="add"===i?h:i;break;default:e=t}return nr(e)}function nr(t){return t.replace(/[a-z]/,(function(t){return t.toUpperCase()}))}var rr=Fn("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),or="Should implement a method: ",ir="Should set a component name",ar={UN_IMPLEMENTATION:function(t){return or+t},NO_COMPONENT_NAME:function(){return ir}},sr={types:W()({},rr),create:function(t){t=t.toLowerCase();for(var e=ar[t],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.apply(void 0,r)}},cr=sr.create,ur=sr.types,lr=function(){function t(e,n){I(this,t),this.name=e.name,this.args=n,this.execute=e.execute,this.undo=e.undo,this.executeCallback=e.executeCallback||null,this.undoCallback=e.undoCallback||null,this.undoData={}}return T(t,[{key:"execute",value:function(){throw new Error(cr(ur.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(cr(ur.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return $()(this.undoData).length>0}},{key:"setUndoData",value:function(t,e,n){return e&&(t=e),n?e||(e=t):(W()(this.undoData,t),e=null),e}},{key:"setExecuteCallback",value:function(t){return this.executeCallback=t,this}},{key:"setUndoCallback",value:function(t){return this.undoCallback=t,this}}]),t}(),fr={},hr={create:function(t){var e=fr[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new lr(e,r)}return null},register:function(t){fr[t.name]=t}},dr=function(){function t(){I(this,t),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return T(t,[{key:"_invokeExecution",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var r=t.args;return r||(r=[]),t.execute.apply(t,S(r)).then((function(r){return e._isSilent||(e.pushUndoStack(t),e.fire(n?ye:ge,t)),e.unlock(),Bn(t.executeCallback)&&t.executeCallback(r),r})).catch((function(t){return e.unlock(),B().reject(t)}))}},{key:"_invokeUndo",value:function(t){var e=this;this.lock();var n=t.args;return n||(n=[]),t.undo.apply(t,S(n)).then((function(n){return e.pushRedoStack(t),e.fire(me,t),e.unlock(),Bn(t.undoCallback)&&t.undoCallback(n),n})).catch((function(t){return e.unlock(),B().reject(t)}))}},{key:"_fireRedoStackChanged",value:function(){this.fire(he,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(de,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var t=this;this._isSilent=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.execute.apply(this,L()(n).call(n,[this._isSilent])).then((function(){t._isSilent=!1}))}},{key:"execute",value:function(){var t=this;if(this._isLocked)return B().reject(dn);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];return Q()(o)&&(o=hr.create.apply(hr,n)),this._invokeExecution(o).then((function(e){return t.clearRedoStack(),e}))}},{key:"undo",value:function(){var t,e,n=this._undoStack.pop(),r="";(n&&this._isLocked&&(this.pushUndoStack(n,!0),n=null),n)?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),t=this._invokeUndo(n)):(r=yn,this._isLocked&&(r=L()(e="".concat(r," Because ")).call(e,dn)),t=B().reject(r));return t}},{key:"redo",value:function(){var t,e,n=this._redoStack.pop(),r="";(n&&this._isLocked&&(this.pushRedoStack(n,!0),n=null),n)?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),t=this._invokeExecution(n,!0)):(r=mn,this._isLocked&&(r=L()(e="".concat(r," Because ")).call(e,dn)),t=B().reject(r));return t}},{key:"pushUndoStack",value:function(t,e){this._undoStack.push(t),e||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(t,e){this._redoStack.push(t),e||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),t}();q().mixin(dr);var pr=dr,vr=i(1092),gr=i.n(vr),mr=i(4903),yr=i.n(mr),br={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},_r=function(){function t(e){I(this,t),this.styles=this._changeToObject(W()({},br,e)),function(t,e){var n=et(document.getElementsByTagName("head"),1)[0],r=document.createElement("link"),o=encodeURIComponent(t);e&&(r.id=e),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","data:text/css;charset=UTF-8,".concat(o)),n.appendChild(r)}(this._styleMaker()),this._loadDefaultSvgIcon()}return T(t,[{key:"getStyle",value:function(t){var e=null,n=t.replace(/\..+$/,""),r=this.styles[t];switch(t){case"common.bi":e=this.styles[t].image;break;case"menu.icon":e={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")],hover:this.styles["".concat(n,".hoverIcon")],disabled:this.styles["".concat(n,".disabledIcon")]};break;case"submenu.icon":e={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")]};break;case"submenu.label":e={active:this._makeCssText(this.styles["".concat(n,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(n,".normalLabel")])};break;case"submenu.partition":e={vertical:this._makeCssText(W()({},r,{borderLeft:"1px solid ".concat(r.color)})),horizontal:this._makeCssText(W()({},r,{borderBottom:"1px solid ".concat(r.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":r.backgroundColor=r.color,e=this._makeCssText(r);break;default:e=this._makeCssText(r)}return e}},{key:"_styleMaker",value:function(){var t=this.getStyle("submenu.label"),e=this.getStyle("submenu.partition");return function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x,S,C,O,k,M,E,j,I=t.subMenuLabelActive,A=t.subMenuLabelNormal,T=t.subMenuRangeTitle,P=t.submenuPartitionVertical,D=t.submenuPartitionHorizontal,N=t.submenuCheckbox,R=t.submenuRangePointer,B=t.submenuRangeValue,z=t.submenuColorpickerTitle,F=t.submenuColorpickerButton,H=t.submenuRangeBar,U=t.submenuRangeSubbar,W=t.submenuDisabledRangePointer,V=t.submenuDisabledRangeBar,Y=t.submenuDisabledRangeSubbar,G=t.submenuIconSize,X=t.menuIconSize,Z=t.biSize,q=t.menuIconStyle,K=t.submenuIconStyle;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c=L()(u=L()(l=L()(f=L()(h=L()(d=L()(p=L()(v=L()(g=L()(m=L()(y=L()(b=L()(_=L()(w=L()(x=L()(S=L()(C=L()(O=L()(k=L()(M=L()(E=L()(j='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(I,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(j,A,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(E,T,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(M,P,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(k,D,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(O,N,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(C,R,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(S,H,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(x,U,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(w,W,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(_,Y,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(b,V,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(y,B,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(m,z,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(g,F,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(v,X,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(p,G,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(d,Z,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(h,q.normal.color,";\n        stroke: ")).call(f,q.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,q.active.color,";\n        stroke: ")).call(u,q.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(c,q.hover.color,";\n        stroke: ")).call(s,q.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(a,q.disabled.color,";\n        stroke: ")).call(i,q.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(o,K.normal.color,";\n        stroke: ")).call(r,K.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(n,K.active.color,";\n        stroke: ")).call(e,K.active.color,";\n    }\n")}({subMenuLabelActive:t.active,subMenuLabelNormal:t.normal,submenuPartitionVertical:e.vertical,submenuPartitionHorizontal:e.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(t){var e={};return X()(t,(function(t,n){var r=et(n.match(/^(.+)\.([a-z]+)$/i),3),o=r[1],i=r[2];e[o]||(e[o]={}),e[o][i]=t})),e}},{key:"_makeCssText",value:function(t){var e=this,n=[];return X()(t,(function(t,o){var i,a;r()(i=["backgroundImage"]).call(i,o)>-1&&"none"!==t&&(t="url(".concat(t,")")),n.push(L()(a="".concat(e._toUnderScore(o),": ")).call(a,t))})),n.join(";")}},{key:"_toUnderScore",value:function(t){return t.replace(/([A-Z])/g,(function(t,e){return"-".concat(e.toLowerCase())}))}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var t=new DOMParser,e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGRpc3BsYXk9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPg0KPHN5bWJvbCBpZD0iaWMtYXBwbHkiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWNhbmNlbCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik02IDZsMTIgMTJNMTggNkw2IDE4Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiAvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTQgMGgxdjIwYTEgMSAwIDAgMS0xLTFWMHpNMjAgMTdoLTFWNWgxdjEyem0wIDJ2NWgtMXYtNWgxeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+DQo8L3N5bWJvbD4NCjwhLS0gVGhpcyBpY29uIG1hZGUgYnkgUGl4ZWwgcGVyZmVjdCBmcm9tIHd3dy5mbGF0aWNvbi5jb20gLS0+DQo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguOTg4MjgxIDMuMDExNzE5IEMgMTguODAwNzgxIDIuODI0MjE5IDE4LjUgMi44MjQyMTkgMTguMzEyNSAzLjAxMTcxOSBMIDExLjYyMTA5NCA5LjcwNzAzMSBDIDExLjQyOTY4OCA5Ljg5NDUzMSAxMS40Mjk2ODggMTAuMTk1MzEyIDExLjYyMTA5NCAxMC4zNzg5MDYgQyAxMS43MTA5MzggMTAuNDcyNjU2IDExLjgzNTkzOCAxMC41MTk1MzEgMTEuOTU3MDMxIDEwLjUxOTUzMSBDIDEyLjA3ODEyNSAxMC41MTk1MzEgMTIuMjAzMTI1IDEwLjQ3MjY1NiAxMi4yOTI5NjkgMTAuMzc4OTA2IEwgMTguOTg4MjgxIDMuNjg3NSBDIDE5LjE3NTc4MSAzLjUgMTkuMTc1NzgxIDMuMTk5MjE5IDE4Ljk4ODI4MSAzLjAxMTcxOSBaIE0gMTguOTg4MjgxIDMuMDExNzE5ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4NCiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4LjY1MjM0NCAyLjg2NzE4OCBMIDEyLjkxNDA2MiAyLjg2NzE4OCBDIDEyLjY1MjM0NCAyLjg2NzE4OCAxMi40Mzc1IDMuMDgyMDMxIDEyLjQzNzUgMy4zNDc2NTYgQyAxMi40Mzc1IDMuNjEzMjgxIDEyLjY1MjM0NCAzLjgyODEyNSAxMi45MTQwNjIgMy44MjgxMjUgTCAxOC42NTIzNDQgMy44MjgxMjUgQyAxOC45MTc5NjkgMy44MjgxMjUgMTkuMTMyODEyIDMuNjEzMjgxIDE5LjEzMjgxMiAzLjM0NzY1NiBDIDE5LjEzMjgxMiAzLjA4MjAzMSAxOC45MTc5NjkgMi44NjcxODggMTguNjUyMzQ0IDIuODY3MTg4IFogTSAxOC42NTIzNDQgMi44NjcxODggIi8+DQogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAxMC4zNzg5MDYgMTEuNjIxMDk0IEMgMTAuMTk1MzEyIDExLjQzMzU5NCA5Ljg5MDYyNSAxMS40MzM1OTQgOS43MDMxMjUgMTEuNjIxMDk0IEwgMy4wMDc4MTIgMTguMzE2NDA2IEMgMi44MjAzMTIgMTguNSAyLjgyMDMxMiAxOC44MDQ2ODggMy4wMDc4MTIgMTguOTkyMTg4IEMgMy4xMDU0NjkgMTkuMDg1OTM4IDMuMjI2NTYyIDE5LjEzMjgxMiAzLjM0NzY1NiAxOS4xMzI4MTIgQyAzLjQ2ODc1IDE5LjEzMjgxMiAzLjU4OTg0NCAxOS4wODU5MzggMy42ODM1OTQgMTguOTkyMTg4IEwgMTAuMzc4OTA2IDEyLjI5Njg3NSBDIDEwLjU2NjQwNiAxMi4xMDkzNzUgMTAuNTY2NDA2IDExLjgwNDY4OCAxMC4zNzg5MDYgMTEuNjIxMDk0IFogTSAxMC4zNzg5MDYgMTEuNjIxMDk0ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gOS4wODU5MzggMTguMTcxODc1IEwgMy4zNDc2NTYgMTguMTcxODc1IEMgMy4wODIwMzEgMTguMTcxODc1IDIuODY3MTg4IDE4LjM4NjcxOSAyLjg2NzE4OCAxOC42NTIzNDQgQyAyLjg2NzE4OCAxOC45MTc5NjkgMy4wODIwMzEgMTkuMTMyODEyIDMuMzQ3NjU2IDE5LjEzMjgxMiBMIDkuMDg1OTM4IDE5LjEzMjgxMiBDIDkuMzQ3NjU2IDE5LjEzMjgxMiA5LjU2MjUgMTguOTE3OTY5IDkuNTYyNSAxOC42NTIzNDQgQyA5LjU2MjUgMTguMzg2NzE5IDkuMzQ3NjU2IDE4LjE3MTg3NSA5LjA4NTkzOCAxOC4xNzE4NzUgWiBNIDkuMDg1OTM4IDE4LjE3MTg3NSAiLz4NCiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDIwLjU2MjUgMCBMIDEuNDM3NSAwIEMgMC42NDQ1MzEgMCAwIDAuNjQ0NTMxIDAgMS40Mzc1IEwgMCAyMC41NjI1IEMgMCAyMS4zNTU0NjkgMC42NDQ1MzEgMjIgMS40Mzc1IDIyIEwgMjAuNTYyNSAyMiBDIDIxLjM1NTQ2OSAyMiAyMiAyMS4zNTU0NjkgMjIgMjAuNTYyNSBMIDIyIDEuNDM3NSBDIDIyIDAuNjQ0NTMxIDIxLjM1NTQ2OSAwIDIwLjU2MjUgMCBaIE0gMjEuMDQyOTY5IDIwLjU2MjUgQyAyMS4wNDI5NjkgMjAuODI4MTI1IDIwLjgyODEyNSAyMS4wNDI5NjkgMjAuNTYyNSAyMS4wNDI5NjkgTCAxLjQzNzUgMjEuMDQyOTY5IEMgMS4xNzE4NzUgMjEuMDQyOTY5IDAuOTU3MDMxIDIwLjgyODEyNSAwLjk1NzAzMSAyMC41NjI1IEwgMC45NTcwMzEgMS40Mzc1IEMgMC45NTcwMzEgMS4xNzE4NzUgMS4xNzE4NzUgMC45NTcwMzEgMS40Mzc1IDAuOTU3MDMxIEwgMjAuNTYyNSAwLjk1NzAzMSBDIDIwLjgyODEyNSAwLjk1NzAzMSAyMS4wNDI5NjkgMS4xNzE4NzUgMjEuMDQyOTY5IDEuNDM3NSBaIE0gMjEuMDQyOTY5IDIwLjU2MjUgIi8+DQo8L3N5bWJvbD4NCjwhLS0gIC0tPg0KPHN5bWJvbCBpZD0iaWMtZGVsZXRlLWFsbCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMCAzaDIzdjFIMHpNMTEuMjg2IDIxSDguNzE0TDggMjNIN2wxLTIuOFYyMGguMDcxTDkuNSAxNmgxbDEuNDI5IDRIMTJ2LjJsMSAyLjhoLTFsLS43MTQtMnptLS4zNTctMUwxMCAxNy40IDkuMDcxIDIwaDEuODU4ek0yMCAyMmgzdjFoLTR2LTdoMXY2em0tNSAwaDN2MWgtNHYtN2gxdjZ6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0zIDZ2MTZoMTdWNmgxdjE2YTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xVjZoMXpNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMCAzaDIzdjFIMHpNOCAxMGgxdjZIOHYtNnptMyAwaDF2NmgtMXYtNnptMyAwaDF2NmgtMXYtNnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZHJhdy1mcmVlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMC45MjlDMi41OTQgMTAuOTc2IDQuMzIzIDYgNy42ODYgNmM1Ljg3MiAwIDIuNTI0IDE5IDcuNjk3IDE5czEuODktMTQuOTI5IDYuNDE0LTE0LjkyOSAxLjM1NyAxMC44NTggNS4xMyAxMC44NThjMS44MDIgMCAyLjY1Ny0yLjI2MiAyLjU2Ni02Ljc4NiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1kcmF3LWxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMiAxNS41aDI4Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMi41IDIxLjVINWMuMjQ1IDAgLjQ4LS4wNTguNjkxLS4xNjhsLjEyNC0uMDY1LjE0LjAxYy40MjkuMDI4Ljg1LS4xMjcgMS4xNi0uNDM3TDIyLjU1IDUuNDA1YS41LjUgMCAwIDAgMC0uNzA3bC0zLjI0Ni0zLjI0NWEuNS41IDAgMCAwLS43MDcgMEwzLjE2MiAxNi44ODhhMS40OTUgMS40OTUgMCAwIDAtLjQzNyAxLjE1NWwuMDEuMTQtLjA2NS4xMjNjLS4xMTEuMjEyLS4xNy40NDgtLjE3LjY5NHYyLjV6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xMiA3djFIMlY3aDEwem02IDBoNHYxaC00Vjd6TTEyIDE2djFoMTB2LTFIMTJ6bS02IDBIMnYxaDR2LTF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNOC41IDIwYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6TTE1LjUgMTFhMy41IDMuNSAwIDEgMSAwLTcgMy41IDMuNSAwIDAgMSAwIDd6bTAtMWEyLjUgMi41IDAgMSAwIDAtNSAyLjUgMi41IDAgMCAwIDAgNXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZmxpcC1yZXNldCIgdmlld0JveD0iMCAwIDMxIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMSAwSDB2MzJoMzF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMjQgNWwzLjUgMy41TDI0IDEyTTcgMjBsLTMuNSAzLjVMNyAyNyIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzIgMzJIMFYwaDMyeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE3IDMyaC0xVjBoMXpNMjcuMTY3IDExbC41IDNoLTEuMDNsLS41NDYtM2gxLjA3NnptLS41LTNoLTEuMTIyTDI1IDVoLTVWNGg1LjE1M2ExIDEgMCAwIDEgLjk4Ni44MzZMMjYuNjY3IDh6bTEuNSA5bC41IDNoLS45NGwtLjU0NS0zaC45ODV6bTEgNmwuNjM5IDMuODM2QTEgMSAwIDAgMSAyOC44MTkgMjhIMjZ2LTFoM2wtLjcyNi00aC44OTR6TTIzIDI4aC0zdi0xaDN2MXpNMTMgNHYxSDdMMyAyN2gxMHYxSDMuMThhMSAxIDAgMCAxLS45ODYtMS4xNjRsMy42NjYtMjJBMSAxIDAgMCAxIDYuODQ3IDRIMTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWZsaXAteSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0wIDB2MzJoMzJWMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWZsaXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPg0KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTExIDBoMXYyNGgtMXpNMTkgMjF2LTFoMnYtMmgxdjJhMSAxIDAgMCAxLTEgMWgtMnptLTIgMGgtM3YtMWgzdjF6bTUtNWgtMXYtM2gxdjN6bTAtNWgtMVY4aDF2M3ptMC01aC0xVjRoLTJWM2gyYTEgMSAwIDAgMSAxIDF2MnptLTUtM3YxaC0zVjNoM3pNOSAzdjFIMnYxNmg3djFIMmExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMWg3eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMEgyNFYyNEgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc0MCAtMTYpIHRyYW5zbGF0ZSg1NDcgOCkgdHJhbnNsYXRlKDE5MyA4KSIvPg0KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTEyLjUgMUMxOC4yOTkgMSAyMyA1LjcwMSAyMyAxMS41UzE4LjI5OSAyMiAxMi41IDIyYy01LjI5IDAtOS42NjUtMy45MTEtMTAuMzk0LTguOTk5aDEuMDEyQzMuODM4IDE3LjUzNCA3Ljc2NCAyMSAxMi41IDIxYzUuMjQ3IDAgOS41LTQuMjUzIDkuNS05LjVTMTcuNzQ3IDIgMTIuNSAyQzguNDkgMiA1LjA2IDQuNDg1IDMuNjY2IDhIM2g0djFIMlY0aDF2My4wMjJDNC42OCAzLjQ2MiA4LjMwMyAxIDEyLjUgMXptLjUgNWwtLjAwMSA1LjI5MSAyLjUzNyAyLjUzNy0uNzA4LjcwOEwxMi4yOTIgMTJIMTJWNmgxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc0MCAtMTYpIHRyYW5zbGF0ZSg1NDcgOCkgdHJhbnNsYXRlKDE5MyA4KSIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNoZWNrIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMiA5SDEyVjEwSDJ6TTkgMmMuNTEzIDAgLjkzNi4zODYuOTkzLjg4M0wxMCAzSDNWMmg2ek0yIDNIMFYyaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPg0KICAgIDwvZz4NCjwvc3ltYm9sPg0KPCEtLSBUaGlzIGljb24gbWFkZSBieSBQaXhlbCBwZXJmZWN0IGZyb20gd3d3LmZsYXRpY29uLmNvbSAtLT4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktcmVzaXplIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS40OTIxODggMS41MDc4MTIgQyA5LjM5ODQzOCAxLjQxNDA2MiA5LjI1IDEuNDE0MDYyIDkuMTU2MjUgMS41MDc4MTIgTCA1LjgxMjUgNC44NTE1NjIgQyA1LjcxNDg0NCA0Ljk0NTMxMiA1LjcxNDg0NCA1LjA5NzY1NiA1LjgxMjUgNS4xODc1IEMgNS44NTU0NjkgNS4yMzQzNzUgNS45MTc5NjkgNS4yNTc4MTIgNS45NzY1NjIgNS4yNTc4MTIgQyA2LjAzOTA2MiA1LjI1NzgxMiA2LjEwMTU2MiA1LjIzNDM3NSA2LjE0ODQzOCA1LjE4NzUgTCA5LjQ5MjE4OCAxLjg0Mzc1IEMgOS41ODU5MzggMS43NSA5LjU4NTkzOCAxLjYwMTU2MiA5LjQ5MjE4OCAxLjUwNzgxMiBaIE0gOS40OTIxODggMS41MDc4MTIgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBDIDkuMTk1MzEyIDEuNDMzNTk0IDkuMDg1OTM4IDEuNTM5MDYyIDkuMDg1OTM4IDEuNjcxODc1IEwgOS4wODU5MzggNC41NDI5NjkgQyA5LjA4NTkzOCA0LjY3MTg3NSA5LjE5NTMxMiA0Ljc4MTI1IDkuMzI4MTI1IDQuNzgxMjUgQyA5LjQ2MDkzOCA0Ljc4MTI1IDkuNTY2NDA2IDQuNjcxODc1IDkuNTY2NDA2IDQuNTQyOTY5IEwgOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA1LjE4NzUgNS44MTI1IEMgNS4wOTc2NTYgNS43MTg3NSA0Ljk0NTMxMiA1LjcxODc1IDQuODUxNTYyIDUuODEyNSBMIDEuNTAzOTA2IDkuMTU2MjUgQyAxLjQxMDE1NiA5LjI1IDEuNDEwMTU2IDkuNDAyMzQ0IDEuNTAzOTA2IDkuNDk2MDk0IEMgMS41NTQ2ODggOS41NDI5NjkgMS42MTMyODEgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgQyAxLjczNDM3NSA5LjU2NjQwNiAxLjc5Njg3NSA5LjU0Mjk2OSAxLjg0Mzc1IDkuNDk2MDk0IEwgNS4xODc1IDYuMTQ4NDM4IEMgNS4yODEyNSA2LjA1NDY4OCA1LjI4MTI1IDUuOTAyMzQ0IDUuMTg3NSA1LjgxMjUgWiBNIDUuMTg3NSA1LjgxMjUgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxLjY3MTg3NSA2LjIxODc1IEMgMS41MzkwNjIgNi4yMTg3NSAxLjQzMzU5NCA2LjMyODEyNSAxLjQzMzU5NCA2LjQ1NzAzMSBMIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgQyAxLjgwNDY4OCA5LjU2NjQwNiAxLjkxNDA2MiA5LjQ2MDkzOCAxLjkxNDA2MiA5LjMyODEyNSBMIDEuOTE0MDYyIDYuNDU3MDMxIEMgMS45MTQwNjIgNi4zMjgxMjUgMS44MDQ2ODggNi4yMTg3NSAxLjY3MTg3NSA2LjIxODc1IFogTSAxLjY3MTg3NSA2LjIxODc1ICIvPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMTAuMjgxMjUgMCBMIDAuNzE4NzUgMCBDIDAuMzIwMzEyIDAgMCAwLjMyMDMxMiAwIDAuNzE4NzUgTCAwIDEwLjI4MTI1IEMgMCAxMC42Nzk2ODggMC4zMjAzMTIgMTEgMC43MTg3NSAxMSBMIDEwLjI4MTI1IDExIEMgMTAuNjc5Njg4IDExIDExIDEwLjY3OTY4OCAxMSAxMC4yODEyNSBMIDExIDAuNzE4NzUgQyAxMSAwLjMyMDMxMiAxMC42Nzk2ODggMCAxMC4yODEyNSAwIFogTSAxMC41MjM0MzggMTAuMjgxMjUgQyAxMC41MjM0MzggMTAuNDE0MDYyIDEwLjQxNDA2MiAxMC41MjM0MzggMTAuMjgxMjUgMTAuNTIzNDM4IEwgMC43MTg3NSAxMC41MjM0MzggQyAwLjU4NTkzOCAxMC41MjM0MzggMC40NzY1NjIgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjI4MTI1IEwgMC40NzY1NjIgMC43MTg3NSBDIDAuNDc2NTYyIDAuNTg1OTM4IDAuNTg1OTM4IDAuNDc2NTYyIDAuNzE4NzUgMC40NzY1NjIgTCAxMC4yODEyNSAwLjQ3NjU2MiBDIDEwLjQxNDA2MiAwLjQ3NjU2MiAxMC41MjM0MzggMC41ODU5MzggMTAuNTIzNDM4IDAuNzE4NzUgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSAiLz4NCiAgPC9nPg0KPC9zeW1ib2w+DQo8IS0tICAtLT4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAxSDEyVjEzSDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2IC04MDQpIHRyYW5zbGF0ZSgxNTYgODAzKSIvPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM0MzQzNDMiIGQ9Ik05LjYyMiAxLjU4NGwxLjgzNSAxLjY1OC04LjMxIDguNDA3TC41IDEyLjVWMTFsOS4xMjItOS40MTZ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2IC04MDQpIHRyYW5zbGF0ZSgxNTYgODAzKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiA+DQogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEyIDh2MUg5VjhoM3pNNyA5SDBWOGg3djF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSBtYXRyaXgoLTEgMCAwIDEgMTIgMCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTggMWMxLjEwNSAwIDIgLjg5NSAyIDJzLS44OTUgMi0yIDItMi0uODk1LTItMiAuODk1LTIgMi0yem0wIDFjLS41NTIgMC0xIC40NDgtMSAxcy40NDggMSAxIDEgMS0uNDQ4IDEtMS0uNDQ4LTEtMS0xek00IDdjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWZsaXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwOCAtODA0KSB0cmFuc2xhdGUoMTA4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYgMEw3IDAgNyAxMiA2IDEyek0xMSAxMFY5aDF2MS41YzAgLjI3Ni0uMjI0LjUtLjUuNUgxMHYtMWgxek01IDF2MUgxdjhoNHYxSC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNXYtOWMwLS4yNzYuMjI0LS41LjUtLjVINXptNyA1djJoLTFWNmgxem0wLTN2MmgtMVYzaDF6TTkgMXYxSDdWMWgyem0yLjUgMGMuMjc2IDAgLjUuMjI0LjUuNVYyaC0yVjFoMS41ek05IDExSDd2LTFoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwOCAtODA0KSB0cmFuc2xhdGUoMTA4IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjA0IC04MDQpIHRyYW5zbGF0ZSgyMDQgODA0KSIvPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM0MzQzNDMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjEiIGQ9Ik02IDkuNTY4TDIuNjAxIDExIDIuOTc1IDcuNDY3IDAuNSA0LjgyIDQuMTMgNC4wNjggNiAxIDcuODcgNC4wNjggMTEuNSA0LjgyIDkuMDI1IDcuNDY3IDkuMzk5IDExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwNCAtODA0KSB0cmFuc2xhdGUoMjA0IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjUyIC04MDQpIHRyYW5zbGF0ZSgyNTIgODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6Ii8+DQogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4NCiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMS41IDBjLjI3NiAwIC41LjIyNC41LjV2MTFjMCAuMjc2LS4yMjQuNS0uNS41SC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYuNUMwIC4yMjQuMjI0IDAgLjUgMGgxMXpNMTEgMUgxdjEwaDEwVjF6Ii8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktcm90YXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxkZWZzPg0KICAgICAgICA8cGF0aCBpZD0icmZuNHJ5bGZmYSIgZD0iTTcgMTJjLS4zMzUgMC0uNjYzLS4wMjUtLjk4My0uMDc0QzMuMTcxIDExLjQ5MiAxIDkuMjA1IDEgNi40NDRjMC0xLjM2My41MzQtMi42MTMgMS40MTUtMy41OCIvPg0KICAgICAgICA8bWFzayBpZD0iNmY5Z24yZHlzYiIgd2lkdGg9IjYiIGhlaWdodD0iOS4xMzYiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPg0KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4NCiAgICAgICAgPC9tYXNrPg0KICAgIDwvZGVmcz4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMyIC04MDQpIHRyYW5zbGF0ZSgxMzIgODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwLjVIMTJWMTIuNUgweiIvPg0KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPg0KICAgICAgICAgICAgPHVzZSBzdHJva2U9IiM0MzQzNDMiIHN0cm9rZS1kYXNoYXJyYXk9IjIgMS4yNSIgc3Ryb2tlLXdpZHRoPSIxIiBtYXNrPSJ1cmwoIzZmOWduMmR5c2IpIiB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIvPg0KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQuMjc5IDBMNiAxLjc1IDQuMjUgMy41NzEgMy41NDMgMi44NjQgNC41ODYgMS43NSAzLjU3MiAwLjcwN3oiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDkuNTQzIDApIi8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4MCAtODA0KSB0cmFuc2xhdGUoMTgwIDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+DQogICAgICAgIDxwYXRoIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNNC41IDAuNUw4LjUgNy42MTEgMC41IDcuNjExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4MCAtODA0KSB0cmFuc2xhdGUoMTgwIDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktdGV4dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMiAxaDhjLjU1MiAwIDEgLjQ0OCAxIDFIMWMwLS41NTIuNDQ4LTEgMS0xeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgMUgyVjNIMXpNMTAgMUgxMVYzSDEwek01LjUgMUw2LjUgMSA2LjUgMTEgNS41IDExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjQgLTgwNSkgdHJhbnNsYXRlKDMyNCA4MDUpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgMkw1IDIgNSAzIDEgM3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjQgLTgwNSkgdHJhbnNsYXRlKDMyNCA4MDUpIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPg0KICAgICAgICAgICAgPHBhdGggZD0iTTIgOWg4VjFoMXY4LjVjMCAuMjc2LS4yMjQuNS0uNS41aC05Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYxaDF2OHpNMCAwSDEyVjFIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIHRyYW5zbGF0ZSgwIDIpIi8+DQogICAgICAgICAgICA8cGF0aCBkPSJNNCAzSDVWN0g0ek03IDNIOFY3SDd6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzAwIC04MDQpIHRyYW5zbGF0ZSgzMDAgODA0KSB0cmFuc2xhdGUoMCAyKSIvPg0KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZ3JvdXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6Ii8+DQogICAgICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSA5djJoMXYxSC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVY5aDF6bTExIDF2MS41YzAgLjI3Ni0uMjI0LjUtLjUuNUg5di0xaDJ2LTFoMXptLTQgMXYxSDZ2LTFoMnptLTMgMHYxSDN2LTFoMnptNy00djJoLTFWN2gxek0xIDZ2MkgwVjZoMXptMTEtMnYyaC0xVjRoMXpNMSAzdjJIMFYzaDF6bTEwLjUtM2MuMjc2IDAgLjUuMjI0LjUuNVYzaC0xVjFoLTFWMGgxLjV6TTYgMHYxSDRWMGgyem0zIDB2MUg3VjBoMnpNMCAuNUMwIC4yMjQuMjI0IDAgLjUgMEgzdjFIMXYxSDBWLjV6TTkuNSA0Yy4yNzYgMCAuNS4yMjQuNS41djVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVY4LjM1NWMuMzE3LjA5NC42NTIuMTQ1IDEgLjE0NVY5aDRWNWgtLjVjMC0uMzQ4LS4wNS0uNjgzLS4xNDUtMUg5LjV6Ii8+DQogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1hcnJvdy0yIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjEuNzkzIDE4LjVIMi41di01aDE4LjkzNWwtNy42LThoNS44NzJsMTAuNSAxMC41LTEwLjUgMTAuNWgtNS45MTRsOC04eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTMiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0yNS4yODggMTYuNDJMMTQuMjA4IDI3LjVINi43OTJsMTEuMjkxLTExLjI5MUw2LjgyNiA0LjVoNy4zODFsMTEuNjYxIDExLjY2MS0uNTguMjU4eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93IiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAxMS41djloMTh2NS4yOTNMMzAuMjkzIDE2IDIwLjUgNi4yMDdWMTEuNWgtMTh6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24tYnViYmxlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjIuMjA3IDI0LjVMMTYuNSAzMC4yMDdWMjQuNUg4QTYuNSA2LjUgMCAwIDEgMS41IDE4VjlBNi41IDYuNSAwIDAgMSA4IDIuNWgxNkE2LjUgNi41IDAgMCAxIDMwLjUgOXY5YTYuNSA2LjUgMCAwIDEtNi41IDYuNWgtMS43OTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24taGVhcnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbC1ydWxlPSJub256ZXJvIiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xNS45OTYgMzAuNjc1bDEuOTgxLTEuNzljNy44OTgtNy4xNzcgMTAuMzY1LTkuNzE4IDEyLjEzNS0xMy4wMTIuOTIyLTEuNzE2IDEuMzc3LTMuMzcgMS4zNzctNS4wNzYgMC00LjY1LTMuNjQ3LTguMjk3LTguMjk3LTguMjk3LTIuMzMgMC00Ljg2IDEuNTI3LTYuODE3IDMuODI0bC0uMzguNDQ3LS4zODEtLjQ0N0MxMy42NTggNC4wMjcgMTEuMTI2IDIuNSA4Ljc5NyAyLjUgNC4xNDcgMi41LjUgNi4xNDcuNSAxMC43OTdjMCAxLjcxNC40NiAzLjM3NSAxLjM4OSA1LjA5OCAxLjc3NSAzLjI4OCA0LjI2IDUuODQzIDEyLjEyMyAxMi45NzRsMS45ODQgMS44MDZ6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24tbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE3LjMxNCAxOC44NjdsMS45NTEtMi41MyA0IDUuMTg0aC0xN2w2LjUtOC44NCA0LjU0OSA2LjE4NnoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjIgNmwzLjUtMy41TDI5IDYiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2NhdGlvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xNiAzMS4yOEMyMy42NzUgMjMuMzAyIDI3LjUgMTcuMTgxIDI3LjUgMTNjMC02LjM1MS01LjE0OS0xMS41LTExLjUtMTEuNVM0LjUgNi42NDkgNC41IDEzYzAgNC4xODEgMy44MjUgMTAuMzAyIDExLjUgMTguMjh6Ii8+DQogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1wb2x5Z29uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLXN0YXItMiIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLXN0YXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtbWFzay1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjAxIDRhMTEuNzk4IDExLjc5OCAwIDAgMCAwIDFIM3YyNGgyNFYxNC45ODZhOC43MzggOC43MzggMCAwIDAgMSAwVjI5YTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xVjVhMSAxIDAgMCAxIDEtMWgxNS4wMXpNMTUgMjNhNiA2IDAgMSAxIDAtMTIgNiA2IDAgMCAxIDAgMTJ6bTAtMWE1IDUgMCAxIDAgMC0xMCA1IDUgMCAwIDAgMCAxMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1tYXNrIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxaDIwYTEgMSAwIDAgMSAxIDF2MjBhMSAxIDAgMCAxLTEgMUgyYTEgMSAwIDAgMS0xLTFWMmExIDEgMCAwIDEgMS0xem0wIDF2MjBoMjBWMkgyeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIG9wYWNpdHk9Ii41IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIC8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjEgNkg5YTYgNiAwIDEgMCAwIDEyaDEydjFIOUE3IDcgMCAwIDEgOSA1aDEydjF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtcmVzZXQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgMTN2LTFhNyA3IDAgMCAxIDctN2gxM3YxaC0xdjVoMXYxYTcgNyAwIDAgMS03IDdIMnYtMWgxdi01SDJ6bTctN2E2IDYgMCAwIDAtNiA2djZoMTJhNiA2IDAgMCAwIDYtNlY2SDl6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDhNNSAxNmwtMi41IDIuNUw1IDIxIi8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jbG9ja3dpc2UiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjkgMTdoLS45MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMi02LjYyOCAwLTEyLTUuMzczLTEyLTEyQzQuMDc2IDEwLjM5OCA5LjQwNyA1LjA0MSAxNiA1VjRDOC44MiA0IDMgOS44MiAzIDE3czUuODIgMTMgMTMgMTMgMTMtNS44MiAxMy0xM3oiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTYgNGg0djFoLTR6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTMgMTdoLjkyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyIDYuNjI4IDAgMTItNS4zNzMgMTItMTIgMC02LjYwMi01LjMzMS0xMS45Ni0xMS45MjQtMTJWNGM3LjE4IDAgMTMgNS44MiAxMyAxM3MtNS44MiAxMy0xMyAxM1MzIDI0LjE4IDMgMTd6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMiA0aDR2MWgtNHoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtcm90YXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik04LjM0OSAyMi4yNTRhMTAuMDAyIDEwLjAwMiAwIDAgMS0yLjc3OC0xLjcxOWwuNjUtLjc2YTkuMDAyIDkuMDAyIDAgMCAwIDIuNDk1IDEuNTQ4bC0uMzY3LjkzMXptMi44NzMuNzA0bC4wNzgtLjk5N2E5IDkgMCAxIDAtLjU1Ny0xNy44NTJsLS4xNC0uOTlBMTAuMDc2IDEwLjA3NiAwIDAgMSAxMi4xNDUgM2M1LjUyMyAwIDEwIDQuNDc3IDEwIDEwcy00LjQ3NyAxMC0xMCAxMGMtLjMxMiAwLS42Mi0uMDE0LS45MjQtLjA0MnptLTcuNTU2LTQuNjU1YTkuOTQyIDkuOTQyIDAgMCAxLTEuMjUzLTIuOTk2bC45NzMtLjIzNGE4Ljk0OCA4Ljk0OCAwIDAgMCAxLjEyNCAyLjY5M2wtLjg0NC41Mzd6bS0xLjUwMi01LjkxQTkuOTQ5IDkuOTQ5IDAgMCAxIDIuODggOS4yM2wuOTI1LjM4MmE4Ljk1NCA4Ljk1NCAwIDAgMC0uNjQ0IDIuODQ0bC0uOTk4LS4wNjJ6bTIuMjEtNS42ODZjLjY4Ny0uODQ4IDEuNTEtMS41OCAyLjQzNi0yLjE2NmwuNTIzLjg1MmE5LjA0OCA5LjA0OCAwIDAgMC0yLjE4OCAxLjk1bC0uNzcxLS42MzZ6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTMgMWwtMi41IDIuNUwxMyA2Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXNoYXBlLWNpcmNsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNC41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtc2hhcGUtcmVjdGFuZ2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxyZWN0IHdpZHRoPSIyNyIgaGVpZ2h0PSIyNyIgeD0iMi41IiB5PSIyLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgcng9IjEiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtc2hhcGUtdHJpYW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTYgMi41bDE1LjUgMjdILjV6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXNoYXBlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE0LjcwNiA4SDIxYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMUg5YTEgMSAwIDAgMS0xLTF2LTRoMXY0aDEyVjloLTUuNzA2bC0uNTg4LTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWNlbnRlciIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek04IDEyaDE2djFIOHpNMiAxOWgyOHYxSDJ6TTggMjZoMTZ2MUg4eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiA1aDI4djFIMnpNMiAxMmgxNnYxSDJ6TTIgMTloMjh2MUgyek0yIDI2aDE2djFIMnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1yaWdodCIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1ib2xkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTcgMmgydjJIN3pNNyAyOGgydjJIN3oiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTkgM3YxMmg5YTYgNiAwIDEgMCAwLTEySDl6TTkgMTV2MTRoMTBhNyA3IDAgMCAwIDAtMTRIOXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1pdGFsaWMiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LXVuZGVybGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik04IDJ2MTRhOCA4IDAgMSAwIDE2IDBWMmgxdjE0YTkgOSAwIDAgMS0xOCAwVjJoMXpNMyAyOWgyNnYxSDN6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNSAyaDV2MUg1ek0yMiAyaDV2MWgtNXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDNoMTVhMSAxIDAgMCAxIDEgMUgzYTEgMSAwIDAgMSAxLTF6TTMgNGgxdjFIM3pNMTkgNGgxdjFoLTF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEwIDIwaDN2MWgtM3oiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBkPSJNMjQgMEgwdjI0aDI0eiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0zIDZoMTJhNiA2IDAgMSAxIDAgMTJIM3YxaDEyYTcgNyAwIDAgMCAwLTE0SDN2MXoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtem9vbS1pbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+DQogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjgyOCAxNS44MjhIMTkuODI4VjIyLjgyOEgxOC44Mjh6IiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMTkuMzI4IDE5LjMyOCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTEwIDdIMTFWMTRIMTB6Ii8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy16b29tLW91dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYzIC0yOTApIHRyYW5zbGF0ZSgyNjMgMjkwKSI+DQogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjgyOCAxNS44MjhIMTkuODI4VjIyLjgyOEgxOC44Mjh6IiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMTkuMzI4IDE5LjMyOCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhhbmQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNOC42NzIgMy4zNmMxLjMyOCAwIDIuMTE0Ljc4IDIuMjkgMS44NjlsLjAxNC4xMDEuMDIzLjAwNnYxLjA0MmwtLjYzOC0uMTg1Yy0uMTg3LS4wNTUtLjMyMy0uMjExLS4zNTQtLjM5OUwxMCA1LjcxM2MwLS44MjUtLjQyLTEuMzUzLTEuMzI4LTEuMzUzQzcuNjk1IDQuMzYgNyA1LjA0MSA3IDUuNzEzdjcuOTQxYzAgLjQzOS0uNTI0LjY2NS0uODQzLjM2NGwtMS44NjgtMS43NjFjLS41OTUtLjUyOC0xLjMxNi0uNjE3LTEuOTE4LS4yMTYtLjUyMi4zNDgtLjU2MiAxLjIwMy0uMTggMS44TDcuNzM4IDIyaDExLjAxM2wuMjg1LS41MThjMS4yNDctMi4zMjYgMS44OTctNC4yNTkgMS45Ni01Ljc4NWwuMDA0LS4yMzlWOC4wMzVjMC0uNjU2LS41LTEuMTctMS0xLjE3LS41MDMgMC0xIC40NTYtMSAxLjE3IDAgLjMzMy0uMzIuNTczLS42NC40OEwxOCA4LjQxVjcuMzY4bC4wODYuMDI2LjA0Mi0uMTM2Yy4yNzktLjgwNS45NzgtMS4zMzIgMS43MzgtMS4zODhMMjAgNS44NjVjMS4wNTcgMCAyIC45NjcgMiAyLjE3djcuNDIzYzAgMS45MjktLjg0NSA0LjM1Mi0yLjUyMSA3LjI5LS4wOS4xNTYtLjI1NS4yNTItLjQzNS4yNTJINy40NzRjLS4xNjYgMC0uMzIxLS4wODItLjQxNC0uMjE5bC01LjcwNC04LjM5Yy0uNjUzLTEuMDE5LS41ODQtMi40ODYuNDYtMy4xODIgMS0uNjY2IDIuMjE2LS41MTYgMy4xNDguMzFMNiAxMi40OTVWNS43MTNjMC0xLjE4IDEuMDU4LTIuMjYzIDIuNDktMi4zNDh6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjk3IC0yOTApIHRyYW5zbGF0ZSgyOTcgMjkwKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMi41IDEuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTUgNHY3LjIyaC0xVjRjMC0uODI4LS42NzItMS41LTEuNS0xLjUtLjc4IDAtMS40Mi41OTUtMS40OTMgMS4zNTZMMTEgNHY3LjIyaC0xVjRjMC0xLjM4IDEuMTItMi41IDIuNS0yLjV6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjk3IC0yOTApIHRyYW5zbGF0ZSgyOTcgMjkwKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8L2RlZnM+DQo8L3N2Zz4NCg==".replace(/data:image\/svg\+xml;base64,/,""),n=t.parseFromString(atob(e),"text/xml");document.body.appendChild(n.documentElement)}}},{key:"_makeIconClassName",value:function(t,e){var n=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],r=n.path,o=n.name;return r&&o?t:"".concat(t," use-default")}},{key:"_makeSvgIconPrefix",value:function(t,e){var n,r=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],o=r.path,i=r.name;return o&&i?L()(n="".concat(o,"#")).call(n,i,"-"):"#"}},{key:"_makeSvgItem",value:function(t,e,n){var r=this;return yr()(t).call(t,(function(t){var o,i,a=r._makeSvgIconPrefix(t,n),s=r._toUnderScore(e),c=r._makeIconClassName(t,n);return L()(o=L()(i='<use xlink:href="'.concat(a,"ic-")).call(i,s,'" class="')).call(o,c,'"/>')})).join("")}},{key:"makeMenSvgIconSet",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return L()(n='<svg class="svg_ic-'.concat(r?"submenu":"menu",'">')).call(n,this._makeSvgItem(t,e,r),"</svg>")}}]),t}(),wr=i(3662),xr=i.n(wr),Sr=i(7021),Cr=i(5796),Or=i(3685);function kr(t,e){var n;return(kr=Cr?Or(n=Cr).call(n):function(t,e){return t.__proto__=e,t})(t,e)}function Mr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Sr(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),C(t,"prototype",{writable:!1}),e&&kr(t,e)}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jr(t,e){if(e&&("object"===k(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}var Ir=i(7994);function Ar(t){var e;return(Ar=Cr?Or(e=Ir).call(e):function(t){return t.__proto__||Ir(t)})(t)}var Tr=i(6092),Pr=i.n(Tr),Dr=i(4858),Nr=i.n(Dr),Lr=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Rr=function(){function t(e,n){var r=n.defaultColor,o=void 0===r?"#7e7e7e":r,i=n.toggleDirection,a=void 0===i?"up":i,s=n.usageStatistics;I(this,t),this.colorpickerElement=e,this.usageStatistics=s,this._show=!1,this._colorpickerElement=e,this._toggleDirection=a,this._makePickerButtonElement(o),this._makePickerLayerElement(e,e.getAttribute("title")),this._color=o,this.picker=Nr().create({container:this.pickerElement,preset:Lr,color:o,usageStatistics:this.usageStatistics}),this._addEvent()}return T(t,[{key:"destroy",value:function(){var t=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",X()(this,(function(e,n){t[n]=null}))}},{key:"color",get:function(){return this._color},set:function(t){Q()(t)&&(this._color=t,this._changeColorElement(t))}},{key:"_changeColorElement",value:function(t){t?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=t):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(t){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",t?this.colorElement.style.backgroundColor=t:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(t,e){var n=document.createElement("label"),r=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=e,r.className="triangle",r.innerHTML=e,this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(r),t.appendChild(this.pickerControl),t.appendChild(this.colorElement),t.appendChild(n)}},{key:"_addEvent",value:function(){var t,e=this;this.picker.on("selectColor",(function(t){e._changeColorElement(t.color),e._color=t.color,e.fire("change",t.color)})),this.eventHandler={pickerToggle:D()(t=this._pickerToggleEventHandler).call(t,this),pickerHide:function(){return e.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(t){var e=t.target,n=e&&this._isElementInColorPickerControl(e);(!n||n&&this._isPaletteButton(e))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),t.stopPropagation()}},{key:"_isPaletteButton",value:function(t){return"tui-colorpicker-palette-button"===t.className}},{key:"_isElementInColorPickerControl",value:function(t){for(var e=t;e!==document.body&&e;){if(e===this.pickerControl)return!0;e=e.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var t=this.pickerControl.style;t.top="calc(100vh / 2 - 53px",t.left="calc(100vw / 2 - 96px)"}}]),t}();q().mixin(Rr);var Br=Rr,zr=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Fr=function(){function t(e){var n,r,o,i,a,s,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,t),this._value=u.value||0,this.rangeElement=e.slider,this.rangeInputElement=e.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=u.min||0,this._max=u.max||100,this._useDecimal=u.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=u.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:D()(n=this._startChangingSlide).call(n,this),stopChangingSlide:D()(r=this._stopChangingSlide).call(r,this),changeSlide:D()(o=this._changeSlide).call(o,this),changeSlideFinally:D()(i=this._changeSlideFinally).call(i,this),changeInput:D()(a=this._changeInput).call(a,this),changeInputFinally:D()(s=this._changeValueWithInput).call(s,this,!0),changeInputWithArrow:D()(c=this._changeValueWithInputKeyEvent).call(c,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=u.value,this.trigger("change")}return T(t,[{key:"destroy",value:function(){var t=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",X()(this,(function(e,n){t[n]=null}))}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(t){var e=((t=this._useDecimal?t:Un(t))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<e&&(e=this.rangeWidth),this.pointer.style.left="".concat(e,"px"),this.subbar.style.right="".concat(this.rangeWidth-e,"px"),this._value=t,this.rangeInputElement&&(this.rangeInputElement.value=t)}},{key:"trigger",value:function(t){this.fire(t,this._value)}},{key:"_getRangeWidth",value:function(){var t=function(t){return Un(window.getComputedStyle(t,null).width)};return t(this.rangeElement)-t(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(t){var e,n=t.keyCode,o=t.target;if(!(r()(e=[on,rn]).call(e,n)<0)){var i=Number(o.value);if(!((i=this._valueUpDownForKeyEvent(i,n))<this._min||i>this._max)){var a=zn(i,this._min,this.max);this.value=a,this.fire("change",a,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(t,e){var n=this._useDecimal?.1:1;return e===on?t+=n:e===rn&&(t-=n),t}},{key:"_changeInput",value:function(t){var e=this;clearTimeout(this._userInputTimer);var n=t.keyCode;n<sn||n>cn?t.preventDefault():this._userInputTimer=v()((function(){e._inputSetValue(t.target.value)}),350)}},{key:"_inputSetValue",value:function(t){var e=this._useDecimal?Number(t):Un(t);e=zn(e,this._min,this.max),this.value=e,this.fire("change",e,!0)}},{key:"_changeValueWithInput",value:function(t,e){var n,o=e.keyCode,i=e.target;if(!(r()(n=[on,rn]).call(n,o)>=0)){var a=this._filterForInputText(i.value),s=!a||isNaN(a);i.value=a,s||this._inputSetValue(a)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("touchstart",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("touchstart",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(t){var e=t.targetTouches[0].screenX-this.firstPosition,n=this.firstLeft+e;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left="".concat(n,"px"),this.subbar.style.right="".concat(this.rangeWidth-n,"px");var r=n/this.rangeWidth,o=this._absMax*r+this._min,i=this._useDecimal?o:Un(o);this.value!==i&&(this.value=i,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(t){if(t.stopPropagation(),"tui-image-editor-range"===t.target.className){var e=t.offsetX/this.rangeWidth,n=this._absMax*e+this._min;this.pointer.style.left="".concat(e*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-e)*this.rangeWidth,"px"),this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(t){this.firstPosition=t.targetTouches[0].screenX,this.firstLeft=Un(this.pointer.style.left)||0,document.addEventListener("touchmove",this.eventHandler.changeSlide),document.addEventListener("touchend",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("touchmove",this.eventHandler.changeSlide),document.removeEventListener("touchend",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(t){return t.replace(zr,"$1$2$3")}}]),t}();q().mixin(Fr);var Hr=Fr,Ur=function(){function t(e,n){var r=n.locale,o=n.name,i=n.makeSvgIcon,a=n.menuBarPosition,s=n.templateHtml,c=n.usageStatistics;I(this,t),this.subMenuElement=e,this.menuBarPosition=a,this.toggleDirection="top"===a?"down":"up",this.colorPickerControls=[],this.usageStatistics=c,this.eventHandler={},this._makeSubMenuElement({locale:r,name:o,makeSvgIcon:i,templateHtml:s})}return T(t,[{key:"selector",value:function(t){return this.subMenuElement.querySelector(t)}},{key:"colorPickerChangeShow",value:function(t){var e;at()(e=this.colorPickerControls).call(e,(function(e){t!==e&&e.hide()}))}},{key:"getButtonType",value:function(t,e){return t.className.match(RegExp("(".concat(e.join("|"),")")))[0]}},{key:"changeClass",value:function(t,e,n){t.classList.remove(e),t.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(t){var e=t.locale,n=t.name,r=t.iconStyle,o=t.makeSvgIcon,i=t.templateHtml,a=document.createElement("div");a.className="tui-image-editor-menu-".concat(n),a.innerHTML=i({locale:e,iconStyle:r,makeSvgIcon:o}),this.subMenuElement.appendChild(a)}},{key:"_onStartEditingInputBox",value:function(){this.fire(Ce)}},{key:"_onStopEditingInputBox",value:function(){this.fire(Oe)}}]),t}();q().mixin(Ur);var Wr=Ur,Vr=function(t){var e,n,r,o,i,a,s,c,u=t.locale,l=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(l(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(c,u.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(s,l(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(a,u.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(i,l(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(o,u.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(r,u.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(n,u.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,u.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Yr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Gr={stroke:"#ff4040",fill:"",strokeWidth:3},Xr=function(t){Mr(n,t);var e=Yr(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"shape",makeSvgIcon:a,menuBarPosition:s,templateHtml:Vr,usageStatistics:c})).type=null,o.options=Gr,o._els={shapeSelectButton:o.selector(".tie-shape-button"),shapeColorButton:o.selector(".tie-shape-color-button"),strokeRange:new Hr({slider:o.selector(".tie-stroke-range"),input:o.selector(".tie-stroke-range-value")},Cn),fillColorpicker:new Br(o.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:o.toggleDirection,usageStatistics:o.usageStatistics}),strokeColorpicker:new Br(o.selector(".tie-color-stroke"),{defaultColor:"#ff4040",toggleDirection:o.toggleDirection,usageStatistics:o.usageStatistics})},o.colorPickerControls.push(o._els.fillColorpicker),o.colorPickerControls.push(o._els.strokeColorpicker),o.colorPickerInputBoxes=[],o.colorPickerInputBoxes.push(o._els.fillColorpicker.colorpickerElement.querySelector(Ee)),o.colorPickerInputBoxes.push(o._els.strokeColorpicker.colorpickerElement.querySelector(Ee)),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o,i,a,s=this;this.eventHandler.shapeTypeSelected=D()(e=this._changeShapeHandler).call(e,this),this.actions=t,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",D()(n=this._changeStrokeRangeHandler).call(n,this)),this._els.fillColorpicker.on("change",D()(r=this._changeFillColorHandler).call(r,this)),this._els.strokeColorpicker.on("change",D()(o=this._changeStrokeColorHandler).call(o,this)),this._els.fillColorpicker.on("changeShow",D()(i=this.colorPickerChangeShow).call(i,this)),this._els.strokeColorpicker.on("changeShow",D()(a=this.colorPickerChangeShow).call(a,this)),Pr()(this.colorPickerInputBoxes,(function(t){var e,n;t.addEventListener(ke,D()(e=s._onStartEditingInputBox).call(e,s)),t.addEventListener(Me,D()(n=s._onStopEditingInputBox).call(n,s))}),this)}},{key:"_removeEvent",value:function(){var t=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Pr()(this.colorPickerInputBoxes,(function(e){var n,r;e.removeEventListener(ke,D()(n=t._onStartEditingInputBox).call(n,t)),e.removeEventListener(Me,D()(r=t._onStopEditingInputBox).call(r,t))}),this)}},{key:"setShapeStatus",value:function(t){var e=t.strokeWidth,n=t.strokeColor,r=t.fillColor;this._els.strokeRange.value=e,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=r,this.options.stroke=n,this.options.fill=r,this.options.strokeWidth=e,this.actions.setDrawingShape(this.type,{strokeWidth:e})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(t){var e=t;e<=0&&(e=Cn.max),this._els.strokeRange.max=e}},{key:"setStrokeValue",value:function(t){this._els.strokeRange.value=t,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(e,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,t.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(t,e){this.options.strokeWidth=Un(t),this.actions.changeShape({strokeWidth:t},!e),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(t){t=t||"transparent",this.options.fill=t,this.actions.changeShape({fill:t})}},{key:"_changeStrokeColorHandler",value:function(t){t=t||"transparent",this.options.stroke=t,this.actions.changeShape({stroke:t})}}]),n}(Wr),Zr=function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p,v,g,m,y=t.locale,b=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c=L()(u=L()(l=L()(f=L()(h=L()(d=L()(p=L()(v=L()(g=L()(m='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(b(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(m,y.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(g,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(v,y.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(p,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(d,y.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(h,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(f,y.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(l,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(u,y.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(c,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(s,y.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(a,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(i,y.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(o,b(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,y.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,b(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,y.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function qr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Kr=function(t){Mr(n,t);var e=qr(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"crop",makeSvgIcon:a,menuBarPosition:s,templateHtml:Zr,usageStatistics:c})).status="active",o._els={apply:o.selector(".tie-crop-button .apply"),cancel:o.selector(".tie-crop-button .cancel"),preset:o.selector(".tie-crop-preset-button")},o.defaultPresetButton=o._els.preset.querySelector(".preset-none"),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o=D()(e=this._applyEventHandler).call(e,this),i=D()(n=this._cancelEventHandler).call(n,this),a=D()(r=this._cropzonePresetEventHandler).call(r,this);this.eventHandler={apply:o,cancel:i,cropzonePreset:a},this.actions=t,this._els.apply.addEventListener("click",o),this._els.cancel.addEventListener("click",i),this._els.preset.addEventListener("click",a)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button.preset");if(e){var n=et(e.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(e),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;X()(this._els.preset.querySelectorAll(".preset"),(function(t){t.classList.remove("active")})),t&&t.classList.add("active")}}]),n}(Wr),Qr=function(t){var e,n,r,o,i,a,s=t.locale,c=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(s.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(a,s.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(i,s.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(o,c(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,s.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,c(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,s.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Jr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var $r=function(t){Mr(n,t);var e=Jr(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"resize",makeSvgIcon:a,menuBarPosition:s,templateHtml:Qr,usageStatistics:c})).status="active",o._lockState=!1,o._originalDimensions=null,o._els={widthRange:new Hr({slider:o.selector(".tie-width-range"),input:o.selector(".tie-width-range-value")},An),heightRange:new Hr({slider:o.selector(".tie-height-range"),input:o.selector(".tie-height-range-value")},An),lockAspectRatio:o.selector(".tie-lock-aspect-ratio"),apply:o.selector(".tie-resize-button .apply"),cancel:o.selector(".tie-resize-button .cancel")},o}return T(n,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var t=this.actions.getCurrentDimensions();this._originalDimensions=t,this.setWidthValue(t.width),this.setHeightValue(t.height),this.setLimit({minWidth:An.min,minHeight:An.min,maxWidth:t.width,maxHeight:t.height})}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(t){this._els.widthRange.min=this.calcMinValue(t.minWidth),this._els.heightRange.min=this.calcMinValue(t.minHeight),this._els.widthRange.max=this.calcMaxValue(t.maxWidth),this._els.heightRange.max=this.calcMaxValue(t.maxHeight)}},{key:"calcMaxValue",value:function(t){return t<=0&&(t=An.max),t}},{key:"calcMinValue",value:function(t){return t<=0&&(t=An.min),t}},{key:"setWidthValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=t,e&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=t,e&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o,i;this._els.widthRange.on("change",D()(e=this._changeWidthRangeHandler).call(e,this)),this._els.heightRange.on("change",D()(n=this._changeHeightRangeHandler).call(n,this)),this._els.lockAspectRatio.addEventListener("change",D()(r=this._changeLockAspectRatio).call(r,this));var a=D()(o=this._applyEventHandler).call(o,this),s=D()(i=this._cancelEventHandler).call(i,this);this.eventHandler={apply:a,cancel:s},this.actions=t,this._els.apply.addEventListener("click",a),this._els.cancel.addEventListener("click",s)}},{key:"_changeWidthRangeHandler",value:function(t){this.actions.preview("width",Un(t),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(t){this.actions.preview("height",Un(t),this._lockState)}},{key:"_changeLockAspectRatio",value:function(t){this._lockState=t.target.checked,this.actions.lockAspectRatio(this._lockState)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),n}(Wr),to=function(t){var e,n,r,o,i,a=t.locale,s=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(s(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(i,a.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(o,s(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(r,a.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(n,s(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(e,a.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function eo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var no=function(t){Mr(n,t);var e=eo(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"flip",makeSvgIcon:a,menuBarPosition:s,templateHtml:to,usageStatistics:c})).flipStatus=!1,o._els={flipButton:o.selector(".tie-flip-button")},o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e;this.eventHandler.changeFlip=D()(e=this._changeFlip).call(e,this),this._actions=t,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(t){var e=this,n=t.target.closest(".tui-image-editor-button");if(n){var r=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===r)return;this._actions.flip(r).then((function(t){var n=e._els.flipButton.classList;e.flipStatus=!1,n.remove("resetFlip"),X()(["flipX","flipY"],(function(r){n.remove(r),t[r]&&(n.add(r),n.add("resetFlip"),e.flipStatus=!0)}))}))}}}]),n}(Wr),ro=function(t){var e,n,r=t.locale,o=t.makeSvgIcon;return L()(e=L()(n='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(o(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(n,o(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,r.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function oo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var io=function(t){Mr(n,t);var e=oo(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"rotate",makeSvgIcon:a,menuBarPosition:s,templateHtml:ro,usageStatistics:c}))._value=0,o._els={rotateButton:o.selector(".tie-rotate-button"),rotateRange:new Hr({slider:o.selector(".tie-rotate-range"),input:o.selector(".tie-rotate-range-value")},xn)},o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Gn(this)}},{key:"setRangeBarAngle",value:function(t,e){var n=e;"rotate"===t&&(n=ot()(this._els.rotateRange.value,10)+e),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(t){this._els.rotateRange.value=t}},{key:"addEvent",value:function(t){var e,n;this.eventHandler.rotationAngleChanged=D()(e=this._changeRotateForButton).call(e,this),this.actions=t,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",D()(n=this._changeRotateForRange).call(n,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(t,e){var n=Un(t);this.actions.setAngle(n,!e),this._value=n}},{key:"_changeRotateForButton",value:function(t){var e=t.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(e){var r={clockwise:30,counterclockwise:-30}[this.getButtonType(e,["counterclockwise","clockwise"])],o=ot()(n,10)+r;o>=-360&&o<=360&&this.actions.rotate(r)}}}]),n}(Wr),ao=function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p=t.locale,v=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c=L()(u=L()(l=L()(f=L()(h=L()(d='\n    <div>\n        <ul class="tui-image-editor-submenu-item">\n            <li class="tie-text-effect-button">\n                <div class="tui-image-editor-button bold">\n                    <div>\n                        '.concat(v(["normal","active"],"text-bold",!0),"\n                    </div>\n                    <label> ")).call(d,p.localize("Bold"),' </label>\n                </div>\n                <div class="tui-image-editor-button italic">\n                    <div>\n                        ')).call(h,v(["normal","active"],"text-italic",!0),"\n                    </div>\n                    <label> ")).call(f,p.localize("Italic"),' </label>\n                </div>\n                <div class="tui-image-editor-button underline">\n                    <div>\n                        ')).call(l,v(["normal","active"],"text-underline",!0),"\n                    </div>\n                    <label> ")).call(u,p.localize("Underline"),' </label>\n                </div>\n            </li>\n            <li class="tui-image-editor-partition">\n                <div></div>\n            </li>\n            <li class="tie-text-align-button">\n                <div class="tui-image-editor-button left">\n                    <div>\n                        ')).call(c,v(["normal","active"],"text-align-left",!0),"\n                    </div>\n                    <label> ")).call(s,p.localize("Left"),' </label>\n                </div>\n                <div class="tui-image-editor-button center">\n                    <div>\n                        ')).call(a,v(["normal","active"],"text-align-center",!0),"\n                    </div>\n                    <label> ")).call(i,p.localize("Center"),' </label>\n                </div>\n                <div class="tui-image-editor-button right">\n                    <div>\n                        ')).call(o,v(["normal","active"],"text-align-right",!0),"\n                    </div>\n                    <label> ")).call(r,p.localize("Right"),' </label>\n                </div>\n            </li>\n            <li class="tui-image-editor-partition only-left-right">\n                <div></div>\n            </li>\n        </ul>\n        <ul class="tui-image-editor-submenu-item">\n            <li>\n                <div class="tie-text-color" title="')).call(n,p.localize("Color"),'"></div>\n            </li>\n            <li class="tui-image-editor-partition">\n                <div></div>\n            </li>\n            <li class="tui-image-editor-range-wrap">\n                <label class="range">')).call(e,p.localize("Text size"),'</label>\n                <div class="tie-text-range"></div>\n                <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n            </li>\n        </ul>\n    </div>\n')};function so(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var co=function(t){Mr(n,t);var e=so(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"text",makeSvgIcon:a,menuBarPosition:s,templateHtml:ao,usageStatistics:c})).effect={bold:!1,italic:!1,underline:!1},o.align="tie-text-align-left",o._els={textEffectButton:o.selector(".tie-text-effect-button"),textAlignButton:o.selector(".tie-text-align-button"),textColorpicker:new Br(o.selector(".tie-text-color"),{defaultColor:"#ff4040",toggleDirection:o.toggleDirection,usageStatistics:o.usageStatistics}),textRange:new Hr({slider:o.selector(".tie-text-range"),input:o.selector(".tie-text-range-value")},On)},o.colorPickerInputBox=o._els.textColorpicker.colorpickerElement.querySelector(Ee),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o,i,a,s=D()(e=this._setTextEffectHandler).call(e,this),c=D()(n=this._setTextAlignHandler).call(n,this);this.eventHandler={setTextEffect:s,setTextAlign:c},this.actions=t,this._els.textEffectButton.addEventListener("click",s),this._els.textAlignButton.addEventListener("click",c),this._els.textRange.on("change",D()(r=this._changeTextRnageHandler).call(r,this)),this._els.textColorpicker.on("change",D()(o=this._changeColorHandler).call(o,this)),this.colorPickerInputBox.addEventListener(ke,D()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(Me,D()(a=this._onStopEditingInputBox).call(a,this))}},{key:"_removeEvent",value:function(){var t,e,n=this.eventHandler,r=n.setTextEffect,o=n.setTextAlign;this._els.textEffectButton.removeEventListener("click",r),this._els.textAlignButton.removeEventListener("click",o),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(ke,D()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(Me,D()(e=this._onStopEditingInputBox).call(e,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(t){this._els.textColorpicker.color=t}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(t){this._els.textRange.value=t}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ct()(t),n=t.fontSize,r=t.fontStyle,o=t.fontWeight,i=t.textDecoration,a=t.textAlign;this.textColor=e,this.fontSize=n,this.setEffectState("italic",r),this.setEffectState("bold",o),this.setEffectState("underline",i),this.setAlignState("tie-text-align-".concat(a))}},{key:"setEffectState",value:function(t,e){var n="italic"===e||"bold"===e||"underline"===e,r=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(t));this.effect[t]=n,r.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(t){var e=this._els.textAlignButton;e.classList.remove(this.align),e.classList.add(t),this.align=t}},{key:"_setTextEffectHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=et(e.className.match(/(bold|italic|underline)/),1)[0],r={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],e.classList.toggle("active"),this.actions.changeTextStyle(r)}}},{key:"_setTextAlignHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=this.getButtonType(e,["left","center","right"]),r="tie-text-align-".concat(n);t.currentTarget.classList.remove(this.align),this.align!==r&&t.currentTarget.classList.add(r),this.actions.changeTextStyle({textAlign:n}),this.align=r}}},{key:"_changeTextRnageHandler",value:function(t,e){this.actions.changeTextStyle({fontSize:t},!e)}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeTextStyle({fill:t})}}]),n}(Wr),uo=function(t){var e,n,r,o=t.locale,i=t.makeSvgIcon;return L()(e=L()(n=L()(r='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(i(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(r,o.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,i(["normal","active"],"apply"),"\n                <label>\n                    ")).call(e,o.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function lo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var fo=function(t){Mr(n,t);var e=lo(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"mask",makeSvgIcon:a,menuBarPosition:s,templateHtml:uo,usageStatistics:c}))._els={applyButton:o.selector(".tie-mask-apply"),maskImageButton:o.selector(".tie-mask-image-file")},o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r=D()(e=this._loadMaskFile).call(e,this),o=D()(n=this._applyMask).call(n,this);this.eventHandler={loadMaskFile:r,applyMask:o},this.actions=t,this._els.maskImageButton.addEventListener("change",r),this._els.applyButton.addEventListener("click",o)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(t){var e;Vn()||alert("This browser does not support file-api");var n=et(t.target.files,1)[0];n&&(e=F().createObjectURL(n),this.actions.loadImageFromURL(e,n),this._els.applyButton.classList.add("active"))}}]),n}(Wr),ho=function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p,v,g,m,y,b=t.locale,_=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c=L()(u=L()(l=L()(f=L()(h=L()(d=L()(p=L()(v=L()(g=L()(m=L()(y='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(_(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(y,b.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(m,_(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(g,b.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(v,_(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(p,b.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(d,_(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(h,b.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(f,_(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(l,b.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(u,_(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(c,b.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(s,_(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(a,b.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(i,_(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(o,b.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(r,_(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(n,b.localize("Bubble"),'\n                </label>\n            </div>\n            \n            <div class="tui-image-editor-partition" style="display: inline-block">\n                <div></div>\n            </div>\n            \n            <div class="tie-icon-color" title="')).call(e,b.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function po(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var vo=function(t){Mr(n,t);var e=po(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"icon",makeSvgIcon:a,menuBarPosition:s,templateHtml:ho,usageStatistics:c})).iconType=null,o._iconMap={},o._els={registerIconButton:o.selector(".tie-icon-image-file"),addIconButton:o.selector(".tie-icon-add-button"),iconColorpicker:new Br(o.selector(".tie-icon-color"),{defaultColor:"#ff4040",toggleDirection:o.toggleDirection,usageStatistics:o.usageStatistics})},o.colorPickerInputBox=o._els.iconColorpicker.colorpickerElement.querySelector(Ee),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o,i,a=D()(e=this._registerIconHandler).call(e,this),s=D()(n=this._addIconHandler).call(n,this);this.eventHandler={registerIcon:a,addIcon:s},this.actions=t,this._els.iconColorpicker.on("change",D()(r=this._changeColorHandler).call(r,this)),this._els.addIconButton.addEventListener("click",s),this.colorPickerInputBox.addEventListener(ke,D()(o=this._onStartEditingInputBox).call(o,this)),this.colorPickerInputBox.addEventListener(Me,D()(i=this._onStopEditingInputBox).call(i,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.iconColorpicker.off(),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(ke,D()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(Me,D()(e=this._onStopEditingInputBox).call(e,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var t=this;X()(wn,(function(e,n){t.actions.registerDefaultIcons(n,e)}))}},{key:"setIconPickerColor",value:function(t){this._els.iconColorpicker.color=t}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeColor(t)}},{key:"_addIconHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=e.getAttribute("data-icontype"),r=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,r),this.iconType=n)}}},{key:"_registerIconHandler",value:function(t){var e;Vn||alert("This browser does not support file-api");var n=et(t.target.files,1)[0];n&&(e=F().createObjectURL(n),this.actions.registerCustomIcon(e,n))}}]),n}(Wr),go=function(t){var e,n,r,o,i,a=t.locale,s=t.makeSvgIcon;return L()(e=L()(n=L()(r=L()(o=L()(i='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(s(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(i,a.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(o,s(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(r,a.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(n,a.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,a.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function mo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var yo=function(t){Mr(n,t);var e=mo(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"draw",makeSvgIcon:a,menuBarPosition:s,templateHtml:go,usageStatistics:c}))._els={lineSelectButton:o.selector(".tie-draw-line-select-button"),drawColorPicker:new Br(o.selector(".tie-draw-color"),{defaultColor:"#ff0000",toggleDirection:o.toggleDirection,usageStatistics:o.usageStatistics}),drawRange:new Hr({slider:o.selector(".tie-draw-range"),input:o.selector(".tie-draw-range-value")},Sn)},o.type=null,o.color=o._els.drawColorPicker.color,o.width=o._els.drawRange.value,o.colorPickerInputBox=o._els.drawColorPicker.colorpickerElement.querySelector(Ee),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,o,i;this.eventHandler.changeDrawType=D()(e=this._changeDrawType).call(e,this),this.actions=t,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",D()(n=this._changeDrawColor).call(n,this)),this._els.drawRange.on("change",D()(r=this._changeDrawRange).call(r,this)),this.colorPickerInputBox.addEventListener(ke,D()(o=this._onStartEditingInputBox).call(o,this)),this.colorPickerInputBox.addEventListener(Me,D()(i=this._onStopEditingInputBox).call(i,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(ke,D()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(Me,D()(e=this._onStopEditingInputBox).call(e,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Yn(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=this.getButtonType(e,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(t){this.color=t||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(t){this.width=t,this.type?this.setDrawMode():this.changeStartMode()}}]),n}(Wr),bo=i(9886),_o=i.n(bo),wo=function(t){var e,n,r,o,i,a,s,c,u,l,f,h,d,p,v,g,m=t.locale;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c=L()(u=L()(l=L()(f=L()(h=L()(d=L()(p=L()(v=L()(g='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(m.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(g,m.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(v,m.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(p,m.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(d,m.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(h,m.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(f,m.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(l,m.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(u,m.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(c,m.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(s,m.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(a,m.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(i,m.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(o,m.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(r,m.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(n,m.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(e,m.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function xo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var So=["add","diff","subtract","multiply","screen","lighten","darken"],Co=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],Oo={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},ko=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Mo=["filterBlendColor","filterMultiplyColor","filterTintColor"],Eo=function(t){Mr(n,t);var e=xo(n);function n(t,r){var o,i=r.locale,a=r.menuBarPosition,s=r.usageStatistics;return I(this,n),(o=e.call(this,t,{locale:i,name:"filter",menuBarPosition:a,templateHtml:wo,usageStatistics:s})).selectBoxShow=!1,o.checkedMap={},o._makeControlElement(),o}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Gn(this)}},{key:"_removeEvent",value:function(){var t,e=this;X()(Co,(function(t){var n=e.selector(".tie-".concat(t)),r=Wn(t);n.removeEventListener("change",e.eventHandler[r])})),X()(L()(t=[]).call(t,ko,Mo),(function(t){e._els[t].off()})),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Pr()(this.colorPickerInputBoxes,(function(t){var n,r;t.removeEventListener(ke,D()(n=e._onStartEditingInputBox).call(n,e)),t.removeEventListener(Me,D()(r=e._onStopEditingInputBox).call(r,e))}),this)}},{key:"_destroyToolInstance",value:function(){var t,e=this;X()(L()(t=[]).call(t,ko,Mo),(function(t){e._els[t].destroy()}))}},{key:"addEvent",value:function(t){var e,n,r,o=this,i=t.applyFilter,a=function(t){var e;return D()(e=o._changeFilterState).call(e,o,i,t)},s=function(t){return function(e,n){return o._changeFilterState(i,t,n)}};this.eventHandler={changeBlendFilter:a("blend"),blandTypeClick:function(t){return t.stopPropagation()}},X()(Co,(function(t){var e=o.selector(".tie-".concat(t)),n=Wn(t);o.checkedMap[n]=e,o.eventHandler[n]=a(n),e.addEventListener("change",o.eventHandler[n])})),this._els.removewhiteDistanceRange.on("change",s("removeWhite")),this._els.colorfilterThresholdRange.on("change",s("colorFilter")),this._els.pixelateRange.on("change",s("pixelate")),this._els.noiseRange.on("change",s("noise")),this._els.brightnessRange.on("change",s("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",a("multiply")),this._els.filterTintColor.on("change",a("tint")),this._els.tintOpacity.on("change",s("tint")),this._els.filterMultiplyColor.on("changeShow",D()(e=this.colorPickerChangeShow).call(e,this)),this._els.filterTintColor.on("changeShow",D()(n=this.colorPickerChangeShow).call(n,this)),this._els.filterBlendColor.on("changeShow",D()(r=this.colorPickerChangeShow).call(r,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Pr()(this.colorPickerInputBoxes,(function(t){var e,n;t.addEventListener(ke,D()(e=o._onStartEditingInputBox).call(e,o)),t.addEventListener(Me,D()(n=o._onStopEditingInputBox).call(n,o))}),this)}},{key:"setFilterState",value:function(t){var e=t.type,n=t.options,r=t.action,o=this._getFilterNameFromOptions(e,n),i="remove"===r;i||this._setFilterState(o,n),this.checkedMap[o].checked=!i}},{key:"initFilterCheckBoxState",value:function(){X()(this.checkedMap,(function(t){t.checked=!1}),this)}},{key:"_setFilterState",value:function(t,e){"colorFilter"===t?this._els.colorfilterThresholdRange.value=e.distance:"removeWhite"===t?this._els.removewhiteDistanceRange.value=e.distance:"pixelate"===t?this._els.pixelateRange.value=e.blocksize:"brightness"===t?this._els.brightnessRange.value=e.brightness:"noise"===t?this._els.noiseRange.value=e.noise:"tint"===t?(this._els.tintOpacity.value=e.alpha,this._els.filterTintColor.color=e.color):"blend"===t?this._els.filterBlendColor.color=e.color:"multiply"===t&&(this._els.filterMultiplyColor.color=e.color)}},{key:"_getFilterNameFromOptions",value:function(t,e){var n=t;return"removeColor"===t?n=_o()(e.useAlpha)?"removeWhite":"colorFilter":"blendColor"===t&&(n={add:"blend",multiply:"multiply",tint:"tint"}[e.mode]),n}},{key:"_changeFilterState",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.checkedMap[e].checked,o=Oo[e],i=this.checkedMap[e].closest(".tui-image-editor-checkbox-group");i&&(r?i.classList.remove("tui-image-editor-disabled"):i.classList.add("tui-image-editor-disabled")),t(r,o,this._getFilterOption(e),!n)}},{key:"_getFilterOption",value:function(t){var e={};switch(t){case"removeWhite":e.color="#FFFFFF",e.useAlpha=!1,e.distance=gr()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":e.color="#FFFFFF",e.distance=gr()(this._els.colorfilterThresholdRange.value);break;case"pixelate":e.blocksize=Un(this._els.pixelateRange.value);break;case"noise":e.noise=Un(this._els.noiseRange.value);break;case"brightness":e.brightness=gr()(this._els.brightnessRange.value);break;case"blend":e.mode="add",e.color=this._els.filterBlendColor.color,e.mode=this._els.blendType.value;break;case"multiply":e.mode="multiply",e.color=this._els.filterMultiplyColor.color;break;case"tint":e.mode="tint",e.color=this._els.filterTintColor.color,e.alpha=this._els.tintOpacity.value;break;case"blur":e.blur=this._els.blurRange.value}return e}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Hr({slider:this.selector(".tie-removewhite-distance-range")},kn.removewhiteDistanceRange),brightnessRange:new Hr({slider:this.selector(".tie-brightness-range")},kn.brightnessRange),noiseRange:new Hr({slider:this.selector(".tie-noise-range")},kn.noiseRange),pixelateRange:new Hr({slider:this.selector(".tie-pixelate-range")},kn.pixelateRange),colorfilterThresholdRange:new Hr({slider:this.selector(".tie-colorfilter-threshold-range")},kn.colorfilterThresholdRange),filterTintColor:new Br(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Br(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Br(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:kn.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(Ee)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(Ee)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(Ee))}},{key:"_pickerWithRange",value:function(t){var e=document.createElement("div"),n=document.createElement("label"),r=document.createElement("div");return r.id="tie-filter-tint-opacity",n.innerHTML="Opacity",e.appendChild(n),e.appendChild(r),t.appendChild(e),t.style.height="130px",new Hr({slider:r},kn.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(t){var e=document.createElement("div"),n=document.createElement("select"),r=document.createElement("ul");return e.className="tui-image-editor-selectlist-wrap",r.className="tui-image-editor-selectlist",e.appendChild(n),e.appendChild(r),this._makeSelectOptionList(n),t.appendChild(e),t.style.height="130px",this._drawSelectOptionList(n,r),this._pickerWithSelectboxForAddEvent(n,r),n}},{key:"_drawSelectOptionList",value:function(t,e){var n=t.querySelectorAll("option");X()(n,(function(t){var n=document.createElement("li");n.innerHTML=t.innerHTML,n.setAttribute("data-item",t.value),e.appendChild(n)}))}},{key:"_pickerWithSelectboxForAddEvent",value:function(t,e){var n=this;e.addEventListener("click",(function(r){var o=r.target.getAttribute("data-item"),i=document.createEvent("HTMLEvents");t.querySelector('[value="'.concat(o,'"]')).selected=!0,i.initEvent("change",!0,!0),t.dispatchEvent(i),n.selectBoxShow=!1,e.style.display="none"})),t.addEventListener("mousedown",(function(r){r.preventDefault(),n.selectBoxShow=!n.selectBoxShow,e.style.display=n.selectBoxShow?"block":"none",e.setAttribute("data-selectitem",t.value),e.querySelector("[data-item='".concat(t.value,"']")).classList.add("active")}))}},{key:"_makeSelectOptionList",value:function(t){X()(So,(function(e){var n=document.createElement("option");n.setAttribute("value",e),n.innerHTML=e.replace(/^[a-z]/,(function(t){return t.toUpperCase()})),t.appendChild(n)}))}}]),n}(Wr),jo=i(934),Io=i.n(jo);function Ao(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var To=function(t){Mr(n,t);var e=Ao(n);function n(t,r){var o,i=r.locale,a=r.makeSvgIcon;return I(this,n),o=e.call(this,t,{name:"history"}),t.classList.add("enabled"),o.locale=i,o.makeSvgIcon=a,o._eventHandler={},o._historyIndex=o.getListLength(),o}return T(n,[{key:"add",value:function(t){var e=t.name,n=t.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var r=function(t){var e,n,r,o=t.locale,i=t.makeSvgIcon,a=t.name,s=t.detail;return L()(e=L()(n=L()(r='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(i(["normal","active"],"history-".concat(a.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(r,o.localize(a),"\n            ")).call(n,s?"(".concat(o.localize(s),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(e,i(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:e,detail:n}),o=this.makeListItemElement(r);this.pushListItemElement(o),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var t=this;this._eventHandler.history=function(e){return t._clickHistoryItem(e)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(t){var e=t.target.closest(".".concat("history-item"));if(e){var n=Io()(e.getAttribute("data-index"),10);if(n!==this._historyIndex){var r=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(r):this._actions.redo(r)}}}},{key:"_selectItem",value:function(t){for(var e=0;e<this.getListLength();e+=1)this.removeClass(e,"selected-item"),this.removeClass(e,"disabled-item"),e>t&&this.addClass(e,"disabled-item");this.addClass(t,"selected-item")}},{key:"destroy",value:function(){this.removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){this._actions=t,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),n}(function(){function t(e,n){var r=n.name;I(this,t),this.name=r,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),e.appendChild(this.panelElement)}return T(t,[{key:"_makePanelElement",value:function(){var t=document.createElement("div");return t.className="tie-panel-".concat(this.name),t}},{key:"_makeListElement",value:function(){var t=document.createElement("ol");return t.className="".concat(this.name,"-list"),t}},{key:"makeListItemElement",value:function(t){var e=document.createElement("li");return e.innerHTML=t,e.className="".concat(this.name,"-item"),e.setAttribute("data-index",this.items.length),e}},{key:"pushListItemElement",value:function(t){this.listElement.appendChild(t),this.listElement.scrollTop+=t.offsetHeight,this.items.push(t)}},{key:"deleteListItemElement",value:function(t,e){for(var n=this.items,r=t;r<e;r+=1)this.listElement.removeChild(n[r]);s()(n).call(n,t,e-t+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(t,e){this.items[t]&&this.items[t].classList.add(e)}},{key:"removeClass",value:function(t,e){this.items[t]&&this.items[t].classList.remove(e)}},{key:"toggleClass",value:function(t,e){this.items[t]&&this.items[t].classList.toggle(e)}}]),t}()),Po=function(){function t(e){I(this,t),this._locale=e}return T(t,[{key:"localize",value:function(t){return this._locale[t]||t}}]),t}(),Do={Shape:Xr,Crop:Kr,Resize:$r,Flip:no,Rotate:io,Text:co,Mask:fo,Icon:vo,Draw:yo,Filter:Eo},No="zoomIn",Lo="hand",Ro=function(){function t(e,n,r){I(this,t),this.options=this._initializeOption(n),this._actions=r,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new Po(this.options.locale),this.theme=new _r(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(e),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return T(t,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Gn(this)}},{key:"setUiDefaultSelectionStyle",value:function(t){return W()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},t)}},{key:"resizeEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uiSize,n=t.imageSize,r=void 0===n?this.imageSize:n;r!==this.imageSize&&(this.imageSize=r),e&&this._setUiSize(e);var o=this._getCanvasMaxDimension(),i=o.width,a=o.height,s=this._editorElement.style,c=this.options.menuBarPosition;s.height="".concat(a,"px"),s.width="".concat(i,"px"),this._setEditorPosition(c),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var u=this._selectedElement.classList;"top"===c&&this._selectedElement.offsetWidth<"1300"?u.add("tui-image-editor-top-optimization"):u.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(t){this._buttonElements[t].classList.toggle("on"),t===No?this._buttonElements[Lo].classList.remove("on"):this._buttonElements[No].classList.remove("on")}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[No].classList.remove("on")}},{key:"changeHandButtonStatus",value:function(t){this._buttonElements[Lo].classList[t?"add":"remove"]("on")}},{key:"changeHelpButtonEnabled",value:function(t,e){this._buttonElements[t].classList[e?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(t){return W()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},t)}},{key:"_setUiSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,e=this._selectedElement.style;e.width=t.width,e.height=t.height}},{key:"_makeSubMenu",value:function(){var t=this;X()(this.options.menu,(function(e){var n,r=Do[e.replace(/^[a-z]/,(function(t){return t.toUpperCase()}))];t._makeMenuElement(e),t._buttonElements[e]=t._menuBarElement.querySelector(".tie-btn-".concat(e)),t[e]=new r(t._subMenuElement,{locale:t._locale,makeSvgIcon:D()(n=t.theme.makeMenSvgIconSet).call(n,t.theme),menuBarPosition:t.options.menuBarPosition,usageStatistics:t.options.usageStatistics})}))}},{key:"_attachHistoryEvent",value:function(){var t,e,n;this.on(ge,D()(t=this._addHistory).call(t,this)),this.on(me,D()(e=this._selectPrevHistory).call(e,this)),this.on(ye,D()(n=this._selectNextHistory).call(n,this))}},{key:"_attachZoomEvent",value:function(){var t=this;this.on(_e,(function(){t.offZoomInButtonStatus(),t.changeHandButtonStatus(!0)})),this.on(we,(function(){return t.changeHandButtonStatus(!1)}))}},{key:"_makeUiElement",value:function(t){var e,n;n=t.nodeType?t:document.querySelector(t);var r,o=(r=n,function(t){return r.querySelector(t)});n.classList.add("tui-image-editor-container"),n.innerHTML=function(t){var e,n,r,o,i,a,s=t.locale,c=t.biImage,u=t.loadButtonStyle,l=t.downloadButtonStyle,f=t.menuBarPosition;return L()(e=L()(n=L()(r=L()(o=L()(i='\n    <ul class="tui-image-editor-help-menu '.concat((a=f,"top"===a?"bottom":"left"===a?"right":"right"===a?"left":"top"),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(i,c,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(o,u,'">\n                ')).call(r,s.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(n,l,'">\n                ')).call(e,s.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(t){var e,n,r,o,i,a,s,c=t.locale,u=t.biImage,l=t.commonStyle,f=t.headerStyle,h=t.loadButtonStyle,d=t.downloadButtonStyle,p=t.submenuStyle;return L()(e=L()(n=L()(r=L()(o=L()(i=L()(a=L()(s='\n    <div class="tui-image-editor-main-container" style="'.concat(l,'">\n        <div class="tui-image-editor-header" style="')).call(s,f,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(a,u,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(i,h,'">\n                    ')).call(o,c.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(r,d,'">\n                    ')).call(n,c.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(e,p,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=n,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=o(".tui-image-editor-main"),this._editorElementWrap=o(".tui-image-editor-wrap"),this._editorElement=o(".tui-image-editor"),this._helpMenuBarElement=o(".tui-image-editor-help-menu"),this._menuBarElement=o(".tui-image-editor-menu"),this._subMenuElement=o(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new To(this._buttonElements.history,{locale:this._locale,makeSvgIcon:D()(e=this.theme.makeMenSvgIconSet).call(e,this.theme)})}},{key:"_activateZoomMenus",value:function(){var t=this;X()(vt,(function(e){t.changeHelpButtonEnabled(e,!0)}))}},{key:"_makeHelpMenuWithPartition",value:function(){return S(gt)}},{key:"_addHelpMenus",value:function(){var t=this,e=this._makeHelpMenuWithPartition();X()(e,(function(e){e?(t._makeMenuElement(e,["normal","disabled","hover"],"help"),t._buttonElements[e]=t._helpMenuBarElement.querySelector(".tie-btn-".concat(e))):t._makeMenuPartitionElement()}))}},{key:"_makeMenuPartitionElement",value:function(){var t=document.createElement("li"),e=document.createElement("div");t.className=Xn("item"),e.className=Xn("icpartition"),t.appendChild(e),this._helpMenuBarElement.appendChild(t)}},{key:"_makeMenuElement",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",i=document.createElement("li"),a=this.theme.makeMenSvgIconSet(r,t);this._addTooltipAttribute(i,t),i.className=L()(e=L()(n="tie-btn-".concat(t," ")).call(n,Xn("item")," ")).call(e,o),i.innerHTML=a,"normal"===o?this._menuBarElement.appendChild(i):this._helpMenuBarElement.appendChild(i)}},{key:"_addHelpActionEvent",value:function(){var t=this;X()(mt,(function(e){t.eventHandler[e]=function(n){return t._actions.main[e](n)},t._buttonElements[e].addEventListener("click",t.eventHandler[e])}))}},{key:"_removeHelpActionEvent",value:function(){var t=this;X()(mt,(function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e])}))}},{key:"_addHistory",value:function(t){if(!function(t){return"string"===typeof t?Tt===t:Tt===t.name}(t)){var e="string"===typeof t?{name:t}:function(t){var e,n,r,o=Pt,i=Dt,a=Wt,s=Rt,c=Bt,u=Ut,l=Ft,h=Yt,d=At,p=Gt,v=Lt,g=Qt,m=t.name,y=t.args;switch(m){case o:r={name:m,detail:"reset"===y[1]?y[1]:f()(e=y[1]).call(e,4)};break;case i:r={name:m,detail:y[2]};break;case s:r={name:De,detail:er(y[1],y[2])};break;case c:r={name:Ne,detail:"Remove"};break;case u:r={name:Le,detail:"Change"};break;case l:r={name:Re,detail:"Change"};break;case h:r={name:ze,detail:"Change"};break;case v:r={name:Fe,detail:y[2]};break;case d:r={name:He,detail:"All"};break;case p:r={name:Ae,detail:"Add"};break;case a:r={name:Be};break;case g:r={name:Pe,detail:L()(n="".concat(~~y[1].width,"x")).call(n,~~y[1].height)};break;default:r={name:m}}return"mask"===y[1]&&(r={name:Ie,detail:"Apply"}),r}(t);this._historyMenu.add(e)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(t){t.target.closest(".".concat("tie-panel-history"))||this._buttonElements.history.classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(t,e){t.setAttribute("tooltip-content",this._locale.localize(e.replace(/^[a-z]/g,(function(t){return t.toUpperCase()}))))}},{key:"_addDownloadEvent",value:function(){var t=this;this.eventHandler.download=function(){return t._actions.main.download()},X()(this._buttonElements.download,(function(e){e.addEventListener("click",t.eventHandler.download)}))}},{key:"_removeDownloadEvent",value:function(){var t=this;X()(this._buttonElements.download,(function(e){e.removeEventListener("click",t.eventHandler.download)}))}},{key:"_addLoadEvent",value:function(){var t=this;this.eventHandler.loadImage=function(e){return t._actions.main.load(e.target.files[0])},X()(this._buttonElements.load,(function(e){e.addEventListener("change",t.eventHandler.loadImage)}))}},{key:"_removeLoadEvent",value:function(){var t=this;X()(this._buttonElements.load,(function(e){e.removeEventListener("change",t.eventHandler.loadImage)}))}},{key:"_addMainMenuEvent",value:function(t){var e=this;this.eventHandler[t]=function(){return e.changeMenu(t)},this._buttonElements[t].addEventListener("click",this.eventHandler[t])}},{key:"_addSubMenuEvent",value:function(t){var e=this;this[t].addEvent(this._actions[t]),this[t].on(Ce,(function(){return e.fire(Ce)})),this[t].on(Oe,(function(){return e.fire(Oe)}))}},{key:"_addMenuEvent",value:function(){var t=this;X()(this.options.menu,(function(e){t._addMainMenuEvent(e),t._addSubMenuEvent(e)}))}},{key:"_removeMainMenuEvent",value:function(){var t=this;X()(this.options.menu,(function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e]),t[e].off(Ce),t[e].off(Oe)}))}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var t=this;X()(this.options.menu,(function(e){t[e].destroy()})),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var t=this,e=this._getLoadImage();e.path&&this._actions.main.initLoadImage(e.path,e.name).then((function(){t.activeMenuEvent()})),this._addLoadEvent();var n=document.createElement("div");n.className=Xn("grid-visual"),n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(t,e,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(t,e,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===t&&e?this.submenu=null:(this._buttonElements[t].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(t)),this.submenu=t,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(t)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var t=this._editorContainerElement.style,e=t.maxWidth,n=t.maxHeight;return{width:gr()(e),height:gr()(n)}}},{key:"_setEditorPosition",value:function(t){var e=this._getCanvasMaxDimension(),n=e.width,r=e.height,o=this._editorElement.style,i=0,a=0;this.submenu&&("bottom"===t?i=r>this._editorElementWrap.scrollHeight-150?(r-this._editorElementWrap.scrollHeight)/2:-75:"top"===t?i=r>this._editorElementWrap.offsetHeight-150?75-(r-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===t?a=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===t&&(a=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),o.top="".concat(i,"px"),o.left="".concat(a,"px")}}]),t}();q().mixin(Ro);var Bo=Ro,zo=i(453),Fo=i.n(zo),Ho=function(){function t(){I(this,t),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return T(t,[{key:"imageToSVG",value:function(t,e,n){var r=this;n=this.checkoptions(n),this.loadImage(t,(function(t){e(r.imagedataToSVG(r.getImgdata(t),n))}),n)}},{key:"imagedataToSVG",value:function(t,e){e=this.checkoptions(e);var n=this.imagedataToTracedata(t,e);return this.getsvgstring(n,e)}},{key:"imageToTracedata",value:function(t,e,n){var r=this;n=this.checkoptions(n),this.loadImage(t,(function(t){e(r.imagedataToTracedata(r.getImgdata(t),n))}),n)}},{key:"imagedataToTracedata",value:function(t,e){e=this.checkoptions(e);var n,r=this.colorquantization(t,e);if(0===e.layering){n={layers:[],palette:r.palette,width:r.array[0].length-2,height:r.array.length-2};for(var o=0;o<r.palette.length;o+=1){var i=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(r,o),e.pathomit),e),e.ltres,e.qtres);n.layers.push(i)}}else{var a=this.layering(r);e.layercontainerid&&this.drawLayers(a,this.specpalette,e.scale,e.layercontainerid);var s=this.batchpathscan(a,e.pathomit),c=this.batchinternodes(s,e);n={layers:this.batchtracelayers(c,e.ltres,e.qtres),palette:r.palette,width:t.width,height:t.height}}return n}},{key:"checkoptions",value:function(t){"string"===typeof(t=t||{})&&(t=t.toLowerCase(),t=this.optionpresets[t]?this.optionpresets[t]:{});for(var e=$()(this.optionpresets.default),n=0;n<e.length;n+=1)t.hasOwnProperty(e[n])||(t[e[n]]=this.optionpresets.default[e[n]]);return t}},{key:"colorquantization",value:function(t,e){var n,r,o,i,a,s,c,u,l=[],f=0,h=[],d=t.width*t.height;for(a=0;a<t.height+2;a+=1)for(l[a]=[],i=0;i<t.width+2;i+=1)l[a][i]=-1;for(u=e.pal?e.pal:0===e.colorsampling?this.generatepalette(e.numberofcolors):1===e.colorsampling?this.samplepalette(e.numberofcolors,t):this.samplepalette2(e.numberofcolors,t),e.blurradius>0&&(t=this.blur(t,e.blurradius,e.blurdelta)),c=0;c<e.colorquantcycles;c+=1){if(c>0)for(s=0;s<u.length;s+=1)h[s].n>0&&(u[s]={r:Math.floor(h[s].r/h[s].n),g:Math.floor(h[s].g/h[s].n),b:Math.floor(h[s].b/h[s].n),a:Math.floor(h[s].a/h[s].n)}),h[s].n/d<e.mincolorratio&&c<e.colorquantcycles-1&&(u[s]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(i=0;i<u.length;i+=1)h[i]={r:0,g:0,b:0,a:0,n:0};for(a=0;a<t.height;a+=1)for(i=0;i<t.width;i+=1){for(f=4*(a*t.width+i),o=0,r=1024,s=0;s<u.length;s+=1)(n=Math.abs(u[s].r-t.data[f])+Math.abs(u[s].g-t.data[f+1])+Math.abs(u[s].b-t.data[f+2])+Math.abs(u[s].a-t.data[f+3]))<r&&(r=n,o=s);h[o].r+=t.data[f],h[o].g+=t.data[f+1],h[o].b+=t.data[f+2],h[o].a+=t.data[f+3],h[o].n+=1,l[a+1][i+1]=o}}return{array:l,palette:u}}},{key:"samplepalette",value:function(t,e){for(var n,r=[],o=0;o<t;o+=1)n=4*Math.floor(Math.random()*e.data.length/4),r.push({r:e.data[n],g:e.data[n+1],b:e.data[n+2],a:e.data[n+3]});return r}},{key:"samplepalette2",value:function(t,e){for(var n,r=[],o=Math.ceil(Math.sqrt(t)),i=Math.ceil(t/o),a=e.width/(o+1),s=e.height/(i+1),c=0;c<i;c+=1)for(var u=0;u<o&&r.length!==t;u+=1)n=4*Math.floor((c+1)*s*e.width+(u+1)*a),r.push({r:e.data[n],g:e.data[n+1],b:e.data[n+2],a:e.data[n+3]});return r}},{key:"generatepalette",value:function(t){var e,n,r,o=[];if(t<8)for(var i=Math.floor(255/(t-1)),a=0;a<t;a+=1)o.push({r:a*i,g:a*i,b:a*i,a:255});else{var s=Math.floor(Math.pow(t,1/3)),c=Math.floor(255/(s-1)),u=t-s*s*s;for(e=0;e<s;e+=1)for(n=0;n<s;n+=1)for(r=0;r<s;r+=1)o.push({r:e*c,g:n*c,b:r*c,a:255});for(e=0;e<u;e+=1)o.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return o}},{key:"layering",value:function(t){var e,n,r,o,i,a,s,c,u,l,f,h=[],d=0,p=t.array.length,v=t.array[0].length;for(f=0;f<t.palette.length;f+=1)for(h[f]=[],l=0;l<p;l+=1)for(h[f][l]=[],u=0;u<v;u+=1)h[f][l][u]=0;for(l=1;l<p-1;l+=1)for(u=1;u<v-1;u+=1)d=t.array[l][u],e=t.array[l-1][u-1]===d?1:0,n=t.array[l-1][u]===d?1:0,r=t.array[l-1][u+1]===d?1:0,o=t.array[l][u-1]===d?1:0,i=t.array[l][u+1]===d?1:0,a=t.array[l+1][u-1]===d?1:0,s=t.array[l+1][u]===d?1:0,c=t.array[l+1][u+1]===d?1:0,h[d][l+1][u+1]=1+2*i+4*c+8*s,o||(h[d][l+1][u]=2+4*s+8*a),n||(h[d][l][u+1]=0+2*r+4*i+8),e||(h[d][l][u]=0+2*n+4+8*o);return h}},{key:"layeringstep",value:function(t,e){var n,r,o=[],i=t.array.length,a=t.array[0].length;for(r=0;r<i;r+=1)for(o[r]=[],n=0;n<a;n+=1)o[r][n]=0;for(r=1;r<i;r+=1)for(n=1;n<a;n+=1)o[r][n]=(t.array[r-1][n-1]===e?1:0)+(t.array[r-1][n]===e?2:0)+(t.array[r][n-1]===e?8:0)+(t.array[r][n]===e?4:0);return o}},{key:"pathscan",value:function(t,e){for(var n,r=[],o=0,i=0,a=0,s=0,c=t[0].length,u=t.length,l=0,f=!0,h=!1,d=0;d<u;d+=1)for(var p=0;p<c;p+=1)if(4===t[d][p]||11===t[d][p])for(a=p,s=d,r[o]={},r[o].points=[],r[o].boundingbox=[a,s,a,s],r[o].holechildren=[],f=!1,i=0,h=11===t[d][p],l=1;!f;){if(r[o].points[i]={},r[o].points[i].x=a-1,r[o].points[i].y=s-1,r[o].points[i].t=t[s][a],a-1<r[o].boundingbox[0]&&(r[o].boundingbox[0]=a-1),a-1>r[o].boundingbox[2]&&(r[o].boundingbox[2]=a-1),s-1<r[o].boundingbox[1]&&(r[o].boundingbox[1]=s-1),s-1>r[o].boundingbox[3]&&(r[o].boundingbox[3]=s-1),n=this.pathscan_combined_lookup[t[s][a]][l],t[s][a]=n[0],l=n[1],a+=n[2],s+=n[3],a-1===r[o].points[0].x&&s-1===r[o].points[0].y)if(f=!0,r[o].points.length<e)r.pop();else{if(r[o].isholepath=!!h,h){for(var v=0,g=[-1,-1,c+1,u+1],m=0;m<o;m++)!r[m].isholepath&&this.boundingboxincludes(r[m].boundingbox,r[o].boundingbox)&&this.boundingboxincludes(g,r[m].boundingbox)&&(v=m,g=r[m].boundingbox);r[v].holechildren.push(o)}o+=1}i+=1}return r}},{key:"boundingboxincludes",value:function(t,e){return t[0]<e[0]&&t[1]<e[1]&&t[2]>e[2]&&t[3]>e[3]}},{key:"batchpathscan",value:function(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.pathscan(t[r],e));return n}},{key:"internodes",value:function(t,e){var n,r,o=[],i=0,a=0,s=0,c=0,u=0;for(n=0;n<t.length;n+=1)for(o[n]={},o[n].points=[],o[n].boundingbox=t[n].boundingbox,o[n].holechildren=t[n].holechildren,o[n].isholepath=t[n].isholepath,i=t[n].points.length,r=0;r<i;r+=1)a=(r+1)%i,s=(r+2)%i,c=(r-1+i)%i,u=(r-2+i)%i,e.rightangleenhance&&this.testrightangle(t[n],u,c,r,a,s)&&(o[n].points.length>0&&(o[n].points[o[n].points.length-1].linesegment=this.getdirection(o[n].points[o[n].points.length-1].x,o[n].points[o[n].points.length-1].y,t[n].points[r].x,t[n].points[r].y)),o[n].points.push({x:t[n].points[r].x,y:t[n].points[r].y,linesegment:this.getdirection(t[n].points[r].x,t[n].points[r].y,(t[n].points[r].x+t[n].points[a].x)/2,(t[n].points[r].y+t[n].points[a].y)/2)})),o[n].points.push({x:(t[n].points[r].x+t[n].points[a].x)/2,y:(t[n].points[r].y+t[n].points[a].y)/2,linesegment:this.getdirection((t[n].points[r].x+t[n].points[a].x)/2,(t[n].points[r].y+t[n].points[a].y)/2,(t[n].points[a].x+t[n].points[s].x)/2,(t[n].points[a].y+t[n].points[s].y)/2)});return o}},{key:"testrightangle",value:function(t,e,n,r,o,i){return t.points[r].x===t.points[e].x&&t.points[r].x===t.points[n].x&&t.points[r].y===t.points[o].y&&t.points[r].y===t.points[i].y||t.points[r].y===t.points[e].y&&t.points[r].y===t.points[n].y&&t.points[r].x===t.points[o].x&&t.points[r].x===t.points[i].x}},{key:"getdirection",value:function(t,e,n,r){return t<n?e<r?1:e>r?7:0:t>n?e<r?3:e>r?5:4:e<r?2:e>r?6:8}},{key:"batchinternodes",value:function(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.internodes(t[r],e));return n}},{key:"tracepath",value:function(t,e,n){var r,o,i,a=0,s={segments:[]};for(s.boundingbox=t.boundingbox,s.holechildren=t.holechildren,s.isholepath=t.isholepath;a<t.points.length;){var c;for(r=t.points[a].linesegment,o=-1,i=a+1;(t.points[i].linesegment===r||t.points[i].linesegment===o||-1===o)&&i<t.points.length-1;)t.points[i].linesegment!==r&&-1===o&&(o=t.points[i].linesegment),i+=1;i===t.points.length-1&&(i=0),s.segments=L()(c=s.segments).call(c,this.fitseq(t,e,n,a,i)),a=i>0?i:t.points.length}return s}},{key:"fitseq",value:function(t,e,n,r,o){var i;if(o>t.points.length||o<0)return[];var a,s,c,u=r,l=0,f=!0,h=o-r;h<0&&(h+=t.points.length);for(var d,p=(t.points[o].x-t.points[r].x)/h,v=(t.points[o].y-t.points[r].y)/h,g=(r+1)%t.points.length;g!=o;)(d=g-r)<0&&(d+=t.points.length),a=t.points[r].x+p*d,s=t.points[r].y+v*d,(c=(t.points[g].x-a)*(t.points[g].x-a)+(t.points[g].y-s)*(t.points[g].y-s))>e&&(f=!1),c>l&&(u=g,l=c),g=(g+1)%t.points.length;if(f)return[{type:"L",x1:t.points[r].x,y1:t.points[r].y,x2:t.points[o].x,y2:t.points[o].y}];var m=u;f=!0,l=0;var y=(m-r)/h,b=(1-y)*(1-y),_=2*(1-y)*y,w=y*y,x=(b*t.points[r].x+w*t.points[o].x-t.points[m].x)/-_,S=(b*t.points[r].y+w*t.points[o].y-t.points[m].y)/-_;for(g=r+1;g!=o;)_=2*(1-(y=(g-r)/h))*y,w=y*y,a=(b=(1-y)*(1-y))*t.points[r].x+_*x+w*t.points[o].x,s=b*t.points[r].y+_*S+w*t.points[o].y,(c=(t.points[g].x-a)*(t.points[g].x-a)+(t.points[g].y-s)*(t.points[g].y-s))>n&&(f=!1),c>l&&(u=g,l=c),g=(g+1)%t.points.length;if(f)return[{type:"Q",x1:t.points[r].x,y1:t.points[r].y,x2:x,y2:S,x3:t.points[o].x,y3:t.points[o].y}];var C=m;return L()(i=this.fitseq(t,e,n,r,C)).call(i,this.fitseq(t,e,n,C,o))}},{key:"batchtracepaths",value:function(t,e,n){var r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(this.tracepath(t[o],e,n));return r}},{key:"batchtracelayers",value:function(t,e,n){var r=[];for(var o in t)t.hasOwnProperty(o)&&(r[o]=this.batchtracepaths(t[o],e,n));return r}},{key:"roundtodec",value:function(t,e){return Number(t.toFixed(e))}},{key:"svgpathstring",value:function(t,e,n,r){var o,i,a,s=t.layers[e],c=s[n],u="";if(r.linefilter&&c.segments.length<3)return u;if(u=L()(o="<path ".concat(r.desc?L()(i='desc="l '.concat(e," p ")).call(i,n,'" '):"")).call(o,this.tosvgcolorstr(t.palette[e],r),'d="'),-1===r.roundcoords){var l;for(u+=L()(l="M ".concat(c.segments[0].x1*r.scale," ")).call(l,c.segments[0].y1*r.scale," "),a=0;a<c.segments.length;a++){var f,h,d;u+=L()(f=L()(h="".concat(c.segments[a].type," ")).call(h,c.segments[a].x2*r.scale," ")).call(f,c.segments[a].y2*r.scale," "),c.segments[a].hasOwnProperty("x3")&&(u+=L()(d="".concat(c.segments[a].x3*r.scale," ")).call(d,c.segments[a].y3*r.scale," "))}u+="Z "}else{var p;for(u+=L()(p="M ".concat(this.roundtodec(c.segments[0].x1*r.scale,r.roundcoords)," ")).call(p,this.roundtodec(c.segments[0].y1*r.scale,r.roundcoords)," "),a=0;a<c.segments.length;a++){var v,g,m;u+=L()(v=L()(g="".concat(c.segments[a].type," ")).call(g,this.roundtodec(c.segments[a].x2*r.scale,r.roundcoords)," ")).call(v,this.roundtodec(c.segments[a].y2*r.scale,r.roundcoords)," "),c.segments[a].hasOwnProperty("x3")&&(u+=L()(m="".concat(this.roundtodec(c.segments[a].x3*r.scale,r.roundcoords)," ")).call(m,this.roundtodec(c.segments[a].y3*r.scale,r.roundcoords)," "))}u+="Z "}for(var y=0;y<c.holechildren.length;y++){var b,_,w,x,S=s[c.holechildren[y]];if(-1===r.roundcoords)for(S.segments[S.segments.length-1].hasOwnProperty("x3")?u+=L()(b="M ".concat(S.segments[S.segments.length-1].x3*r.scale," ")).call(b,S.segments[S.segments.length-1].y3*r.scale," "):u+=L()(_="M ".concat(S.segments[S.segments.length-1].x2*r.scale," ")).call(_,S.segments[S.segments.length-1].y2*r.scale," "),a=S.segments.length-1;a>=0;a--){var C,O;u+="".concat(S.segments[a].type," "),S.segments[a].hasOwnProperty("x3")&&(u+=L()(O="".concat(S.segments[a].x2*r.scale," ")).call(O,S.segments[a].y2*r.scale," ")),u+=L()(C="".concat(S.segments[a].x1*r.scale," ")).call(C,S.segments[a].y1*r.scale," ")}else for(S.segments[S.segments.length-1].hasOwnProperty("x3")?u+=L()(w="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x3*r.scale)," ")).call(w,this.roundtodec(S.segments[S.segments.length-1].y3*r.scale)," "):u+=L()(x="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x2*r.scale)," ")).call(x,this.roundtodec(S.segments[S.segments.length-1].y2*r.scale)," "),a=S.segments.length-1;a>=0;a--){var k,M;u+="".concat(S.segments[a].type," "),S.segments[a].hasOwnProperty("x3")&&(u+=L()(M="".concat(this.roundtodec(S.segments[a].x2*r.scale)," ")).call(M,this.roundtodec(S.segments[a].y2*r.scale)," ")),u+=L()(k="".concat(this.roundtodec(S.segments[a].x1*r.scale)," ")).call(k,this.roundtodec(S.segments[a].y1*r.scale)," ")}u+="Z "}if(u+='" />',r.lcpr||r.qcpr){for(a=0;a<c.segments.length;a++){var E,j,I,A,T,P,D,N,R,B,z,F,H,U,W,V,Y;c.segments[a].hasOwnProperty("x3")&&r.qcpr&&(u+=L()(E=L()(j=L()(I='<circle cx="'.concat(c.segments[a].x2*r.scale,'" cy="')).call(I,c.segments[a].y2*r.scale,'" r="')).call(j,r.qcpr,'" fill="cyan" stroke-width="')).call(E,.2*r.qcpr,'" stroke="black" />'),u+=L()(A=L()(T=L()(P='<circle cx="'.concat(c.segments[a].x3*r.scale,'" cy="')).call(P,c.segments[a].y3*r.scale,'" r="')).call(T,r.qcpr,'" fill="white" stroke-width="')).call(A,.2*r.qcpr,'" stroke="black" />'),u+=L()(D=L()(N=L()(R=L()(B='<line x1="'.concat(c.segments[a].x1*r.scale,'" y1="')).call(B,c.segments[a].y1*r.scale,'" x2="')).call(R,c.segments[a].x2*r.scale,'" y2="')).call(N,c.segments[a].y2*r.scale,'" stroke-width="')).call(D,.2*r.qcpr,'" stroke="cyan" />'),u+=L()(z=L()(F=L()(H=L()(U='<line x1="'.concat(c.segments[a].x2*r.scale,'" y1="')).call(U,c.segments[a].y2*r.scale,'" x2="')).call(H,c.segments[a].x3*r.scale,'" y2="')).call(F,c.segments[a].y3*r.scale,'" stroke-width="')).call(z,.2*r.qcpr,'" stroke="cyan" />')),!c.segments[a].hasOwnProperty("x3")&&r.lcpr&&(u+=L()(W=L()(V=L()(Y='<circle cx="'.concat(c.segments[a].x2*r.scale,'" cy="')).call(Y,c.segments[a].y2*r.scale,'" r="')).call(V,r.lcpr,'" fill="white" stroke-width="')).call(W,.2*r.lcpr,'" stroke="black" />'))}for(y=0;y<c.holechildren.length;y++)for(S=s[c.holechildren[y]],a=0;a<S.segments.length;a++){var G,X,Z,q,K,Q,J,$,tt,et,nt,rt,ot,it,at,st,ct;S.segments[a].hasOwnProperty("x3")&&r.qcpr&&(u+=L()(G=L()(X=L()(Z='<circle cx="'.concat(S.segments[a].x2*r.scale,'" cy="')).call(Z,S.segments[a].y2*r.scale,'" r="')).call(X,r.qcpr,'" fill="cyan" stroke-width="')).call(G,.2*r.qcpr,'" stroke="black" />'),u+=L()(q=L()(K=L()(Q='<circle cx="'.concat(S.segments[a].x3*r.scale,'" cy="')).call(Q,S.segments[a].y3*r.scale,'" r="')).call(K,r.qcpr,'" fill="white" stroke-width="')).call(q,.2*r.qcpr,'" stroke="black" />'),u+=L()(J=L()($=L()(tt=L()(et='<line x1="'.concat(S.segments[a].x1*r.scale,'" y1="')).call(et,S.segments[a].y1*r.scale,'" x2="')).call(tt,S.segments[a].x2*r.scale,'" y2="')).call($,S.segments[a].y2*r.scale,'" stroke-width="')).call(J,.2*r.qcpr,'" stroke="cyan" />'),u+=L()(nt=L()(rt=L()(ot=L()(it='<line x1="'.concat(S.segments[a].x2*r.scale,'" y1="')).call(it,S.segments[a].y2*r.scale,'" x2="')).call(ot,S.segments[a].x3*r.scale,'" y2="')).call(rt,S.segments[a].y3*r.scale,'" stroke-width="')).call(nt,.2*r.qcpr,'" stroke="cyan" />')),!S.segments[a].hasOwnProperty("x3")&&r.lcpr&&(u+=L()(at=L()(st=L()(ct='<circle cx="'.concat(S.segments[a].x2*r.scale,'" cy="')).call(ct,S.segments[a].y2*r.scale,'" r="')).call(st,r.lcpr,'" fill="white" stroke-width="')).call(at,.2*r.lcpr,'" stroke="black" />'))}}return u}},{key:"getsvgstring",value:function(t,e){var n,r,o;e=this.checkoptions(e);for(var i=t.width*e.scale,a=t.height*e.scale,s=L()(n="<svg ".concat(e.viewbox?L()(r='viewBox="0 0 '.concat(i," ")).call(r,a,'" '):L()(o='width="'.concat(i,'" height="')).call(o,a,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(n,this.versionnumber,'" >'),c=0;c<t.layers.length;c+=1)for(var u=0;u<t.layers[c].length;u+=1)t.layers[c][u].isholepath||(s+=this.svgpathstring(t,c,u,e));return s+="</svg>"}},{key:"compareNumbers",value:function(t,e){return t-e}},{key:"torgbastr",value:function(t){var e,n,r;return L()(e=L()(n=L()(r="rgba(".concat(t.r,",")).call(r,t.g,",")).call(n,t.b,",")).call(e,t.a,")")}},{key:"tosvgcolorstr",value:function(t,e){var n,r,o,i,a,s,c;return L()(n=L()(r=L()(o=L()(i=L()(a=L()(s=L()(c='fill="rgb('.concat(t.r,",")).call(c,t.g,",")).call(s,t.b,')" stroke="rgb(')).call(a,t.r,",")).call(i,t.g,",")).call(o,t.b,')" stroke-width="')).call(r,e.strokewidth,'" opacity="')).call(n,t.a/255,'" ')}},{key:"appendSVGString",value:function(t,e){var n;e?(n=document.getElementById(e))||((n=document.createElement("div")).id=e,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=t}},{key:"blur",value:function(t,e,n){var r,o,i,a,s,c,u,l,f,h={width:t.width,height:t.height,data:[]};if((e=Math.floor(e))<1)return t;e>5&&(e=5),(n=Math.abs(n))>1024&&(n=1024);var d=this.gks[e-1];for(o=0;o<t.height;o++)for(r=0;r<t.width;r++){for(s=0,c=0,u=0,l=0,f=0,i=-e;i<e+1;i++)r+i>0&&r+i<t.width&&(a=4*(o*t.width+r+i),s+=t.data[a]*d[i+e],c+=t.data[a+1]*d[i+e],u+=t.data[a+2]*d[i+e],l+=t.data[a+3]*d[i+e],f+=d[i+e]);a=4*(o*t.width+r),h.data[a]=Math.floor(s/f),h.data[a+1]=Math.floor(c/f),h.data[a+2]=Math.floor(u/f),h.data[a+3]=Math.floor(l/f)}var p=new Uint8ClampedArray(h.data);for(o=0;o<t.height;o++)for(r=0;r<t.width;r++){for(s=0,c=0,u=0,l=0,f=0,i=-e;i<e+1;i++)o+i>0&&o+i<t.height&&(s+=p[a=4*((o+i)*t.width+r)]*d[i+e],c+=p[a+1]*d[i+e],u+=p[a+2]*d[i+e],l+=p[a+3]*d[i+e],f+=d[i+e]);a=4*(o*t.width+r),h.data[a]=Math.floor(s/f),h.data[a+1]=Math.floor(c/f),h.data[a+2]=Math.floor(u/f),h.data[a+3]=Math.floor(l/f)}for(o=0;o<t.height;o++)for(r=0;r<t.width;r++)a=4*(o*t.width+r),Math.abs(h.data[a]-t.data[a])+Math.abs(h.data[a+1]-t.data[a+1])+Math.abs(h.data[a+2]-t.data[a+2])+Math.abs(h.data[a+3]-t.data[a+3])>n&&(h.data[a]=t.data[a],h.data[a+1]=t.data[a+1],h.data[a+2]=t.data[a+2],h.data[a+3]=t.data[a+3]);return h}},{key:"loadImage",value:function(t,e,n){var r=new Image;n&&n.corsenabled&&(r.crossOrigin="Anonymous"),r.src=t,r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),e(t)}}},{key:"getImgdata",value:function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)}},{key:"drawLayers",value:function(t,e,n,r){var o,i,a,s,c,u;for(c in n=n||1,r?(u=document.getElementById(r))||((u=document.createElement("div")).id=r,document.body.appendChild(u)):(u=document.createElement("div"),document.body.appendChild(u)),t)if(t.hasOwnProperty(c)){o=t[c][0].length,i=t[c].length;var l=document.createElement("canvas");l.width=o*n,l.height=i*n;var f=l.getContext("2d");for(s=0;s<i;s+=1)for(a=0;a<o;a+=1)f.fillStyle=this.torgbastr(e[t[c][s][a]%e.length]),f.fillRect(a*n,s*n,n,n);u.appendChild(l)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),t}(),Uo={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var t=this,e=function(){"crop"===t.ui.submenu&&(t.stopDrawingMode(),t.ui.changeMenu("crop"))},n=function(e){var n,r;return n=e,"rotate"===t.ui.submenu&&t.ui.rotate.setRangeBarAngle("setAngle",n),r=e,"filter"===t.ui.submenu&&Fo()(t.ui).setFilterState(r),e},r=function(){Fo()(t.ui)&&Fo()(t.ui).initFilterCheckBoxState()};return W()({initLoadImage:function(n,r){return t.loadImageFromURL(n,r).then((function(r){e(),t.ui.initializeImgUrl=n,t.ui.resizeEditor({imageSize:r}),t.clearUndoStack(),t._invoker.fire(ge,je)}))},undo:function(){t.isEmptyUndoStack()||(e(),t.deactivateAll(),t.undo().then(n))},redo:function(){t.isEmptyRedoStack()||(e(),t.deactivateAll(),t.redo().then(n))},reset:function(){e(),t.loadImageFromURL(t.ui.initializeImgUrl,"resetImage").then((function(n){e(),r(),t.ui.resizeEditor({imageSize:n}),t.clearUndoStack(),t._initHistory()}))},delete:function(){t.ui.changeHelpButtonEnabled("delete",!1),e(),t.removeActiveObject(),t.activeObjectId=null},deleteAll:function(){e(),t.clearObjects(),t.ui.changeHelpButtonEnabled("delete",!1),t.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){Vn()||alert("This browser does not support file-api"),t.ui.initializeImgUrl=F().createObjectURL(n),t.loadImageFromFile(n).then((function(n){e(),r(),t.clearUndoStack(),t.ui.activeMenuEvent(),t.ui.resizeEditor({imageSize:n}),t._clearHistory(),t._invoker.fire(ge,je)})).catch((function(t){return B().reject(t)}))},download:function(){var e,n,r=t.toDataURL(),o=t.getImageName();Vn()&&window.saveAs?(n=(e=function(t){var e,n,r,o="";e=t.replace(/data:(image\/.+);base64,/,(function(t,e){return o=e,""}));var i=(e=atob(e)).length;for(n=new Uint8Array(i),r=0;r<i;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:o})}(r)).type.split("/")[1],o.split(".").pop()!==n&&(o+=".".concat(n)),saveAs(e,o)):window.open().document.body.innerHTML="<img src='".concat(r,"'>")},history:function(e){t.ui.toggleHistoryMenu(e)},zoomIn:function(){t.ui.toggleZoomButtonStatus("zoomIn"),t.deactivateAll(),function(){var e=t._graphics.getZoomMode();t.stopDrawingMode(),e!==qe?(t.startDrawingMode(Ue.ZOOM),t._graphics.startZoomInMode()):t._graphics.endZoomInMode()}()},zoomOut:function(){t._graphics.zoomOut()},hand:function(){t.ui.offZoomInButtonStatus(),t.ui.toggleZoomButtonStatus("hand"),t.deactivateAll(),function(){var e=t._graphics.getZoomMode();t.stopDrawingMode(),e!==Ke?(t.startDrawingMode(Ue.ZOOM),t._graphics.startHandMode()):t._graphics.endHandMode()}()}},this._commonAction())},_iconAction:function(){var t=this;return W()({changeColor:function(e){t.activeObjectId&&t.changeIconColor(t.activeObjectId,e)},addIcon:function(e,n){t.startDrawingMode("ICON"),t.setDrawingIcon(e,n)},cancelAddIcon:function(){t.ui.icon.clearIconType(),t.changeSelectableAll(!0),t.changeCursor("default"),t.stopDrawingMode()},registerDefaultIcons:function(e,n){var r={};r[e]=n,t.registerIcons(r)},registerCustomIcon:function(e,n){(new Ho).imageToSVG(e,(function(e){var r=et(e.match(/path[^>]*d="([^"]*)"/),2)[1],o={};o[n.name]=r,t.registerIcons(o),t.addIcon(n.name,{left:100,top:100})}),Ho.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var t=this;return W()({setDrawMode:function(e,n){t.stopDrawingMode(),"free"===e?t.startDrawingMode("FREE_DRAWING",n):t.startDrawingMode("LINE_DRAWING",n)},setColor:function(e){t.setBrush({color:e})}},this._commonAction())},_maskAction:function(){var t=this;return W()({loadImageFromURL:function(e,n){return t.loadImageFromURL(t.toDataURL(),"FilterImage").then((function(){t.addImageObject(e).then((function(){F().revokeObjectURL(n)})),t._invoker.fire(ge,Ie)}))},applyFilter:function(){t.applyFilter("mask",{maskObjId:t.activeObjectId})}},this._commonAction())},_textAction:function(){var t=this;return W()({changeTextStyle:function(e,n){t.activeObjectId&&t.changeTextStyle(t.activeObjectId,e,n)}},this._commonAction())},_rotateAction:function(){var t=this;return W()({rotate:function(e,n){t.rotate(e,n),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("rotate",e)},setAngle:function(e,n){t.setAngle(e,n),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("setAngle",e)}},this._commonAction())},_shapeAction:function(){var t=this;return W()({changeShape:function(e,n){t.activeObjectId&&t.changeShape(t.activeObjectId,e,n)},setDrawingShape:function(e){t.setDrawingShape(e)}},this._commonAction())},_cropAction:function(){var t=this;return W()({crop:function(){var e=t.getCropzoneRect();e&&!function(t){var e=t.left,n=t.top,r=t.width,o=t.height;return e===Mn&&n===En&&r===jn&&o===In}(e)&&t.crop(e).then((function(){t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("crop"),t._invoker.fire(ge,Te)})).catch((function(t){return B().reject(t)}))},cancel:function(){t.stopDrawingMode(),t.ui.changeMenu("crop")},preset:function(e){switch(e){case"preset-square":t.setCropzoneRect(1);break;case"preset-3-2":t.setCropzoneRect(1.5);break;case"preset-4-3":t.setCropzoneRect(4/3);break;case"preset-5-4":t.setCropzoneRect(5/4);break;case"preset-7-5":t.setCropzoneRect(1.4);break;case"preset-16-9":t.setCropzoneRect(16/9);break;default:t.setCropzoneRect(),t.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var t=this;return W()({getCurrentDimensions:function(){return t._graphics.getCurrentDimensions()},preview:function(e,n,r){var o=t._graphics.getCurrentDimensions(),i=function(){return o.width/o.height},a={};switch(e){case"width":a.width=n,a.height=r?n/i():o.height;break;case"height":a.height=n,a.width=r?n*i():o.width;break;default:a=o}t._graphics.resize(a).then((function(){t.ui.resizeEditor()})),r&&(t.ui.resize.setWidthValue(a.width),t.ui.resize.setHeightValue(a.height))},resize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=t._graphics.getCurrentDimensions()),t.resize(e).then((function(){t._graphics.setOriginalDimensions(e),t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize")})).catch((function(t){return B().reject(t)}))},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t._graphics.getOriginalDimensions();t.ui.resize.setWidthValue(n.width,!0),t.ui.resize.setHeightValue(n.height,!0),t._graphics.resize(n).then((function(){e||(t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize"))}))}},this._commonAction())},_flipAction:function(){var t=this;return W()({flip:function(e){return t[e]()}},this._commonAction())},_filterAction:function(){var t=this;return W()({applyFilter:function(e,n,r,o){e?t.applyFilter(n,r,o):t.hasFilter(n)&&t.removeFilter(n)}},this._commonAction())},setReAction:function(){var t=this;this.on({undoStackChanged:function(e){e?(t.ui.changeHelpButtonEnabled("undo",!0),t.ui.changeHelpButtonEnabled("reset",!0)):(t.ui.changeHelpButtonEnabled("undo",!1),t.ui.changeHelpButtonEnabled("reset",!1)),t.ui.resizeEditor()},redoStackChanged:function(e){e?t.ui.changeHelpButtonEnabled("redo",!0):t.ui.changeHelpButtonEnabled("redo",!1),t.ui.resizeEditor()},objectActivated:function(e){var n,o;t.activeObjectId=e.id,"cropzone"===e.type?t.ui.crop.changeApplyButtonStatus(!0):r()(n=["rect","circle","triangle"]).call(n,e.type)>-1?(t.stopDrawingMode(),"shape"!==t.ui.submenu&&t.ui.changeMenu("shape",!1,!1),t.ui.shape.setShapeStatus({strokeColor:e.stroke,strokeWidth:e.strokeWidth,fillColor:ct()(e)}),t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height))):"path"===e.type||"line"===e.type?"draw"!==t.ui.submenu&&(t.ui.changeMenu("draw",!1,!1),t.ui.draw.changeStandbyMode()):r()(o=["i-text","text"]).call(o,e.type)>-1?("text"!==t.ui.submenu&&t.ui.changeMenu("text",!1,!1),t.ui.text.setTextStyleStateOnAction(e)):"icon"===e.type&&(t.stopDrawingMode(),"icon"!==t.ui.submenu&&t.ui.changeMenu("icon",!1,!1),t.ui.icon.setIconPickerColor(ct()(e)))},addText:function(e){var n=t.ui.text,r=n.textColor,o=n.fontSize,i=n.fontStyle,a=n.fontWeight,s=n.underline;t.addText("Double Click",{position:e.originPosition,styles:{fill:r,fontSize:o,fontFamily:"Noto Sans",fontStyle:i,fontWeight:a,underline:s}}).then((function(){t.changeCursor("default")}))},addObjectAfter:function(e){var n;"icon"===e.type?t.ui.icon.changeStandbyMode():r()(n=["rect","circle","triangle"]).call(n,e.type)>-1&&(t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height)),t.ui.shape.changeStandbyMode())},objectScaled:function(e){var n,o;if(r()(n=["i-text","text"]).call(n,e.type)>-1)t.ui.text.fontSize=Un(e.fontSize);else if(r()(o=["rect","circle","triangle"]).call(o,e.type)>=0){var i=e.width,a=e.height,s=t.ui.shape.getStrokeValue();i<s&&t.ui.shape.setStrokeValue(i),a<s&&t.ui.shape.setStrokeValue(a)}},selectionCleared:function(){t.activeObjectId=null,"text"===t.ui.submenu?t.changeCursor("text"):Kn(["draw","crop","resize"],t.ui.submenu)||t.stopDrawingMode()}})},_historyAction:function(){var t=this;return{undo:function(e){return t.undo(e)},redo:function(e){return t.redo(e)}}},_commonAction:function(){var t,e,n,r,o=this,i=Ue.TEXT,a=Ue.CROPPER,s=Ue.SHAPE,c=Ue.ZOOM,u=Ue.RESIZE;return{modeChange:function(t){switch(t){case We:o._changeActivateMode(i);break;case Ve:o.startDrawingMode(a);break;case Ge:o._changeActivateMode(s),o.setDrawingShape(o.ui.shape.type,o.ui.shape.options);break;case Xe:o.startDrawingMode(c);break;case Ye:o.startDrawingMode(u)}},deactivateAll:D()(t=this.deactivateAll).call(t,this),changeSelectableAll:D()(e=this.changeSelectableAll).call(e,this),discardSelection:D()(n=this.discardSelection).call(n,this),stopDrawingMode:D()(r=this.stopDrawingMode).call(r,this)}},mixin:function(t){W()(t.prototype,this)}},Wo=i(602),Vo=i.n(Wo),Yo=i(5573),Go=i.n(Yo),Xo=function(){function t(e,n){I(this,t),this.name=e,this.graphics=n}return T(t,[{key:"fire",value:function(){for(var t=this.graphics,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.graphics.fire.apply(t,n)}},{key:"setCanvasImage",value:function(t,e){this.graphics.setCanvasImage(t,e)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(t,e){this.graphics.setImageProperties(t,e)}},{key:"setCanvasCssDimension",value:function(t){this.graphics.setCanvasCssDimension(t)}},{key:"setCanvasBackstoreDimension",value:function(t){this.graphics.setCanvasBackstoreDimension(t)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),t}();function Zo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var qo={padding:0,crossOrigin:"Anonymous"},Ko=function(t){Mr(n,t);var e=Zo(n);function n(t){return I(this,n),e.call(this,jt.IMAGE_LOADER,t)}return T(n,[{key:"load",value:function(t,e){var n,r=this;if(t||e)n=this._setBackgroundImage(e).then((function(e){return r.setCanvasImage(t,e),r.adjustCanvasDimension(),e}));else{var o=this.getCanvas();o.backgroundImage=null,o.renderAll(),n=new(B())((function(t){r.setCanvasImage("",null),t()}))}return n}},{key:"_setBackgroundImage",value:function(t){var e=this;return t?new(B())((function(n,r){var o=e.getCanvas();o.setBackgroundImage(t,(function(){var t=o.backgroundImage;t&&t.getElement()?n(t):r(vn)}),qo)})):B().reject(pn)}}]),n}(Xo),Qo=["tl","tr","mt","ml","mr","mb","bl","br"],Jo=function(){};function $o(t,e){return t>e?"width":"height"}var ti=H.fabric.util.createClass(H.fabric.Rect,{initialize:function(t,e,n){(e=W()(e,n)).type="cropzone",this.callSuper("initialize",e),this._addEventHandler(),this.canvas=t,this.options=e},canvasEventDelegation:function(t){var e,n="unregistered";return this.canvasEventTrigger[t]!==Jo?n="registered":r()(e=[$t,te]).call(e,t)<0&&(n="none"),n},canvasEventRegister:function(t,e){this.canvasEventTrigger[t]=e},_addEventHandler:function(){var t,e,n,r,o;this.canvasEventTrigger=(j(t={},$t,Jo),j(t,te,Jo),t),this.on({moving:D()(e=this._onMoving).call(e,this),scaling:D()(n=this._onScaling).call(n,this)}),H.fabric.util.addListener(document,"keydown",D()(r=this._onKeyDown).call(r,this)),H.fabric.util.addListener(document,"keyup",D()(o=this._onKeyUp).call(o,this))},_renderCropzone:function(t){var e=this.flipX?-1:1,n=this.flipY?-1:1,r=e/this.scaleX,o=n/this.scaleY;t.scale(r,o),this._fillOuterRect(t,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(t),this._strokeBorder(t,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(t,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(t,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),t.scale(1/r,1/o)},_render:function(t){this.callSuper("_render",t),this._renderCropzone(t)},_fillOuterRect:function(t,e){var n=this._getCoordinates(),r=n.x,o=n.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(r[0]-1,o[0]-1),t.lineTo(r[3]+1,o[0]-1),t.lineTo(r[3]+1,o[3]+1),t.lineTo(r[0]-1,o[3]+1),t.lineTo(r[0]-1,o[0]-1),t.closePath(),t.moveTo(r[1],o[1]),t.lineTo(r[1],o[2]),t.lineTo(r[2],o[2]),t.lineTo(r[2],o[1]),t.lineTo(r[1],o[1]),t.closePath(),ct()(t).call(t),t.restore()},_fillInnerRect:function(t){var e=this._getCoordinates(),n=e.x,r=e.y,o=this._caculateInnerPosition(n,(n[2]-n[1])/3),i=this._caculateInnerPosition(r,(r[2]-r[1])/3);t.save(),t.strokeStyle="rgba(255, 255, 255, 0.7)",t.lineWidth=this.options.lineWidth,t.beginPath(),t.moveTo(o[0],i[1]),t.lineTo(o[3],i[1]),t.moveTo(o[0],i[2]),t.lineTo(o[3],i[2]),t.moveTo(o[1],i[0]),t.lineTo(o[1],i[3]),t.moveTo(o[2],i[0]),t.lineTo(o[2],i[3]),t.stroke(),t.closePath(),t.restore()},_caculateInnerPosition:function(t,e){var n=[];return n[0]=t[1],n[1]=t[1]+e,n[2]=t[1]+2*e,n[3]=t[2],n},_getCoordinates:function(){var t,e,n=this.canvas,r=this.width,o=this.height,i=this.left,a=this.top,s=r/2,c=o/2,u=n.getHeight(),l=n.getWidth();return{x:yr()(t=[-(s+i),-s,s,s+(l-i-r)]).call(t,Math.ceil),y:yr()(e=[-(c+a),-c,c,c+(u-a-o)]).call(e,Math.ceil)}},_strokeBorder:function(t,e,n){var r=n.lineDashWidth,o=n.lineDashOffset,i=n.lineWidth,a=this.width/2,s=this.height/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([r,r]),o&&(t.lineDashOffset=o),i&&(t.lineWidth=i),t.beginPath(),t.moveTo(-a,-s),t.lineTo(a,-s),t.lineTo(a,s),t.lineTo(-a,s),t.lineTo(-a,-s),t.stroke(),t.restore()},_onMoving:function(){var t=this.height,e=this.width,n=this.left,r=this.top,o=this.canvas.getWidth()-e,i=this.canvas.getHeight()-t;this.left=zn(n,0,o),this.top=zn(r,0,i),this.canvasEventTrigger[$t](this)},_onScaling:function(t){var e=t.transform.corner,n=this.canvas.getPointer(t.e),r=this._calcScalingSizeFromPointer(n,e);this.scale(1).set(r),this.canvasEventTrigger[te](this)},_calcScalingSizeFromPointer:function(t,e){return function(t){return r()(Qo).call(Qo,t)>=0}(e)&&this._resizeCropZone(t,e)},adjustRatioCropzoneSize:function(t){var e=t.width,n=t.height,r=t.leftMaker,o=t.topMaker,i=t.maxWidth,a=t.maxHeight,s=t.scaleTo;if(e=i?zn(e,1,i):e,n=a?zn(n,1,a):n,!this.presetRatio)return this._withShiftKey&&(e>n?n=e:n>e&&(e=n)),{width:e,height:n,left:r(e),top:o(n)};"width"===s?n=e/this.presetRatio:e=n*this.presetRatio;var c=Math.min(i/e,a/n);if(c<=1){var u,l=et(yr()(u=[e,n]).call(u,(function(t){return t*c})),2);e=l[0],n=l[1]}return{width:e,height:n,left:r(e),top:o(n)}},_getCropzoneRectInfo:function(){var t=this.canvas,e=t.width,n=t.height,r=this.getBoundingRect(!1,!0),o=r.top,i=r.left,a=r.width,s=r.height;return{rectTop:o,rectLeft:i,rectWidth:a,rectHeight:s,rectRight:i+a,rectBottom:o+s,canvasWidth:e,canvasHeight:n}},_resizeCropZone:function(t,e){var n=t.x,r=t.y,o=this._getCropzoneRectInfo(),i=o.rectWidth,a=o.rectHeight,s=o.rectTop,c=o.rectLeft,u=o.rectBottom,l=o.rectRight,f=o.canvasWidth,h=o.canvasHeight,d={tl:{width:l-n,height:u-r,leftMaker:function(t){return l-t},topMaker:function(t){return u-t},maxWidth:l,maxHeight:u,scaleTo:$o(c-n,s-r)},tr:{width:n-c,height:u-r,leftMaker:function(){return c},topMaker:function(t){return u-t},maxWidth:f-c,maxHeight:u,scaleTo:$o(n-l,s-r)},mt:{width:i,height:u-r,leftMaker:function(){return c},topMaker:function(t){return u-t},maxWidth:f-c,maxHeight:u,scaleTo:"height"},ml:{width:l-n,height:a,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:"width"},mr:{width:n-c,height:a,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:"width"},mb:{width:i,height:r-s,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:"height"},bl:{width:l-n,height:r-s,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:$o(c-n,r-u)},br:{width:n-c,height:r-s,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:$o(n-l,r-u)}};return this.adjustRatioCropzoneSize(d[e])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(t){t.keyCode===en&&(this._withShiftKey=!0)},_onKeyUp:function(t){t.keyCode===en&&(this._withShiftKey=!1)}});function ei(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ni={presetRatio:null,top:-10,left:-10,height:1,width:1},ri=function(t){Mr(n,t);var e=ei(n);function n(t){var r,o,i,a,s,c;return I(this,n),(c=e.call(this,jt.CROPPER,t))._cropzone=null,c._startX=null,c._startY=null,c._withShiftKey=!1,c._listeners={keydown:D()(r=c._onKeyDown).call(r,Er(c)),keyup:D()(o=c._onKeyUp).call(o,Er(c)),mousedown:D()(i=c._onFabricMouseDown).call(i,Er(c)),mousemove:D()(a=c._onFabricMouseMove).call(a,Er(c)),mouseup:D()(s=c._onFabricMouseUp).call(s,Er(c))},c}return T(n,[{key:"start",value:function(){if(!this._cropzone){var t=this.getCanvas();t.forEachObject((function(t){t.evented=!1})),this._cropzone=new ti(t,W()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},It,this.graphics.cropSelectionStyle)),t.discardActiveObject(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.selection=!1,t.defaultCursor="crosshair",H.fabric.util.addListener(document,"keydown",this._listeners.keydown),H.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var t=this.getCanvas(),e=this._cropzone;e&&(t.remove(e),t.selection=!0,t.defaultCursor="default",t.off("mouse:down",this._listeners.mousedown),t.forEachObject((function(t){t.evented=!0})),this._cropzone=null,H.fabric.util.removeListener(document,"keydown",this._listeners.keydown),H.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(t){this._cropzone&&this._cropzone.set({visible:t})}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas();if(!t.target){e.selection=!1;var n=e.getPointer(t.e);this._startX=n.x,this._startY=n.y,e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e),r=n.x,o=n.y,i=this._cropzone;Math.abs(r-this._startX)+Math.abs(o-this._startY)>10&&(e.remove(i),i.set(this._calcRectDimensionFromPoint(r,o,i.presetRatio)),e.add(i),e.setActiveObject(i))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getCanvas(),o=r.getWidth(),i=r.getHeight(),a=this._startX,s=this._startY,c=zn(t,0,a),u=zn(e,0,s),l=zn(t,a,o)-c,f=zn(e,s,i)-u;return this._withShiftKey&&!n?(l>f?f=l:f>l&&(l=f),a>=t&&(c=a-l),s>=e&&(u=s-f)):n&&(f=l/n,a>=t&&(c=zn(a-l,0,o)),s>=e&&(u=zn(s-f,0,i)),u+f>i&&(l=(f=i-u)*n,a>=t&&(c=zn(a-l,0,o)),s>=e&&(u=zn(s-f,0,i)))),{left:c,top:u,width:l,height:f}}},{key:"_onFabricMouseUp",value:function(){var t=this._cropzone,e=this._listeners,n=this.getCanvas();n.setActiveObject(t),n.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})}},{key:"getCroppedImageData",value:function(t){var e=this.getCanvas(),n=e.contains(this._cropzone);if(!t)return null;n&&e.remove(this._cropzone);var r={imageName:this.getImageName(),url:e.toDataURL(t)};return n&&e.add(this._cropzone),r}},{key:"getCropzoneRect",value:function(){var t=this._cropzone;return t.isValid()?{left:t.left,top:t.top,width:t.width,height:t.height}:null}},{key:"setCropzoneRect",value:function(t){var e=this.getCanvas(),n=this._cropzone;e.discardActiveObject(),e.selection=!1,e.remove(n),n.set(t?this._getPresetPropertiesForCropSize(t):ni),e.add(n),e.selection=!0,t&&e.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(t){var e,n,r=this.getCanvas(),o=r.getWidth(),i=r.getHeight(),a=o>=i?o:i,s=function(t,e){return t>e?e/t:1},c=a*t,u=a,l=s(c,o),f=et(yr()(e=[c,u]).call(e,(function(t){return t*l})),2);c=f[0];var h=s(u=f[1],i),d=et(yr()(n=[c,u]).call(n,(function(t){return Number((t*h).toFixed(2))})),2);return c=d[0],{presetRatio:t,top:(i-(u=d[1]))/2,left:(o-c)/2,width:c,height:u}}},{key:"_onKeyDown",value:function(t){t.keyCode===en&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(t){t.keyCode===en&&(this._withShiftKey=!1)}}]),n}(Xo);function oi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ii=function(t){Mr(n,t);var e=oi(n);function n(t){return I(this,n),e.call(this,jt.FLIP,t)}return T(n,[{key:"getCurrentSetting",value:function(){var t=this.getCanvasImage();return{flipX:t.flipX,flipY:t.flipY}}},{key:"set",value:function(t){var e=this.getCurrentSetting(),n=e.flipX!==t.flipX,r=e.flipY!==t.flipY;return n||r?(W()(e,t),this.setImageProperties(e,!0),this._invertAngle(n,r),this._flipObjects(n,r),B().resolve({flipX:e.flipX,flipY:e.flipY,angle:this.getCanvasImage().angle})):B().reject(fn)}},{key:"_invertAngle",value:function(t,e){var n=this.getCanvasImage(),r=n.angle;t&&(r*=-1),e&&(r*=-1),n.rotate(gr()(r)).setCoords()}},{key:"_flipObjects",value:function(t,e){var n=this.getCanvas();t&&n.forEachObject((function(t){t.set({angle:gr()(-1*t.angle),flipX:!t.flipX,left:n.width-t.left}).setCoords()})),e&&n.forEachObject((function(t){t.set({angle:gr()(-1*t.angle),flipY:!t.flipY,top:n.height-t.top}).setCoords()})),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var t=this.getCurrentSetting();return this.set({flipX:!t.flipX,flipY:t.flipY})}},{key:"flipY",value:function(){var t=this.getCurrentSetting();return this.set({flipX:t.flipX,flipY:!t.flipY})}}]),n}(Xo);function ai(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var si=function(t){Mr(n,t);var e=ai(n);function n(t){return I(this,n),e.call(this,jt.ROTATION,t)}return T(n,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(t){var e=this.getCurrentAngle()%360;t%=360;var n=this.getCanvasImage(),r=n.getCenterPoint();n.set({angle:t}).setCoords(),this.adjustCanvasDimension();var o=n.getCenterPoint();return this._rotateForEachObject(r,o,t-e),B().resolve(t)}},{key:"_rotateForEachObject",value:function(t,e,n){var r=this.getCanvas(),o=t.x-e.x,i=t.y-e.y;r.forEachObject((function(e){var r=e.getCenterPoint(),a=H.fabric.util.degreesToRadians(n),s=H.fabric.util.rotatePoint(r,t,a);e.set({left:s.x-o,top:s.y-i,angle:(e.angle+n)%360}),e.setCoords()})),r.renderAll()}},{key:"rotate",value:function(t){var e=this.getCurrentAngle();return this.setAngle(e+t)}}]),n}(Xo);function ci(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ui=function(t){Mr(n,t);var e=ci(n);function n(t){var r;return I(this,n),(r=e.call(this,jt.FREE_DRAWING,t)).width=12,r.oColor=new H.fabric.Color("rgba(0, 0, 0, 0.5)"),r}return T(n,[{key:"start",value:function(t){this.getCanvas().isDrawingMode=!0,this.setBrush(t)}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this.width=t.width||this.width,t.color&&(this.oColor=new H.fabric.Color(t.color)),e.width=this.width,e.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),n}(Xo),li=H.fabric.util.createClass(H.fabric.Line,{type:"line",initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",t,e),this.arrowType=e.arrowType},_render:function(t){var e=this.calcLinePoints(),n={fromX:e.x1,fromY:e.y1,toX:e.x2,toY:e.y2};this.ctx=t,t.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(t)},_renderBasicLinePath:function(t){var e=t.fromX,n=t.fromY,r=t.toX,o=t.toY;this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.lineTo(r,o)},_drawDecoratorPath:function(t){this._drawDecoratorPathType("head",t),this._drawDecoratorPathType("tail",t)},_drawDecoratorPathType:function(t,e){switch(this.arrowType[t]){case"triangle":this._drawTrianglePath(t,e);break;case"chevron":this._drawChevronPath(t,e)}},_drawTrianglePath:function(t,e){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(t,e,n),this.ctx.closePath()},_drawChevronPath:function(t,e,n){var r=this,o=e.fromX,i=e.fromY,a=e.toX,s=e.toY,c=this.ctx;n||(n=2.7*this.ctx.lineWidth);var u=et("head"===t?[o,i]:[a,s],2),l=u[0],f=u[1],h=et("head"===t?[a,s]:[o,i],2),d=h[0],p=h[1],v=180*Math.atan2(p-f,d-l)/Math.PI,g=function(t){return r.getRotatePosition(n,t,{x:l,y:f})};c.moveTo.apply(c,S(g(v+30))),c.lineTo(l,f),c.lineTo.apply(c,S(g(v-30)))},getRotatePosition:function(t,e,n){var r=e*Math.PI/180,o=n.x,i=n.y;return[t*Math.cos(r)+o,t*Math.sin(r)+i]}});function fi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var hi=function(t){Mr(n,t);var e=fi(n);function n(t){var r,o,i,a;return I(this,n),(a=e.call(this,jt.LINE,t))._width=12,a._oColor=new H.fabric.Color("rgba(0, 0, 0, 0.5)"),a._listeners={mousedown:D()(r=a._onFabricMouseDown).call(r,Er(a)),mousemove:D()(o=a._onFabricMouseMove).call(o,Er(a)),mouseup:D()(i=a._onFabricMouseUp).call(i,Er(a))},a}return T(n,[{key:"setHeadOption",value:function(t){var e=t.arrowType,n=void 0===e?{head:null,tail:null}:e;this._arrowType=n}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,this.setHeadOption(t),this.setBrush(t),e.forEachObject((function(t){t.set({evented:!1})})),e.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,t.color&&(this._oColor=new H.fabric.Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()}},{key:"end",value:function(){var t=this.getCanvas();t.defaultCursor="default",t.selection=!0,t.forEachObject((function(t){t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e),r=n.x,o=n.y,i=[r,o,r,o];this._line=new li(i,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(un),e.add(this._line),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(ue,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),e.renderAll()}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(ne,this._createLineEventObjectProperties()),this._line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var t=this.graphics.createObjectProperties(this._line),e=this._line,n=e.x1,r=e.x2,o=e.y1,i=e.y2;return W()({},t,{startPosition:{x:n,y:o},endPosition:{x:r,y:i}})}}]),n}(Xo);function di(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var pi={fill:"#000000",left:0,top:0},vi={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},gi=function(t){Mr(n,t);var e=di(n);function n(t){var r,o,i,a,s,c;return I(this,n),(c=e.call(this,jt.TEXT,t))._defaultStyles=pi,c._isSelected=!1,c._selectedObj={},c._editingObj={},c._listeners={mousedown:D()(r=c._onFabricMouseDown).call(r,Er(c)),select:D()(o=c._onFabricSelect).call(o,Er(c)),selectClear:D()(i=c._onFabricSelectClear).call(i,Er(c)),scaling:D()(a=c._onFabricScaling).call(a,Er(c)),textChanged:D()(s=c._onFabricTextChanged).call(s,Er(c))},c._textarea=null,c._ratio=1,c._lastClickTime=(new Date).getTime(),c._editingObjInfos={},c.isPrevEditing=!1,c}return T(n,[{key:"start",value:function(){var t=this,e=this.getCanvas();e.selection=!1,e.defaultCursor="text",e.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),e.forEachObject((function(e){"i-text"===e.type&&t.adjustOriginPosition(e,"start")})),this.setCanvasRatio()}},{key:"end",value:function(){var t=this,e=this.getCanvas();e.selection=!0,e.defaultCursor="default",e.forEachObject((function(n){"i-text"===n.type&&(""===n.text?e.remove(n):t.adjustOriginPosition(n,"end"))})),e.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(t,e){var n="center",r="center";"start"===e&&(n="left",r="top");var o=t.getPointByOrigin(n,r),i=o.x,a=o.y;t.set({left:i,top:a,originX:n,originY:r}),t.setCoords()}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r){var o,i=n.getCanvas(),a=null,s=un,c=n._defaultStyles;n._setInitPos(e.position),e.styles&&(c=W()(c,e.styles)),_o()(e.autofocus)||(e.autofocus=!0),a=new H.fabric.IText(t,c),s=W()({},s,{originX:"left",originY:"top"}),a.set(s),a.on({mouseup:D()(o=n._onFabricMouseUp).call(o,n)}),i.add(a),e.autofocus&&(a.enterEditing(),a.selectAll()),i.getActiveObject()||i.setActiveObject(a),n.isPrevEditing=!0,r(n.graphics.createObjectProperties(a))}))}},{key:"change",value:function(t,e){var n=this;return new(B())((function(r){t.set("text",e),n.getCanvas().renderAll(),r()}))}},{key:"setStyle",value:function(t,e){var n=this;return new(B())((function(r){X()(e,(function(n,r){t[r]===n&&"fontSize"!==r&&(e[r]=vi[r]||"")}),n),"textDecoration"in e&&W()(e,n._getTextDecorationAdaptObject(e.textDecoration)),t.set(e),n.getCanvas().renderAll(),r()}))}},{key:"getText",value:function(t){return t.text}},{key:"setSelectedInfo",value:function(t,e){this._selectedObj=t,this._isSelected=e}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var t=this.getCanvasElement(),e=ot()(t.style.maxWidth,10),n=t.width;this._ratio=n/e}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(t){return{underline:"underline"===t,linethrough:"line-through"===t,overline:"overline"===t}}},{key:"_setInitPos",value:function(t){t=t||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=t.x,this._defaultStyles.top=t.y}},{key:"_onInput",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,n=this._textarea.style;n.width="".concat(Math.ceil(e.width/t),"px"),n.height="".concat(Math.ceil(e.height/t),"px")}},{key:"_onKeyDown",value:function(){var t=this,e=this.getCanvasRatio(),n=this._editingObj,r=this._textarea.style;v()((function(){n.text(t._textarea.value),r.width="".concat(Math.ceil(n.width/e),"px"),r.height="".concat(Math.ceil(n.height/e),"px")}),0)}},{key:"_onBlur",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,n=this._editingObjInfos,r=this._textarea.value,o=e.width/t-n.width/t,i=e.height/t-n.height/t;if(1===t&&(o/=2,i/=2),this._textarea.style.display="none",e.set({left:n.left+o,top:n.top+i}),r.length){this.getCanvas().add(e);var a={id:Rn(e),type:e.type,text:r};this.fire(ie,a)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(t){var e=t.target;e.fontSize=e.fontSize*e.scaleY,e.scaleX=1,e.scaleY=1}},{key:"_onFabricTextChanged",value:function(t){this.fire(ie,t.target)}},{key:"_onFabricSelectClear",value:function(t){var e=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(t.target,!1),e&&""===e.text&&this.getCanvas().remove(e)}},{key:"_onFabricSelect",value:function(t){this.isPrevEditing=!0,this.setSelectedInfo(t.target,!0)}},{key:"_onFabricMouseDown",value:function(t){var e=t.target;e&&!e.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(t))}},{key:"_fireAddText",value:function(t){var e=t.target,n=t.e||{},r=this.getCanvas().getPointer(n);e||this.fire(ce,{originPosition:{x:r.x,y:r.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(t){var e=t.target,n=(new Date).getTime();this._isDoubleClick(n)&&!e.isEditing&&e.enterEditing(),e.isEditing&&this.fire(oe),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(t){return t-this._lastClickTime<500}}]),n}(Xo);function mi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var yi={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},bi=function(t){Mr(n,t);var e=mi(n);function n(t){var r,o,i,a;return I(this,n),(a=e.call(this,jt.ICON,t))._oColor="#000000",a._pathMap=yi,a._type=null,a._iconColor=null,a._handlers={mousedown:D()(r=a._onFabricMouseDown).call(r,Er(a)),mousemove:D()(o=a._onFabricMouseMove).call(o,Er(a)),mouseup:D()(i=a._onFabricMouseUp).call(i,Er(a))},a}return T(n,[{key:"setStates",value:function(t,e){this._type=t,this._iconColor=e}},{key:"start",value:function(){var t=this.getCanvas();t.selection=!1,t.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var t=this.getCanvas();t.selection=!0,t.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r,o){var i=n.getCanvas(),a=n._pathMap[t],s=un,c=a?n._createIcon(a):null;n._icon=c,c||o(hn),c.set(W()({type:"icon",fill:n._oColor},s,e,n.graphics.controlStyle)),i.add(c).setActiveObject(c),r(n.graphics.createObjectProperties(c))}))}},{key:"registerPaths",value:function(t){var e=this;X()(t,(function(t,n){e._pathMap[n]=t}),this)}},{key:"setColor",value:function(t,e){this._oColor=t,e&&"icon"===e.get("type")&&(e.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(t){return ct()(t)}},{key:"_createIcon",value:function(t){return new H.fabric.Path(t)}},{key:"_onFabricMouseDown",value:function(t){var e=this,n=this.getCanvas();this._startPoint=n.getPointer(t.e);var r=this._startPoint,o=r.x,i=r.y;this.add(this._type,{left:o,top:i,fill:this._iconColor}).then((function(){e.fire(ue,e.graphics.createObjectProperties(e._icon)),n.on("mouse:move",e._handlers.mousemove),n.on("mouse:up",e._handlers.mouseup)}))}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas();if(this._icon){var n=e.getPointer(t.e),r=(n.x-this._startPoint.x)/this._icon.width,o=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*r),scaleY:Math.abs(2*o)}),this._icon.setCoords(),e.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(ne,this.graphics.createObjectProperties(this._icon)),this._icon=null,t.off("mouse:down",this._handlers.mousedown),t.off("mouse:move",this._handlers.mousemove),t.off("mouse:up",this._handlers.mouseup)}}]),n}(Xo),_i=H.fabric.util.createClass(H.fabric.Image.filters.BlendImage,{applyTo:function(t){if(this.mask){var e=t.canvasEl,n=e.width,r=e.height,o=this._createCanvasOfMask(n,r),i=e.getContext("2d"),a=o.getContext("2d"),s=i.getImageData(0,0,n,r);this._drawMask(a,e,i),this._mapData(a,s,n,r),t.imageData=s}},_createCanvasOfMask:function(t,e){var n=H.fabric.util.createCanvasElement();return n.width=t,n.height=e,n},_drawMask:function(t){var e=this.mask,n=e.getElement(),r=e.angle,o=e.left,i=e.scaleX,a=e.scaleY,s=e.top;t.save(),t.translate(o,s),t.rotate(r*Math.PI/180),t.scale(i,a),t.drawImage(n,-n.width/2,-n.height/2),t.restore()},_mapData:function(t,e,n,r){for(var o=e.data,i=e.height,a=o,s=e.width*i*4,c=t.getImageData(0,0,n,r).data,u=0;u<s;u+=4)a[u+3]=c[u]}}),wi=H.fabric.util.createClass(H.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),xi=H.fabric.util.createClass(H.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Si=H.fabric.util.createClass(H.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(t){t||(t={}),this.color=t.color||"#FFFFFF",this.threshold=t.threshold||45,this.x=t.x||null,this.y=t.y||null},applyTo:function(t){var e,n,r=t.canvasEl,o=r.getContext("2d"),i=o.getImageData(0,0,r.width,r.height),a=i.data,s=this.threshold,c=H.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(c=this._getColor(i,this.x,this.y)),e=0,n=a.length;e<n;e+=4)this._isOutsideThreshold(a[e],c[0],s)||this._isOutsideThreshold(a[e+1],c[1],s)||this._isOutsideThreshold(a[e+2],c[2],s)||(a[e]=a[e+1]=a[e+2]=a[e+3]=0);o.putImageData(i,0,0)},_isOutsideThreshold:function(t,e,n){var r=t-e;return Math.abs(r)>n},_getColor:function(t,e,n){var r=[0,0,0,0],o=t.data,i=4*(t.width*n+e);return r[0]=o[i],r[1]=o[i+1],r[2]=o[i+2],r[3]=o[i+3],r}});function Ci(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Oi=H.fabric.Image.filters;Oi.Mask=_i,Oi.Sharpen=wi,Oi.Emboss=xi,Oi.ColorFilter=Si;var ki=function(t){Mr(n,t);var e=Ci(n);function n(t){return I(this,n),e.call(this,jt.FILTER,t)}return T(n,[{key:"add",value:function(t,e){var n=this;return new(B())((function(r,o){var i=n._getSourceImage(),a=n.getCanvas(),s=n._getFilter(i,t);s||(s=n._createFilter(i,t,e)),s||o(hn),n._changeFilterValues(s,e),n._apply(i,(function(){a.renderAll(),r({type:t,action:"add",options:e})}))}))}},{key:"remove",value:function(t){var e=this;return new(B())((function(n,r){var o=e._getSourceImage(),i=e.getCanvas(),a=e.getOptions(t);o.filters.length||r(bn),e._removeFilter(o,t),e._apply(o,(function(){i.renderAll(),n({type:t,action:"remove",options:a})}))}))}},{key:"hasFilter",value:function(t){return!!this._getFilter(this._getSourceImage(),t)}},{key:"getOptions",value:function(t){var e=this._getSourceImage(),n=this._getFilter(e,t);return n?W()({},n.options):null}},{key:"_changeFilterValues",value:function(t,e){X()(e,(function(e,n){Y()(t[n])||(t[n]=e)})),X()(t.options,(function(n,r){Y()(e[r])||(t.options[r]=e[r])}))}},{key:"_apply",value:function(t,e){t.filters.push(),t.applyFilters()&&e()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(t,e,n){var r,o=this._getFabricFilterType(e),i=H.fabric.Image.filters[o];return i&&((r=new i(n)).options=n,t.filters.push(r)),r}},{key:"_getFilter",value:function(t,e){var n=null;if(t){var r,o,i=this._getFabricFilterType(e),a=t.filters.length;for(o=0;o<a;o+=1)if((r=t.filters[o]).type===i){n=r;break}}return n}},{key:"_removeFilter",value:function(t,e){var n,r=this._getFabricFilterType(e);t.filters=Fo()(n=t.filters).call(n,(function(t){return t.type!==r}))}},{key:"_getFabricFilterType",value:function(t){return t.charAt(0).toUpperCase()+f()(t).call(t,1)}}]),n}(Xo),Mi=i(1801),Ei=i.n(Mi),ji={pixelate:"blocksize",blur:"blur"},Ii={x:"width",y:"height"},Ai=function(t){var e,n={};return at()(e=$()(t)).call(e,(function(e){n[t[e]]=e})),n}(ji),Ti=null;function Pi(t){return et(qn(t,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function Di(t){var e=t.angle,n=t.flipX,r=t.flipY,o=Pi(t),i=function(t){var e=et(Bi(t),4),n=e[0],r=n.x,o=n.y,i=e[1],a=i.x,s=i.y,c=e[2],u=c.x,l=c.y,f=e[3],h=f.x,d=f.y,p=Math.min(r,a,u,h),v=Math.min(o,s,l,d),g=Math.max(r,a,u,h),m=Math.max(o,s,l,d);return{left:p,top:v,right:g,bottom:m,width:g-p,height:m-v}}(t),a=i.right,s=i.bottom,c=i.width,u=i.height,l=(c-t.width)/2,f=(u-t.height)/2,h=t.left-t.width/2-l,d=t.top-t.height/2-f,p=c/2-l,v=u/2-f,g=Math.max(c,u)+Math.max(l,f),m=function(t){var e=t.shapeObj,n=t.left,r=t.top,o=t.width,i=t.height,a=t.cropX,s=t.cropY,c=t.flipX,u=t.flipY,l=t.right,f=t.bottom,h=function(t,n,r,o){return function(t){var e=t.type,n=t.shapeObj,r=t.outDistance,o=t.left,i=t.top,a=t.flipX,s=t.flipY,c=Bi(n),u=function(t,e,n){var r=0,o=0;X()(e,(function(e,n){e[t]<r&&(r=e[t],o=n)}));var i=et(n[o],2),a=i[0],s=i[1];return{startPointIndex:o,endPointIndex1:a,endPointIndex2:s}}(e,c,[[1,2],[0,3],[0,3],[1,2]]),l=function(t,e,n){var r,o=n.startPointIndex,i=n.endPointIndex1,a=n.endPointIndex2,s="x"===t?180:270;return yr()(r=[i,a]).call(r,(function(t){var n=e[o],r=e[t],i=n.y-r.y,a=n.x-r.x;return 180*Math.atan2(i,a)/Math.PI-s}))}(e,c,u),f=u.startPointIndex,h=function(t){var e=t.outDistance,n=t.startPointIndex,r=t.flipX,o=t.flipY,i=t.reatAngles,a=e*Math.cos(i[0]*Math.PI/180),s=e*Math.cos(i[1]*Math.PI/180),c=2===n||3===n,u={top:c?a:s,left:c?s:a};return function(t,e,n){return(!e&&n||!e&&!n)&&0===t||(e&&n||e&&!n)&&1===t||(!e&&!n||!e&&n)&&2===t||(e&&!n||e&&n)&&3===t}(n,r,o)&&(u.left=-1*u.left),function(t,e,n){return(e&&!n||!e&&!n)&&0===t||(!e&&!n||e&&!n)&&1===t||(e&&n||!e&&n)&&2===t||(!e&&n||e&&n)&&3===t}(n,r,o)&&(u.top=-1*u.top),u}({outDistance:r,startPointIndex:f,flipX:a,flipY:s,reatAngles:l});return[o+h.left,i+h.top]}({type:t,outDistance:n,shapeObj:e,flipX:c,flipY:u,left:r,top:o})},d=o,p=i,v=et(function(t,e){var n=e.left,r=e.top,o=e.width,i=e.height,a=e.cropX,s=e.cropY,c={width:o,height:i};return X()(["x","y"],(function(e){var o="x"===e?a:s,i=c[Ii[e]],u=Ti[Ii[e]];if(i>u){var l=(i-u)/2;c[Ii[e]]=u;var f=et(t(e,l,n,r),2);n=f[0],r=f[1]}if(o<0){var h=et(t(e,o,n,r),2);n=h[0],r=h[1]}})),[n,r,c.width,c.height]}(h,{left:n,top:r,width:o,height:i,cropX:a,cropY:s}),4);n=v[0],r=v[1],o=v[2],i=v[3];var g=et(function(t,e){var n=e.left,r=e.top,o=e.insideCanvasRealImageWidth,i=e.insideCanvasRealImageHeight,a=e.right,s=e.bottom,c=e.cropX,u=e.cropY,l=e.originalWidth,f=e.originalHeight,h=o,d=i,p=Ti,v=p.width,g=p.height;a>v&&c>0&&(h=l-Math.abs(a-v)),s>g&&u>0&&(d=f-Math.abs(s-g));var m={x:(o-h)/2,y:(i-d)/2};return X()(["x","y"],(function(e){var o=m[e];if(o>0){var i=et(t(e,o,n,r),2);n=i[0],r=i[1]}})),[n,r,h,d]}(h,{left:n,top:r,insideCanvasRealImageWidth:o,insideCanvasRealImageHeight:i,right:l,bottom:f,cropX:a,cropY:s,originalWidth:d,originalHeight:p}),4);return n=g[0],r=g[1],o=g[2],i=g[3],[n,r,o,i]}({shapeObj:t,left:p,top:v,width:c,height:u,cropX:h,cropY:d,flipX:n,flipY:r,right:a,bottom:s}),y=et(m,4);p=y[0],v=y[1],c=y[2],u=y[3],o.set({angle:n===r?-e:e,left:p,top:v,width:c,height:u,cropX:h,cropY:d,flipX:n,flipY:r}),Zn(o,{fillImageMaxSize:g})}function Ni(t){var e;return yr()(e=t.filters).call(e,(function(t){var e=et($()(t),1)[0];return j({},Ai[e],t[e])}))}function Li(t,e,n){var r=zi(Ri(t),t.angle,e);n.add(r);var o={fill:new H.fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return Zn(o,{patternSourceCanvas:n}),o}function Ri(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ti&&!e||(Ti=t.toCanvasElement()),Ti}function Bi(t){return[t.getPointByOrigin("left","top"),t.getPointByOrigin("right","top"),t.getPointByOrigin("left","bottom"),t.getPointByOrigin("right","bottom")]}function zi(t,e,n){var r,o=new H.fabric.Image(t);return X()(W().apply(void 0,L()(r=[{}]).call(r,S(n))),(function(t,e){var n,r=(n=e).charAt(0).toUpperCase()+f()(n).call(n,1),i=new H.fabric.Image.filters[r](j({},ji[e],t));o.filters.push(i)})),o.applyFilters(),Zn(o,{originalAngle:e,fillImageMaxSize:Math.max(o.width,o.height)}),Ei().adjustOriginToCenter(o),o}function Fi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Hi=W()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function Ui(t,e,n){var r=ct()(t),o=Qn(ct()(t)),i=r;r.color&&(i=r.color);var a=null;if("filter"===o){var s=n();a=Li(e,Fo()(r),s)}else a={fill:i};return W()({},t,a)}var Wi=function(t){Mr(n,t);var e=Fi(n);function n(t){var r,o,i,a,s,c;return I(this,n),(c=e.call(this,jt.SHAPE,t))._shapeObj=null,c._type="rect",c._options=W()({},Hi),c._isSelected=!1,c._startPoint={},c._withShiftKey=!1,c._handlers={mousedown:D()(r=c._onFabricMouseDown).call(r,Er(c)),mousemove:D()(o=c._onFabricMouseMove).call(o,Er(c)),mouseup:D()(i=c._onFabricMouseUp).call(i,Er(c)),keydown:D()(a=c._onKeyDown).call(a,Er(c)),keyup:D()(s=c._onKeyUp).call(s,Er(c))},c}return T(n,[{key:"start",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="crosshair",t.selection=!1,t.uniformScaling=!0,t.on({"mouse:down":this._handlers.mousedown}),H.fabric.util.addListener(document,"keydown",this._handlers.keydown),H.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="default",t.selection=!0,t.uniformScaling=!1,t.off({"mouse:down":this._handlers.mousedown}),H.fabric.util.removeListener(document,"keydown",this._handlers.keydown),H.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(t,e){this._type=t,e&&(this._options=W()(this._options,e))}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r){var o=n.getCanvas(),i=n._extendOptions(e),a=n._createInstance(t,i),s=n.graphics.createObjectProperties(a);n._bindEventOnShape(a),o.add(a).setActiveObject(a),n._resetPositionFillFilter(a),r(s)}))}},{key:"change",value:function(t,e){var n=this;return new(B())((function(r,o){$n(t)||o(_n);var i="filter"===Qn(ct()(e)),a=n.graphics,s=a.canvasImage,c=a.createStaticCanvas;t.set(i?Ui(e,s,c):e),i&&n._resetPositionFillFilter(t),n.getCanvas().renderAll(),r()}))}},{key:"makeFillPropertyForUserEvent",value:function(t){var e=Jn(t),n={};if(e===yt){var r=Ni(Pi(t));n.type=e,n.filter=r}else n.type=bt,n.color=ct()(t)||"transparent";return n}},{key:"processForCopiedObject",value:function(t,e){if(this._bindEventOnShape(t),"filter"===Jn(t)){var n=Ni(Pi(e)),r=this.graphics.createStaticCanvas();t.set(Li(this.graphics.canvasImage,n,r)),this._resetPositionFillFilter(t)}}},{key:"_createInstance",value:function(t,e){var n;switch(t){case"rect":n=new H.fabric.Rect(e);break;case"circle":n=new H.fabric.Ellipse(W()({type:"circle"},e));break;case"triangle":n=new H.fabric.Triangle(e);break;default:n={}}return n}},{key:"_extendOptions",value:function(t){var e=un,n=this.graphics,r=n.canvasImage,o=n.createStaticCanvas;return Ui(t=W()({},Hi,this._options,e,t),r,o)}},{key:"_bindEventOnShape",value:function(t){var e=this,n=this.getCanvas();t.on({added:function(){e._shapeObj=this,Ei().setOrigins(e._shapeObj)},selected:function(){e._isSelected=!0,e._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",Ei().setOrigins(e._shapeObj)},deselected:function(){e._isSelected=!1,e._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var t=e._shapeObj;Ei().adjustOriginToCenter(t),Ei().setOrigins(t)},modifiedInGroup:function(n){e._fillFilterRePositionInGroupSelection(t,n)},moving:function(){e._resetPositionFillFilter(this)},rotating:function(){e._resetPositionFillFilter(this)},scaling:function(t){var r=n.getPointer(t.e),o=e._shapeObj;n.setCursor("crosshair"),Ei().resize(o,r,!0),e._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(t){if(t.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var e=this.getCanvas();this._startPoint=e.getPointer(t.e),e.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this,n=this.getCanvas(),r=n.getPointer(t.e),o=this._startPoint.x,i=this._startPoint.y,a=o-r.x,s=i-r.y,c=this._shapeObj;c?(this._shapeObj.set({isRegular:this._withShiftKey}),Ei().resize(c,r),n.renderAll(),this._resetPositionFillFilter(c)):this.add(this._type,{left:o,top:i,width:a,height:s}).then((function(t){e.fire(ue,t)}))}},{key:"_onFabricMouseUp",value:function(){var t=this,e=this.getCanvas(),n=this._startPoint.x,r=this._startPoint.y,o=this._shapeObj;o?o&&(Ei().adjustOriginToCenter(o),this.fire(ne,this.graphics.createObjectProperties(o))):this.add(this._type,{left:n,top:r,width:20,height:20}).then((function(e){t.fire(ue,e)})),e.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(t){t.keyCode===en&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(t){t.keyCode===en&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(t){if("filter"===Jn(t)){var e=qn(t,"patternSourceCanvas").patternSourceCanvas,n=qn(Pi(t),"originalAngle").originalAngle;this.graphics.canvasImage.angle!==n&&function(t,e){var n=qn(t,"patternSourceCanvas").patternSourceCanvas,r=et(n.getObjects(),1)[0],o=Ni(r);n.remove(r);var i=zi(Ri(e,!0),e.angle,o);n.add(i)}(t,this.graphics.canvasImage);var r=t.originX,o=t.originY;Ei().adjustOriginToCenter(t),t.width*=t.scaleX,t.height*=t.scaleY,t.rx*=t.scaleX,t.ry*=t.scaleY,t.scaleX=1,t.scaleY=1,Di(t),function(t,e){var n=e.originX,r=e.originY,o=t.getPointByOrigin(n,r),i=o.x,a=o.y;t.set({left:i,top:a,originX:n,originY:r}),t.setCoords()}(t,{originX:r,originY:o}),function(t){var e=qn(et(t.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;e=Math.max(1,e),t.setDimensions({width:e,height:e}),t.renderAll()}(e)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(t,e){1===e.scaleX&&1===e.scaleY||e.addWithUpdate();var n=t.angle,r=t.left,o=t.top;H.fabric.util.addTransformToObject(t,e.calcTransformMatrix()),this._resetPositionFillFilter(t),t.set({angle:n,left:r,top:o})}}]),n}(Xo);function Vi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Yi={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},Gi=.0045,Xi=.003,Zi=.003,qi=.0066,Ki=.0044,Qi=.003,Ji=be,$i=ce,ta=oe,ea=re,na=xe,ra=Se,oa=_e,ia=we,aa=function(t){Mr(n,t);var e=Vi(n);function n(t){var r,o,i,a,s,c,u,l,f,h,d,p,v;I(this,n),(v=e.call(this,jt.ZOOM,t)).zoomArea=null,v._startPoint=null,v._centerPoints=[],v.zoomLevel=1,v.zoomMode=Ze,v._listeners={startZoom:D()(r=v._onMouseDownWithZoomMode).call(r,Er(v)),moveZoom:D()(o=v._onMouseMoveWithZoomMode).call(o,Er(v)),stopZoom:D()(i=v._onMouseUpWithZoomMode).call(i,Er(v)),startHand:D()(a=v._onMouseDownWithHandMode).call(a,Er(v)),moveHand:D()(s=v._onMouseMoveWithHandMode).call(s,Er(v)),stopHand:D()(c=v._onMouseUpWithHandMode).call(c,Er(v)),zoomChanged:D()(u=v._changeScrollState).call(u,Er(v)),keydown:D()(l=v._startHandModeWithSpaceBar).call(l,Er(v)),keyup:D()(f=v._endHandModeWithSpaceBar).call(f,Er(v))};var g=v.getCanvas();return v.aspectRatio=g.width/g.height,v._verticalScroll=new H.fabric.Rect(Yi),v._horizontalScroll=new H.fabric.Rect(Yi),g.on(Ji,v._listeners.zoomChanged),v.graphics.on($i,D()(h=v._startTextEditingHandler).call(h,Er(v))),v.graphics.on(ta,D()(d=v._startTextEditingHandler).call(d,Er(v))),v.graphics.on(ea,D()(p=v._stopTextEditingHandler).call(p,Er(v))),v}return T(n,[{key:"attachKeyboardZoomEvents",value:function(){H.fabric.util.addListener(document,na,this._listeners.keydown),H.fabric.util.addListener(document,ra,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){H.fabric.util.removeListener(document,na,this._listeners.keydown),H.fabric.util.removeListener(document,ra,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(t){this.withSpace||this.isTextEditing||t.keyCode===an&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(t){t.keyCode===an&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=qe;var t=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new H.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),t.discardActiveObject(),t.add(this.zoomArea),t.on("mouse:down",this._listeners.startZoom),t.selection=!1,t.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Ze;var t=this.getCanvas(),e=this._listeners,n=e.startZoom,r=e.moveZoom,o=e.stopZoom;t.selection=!0,t.defaultCursor="auto",t.off({"mouse:down":n,"mouse:move":r,"mouse:up":o}),this._changeObjectsEventedState(!0),t.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Ke;var t=this.getCanvas();this._changeObjectsEventedState(!1),t.discardActiveObject(),t.off("mouse:down",this._listeners.startHand),t.on("mouse:down",this._listeners.startHand),t.selection=!1,t.defaultCursor="grab",t.fire(oa)}},{key:"endHandMode",value:function(){this.zoomMode=Ze;var t=this.getCanvas();this._changeObjectsEventedState(!0),t.off("mouse:down",this._listeners.startHand),t.selection=!0,t.defaultCursor="auto",this._startHandPoint=null,t.fire(ia)}},{key:"_onMouseDownWithZoomMode",value:function(t){var e=t.target,n=t.e;if(!e){var r=this.getCanvas();r.selection=!1,this._startPoint=r.getPointer(n),this.zoomArea.set({width:0,height:0});var o=this._listeners,i=o.moveZoom,a=o.stopZoom;r.on({"mouse:move":i,"mouse:up":a})}}},{key:"_onMouseMoveWithZoomMode",value:function(t){var e=t.e,n=this.getCanvas(),r=n.getPointer(e),o=r.x,i=r.y,a=this.zoomArea,s=this._startPoint;Math.abs(o-s.x)+Math.abs(i-s.y)>10&&(n.remove(a),a.set(this._calcRectDimensionFromPoint(o,i)),n.add(a))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var n=this.getCanvas(),r=n.getWidth(),o=n.getHeight(),i=this._startPoint,a=i.x,s=i.y,c=Math.min,u=c(a,t),l=c(s,e);return{left:u,top:l,width:zn(t,a,r)-u,height:zn(e,s,o)-l}}},{key:"_onMouseUpWithZoomMode",value:function(){var t=this.zoomLevel,e=this.zoomArea,n=this._listeners,r=n.moveZoom,o=n.stopZoom,i=this.getCanvas(),a=this._getCenterPoint(),s=a.x,c=a.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:s,y:c,prevZoomLevel:t,zoomLevel:t+1}),t+=1,i.zoomToPoint({x:s,y:c},t),this._fireZoomChanged(i,t),this.zoomLevel=t),i.off({"mouse:move":r,"mouse:up":o}),i.remove(e),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var t=this.zoomArea,e=t.left,n=t.top,r=t.width,o=t.height,i=this._startPoint,a=i.x,s=i.y,c=this.aspectRatio;return r<10&&o<10?{x:a,y:s}:r>o?{x:e+c*o/2,y:n+o/2}:{x:e+r/2,y:n+r/c/2}}},{key:"zoom",value:function(t){for(var e=t.x,n=t.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,o=this.getCanvas(),i=this._centerPoints,a=i.length-1;a>=0&&!(i[a].zoomLevel<r);a-=1){var s=i.pop(),c=s.x,u=s.y,l=s.prevZoomLevel;o.zoomToPoint({x:c,y:u},l),this.zoomLevel=l}o.zoomToPoint({x:e,y:n},r),this._isDefaultZoomLevel(r)||this._centerPoints.push({x:e,y:n,zoomLevel:r,prevZoomLevel:this.zoomLevel}),this.zoomLevel=r,this._fireZoomChanged(o,r)}},{key:"zoomOut",value:function(){var t=this._centerPoints;if(t.length){var e=this.getCanvas(),n=t.pop(),r=n.x,o=n.y,i=n.prevZoomLevel;this._isDefaultZoomLevel(i)?e.setViewportTransform([1,0,0,1,0,0]):e.zoomToPoint({x:r,y:o},i),this.zoomLevel=i,this._fireZoomChanged(e,this.zoomLevel)}}},{key:"resetZoom",value:function(){var t=this.getCanvas();t.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(t,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(t){var e=t.x,n=t.y,r=this._centerPoints;if(r.length){var o=this.getCanvas(),i=this.zoomLevel,a=r.pop(),s=a.x,c=a.y,u=a.prevZoomLevel,l=s-e,f=c-n;o.zoomToPoint({x:s,y:c},u),o.zoomToPoint({x:l,y:f},i),r.push({x:l,y:f,prevZoomLevel:u,zoomLevel:i}),this._fireZoomChanged(o,i)}}},{key:"_onMouseDownWithHandMode",value:function(t){var e=t.target,n=t.e;if(!e){var r=this.getCanvas();if(!(this.zoomLevel<=1)){r.selection=!1,this._startHandPoint=r.getPointer(n);var o=this._listeners,i=o.moveHand,a=o.stopHand;r.on({"mouse:move":i,"mouse:up":a})}}}},{key:"_onMouseMoveWithHandMode",value:function(t){var e=t.e,n=this.getCanvas().getPointer(e),r=n.x,o=n.y,i=r-this._startHandPoint.x,a=o-this._startHandPoint.y;this._movePointOfZoom({x:i,y:a})}},{key:"_onMouseUpWithHandMode",value:function(){var t=this.getCanvas(),e=this._listeners,n=e.moveHand,r=e.stopHand;t.off({"mouse:move":n,"mouse:up":r}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(t){var e=t.viewport,n=t.zoomLevel,r=this.getCanvas();if(r.remove(this._verticalScroll),r.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var o=r.width,i=r.height,a=e.tl,s=e.tr,c=e.bl,u=s.x-a.x,l=c.y-a.y,f=u*u/o,h=l*qi,d=zn(a.x+a.x/o*u,a.x,s.x-f),p=l*Ki,v=l*Qi;this._horizontalScroll.set({left:d,top:c.y-h-p,width:f,height:h,rx:v,ry:v});var g=u*Gi,m=l*l/i,y=zn(a.y+a.y/i*l,s.y,c.y-m),b=u*Xi,_=u*Zi;this._verticalScroll.set({left:s.x-g-b,top:y,width:g,height:m,rx:_,ry:_}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getCanvas();e.forEachObject((function(e){e.evented=t}))}},{key:"_addScrollBar",value:function(){var t=this,e=this.getCanvas();e.add(this._horizontalScroll),e.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=v()((function(){e.remove(t._horizontalScroll),e.remove(t._verticalScroll)}),3e3)}},{key:"_isDefaultZoomLevel",value:function(t){return 1===t}},{key:"_fireZoomChanged",value:function(t,e){t.fire(Ji,{viewport:t.calcViewportBoundaries(),zoomLevel:e})}},{key:"mode",get:function(){return this.zoomMode}}]),n}(Xo),sa=sr.create,ca=sr.types,ua=function(){function t(e){I(this,t),this.name=e}return T(t,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(sa(ca.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(sa(ca.UN_IMPLEMENTATION,"stop"))}}]),t}();function la(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var fa=function(t){Mr(n,t);var e=la(n);function n(){return I(this,n),e.call(this,Ue.CROPPER)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.CROPPER).start()}},{key:"end",value:function(t){t.getComponent(jt.CROPPER).end()}}]),n}(ua);function ha(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var da=function(t){Mr(n,t);var e=ha(n);function n(){return I(this,n),e.call(this,Ue.FREE_DRAWING)}return T(n,[{key:"start",value:function(t,e){t.getComponent(jt.FREE_DRAWING).start(e)}},{key:"end",value:function(t){t.getComponent(jt.FREE_DRAWING).end()}}]),n}(ua);function pa(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var va=function(t){Mr(n,t);var e=pa(n);function n(){return I(this,n),e.call(this,Ue.LINE_DRAWING)}return T(n,[{key:"start",value:function(t,e){t.getComponent(jt.LINE).start(e)}},{key:"end",value:function(t){t.getComponent(jt.LINE).end()}}]),n}(ua);function ga(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ma=function(t){Mr(n,t);var e=ga(n);function n(){return I(this,n),e.call(this,Ue.SHAPE)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.SHAPE).start()}},{key:"end",value:function(t){t.getComponent(jt.SHAPE).end()}}]),n}(ua);function ya(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ba=function(t){Mr(n,t);var e=ya(n);function n(){return I(this,n),e.call(this,Ue.TEXT)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.TEXT).start()}},{key:"end",value:function(t){t.getComponent(jt.TEXT).end()}}]),n}(ua);function _a(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var wa=function(t){Mr(n,t);var e=_a(n);function n(){return I(this,n),e.call(this,Ue.ICON)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.ICON).start()}},{key:"end",value:function(t){t.getComponent(jt.ICON).end()}}]),n}(ua);function xa(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Sa=function(t){Mr(n,t);var e=xa(n);function n(){return I(this,n),e.call(this,Ue.ZOOM)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.ZOOM).start()}},{key:"end",value:function(t){t.getComponent(jt.ZOOM).end()}}]),n}(ua),Ca=null;function Oa(t){Ca=t}function ka(t,e){var n;return"activeSelection"===t.type?yr()(n=t.getObjects()).call(n,(function(n){var r=n.angle,o=n.left,i=n.top,a=n.scaleX,s=n.scaleY,c=n.width,u=n.height;H.fabric.util.addTransformToObject(n,t.calcTransformMatrix());var l=e(n);return n.set({angle:r,left:o,top:i,width:c,height:u,scaleX:a,scaleY:s}),l})):[e(t)]}function Ma(t,e,n){return n?{id:t,width:e.width,height:e.height,top:e.top,left:e.left,angle:e.angle,scaleX:e.scaleX,scaleY:e.scaleY}:W()({id:t},e)}function Ea(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var ja=function(t){Mr(n,t);var e=Ea(n);function n(t){var r;return I(this,n),(r=e.call(this,jt.RESIZE,t))._dimensions=null,r._originalDimensions=null,r}return T(n,[{key:"getCurrentDimensions",value:function(){var t=this.getCanvasImage();if(!this._dimensions&&t){var e=t.width,n=t.height;this._dimensions={width:e,height:n}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(t){this._originalDimensions=t}},{key:"resize",value:function(t){var e=this.getCanvasImage(),n=e.width,r=e.height,o=e.scaleX,i=e.scaleY,a=t.width,s=t.height,c={scaleX:a?a/n:o,scaleY:s?s/r:i};return o===c.scaleX&&i===c.scaleY||(e.set(c).setCoords(),this._dimensions={width:e.width*e.scaleX,height:e.height*e.scaleY}),this.adjustCanvasDimensionBase(),B().resolve()}},{key:"start",value:function(){var t=this.getCurrentDimensions();this.setOriginalDimensions(t)}},{key:"end",value:function(){}}]),n}(Xo);function Ia(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=xr()(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}var Aa=function(t){Mr(n,t);var e=Ia(n);function n(){return I(this,n),e.call(this,Ue.RESIZE)}return T(n,[{key:"start",value:function(t){t.getComponent(jt.RESIZE).start()}},{key:"end",value:function(t){t.getComponent(jt.RESIZE).end()}}]),n}(ua),Ta={cssOnly:!0},Pa={backstoreOnly:!0},Da=function(){function t(e){var n,r,o,i,a,s,c,u,l,f,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=d.cssMaxWidth,v=d.cssMaxHeight;I(this,t),this.canvasImage=null,this.cssMaxWidth=p||1e3,this.cssMaxHeight=v||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Ue.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:D()(n=this._onMouseDown).call(n,this),onObjectAdded:D()(r=this._onObjectAdded).call(r,this),onObjectRemoved:D()(o=this._onObjectRemoved).call(o,this),onObjectMoved:D()(i=this._onObjectMoved).call(i,this),onObjectScaled:D()(a=this._onObjectScaled).call(a,this),onObjectModified:D()(s=this._onObjectModified).call(s,this),onObjectRotated:D()(c=this._onObjectRotated).call(c,this),onObjectSelected:D()(u=this._onObjectSelected).call(u,this),onPathCreated:D()(l=this._onPathCreated).call(l,this),onSelectionCleared:D()(f=this._onSelectionCleared).call(f,this),onSelectionCreated:D()(h=this._onSelectionCreated).call(h,this)},this._setObjectCachingToFalse(),this._setCanvasElement(e),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return T(t,[{key:"destroy",value:function(){var t=this._canvas.wrapperEl;this._canvas.clear(),t.parentNode.removeChild(t),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(jt.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(jt.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(t){var e,n=[];Vo()(t)?n=t:n.push(t),(e=this._canvas).add.apply(e,S(n))}},{key:"contains",value:function(t){return this._canvas.contains(t)}},{key:"getObjects",value:function(){var t;return f()(t=this._canvas.getObjects()).call(t)}},{key:"getObject",value:function(t){return this._objects[t]}},{key:"remove",value:function(t){this._canvas.remove(t)}},{key:"removeAll",value:function(t){var e,n=this._canvas,r=f()(e=n.getObjects()).call(e);return n.remove.apply(n,S(this._canvas.getObjects())),t&&n.clear(),r}},{key:"removeObjectById",value:function(t){var e=[],n=this._canvas,r=this.getObject(t);return r&&r.isType("group")&&!r.isEmpty()?(n.discardActiveObject(),r.forEachObject((function(t){e.push(t),n.remove(t)}))):n.contains(r)&&(e.push(r),n.remove(r)),e}},{key:"getObjectId",value:function(t){var e=null;for(e in this._objects)if(this._objects.hasOwnProperty(e)&&t===this._objects[e])return e;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var t=this.getActiveObject(),e=t.type,n=t.left,r=t.top;if("activeSelection"===e){var o=new H.fabric.Group(S(t.getObjects()),{left:n,top:r});return this._addFabricObject(o)}return this.getObjectId(t)}},{key:"isReadyRemoveObject",value:function(){var t=this.getActiveObject();return t&&!t.isEditing}},{key:"getActiveObjects",value:function(){var t=this._canvas._activeObject;return t&&"activeSelection"===t.type?t:null}},{key:"getActiveSelectionFromObjects",value:function(t){var e=this.getCanvas();return new H.fabric.ActiveSelection(t,{canvas:e})}},{key:"setActiveObject",value:function(t){this._canvas.setActiveObject(t)}},{key:"setCropSelectionStyle",value:function(t){this.cropSelectionStyle=t}},{key:"getComponent",value:function(t){return this._componentMap[t]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(t,e){if(this._isSameDrawingMode(t))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(t);return n&&n.start&&(n.start(this,e),this._drawingMode=t),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Ue.NORMAL)){var t=this._getDrawingModeInstance(this.getDrawingMode());t&&t.end&&t.end(this),this._drawingMode=Ue.NORMAL}}},{key:"zoom",value:function(t,e){var n=t.x,r=t.y,o=this.getComponent(jt.ZOOM);o.zoom({x:n,y:r},e)}},{key:"getZoomMode",value:function(){return this.getComponent(jt.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(jt.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(jt.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(jt.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(jt.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(jt.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(jt.ZOOM).resetZoom()}},{key:"toDataURL",value:function(t){var e=this.getComponent(jt.CROPPER);e.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(t);return e.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(t,e){e&&Rn(e),this.imageName=t,this.canvasImage=e}},{key:"setCssMaxDimension",value:function(t){this.cssMaxWidth=t.width||this.cssMaxWidth,this.cssMaxHeight=t.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=this.canvasImage);var e=t.getBoundingRect(),n=e.width,r=e.height,o=this._calcMaxDimension(n,r);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(o.width,"px"),"max-height":"".concat(o.height,"px")}),this.setCanvasBackstoreDimension({width:n,height:r}),this._canvas.centerObject(t)}},{key:"setCanvasCssDimension",value:function(t){this._canvas.setDimensions(t,Ta)}},{key:"setCanvasBackstoreDimension",value:function(t){this._canvas.setDimensions(t,Pa)}},{key:"setImageProperties",value:function(t,e){var n=this.canvasImage;n&&(n.set(t).setCoords(),e&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(t){var e,n=this,r=D()(e=this._callbackAfterLoadingImageObject).call(e,this);return new(B())((function(e){H.fabric.Image.fromURL(t,(function(t){r(t),e(n.createObjectProperties(t))}),{crossOrigin:"Anonymous"})}))}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(jt.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this.getComponent(jt.CROPPER).setCropzoneRect(t)}},{key:"getCroppedImageData",value:function(t){return this.getComponent(jt.CROPPER).getCroppedImageData(t)}},{key:"setBrush",value:function(t){var e=this._drawingMode,n=jt.FREE_DRAWING;e===Ue.LINE_DRAWING&&(n=jt.LINE),this.getComponent(n).setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this.getComponent(jt.SHAPE).setStates(t,e)}},{key:"setIconStyle",value:function(t,e){this.getComponent(jt.ICON).setStates(t,e)}},{key:"registerPaths",value:function(t){this.getComponent(jt.ICON).registerPaths(t)}},{key:"changeCursor",value:function(t){var e=this.getCanvas();e.defaultCursor=t,e.renderAll()}},{key:"hasFilter",value:function(t){return this.getComponent(jt.FILTER).hasFilter(t)}},{key:"setSelectionStyle",value:function(t){W()(un,t)}},{key:"setObjectProperties",value:function(t,e){var n=this.getObject(t),r=W()({},e);return n.set(r),n.setCoords(),this.getCanvas().renderAll(),r}},{key:"getObjectProperties",value:function(t,e){var n=this.getObject(t),r={};return Q()(e)?r[e]=n[e]:Vo()(e)?Pr()(e,(function(t){r[t]=n[t]})):Go()(e,(function(t,e){r[e]=n[e]})),r}},{key:"getObjectPosition",value:function(t,e,n){var r=this.getObject(t);return r?r.getPointByOrigin(e,n):null}},{key:"setObjectPosition",value:function(t,e){var n=this.getObject(t),r=e.x,o=e.y,i=e.originX,a=e.originY;if(!n)return!1;var s=n.getPointByOrigin(i,a),c=n.getPointByOrigin("center","center"),u=c.x-s.x,l=c.y-s.y;return n.set({left:r+u,top:o+l}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var t=this.getCanvasImage();return{width:t?t.width:0,height:t?t.height:0}}},{key:"createStaticCanvas",value:function(){var t=new H.fabric.StaticCanvas;return t.set({enableRetinaScaling:!1}),t}},{key:"_getDrawingModeInstance",value:function(t){return this._drawingModeMap[t]}},{key:"_setObjectCachingToFalse",value:function(){H.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(t){var e,n;"CANVAS"!==(e=t.nodeType?t:document.querySelector(t)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),e.appendChild(n)),this._canvas=new H.fabric.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new fa),this._register(this._drawingModeMap,new da),this._register(this._drawingModeMap,new va),this._register(this._drawingModeMap,new ma),this._register(this._drawingModeMap,new ba),this._register(this._drawingModeMap,new wa),this._register(this._drawingModeMap,new Sa),this._register(this._drawingModeMap,new Aa)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new Ko(this)),this._register(this._componentMap,new ri(this)),this._register(this._componentMap,new ii(this)),this._register(this._componentMap,new si(this)),this._register(this._componentMap,new ui(this)),this._register(this._componentMap,new hi(this)),this._register(this._componentMap,new gi(this)),this._register(this._componentMap,new bi(this)),this._register(this._componentMap,new ki(this)),this._register(this._componentMap,new Wi(this)),this._register(this._componentMap,new aa(this)),this._register(this._componentMap,new ja(this))}},{key:"_register",value:function(t,e){t[e.getName()]=e}},{key:"_isSameDrawingMode",value:function(t){return this.getDrawingMode()===t}},{key:"_calcMaxDimension",value:function(t,e){var n=this.cssMaxWidth/t,r=this.cssMaxHeight/e,o=Math.min(t,this.cssMaxWidth),i=Math.min(e,this.cssMaxHeight);return n<1&&n<r?(o=t*n,i=e*n):r<1&&r<n&&(o=t*r,i=e*r),{width:Math.floor(o),height:Math.floor(i)}}},{key:"_callbackAfterLoadingImageObject",value:function(t){var e=this.getCanvasImage().getCenterPoint();t.set(un),t.set({left:e.x,top:e.y,crossOrigin:"Anonymous"}),this.getCanvas().add(t).setActiveObject(t)}},{key:"_attachCanvasEvents",value:function(){var t=this._canvas,e=this._handler;t.on({"mouse:down":e.onMouseDown,"object:added":e.onObjectAdded,"object:removed":e.onObjectRemoved,"object:moving":e.onObjectMoved,"object:scaling":e.onObjectScaled,"object:modified":e.onObjectModified,"object:rotating":e.onObjectRotated,"path:created":e.onPathCreated,"selection:cleared":e.onSelectionCleared,"selection:created":e.onSelectionCreated,"selection:updated":e.onObjectSelected})}},{key:"_onMouseDown",value:function(t){var e=this,n=t.e,r=t.target,o=this._canvas.getPointer(n);if(r){var i=r.type;Oa(ka(r,(function(t){return Ma(e.getObjectId(t),t,"activeSelection"===i)})))}this.fire(fe,n,o)}},{key:"_onObjectAdded",value:function(t){var e=t.target;e.isType("cropzone")||this._addFabricObject(e)}},{key:"_onObjectRemoved",value:function(t){var e=t.target;this._removeFabricObject(Rn(e))}},{key:"_onObjectMoved",value:function(t){var e=this;this._lazyFire($t,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_onObjectScaled",value:function(t){var e=this;this._lazyFire(te,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_onObjectModified",value:function(t){var e=t.target;if("activeSelection"===e.type){var n=e.getObjects();at()(n).call(n,(function(t){return t.fire("modifiedInGroup",e)}))}this.fire(re,e,this.getObjectId(e))}},{key:"_onObjectRotated",value:function(t){var e=this;this._lazyFire(ee,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_lazyFire",value:function(t,e,n){var r=this,o=n&&n.canvasEventDelegation?n.canvasEventDelegation(t):"none";"unregistered"===o&&n.canvasEventRegister(t,(function(n){r.fire(t,e(n))})),"none"===o&&this.fire(t,e(n))}},{key:"_onObjectSelected",value:function(t){var e=t.target,n=this.createObjectProperties(e);this.fire(Jt,n)}},{key:"_onPathCreated",value:function(t){var e=t.path.getCenterPoint(),n=e.x,r=e.y;t.path.set(W()({left:n,top:r},un));var o=this.createObjectProperties(t.path);this.fire(ue,o)}},{key:"_onSelectionCleared",value:function(){this.fire(pe)}},{key:"_onSelectionCreated",value:function(t){var e=t.target,n=this.createObjectProperties(e);this.fire(Jt,n),this.fire(ve,t.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(t){this._canvas.forEachObject((function(e){e.selectable=t,e.hoverCursor=t?"move":"crosshair"}))}},{key:"createObjectProperties",value:function(t){var e={id:Rn(t),type:t.type};if(W()(e,Hn(t,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),Kn(["i-text","text"],t.type))W()(e,this._createTextProperties(t,e));else if(Kn(["rect","triangle","circle"],t.type)){var n=this.getComponent(jt.SHAPE);W()(e,{fill:n.makeFillPropertyForUserEvent(t)})}return e}},{key:"_createTextProperties",value:function(t){var e={};return W()(e,Hn(t,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),e}},{key:"_addFabricObject",value:function(t){var e=Rn(t);return this._objects[e]=t,e}},{key:"_removeFabricObject",value:function(t){delete this._objects[t]}},{key:"resetTargetObjectForCopyPaste",value:function(){var t=this.getActiveObject();t&&(this.targetObjectForCopyPaste=t)}},{key:"pasteObject",value:function(){var t=this;if(!this.targetObjectForCopyPaste)return B().resolve([]);var e=this.targetObjectForCopyPaste,n="activeSelection"===e.type?e.getObjects():[e],r=null;return this.discardSelection(),this._cloneObject(n).then((function(e){if(e.length>1)r=t.getActiveSelectionFromObjects(e);else{var n=et(e,1);r=n[0]}t.targetObjectForCopyPaste=r,t.setActiveObject(r)}))}},{key:"_cloneObject",value:function(t){var e=this,n=yr()(t).call(t,(function(t){return e._cloneObjectItem(t)}));return B().all(n)}},{key:"_cloneObjectItem",value:function(t){var e=this;return this._copyFabricObjectForPaste(t).then((function(t){var n=e.createObjectProperties(t);return e.add(t),e.fire(ue,n),t}))}},{key:"_copyFabricObjectForPaste",value:function(t){var e=this,n=function(t,e){return e?t-10:t+10};return this._copyFabricObject(t).then((function(t){var r=t.left,o=t.top,i=t.width,a=t.height,s=e.getCanvasSize(),c=s.width,u=s.height,l=r+i/2,f=o+a/2;return t.set(W()({left:n(r,l+10>c),top:n(o,f+10>u)},un)),t}))}},{key:"_copyFabricObject",value:function(t){var e=this;return new(B())((function(n){t.clone((function(r){var o=e.getComponent(jt.SHAPE);$n(r)&&o.processForCopiedObject(r,t),n(r)}))}))}},{key:"getCurrentDimensions",value:function(){return this.getComponent(jt.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(jt.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(t){this.getComponent(jt.RESIZE).setOriginalDimensions(t)}},{key:"resize",value:function(t){var e=this.getComponent(jt.RESIZE);return e.resize(t)}}]),t}();q().mixin(Da);var Na=Da,La=fe,Ra=$t,Ba=te,za=Jt,Fa=ee,Ha=ne,Ua=re,Wa=ce,Va=ue,Ya=oe,Ga=ie,Xa=ae,Za=se,qa=pe,Ka=ve,Qa=le,Ja=function(){function t(e,n){var r,o,i,a,s,c,u,l,f,h,d,p,v,g,m,y;if(I(this,t),n=W()({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var b=n.includeUI;b.usageStatistics=n.usageStatistics,this.ui=new Bo(e,b,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new pr,this._graphics=new Na(this.ui?this.ui.getEditorArea():e,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:D()(r=this._onKeyDown).call(r,this),mousedown:D()(o=this._onMouseDown).call(o,this),objectActivated:D()(i=this._onObjectActivated).call(i,this),objectMoved:D()(a=this._onObjectMoved).call(a,this),objectScaled:D()(s=this._onObjectScaled).call(s,this),objectRotated:D()(c=this._onObjectRotated).call(c,this),objectAdded:D()(u=this._onObjectAdded).call(u,this),objectModified:D()(l=this._onObjectModified).call(l,this),createdPath:this._onCreatedPath,addText:D()(f=this._onAddText).call(f,this),addObject:D()(h=this._onAddObject).call(h,this),textEditing:D()(d=this._onTextEditing).call(d,this),textChanged:D()(p=this._onTextChanged).call(p,this),iconCreateResize:D()(v=this._onIconCreateResize).call(v,this),iconCreateEnd:D()(g=this._onIconCreateEnd).call(g,this),selectionCleared:D()(m=this._selectionCleared).call(m,this),selectionCreated:D()(y=this._selectionCreated).call(y,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(Nn||(Nn=!0,lt()("image-editor","UA-129999381-1"))),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),H.fabric.enableGLFiltering=!1}return T(t,[{key:"_attachColorPickerInputBoxEvents",value:function(){var t=this;this.ui.on(Ce,(function(){t.isColorPickerInputBoxEditing=!0})),this.ui.on(Oe,(function(){t.isColorPickerInputBoxEditing=!1}))}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(Ce),this.ui.off(Oe)}},{key:"_setSelectionStyle",value:function(t,e){var n=e.applyCropSelectionStyle,r=e.applyGroupSelectionStyle;t&&this._graphics.setSelectionStyle(t),n&&this._graphics.setCropSelectionStyle(t),r&&this.on("selectionCreated",(function(e){"activeSelection"===e.type&&e.set(t)}))}},{key:"_attachInvokerEvents",value:function(){var t,e,n=this,r=de,o=he,i=ge,a=me,s=ye,c=_e,u=we;if(this._invoker.on(r,D()(t=this.fire).call(t,this,r)),this._invoker.on(o,D()(e=this.fire).call(e,this,o)),this.ui){var l=this._graphics.getCanvas();this._invoker.on(i,(function(t){return n.ui.fire(i,t)})),this._invoker.on(a,(function(t){return n.ui.fire(a,t)})),this._invoker.on(s,(function(t){return n.ui.fire(s,t)})),l.on(c,(function(){return n.ui.fire(c)})),l.on(u,(function(){return n.ui.fire(u)}))}}},{key:"_attachGraphicsEvents",value:function(){var t;this._graphics.on((j(t={},La,this._handlers.mousedown),j(t,Ra,this._handlers.objectMoved),j(t,Ba,this._handlers.objectScaled),j(t,Fa,this._handlers.objectRotated),j(t,za,this._handlers.objectActivated),j(t,Ha,this._handlers.objectAdded),j(t,Ua,this._handlers.objectModified),j(t,Wa,this._handlers.addText),j(t,Va,this._handlers.addObject),j(t,Ya,this._handlers.textEditing),j(t,Ga,this._handlers.textChanged),j(t,Xa,this._handlers.iconCreateResize),j(t,Za,this._handlers.iconCreateEnd),j(t,qa,this._handlers.selectionCleared),j(t,Ka,this._handlers.selectionCreated),t))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(t){var e=t.ctrlKey,n=t.keyCode,r=t.metaKey;(e||r)&&(n===$e?this._graphics.resetTargetObjectForCopyPaste():n===tn?(this._graphics.pasteObject(),this.clearRedoStack()):n===Qe?this.undo().catch((function(){})):n===Je&&this.redo().catch((function(){})));var o=n===nn,i=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&i&&o&&(t.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var t=this._graphics.getActiveObjectIdForRemove();this.removeObject(t)}},{key:"_onMouseDown",value:function(t,e){this.fire(fe,t,e)}},{key:"_pushAddObjectCommand",value:function(t){var e=hr.create(Nt,this._graphics,t);this._invoker.pushUndoStack(e)}},{key:"_pushModifyObjectCommand",value:function(t){var e=this,n=t.type,r=ka(t,(function(t){return Ma(e._graphics.getObjectId(t),t,"activeSelection"===n)})),o=hr.create(Kt,this._graphics,r);o.execute(this._graphics,r),this._invoker.pushUndoStack(o)}},{key:"_onObjectActivated",value:function(t){this.fire(Jt,t)}},{key:"_onObjectMoved",value:function(t){this.fire($t,t)}},{key:"_onObjectScaled",value:function(t){this.fire(te,t)}},{key:"_onObjectRotated",value:function(t){this.fire(ee,t)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(At)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(t){this._graphics.changeSelectableAll(t)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(t){for(var e,n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=L()(e=[this._graphics]).call(e,i);return(n=this._invoker).execute.apply(n,L()(r=[t]).call(r,S(s)))}},{key:"executeSilent",value:function(t){for(var e,n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=L()(e=[this._graphics]).call(e,i);return(n=this._invoker).executeSilent.apply(n,L()(r=[t]).call(r,S(s)))}},{key:"undo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=B().resolve(),r=0;r<e;r+=1)n=n.then((function(){return t._invoker.undo()}));return n}},{key:"redo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=B().resolve(),r=0;r<e;r+=1)n=n.then((function(){return t._invoker.redo()}));return n}},{key:"zoom",value:function(t){var e=t.x,n=t.y,r=t.zoomLevel;this._graphics.zoom({x:e,y:n},r)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(t,e){if(!t)return B().reject(hn);var n=F().createObjectURL(t);return e=e||t.name,this.loadImageFromURL(n,e).then((function(e){return F().revokeObjectURL(t),e}))}},{key:"loadImageFromURL",value:function(t,e){return e&&t?this.execute(Tt,e,t):B().reject(hn)}},{key:"addImageObject",value:function(t){return t?this.execute(Gt,t):B().reject(hn)}},{key:"startDrawingMode",value:function(t,e){return this._graphics.startDrawingMode(t,e)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(t){var e=this._graphics.getCroppedImageData(t);return e?this.loadImageFromURL(e.url,e.imageName):B().reject(hn)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this._graphics.setCropzoneRect(t)}},{key:"_flip",value:function(t){return this.execute(Pt,t)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(t,e,n){return n?this.executeSilent(Dt,t,e):this.execute(Dt,t,e)}},{key:"rotate",value:function(t,e){return this._rotate("rotate",t,e)}},{key:"setAngle",value:function(t,e){return this._rotate("setAngle",t,e)}},{key:"setBrush",value:function(t){this._graphics.setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this._graphics.setDrawingShape(t,e)}},{key:"setDrawingIcon",value:function(t,e){this._graphics.setIconStyle(t,e)}},{key:"addShape",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(Ht,t,e)}},{key:"changeShape",value:function(t,e,n){return this[n?"executeSilent":"execute"](Ut,t,e)}},{key:"addText",value:function(t,e){return t=t||"",e=e||{},this.execute(Wt,t,e)}},{key:"changeText",value:function(t,e){return e=e||"",this.execute(Vt,t,e)}},{key:"changeTextStyle",value:function(t,e,n){return this[n?"executeSilent":"execute"](Yt,t,e)}},{key:"_changeActivateMode",value:function(t){"ICON"!==t&&this.getDrawingMode()!==t&&this.startDrawingMode(t)}},{key:"_onTextChanged",value:function(t){this.fire(ie,t)}},{key:"_onIconCreateResize",value:function(t){this.fire(ae,t)}},{key:"_onIconCreateEnd",value:function(t){this.fire(se,t)}},{key:"_onTextEditing",value:function(){this.fire(oe)}},{key:"_onAddText",value:function(t){this.fire(ce,{originPosition:t.originPosition,clientPosition:t.clientPosition})}},{key:"_onAddObject",value:function(t){var e=this._graphics.getObject(t.id);this._invoker.fire(ge,tr(e.type)),this._pushAddObjectCommand(e)}},{key:"_onObjectAdded",value:function(t){this.fire(Ha,t),this.fire(Qa,t)}},{key:"_onObjectModified",value:function(t){t.type!==wt&&(this._invoker.fire(ge,tr(t.type)),this._pushModifyObjectCommand(t))}},{key:"_selectionCleared",value:function(){this.fire(qa)}},{key:"_selectionCreated",value:function(t){this.fire(Ka,t)}},{key:"registerIcons",value:function(t){this._graphics.registerPaths(t)}},{key:"changeCursor",value:function(t){this._graphics.changeCursor(t)}},{key:"addIcon",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(zt,t,e)}},{key:"changeIconColor",value:function(t,e){return this.execute(Ft,t,e)}},{key:"removeObject",value:function(t){var e=this._graphics.getObject(t).type;return this.execute(Lt,t,tr(e))}},{key:"hasFilter",value:function(t){return this._graphics.hasFilter(t)}},{key:"removeFilter",value:function(t){return this.execute(Bt,t)}},{key:"applyFilter",value:function(t,e,n){return this[n?"executeSilent":"execute"](Rt,t,e)}},{key:"toDataURL",value:function(t){return this._graphics.toDataURL(t)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(t){return t?this.execute(Xt,t):B().reject(hn)}},{key:"destroy",value:function(){var t=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),X()(this,(function(e,n){t[n]=null}),this)}},{key:"_setPositions",value:function(t){var e=this._graphics.getCenter();Y()(t.left)&&(t.left=e.left),Y()(t.top)&&(t.top=e.top)}},{key:"setObjectProperties",value:function(t,e){return this.execute(Zt,t,e)}},{key:"setObjectPropertiesQuietly",value:function(t,e){this._graphics.setObjectProperties(t,e)}},{key:"getObjectProperties",value:function(t,e){return this._graphics.getObject(t)?this._graphics.getObjectProperties(t,e):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(t,e,n){return this._graphics.getObjectPosition(t,e,n)}},{key:"setObjectPosition",value:function(t,e){return this.execute(qt,t,e)}},{key:"resize",value:function(t){return this.execute(Qt,t)}}]),t}();Uo.mixin(Ja),q().mixin(Ja);var $a=Ja,ts=jt.ICON,es={name:zt,execute:function(t,e,n){var r=this;return t.getComponent(ts).add(e,n).then((function(e){return r.undoData.object=t.getObject(e.id),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(es);var ns={name:Gt,execute:function(t,e){var n=this;return t.addImageObject(e).then((function(e){return n.undoData.object=t.getObject(e.id),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(ns);var rs={name:Nt,execute:function(t,e){return new(B())((function(n,r){t.contains(e)?r(ln):(t.add(e),n(e))}))},undo:function(t,e){return new(B())((function(n,r){t.contains(e)?(t.remove(e),n(e)):r(gn)}))}};hr.register(rs);var os=jt.SHAPE,is={name:Ht,execute:function(t,e,n){var r=this;return t.getComponent(os).add(e,n).then((function(e){var n=e.id;return r.undoData.object=t.getObject(n),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(is);var as=jt.TEXT,ss={name:Wt,execute:function(t,e,n){var r=this,o=t.getComponent(as);if(this.undoData.object){var i=this.undoData.object;return new(B())((function(e,n){t.contains(i)?n(mn):(t.add(i),e(i))}))}return o.add(e,n).then((function(e){var n=e.id,o=t.getObject(n);return r.undoData.object=o,Oa(ka(o,(function(){return Ma(n,o,!1)}))),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(ss);var cs=jt.FILTER,us=null,ls={name:Rt,execute:function(t,e,n,r){var o=t.getComponent(cs);if("mask"===e){var i=t.getObject(n.maskObjId);if(!i||!i.isType("image"))return B().reject(hn);W()(n,{mask:i}),t.remove(n.mask)}if(!this.isRedo){var a=function(t,e,n){var r={};return"mask"===t&&(r.object=n.mask),r.options=e,r}(e,o.getOptions(e),n);us=this.setUndoData(a,us,r)}return o.add(e,n)},undo:function(t,e){var n=t.getComponent(cs);if("mask"===e){var r=this.undoData.object;return t.add(r),t.setActiveObject(r),n.remove(e)}return this.undoData.options?n.add(e,this.undoData.options):n.remove(e)}};hr.register(ls);var fs=jt.ICON,hs={name:Ft,execute:function(t,e,n){var r=this;return new(B())((function(o,i){var a=t.getComponent(fs),s=t.getObject(e);s||i(gn),r.undoData.object=s,r.undoData.color=a.getColor(s),a.setColor(n,s),o()}))},undo:function(t){var e=t.getComponent(fs),n=this.undoData,r=n.object,o=n.color;return e.setColor(o,r),B().resolve()}};hr.register(hs);var ds=jt.SHAPE,ps=null,vs={name:Ut,execute:function(t,e,n,r){var o=t.getComponent(ds),i=t.getObject(e);if(!i)return B().reject(gn);if(!this.isRedo){var a=function(t,e){var n={object:e,options:{}};return Go()(t,(function(t,r){n.options[r]=e[r]})),n}(n,i);ps=this.setUndoData(a,ps,r)}return o.change(i,n)},undo:function(t){var e=t.getComponent(ds),n=this.undoData,r=n.object,o=n.options;return e.change(r,o)}};hr.register(vs);var gs=jt.TEXT,ms={name:Vt,execute:function(t,e,n){var r=t.getComponent(gs),o=t.getObject(e);return o?(this.undoData.object=o,this.undoData.text=r.getText(o),r.change(o,n)):B().reject(gn)},undo:function(t){var e=t.getComponent(gs),n=this.undoData,r=n.object,o=n.text;return e.change(r,o)}};hr.register(ms);var ys=jt.TEXT,bs=null,_s={name:Yt,execute:function(t,e,n,r){var o=t.getComponent(ys),i=t.getObject(e);if(!i)return B().reject(gn);if(!this.isRedo){var a=function(t,e){var n={object:e,styles:{}};return Go()(t,(function(t,r){var o=e[r];n.styles[r]=o})),n}(n,i);bs=this.setUndoData(a,bs,r)}return o.setStyle(i,n)},undo:function(t){var e=t.getComponent(ys),n=this.undoData,r=n.object,o=n.styles;return e.setStyle(r,o)}};hr.register(_s);var ws={name:At,execute:function(t){var e=this;return new(B())((function(n){e.undoData.objects=t.removeAll(),n()}))},undo:function(t){return t.add(this.undoData.objects),B().resolve()}};hr.register(ws);var xs=jt.FLIP,Ss={name:Pt,execute:function(t,e){var n=t.getComponent(xs);return this.undoData.setting=n.getCurrentSetting(),n[e]()},undo:function(t){return t.getComponent(xs).set(this.undoData.setting)}};hr.register(Ss);var Cs=jt.IMAGE_LOADER,Os={name:Tt,execute:function(t,e,n){var r,o=t.getComponent(Cs),i=o.getCanvasImage(),a=i?i.width:0,s=i?i.height:0,c=Fo()(r=t.removeAll(!0)).call(r,(function(t){return"cropzone"!==t.type}));return at()(c).call(c,(function(t){t.evented=!0})),this.undoData={name:o.getImageName(),image:i,objects:c},o.load(e,n).then((function(t){return{oldWidth:a,oldHeight:s,newWidth:t.width,newHeight:t.height}}))},undo:function(t){var e=t.getComponent(Cs),n=this.undoData,r=n.objects,o=n.name,i=n.image;return t.removeAll(!0),t.add(r),e.load(o,i)}};hr.register(Os);var ks=jt.FILTER,Ms={name:Bt,execute:function(t,e){var n=t.getComponent(ks);return this.undoData.options=n.getOptions(e),n.remove(e)},undo:function(t,e){var n=t.getComponent(ks),r=this.undoData.options;return n.add(e,r)}};hr.register(Ms);var Es={name:Lt,execute:function(t,e){var n=this;return new(B())((function(r,o){n.undoData.objects=t.removeObjectById(e),n.undoData.objects.length?r():o(gn)}))},undo:function(t){return t.add(this.undoData.objects),B().resolve()}};hr.register(Es);var js={name:Xt,execute:function(t,e){var n=this;return new(B())((function(r){n.undoData.size={width:t.cssMaxWidth,height:t.cssMaxHeight},t.setCssMaxDimension(e),t.adjustCanvasDimension(),r()}))},undo:function(t){return t.setCssMaxDimension(this.undoData.size),t.adjustCanvasDimension(),B().resolve()}};hr.register(js);var Is=jt.ROTATION,As=null,Ts={name:Dt,execute:function(t,e,n,r){var o=t.getComponent(Is);if(!this.isRedo){var i=function(t){return{angle:t.getCurrentAngle()}}(o);As=this.setUndoData(i,As,r)}return o[e](n)},undo:function(t){var e=t.getComponent(Is),n=et(this.args,3),r=n[1],o=n[2];return"setAngle"===r?e[r](this.undoData.angle):e.rotate(-o)}};hr.register(Ts);var Ps={name:Zt,execute:function(t,e,n){var r=this,o=t.getObject(e);return o?(this.undoData.props={},Go()(n,(function(t,e){r.undoData.props[e]=o[e]})),t.setObjectProperties(e,n),B().resolve()):B().reject(gn)},undo:function(t,e){var n=this.undoData.props;return t.setObjectProperties(e,n),B().resolve()}};hr.register(Ps);var Ds={name:qt,execute:function(t,e,n){return t.getObject(e)?(this.undoData.objectId=e,this.undoData.props=t.getObjectProperties(e,["left","top"]),t.setObjectPosition(e,n),t.renderAll(),B().resolve()):B().reject(gn)},undo:function(t){var e=this.undoData,n=e.objectId,r=e.props;return t.setObjectProperties(n,r),t.renderAll(),B().resolve()}};hr.register(Ds);var Ns={name:Kt,execute:function(t,e){return this.isRedo?at()(e).call(e,(function(e){t.setObjectProperties(e.id,e)})):this.undoData=Ca,B().resolve()},undo:function(t){var e;return at()(e=this.undoData).call(e,(function(e){t.setObjectProperties(e.id,e)})),B().resolve()}};hr.register(Ns);var Ls=jt.RESIZE,Rs={name:Qt,execute:function(t,e){var n=t.getComponent(Ls),r=n.getOriginalDimensions();return r||(r=n.getCurrentDimensions()),this.undoData.dimensions=r,n.resize(e)},undo:function(t){return t.getComponent(Ls).resize(this.undoData.dimensions)}};hr.register(Rs);var Bs=$a}(),a=a.default}()},"object"===u(e)&&"object"===u(o)?o.exports=c(n(1251)):(a=[n(1251)],void 0===(s="function"===typeof(i=c)?i.apply(e,a):i)||(o.exports=s))}).call(this,n(1292).Buffer,n(350),n(157)(t))},1292:function(t,e,n){"use strict";(function(t){var r=n(1293),o=n(1294),i=n(1295);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return U(F(e,t.length-n),t,n,r)}function w(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function S(t,e,n,r){return U(H(e),t,n,r)}function C(t,e,n,r){return U(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function j(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=z(t[i]);return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function A(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);T(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);T(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:F(new c(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function U(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(53))},1293:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},1294:function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=u}return(d?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+d]=255&a,d+=p,a/=256,u-=8);t[n+d-p]|=128*v}},1295:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},1296:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:W(t)}function r(t){return c(t)?t:V(t)}function o(t){return u(t)?t:Y(t)}function i(t){return s(t)&&!l(t)?t:G(t)}function s(t){return!(!t||!t[h])}function c(t){return!(!t||!t[d])}function u(t){return!(!t||!t[p])}function l(t){return c(t)||u(t)}function f(t){return!(!t||!t[v])}e(r,n),e(o,n),e(i,n),n.isIterable=s,n.isKeyed=c,n.isIndexed=u,n.isAssociative=l,n.isOrdered=f,n.Keyed=r,n.Indexed=o,n.Set=i;var h="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",g={},m={value:!1},y={value:!1};function b(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function w(){}function x(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(O)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function O(){return!0}function k(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function M(t,e){return j(t,e,0)}function E(t,e){return j(t,e,e)}function j(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var I,A,T,P="function"===typeof Symbol&&Symbol.iterator,D=P||"@@iterator";function N(t){this.next=t}function L(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function R(){return{value:void 0,done:!0}}function B(t){return!!H(t)}function z(t){return t&&"function"===typeof t.next}function F(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(P&&t[P]||t["@@iterator"]);if("function"===typeof e)return e}function U(t){return t&&"number"===typeof t.length}function W(t){return null===t||void 0===t?J():s(t)?t.toSeq():function(t){var e=et(t)||"object"===a(t)&&new Z(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function V(t){return null===t||void 0===t?J().toKeyedSeq():s(t)?c(t)?t.toSeq():t.fromEntrySeq():$(t)}function Y(t){return null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t.toIndexedSeq():tt(t)}function G(t){return(null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t:tt(t)).toSetSeq()}function X(t){this._array=t,this.size=t.length}function Z(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function q(t){this._iterable=t,this.size=t.length||t.size}function K(t){this._iterator=t,this._iteratorCache=[]}function Q(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function J(){return I||(I=new X([]))}function $(t){var e=Array.isArray(t)?new X(t).fromEntrySeq():z(t)?new K(t).fromEntrySeq():B(t)?new q(t).fromEntrySeq():"object"===a(t)?new Z(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function tt(t){var e=et(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function et(t){return U(t)?new X(t):z(t)?new K(t):B(t)?new q(t):void 0}function nt(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function rt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new N((function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:L(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function ot(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,Y(n).map((function(r,o){return t(e,r,o,n)}))):at(n)?e.call(o,r,V(n).map((function(r,o){return t(e,r,o,n)}))):n}(e,t,"",{"":t}):it(t)}function it(t){return Array.isArray(t)?Y(t).map(it).toList():at(t)?V(t).map(it).toMap():t}function at(t){return t&&(t.constructor===Object||void 0===t.constructor)}function st(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function ct(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||c(t)!==c(e)||u(t)!==u(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(f(t)){var r=t.entries();return e.every((function(t,e){var o=r.next().value;return o&&st(o[1],t)&&(n||st(o[0],e))}))&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var a=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):o?!st(e,t.get(r,g)):!st(t.get(r,g),e))return a=!1,!1}));return a&&t.size===h}function ut(t,e){if(!(this instanceof ut))return new ut(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(A)return A;A=this}}function lt(t,e){if(!t)throw new Error(e)}function ft(t,e,n){if(!(this instanceof ft))return new ft(t,e,n);if(lt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(T)return T;T=this}}function ht(){throw TypeError("Abstract")}function dt(){}function pt(){}function vt(){}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=0,N.VALUES=1,N.ENTRIES=2,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[D]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return nt(this,t,e,!0)},W.prototype.__iterator=function(t,e){return rt(this,t,e,!0)},e(V,W),V.prototype.toKeyedSeq=function(){return this},e(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return nt(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return rt(this,t,e,!1)},e(G,W),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},W.isSeq=Q,W.Keyed=V,W.Set=G,W.Indexed=Y,W.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(X,Y),X.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},X.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},X.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new N((function(){return o>r?{value:void 0,done:!0}:L(t,o,n[e?r-o++:o++])}))},e(Z,V),Z.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},Z.prototype.has=function(t){return this._object.hasOwnProperty(t)},Z.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},Z.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new N((function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:L(t,a,n[a])}))},Z.prototype[v]=!0,e(q,Y),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=F(this._iterable),r=0;if(z(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=F(this._iterable);if(!z(n))return new N(R);var r=0;return new N((function(){var e=n.next();return e.done?e:L(t,r++,e.value)}))},e(K,Y),K.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},K.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new N((function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return L(t,o,r[o++])}))},e(ut,Y),ut.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ut.prototype.get=function(t,e){return this.has(t)?this._value:e},ut.prototype.includes=function(t){return st(this._value,t)},ut.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:new ut(this._value,E(e,n)-M(t,n))},ut.prototype.reverse=function(){return this},ut.prototype.indexOf=function(t){return st(this._value,t)?0:-1},ut.prototype.lastIndexOf=function(t){return st(this._value,t)?this.size:-1},ut.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ut.prototype.__iterator=function(t,e){var n=this,r=0;return new N((function(){return r<n.size?L(t,r++,n._value):{value:void 0,done:!0}}))},ut.prototype.equals=function(t){return t instanceof ut?st(this._value,t._value):ct(t)},e(ft,Y),ft.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ft.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},ft.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ft.prototype.slice=function(t,e){return k(t,e,this.size)?this:(t=M(t,this.size),(e=E(e,this.size))<=t?new ft(0,0):new ft(this.get(t,this._end),this.get(e,this._end),this._step))},ft.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},ft.prototype.lastIndexOf=function(t){return this.indexOf(t)},ft.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},ft.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new N((function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:L(t,i++,a)}))},ft.prototype.equals=function(t){return t instanceof ft?this._start===t._start&&this._end===t._end&&this._step===t._step:ct(this,t)},e(ht,n),e(dt,ht),e(pt,ht),e(vt,ht),ht.Keyed=dt,ht.Indexed=pt,ht.Set=vt;var gt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function mt(t){return t>>>1&1073741824|3221225471&t}function yt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=a(t);if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return mt(n)}if("string"===e)return t.length>kt?function(t){var e=jt[t];return void 0===e&&(e=bt(t),Et===Mt&&(Et=0,jt={}),Et++,jt[t]=e),e}(t):bt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(St&&void 0!==(e=_t.get(t)))return e;if(void 0!==(e=t[Ot]))return e;if(!xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ot]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ct,1073741824&Ct&&(Ct=0),St)_t.set(t,e);else{if(void 0!==wt&&!1===wt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(xt)Object.defineProperty(t,Ot,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ot]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ot]=e}}return e}(t);if("function"===typeof t.toString)return bt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function bt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return mt(e)}var _t,wt=Object.isExtensible,xt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),St="function"===typeof WeakMap;St&&(_t=new WeakMap);var Ct=0,Ot="__immutablehash__";"function"===typeof Symbol&&(Ot=Symbol(Ot));var kt=16,Mt=255,Et=0,jt={};function It(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function At(t){return null===t||void 0===t?Yt():Tt(t)&&!f(t)?t:Yt().withMutations((function(e){var n=r(t);It(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Tt(t){return!(!t||!t[Dt])}e(At,dt),At.prototype.toString=function(){return this.__toString("Map {","}")},At.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},At.prototype.set=function(t,e){return Gt(this,t,e)},At.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},At.prototype.remove=function(t){return Gt(this,t,g)},At.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},At.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},At.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===g,a=n.next();if(a.done){var s=i?r:e,c=o(s);return c===s?e:c}lt(i||e&&e.set,"invalid keyPath");var u=a.value,l=i?g:e.get(u,g),f=t(l,n,r,o);return f===l?e:f===g?e.remove(u):(i?Yt():e).set(u,f)}(this,Ke(t),e,n);return r===g?void 0:r},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Yt()},At.prototype.merge=function(){return Kt(this,void 0,arguments)},At.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Kt(this,e,n)},At.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Yt(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},At.prototype.mergeDeep=function(){return Kt(this,Qt,arguments)},At.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Kt(this,Jt(e),n)},At.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Yt(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},At.prototype.sort=function(t){return xe(ze(this,t))},At.prototype.sortBy=function(t,e){return xe(ze(this,e,t))},At.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},At.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},At.prototype.asImmutable=function(){return this.__ensureOwner()},At.prototype.wasAltered=function(){return this.__altered},At.prototype.__iterator=function(t,e){return new Ht(this,t,e)},At.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},At.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Vt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},At.isMap=Tt;var Pt,Dt="@@__IMMUTABLE_MAP__@@",Nt=At.prototype;function Lt(t,e){this.ownerID=t,this.entries=e}function Rt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Bt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ht(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Wt(t._root)}function Ut(t,e){return L(t,e[0],e[1])}function Wt(t,e){return{node:t,index:0,__prev:e}}function Vt(t,e,n,r){var o=Object.create(Nt);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Yt(){return Pt||(Pt=Vt(0))}function Gt(t,e,n){var r,o;if(t._root){var i=b(m),a=b(y);if(r=Xt(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===g?-1:1:0)}else{if(n===g)return t;o=1,r=new Lt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Vt(o,r):Yt()}function Xt(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===g?t:(_(s),_(a),new Ft(e,r,[o,i]))}function Zt(t){return t.constructor===Ft||t.constructor===zt}function qt(t,e,n,r,o){if(t.keyHash===r)return new zt(e,r,[t.entry,o]);var i,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Rt(e,1<<a|1<<s,a===s?[qt(t,e,n+5,r,o)]:(i=new Ft(e,r,o),a<s?[t,i]:[i,t]))}function Kt(t,e,n){for(var o=[],i=0;i<n.length;i++){var a=n[i],c=r(a);s(a)||(c=c.map((function(t){return ot(t)}))),o.push(c)}return $t(t,e,o)}function Qt(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):st(t,e)?t:e}function Jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return st(e,o)?e:o}}function $t(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)})):t.constructor(n[0])}function te(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ee(t,e,n,r){var o=r?t:x(t);return o[e]=n,o}Nt[Dt]=!0,Nt.delete=Nt.remove,Nt.removeIn=Nt.deleteIn,Lt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(st(n,o[i][0]))return o[i][1];return r},Lt.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===g,c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),!s||1!==c.length){if(!f&&!s&&c.length>=ne)return function(t,e,n,r){t||(t=new w);for(var o=new Ft(t,yt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,c,r,o);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new Lt(t,d)}},Rt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=1<<(31&(0===t?e:e>>>t)),i=this.bitmap;return 0===(i&o)?r:this.nodes[te(i&o-1)].get(t+5,e,n,r)},Rt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&o===g)return this;var f=te(u&c-1),h=this.nodes,d=l?h[f]:void 0,p=Xt(d,t,e+5,n,r,o,i,a);if(p===d)return this;if(!l&&p&&h.length>=re)return function(t,e,n,r,o){for(var i=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new Bt(t,i+1,a)}(t,h,u,s,p);if(l&&!p&&2===h.length&&Zt(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&Zt(p))return p;var v=t&&t===this.ownerID,m=l?p?u:u^c:u|c,y=l?p?ee(h,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(h,f,v):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(h,f,p,v);return v?(this.bitmap=m,this.nodes=y,this):new Rt(t,m,y)},Bt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=31&(0===t?e:e>>>t),i=this.nodes[o];return i?i.get(t+5,e,n,r):r},Bt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=o===g,u=this.nodes,l=u[s];if(c&&!l)return this;var f=Xt(l,t,e+5,n,r,o,i,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<oe)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,u=e.length;s<u;s++,c<<=1){var l=e[s];void 0!==l&&s!==r&&(o|=c,a[i++]=l)}return new Rt(t,o,a)}(t,u,h,s)}else h++;var d=t&&t===this.ownerID,p=ee(u,s,f,d);return d?(this.count=h,this.nodes=p,this):new Bt(t,h,p)},zt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(st(n,o[i][0]))return o[i][1];return r},zt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=o===g;if(n!==this.keyHash)return s?this:(_(a),_(i),qt(this,t,e,n,[r,o]));for(var c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),s&&2===l)return new Ft(t,this.keyHash,c[1^u]);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new zt(t,this.keyHash,d)},Ft.prototype.get=function(t,e,n,r){return st(n,this.entry[0])?this.entry[1]:r},Ft.prototype.update=function(t,e,n,r,o,i,a){var s=o===g,c=st(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(_(a),s?void _(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Ft(t,this.keyHash,[r,o]):(_(i),qt(this,t,e,yt(r),[r,o])))},Lt.prototype.iterate=zt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Rt.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Ft.prototype.iterate=function(t,e){return t(this.entry)},e(Ht,N),Ht.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Ut(t,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return Ut(t,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Ut(t,i.entry);e=this._stack=Wt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ne=8,re=16,oe=8;function ie(t){var e=ve();if(null===t||void 0===t)return e;if(ae(t))return t;var n=o(t),r=n.size;return 0===r?e:(It(r),r>0&&r<32?pe(0,r,5,null,new ue(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ae(t){return!(!t||!t[se])}e(ie,pt),ie.of=function(){return this(arguments)},ie.prototype.toString=function(){return this.__toString("List [","]")},ie.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ye(this,t+=this._origin);return n&&n.array[31&t]}return e},ie.prototype.set=function(t,e){return function(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?be(t,e).set(0,n):be(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,o=t._root,i=b(y);return e>=we(t._capacity)?r=ge(r,t.__ownerID,0,e,n,i):o=ge(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},ie.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ie.prototype.insert=function(t,e){return this.splice(t,0,e)},ie.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ve()},ie.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){be(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},ie.prototype.pop=function(){return be(this,0,-1)},ie.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){be(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},ie.prototype.shift=function(){return be(this,1)},ie.prototype.merge=function(){return _e(this,void 0,arguments)},ie.prototype.mergeWith=function(e){var n=t.call(arguments,1);return _e(this,e,n)},ie.prototype.mergeDeep=function(){return _e(this,Qt,arguments)},ie.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,Jt(e),n)},ie.prototype.setSize=function(t){return be(this,0,t)},ie.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:be(this,M(t,n),E(e,n))},ie.prototype.__iterator=function(t,e){var n=0,r=de(this,e);return new N((function(){var e=r();return e===he?{value:void 0,done:!0}:L(t,n++,e)}))},ie.prototype.__iterate=function(t,e){for(var n,r=0,o=de(this,e);(n=o())!==he&&!1!==t(n,r++,this););return r},ie.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ie.isList=ae;var se="@@__IMMUTABLE_LIST__@@",ce=ie.prototype;function ue(t,e){this.array=t,this.ownerID=e}ce[se]=!0,ce.delete=ce.remove,ce.setIn=Nt.setIn,ce.deleteIn=ce.removeIn=Nt.removeIn,ce.update=Nt.update,ce.updateIn=Nt.updateIn,ce.mergeIn=Nt.mergeIn,ce.mergeDeepIn=Nt.mergeDeepIn,ce.withMutations=Nt.withMutations,ce.asMutable=Nt.asMutable,ce.asImmutable=Nt.asImmutable,ce.wasAltered=Nt.wasAltered,ue.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ue([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-5,n))===a&&i)return this}if(i&&!o)return this;var s=me(this,t);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},ue.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&31;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-5,n))===i&&o===this.array.length-1)return this}var a=me(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var le,fe,he={};function de(t,e){var n=t._origin,r=t._capacity,o=we(r),i=t._tail;return a(t._root,t._level,0);function a(t,s,c){return 0===s?function(t,a){var s=a===o?i&&i.array:t&&t.array,c=a>n?0:n-a,u=r-a;return u>32&&(u=32),function(){if(c===u)return he;var t=e?--u:c++;return s&&s[t]}}(t,c):function(t,o,i){var s,c=t&&t.array,u=i>n?0:n-i>>o,l=1+(r-i>>o);return l>32&&(l=32),function(){for(;;){if(s){var t=s();if(t!==he)return t;s=null}if(u===l)return he;var n=e?--l:u++;s=a(c&&c[n],o-5,i+(n<<o))}}}(t,s,c)}}function pe(t,e,n,r,o,i,a){var s=Object.create(ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function ve(){return le||(le=pe(0,0,5))}function ge(t,e,n,r,o,i){var a,s=r>>>n&31,c=t&&s<t.array.length;if(!c&&void 0===o)return t;if(n>0){var u=t&&t.array[s],l=ge(u,e,n-5,r,o,i);return l===u?t:((a=me(t,e)).array[s]=l,a)}return c&&t.array[s]===o?t:(_(i),a=me(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function me(t,e){return e&&t&&e===t.ownerID?t:new ue(t?t.array.slice():[],e)}function ye(t,e){if(e>=we(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function be(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new w,o=t._origin,i=t._capacity,a=o+e,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,l=0;a+l<0;)u=new ue(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=5);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=we(i),h=we(s);h>=1<<c+5;)u=new ue(u&&u.array.length?[u]:[],r),c+=5;var d=t._tail,p=h<f?ye(t,s-1):h>f?new ue([],r):d;if(d&&h>f&&a<i&&d.array.length){for(var v=u=me(u,r),g=c;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=me(v.array[m],r)}v.array[f>>>5&31]=d}if(s<i&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=5,u=null,p=p&&p.removeBefore(r,0,a);else if(a>o||h<f){for(l=0;u;){var y=a>>>c&31;if(y!==h>>>c&31)break;y&&(l+=(1<<c)*y),c-=5,u=u.array[y]}u&&a>o&&(u=u.removeBefore(r,c,a-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=p,t.__hash=void 0,t.__altered=!0,t):pe(a,s,c,u,p)}function _e(t,e,n){for(var r=[],i=0,a=0;a<n.length;a++){var c=n[a],u=o(c);u.size>i&&(i=u.size),s(c)||(u=u.map((function(t){return ot(t)}))),r.push(u)}return i>t.size&&(t=t.setSize(i)),$t(t,e,r)}function we(t){return t<32?0:t-1>>>5<<5}function xe(t){return null===t||void 0===t?Oe():Se(t)?t:Oe().withMutations((function(e){var n=r(t);It(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Se(t){return Tt(t)&&f(t)}function Ce(t,e,n,r){var o=Object.create(xe.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function Oe(){return fe||(fe=Ce(Yt(),ve()))}function ke(t,e,n){var r,o,i=t._map,a=t._list,s=i.get(e),c=void 0!==s;if(n===g){if(!c)return t;a.size>=32&&a.size>=2*i.size?(r=(o=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return t;r=i,o=a.set(s,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):Ce(r,o)}function Me(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ee(t){this._iter=t,this.size=t.size}function je(t){this._iter=t,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function Ae(t){var e=Xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ze,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new N((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Te(t,e,n){var r=Xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,g);return i===g?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate((function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(2,o);return new N((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return L(r,s,e.call(n,a[1],s,t),o)}))},r}function Pe(t,e){var n=Xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ze,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function De(t,e,n,r){var o=Xe(t);return r&&(o.has=function(r){var o=t.get(r,g);return o!==g&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,g);return i!==g&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate((function(t,i,c){if(e.call(n,t,i,c))return s++,o(t,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(2,i),s=0;return new N((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,u=c[0],l=c[1];if(e.call(n,l,u,t))return L(o,r?u:s++,l,i)}}))},o}function Ne(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),k(e,n,o))return t;var i=M(e,o),a=E(n,o);if(i!==i||a!==a)return Ne(t.toSeq().cacheResult(),e,n,r);var s,c=a-i;c===c&&(s=c<0?0:c);var u=Xe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&Q(t)&&s>=0&&(u.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+i,n):n}),u.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,u=0;return t.__iterate((function(t,n){if(!c||!(c=a++<i))return u++,!1!==e(t,r?n:u-1,o)&&u!==s})),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var o=0!==s&&t.__iterator(e,n),a=0,c=0;return new N((function(){for(;a++<i;)o.next();if(++c>s)return{value:void 0,done:!0};var t=o.next();return r||1===e?t:L(e,c-1,0===e?void 0:t.value[1],t)}))},u}function Le(t,e,n,r){var o=Xe(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return t.__iterate((function(t,i,u){if(!s||!(s=e.call(n,t,i,u)))return c++,o(t,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(2,i),c=!0,u=0;return new N((function(){var t,i,l;do{if((t=s.next()).done)return r||1===o?t:L(o,u++,0===o?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],c&&(c=e.call(n,l,i,a))}while(c);return 2===o?t:L(o,i,l,t)}))},o}function Re(t,e){var n=c(t),o=[t].concat(e).map((function(t){return s(t)?n&&(t=r(t)):t=n?$(t):tt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&c(i)||u(t)&&u(i))return i}var a=new X(o);return n?a=a.toKeyedSeq():u(t)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),a}function Be(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,o){var i=0,a=!1;return function t(c,u){var l=this;c.__iterate((function(o,c){return(!e||u<e)&&s(o)?t(o,u+1):!1===r(o,n?c:i++,l)&&(a=!0),!a}),o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),a=[],c=0;return new N((function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(a.length<e)||!s(u))return n?t:L(r,c++,u,t);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}}))},r}function ze(t,e,n){e||(e=qe);var r=c(t),o=0,i=t.toSeq().map((function(e,r){return[r,e,o++,n?n(e,r,t):e]})).toArray();return i.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?V(i):u(t)?Y(i):G(i)}function Fe(t,e,n){if(e||(e=qe),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return He(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return He(e,t,n)?n:t}))}function He(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ue(t,e,r){var o=Xe(t);return o.size=new X(r).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map((function(t){return t=n(t),F(o?t.reverse():t)})),a=0,s=!1;return new N((function(){var n;return s||(n=i.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:L(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},o}function We(t,e){return Q(t)?e:t.constructor(e)}function Ve(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ye(t){return It(t.size),S(t)}function Ge(t){return c(t)?r:u(t)?o:i}function Xe(t){return Object.create((c(t)?V:u(t)?Y:G).prototype)}function Ze(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function qe(t,e){return t>e?1:t<e?-1:0}function Ke(t){var e=F(t);if(!e){if(!U(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(n(t))}return e}function Qe(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(en.bind(void 0,t))}catch(n){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=At(i)},o=r.prototype=Object.create(Je);return o.constructor=r,r}e(xe,At),xe.of=function(){return this(arguments)},xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Oe()},xe.prototype.set=function(t,e){return ke(this,t,e)},xe.prototype.remove=function(t){return ke(this,t,g)},xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ce(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},xe.isOrderedMap=Se,xe.prototype[v]=!0,xe.prototype.delete=xe.prototype.remove,e(Me,V),Me.prototype.get=function(t,e){return this._iter.get(t,e)},Me.prototype.has=function(t){return this._iter.has(t)},Me.prototype.valueSeq=function(){return this._iter.valueSeq()},Me.prototype.reverse=function(){var t=this,e=Pe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Me.prototype.map=function(t,e){var n=this,r=Te(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Me.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ye(this):0,function(o){return t(o,e?--n:n++,r)}),e)},Me.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ye(this):0;return new N((function(){var o=n.next();return o.done?o:L(t,e?--r:r++,o.value,o)}))},Me.prototype[v]=!0,e(Ee,Y),Ee.prototype.includes=function(t){return this._iter.includes(t)},Ee.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ee.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new N((function(){var e=n.next();return e.done?e:L(t,r++,e.value,e)}))},e(je,G),je.prototype.has=function(t){return this._iter.includes(t)},je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){var e=n.next();return e.done?e:L(t,e.value,e.value,e)}))},e(Ie,V),Ie.prototype.entrySeq=function(){return this._iter.toSeq()},Ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Ve(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ve(r);var o=s(r);return L(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}}))},Ee.prototype.cacheResult=Me.prototype.cacheResult=je.prototype.cacheResult=Ie.prototype.cacheResult=Ze,e(Qe,dt),Qe.prototype.toString=function(){return this.__toString(tn(this)+" {","}")},Qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=$e(this,Yt()))},Qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+tn(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:$e(this,n)},Qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:$e(this,e)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()},Qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?$e(this,e,t):(this.__ownerID=t,this._map=e,this)};var Je=Qe.prototype;function $e(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function tn(t){return t._name||t.constructor.name||"Record"}function en(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function nn(t){return null===t||void 0===t?ln():rn(t)&&!f(t)?t:ln().withMutations((function(e){var n=i(t);It(n.size),n.forEach((function(t){return e.add(t)}))}))}function rn(t){return!(!t||!t[an])}Je.delete=Je.remove,Je.deleteIn=Je.removeIn=Nt.removeIn,Je.merge=Nt.merge,Je.mergeWith=Nt.mergeWith,Je.mergeIn=Nt.mergeIn,Je.mergeDeep=Nt.mergeDeep,Je.mergeDeepWith=Nt.mergeDeepWith,Je.mergeDeepIn=Nt.mergeDeepIn,Je.setIn=Nt.setIn,Je.update=Nt.update,Je.updateIn=Nt.updateIn,Je.withMutations=Nt.withMutations,Je.asMutable=Nt.asMutable,Je.asImmutable=Nt.asImmutable,e(nn,vt),nn.of=function(){return this(arguments)},nn.fromKeys=function(t){return this(r(t).keySeq())},nn.prototype.toString=function(){return this.__toString("Set {","}")},nn.prototype.has=function(t){return this._map.has(t)},nn.prototype.add=function(t){return cn(this,this._map.set(t,!0))},nn.prototype.remove=function(t){return cn(this,this._map.remove(t))},nn.prototype.clear=function(){return cn(this,this._map.clear())},nn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},nn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},nn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},nn.prototype.merge=function(){return this.union.apply(this,arguments)},nn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},nn.prototype.sort=function(t){return fn(ze(this,t))},nn.prototype.sortBy=function(t,e){return fn(ze(this,e,t))},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},nn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},nn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},nn.isSet=rn;var on,an="@@__IMMUTABLE_SET__@@",sn=nn.prototype;function cn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function un(t,e){var n=Object.create(sn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ln(){return on||(on=un(Yt()))}function fn(t){return null===t||void 0===t?gn():hn(t)?t:gn().withMutations((function(e){var n=i(t);It(n.size),n.forEach((function(t){return e.add(t)}))}))}function hn(t){return rn(t)&&f(t)}sn[an]=!0,sn.delete=sn.remove,sn.mergeDeep=sn.merge,sn.mergeDeepWith=sn.mergeWith,sn.withMutations=Nt.withMutations,sn.asMutable=Nt.asMutable,sn.asImmutable=Nt.asImmutable,sn.__empty=ln,sn.__make=un,e(fn,nn),fn.of=function(){return this(arguments)},fn.fromKeys=function(t){return this(r(t).keySeq())},fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},fn.isOrderedSet=hn;var dn,pn=fn.prototype;function vn(t,e){var n=Object.create(pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return dn||(dn=vn(Oe()))}function mn(t){return null===t||void 0===t?Sn():yn(t)?t:Sn().unshiftAll(t)}function yn(t){return!(!t||!t[_n])}pn[v]=!0,pn.__empty=gn,pn.__make=vn,e(mn,pt),mn.of=function(){return this(arguments)},mn.prototype.toString=function(){return this.__toString("Stack [","]")},mn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},mn.prototype.peek=function(){return this._head&&this._head.value},mn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):xn(t,e)},mn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;It(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},mn.prototype.pop=function(){return this.slice(1)},mn.prototype.unshift=function(){return this.push.apply(this,arguments)},mn.prototype.unshiftAll=function(t){return this.pushAll(t)},mn.prototype.shift=function(){return this.pop.apply(this,arguments)},mn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sn()},mn.prototype.slice=function(t,e){if(k(t,e,this.size))return this;var n=M(t,this.size);if(E(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):xn(r,o)},mn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},mn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},mn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new N((function(){if(r){var e=r.value;return r=r.next,L(t,n++,e)}return{value:void 0,done:!0}}))},mn.isStack=yn;var bn,_n="@@__IMMUTABLE_STACK__@@",wn=mn.prototype;function xn(t,e,n,r){var o=Object.create(wn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Sn(){return bn||(bn=xn(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}wn[_n]=!0,wn.withMutations=Nt.withMutations,wn.asMutable=Nt.asMutable,wn.asImmutable=Nt.asImmutable,wn.wasAltered=Nt.wasAltered,n.Iterator=N,Cn(n,{toArray:function(){It(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Me(this,!0)},toMap:function(){return At(this.toKeyedSeq())},toObject:function(){It(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return xe(this.toKeyedSeq())},toOrderedSet:function(){return fn(c(this)?this.valueSeq():this)},toSet:function(){return nn(c(this)?this.valueSeq():this)},toSetSeq:function(){return new je(this)},toSeq:function(){return u(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mn(c(this)?this.valueSeq():this)},toList:function(){return ie(c(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return We(this,Re(this,e))},includes:function(t){return this.some((function(e){return st(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){It(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1})),n},filter:function(t,e){return We(this,De(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return It(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){It(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return We(this,Te(this,t,e))},reduce:function(t,e,n){var r,o;return It(this.size),arguments.length<2?o=!0:r=e,this.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return We(this,Pe(this,!0))},slice:function(t,e){return We(this,Ne(this,t,e,!0))},some:function(t,e){return!this.every(jn(t),e)},sort:function(t){return We(this,ze(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=At().asMutable();return t.__iterate((function(o,i){r.update(e.call(n,o,i,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ct(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(jn(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(O)},flatMap:function(t,e){return We(this,function(t,e,n){var r=Ge(t);return t.toSeq().map((function(o,i){return r(e.call(n,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return We(this,Be(this,t,!0))},fromEntrySeq:function(){return new Ie(this)},get:function(t,e){return this.find((function(e,n){return st(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,o=Ke(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,g):g)===g)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=c(t),o=(f(t)?xe():At()).asMutable();t.__iterate((function(i,a){o.update(e.call(n,i,a,t),(function(t){return(t=t||[]).push(r?[a,i]:i),t}))}));var i=Ge(t);return o.map((function(e){return We(t,i(e))}))}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Mn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Fe(this,t)},maxBy:function(t,e){return Fe(this,e,t)},min:function(t){return Fe(this,t?In(t):Pn)},minBy:function(t,e){return Fe(this,e?In(e):Pn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return We(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return We(this,Le(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(jn(t),e)},sortBy:function(t,e){return We(this,ze(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return We(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return We(this,function(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate((function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),s=!0;return new N((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,c=o[0],u=o[1];return e.call(n,u,c,i)?2===r?t:L(r,c,u,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(jn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),n=c(t),r=e?1:0;return function(t,e){return e=gt(e,3432918353),e=gt(e<<15|e>>>-15,461845907),e=gt(e<<13|e>>>-13,5),e=gt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=mt((e=gt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Dn(yt(t),yt(e))|0}:function(t,e){r=r+Dn(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var On=n.prototype;On[h]=!0,On[D]=On.values,On.__toJS=On.toArray,On.__toStringMapper=An,On.inspect=On.toSource=function(){return this.toString()},On.chain=On.flatMap,On.contains=On.includes,function(){try{Object.defineProperty(On,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Cn(r,{flip:function(){return We(this,Ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return st(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return st(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return We(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return We(this,this.toSeq().flip().map((function(r,o){return t.call(e,r,o,n)})).flip())}});var kn=r.prototype;function Mn(t,e){return e}function En(t,e){return[e,t]}function jn(t){return function(){return!t.apply(this,arguments)}}function In(t){return function(){return-t.apply(this,arguments)}}function An(t){return"string"===typeof t?JSON.stringify(t):t}function Tn(){return x(arguments)}function Pn(t,e){return t<e?1:t>e?-1:0}function Dn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return kn[d]=!0,kn[D]=On.entries,kn.__toJS=On.toObject,kn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+An(t)},Cn(o,{toKeyedSeq:function(){return new Me(this,!1)},filter:function(t,e){return We(this,De(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return We(this,Pe(this,!1))},slice:function(t,e){return We(this,Ne(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=M(t,t<0?this.count():this.size);var r=this.slice(0,t);return We(this,1===n?r:r.concat(x(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return We(this,Be(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return We(this,function(t,e){var n=Xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate((function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(1,r),a=0;return new N((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?L(n,a++,e):L(n,a++,o.value,o)}))},n}(this,t))},interleave:function(){var t=[this].concat(x(arguments)),e=Ue(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),We(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return We(this,Le(this,t,e,!1))},zip:function(){var t=[this].concat(x(arguments));return We(this,Ue(this,Tn,t))},zipWith:function(t){var e=x(arguments);return e[0]=this,We(this,Ue(this,t,e))}}),o.prototype[p]=!0,o.prototype[v]=!0,Cn(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=On.includes,Cn(V,r.prototype),Cn(Y,o.prototype),Cn(G,i.prototype),Cn(dt,r.prototype),Cn(pt,o.prototype),Cn(vt,i.prototype),{Iterable:n,Seq:W,Collection:ht,Map:At,OrderedMap:xe,List:ie,Stack:mn,Set:nn,OrderedSet:fn,Record:Qe,Range:ft,Repeat:ut,is:st,fromJS:ot}},"object"===a(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},1297:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:W(t)}function r(t){return c(t)?t:V(t)}function o(t){return u(t)?t:Y(t)}function i(t){return s(t)&&!l(t)?t:G(t)}function s(t){return!(!t||!t[h])}function c(t){return!(!t||!t[d])}function u(t){return!(!t||!t[p])}function l(t){return c(t)||u(t)}function f(t){return!(!t||!t[v])}e(r,n),e(o,n),e(i,n),n.isIterable=s,n.isKeyed=c,n.isIndexed=u,n.isAssociative=l,n.isOrdered=f,n.Keyed=r,n.Indexed=o,n.Set=i;var h="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",g={},m={value:!1},y={value:!1};function b(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function w(){}function x(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(O)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function O(){return!0}function k(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function M(t,e){return j(t,e,0)}function E(t,e){return j(t,e,e)}function j(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var I,A,T,P="function"===typeof Symbol&&Symbol.iterator,D=P||"@@iterator";function N(t){this.next=t}function L(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function R(){return{value:void 0,done:!0}}function B(t){return!!H(t)}function z(t){return t&&"function"===typeof t.next}function F(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(P&&t[P]||t["@@iterator"]);if("function"===typeof e)return e}function U(t){return t&&"number"===typeof t.length}function W(t){return null===t||void 0===t?J():s(t)?t.toSeq():function(t){var e=et(t)||"object"===a(t)&&new Z(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function V(t){return null===t||void 0===t?J().toKeyedSeq():s(t)?c(t)?t.toSeq():t.fromEntrySeq():$(t)}function Y(t){return null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t.toIndexedSeq():tt(t)}function G(t){return(null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t:tt(t)).toSetSeq()}function X(t){this._array=t,this.size=t.length}function Z(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function q(t){this._iterable=t,this.size=t.length||t.size}function K(t){this._iterator=t,this._iteratorCache=[]}function Q(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function J(){return I||(I=new X([]))}function $(t){var e=Array.isArray(t)?new X(t).fromEntrySeq():z(t)?new K(t).fromEntrySeq():B(t)?new q(t).fromEntrySeq():"object"===a(t)?new Z(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function tt(t){var e=et(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function et(t){return U(t)?new X(t):z(t)?new K(t):B(t)?new q(t):void 0}function nt(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function rt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new N((function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:L(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function ot(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,Y(n).map((function(r,o){return t(e,r,o,n)}))):at(n)?e.call(o,r,V(n).map((function(r,o){return t(e,r,o,n)}))):n}(e,t,"",{"":t}):it(t)}function it(t){return Array.isArray(t)?Y(t).map(it).toList():at(t)?V(t).map(it).toMap():t}function at(t){return t&&(t.constructor===Object||void 0===t.constructor)}function st(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function ct(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||c(t)!==c(e)||u(t)!==u(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(f(t)){var r=t.entries();return e.every((function(t,e){var o=r.next().value;return o&&st(o[1],t)&&(n||st(o[0],e))}))&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var a=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):o?!st(e,t.get(r,g)):!st(t.get(r,g),e))return a=!1,!1}));return a&&t.size===h}function ut(t,e){if(!(this instanceof ut))return new ut(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(A)return A;A=this}}function lt(t,e){if(!t)throw new Error(e)}function ft(t,e,n){if(!(this instanceof ft))return new ft(t,e,n);if(lt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(T)return T;T=this}}function ht(){throw TypeError("Abstract")}function dt(){}function pt(){}function vt(){}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=0,N.VALUES=1,N.ENTRIES=2,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[D]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return nt(this,t,e,!0)},W.prototype.__iterator=function(t,e){return rt(this,t,e,!0)},e(V,W),V.prototype.toKeyedSeq=function(){return this},e(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return nt(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return rt(this,t,e,!1)},e(G,W),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},W.isSeq=Q,W.Keyed=V,W.Set=G,W.Indexed=Y,W.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(X,Y),X.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},X.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},X.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new N((function(){return o>r?{value:void 0,done:!0}:L(t,o,n[e?r-o++:o++])}))},e(Z,V),Z.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},Z.prototype.has=function(t){return this._object.hasOwnProperty(t)},Z.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},Z.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new N((function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:L(t,a,n[a])}))},Z.prototype[v]=!0,e(q,Y),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=F(this._iterable),r=0;if(z(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=F(this._iterable);if(!z(n))return new N(R);var r=0;return new N((function(){var e=n.next();return e.done?e:L(t,r++,e.value)}))},e(K,Y),K.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},K.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new N((function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return L(t,o,r[o++])}))},e(ut,Y),ut.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ut.prototype.get=function(t,e){return this.has(t)?this._value:e},ut.prototype.includes=function(t){return st(this._value,t)},ut.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:new ut(this._value,E(e,n)-M(t,n))},ut.prototype.reverse=function(){return this},ut.prototype.indexOf=function(t){return st(this._value,t)?0:-1},ut.prototype.lastIndexOf=function(t){return st(this._value,t)?this.size:-1},ut.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ut.prototype.__iterator=function(t,e){var n=this,r=0;return new N((function(){return r<n.size?L(t,r++,n._value):{value:void 0,done:!0}}))},ut.prototype.equals=function(t){return t instanceof ut?st(this._value,t._value):ct(t)},e(ft,Y),ft.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ft.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},ft.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ft.prototype.slice=function(t,e){return k(t,e,this.size)?this:(t=M(t,this.size),(e=E(e,this.size))<=t?new ft(0,0):new ft(this.get(t,this._end),this.get(e,this._end),this._step))},ft.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},ft.prototype.lastIndexOf=function(t){return this.indexOf(t)},ft.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},ft.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new N((function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:L(t,i++,a)}))},ft.prototype.equals=function(t){return t instanceof ft?this._start===t._start&&this._end===t._end&&this._step===t._step:ct(this,t)},e(ht,n),e(dt,ht),e(pt,ht),e(vt,ht),ht.Keyed=dt,ht.Indexed=pt,ht.Set=vt;var gt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function mt(t){return t>>>1&1073741824|3221225471&t}function yt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=a(t);if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return mt(n)}if("string"===e)return t.length>kt?function(t){var e=jt[t];return void 0===e&&(e=bt(t),Et===Mt&&(Et=0,jt={}),Et++,jt[t]=e),e}(t):bt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(St&&void 0!==(e=_t.get(t)))return e;if(void 0!==(e=t[Ot]))return e;if(!xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ot]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ct,1073741824&Ct&&(Ct=0),St)_t.set(t,e);else{if(void 0!==wt&&!1===wt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(xt)Object.defineProperty(t,Ot,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ot]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ot]=e}}return e}(t);if("function"===typeof t.toString)return bt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function bt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return mt(e)}var _t,wt=Object.isExtensible,xt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),St="function"===typeof WeakMap;St&&(_t=new WeakMap);var Ct=0,Ot="__immutablehash__";"function"===typeof Symbol&&(Ot=Symbol(Ot));var kt=16,Mt=255,Et=0,jt={};function It(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function At(t){return null===t||void 0===t?Yt():Tt(t)&&!f(t)?t:Yt().withMutations((function(e){var n=r(t);It(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Tt(t){return!(!t||!t[Dt])}e(At,dt),At.prototype.toString=function(){return this.__toString("Map {","}")},At.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},At.prototype.set=function(t,e){return Gt(this,t,e)},At.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},At.prototype.remove=function(t){return Gt(this,t,g)},At.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},At.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},At.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===g,a=n.next();if(a.done){var s=i?r:e,c=o(s);return c===s?e:c}lt(i||e&&e.set,"invalid keyPath");var u=a.value,l=i?g:e.get(u,g),f=t(l,n,r,o);return f===l?e:f===g?e.remove(u):(i?Yt():e).set(u,f)}(this,Ke(t),e,n);return r===g?void 0:r},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Yt()},At.prototype.merge=function(){return Kt(this,void 0,arguments)},At.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Kt(this,e,n)},At.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Yt(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},At.prototype.mergeDeep=function(){return Kt(this,Qt,arguments)},At.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Kt(this,Jt(e),n)},At.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Yt(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},At.prototype.sort=function(t){return xe(ze(this,t))},At.prototype.sortBy=function(t,e){return xe(ze(this,e,t))},At.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},At.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},At.prototype.asImmutable=function(){return this.__ensureOwner()},At.prototype.wasAltered=function(){return this.__altered},At.prototype.__iterator=function(t,e){return new Ht(this,t,e)},At.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},At.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Vt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},At.isMap=Tt;var Pt,Dt="@@__IMMUTABLE_MAP__@@",Nt=At.prototype;function Lt(t,e){this.ownerID=t,this.entries=e}function Rt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Bt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ht(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Wt(t._root)}function Ut(t,e){return L(t,e[0],e[1])}function Wt(t,e){return{node:t,index:0,__prev:e}}function Vt(t,e,n,r){var o=Object.create(Nt);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Yt(){return Pt||(Pt=Vt(0))}function Gt(t,e,n){var r,o;if(t._root){var i=b(m),a=b(y);if(r=Xt(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===g?-1:1:0)}else{if(n===g)return t;o=1,r=new Lt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Vt(o,r):Yt()}function Xt(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===g?t:(_(s),_(a),new Ft(e,r,[o,i]))}function Zt(t){return t.constructor===Ft||t.constructor===zt}function qt(t,e,n,r,o){if(t.keyHash===r)return new zt(e,r,[t.entry,o]);var i,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Rt(e,1<<a|1<<s,a===s?[qt(t,e,n+5,r,o)]:(i=new Ft(e,r,o),a<s?[t,i]:[i,t]))}function Kt(t,e,n){for(var o=[],i=0;i<n.length;i++){var a=n[i],c=r(a);s(a)||(c=c.map((function(t){return ot(t)}))),o.push(c)}return $t(t,e,o)}function Qt(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):st(t,e)?t:e}function Jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return st(e,o)?e:o}}function $t(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)})):t.constructor(n[0])}function te(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ee(t,e,n,r){var o=r?t:x(t);return o[e]=n,o}Nt[Dt]=!0,Nt.delete=Nt.remove,Nt.removeIn=Nt.deleteIn,Lt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(st(n,o[i][0]))return o[i][1];return r},Lt.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===g,c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),!s||1!==c.length){if(!f&&!s&&c.length>=ne)return function(t,e,n,r){t||(t=new w);for(var o=new Ft(t,yt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,c,r,o);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new Lt(t,d)}},Rt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=1<<(31&(0===t?e:e>>>t)),i=this.bitmap;return 0===(i&o)?r:this.nodes[te(i&o-1)].get(t+5,e,n,r)},Rt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&o===g)return this;var f=te(u&c-1),h=this.nodes,d=l?h[f]:void 0,p=Xt(d,t,e+5,n,r,o,i,a);if(p===d)return this;if(!l&&p&&h.length>=re)return function(t,e,n,r,o){for(var i=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new Bt(t,i+1,a)}(t,h,u,s,p);if(l&&!p&&2===h.length&&Zt(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&Zt(p))return p;var v=t&&t===this.ownerID,m=l?p?u:u^c:u|c,y=l?p?ee(h,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(h,f,v):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(h,f,p,v);return v?(this.bitmap=m,this.nodes=y,this):new Rt(t,m,y)},Bt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=31&(0===t?e:e>>>t),i=this.nodes[o];return i?i.get(t+5,e,n,r):r},Bt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=o===g,u=this.nodes,l=u[s];if(c&&!l)return this;var f=Xt(l,t,e+5,n,r,o,i,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<oe)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,c=1,u=e.length;s<u;s++,c<<=1){var l=e[s];void 0!==l&&s!==r&&(o|=c,a[i++]=l)}return new Rt(t,o,a)}(t,u,h,s)}else h++;var d=t&&t===this.ownerID,p=ee(u,s,f,d);return d?(this.count=h,this.nodes=p,this):new Bt(t,h,p)},zt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(st(n,o[i][0]))return o[i][1];return r},zt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var s=o===g;if(n!==this.keyHash)return s?this:(_(a),_(i),qt(this,t,e,n,[r,o]));for(var c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),s&&2===l)return new Ft(t,this.keyHash,c[1^u]);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new zt(t,this.keyHash,d)},Ft.prototype.get=function(t,e,n,r){return st(n,this.entry[0])?this.entry[1]:r},Ft.prototype.update=function(t,e,n,r,o,i,a){var s=o===g,c=st(r,this.entry[0]);return(c?o===this.entry[1]:s)?this:(_(a),s?void _(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Ft(t,this.keyHash,[r,o]):(_(i),qt(this,t,e,yt(r),[r,o])))},Lt.prototype.iterate=zt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Rt.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Ft.prototype.iterate=function(t,e){return t(this.entry)},e(Ht,N),Ht.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Ut(t,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return Ut(t,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Ut(t,i.entry);e=this._stack=Wt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ne=8,re=16,oe=8;function ie(t){var e=ve();if(null===t||void 0===t)return e;if(ae(t))return t;var n=o(t),r=n.size;return 0===r?e:(It(r),r>0&&r<32?pe(0,r,5,null,new ue(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ae(t){return!(!t||!t[se])}e(ie,pt),ie.of=function(){return this(arguments)},ie.prototype.toString=function(){return this.__toString("List [","]")},ie.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ye(this,t+=this._origin);return n&&n.array[31&t]}return e},ie.prototype.set=function(t,e){return function(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?be(t,e).set(0,n):be(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,o=t._root,i=b(y);return e>=we(t._capacity)?r=ge(r,t.__ownerID,0,e,n,i):o=ge(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},ie.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ie.prototype.insert=function(t,e){return this.splice(t,0,e)},ie.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ve()},ie.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){be(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},ie.prototype.pop=function(){return be(this,0,-1)},ie.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){be(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},ie.prototype.shift=function(){return be(this,1)},ie.prototype.merge=function(){return _e(this,void 0,arguments)},ie.prototype.mergeWith=function(e){var n=t.call(arguments,1);return _e(this,e,n)},ie.prototype.mergeDeep=function(){return _e(this,Qt,arguments)},ie.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,Jt(e),n)},ie.prototype.setSize=function(t){return be(this,0,t)},ie.prototype.slice=function(t,e){var n=this.size;return k(t,e,n)?this:be(this,M(t,n),E(e,n))},ie.prototype.__iterator=function(t,e){var n=0,r=de(this,e);return new N((function(){var e=r();return e===he?{value:void 0,done:!0}:L(t,n++,e)}))},ie.prototype.__iterate=function(t,e){for(var n,r=0,o=de(this,e);(n=o())!==he&&!1!==t(n,r++,this););return r},ie.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ie.isList=ae;var se="@@__IMMUTABLE_LIST__@@",ce=ie.prototype;function ue(t,e){this.array=t,this.ownerID=e}ce[se]=!0,ce.delete=ce.remove,ce.setIn=Nt.setIn,ce.deleteIn=ce.removeIn=Nt.removeIn,ce.update=Nt.update,ce.updateIn=Nt.updateIn,ce.mergeIn=Nt.mergeIn,ce.mergeDeepIn=Nt.mergeDeepIn,ce.withMutations=Nt.withMutations,ce.asMutable=Nt.asMutable,ce.asImmutable=Nt.asImmutable,ce.wasAltered=Nt.wasAltered,ue.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ue([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-5,n))===a&&i)return this}if(i&&!o)return this;var s=me(this,t);if(!i)for(var c=0;c<r;c++)s.array[c]=void 0;return o&&(s.array[r]=o),s},ue.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&31;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-5,n))===i&&o===this.array.length-1)return this}var a=me(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var le,fe,he={};function de(t,e){var n=t._origin,r=t._capacity,o=we(r),i=t._tail;return a(t._root,t._level,0);function a(t,s,c){return 0===s?function(t,a){var s=a===o?i&&i.array:t&&t.array,c=a>n?0:n-a,u=r-a;return u>32&&(u=32),function(){if(c===u)return he;var t=e?--u:c++;return s&&s[t]}}(t,c):function(t,o,i){var s,c=t&&t.array,u=i>n?0:n-i>>o,l=1+(r-i>>o);return l>32&&(l=32),function(){for(;;){if(s){var t=s();if(t!==he)return t;s=null}if(u===l)return he;var n=e?--l:u++;s=a(c&&c[n],o-5,i+(n<<o))}}}(t,s,c)}}function pe(t,e,n,r,o,i,a){var s=Object.create(ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function ve(){return le||(le=pe(0,0,5))}function ge(t,e,n,r,o,i){var a,s=r>>>n&31,c=t&&s<t.array.length;if(!c&&void 0===o)return t;if(n>0){var u=t&&t.array[s],l=ge(u,e,n-5,r,o,i);return l===u?t:((a=me(t,e)).array[s]=l,a)}return c&&t.array[s]===o?t:(_(i),a=me(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function me(t,e){return e&&t&&e===t.ownerID?t:new ue(t?t.array.slice():[],e)}function ye(t,e){if(e>=we(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function be(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new w,o=t._origin,i=t._capacity,a=o+e,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,l=0;a+l<0;)u=new ue(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=5);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=we(i),h=we(s);h>=1<<c+5;)u=new ue(u&&u.array.length?[u]:[],r),c+=5;var d=t._tail,p=h<f?ye(t,s-1):h>f?new ue([],r):d;if(d&&h>f&&a<i&&d.array.length){for(var v=u=me(u,r),g=c;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=me(v.array[m],r)}v.array[f>>>5&31]=d}if(s<i&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=5,u=null,p=p&&p.removeBefore(r,0,a);else if(a>o||h<f){for(l=0;u;){var y=a>>>c&31;if(y!==h>>>c&31)break;y&&(l+=(1<<c)*y),c-=5,u=u.array[y]}u&&a>o&&(u=u.removeBefore(r,c,a-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=p,t.__hash=void 0,t.__altered=!0,t):pe(a,s,c,u,p)}function _e(t,e,n){for(var r=[],i=0,a=0;a<n.length;a++){var c=n[a],u=o(c);u.size>i&&(i=u.size),s(c)||(u=u.map((function(t){return ot(t)}))),r.push(u)}return i>t.size&&(t=t.setSize(i)),$t(t,e,r)}function we(t){return t<32?0:t-1>>>5<<5}function xe(t){return null===t||void 0===t?Oe():Se(t)?t:Oe().withMutations((function(e){var n=r(t);It(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Se(t){return Tt(t)&&f(t)}function Ce(t,e,n,r){var o=Object.create(xe.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function Oe(){return fe||(fe=Ce(Yt(),ve()))}function ke(t,e,n){var r,o,i=t._map,a=t._list,s=i.get(e),c=void 0!==s;if(n===g){if(!c)return t;a.size>=32&&a.size>=2*i.size?(r=(o=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return t;r=i,o=a.set(s,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):Ce(r,o)}function Me(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ee(t){this._iter=t,this.size=t.size}function je(t){this._iter=t,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function Ae(t){var e=Xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ze,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new N((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Te(t,e,n){var r=Xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,g);return i===g?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate((function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(2,o);return new N((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return L(r,s,e.call(n,a[1],s,t),o)}))},r}function Pe(t,e){var n=Xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ze,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function De(t,e,n,r){var o=Xe(t);return r&&(o.has=function(r){var o=t.get(r,g);return o!==g&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,g);return i!==g&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate((function(t,i,c){if(e.call(n,t,i,c))return s++,o(t,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(2,i),s=0;return new N((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,u=c[0],l=c[1];if(e.call(n,l,u,t))return L(o,r?u:s++,l,i)}}))},o}function Ne(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),k(e,n,o))return t;var i=M(e,o),a=E(n,o);if(i!==i||a!==a)return Ne(t.toSeq().cacheResult(),e,n,r);var s,c=a-i;c===c&&(s=c<0?0:c);var u=Xe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&Q(t)&&s>=0&&(u.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+i,n):n}),u.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,u=0;return t.__iterate((function(t,n){if(!c||!(c=a++<i))return u++,!1!==e(t,r?n:u-1,o)&&u!==s})),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var o=0!==s&&t.__iterator(e,n),a=0,c=0;return new N((function(){for(;a++<i;)o.next();if(++c>s)return{value:void 0,done:!0};var t=o.next();return r||1===e?t:L(e,c-1,0===e?void 0:t.value[1],t)}))},u}function Le(t,e,n,r){var o=Xe(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return t.__iterate((function(t,i,u){if(!s||!(s=e.call(n,t,i,u)))return c++,o(t,r?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(2,i),c=!0,u=0;return new N((function(){var t,i,l;do{if((t=s.next()).done)return r||1===o?t:L(o,u++,0===o?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],c&&(c=e.call(n,l,i,a))}while(c);return 2===o?t:L(o,i,l,t)}))},o}function Re(t,e){var n=c(t),o=[t].concat(e).map((function(t){return s(t)?n&&(t=r(t)):t=n?$(t):tt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&c(i)||u(t)&&u(i))return i}var a=new X(o);return n?a=a.toKeyedSeq():u(t)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),a}function Be(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,o){var i=0,a=!1;return function t(c,u){var l=this;c.__iterate((function(o,c){return(!e||u<e)&&s(o)?t(o,u+1):!1===r(o,n?c:i++,l)&&(a=!0),!a}),o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),a=[],c=0;return new N((function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(a.length<e)||!s(u))return n?t:L(r,c++,u,t);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}}))},r}function ze(t,e,n){e||(e=qe);var r=c(t),o=0,i=t.toSeq().map((function(e,r){return[r,e,o++,n?n(e,r,t):e]})).toArray();return i.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?V(i):u(t)?Y(i):G(i)}function Fe(t,e,n){if(e||(e=qe),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return He(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return He(e,t,n)?n:t}))}function He(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ue(t,e,r){var o=Xe(t);return o.size=new X(r).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map((function(t){return t=n(t),F(o?t.reverse():t)})),a=0,s=!1;return new N((function(){var n;return s||(n=i.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:L(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},o}function We(t,e){return Q(t)?e:t.constructor(e)}function Ve(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ye(t){return It(t.size),S(t)}function Ge(t){return c(t)?r:u(t)?o:i}function Xe(t){return Object.create((c(t)?V:u(t)?Y:G).prototype)}function Ze(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function qe(t,e){return t>e?1:t<e?-1:0}function Ke(t){var e=F(t);if(!e){if(!U(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(n(t))}return e}function Qe(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(en.bind(void 0,t))}catch(n){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=At(i)},o=r.prototype=Object.create(Je);return o.constructor=r,r}e(xe,At),xe.of=function(){return this(arguments)},xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Oe()},xe.prototype.set=function(t,e){return ke(this,t,e)},xe.prototype.remove=function(t){return ke(this,t,g)},xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ce(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},xe.isOrderedMap=Se,xe.prototype[v]=!0,xe.prototype.delete=xe.prototype.remove,e(Me,V),Me.prototype.get=function(t,e){return this._iter.get(t,e)},Me.prototype.has=function(t){return this._iter.has(t)},Me.prototype.valueSeq=function(){return this._iter.valueSeq()},Me.prototype.reverse=function(){var t=this,e=Pe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Me.prototype.map=function(t,e){var n=this,r=Te(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Me.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ye(this):0,function(o){return t(o,e?--n:n++,r)}),e)},Me.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ye(this):0;return new N((function(){var o=n.next();return o.done?o:L(t,e?--r:r++,o.value,o)}))},Me.prototype[v]=!0,e(Ee,Y),Ee.prototype.includes=function(t){return this._iter.includes(t)},Ee.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ee.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new N((function(){var e=n.next();return e.done?e:L(t,r++,e.value,e)}))},e(je,G),je.prototype.has=function(t){return this._iter.includes(t)},je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){var e=n.next();return e.done?e:L(t,e.value,e.value,e)}))},e(Ie,V),Ie.prototype.entrySeq=function(){return this._iter.toSeq()},Ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Ve(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ve(r);var o=s(r);return L(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}}))},Ee.prototype.cacheResult=Me.prototype.cacheResult=je.prototype.cacheResult=Ie.prototype.cacheResult=Ze,e(Qe,dt),Qe.prototype.toString=function(){return this.__toString(tn(this)+" {","}")},Qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=$e(this,Yt()))},Qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+tn(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:$e(this,n)},Qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:$e(this,e)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()},Qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?$e(this,e,t):(this.__ownerID=t,this._map=e,this)};var Je=Qe.prototype;function $e(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function tn(t){return t._name||t.constructor.name||"Record"}function en(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function nn(t){return null===t||void 0===t?ln():rn(t)&&!f(t)?t:ln().withMutations((function(e){var n=i(t);It(n.size),n.forEach((function(t){return e.add(t)}))}))}function rn(t){return!(!t||!t[an])}Je.delete=Je.remove,Je.deleteIn=Je.removeIn=Nt.removeIn,Je.merge=Nt.merge,Je.mergeWith=Nt.mergeWith,Je.mergeIn=Nt.mergeIn,Je.mergeDeep=Nt.mergeDeep,Je.mergeDeepWith=Nt.mergeDeepWith,Je.mergeDeepIn=Nt.mergeDeepIn,Je.setIn=Nt.setIn,Je.update=Nt.update,Je.updateIn=Nt.updateIn,Je.withMutations=Nt.withMutations,Je.asMutable=Nt.asMutable,Je.asImmutable=Nt.asImmutable,e(nn,vt),nn.of=function(){return this(arguments)},nn.fromKeys=function(t){return this(r(t).keySeq())},nn.prototype.toString=function(){return this.__toString("Set {","}")},nn.prototype.has=function(t){return this._map.has(t)},nn.prototype.add=function(t){return cn(this,this._map.set(t,!0))},nn.prototype.remove=function(t){return cn(this,this._map.remove(t))},nn.prototype.clear=function(){return cn(this,this._map.clear())},nn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},nn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},nn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},nn.prototype.merge=function(){return this.union.apply(this,arguments)},nn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},nn.prototype.sort=function(t){return fn(ze(this,t))},nn.prototype.sortBy=function(t,e){return fn(ze(this,e,t))},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},nn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},nn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},nn.isSet=rn;var on,an="@@__IMMUTABLE_SET__@@",sn=nn.prototype;function cn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function un(t,e){var n=Object.create(sn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ln(){return on||(on=un(Yt()))}function fn(t){return null===t||void 0===t?gn():hn(t)?t:gn().withMutations((function(e){var n=i(t);It(n.size),n.forEach((function(t){return e.add(t)}))}))}function hn(t){return rn(t)&&f(t)}sn[an]=!0,sn.delete=sn.remove,sn.mergeDeep=sn.merge,sn.mergeDeepWith=sn.mergeWith,sn.withMutations=Nt.withMutations,sn.asMutable=Nt.asMutable,sn.asImmutable=Nt.asImmutable,sn.__empty=ln,sn.__make=un,e(fn,nn),fn.of=function(){return this(arguments)},fn.fromKeys=function(t){return this(r(t).keySeq())},fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},fn.isOrderedSet=hn;var dn,pn=fn.prototype;function vn(t,e){var n=Object.create(pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return dn||(dn=vn(Oe()))}function mn(t){return null===t||void 0===t?Sn():yn(t)?t:Sn().unshiftAll(t)}function yn(t){return!(!t||!t[_n])}pn[v]=!0,pn.__empty=gn,pn.__make=vn,e(mn,pt),mn.of=function(){return this(arguments)},mn.prototype.toString=function(){return this.__toString("Stack [","]")},mn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},mn.prototype.peek=function(){return this._head&&this._head.value},mn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):xn(t,e)},mn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;It(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},mn.prototype.pop=function(){return this.slice(1)},mn.prototype.unshift=function(){return this.push.apply(this,arguments)},mn.prototype.unshiftAll=function(t){return this.pushAll(t)},mn.prototype.shift=function(){return this.pop.apply(this,arguments)},mn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sn()},mn.prototype.slice=function(t,e){if(k(t,e,this.size))return this;var n=M(t,this.size);if(E(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):xn(r,o)},mn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},mn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},mn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new N((function(){if(r){var e=r.value;return r=r.next,L(t,n++,e)}return{value:void 0,done:!0}}))},mn.isStack=yn;var bn,_n="@@__IMMUTABLE_STACK__@@",wn=mn.prototype;function xn(t,e,n,r){var o=Object.create(wn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Sn(){return bn||(bn=xn(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}wn[_n]=!0,wn.withMutations=Nt.withMutations,wn.asMutable=Nt.asMutable,wn.asImmutable=Nt.asImmutable,wn.wasAltered=Nt.wasAltered,n.Iterator=N,Cn(n,{toArray:function(){It(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Me(this,!0)},toMap:function(){return At(this.toKeyedSeq())},toObject:function(){It(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return xe(this.toKeyedSeq())},toOrderedSet:function(){return fn(c(this)?this.valueSeq():this)},toSet:function(){return nn(c(this)?this.valueSeq():this)},toSetSeq:function(){return new je(this)},toSeq:function(){return u(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mn(c(this)?this.valueSeq():this)},toList:function(){return ie(c(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return We(this,Re(this,e))},includes:function(t){return this.some((function(e){return st(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){It(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1})),n},filter:function(t,e){return We(this,De(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return It(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){It(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return We(this,Te(this,t,e))},reduce:function(t,e,n){var r,o;return It(this.size),arguments.length<2?o=!0:r=e,this.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return We(this,Pe(this,!0))},slice:function(t,e){return We(this,Ne(this,t,e,!0))},some:function(t,e){return!this.every(jn(t),e)},sort:function(t){return We(this,ze(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=At().asMutable();return t.__iterate((function(o,i){r.update(e.call(n,o,i,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ct(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(jn(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(O)},flatMap:function(t,e){return We(this,function(t,e,n){var r=Ge(t);return t.toSeq().map((function(o,i){return r(e.call(n,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return We(this,Be(this,t,!0))},fromEntrySeq:function(){return new Ie(this)},get:function(t,e){return this.find((function(e,n){return st(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,o=Ke(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,g):g)===g)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=c(t),o=(f(t)?xe():At()).asMutable();t.__iterate((function(i,a){o.update(e.call(n,i,a,t),(function(t){return(t=t||[]).push(r?[a,i]:i),t}))}));var i=Ge(t);return o.map((function(e){return We(t,i(e))}))}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Mn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Fe(this,t)},maxBy:function(t,e){return Fe(this,e,t)},min:function(t){return Fe(this,t?In(t):Pn)},minBy:function(t,e){return Fe(this,e?In(e):Pn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return We(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return We(this,Le(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(jn(t),e)},sortBy:function(t,e){return We(this,ze(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return We(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return We(this,function(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate((function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),s=!0;return new N((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,c=o[0],u=o[1];return e.call(n,u,c,i)?2===r?t:L(r,c,u,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(jn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),n=c(t),r=e?1:0;return function(t,e){return e=gt(e,3432918353),e=gt(e<<15|e>>>-15,461845907),e=gt(e<<13|e>>>-13,5),e=gt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=mt((e=gt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Dn(yt(t),yt(e))|0}:function(t,e){r=r+Dn(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var On=n.prototype;On[h]=!0,On[D]=On.values,On.__toJS=On.toArray,On.__toStringMapper=An,On.inspect=On.toSource=function(){return this.toString()},On.chain=On.flatMap,On.contains=On.includes,function(){try{Object.defineProperty(On,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Cn(r,{flip:function(){return We(this,Ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return st(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return st(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return We(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return We(this,this.toSeq().flip().map((function(r,o){return t.call(e,r,o,n)})).flip())}});var kn=r.prototype;function Mn(t,e){return e}function En(t,e){return[e,t]}function jn(t){return function(){return!t.apply(this,arguments)}}function In(t){return function(){return-t.apply(this,arguments)}}function An(t){return"string"===typeof t?JSON.stringify(t):t}function Tn(){return x(arguments)}function Pn(t,e){return t<e?1:t>e?-1:0}function Dn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return kn[d]=!0,kn[D]=On.entries,kn.__toJS=On.toObject,kn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+An(t)},Cn(o,{toKeyedSeq:function(){return new Me(this,!1)},filter:function(t,e){return We(this,De(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return We(this,Pe(this,!1))},slice:function(t,e){return We(this,Ne(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=M(t,t<0?this.count():this.size);var r=this.slice(0,t);return We(this,1===n?r:r.concat(x(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return We(this,Be(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return We(this,function(t,e){var n=Xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate((function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(1,r),a=0;return new N((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?L(n,a++,e):L(n,a++,o.value,o)}))},n}(this,t))},interleave:function(){var t=[this].concat(x(arguments)),e=Ue(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),We(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return We(this,Le(this,t,e,!1))},zip:function(){var t=[this].concat(x(arguments));return We(this,Ue(this,Tn,t))},zipWith:function(t){var e=x(arguments);return e[0]=this,We(this,Ue(this,t,e))}}),o.prototype[p]=!0,o.prototype[v]=!0,Cn(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=On.includes,Cn(V,r.prototype),Cn(Y,o.prototype),Cn(G,i.prototype),Cn(dt,r.prototype),Cn(pt,o.prototype),Cn(vt,i.prototype),{Iterable:n,Seq:W,Collection:ht,Map:At,OrderedMap:xe,List:ie,Stack:mn,Set:nn,OrderedSet:fn,Record:Qe,Range:ft,Repeat:ut,is:st,fromJS:ot}},"object"===a(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},1298:function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<o.length;r+=1){var i=o[r];n["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,c=a,u=Math.PI,l={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==c(t[e])?t[e].toLowerCase():null},PI:u,TWOPI:2*u,PITHIRD:u/3,DEG2RAD:u/180,RAD2DEG:180/u},f={format:{},autodetect:[]},h=l.last,d=l.clip_rgb,p=l.type,v=f,g=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===p(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),o=!1;if(!r){o=!0,v.sorted||(v.autodetect=v.autodetect.sort((function(t,e){return e.p-t.p})),v.sorted=!0);for(var i=0,a=v.autodetect;i<a.length;i+=1){var s=a[i];if(r=s.test.apply(s,t))break}}if(!v.format[r])throw new Error("unknown format: "+t);var c=v.format[r].apply(null,o?t:t.slice(0,-1));n._rgb=d(c),3===n._rgb.length&&n._rgb.push(1)};g.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var m=g,y=function t(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return new(Function.prototype.bind.apply(t.Color,[null].concat(e)))};y.Color=m,y.version="2.4.2";var b=y,_=l.unpack,w=Math.max,x=l.unpack,S=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=x(t,"cmyk"))[0],r=t[1],o=t[2],i=t[3],a=t.length>4?t[4]:1;return 1===i?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o>=1?0:255*(1-o)*(1-i),a]},C=b,O=m,k=f,M=l.unpack,E=l.type,j=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_(t,"rgb"),r=n[0],o=n[1],i=n[2],a=1-w(r/=255,w(o/=255,i/=255)),s=a<1?1/(1-a):0,c=(1-r-a)*s,u=(1-o-a)*s,l=(1-i-a)*s;return[c,u,l,a]};O.prototype.cmyk=function(){return j(this._rgb)},C.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(O,[null].concat(t,["cmyk"])))},k.format.cmyk=S,k.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=M(t,"cmyk"),"array"===E(t)&&4===t.length)return"cmyk"}});var I=l.unpack,A=l.last,T=function(t){return Math.round(100*t)/100},P=l.unpack,D=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=P(t,"rgba"))[0],r=t[1],o=t[2];n/=255,r/=255,o/=255;var i,a,s=Math.min(n,r,o),c=Math.max(n,r,o),u=(c+s)/2;return c===s?(i=0,a=Number.NaN):i=u<.5?(c-s)/(c+s):(c-s)/(2-c-s),n==c?a=(r-o)/(c-s):r==c?a=2+(o-n)/(c-s):o==c&&(a=4+(n-r)/(c-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,i,u,t[3]]:[a,i,u]},N=l.unpack,L=l.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=I(t,"hsla"),r=A(t)||"lsa";return n[0]=T(n[0]||0),n[1]=T(100*n[1])+"%",n[2]=T(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},B=D,z=Math.round,F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=N(t,"rgba"),r=L(t)||"rgb";return"hsl"==r.substr(0,3)?R(B(n),r):(n[0]=z(n[0]),n[1]=z(n[1]),n[2]=z(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},H=l.unpack,U=Math.round,W=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,o,i,a=(e=H(e,"hsl"))[0],s=e[1],c=e[2];if(0===s)r=o=i=255*c;else{var u=[0,0,0],l=[0,0,0],f=c<.5?c*(1+s):c+s-c*s,h=2*c-f,d=a/360;u[0]=d+1/3,u[1]=d,u[2]=d-1/3;for(var p=0;p<3;p++)u[p]<0&&(u[p]+=1),u[p]>1&&(u[p]-=1),6*u[p]<1?l[p]=h+6*(f-h)*u[p]:2*u[p]<1?l[p]=f:3*u[p]<2?l[p]=h+(f-h)*(2/3-u[p])*6:l[p]=h;r=(t=[U(255*l[0]),U(255*l[1]),U(255*l[2])])[0],o=t[1],i=t[2]}return e.length>3?[r,o,i,e[3]]:[r,o,i,1]},V=W,Y=f,G=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,X=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,$=function(t){var e;if(t=t.toLowerCase().trim(),Y.format.named)try{return Y.format.named(t)}catch(p){}if(e=t.match(G)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(X)){for(var o=e.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(e=t.match(Z)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=J(2.55*a[s]);return a[3]=1,a}if(e=t.match(q)){for(var c=e.slice(1,5),u=0;u<3;u++)c[u]=J(2.55*c[u]);return c[3]=+c[3],c}if(e=t.match(K)){var l=e.slice(1,4);l[1]*=.01,l[2]*=.01;var f=V(l);return f[3]=1,f}if(e=t.match(Q)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var d=V(h);return d[3]=+e[4],d}};$.test=function(t){return G.test(t)||X.test(t)||Z.test(t)||q.test(t)||K.test(t)||Q.test(t)};var tt=b,et=m,nt=f,rt=l.type,ot=F,it=$;et.prototype.css=function(t){return ot(this._rgb,t)},tt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(et,[null].concat(t,["css"])))},nt.format.css=it,nt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===rt(t)&&it.test(t))return"css"}});var at=m,st=b,ct=l.unpack;f.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ct(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},st.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(at,[null].concat(t,["gl"])))},at.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var ut=l.unpack,lt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=ut(t,"rgb"),o=r[0],i=r[1],a=r[2],s=Math.min(o,i,a),c=Math.max(o,i,a),u=c-s,l=100*u/255,f=s/(255-u)*100;return 0===u?n=Number.NaN:(o===c&&(n=(i-a)/u),i===c&&(n=2+(a-o)/u),a===c&&(n=4+(o-i)/u),(n*=60)<0&&(n+=360)),[n,l,f]},ft=l.unpack,ht=Math.floor,dt=function(){for(var t,e,n,r,o,i,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,f=(a=ft(a,"hcg"))[0],h=a[1],d=a[2];d*=255;var p=255*h;if(0===h)c=u=l=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var v=ht(f/=60),g=f-v,m=d*(1-h),y=m+p*(1-g),b=m+p*g,_=m+p;switch(v){case 0:c=(t=[_,b,m])[0],u=t[1],l=t[2];break;case 1:c=(e=[y,_,m])[0],u=e[1],l=e[2];break;case 2:c=(n=[m,_,b])[0],u=n[1],l=n[2];break;case 3:c=(r=[m,y,_])[0],u=r[1],l=r[2];break;case 4:c=(o=[b,m,_])[0],u=o[1],l=o[2];break;case 5:c=(i=[_,m,y])[0],u=i[1],l=i[2]}}return[c,u,l,a.length>3?a[3]:1]},pt=l.unpack,vt=l.type,gt=b,mt=m,yt=f,bt=lt;mt.prototype.hcg=function(){return bt(this._rgb)},gt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(mt,[null].concat(t,["hcg"])))},yt.format.hcg=dt,yt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=pt(t,"hcg"),"array"===vt(t)&&3===t.length)return"hcg"}});var _t=l.unpack,wt=l.last,xt=Math.round,St=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_t(t,"rgba"),r=n[0],o=n[1],i=n[2],a=n[3],s=wt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var c=(r=xt(r))<<16|(o=xt(o))<<8|(i=xt(i)),u="000000"+c.toString(16);u=u.substr(u.length-6);var l="0"+xt(255*a).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+u+l;case"argb":return"#"+l+u;default:return"#"+u}},Ct=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ot=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,kt=function(t){if(t.match(Ct)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Ot)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Mt=b,Et=m,jt=l.type,It=f,At=St;Et.prototype.hex=function(t){return At(this._rgb,t)},Mt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Et,[null].concat(t,["hex"])))},It.format.hex=kt,It.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===jt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Tt=l.unpack,Pt=l.TWOPI,Dt=Math.min,Nt=Math.sqrt,Lt=Math.acos,Rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Tt(t,"rgb"),o=r[0],i=r[1],a=r[2],s=Dt(o/=255,i/=255,a/=255),c=(o+i+a)/3,u=c>0?1-s/c:0;return 0===u?n=NaN:(n=(o-i+(o-a))/2,n/=Nt((o-i)*(o-i)+(o-a)*(i-a)),n=Lt(n),a>i&&(n=Pt-n),n/=Pt),[360*n,u,c]},Bt=l.unpack,zt=l.limit,Ft=l.TWOPI,Ht=l.PITHIRD,Ut=Math.cos,Wt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=Bt(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(i)&&(i=0),isNaN(a)&&(a=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?r=1-((o=(1-a)/3)+(n=(1+a*Ut(Ft*i)/Ut(Ht-Ft*i))/3)):i<2/3?o=1-((n=(1-a)/3)+(r=(1+a*Ut(Ft*(i-=1/3))/Ut(Ht-Ft*i))/3)):n=1-((r=(1-a)/3)+(o=(1+a*Ut(Ft*(i-=2/3))/Ut(Ht-Ft*i))/3)),[255*(n=zt(s*n*3)),255*(r=zt(s*r*3)),255*(o=zt(s*o*3)),t.length>3?t[3]:1]},Vt=l.unpack,Yt=l.type,Gt=b,Xt=m,Zt=f,qt=Rt;Xt.prototype.hsi=function(){return qt(this._rgb)},Gt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xt,[null].concat(t,["hsi"])))},Zt.format.hsi=Wt,Zt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vt(t,"hsi"),"array"===Yt(t)&&3===t.length)return"hsi"}});var Kt=l.unpack,Qt=l.type,Jt=b,$t=m,te=f,ee=D;$t.prototype.hsl=function(){return ee(this._rgb)},Jt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["hsl"])))},te.format.hsl=W,te.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Kt(t,"hsl"),"array"===Qt(t)&&3===t.length)return"hsl"}});var ne=l.unpack,re=Math.min,oe=Math.max,ie=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=ne(t,"rgb"))[0],a=t[1],s=t[2],c=re(i,a,s),u=oe(i,a,s),l=u-c;return o=u/255,0===u?(n=Number.NaN,r=0):(r=l/u,i===u&&(n=(a-s)/l),a===u&&(n=2+(s-i)/l),s===u&&(n=4+(i-a)/l),(n*=60)<0&&(n+=360)),[n,r,o]},ae=l.unpack,se=Math.floor,ce=function(){for(var t,e,n,r,o,i,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,f=(a=ae(a,"hsv"))[0],h=a[1],d=a[2];if(d*=255,0===h)c=u=l=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=se(f/=60),v=f-p,g=d*(1-h),m=d*(1-h*v),y=d*(1-h*(1-v));switch(p){case 0:c=(t=[d,y,g])[0],u=t[1],l=t[2];break;case 1:c=(e=[m,d,g])[0],u=e[1],l=e[2];break;case 2:c=(n=[g,d,y])[0],u=n[1],l=n[2];break;case 3:c=(r=[g,m,d])[0],u=r[1],l=r[2];break;case 4:c=(o=[y,g,d])[0],u=o[1],l=o[2];break;case 5:c=(i=[d,g,m])[0],u=i[1],l=i[2]}}return[c,u,l,a.length>3?a[3]:1]},ue=l.unpack,le=l.type,fe=b,he=m,de=f,pe=ie;he.prototype.hsv=function(){return pe(this._rgb)},fe.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(he,[null].concat(t,["hsv"])))},de.format.hsv=ce,de.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ue(t,"hsv"),"array"===le(t)&&3===t.length)return"hsv"}});var ve={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ge=ve,me=l.unpack,ye=Math.pow,be=function(t){return(t/=255)<=.04045?t/12.92:ye((t+.055)/1.055,2.4)},_e=function(t){return t>ge.t3?ye(t,1/3):t/ge.t2+ge.t0},we=function(t,e,n){return t=be(t),e=be(e),n=be(n),[_e((.4124564*t+.3575761*e+.1804375*n)/ge.Xn),_e((.2126729*t+.7151522*e+.072175*n)/ge.Yn),_e((.0193339*t+.119192*e+.9503041*n)/ge.Zn)]},xe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=me(t,"rgb"),r=n[0],o=n[1],i=n[2],a=we(r,o,i),s=a[0],c=a[1],u=a[2],l=116*c-16;return[l<0?0:l,500*(s-c),200*(c-u)]},Se=ve,Ce=l.unpack,Oe=Math.pow,ke=function(t){return 255*(t<=.00304?12.92*t:1.055*Oe(t,1/2.4)-.055)},Me=function(t){return t>Se.t1?t*t*t:Se.t2*(t-Se.t0)},Ee=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,i=(t=Ce(t,"lab"))[0],a=t[1],s=t[2];return r=(i+16)/116,n=isNaN(a)?r:r+a/500,o=isNaN(s)?r:r-s/200,r=Se.Yn*Me(r),n=Se.Xn*Me(n),o=Se.Zn*Me(o),[ke(3.2404542*n-1.5371385*r-.4985314*o),ke(-.969266*n+1.8760108*r+.041556*o),ke(.0556434*n-.2040259*r+1.0572252*o),t.length>3?t[3]:1]},je=l.unpack,Ie=l.type,Ae=b,Te=m,Pe=f,De=xe;Te.prototype.lab=function(){return De(this._rgb)},Ae.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Te,[null].concat(t,["lab"])))},Pe.format.lab=Ee,Pe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=je(t,"lab"),"array"===Ie(t)&&3===t.length)return"lab"}});var Ne=l.unpack,Le=l.RAD2DEG,Re=Math.sqrt,Be=Math.atan2,ze=Math.round,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ne(t,"lab"),r=n[0],o=n[1],i=n[2],a=Re(o*o+i*i),s=(Be(i,o)*Le+360)%360;return 0===ze(1e4*a)&&(s=Number.NaN),[r,a,s]},He=l.unpack,Ue=xe,We=Fe,Ve=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=He(t,"rgb"),r=n[0],o=n[1],i=n[2],a=Ue(r,o,i),s=a[0],c=a[1],u=a[2];return We(s,c,u)},Ye=l.unpack,Ge=l.DEG2RAD,Xe=Math.sin,Ze=Math.cos,qe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ye(t,"lch"),r=n[0],o=n[1],i=n[2];return isNaN(i)&&(i=0),[r,Ze(i*=Ge)*o,Xe(i)*o]},Ke=l.unpack,Qe=qe,Je=Ee,$e=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ke(t,"lch"))[0],r=t[1],o=t[2],i=Qe(n,r,o),a=i[0],s=i[1],c=i[2],u=Je(a,s,c),l=u[0],f=u[1],h=u[2];return[l,f,h,t.length>3?t[3]:1]},tn=l.unpack,en=$e,nn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tn(t,"hcl").reverse();return en.apply(void 0,n)},rn=l.unpack,on=l.type,an=b,sn=m,cn=f,un=Ve;sn.prototype.lch=function(){return un(this._rgb)},sn.prototype.hcl=function(){return un(this._rgb).reverse()},an.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["lch"])))},an.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["hcl"])))},cn.format.lch=$e,cn.format.hcl=nn,["lch","hcl"].forEach((function(t){return cn.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=rn(e,t),"array"===on(e)&&3===e.length)return t}})}));var ln={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fn=f,hn=l.type,dn=ln,pn=kt,vn=St;m.prototype.name=function(){for(var t=vn(this._rgb,"rgb"),e=0,n=Object.keys(dn);e<n.length;e+=1){var r=n[e];if(dn[r]===t)return r.toLowerCase()}return t},fn.format.named=function(t){if(t=t.toLowerCase(),dn[t])return pn(dn[t]);throw new Error("unknown color name: "+t)},fn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===hn(t)&&dn[t.toLowerCase()])return"named"}});var gn=l.unpack,mn=l.type,yn=function(t){if("number"==mn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},bn=b,_n=m,wn=f,xn=l.type,Sn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=gn(t,"rgb"),r=n[0],o=n[1],i=n[2];return(r<<16)+(o<<8)+i};_n.prototype.num=function(){return Sn(this._rgb)},bn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(_n,[null].concat(t,["num"])))},wn.format.num=yn,wn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===xn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Cn=b,On=m,kn=f,Mn=l.unpack,En=l.type,jn=Math.round;On.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(jn)},On.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:jn(e):e}))},Cn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(On,[null].concat(t,["rgb"])))},kn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Mn(t,"rgba");return void 0===n[3]&&(n[3]=1),n},kn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Mn(t,"rgba"),"array"===En(t)&&(3===t.length||4===t.length&&"number"==En(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var In=Math.log,An=function(t){var e,n,r,o=t/100;return o<66?(e=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*In(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*In(r)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*In(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*In(n),r=255),[e,n,r,1]},Tn=An,Pn=l.unpack,Dn=Math.round,Nn=b,Ln=m,Rn=f,Bn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=Pn(t,"rgb"),o=r[0],i=r[2],a=1e3,s=4e4,c=.4;s-a>c;){var u=Tn(n=.5*(s+a));u[2]/u[0]>=i/o?s=n:a=n}return Dn(n)};Ln.prototype.temp=Ln.prototype.kelvin=Ln.prototype.temperature=function(){return Bn(this._rgb)},Nn.temp=Nn.kelvin=Nn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ln,[null].concat(t,["temp"])))},Rn.format.temp=Rn.format.kelvin=Rn.format.temperature=An;var zn=l.unpack,Fn=Math.cbrt,Hn=Math.pow,Un=Math.sign,Wn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=zn(t,"rgb"),r=n[0],o=n[1],i=n[2],a=[Vn(r/255),Vn(o/255),Vn(i/255)],s=a[0],c=a[1],u=a[2],l=Fn(.4122214708*s+.5363325363*c+.0514459929*u),f=Fn(.2119034982*s+.6806995451*c+.1073969566*u),h=Fn(.0883024619*s+.2817188376*c+.6299787005*u);return[.2104542553*l+.793617785*f-.0040720468*h,1.9779984951*l-2.428592205*f+.4505937099*h,.0259040371*l+.7827717662*f-.808675766*h]};function Vn(t){var e=Math.abs(t);return e<.04045?t/12.92:(Un(t)||1)*Hn((e+.055)/1.055,2.4)}var Yn=l.unpack,Gn=Math.pow,Xn=Math.sign,Zn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Yn(t,"lab"))[0],r=t[1],o=t[2],i=Gn(n+.3963377774*r+.2158037573*o,3),a=Gn(n-.1055613458*r-.0638541728*o,3),s=Gn(n-.0894841775*r-1.291485548*o,3);return[255*qn(4.0767416621*i-3.3077115913*a+.2309699292*s),255*qn(-1.2684380046*i+2.6097574011*a-.3413193965*s),255*qn(-.0041960863*i-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function qn(t){var e=Math.abs(t);return e>.0031308?(Xn(t)||1)*(1.055*Gn(e,1/2.4)-.055):12.92*t}var Kn=l.unpack,Qn=l.type,Jn=b,$n=m,tr=f,er=Wn;$n.prototype.oklab=function(){return er(this._rgb)},Jn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($n,[null].concat(t,["oklab"])))},tr.format.oklab=Zn,tr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Kn(t,"oklab"),"array"===Qn(t)&&3===t.length)return"oklab"}});var nr=l.unpack,rr=Wn,or=Fe,ir=l.unpack,ar=qe,sr=Zn,cr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=ir(t,"lch"))[0],r=t[1],o=t[2],i=ar(n,r,o),a=i[0],s=i[1],c=i[2],u=sr(a,s,c),l=u[0],f=u[1],h=u[2];return[l,f,h,t.length>3?t[3]:1]},ur=l.unpack,lr=l.type,fr=b,hr=m,dr=f,pr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=nr(t,"rgb"),r=n[0],o=n[1],i=n[2],a=rr(r,o,i),s=a[0],c=a[1],u=a[2];return or(s,c,u)};hr.prototype.oklch=function(){return pr(this._rgb)},fr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hr,[null].concat(t,["oklch"])))},dr.format.oklch=cr,dr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ur(t,"oklch"),"array"===lr(t)&&3===t.length)return"oklch"}});var vr=m,gr=l.type;vr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===gr(t)?e?(this._rgb[3]=t,this):new vr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1};var mr=m,yr=ve;mr.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=yr.Kn*t,new mr(e,"lab").alpha(this.alpha(),!0)},mr.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},mr.prototype.darker=mr.prototype.darken,mr.prototype.brighter=mr.prototype.brighten,m.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],o=this[n]();if(r){var i=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+n)}return o};var br=m,_r=l.type,wr=Math.pow;br.prototype.luminance=function(t){if(void 0!==t&&"number"===_r(t)){if(0===t)return new br([0,0,0,this._rgb[3]],"rgb");if(1===t)return new br([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function e(r,o){var i=r.interpolate(o,.5,"rgb"),a=i.luminance();return Math.abs(t-a)<1e-7||!n--?i:a>t?e(r,i):e(i,o)},o=(e>t?r(new br([0,0,0]),this):r(this,new br([255,255,255]))).rgb();return new br(o.concat([this._rgb[3]]))}return xr.apply(void 0,this._rgb.slice(0,3))};var xr=function(t,e,n){return.2126*(t=Sr(t))+.7152*(e=Sr(e))+.0722*(n=Sr(n))},Sr=function(t){return(t/=255)<=.03928?t/12.92:wr((t+.055)/1.055,2.4)},Cr={},Or=m,kr=l.type,Mr=Cr,Er=function(t,e,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=r[0]||"lrgb";if(Mr[i]||r.length||(i=Object.keys(Mr)[0]),!Mr[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==kr(t)&&(t=new Or(t)),"object"!==kr(e)&&(e=new Or(e)),Mr[i](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},jr=m,Ir=Er;jr.prototype.mix=jr.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ir.apply(void 0,[this,t,e].concat(n))};var Ar=m;Ar.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Ar([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Tr=m,Pr=ve;Tr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Pr.Kn*t,e[1]<0&&(e[1]=0),new Tr(e,"lch").alpha(this.alpha(),!0)},Tr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Dr=m,Nr=l.type;Dr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),o=r[0],i=r[1],a=this[o]();if(i){var s=o.indexOf(i)-("ok"===o.substr(0,2)?2:0);if(s>-1){if("string"==Nr(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==Nr(e))throw new Error("unsupported value for Color.set");a[s]=e}var c=new Dr(a,o);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+i+" in mode "+o)}return a};var Lr=m;Cr.rgb=function(t,e,n){var r=t._rgb,o=e._rgb;return new Lr(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};var Rr=m,Br=Math.sqrt,zr=Math.pow;Cr.lrgb=function(t,e,n){var r=t._rgb,o=r[0],i=r[1],a=r[2],s=e._rgb,c=s[0],u=s[1],l=s[2];return new Rr(Br(zr(o,2)*(1-n)+zr(c,2)*n),Br(zr(i,2)*(1-n)+zr(u,2)*n),Br(zr(a,2)*(1-n)+zr(l,2)*n),"rgb")};var Fr=m;Cr.lab=function(t,e,n){var r=t.lab(),o=e.lab();return new Fr(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};var Hr=m,Ur=function(t,e,n,r){var o,i,a,s,c,u,l,f,h,d,p,v,g;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(c=(o=a)[0],l=o[1],h=o[2],u=(i=s)[0],f=i[1],d=i[2]),isNaN(c)||isNaN(u)?isNaN(c)?isNaN(u)?v=Number.NaN:(v=u,1!=h&&0!=h||"hsv"==r||(p=f)):(v=c,1!=d&&0!=d||"hsv"==r||(p=l)):v=c+n*(u>c&&u-c>180?u-(c+360):u<c&&c-u>180?u+360-c:u-c),void 0===p&&(p=l+n*(f-l)),g=h+n*(d-h),new Hr("oklch"===r?[g,p,v]:[v,p,g],r)},Wr=Ur,Vr=function(t,e,n){return Wr(t,e,n,"lch")};Cr.lch=Vr,Cr.hcl=Vr;var Yr=m;Cr.num=function(t,e,n){var r=t.num(),o=e.num();return new Yr(r+n*(o-r),"num")};var Gr=Ur;Cr.hcg=function(t,e,n){return Gr(t,e,n,"hcg")};var Xr=Ur;Cr.hsi=function(t,e,n){return Xr(t,e,n,"hsi")};var Zr=Ur;Cr.hsl=function(t,e,n){return Zr(t,e,n,"hsl")};var qr=Ur;Cr.hsv=function(t,e,n){return qr(t,e,n,"hsv")};var Kr=m;Cr.oklab=function(t,e,n){var r=t.oklab(),o=e.oklab();return new Kr(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};var Qr=Ur;Cr.oklch=function(t,e,n){return Qr(t,e,n,"oklch")};var Jr=m,$r=l.clip_rgb,to=Math.pow,eo=Math.sqrt,no=Math.PI,ro=Math.cos,oo=Math.sin,io=Math.atan2,ao=function(t,e){for(var n=t.length,r=[0,0,0,0],o=0;o<t.length;o++){var i=t[o],a=e[o]/n,s=i._rgb;r[0]+=to(s[0],2)*a,r[1]+=to(s[1],2)*a,r[2]+=to(s[2],2)*a,r[3]+=s[3]*a}return r[0]=eo(r[0]),r[1]=eo(r[1]),r[2]=eo(r[2]),r[3]>.9999999&&(r[3]=1),new Jr($r(r))},so=b,co=l.type,uo=Math.pow,lo=function(t){var e="rgb",n=so("#ccc"),r=0,o=[0,1],i=[],a=[0,0],s=!1,c=[],u=!1,l=0,f=1,h=!1,d={},p=!0,v=1,g=function(t){if((t=t||["#fff","#000"])&&"string"===co(t)&&so.brewer&&so.brewer[t.toLowerCase()]&&(t=so.brewer[t.toLowerCase()]),"array"===co(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=so(t[e]);i.length=0;for(var n=0;n<t.length;n++)i.push(n/(t.length-1))}return _(),c=t},m=function(t){return t},y=function(t){return t},b=function(t,r){var o,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;u=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):f!==l?(t-l)/(f-l):1,u=y(u),r||(u=m(u)),1!==v&&(u=uo(u,v)),u=a[0]+u*(1-a[0]-a[1]),u=Math.min(1,Math.max(0,u));var h=Math.floor(1e4*u);if(p&&d[h])o=d[h];else{if("array"===co(c))for(var g=0;g<i.length;g++){var b=i[g];if(u<=b){o=c[g];break}if(u>=b&&g===i.length-1){o=c[g];break}if(u>b&&u<i[g+1]){u=(u-b)/(i[g+1]-b),o=so.interpolate(c[g],c[g+1],u,e);break}}else"function"===co(c)&&(o=c(u));p&&(d[h]=o)}return o},_=function(){return d={}};g(t);var w=function(t){var e=so(b(t));return u&&e[u]?e[u]():e};return w.classes=function(t){if(null!=t){if("array"===co(t))s=t,o=[t[0],t[t.length-1]];else{var e=so.analyze(o);s=0===t?[e.min,e.max]:so.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return o;l=t[0],f=t[t.length-1],i=[];var e=c.length;if(t.length===e&&l!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];i.push((a-l)/(f-l))}else{for(var s=0;s<e;s++)i.push(s/(e-1));if(t.length>2){var u=t.map((function(e,n){return n/(t.length-1)})),h=t.map((function(t){return(t-l)/(f-l)}));h.every((function(t,e){return u[e]===t}))||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]);return u[e]+n*(u[e+1]-u[e])})}}return o=[l,f],w},w.mode=function(t){return arguments.length?(e=t,_(),w):e},w.range=function(t,e){return g(t),w},w.out=function(t){return u=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,_(),m=h?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,o=b(t,!0).lab()[0],i=e+(n-e)*t,a=o-i,s=0,c=1,u=20;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(c-t)):(c=t,t+=.5*(s-t)),o=b(t,!0).lab()[0],a=o-i;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===co(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var i=o[0],a=o[1]-i;r=fo(0,e,!1).map((function(t){return w(i+t/(e-1)*a)}))}else{t=[];var u=[];if(s&&s.length>2)for(var l=1,f=s.length,h=1<=f;h?l<f:l>f;h?l++:l--)u.push(.5*(s[l-1]+s[l]));else u=o;r=u.map((function(t){return w(t)}))}return so[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=so(t),w):n},w};function fo(t,e,n){for(var r=[],o=t<e,i=n?o?e+1:e-1:e,a=t;o?a<i:a>i;o?a++:a--)r.push(a);return r}var ho=m,po=lo,vo=b,go=function t(e,n,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](e,n)},mo=function(t){return function(e,n){var r=vo(n).rgb(),o=vo(e).rgb();return vo.rgb(t(r,o))}},yo=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};go.normal=mo(yo((function(t){return t}))),go.multiply=mo(yo((function(t,e){return t*e/255}))),go.screen=mo(yo((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),go.overlay=mo(yo((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),go.darken=mo(yo((function(t,e){return t>e?e:t}))),go.lighten=mo(yo((function(t,e){return t>e?t:e}))),go.dodge=mo(yo((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),go.burn=mo(yo((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var bo=go,_o=l.type,wo=l.clip_rgb,xo=l.TWOPI,So=Math.pow,Co=Math.sin,Oo=Math.cos,ko=b,Mo=m,Eo=Math.floor,jo=Math.random,Io=a,Ao=Math.log,To=Math.pow,Po=Math.floor,Do=Math.abs,No=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Io(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Io(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return Lo(n,t,e)},n},Lo=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Io(t)&&(t=No(t));var r=t.min,o=t.max,i=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,o];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(o)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(o-r));a.push(o)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*Ao(r),u=Math.LOG10E*Ao(o);a.push(r);for(var l=1;l<n;l++)a.push(To(10,c+l/n*(u-c)));a.push(o)}else if("q"===e.substr(0,1)){a.push(r);for(var f=1;f<n;f++){var h=(i.length-1)*f/n,d=Po(h);if(d===h)a.push(i[d]);else{var p=h-d;a.push(i[d]*(1-p)+i[d+1]*p)}}a.push(o)}else if("k"===e.substr(0,1)){var v,g=i.length,m=new Array(g),y=new Array(n),b=!0,_=0,w=null;(w=[]).push(r);for(var x=1;x<n;x++)w.push(r+x/n*(o-r));for(w.push(o);b;){for(var S=0;S<n;S++)y[S]=0;for(var C=0;C<g;C++)for(var O=i[C],k=Number.MAX_VALUE,M=void 0,E=0;E<n;E++){var j=Do(w[E]-O);j<k&&(k=j,M=E),y[M]++,m[C]=M}for(var I=new Array(n),A=0;A<n;A++)I[A]=null;for(var T=0;T<g;T++)null===I[v=m[T]]?I[v]=i[T]:I[v]+=i[T];for(var P=0;P<n;P++)I[P]*=1/y[P];b=!1;for(var D=0;D<n;D++)if(I[D]!==w[D]){b=!0;break}w=I,++_>200&&(b=!1)}for(var N={},L=0;L<n;L++)N[L]=[];for(var R=0;R<g;R++)N[v=m[R]].push(i[R]);for(var B=[],z=0;z<n;z++)B.push(N[z][0]),B.push(N[z][N[z].length-1]);B=B.sort((function(t,e){return t-e})),a.push(B[0]);for(var F=1;F<B.length;F+=2){var H=B[F];isNaN(H)||-1!==a.indexOf(H)||a.push(H)}}return a},Ro={analyze:No,limits:Lo},Bo=m,zo=m,Fo=Math.sqrt,Ho=Math.pow,Uo=Math.min,Wo=Math.max,Vo=Math.atan2,Yo=Math.abs,Go=Math.cos,Xo=Math.sin,Zo=Math.exp,qo=Math.PI,Ko=m,Qo=m,Jo=b,$o=lo,ti={cool:function(){return $o([Jo.hsl(180,1,.9),Jo.hsl(250,.7,.4)])},hot:function(){return $o(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ei={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ni=0,ri=Object.keys(ei);ni<ri.length;ni+=1){var oi=ri[ni];ei[oi.toLowerCase()]=ei[oi]}var ii=ei,ai=b;return ai.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var o=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=o})),t=t.map((function(t){return new Jr(t)})),"lrgb"===e)return ao(t,n);for(var i=t.shift(),a=i.get(e),s=[],c=0,u=0,l=0;l<a.length;l++)if(a[l]=(a[l]||0)*n[0],s.push(isNaN(a[l])?0:n[0]),"h"===e.charAt(l)&&!isNaN(a[l])){var f=a[l]/180*no;c+=ro(f)*n[0],u+=oo(f)*n[0]}var h=i.alpha()*n[0];t.forEach((function(t,r){var o=t.get(e);h+=t.alpha()*n[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(s[i]+=n[r+1],"h"===e.charAt(i)){var l=o[i]/180*no;c+=ro(l)*n[r+1],u+=oo(l)*n[r+1]}else a[i]+=o[i]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===e.charAt(d)){for(var p=io(u/s[d],c/s[d])/no*180;p<0;)p+=360;for(;p>=360;)p-=360;a[d]=p}else a[d]=a[d]/s[d];return h/=r,new Jr(a,e).alpha(h>.99999?1:h,!0)},ai.bezier=function(t){var e=function(t){var e,n,r,o,i,a,s;if(2===(t=t.map((function(t){return new ho(t)}))).length)e=t.map((function(t){return t.lab()})),i=e[0],a=e[1],o=function(t){var e=[0,1,2].map((function(e){return i[e]+t*(a[e]-i[e])}));return new ho(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),i=n[0],a=n[1],s=n[2],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*i[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new ho(e,"lab")};else if(4===t.length){var c;r=t.map((function(t){return t.lab()})),i=r[0],a=r[1],s=r[2],c=r[3],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*i[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*c[e]}));return new ho(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var u,l,f;u=t.map((function(t){return t.lab()})),f=t.length-1,l=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],o=1;o<=e.length;o++)r[o]=(e[o]||0)+e[o-1];e=r}return e}(f),o=function(t){var e=1-t,n=[0,1,2].map((function(n){return u.reduce((function(r,o,i){return r+l[i]*Math.pow(e,f-i)*Math.pow(t,i)*o[n]}),0)}));return new ho(n,"lab")}}return o}(t);return e.scale=function(){return po(e)},e},ai.blend=bo,ai.cubehelix=function(t,e,n,r,o){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var i,a=0;"array"===_o(o)?i=o[1]-o[0]:(i=0,o=[o,o]);var s=function(s){var c=xo*((t+120)/360+e*s),u=So(o[0]+i*s,r),l=(0!==a?n[0]+s*a:n)*u*(1-u)/2,f=Oo(c),h=Co(c);return ko(wo([255*(u+l*(-.14861*f+1.78277*h)),255*(u+l*(-.29227*f-.90649*h)),255*(u+l*(1.97294*f)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===_o(n=t)?0===(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?o:("array"===_o(t)?(o=t,i=t[1]-t[0]):(o=[t,t],i=0),s)},s.scale=function(){return ko.scale(s)},s.hue(n),s},ai.mix=ai.interpolate=Er,ai.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(Eo(16*jo()));return new Mo(t,"hex")},ai.scale=lo,ai.analyze=Ro.analyze,ai.contrast=function(t,e){t=new Bo(t),e=new Bo(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},ai.deltaE=function(t,e,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var i=function(t){return 360*t/(2*qo)},a=function(t){return 2*qo*t/360};t=new zo(t),e=new zo(e);var s=Array.from(t.lab()),c=s[0],u=s[1],l=s[2],f=Array.from(e.lab()),h=f[0],d=f[1],p=f[2],v=(c+h)/2,g=(Fo(Ho(u,2)+Ho(l,2))+Fo(Ho(d,2)+Ho(p,2)))/2,m=.5*(1-Fo(Ho(g,7)/(Ho(g,7)+Ho(25,7)))),y=u*(1+m),b=d*(1+m),_=Fo(Ho(y,2)+Ho(l,2)),w=Fo(Ho(b,2)+Ho(p,2)),x=(_+w)/2,S=i(Vo(l,y)),C=i(Vo(p,b)),O=S>=0?S:S+360,k=C>=0?C:C+360,M=Yo(O-k)>180?(O+k+360)/2:(O+k)/2,E=1-.17*Go(a(M-30))+.24*Go(a(2*M))+.32*Go(a(3*M+6))-.2*Go(a(4*M-63)),j=k-O;j=Yo(j)<=180?j:k<=O?j+360:j-360,j=2*Fo(_*w)*Xo(a(j)/2);var I=h-c,A=w-_,T=1+.015*Ho(v-50,2)/Fo(20+Ho(v-50,2)),P=1+.045*x,D=1+.015*x*E,N=30*Zo(-Ho((M-275)/25,2)),L=-2*Fo(Ho(x,7)/(Ho(x,7)+Ho(25,7)))*Xo(2*a(N)),R=Fo(Ho(I/(n*T),2)+Ho(A/(r*P),2)+Ho(j/(o*D),2)+L*(A/(r*P))*(j/(o*D)));return Wo(0,Uo(100,R))},ai.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Ko(t),e=new Ko(e);var r=t.get(n),o=e.get(n),i=0;for(var a in r){var s=(r[a]||0)-(o[a]||0);i+=s*s}return Math.sqrt(i)},ai.limits=Ro.limits,ai.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Qo,[null].concat(t))),!0}catch(n){return!1}},ai.scales=ti,ai.colors=ln,ai.brewer=ii,ai},"object"===a(e)&&"undefined"!==typeof t?t.exports=i():void 0===(o="function"===typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},1299:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function b(t){if("object"===r(t)&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case s:case u:case c:case p:case v:return t;default:switch(t=t&&t.$$typeof){case h:case f:case d:case m:case g:case l:return t;default:return e}}case a:return e}}}o=Symbol.for("react.module.reference"),e.ContextConsumer=f,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=s,e.Lazy=m,e.Memo=g,e.Portal=a,e.Profiler=u,e.StrictMode=c,e.Suspense=p,e.SuspenseList=v,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return b(t)===f},e.isContextProvider=function(t){return b(t)===l},e.isElement=function(t){return"object"===r(t)&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return b(t)===d},e.isFragment=function(t){return b(t)===s},e.isLazy=function(t){return b(t)===m},e.isMemo=function(t){return b(t)===g},e.isPortal=function(t){return b(t)===a},e.isProfiler=function(t){return b(t)===u},e.isStrictMode=function(t){return b(t)===c},e.isSuspense=function(t){return b(t)===p},e.isSuspenseList=function(t){return b(t)===v},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===u||t===c||t===p||t===v||t===y||"object"===r(t)&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===f||t.$$typeof===d||t.$$typeof===o||void 0!==t.getModuleId)},e.typeOf=b},1300:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var r=s(n(187)),o=s(n(1215)),i=s(n(1217)),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var c=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(e,(function(e){Array.isArray(e)?t(e).map((function(t){return n.push(t)})):(0,i.default)(e)?(0,o.default)(e,(function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)})):(0,r.default)(e)&&n.push(e)})),n};e.default=c},1301:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var r=a(n(1215)),o=a(n(354)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){return t&&t.__esModule?t:{default:t}}var s=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.default&&(0,o.default)(t.default)||{};return e.map((function(e){var o=t[e];return o&&(0,r.default)(o,(function(t,e){n[e]||(n[e]={}),n[e]=i({},n[e],o[e])})),e})),n};e.default=s},1302:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var r,o=n(1215),i=(r=o)&&r.__esModule?r:{default:r},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var s={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){var n=e[t];return n||{extend:t}}},c=e.autoprefix=function(t){var e={};return(0,i.default)(t,(function(t,n){var r={};(0,i.default)(t,(function(t,e){var n=s[e];n?r=a({},r,n(t)):r[e]=t})),e[n]=r})),e};e.default=c},1303:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var o,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),s=(o=a)&&o.__esModule?o:{default:o};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,a;c(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return o=a=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return s.default.createElement(e,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},s.default.createElement(t,i({},a.props,a.state)))},u(a,o)}return l(r,n),r}(s.default.Component)};e.default=f},1304:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var o,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),s=(o=a)&&o.__esModule?o:{default:o};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,a;c(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return o=a=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return s.default.createElement(e,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},s.default.createElement(t,i({},a.props,a.state)))},u(a,o)}return l(r,n),r}(s.default.Component)};e.default=f},1305:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var n={},r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[t]=e};return 0===t&&r("first-child"),t===e-1&&r("last-child"),(0===t||t%2===0)&&r("even"),1===Math.abs(t%2)&&r("odd"),r("nth-child",t),n}},1306:function(t,e,n){"use strict";(function(t){var r=n(1180);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"===typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.a.Buffer:void 0,c=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(1212)(t))},1307:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(3),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,r=t.width,i=void 0===r?24:r,s=t.height,c=void 0===s?24:s,u=t.style,l=void 0===u?{}:u,f=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["fill","width","height","style"]);return a.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:i,height:c},l)},f),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},1308:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(3),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,r=t.width,i=void 0===r?24:r,s=t.height,c=void 0===s?24:s,u=t.style,l=void 0===u?{}:u,f=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["fill","width","height","style"]);return a.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:i,height:c},l)},f),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},1309:function(t,e,n){var r,o;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a,s){"object"==i(e)&&"undefined"!=typeof t?t.exports=s():void 0===(o="function"===typeof(r=s)?r.call(e,n,e,t):r)||(t.exports=o)}(0,(function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,u),i=n-o<0,a=e.clone().add(r+(i?-1:1),u);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:f,w:c,d:s,D:h,h:a,m:o,s:r,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",_={};_[b]=g;var w=function(t){return t instanceof O},x=function t(e,n,r){var o;if(!e)return b;if("string"==typeof e){var i=e.toLowerCase();_[i]&&(o=i),n&&(_[i]=n,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var s=e.name;_[s]=e,o=s}return!r&&o&&(b=o),o||!r&&b},S=function(t,e){if(w(t))return t.clone();var n="object"==i(e)?e:{};return n.date=t,n.args=arguments,new O(n)},C=y;C.l=x,C.i=w,C.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function i(t){this.$L=x(t.locale,null,!0),this.parse(t)}var g=i.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return S(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<S(t)},g.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,i=!!C.u(e)||e,l=C.p(t),d=function(t,e){var r=C.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?r:r.endOf(s)},p=function(t,e){return C.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return i?d(1,0):d(31,11);case u:return i?d(1,g):d(0,g+1);case c:var b=this.$locale().weekStart||0,_=(v<b?v+7:v)-b;return d(i?m-_:m+(6-_),g);case s:case h:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var i,c=C.p(t),l="set"+(this.$u?"UTC":""),d=(i={},i[s]=l+"Date",i[h]=l+"Date",i[u]=l+"Month",i[f]=l+"FullYear",i[a]=l+"Hours",i[o]=l+"Minutes",i[r]=l+"Seconds",i[n]=l+"Milliseconds",i)[c],p=c===s?this.$D+(e-this.$W):e;if(c===u||c===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[C.p(t)]()},g.add=function(n,i){var l,h=this;n=Number(n);var d=C.p(i),p=function(t){var e=S(h);return C.w(e.date(e.date()+Math.round(t*n)),h)};if(d===u)return this.set(u,this.$M+n);if(d===f)return this.set(f,this.$y+n);if(d===s)return p(1);if(d===c)return p(7);var v=(l={},l[o]=t,l[a]=e,l[r]=1e3,l)[d]||1,g=this.$d.getTime()+n*v;return C.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),i=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,f=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].slice(0,i)},h=function(t){return C.s(i%12||12,t,"0")},p=l||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(v,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return C.s(e.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return f(n.monthsShort,s,u,3);case"MMMM":return f(u,s);case"D":return e.$D;case"DD":return C.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,c,2);case"ddd":return f(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(i);case"HH":return C.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(i,a,!0);case"A":return p(i,a,!1);case"m":return String(a);case"mm":return C.s(a,2,"0");case"s":return String(e.$s);case"ss":return C.s(e.$s,2,"0");case"SSS":return C.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,i,h){var d,p=this,v=C.p(i),g=S(n),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=function(){return C.m(p,g)};switch(v){case f:d=b()/12;break;case u:d=b();break;case l:d=b()/3;break;case c:d=(y-m)/6048e5;break;case s:d=(y-m)/864e5;break;case a:d=y/e;break;case o:d=y/t;break;case r:d=y/1e3;break;default:d=y}return h?d:C.a(d)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return _[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=x(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},i}(),k=O.prototype;return S.prototype=k,[["$ms",n],["$s",r],["$m",o],["$H",a],["$W",s],["$M",u],["$y",f],["$D",h]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,O,S),t.$i=!0),S},S.locale=x,S.isDayjs=w,S.unix=function(t){return S(1e3*t)},S.en=_[b],S.Ls=_,S.p={},S}))},1310:function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i){var a="object"==("undefined"===typeof window?"undefined":o(window))&&!!window.document,s=a?window:Object;!function(t,e){"use strict";var n=function(){},r=function(t){return"number"==typeof t},i=function(t){return new A(t)},a=i.LM="2024-04-09 19:15",s="https://github.com/xiangyuecn/Recorder",c="Recorder",u="getUserMedia",l="srcSampleRate",f="sampleRate",h="bitRate",d="catch",p=t[c];if(p&&p.LM==a)return p.CLog(p.i18n.$T("K8zP::\u91cd\u590d\u5bfc\u5165{1}",0,c),3);i.IsOpen=function(){var t=i.Stream;if(t){var e=(t.getTracks&&t.getTracks()||t.audioTracks||[])[0];if(e){var n=e.readyState;return"live"==n||n==e.LIVE}}return!1},i.BufferSize=4096,i.Destroy=function(){for(var t in E(c+" Destroy"),k(),v)v[t]()};var v={};i.BindDestroy=function(t,e){v[t]=e},i.Support=function(){if(!e)return!1;var t=navigator.mediaDevices||{};return t[u]||(t=navigator)[u]||(t[u]=t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia),!!t[u]&&(i.Scope=t,!!i.GetContext())},i.GetContext=function(t){if(!e)return null;var n=window.AudioContext;if(n||(n=window.webkitAudioContext),!n)return null;var r=i.Ctx;if(r&&"closed"!=r.state||(r=i.Ctx=new n,i.NewCtxs=i.NewCtxs||[],i.BindDestroy("Ctx",(function(){var t=i.Ctx;t&&t.close&&(g(t),i.Ctx=0);var e=i.NewCtxs;i.NewCtxs=[];for(var n=0;n<e.length;n++)g(e[n])}))),t&&r.close)try{r=new n,i.NewCtxs.push(r)}catch(t){E("GetContext tryNew Error",1,t)}return r},i.CloseNewCtx=function(t){if(t&&t!=i.Ctx){g(t);for(var e=i.NewCtxs||[],n=e.length,r=0;r<e.length;r++)if(e[r]==t){e.splice(r,1);break}E(B("mSxV::\u5269{1}\u4e2aGetContext\u672aclose",0,n+"-1="+e.length),e.length?3:0)}};var g=function(t){if(t&&t.close){t._isC=1;try{t.close()}catch(t){E("ctx close err",1,t)}}},m=i.ResumeCtx=function(t,e,n,r){var o=0,i=0,a=0,s=0,c="EventListener",u="ResumeCtx ",l=function(e,u){i&&f(),o||(o=1,e&&r(e,s),u&&n(s)),u&&(!t._LsSC&&t["add"+c]&&t["add"+c]("statechange",h),t._LsSC=1,a=1)},f=function(t){if(!t||!i){i=t?1:0;for(var e=["focus","mousedown","mouseup","touchstart","touchend"],n=0;n<e.length;n++)window[(t?"add":"remove")+c](e[n],h,!0)}},h=function(){var n=t.state,r=y(n);if(!o&&!e(r?++s:s))return l();r?(a&&E(u+"sc "+n,3),f(1),t.resume().then((function(){a&&E(u+"sc "+t.state),l(0,1)}))[d]((function(e){E(u+"error",1,e),y(t.state)||l(e.message||"error")}))):"closed"==n?(a&&!t._isC&&E(u+"sc "+n,1),l("ctx closed")):l(0,1)};h()},y=i.CtxSpEnd=function(t){return"suspended"==t||"interrupted"==t},b=function(t){var e=t.state,n="ctx.state="+e;return y(e)&&(n+=B("nMIy::\uff08\u6ce8\u610f\uff1actx\u4e0d\u662frunning\u72b6\u6001\uff0crec.open\u548cstart\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5728\u7528\u6237\u64cd\u4f5c(\u89e6\u6478\u3001\u70b9\u51fb\u7b49)\u65f6\u8fdb\u884c\u8c03\u7528\uff0c\u5426\u5219\u5c06\u5728rec.start\u65f6\u5c1d\u8bd5\u8fdb\u884cctx.resume\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u517c\u5bb9\u6027\u95ee\u9898(\u4ec5iOS)\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2drunningContext\u914d\u7f6e\uff09")),n},_="ConnectEnableWebM";i[_]=!0;var w="ConnectEnableWorklet";i[w]=!1;var x=function(t,e){var n=t.BufferSize||i.BufferSize,r=t.Stream,o=r._RC||r._c||i.GetContext(!0);r._c=o;var a,s,u,l=function(t){var e=r._m=o.createMediaStreamSource(r),n=o.destination,i="createMediaStreamDestination";o[i]&&(n=r._d=o[i]()),e.connect(t),t.connect(n)},h="",p=r._call,v=function(t){for(var e in p){for(var n=t.length,r=new Int16Array(n),o=0,i=0;i<n;i++){var a=Math.max(-1,Math.min(1,t[i]));a=a<0?32768*a:32767*a,r[i]=a,o+=Math.abs(a)}for(var s in p)p[s](r,o);return}},g="ScriptProcessor",y="audioWorklet",b=c+" "+y,x="RecProc",S="MediaRecorder",k=S+".WebM.PCM",M=o.createScriptProcessor||o.createJavaScriptNode,j=B("ZGlf::\u3002\u7531\u4e8e{1}\u5185\u90e81\u79d2375\u6b21\u56de\u8c03\uff0c\u5728\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u6709\u6027\u80fd\u95ee\u9898\u5bfc\u81f4\u56de\u8c03\u4e22\u5931\u5f55\u97f3\u53d8\u77ed\uff0cPC\u7aef\u65e0\u5f71\u54cd\uff0c\u6682\u4e0d\u5efa\u8bae\u5f00\u542f{1}\u3002",0,y),I=function(){s=r.isWorklet=!1,C(r),E(B("7TU0::Connect\u91c7\u7528\u8001\u7684{1}\uff0c",0,g)+R.get(B(i[w]?"JwCL::\u4f46\u5df2\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}":"VGjB::\u53ef\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}",2),[c+"."+w+"=true",y])+h+j,3);var t=r._p=M.call(o,n,1,1);l(t),t.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0);v(e)}},A=function(){a=r.isWebM=!1,O(r),s=r.isWorklet=!M||i[w];var t=window.AudioWorkletNode;if(s&&o[y]&&t){var e=function(){return s&&r._na},f=r._na=function(){""!==u&&(clearTimeout(u),u=setTimeout((function(){u=0,e()&&(E(B("MxX1::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u6062\u590d\u4f7f\u7528{2}",0,y,g),3),M&&I())}),500))},p=function(){if(e()){var i=r._n=new t(o,x,{processorOptions:{bufferSize:n}});l(i),i.port.onmessage=function(t){u&&(clearTimeout(u),u=""),e()?v(t.data.val):s||E(B("XUap::{1}\u591a\u4f59\u56de\u8c03",0,y),3)},E(B("yOta::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u8001\u5f0f{3}",0,y,c+"."+w+"=false",g)+h+j,3)}},_=function(){if(e())if(o[x])p();else{var t,n,r=(n="class "+x+" extends AudioWorkletProcessor{",n+="constructor "+(t=function(t){return t.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,b)})((function(t){DEL_super(t);var e=this,n=t.processorOptions.bufferSize;e.bufferSize=n,e.buffer=new Float32Array(2*n),e.pos=0,e.port.onmessage=function(t){t.data.kill&&(e.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",t)})),n+="process "+t((function(t,e,n){var r=this,o=r.bufferSize,i=r.buffer,a=r.pos;if((t=(t[0]||[])[0]||[]).length){i.set(t,a);var s=~~((a+=t.length)/o)*o;if(s){this.port.postMessage({val:i.slice(0,s)});var c=i.subarray(s,a);(i=new Float32Array(2*o)).set(c),a=c.length,r.buffer=i}r.pos=a}return!r.kill})),n=(n+='}try{registerProcessor("'+x+'", '+x+')}catch(e){$C.error("'+b+' Reg Error",e)}').replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(n))));o[y].addModule(r).then((function(t){e()&&(o[x]=1,p(),u&&f())}))[d]((function(t){E(y+".addModule Error",1,t),e()&&I()}))}};m(o,(function(){return e()}),_,_)}else I()};!function(){var t=window[S],s="ondataavailable",l="audio/webm; codecs=pcm";a=r.isWebM=i[_];var d=t&&s in t.prototype&&t.isTypeSupported(l);if(h=d?"":B("VwPd::\uff08\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301{1}\uff09",0,k),!e||!a||!d)return A();var p=function(){return a&&r._ra},m=(r._ra=function(){""!==u&&(clearTimeout(u),u=setTimeout((function(){p()&&(E(B("vHnb::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u964d\u7ea7\u4f7f\u7528{2}",0,S,y),3),A())}),500))},Object.assign({mimeType:l},i.ConnectWebMOptions)),b=r._r=new t(r,m),w=r._rd={sampleRate:o[f]};b[s]=function(t){var e=new FileReader;e.onloadend=function(){if(p()){var t=T(new Uint8Array(e.result),w);if(!t)return;if(-1==t)return void A();u&&(clearTimeout(u),u=""),v(t)}else a||E(B("O9P7::{1}\u591a\u4f59\u56de\u8c03",0,S),3)},e.readAsArrayBuffer(t.data)},b.start(~~(n/48)),E(B("LMEm::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u4f7f\u7528{3}\u6216\u8001\u5f0f{4}",0,k,c+"."+_+"=false",y,g))}()},S=function(t){t._na&&t._na(),t._ra&&t._ra()},C=function(t){t._na=null,t._n&&(t._n.port.postMessage({kill:!0}),t._n.disconnect(),t._n=null)},O=function(t){if(t._ra=null,t._r){try{t._r.stop()}catch(t){E("mr stop err",1,t)}t._r=null}},k=function(t){var e=(t=t||i)==i,n=t.Stream;n&&(n._m&&(n._m.disconnect(),n._m=null),!n._RC&&n._c&&i.CloseNewCtx(n._c),n._RC=null,n._c=null,n._d&&(M(n._d.stream),n._d=null),n._p&&(n._p.disconnect(),n._p.onaudioprocess=n._p=null),C(n),O(n),e&&M(n)),t.Stream=0},M=i.StopS_=function(t){for(var e=t.getTracks&&t.getTracks()||t.audioTracks||[],n=0;n<e.length;n++){var r=e[n];r.stop&&r.stop()}t.stop&&t.stop()};i.SampleData=function(t,e,n,r,o){var a="SampleData";r||(r={});var s=r.index||0,c=r.offset||0,u=r.filter;if(u&&u.fn&&u.sr!=e&&(u=null,E(B("d48C::{1}\u7684filter\u91c7\u6837\u7387\u53d8\u4e86\uff0c\u91cd\u8bbe\u6ee4\u6ce2",0,a),3)),!u){var l=3*e/4<n?0:n/2*3/4;u={fn:l?i.IIRFilter(!0,e,l):0}}u.sr=e;var f=u.fn,h=r.frameNext||[];o||(o={});var d=o.frameSize||1;o.frameType&&(d="mp3"==o.frameType?1152:1);var p=t.length;p+1<s&&E(B("tlbC::{1}\u4f3c\u4e4e\u4f20\u5165\u4e86\u672a\u91cd\u7f6echunk {2}",0,a,s+">"+p),3);for(var v=0,g=s;g<p;g++)v+=t[g].length;v=Math.max(0,v-Math.floor(c));var m=e/n;1<m?v=Math.floor(v/m):(m=1,n=e),v+=h.length;var y=new Int16Array(v),b=0;for(g=0;g<h.length;g++)y[b]=h[g],b++;for(;s<p;s++){for(var _=t[s],w=(g=c,_.length),x=f&&f.Embed,S=0,C=0,O=0,k=0,M=0,j=0;M<w;M++,j++)if(j<w&&(x?(O=_[j],k=x.b0*O+x.b1*x.x1+x.b0*x.x2-x.a1*x.y1-x.a2*x.y2,x.x2=x.x1,x.x1=O,x.y2=x.y1,x.y1=k):k=f?f(_[j]):_[j]),S=C,C=k,0!=j){var I=Math.floor(g);if(M==I){var A=S+((Math.ceil(g)<w?C:S)-S)*(g-I);32767<A?A=32767:A<-32768&&(A=-32768),y[b]=A,b++,g+=m}}else M--;c=Math.max(0,g-w)}h=null;var T=y.length%d;if(0<T){var P=2*(y.length-T);h=new Int16Array(y.buffer.slice(P)),y=new Int16Array(y.buffer.slice(0,P))}return{index:s,offset:c,filter:u,frameNext:h,sampleRate:n,data:y}},i.IIRFilter=function(t,e,n){var r=2*Math.PI*n/e,o=Math.sin(r),i=Math.cos(r),a=o/2,s=1+a,c=-2*i/s,u=(1-a)/s;if(t)var l=(1-i)/2/s,f=(1-i)/s;else l=(1+i)/2/s,f=-(1+i)/s;var h=0,d=0,p=0,v=0,g=0,m=function(t){return p=l*t+f*h+l*d-c*v-u*g,d=h,h=t,g=v,v=p};return m.Embed={x1:0,x2:0,y1:0,y2:0,b0:l,b1:f,a1:c,a2:u},m},i.PowerLevel=function(t,e){var n=t/e||0;return n<1251?Math.round(n/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(n/1e4)/Math.log(10)))))},i.PowerDBFS=function(t){var e=Math.max(.1,t||0);return e=Math.min(e,32767),e=20*Math.log(e/32767)/Math.log(10),Math.max(-100,Math.round(e))},i.CLog=function(t,e){if("object"==("undefined"===typeof console?"undefined":o(console))){var n=new Date,a=("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2)+"."+("00"+n.getMilliseconds()).substr(-3),s=this&&this.envIn&&this.envCheck&&this.id,u=["["+a+" "+c+(s?":"+s:"")+"]"+t],l=arguments,f=i.CLog,h=2,d=f.log||console.log;for(r(e)?d=1==e?f.error||console.error:3==e?f.warn||console.warn:d:h=1;h<l.length;h++)u.push(l[h]);j?d&&d("[IsLoser]"+u[0],1<u.length?u:""):d.apply(console,u)}};var E=function(){i.CLog.apply(this,arguments)},j=!0;try{j=!console.log.apply}catch(t){}var I=0;function A(t){var e=this;e.id=++I,z();var o={type:"mp3",onProcess:n};for(var i in t)o[i]=t[i];var a=(e.set=o)[h],s=o[f];(a&&!r(a)||s&&!r(s))&&e.CLog(B.G("IllegalArgs-1",[B("VtS4::{1}\u548c{2}\u5fc5\u987b\u662f\u6570\u503c",0,f,h)]),1,t),o[h]=+a||16,o[f]=+s||16e3,e.state=0,e._S=9,e.Sync={O:9,C:9}}i.Sync={O:9,C:9},i.prototype=A.prototype={CLog:E,_streamStore:function(){return this.set.sourceStream?this:i},_streamCtx:function(){var t=this._streamStore().Stream;return t&&t._c},open:function(t,r){var o=this,c=o.set,l=o._streamStore(),h=0;t=t||n;var p=function(t,e){e=!!e,o.CLog(B("5tWi::\u5f55\u97f3open\u5931\u8d25\uff1a")+t+",isUserNotAllow:"+e,1),h&&i.CloseNewCtx(h),r&&r(t,e)};o._streamTag=u;var v=function(){o.CLog("open ok, id:"+o.id+" stream:"+o._streamTag),t(),o._SO=0},g=l.Sync,m=++g.O,y=g.C;if(o._O=o._O_=m,o._SO=o._S,e){var _=o.envCheck({envName:"H5",canProcess:!0});if(_)p(B("A5bm::\u4e0d\u80fd\u5f55\u97f3\uff1a")+_);else if(c.sourceStream){if(o._streamTag="set.sourceStream",!i.GetContext())return void p(B("1iU7::\u4e0d\u652f\u6301\u6b64\u6d4f\u89c8\u5668\u4ece\u6d41\u4e2d\u83b7\u53d6\u5f55\u97f3"));k(l);var w=o.Stream=c.sourceStream;w._RC=c.runningContext,w._call={};try{x(l)}catch(t){return k(l),void p(B("BTW2::\u4ece\u6d41\u4e2d\u6253\u5f00\u5f55\u97f3\u5931\u8d25\uff1a")+t.message)}v()}else{var S=function(t,e){try{window.top.a}catch(t){return void p(B("Nclz::\u65e0\u6743\u5f55\u97f3(\u8de8\u57df\uff0c\u8bf7\u5c1d\u8bd5\u7ed9iframe\u6dfb\u52a0\u9ea6\u514b\u98ce\u8bbf\u95ee\u7b56\u7565\uff0c\u5982{1})",0,'allow="camera;microphone"'))}/Permission|Allow/i.test(t)?p(B("gyO5::\u7528\u6237\u62d2\u7edd\u4e86\u5f55\u97f3\u6743\u9650"),!0):!1===window.isSecureContext?p(B("oWNo::\u6d4f\u89c8\u5668\u7981\u6b62\u4e0d\u5b89\u5168\u9875\u9762\u5f55\u97f3\uff0c\u53ef\u5f00\u542fhttps\u89e3\u51b3")):/Found/i.test(t)?p(e+B("jBa9::\uff0c\u65e0\u53ef\u7528\u9ea6\u514b\u98ce")):p(e)};if(i.IsOpen())v();else if(i.Support()){var C=c.runningContext;C||(C=h=i.GetContext(!0));var O=function(t){setTimeout((function(){t._call={};var e=i.Stream;e&&(k(),t._call=e._call),(i.Stream=t)._c=C,t._RC=c.runningContext,function(){if(y!=g.C||!o._O){var t=B("dFm8::open\u88ab\u53d6\u6d88");return m==g.O?o.close():t=B("VtJO::open\u88ab\u4e2d\u65ad"),p(t),!0}}()||(i.IsOpen()?(e&&o.CLog(B("upb8::\u53d1\u73b0\u540c\u65f6\u591a\u6b21\u8c03\u7528open"),1),x(l,1),v()):p(B("Q1GA::\u5f55\u97f3\u529f\u80fd\u65e0\u6548\uff1a\u65e0\u97f3\u9891\u6d41")))}),100)},M=function(t){var e=t.name||t.message||t.code+":"+t;o.CLog(B("xEQR::\u8bf7\u6c42\u5f55\u97f3\u6743\u9650\u9519\u8bef"),1,t),S(e,B("bDOG::\u65e0\u6cd5\u5f55\u97f3\uff1a")+e)},E=c.audioTrackSet||{};E[f]=C[f];var j={audio:E};try{var I=i.Scope[u](j,O,M)}catch(t){o.CLog(u,3,t),j={audio:!0},I=i.Scope[u](j,O,M)}o.CLog(u+"("+JSON.stringify(j)+") "+b(C)+B("RiWe::\uff0c\u672a\u914d\u7f6enoiseSuppression\u548cechoCancellation\u65f6\u6d4f\u89c8\u5668\u53ef\u80fd\u4f1a\u81ea\u52a8\u6253\u5f00\u964d\u566a\u548c\u56de\u58f0\u6d88\u9664\uff0c\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cfb\u7edf\u64ad\u653e\u97f3\u91cf\uff08\u5173\u95ed\u5f55\u97f3\u540e\u53ef\u6062\u590d\uff09\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2daudioTrackSet\u914d\u7f6e")+"("+s+") LM:"+a+" UA:"+navigator.userAgent),I&&I.then&&I.then(O)[d](M)}else S("",B("COxc::\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5f55\u97f3"))}}else p(B.G("NonBrowser-1",["open"])+B("EMJq::\uff0c\u53ef\u5c1d\u8bd5\u4f7f\u7528RecordApp\u89e3\u51b3\u65b9\u6848")+"("+s+"/tree/master/app-support-sample)")},close:function(t){t=t||n;var e=this,r=e._streamStore();e._stop();var o=" stream:"+e._streamTag,i=r.Sync;if(e._O=0,e._O_!=i.O)return e.CLog(B("hWVz::close\u88ab\u5ffd\u7565\uff08\u56e0\u4e3a\u540c\u65f6open\u4e86\u591a\u4e2arec\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u771f\u6b63close\uff09")+o,3),void t();i.C++,k(r),e.CLog("close,"+o),t()},mock:function(t,e){var n=this;return n._stop(),n.isMock=1,n.mockEnvInfo=null,n.buffers=[t],n.recSize=t.length,n._setSrcSR(e),n._streamTag="mock",n},_setSrcSR:function(t){var e=this.set,n=e[f];t<n?e[f]=t:n=0,this[l]=t,this.CLog(l+": "+t+" set."+f+": "+e[f]+(n?" "+B("UHvm::\u5ffd\u7565")+": "+n:""),n?3:0)},envCheck:function(t){var e,n=this.set,r="CPU_BE";if(e||i[r]||"function"!=typeof Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(z(r),e=B("Essp::\u4e0d\u652f\u6301{1}\u67b6\u6784",0,r)),!e){var o=n.type,a=this[o+"_envCheck"];n.takeoffEncodeChunk&&(a?t.canProcess||(e=B("7uMV::{1}\u73af\u5883\u4e0d\u652f\u6301\u5b9e\u65f6\u5904\u7406",0,t.envName)):e=B("2XBl::{1}\u7c7b\u578b\u4e0d\u652f\u6301\u8bbe\u7f6etakeoffEncodeChunk",0,o)+(this[o]?"":B("LG7e::(\u672a\u52a0\u8f7d\u7f16\u7801\u5668)"))),!e&&a&&(e=this[o+"_envCheck"](t,n))}return e||""},envStart:function(t,e){var n=this,r=n.set;if(n.isMock=t?1:0,n.mockEnvInfo=t,n.buffers=[],n.recSize=0,t&&(n._streamTag="env$"+t.envName),n.state=1,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[],n._setSrcSR(e),n.engineCtx=0,n[r.type+"_start"]){var o=n.engineCtx=n[r.type+"_start"](r);o&&(o.pcmDatas=[],o.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(t,e){var n=this,r=n.set,o=n.engineCtx;if(1==n.state){var a=n[l],s=t.length,c=i.PowerLevel(e,s),u=n.buffers,h=u.length;u.push(t);var d=u,p=h,v=Date.now(),g=Math.round(s/a*1e3);n.envInLast=v,1==n.buffers.length&&(n.envInFirst=v-g);var m=n.envInFixTs;m.splice(0,0,{t:v,d:g});for(var y=v,b=0,_=0;_<m.length;_++){var w=m[_];if(3e3<v-w.t){m.length=_;break}y=w.t,b+=w.d}var x=m[1],S=v-y;if(S/3<S-b&&(x&&1e3<S||6<=m.length)){var C=v-x.t-g;if(g/5<C){var O=!r.disableEnvInFix;if(n.CLog("["+v+"]"+R.get(B(O?"4Kfd::\u8865\u507f{1}ms":"bM5i::\u672a\u8865\u507f{1}ms",1),[C]),3),n.envInFix+=C,O){var k=new Int16Array(C*a/1e3);s+=k.length,u.push(k)}}}var M=n.recSize,E=s,j=M+E;if(n.recSize=j,o){var I=i.SampleData(u,a,r[f],o.chunkInfo);o.chunkInfo=I,j=(M=o.pcmSize)+(E=I.data.length),o.pcmSize=j,u=o.pcmDatas,h=u.length,u.push(I.data),a=I[f]}var A=Math.round(j/a*1e3),T=u.length,P=d.length,D=function(){for(var t=N?0:-E,e=null==u[0],i=h;i<T;i++){var a=u[i];null==a?e=1:(t+=a.length,o&&a.length&&n[r.type+"_encode"](o,a))}if(e&&o){i=p;for(d[0]&&(i=0);i<P;i++)d[i]=null}e&&(t=N?E:0,u[0]=null),o?o.pcmSize+=t:n.recSize+=t},N=0,L="rec.set.onProcess";try{N=r.onProcess(u,c,A,a,h,D)}catch(t){console.error(L+B("gFUF::\u56de\u8c03\u51fa\u9519\u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u9700\u4fdd\u8bc1\u4e0d\u4f1a\u629b\u5f02\u5e38"),t)}var z=Date.now()-v;if(10<z&&1e3<n.envInFirst-v&&n.CLog(L+B("2ghS::\u4f4e\u6027\u80fd\uff0c\u8017\u65f6{1}ms",0,z),3),!0===N){var F=0;for(_=h;_<T;_++)null==u[_]?F=1:u[_]=new Int16Array(0);F?n.CLog(B("ufqH::\u672a\u8fdb\u5165\u5f02\u6b65\u524d\u4e0d\u80fd\u6e05\u9664buffers"),3):o?o.pcmSize-=E:n.recSize-=E}else D()}else n.state||n.CLog("envIn at state=0",3)},start:function(){var t=this,e=1;if(t.set.sourceStream?t.Stream||(e=0):i.IsOpen()||(e=0),e){var n=t._streamCtx();if(t.CLog(B("kLDN::start \u5f00\u59cb\u5f55\u97f3\uff0c")+b(n)+" stream:"+t._streamTag),t._stop(),t.envStart(null,n[f]),t.state=3,t._SO&&t._SO+1!=t._S)t.CLog(B("Bp2y::start\u88ab\u4e2d\u65ad"),3);else{t._SO=0;var r=function(){3==t.state&&(t.state=1,t.resume())},o="AudioContext resume: ";m(n,(function(e){return e&&t.CLog(o+"wait..."),3==t.state}),(function(e){e&&t.CLog(o+n.state),r()}),(function(e){t.CLog(o+n.state+B("upkE::\uff0c\u53ef\u80fd\u65e0\u6cd5\u5f55\u97f3\uff1a")+e,1),r()}))}}else t.CLog(B("6WmN::start\u5931\u8d25\uff1a\u672aopen"),1)},pause:function(){var t=this,e=t._streamStore().Stream;t.state&&(t.state=2,t.CLog("pause"),e&&delete e._call[t.id])},resume:function(){var t=this,e=t._streamStore().Stream,n="resume(wait ctx)";if(3==t.state)t.CLog(n);else if(t.state){t.state=1,t.CLog("resume"),t.envResume(),e&&(e._call[t.id]=function(e,n){1==t.state&&t.envIn(e,n)},S(e));var r=t._streamCtx();r&&m(r,(function(e){return e&&t.CLog(n+"..."),1==t.state}),(function(o){o&&t.CLog(n+r.state),S(e)}),(function(e){t.CLog(n+r.state+"[err]"+e,1)}))}},_stop:function(t){var e=this,n=e.set;e.isMock||e._S++,e.state&&(e.pause(),e.state=0),!t&&e[n.type+"_stop"]&&(e[n.type+"_stop"](e.engineCtx),e.engineCtx=0)},stop:function(t,e,n){var r,o=this,u=o.set,h=o.envInLast-o.envInFirst,d=h&&o.buffers.length;o.CLog(B("Xq4s::stop \u548cstart\u65f6\u5dee:")+(h?h+"ms "+B("3CQP::\u8865\u507f:")+o.envInFix+"ms envIn:"+d+" fps:"+(d/h*1e3).toFixed(1):"-")+" stream:"+o._streamTag+" ("+s+") LM:"+a);var p=function(){o._stop(),n&&o.close()},v=function(t){o.CLog(B("u8JG::\u7ed3\u675f\u5f55\u97f3\u5931\u8d25\uff1a")+t,1),e&&e(t),p()},g=function(e,n,a){var s="arraybuffer",l="dataType",f="DefaultDataType",h=o[l]||i[f]||"blob",d=l+"="+h,g=e instanceof ArrayBuffer,m=0,y=g?e.byteLength:e.size;if(h==s?g||(m=1):"blob"==h?"function"!=typeof Blob?m=B.G("NonBrowser-1",[d])+B("1skY::\uff0c\u8bf7\u8bbe\u7f6e{1}",0,c+"."+f+'="'+s+'"'):(g&&(e=new Blob([e],{type:n})),e instanceof Blob||(m=1),n=e.type||n):m=B.G("NotSupport-1",[d]),o.CLog(B("Wv7l::\u7ed3\u675f\u5f55\u97f3 \u7f16\u7801\u82b1{1}ms \u97f3\u9891\u65f6\u957f{2}ms \u6587\u4ef6\u5927\u5c0f{3}b",0,Date.now()-r,a,y)+" "+d+","+n),m)v(1!=m?m:B("Vkbd::{1}\u7f16\u7801\u5668\u8fd4\u56de\u7684\u4e0d\u662f{2}",0,u.type,h)+", "+d);else{if(u.takeoffEncodeChunk)o.CLog(B("QWnr::\u542f\u7528takeoffEncodeChunk\u540estop\u8fd4\u56de\u7684blob\u957f\u5ea6\u4e3a0\u4e0d\u63d0\u4f9b\u97f3\u9891\u6570\u636e"),3);else if(y<Math.max(50,a/5))return void v(B("Sz2H::\u751f\u6210\u7684{1}\u65e0\u6548",0,u.type));t&&t(e,a,n),p()}};if(!o.isMock){var m=3==o.state;if(!o.state||m)return void v(B("wf9t::\u672a\u5f00\u59cb\u5f55\u97f3")+(m?B("Dl2c::\uff0c\u5f00\u59cb\u5f55\u97f3\u524d\u65e0\u7528\u6237\u4ea4\u4e92\u5bfc\u81f4AudioContext\u672a\u8fd0\u884c"):""))}o._stop(!0);var y=o.recSize;if(y)if(o[u.type]){if(o.isMock){var b=o.envCheck(o.mockEnvInfo||{envName:"mock",canProcess:!1});if(b)return void v(B("AxOH::\u5f55\u97f3\u9519\u8bef\uff1a")+b)}var _=o.engineCtx;if(o[u.type+"_complete"]&&_){var w=Math.round(_.pcmSize/u[f]*1e3);return r=Date.now(),void o[u.type+"_complete"](_,(function(t,e){g(t,e,w)}),v)}if(r=Date.now(),o.buffers[0]){var x=i.SampleData(o.buffers,o[l],u[f]);u[f]=x[f];var S=x.data;w=Math.round(S.length/u[f]*1e3);o.CLog(B("CxeT::\u91c7\u6837:{1} \u82b1:{2}ms",0,y+"->"+S.length,Date.now()-r)),setTimeout((function(){r=Date.now(),o[u.type](S,(function(t,e){g(t,e,w)}),(function(t){v(t)}))}))}else v(B("xkKd::\u97f3\u9891buffers\u88ab\u91ca\u653e"))}else v(B("xGuI::\u672a\u52a0\u8f7d{1}\u7f16\u7801\u5668\uff0c\u8bf7\u5c1d\u8bd5\u5230{2}\u7684src/engine\u5185\u627e\u5230{1}\u7684\u7f16\u7801\u5668\u5e76\u52a0\u8f7d",0,u.type,c));else v(B("Ltz3::\u672a\u91c7\u96c6\u5230\u5f55\u97f3"))}};var T=function(t,e){e.pos||(e.pos=[0],e.tracks={},e.bytes=[]);var n=e.tracks,r=[e.pos[0]],o=function(){e.pos[0]=r[0]},i=e.bytes.length,a=new Uint8Array(i+t.length);if(a.set(e.bytes),a.set(t,i),e.bytes=a,!e._ht){if(N(a,r),L(a,r),!P(N(a,r),[24,83,128,103]))return;for(N(a,r);r[0]<a.length;){var s=N(a,r),c=L(a,r),u=[0],l=0;if(!c)return;if(P(s,[22,84,174,107])){for(;u[0]<c.length;){var h=N(c,u),d=L(c,u),p=[0],v={channels:0,sampleRate:0};if(P(h,[174]))for(;p[0]<d.length;){var g=N(d,p),m=L(d,p),y=[0];if(P(g,[215])){var b=D(m);v.number=b,n[b]=v}else if(P(g,[131])){1==(b=D(m))?v.type="video":2==b?(v.type="audio",l||(e.track0=v),v.idx=l++):v.type="Type-"+b}else if(P(g,[134])){for(var _="",w=0;w<m.length;w++)_+=String.fromCharCode(m[w]);v.codec=_}else if(P(g,[225]))for(;y[0]<m.length;){var x=N(m,y),S=L(m,y);if(P(x,[181])){b=0;var C=new Uint8Array(S.reverse()).buffer;4==S.length?b=new Float32Array(C)[0]:8==S.length?b=new Float64Array(C)[0]:E("WebM Track !Float",1,S),v[f]=Math.round(b)}else P(x,[98,100])?v.bitDepth=D(S):P(x,[159])&&(v.channels=D(S))}}}e._ht=1,E("WebM Tracks",n),o();break}}}var O=e.track0;if(O){if(16==O.bitDepth&&/FLOAT/i.test(O.codec)&&(O.bitDepth=32,E("WebM 16->32 bit",3)),O[f]!=e[f]||32!=O.bitDepth||O.channels<1||!/(\b|_)PCM\b/i.test(O.codec))return e.bytes=[],e.bad||E("WebM Track Unexpected",3,e),-(e.bad=1);for(var k=[],M=0;r[0]<a.length;){h=N(a,r);if(!(d=L(a,r)))break;if(P(h,[163])){var j=15&d[0];if(v=n[j]){if(0===v.idx){var I=new Uint8Array(d.length-4);for(w=4;w<d.length;w++)I[w-4]=d[w];k.push(I),M+=I.length}}else E("WebM !Track"+j,1,n)}o()}if(M){var A=new Uint8Array(a.length-e.pos[0]);A.set(a.subarray(e.pos[0])),e.bytes=A,e.pos[0]=0;I=new Uint8Array(M),w=0;for(var T=0;w<k.length;w++)I.set(k[w],T),T+=k[w].length;C=new Float32Array(I.buffer);if(1<O.channels){var R=[];for(w=0;w<C.length;)R.push(C[w]),w+=O.channels;C=new Float32Array(R)}return C}}},P=function(t,e){if(!t||t.length!=e.length)return!1;if(1==t.length)return t[0]==e[0];for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},D=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+=(r<16?"0":"")+r.toString(16)}return parseInt(e,16)||0},N=function(t,e,n){var r=e[0];if(!(r>=t.length)){var o=("0000000"+t[r].toString(2)).substr(-8),i=/^(0*1)(\d*)$/.exec(o);if(i){var a=i[1].length,s=[];if(!(r+a>t.length)){for(var c=0;c<a;c++)s[c]=t[r],r++;return n&&(s[0]=parseInt(i[2]||"0",2)),e[0]=r,s}}}},L=function(t,e){var n=N(t,e,1);if(n){var r=D(n),o=e[0],i=[];if(r<2147483647){if(o+r>t.length)return;for(var a=0;a<r;a++)i[a]=t[o],o++}return e[0]=o,i}},R=i.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(t,e){var n=c+".i18n.put: ",r=t.overwrite;r=null==r||r;var o=t.lang;if(!(o=R.alias[o]||o))throw new Error(n+"set.lang?");var i=R.locales[o];i||(i={},R.locales[o]=i);for(var a,s=/^([\w\-]+):/,u=0;u<e.length;u++){var l=e[u];if(a=s.exec(l)){var f=a[1];l=l.substr(f.length+1);!r&&i[f]||(i[f]=l)}else E(n+"'key:'? "+l,3,t)}},get:function(){return R.v_G.apply(null,arguments)},v_G:function(t,e,n){e=e||[],n=n||R.lang,n=R.alias[n]||n;var r=R.locales[n],o=r&&r[t]||"";return o||"zh"==n?(R.lastLang=n,"=Empty"==o?"":o.replace(/\{(\d+)(\!?)\}/g,(function(n,r,i){return n=e[(r=+r||0)-1],(r<1||r>e.length)&&(n="{?}",E("i18n["+t+"] no {"+r+"}: "+o,3)),i?"":n}))):"en"==n?R.v_G(t,e,"zh"):R.v_G(t,e,"en")},$T:function(){return R.v_T.apply(null,arguments)},v_T:function(){for(var t,e=arguments,n="",o=[],i=0,a=c+".i18n.$T:",s=/^([\w\-]*):/,u=0;u<e.length;u++){var l=e[u];if(0==u){if(!(n=(t=s.exec(l))&&t[1]))throw new Error(a+"0 'key:'?");l=l.substr(n.length+1)}if(-1===i)o.push(l);else{if(i)throw new Error(a+" bad args");if(0===l)i=-1;else if(r(l)){if(l<1)throw new Error(a+" bad args");i=l}else{var f=1==u?"en":u?"":"zh";if((t=s.exec(l))&&(f=t[1]||f,l=l.substr(t[1].length+1)),!t||!f)throw new Error(a+u+" 'lang:'?");R.put({lang:f,overwrite:!1},[n+":"+l])}}}return n?0<i?n:R.v_G(n,o):""}},B=R.$T;B.G=R.get,B("NonBrowser-1::\u975e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u4e0d\u652f\u6301{1}",1),B("IllegalArgs-1::\u53c2\u6570\u9519\u8bef\uff1a{1}",1),B("NeedImport-2::\u8c03\u7528{1}\u9700\u8981\u5148\u5bfc\u5165{2}",2),B("NotSupport-1::\u4e0d\u652f\u6301\uff1a{1}",1),i.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var z=i.Traffic=function(t){if(e){t=t?"/"+c+"/Report/"+t:"";var n=i.TrafficImgUrl;if(n){var r=i.Traffic,o=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],a=o[1]||"http://file/",s=(o[0]||a)+t;if(0==n.indexOf("//")&&(n=/^https:/i.test(s)?"https:"+n:"http:"+n),t&&(n=n+"&cu="+encodeURIComponent(a+t)),!r[s])r[s]=1,(new Image).src=n,E("Traffic Analysis Image: "+(t||c+".TrafficImgUrl="+i.TrafficImgUrl))}}};p&&(E(B("8HO5::\u8986\u76d6\u5bfc\u5165{1}",0,c),1),p.Destroy()),t[c]=i}(s,a),void 0!==(r=function(){return s.Recorder}.call(e,n,e,t))&&(t.exports=r),"object"==o(t)&&t.exports&&(t.exports=s.Recorder)}(),function(t){var e="object"==("undefined"===typeof window?"undefined":o(window))&&!!window.document,n=(e?window:Object).Recorder;!function(t,e,n,r){"use strict";var o="48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000",i="8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, 320";t.prototype.enc_mp3={stable:!0,takeEC:"full",getTestMsg:function(){return n("Zm7L::\u91c7\u6837\u7387\u8303\u56f4\uff1a{1}\uff1b\u6bd4\u7279\u7387\u8303\u56f4\uff1a{2}\uff08\u4e0d\u540c\u6bd4\u7279\u7387\u652f\u6301\u7684\u91c7\u6837\u7387\u8303\u56f4\u4e0d\u540c\uff0c\u5c0f\u4e8e32kbps\u65f6\u91c7\u6837\u7387\u9700\u5c0f\u4e8e32000\uff09",0,o,i)}};var a,s=function(e){var r=e.bitRate,a=e.sampleRate,s=a;if(-1==(" "+i+",").indexOf(" "+r+",")&&t.CLog(n("eGB9::{1}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{2}",0,"bitRate="+r,i),3),-1==(" "+o+",").indexOf(" "+a+",")){for(var c=o.split(", "),u=[],l=0;l<c.length;l++)u.push({v:+c[l],s:Math.abs(c[l]-a)});u.sort((function(t,e){return t.s-e.s})),s=u[0].v,e.sampleRate=s,t.CLog(n("zLTa::sampleRate\u5df2\u66f4\u65b0\u4e3a{1}\uff0c\u56e0\u4e3a{2}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{3}",0,s,a,o),3)}},c=function(){return n.G("NeedImport-2",["mp3.js","src/engine/mp3-engine.js"])},u=r&&"function"==typeof Worker;t.prototype.mp3=function(e,n,r){var o=this,i=o.set,a=e.length;if(t.lamejs){if(u){var l=o.mp3_start(i);if(l){if(l.isW)return o.mp3_encode(l,e),void o.mp3_complete(l,n,r,1);o.mp3_stop(l)}}s(i);var f=new t.lamejs.Mp3Encoder(1,i.sampleRate,i.bitRate),p=new Int8Array(5e5),v=0,g=0,m=0;!function t(){try{if(g<a)var o=f.encodeBuffer(e.subarray(g,g+57600));else{m=1;o=f.flush()}}catch(o){if(console.error(o),!m)try{f.flush()}catch(o){console.error(o)}return void r("MP3 Encoder: "+o.message)}var s=o.length;if(0<s){if(v+s>p.length){var c=new Int8Array(p.length+Math.max(5e5,s));c.set(p.subarray(0,v)),p=c}p.set(o,v),v+=s}if(g<a)g+=57600,setTimeout(t);else{var u=[p.buffer.slice(0,v)],l=h.fn(u,v,a,i.sampleRate);d(l,i),n(u[0]||new ArrayBuffer(0),"audio/mp3")}}()}else r(c())},t.BindDestroy("mp3Worker",(function(){a&&(t.CLog("mp3Worker Destroy"),a.terminate(),a=null)})),t.prototype.mp3_envCheck=function(e,r){var o="";return r.takeoffEncodeChunk&&(f()||(o=n("yhUs::\u5f53\u524d\u6d4f\u89c8\u5668\u7248\u672c\u592a\u4f4e\uff0c\u65e0\u6cd5\u5b9e\u65f6\u5904\u7406"))),o||t.lamejs||(o=c()),o},t.prototype.mp3_start=function(t){return f(t)};var l={id:0},f=function e(r,o){var i,c=function(t){var e=t.data,n=i.wkScope.wk_ctxs,r=i.wkScope.wk_lame,o=i.wkScope.wk_mp3TrimFix,a=n[e.id];if("init"==e.action)n[e.id]={sampleRate:e.sampleRate,bitRate:e.bitRate,takeoff:e.takeoff,pcmSize:0,memory:new Int8Array(5e5),mOffset:0,encObj:new r.Mp3Encoder(1,e.sampleRate,e.bitRate)};else if(!a)return;var s=function(t){var e=t.length;if(a.mOffset+e>a.memory.length){var n=new Int8Array(a.memory.length+Math.max(5e5,e));n.set(a.memory.subarray(0,a.mOffset)),a.memory=n}a.memory.set(t,a.mOffset),a.mOffset+=e};switch(e.action){case"stop":if(!a.isCp)try{a.encObj.flush()}catch(t){console.error(t)}a.encObj=null,delete n[e.id];break;case"encode":if(a.isCp)break;a.pcmSize+=e.pcm.length;try{var c=a.encObj.encodeBuffer(e.pcm)}catch(t){a.err=t,console.error(t)}c&&0<c.length&&(a.takeoff?p.onmessage({action:"takeoff",id:e.id,chunk:c}):s(c));break;case"complete":a.isCp=1;try{c=a.encObj.flush()}catch(t){a.err=t,console.error(t)}if(c&&0<c.length&&(a.takeoff?p.onmessage({action:"takeoff",id:e.id,chunk:c}):s(c)),a.err){p.onmessage({action:e.action,id:e.id,err:"MP3 Encoder: "+a.err.message});break}var u=[a.memory.buffer.slice(0,a.mOffset)],l=o.fn(u,a.mOffset,a.pcmSize,a.sampleRate);p.onmessage({action:e.action,id:e.id,blob:u[0]||new ArrayBuffer(0),meta:l})}},f=function(t){p.onmessage=function(e){var n=e;t&&(n=e.data);var r=l[n.id];r&&("takeoff"==n.action?r.set.takeoffEncodeChunk(new Uint8Array(n.chunk.buffer)):(r.call&&r.call(n),r.call=null))}},d=function(){var t={worker:p,set:r};return r?(t.id=++l.id,l[t.id]=t,s(r),p.postMessage({action:"init",id:t.id,sampleRate:r.sampleRate,bitRate:r.bitRate,takeoff:!!r.takeoffEncodeChunk,x:new Int16Array(5)})):p.postMessage({x:new Int16Array(5)}),t},p=a;if(o||!u)return t.CLog(n("k9PT::\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301Web Worker\uff0cmp3\u5b9e\u65f6\u7f16\u7801\u5668\u8fd0\u884c\u5728\u4e3b\u7ebf\u7a0b\u4e2d"),3),p={postMessage:function(t){c({data:t})}},i={wkScope:{wk_ctxs:{},wk_lame:t.lamejs,wk_mp3TrimFix:h}},f(),d();try{if(!p){var v=(c+"").replace(/[\w\$]+\.onmessage/g,"self.postMessage"),g=");wk_lame();self.onmessage="+(v=v.replace(/[\w\$]+\.wkScope/g,"wkScope"));g+=";var wkScope={ wk_ctxs:{},wk_lame:wk_lame",g+=",wk_mp3TrimFix:{rm:"+h.rm+",fn:"+h.fn+"} }";var m=t.lamejs.toString(),y=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",m,g],{type:"text/javascript"}));p=new Worker(y),setTimeout((function(){(window.URL||webkitURL).revokeObjectURL(y)}),1e4),f(1)}var b=d();return b.isW=1,a=p,b}catch(o){return p&&p.terminate(),console.error(o),e(r,1)}};t.prototype.mp3_stop=function(e){if(e&&e.worker){e.worker.postMessage({action:"stop",id:e.id}),e.worker=null,delete l[e.id];var r=-1;for(var o in l)r++;r&&t.CLog(n("fT6M::mp3 worker\u5269{1}\u4e2a\u672astop",0,r),3)}},t.prototype.mp3_encode=function(t,e){t&&t.worker&&t.worker.postMessage({action:"encode",id:t.id,pcm:e})},t.prototype.mp3_complete=function(t,e,r,o){var i=this;t&&t.worker?(t.call=function(n){o&&i.mp3_stop(t),n.err?r(n.err):(d(n.meta,t.set),e(n.blob,"audio/mp3"))},t.worker.postMessage({action:"complete",id:t.id})):r(n("mPxH::mp3\u7f16\u7801\u5668\u672astart"))},t.mp3ReadMeta=function(t,e){var n="undefined"!=typeof window&&window.parseInt||"undefined"!=typeof self&&self.parseInt||parseInt,r=new Uint8Array(t[0]||[]);if(r.length<4)return null;var o=function(t,e){return("0000000"+((e||r)[t]||0).toString(2)).substr(-8)},i=o(0)+o(1),a=o(2)+o(3);if(!/^1{11}/.test(i))return null;var s={"00":2.5,10:2,11:1}[i.substr(11,2)],c={"01":3}[i.substr(13,2)],u={1:[44100,48e3,32e3],2:[22050,24e3,16e3],2.5:[11025,12e3,8e3]}[s];u&&(u=u[n(a.substr(4,2),2)]);var l=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][1==s?1:0][n(a.substr(0,4),2)];if(!(s&&c&&l&&u))return null;for(var f=Math.round(8*e/l),h=1==c?384:2==c||1==s?1152:576,d=h/u*1e3,p=Math.floor(h*l/8/u*1e3),v=0,g=0,m=0;m<t.length;m++){var y=t[m];if(p+3<=(g+=y.byteLength)){var b=new Uint8Array(y);v="1"==o(y.byteLength-(g-(p+3)+1),b).charAt(6);break}}return v&&p++,{version:s,layer:c,sampleRate:u,bitRate:l,duration:f,size:e,hasPadding:v,frameSize:p,frameDurationFloat:d}};var h={rm:t.mp3ReadMeta,fn:function(t,e,n,r){var o=this.rm(t,e);if(!o)return{err:"mp3 unknown format"};var i=Math.round(n/r*1e3),a=Math.floor((o.duration-i)/o.frameDurationFloat);if(0<a){var s=a*o.frameSize-(o.hasPadding?1:0);e-=s;for(var c=0,u=[],l=0;l<t.length;l++){var f=t[l];if(s<=0)break;s>=f.byteLength?(s-=f.byteLength,u.push(f),t.splice(l,1),l--):(t[l]=f.slice(s),c=f,s=0)}if(!this.rm(t,e)){c&&(t[0]=c);for(l=0;l<u.length;l++)t.splice(l,0,u[l]);o.err="mp3 fix error: \u5df2\u8fd8\u539f\uff0c\u9519\u8bef\u539f\u56e0\u4e0d\u660e"}var h=o.trimFix={};h.remove=a,h.removeDuration=Math.round(a*o.frameDurationFloat),h.duration=Math.round(8*e/o.bitRate)}return o}},d=function(e,r){var o="MP3 Info: ";(e.sampleRate&&e.sampleRate!=r.sampleRate||e.bitRate&&e.bitRate!=r.bitRate)&&(t.CLog(o+n("uY9i::\u548c\u8bbe\u7f6e\u7684\u4e0d\u5339\u914d{1}\uff0c\u5df2\u66f4\u65b0\u6210{2}",0,"set:"+r.bitRate+"kbps "+r.sampleRate+"hz","set:"+e.bitRate+"kbps "+e.sampleRate+"hz"),3,r),r.sampleRate=e.sampleRate,r.bitRate=e.bitRate);var i=e.trimFix;i?(o+=n("iMSm::Fix\u79fb\u9664{1}\u5e27",0,i.remove)+" "+i.removeDuration+"ms -> "+i.duration+"ms",2<i.remove&&(e.err=(e.err?e.err+", ":"")+n("b9zm::\u79fb\u9664\u5e27\u6570\u8fc7\u591a"))):o+=(e.duration||"-")+"ms",e.err?t.CLog(o,1,e.err,e):t.CLog(o,e)}}(n,0,n.i18n.$T,e)}(),function(t){"use strict";function e(){var t=function(t){return Math.log(t)/Math.log(10)},n=function(t){throw new Error("abort("+t+")")};function r(t){return new Int8Array(t)}function o(t){return new Int32Array(t)}function i(t){return new Float32Array(t)}function a(t){if(1==t.length)return i(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(a(t));return n}function s(t){if(1==t.length)return o(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(s(t));return n}function c(t){if(1==t.length)return function(t){return new Int16Array(t)}(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(c(t));return n}function u(t){if(1==t.length)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(u(t));return n}var l=function(t,e,n,r){if(2==arguments.length)for(var o=0;o<t.length;o++)t[o]=e;else for(o=e;o<n;o++)t[o]=r},f=function(t,e,n,r,o){for(var i=e+o;e<i;)n[r++]=t[e++]},h={};function d(t){this.ordinal=t}h.SQRT2=1.4142135623730951,h.FAST_LOG10=function(e){return t(e)},h.FAST_LOG10_X=function(e,n){return t(e)*n},d.short_block_allowed=new d(0),d.short_block_coupled=new d(1),d.short_block_dispensed=new d(2),d.short_block_forced=new d(3);var p={};function v(t){this.ordinal=t}function g(t){var e=t;this.ordinal=function(){return e}}function m(){var t=null;function e(t){this.bits=0|t}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function i(t,e,n,r,o,i){var a=.5946/e;for(t>>=1;0!=t--;)o[i++]=a>n[r++]?0:1,o[i++]=a>n[r++]?0:1}function a(e,n,r,o,i,a){var s=(e>>=1)%2;for(e>>=1;0!=e--;){var c,u,l,f,h,d,p,v;c=r[o++]*n,u=r[o++]*n,h=0|c,l=r[o++]*n,d=0|u,f=r[o++]*n,p=0|l,c+=t.adj43[h],v=0|f,u+=t.adj43[d],i[a++]=0|c,l+=t.adj43[p],i[a++]=0|u,f+=t.adj43[v],i[a++]=0|l,i[a++]=0|f}0!=s&&(h=0|(c=r[o++]*n),d=0|(u=r[o++]*n),c+=t.adj43[h],u+=t.adj43[d],i[a++]=0|c,i[a++]=0|u)}var s=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function c(t,e,r,o){var i=function(t,e,n){var r=0,o=0;do{var i=t[e++],a=t[e++];r<i&&(r=i),o<a&&(o=a)}while(e<n);return r<o&&(r=o),r}(t,e,r);switch(i){case 0:return i;case 1:return function(t,e,n,r){var o=0,i=x.ht[1].hlen;do{var a=2*t[e+0]+t[e+1];e+=2,o+=i[a]}while(e<n);return r.bits+=o,1}(t,e,r,o);case 2:case 3:return function(t,e,n,r,o){var i,a,s=0,c=x.ht[r].xlen;a=2==r?x.table23:x.table56;do{var u=t[e+0]*c+t[e+1];e+=2,s+=a[u]}while(e<n);return(i=65535&s)<(s>>=16)&&(s=i,r++),o.bits+=s,r}(t,e,r,s[i-1],o);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(t,e,n,r,o){var i=0,a=0,s=0,c=x.ht[r].xlen,u=x.ht[r].hlen,l=x.ht[r+1].hlen,f=x.ht[r+2].hlen;do{var h=t[e+0]*c+t[e+1];e+=2,i+=u[h],a+=l[h],s+=f[h]}while(e<n);var d=r;return a<i&&(i=a,d++),s<i&&(i=s,d=r+2),o.bits+=i,d}(t,e,r,s[i-1],o);default:var a,c;for(k.IXMAX_VAL<i&&n(),i-=15,a=24;a<32&&!(x.ht[a].linmax>=i);a++);for(c=a-8;c<24&&!(x.ht[c].linmax>=i);c++);return function(t,e,n,r,o,i){var a,s=65536*x.ht[r].xlen+x.ht[o].xlen,c=0;do{var u=t[e++],l=t[e++];0!=u&&(14<u&&(u=15,c+=s),u*=16),0!=l&&(14<l&&(l=15,c+=s),u+=l),c+=x.largetbl[u]}while(e<n);return(a=65535&c)<(c>>=16)&&(c=a,r=o),i.bits+=c,r}(t,e,r,c,a,o)}}function u(t,n,r,o,i,a,s,u){for(var l=n.big_values,f=2;f<A.SBMAX_l+1;f++){var h=t.scalefac_band.l[f];if(l<=h)break;var d=i[f-2]+n.count1bits;if(r.part2_3_length<=d)break;var p=new e(d),v=c(o,h,l,p);d=p.bits,r.part2_3_length<=d||(r.assign(n),r.part2_3_length=d,r.region0_count=a[f-2],r.region1_count=f-2-a[f-2],r.table_select[0]=s[f-2],r.table_select[1]=u[f-2],r.table_select[2]=v)}}this.noquant_count_bits=function(t,r,o){var i=r.l3_enc,a=Math.min(576,r.max_nonzero_coeff+2>>1<<1);for(null!=o&&(o.sfb_count1=0);1<a&&0==(i[a-1]|i[a-2]);a-=2);r.count1=a;for(var s=0,u=0;3<a;a-=4){var l;if(1<(2147483647&(i[a-1]|i[a-2]|i[a-3]|i[a-4])))break;l=2*(2*(2*i[a-4]+i[a-3])+i[a-2])+i[a-1],s+=x.t32l[l],u+=x.t33l[l]}var f=s;if(r.count1table_select=0,u<s&&(f=u,r.count1table_select=1),r.count1bits=f,0==(r.big_values=a))return f;if(r.block_type==A.SHORT_TYPE)(s=3*t.scalefac_band.s[3])>r.big_values&&(s=r.big_values),u=r.big_values;else if(r.block_type==A.NORM_TYPE){if(s=r.region0_count=t.bv_scf[a-2],u=r.region1_count=t.bv_scf[a-1],u=t.scalefac_band.l[s+u+2],s=t.scalefac_band.l[s+1],u<a){var h=new e(f);r.table_select[2]=c(i,u,a,h),f=h.bits}}else r.region0_count=7,r.region1_count=A.SBMAX_l-1-7-1,(u=a)<(s=t.scalefac_band.l[8])&&(s=u);if(s=Math.min(s,a),u=Math.min(u,a),0<s){h=new e(f);r.table_select[0]=c(i,0,s,h),f=h.bits}if(s<u){h=new e(f);r.table_select[1]=c(i,s,u,h),f=h.bits}if(2==t.use_best_huffman&&n(),null!=o&&r.block_type==A.NORM_TYPE){for(var d=0;t.scalefac_band.l[d]<r.big_values;)d++;o.sfb_count1=d}return f},this.count_bits=function(e,r,o,s){var c=o.l3_enc,u=k.IXMAX_VAL/t.IPOW20(o.global_gain);return o.xrpow_max>u?k.LARGE_BITS:(function(e,r,o,s,c){var u,f,h,d=0,p=0,v=0,g=0,m=r,y=0,b=m,_=0,w=e,x=0;for(h=null!=c&&s.global_gain==c.global_gain,f=s.block_type==A.SHORT_TYPE?38:21,u=0;u<=f;u++){var S=-1;if((h||s.block_type==A.NORM_TYPE)&&(S=s.global_gain-(s.scalefac[u]+(0!=s.preflag?t.pretab[u]:0)<<s.scalefac_scale+1)-8*s.subblock_gain[s.window[u]]),h&&c.step[u]==S)0!=p&&(a(p,o,w,x,b,_),p=0),0!=v&&n();else{var C,O=s.width[u];if(d+s.width[u]>s.max_nonzero_coeff&&(C=s.max_nonzero_coeff-d+1,l(r,s.max_nonzero_coeff,576,0),(O=C)<0&&(O=0),u=f+1),0==p&&0==v&&(b=m,_=y,w=e,x=g),null!=c&&0<c.sfb_count1&&u>=c.sfb_count1&&0<c.step[u]&&S>=c.step[u]?(0!=p&&(a(p,o,w,x,b,_),p=0,b=m,_=y,w=e,x=g),v+=O):(0!=v&&(i(v,o,w,x,b,_),v=0,b=m,_=y,w=e,x=g),p+=O),O<=0){0!=v&&n(),0!=p&&n();break}}u<=f&&(y+=s.width[u],g+=s.width[u],d+=s.width[u])}0!=p&&(a(p,o,w,x,b,_),p=0),0!=v&&n()}(r,c,t.IPOW20(o.global_gain),o,s),0!=(2&e.substep_shaping)&&n(),this.noquant_count_bits(e,o,s))},this.best_huffman_divide=function(t,n){var r=new M,i=n.l3_enc,a=o(23),s=o(23),l=o(23),f=o(23);if(n.block_type!=A.SHORT_TYPE||1!=t.mode_gr){r.assign(n),n.block_type==A.NORM_TYPE&&(function(t,n,r,o,i,a,s){for(var u=n.big_values,l=0;l<=22;l++)o[l]=k.LARGE_BITS;for(l=0;l<16;l++){var f=t.scalefac_band.l[l+1];if(u<=f)break;var h=0,d=new e(h),p=c(r,0,f,d);h=d.bits;for(var v=0;v<8;v++){var g=t.scalefac_band.l[l+v+2];if(u<=g)break;var m=h,y=c(r,f,g,d=new e(m));m=d.bits,o[l+v]>m&&(o[l+v]=m,i[l+v]=l,a[l+v]=p,s[l+v]=y)}}}(t,n,i,a,s,l,f),u(t,r,n,i,a,s,l,f));var h=r.big_values;if(!(0==h||1<(i[h-2]|i[h-1])||576<(h=n.count1+2))){r.assign(n),r.count1=h;for(var d=0,p=0;h>r.big_values;h-=4){var v=2*(2*(2*i[h-4]+i[h-3])+i[h-2])+i[h-1];d+=x.t32l[v],p+=x.t33l[v]}if(r.big_values=h,r.count1table_select=0,p<d&&(d=p,r.count1table_select=1),r.count1bits=d,r.block_type==A.NORM_TYPE)u(t,r,n,i,a,s,l,f);else{if(r.part2_3_length=d,h<(d=t.scalefac_band.l[8])&&(d=h),0<d){var g=new e(r.part2_3_length);r.table_select[0]=c(i,0,d,g),r.part2_3_length=g.bits}if(d<h){g=new e(r.part2_3_length);r.table_select[1]=c(i,d,h,g),r.part2_3_length=g.bits}n.part2_3_length>r.part2_3_length&&n.assign(r)}}}};var f=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],h=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],d=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],p=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];m.slen1_tab=d,m.slen2_tab=p,this.best_scalefac_store=function(e,n,r,o){var i,a,s,c,u=o.tt[n][r],l=0;for(i=s=0;i<u.sfbmax;i++){var v=u.width[i];for(s+=v,c=-v;c<0&&0==u.l3_enc[c+s];c++);0==c&&(u.scalefac[i]=l=-2)}if(0==u.scalefac_scale&&0==u.preflag){var g=0;for(i=0;i<u.sfbmax;i++)0<u.scalefac[i]&&(g|=u.scalefac[i]);if(0==(1&g)&&0!=g){for(i=0;i<u.sfbmax;i++)0<u.scalefac[i]&&(u.scalefac[i]>>=1);u.scalefac_scale=l=1}}if(0==u.preflag&&u.block_type!=A.SHORT_TYPE&&2==e.mode_gr){for(i=11;i<A.SBPSY_l&&!(u.scalefac[i]<t.pretab[i]&&-2!=u.scalefac[i]);i++);if(i==A.SBPSY_l){for(i=11;i<A.SBPSY_l;i++)0<u.scalefac[i]&&(u.scalefac[i]-=t.pretab[i]);u.preflag=l=1}}for(a=0;a<4;a++)o.scfsi[r][a]=0;for(2==e.mode_gr&&1==n&&o.tt[0][r].block_type!=A.SHORT_TYPE&&o.tt[1][r].block_type!=A.SHORT_TYPE&&(function(t,e){for(var n,r=e.tt[1][t],o=e.tt[0][t],i=0;i<x.scfsi_band.length-1;i++){for(n=x.scfsi_band[i];n<x.scfsi_band[i+1]&&!(o.scalefac[n]!=r.scalefac[n]&&0<=r.scalefac[n]);n++);if(n==x.scfsi_band[i+1]){for(n=x.scfsi_band[i];n<x.scfsi_band[i+1];n++)r.scalefac[n]=-1;e.scfsi[t][i]=1}}var a=0,s=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(s++,a<r.scalefac[n]&&(a=r.scalefac[n]));for(var c=0,u=0;n<A.SBPSY_l;n++)-1!=r.scalefac[n]&&(u++,c<r.scalefac[n]&&(c=r.scalefac[n]));for(i=0;i<16;i++)if(a<f[i]&&c<h[i]){var l=d[i]*s+p[i]*u;r.part2_length>l&&(r.part2_length=l,r.scalefac_compress=i)}}(r,o),l=0),i=0;i<u.sfbmax;i++)-2==u.scalefac[i]&&(u.scalefac[i]=0);0!=l&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var v=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],g=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],y=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var n,r,o,i=0,a=0,s=e.scalefac;if(e.block_type==A.SHORT_TYPE)o=v,0!=e.mixed_block_flag&&(o=g);else if(o=y,0==e.preflag){for(r=11;r<A.SBPSY_l&&!(s[r]<t.pretab[r]);r++);if(r==A.SBPSY_l)for(e.preflag=1,r=11;r<A.SBPSY_l;r++)s[r]-=t.pretab[r]}for(r=0;r<e.sfbdivide;r++)i<s[r]&&(i=s[r]);for(;r<e.sfbmax;r++)a<s[r]&&(a=s[r]);for(e.part2_length=k.LARGE_BITS,n=0;n<16;n++)i<f[n]&&a<h[n]&&e.part2_length>o[n]&&(e.part2_length=o[n],e.scalefac_compress=n);return e.part2_length==k.LARGE_BITS};var b=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,n){var r,i,a,s,c,u,l,f,h=o(4),d=n.scalefac;for(r=0!=n.preflag?2:0,l=0;l<4;l++)h[l]=0;if(n.block_type==A.SHORT_TYPE){i=1;var p=t.nr_of_sfb_block[r][i];for(a=f=0;a<4;a++)for(s=p[a]/3,l=0;l<s;l++,f++)for(c=0;c<3;c++)d[3*f+c]>h[a]&&(h[a]=d[3*f+c])}else{i=0;p=t.nr_of_sfb_block[r][i];for(a=f=0;a<4;a++)for(s=p[a],l=0;l<s;l++,f++)d[f]>h[a]&&(h[a]=d[f])}for(u=!1,a=0;a<4;a++)h[a]>b[r][a]&&(u=!0);if(!u){var v,g,m,y;for(n.sfb_partition_table=t.nr_of_sfb_block[r][i],a=0;a<4;a++)n.slen[a]=_[h[a]];switch(v=n.slen[0],g=n.slen[1],m=n.slen[2],y=n.slen[3],r){case 0:n.scalefac_compress=(5*v+g<<4)+(m<<2)+y;break;case 1:n.scalefac_compress=400+(5*v+g<<2)+m;break;case 2:n.scalefac_compress=500+3*v+g}}if(!u)for(n.part2_length=0,a=0;a<4;a++)n.part2_length+=n.slen[a]*n.sfb_partition_table[a];return u};var _=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(t){for(var e=2;e<=576;e+=2){for(var n,o=0;t.scalefac_band.l[++o]<e;);for(n=r[o][0];t.scalefac_band.l[n+1]>e;)n--;for(n<0&&(n=r[o][0]),t.bv_scf[e-2]=n,n=r[o][1];t.scalefac_band.l[n+t.bv_scf[e-2]+2]>e;)n--;n<0&&(n=r[o][1]),t.bv_scf[e-1]=n}}}function y(){}function b(){this.setModules=function(t,e,n){};var t=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];this.updateMusicCRC=function(e,n,r,o){for(var i=0;i<o;++i)e[0]=(a=n[r+i],s=(s=e[0])>>8^t[255&(s^a)]);var a,s}}function _(){var t=this,e=null,i=null;this.setModules=function(t,n,r,o){e=r,i=o};var a=null,s=0,c=0,u=0;function h(t,e,n){for(;0<n;){var r;0==u&&(u=8,c++,t.header[t.w_ptr].write_timing==s&&(f((o=t).header[o.w_ptr].buf,0,a,c,o.sideinfo_len),c+=o.sideinfo_len,s+=8*o.sideinfo_len,o.w_ptr=o.w_ptr+1&P.MAX_HEADER_BUF-1),a[c]=0),n-=r=Math.min(n,u),u-=r,a[c]|=e>>n<<u,s+=r}var o}function d(t,n){var r,o=t.internal_flags;if(8<=n&&(h(o,76,8),n-=8),8<=n&&(h(o,65,8),n-=8),8<=n&&(h(o,77,8),n-=8),8<=n&&(h(o,69,8),n-=8),32<=n){var i=e.getLameShortVersion();if(32<=n)for(r=0;r<i.length&&8<=n;++r)n-=8,h(o,i.charCodeAt(r),8)}for(;1<=n;n-=1)h(o,o.ancillary_flag,1),o.ancillary_flag^=t.disable_reservoir?0:1}function p(t,e,n){for(var r=t.header[t.h_ptr].ptr;0<n;){var o=Math.min(n,8-(7&r));n-=o,t.header[t.h_ptr].buf[r>>3]|=e>>n<<8-(7&r)-o,r+=o}t.header[t.h_ptr].ptr=r}function v(t,e){var n,r=x.ht[e.count1table_select+32],o=0,i=e.big_values,a=e.big_values;for(n=(e.count1-e.big_values)/4;0<n;--n){var s=0,c=0;0!=e.l3_enc[i+0]&&(c+=8,e.xr[a+0]<0&&s++),0!=e.l3_enc[i+1]&&(c+=4,s*=2,e.xr[a+1]<0&&s++),0!=e.l3_enc[i+2]&&(c+=2,s*=2,e.xr[a+2]<0&&s++),0!=e.l3_enc[i+3]&&(c++,s*=2,e.xr[a+3]<0&&s++),i+=4,a+=4,h(t,s+r.table[c],r.hlen[c]),o+=r.hlen[c]}return o}function g(t,e,n,r,o){var i=x.ht[e],a=0;if(0==e)return a;for(var s=n;s<r;s+=2){var c=0,u=0,l=i.xlen,f=i.xlen,d=0,p=o.l3_enc[s],v=o.l3_enc[s+1];if(0!=p&&(o.xr[s]<0&&d++,c--),15<e){if(14<p)d|=p-15<<1,u=l,p=15;if(14<v)d<<=l,d|=v-15,u+=l,v=15;f=16}0!=v&&(d<<=1,o.xr[s+1]<0&&d++,c--),p=p*f+v,u-=c,c+=i.hlen[p],h(t,i.table[p],c),h(t,d,u),a+=c+u}return a}function y(t,e){var n=3*t.scalefac_band.s[3];return n>e.big_values&&(n=e.big_values),g(t,e.table_select[0],0,n,e)+g(t,e.table_select[1],n,e.big_values,e)}function b(t,e){var n,r,o,i;n=e.big_values;var a=e.region0_count+1;return o=t.scalefac_band.l[a],a+=e.region1_count+1,n<o&&(o=n),n<(i=t.scalefac_band.l[a])&&(i=n),r=g(t,e.table_select[0],0,o,e),(r+=g(t,e.table_select[1],o,i,e))+g(t,e.table_select[2],i,n,e)}function _(){this.total=0}function w(e,r){var o,i,a,u=e.internal_flags;return u.w_ptr,-1==(a=u.h_ptr-1)&&(a=P.MAX_HEADER_BUF-1),o=u.header[a].write_timing-s,0<=(r.total=o)&&n(),o+=i=t.getframebits(e),r.total+=i,r.total%8!=0?r.total=1+r.total/8:r.total=r.total/8,r.total+=c+1,o}this.getframebits=function(t){var e,n=t.internal_flags;return e=0!=n.bitrate_index?x.bitrate_table[t.version][n.bitrate_index]:t.brate,8*(0|72e3*(t.version+1)*e/t.out_samplerate+n.padding)},this.flush_bitstream=function(t){var e,r,o=t.internal_flags,i=o.h_ptr-1;-1==i&&(i=P.MAX_HEADER_BUF-1),e=o.l3_side,(r=w(t,new _))<0||(d(t,r),o.ResvSize=0,e.main_data_begin=0,o.findReplayGain&&n(),o.findPeakSample&&n())},this.format_bitstream=function(t){var e,r=t.internal_flags;e=r.l3_side;var o=this.getframebits(t);d(t,e.resvDrain_pre),function(t,e){var r,o,i,a=t.internal_flags;if(r=a.l3_side,a.header[a.h_ptr].ptr=0,l(a.header[a.h_ptr].buf,0,a.sideinfo_len,0),t.out_samplerate<16e3?p(a,4094,12):p(a,4095,12),p(a,t.version,1),p(a,1,2),p(a,t.error_protection?0:1,1),p(a,a.bitrate_index,4),p(a,a.samplerate_index,2),p(a,a.padding,1),p(a,t.extension,1),p(a,t.mode.ordinal(),2),p(a,a.mode_ext,2),p(a,t.copyright,1),p(a,t.original,1),p(a,t.emphasis,2),t.error_protection&&p(a,0,16),1==t.version){for(p(a,r.main_data_begin,9),2==a.channels_out?p(a,r.private_bits,3):p(a,r.private_bits,5),i=0;i<a.channels_out;i++){var s;for(s=0;s<4;s++)p(a,r.scfsi[i][s],1)}for(o=0;o<2;o++)for(i=0;i<a.channels_out;i++){p(a,(c=r.tt[o][i]).part2_3_length+c.part2_length,12),p(a,c.big_values/2,9),p(a,c.global_gain,8),p(a,c.scalefac_compress,4),c.block_type!=A.NORM_TYPE?(p(a,1,1),p(a,c.block_type,2),p(a,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),p(a,c.subblock_gain[0],3),p(a,c.subblock_gain[1],3),p(a,c.subblock_gain[2],3)):(p(a,0,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),p(a,c.table_select[2],5),p(a,c.region0_count,4),p(a,c.region1_count,3)),p(a,c.preflag,1),p(a,c.scalefac_scale,1),p(a,c.count1table_select,1)}}else for(p(a,r.main_data_begin,8),p(a,r.private_bits,a.channels_out),i=o=0;i<a.channels_out;i++){var c;p(a,(c=r.tt[o][i]).part2_3_length+c.part2_length,12),p(a,c.big_values/2,9),p(a,c.global_gain,8),p(a,c.scalefac_compress,9),c.block_type!=A.NORM_TYPE?(p(a,1,1),p(a,c.block_type,2),p(a,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),p(a,c.subblock_gain[0],3),p(a,c.subblock_gain[1],3),p(a,c.subblock_gain[2],3)):(p(a,0,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),p(a,c.table_select[2],5),p(a,c.region0_count,4),p(a,c.region1_count,3)),p(a,c.scalefac_scale,1),p(a,c.count1table_select,1)}t.error_protection&&n();var u=a.h_ptr;a.h_ptr=u+1&P.MAX_HEADER_BUF-1,a.header[a.h_ptr].write_timing=a.header[u].write_timing+e,a.h_ptr,a.w_ptr}(t,o);var i=8*r.sideinfo_len;if(i+=function(t){var e,n,r,o,i=0,a=t.internal_flags,s=a.l3_side;if(1==t.version)for(e=0;e<2;e++)for(n=0;n<a.channels_out;n++){var c=s.tt[e][n],u=m.slen1_tab[c.scalefac_compress],l=m.slen2_tab[c.scalefac_compress];for(r=o=0;r<c.sfbdivide;r++)-1!=c.scalefac[r]&&(h(a,c.scalefac[r],u),o+=u);for(;r<c.sfbmax;r++)-1!=c.scalefac[r]&&(h(a,c.scalefac[r],l),o+=l);c.block_type==A.SHORT_TYPE?o+=y(a,c):o+=b(a,c),i+=o+=v(a,c)}else for(n=e=0;n<a.channels_out;n++){var f,d,p=0;if(d=r=o=0,(c=s.tt[e][n]).block_type==A.SHORT_TYPE){for(;d<4;d++){var g=c.sfb_partition_table[d]/3,_=c.slen[d];for(f=0;f<g;f++,r++)h(a,Math.max(c.scalefac[3*r+0],0),_),h(a,Math.max(c.scalefac[3*r+1],0),_),h(a,Math.max(c.scalefac[3*r+2],0),_),p+=3*_}o+=y(a,c)}else{for(;d<4;d++){g=c.sfb_partition_table[d],_=c.slen[d];for(f=0;f<g;f++,r++)h(a,Math.max(c.scalefac[r],0),_),p+=_}o+=b(a,c)}i+=p+(o+=v(a,c))}return i}(t),d(t,e.resvDrain_post),i+=e.resvDrain_post,e.main_data_begin+=(o-i)/8,w(t,new _),r.ResvSize,8*e.main_data_begin!=r.ResvSize&&(r.ResvSize=8*e.main_data_begin),1e9<s){var a;for(a=0;a<P.MAX_HEADER_BUF;++a)r.header[a].write_timing-=s;s=0}return 0},this.copy_buffer=function(t,e,r,s,l){var h=c+1;if(h<=0)return 0;if(0!=s&&s<h)return-1;if(f(a,0,e,r,h),c=-1,(u=0)!=l){var d=o(1);d[0]=t.nMusicCRC,i.updateMusicCRC(d,e,r,h),t.nMusicCRC=d[0],0<h&&(t.VBR_seek_table.nBytesWritten+=h),t.decode_on_the_fly&&n()}return h},this.init_bit_stream_w=function(t){a=r(N.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,c=-1,s=u=0}}function w(t,e,n,r){this.xlen=t,this.linmax=e,this.table=n,this.hlen=r}p.MAX_VALUE=34028235e31,v.vbr_off=new v(0),v.vbr_mt=new v(1),v.vbr_rh=new v(2),v.vbr_abr=new v(3),v.vbr_mtrh=new v(4),v.vbr_default=v.vbr_mtrh,g.STEREO=new g(0),g.JOINT_STEREO=new g(1),g.DUAL_CHANNEL=new g(2),g.MONO=new g(3),g.NOT_SET=new g(4),y.STEPS_per_dB=100,y.MAX_dB=120,y.GAIN_NOT_ENOUGH_SAMPLES=-24601,y.GAIN_ANALYSIS_ERROR=0,y.GAIN_ANALYSIS_OK=1,y.INIT_GAIN_ANALYSIS_ERROR=0,y.INIT_GAIN_ANALYSIS_OK=1,y.MAX_ORDER=y.YULE_ORDER=10,y.MAX_SAMPLES_PER_WINDOW=(y.MAX_SAMP_FREQ=48e3)*(y.RMS_WINDOW_TIME_NUMERATOR=1)/(y.RMS_WINDOW_TIME_DENOMINATOR=20)+1,b.NUMTOCENTRIES=100,b.MAXFRAMESIZE=2880,_.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=1e-6*Math.abs(t):Math.abs(t-e)<=1e-6*Math.abs(e)},_.NEQ=function(t,e){return!_.EQ(t,e)};var x={};function S(t){this.bits=t}function C(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function O(t,e,n,r){this.l=o(1+A.SBMAX_l),this.s=o(1+A.SBMAX_s),this.psfb21=o(1+A.PSFB21),this.psfb12=o(1+A.PSFB12);var i=this.l,a=this.s;4==arguments.length&&(this.arrL=t,this.arrS=e,this.arr21=n,this.arr12=r,f(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),f(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),f(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),f(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function k(){var e=null,r=null,a=null;this.setModules=function(t,n,o){e=t,r=n,a=o},this.IPOW20=function(t){return g[t]};var s=2220446049250313e-31,c=k.IXMAX_VAL+2,u=k.Q_MAX,l=k.Q_MAX2;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var f=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=f,this.sfBandIndex=[new O([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new O([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var d=i(u+l+1),g=i(u),m=i(c),y=i(c);function b(t,e){var n=a.ATHformula(e,t);return n-=100,Math.pow(10,n/10+t.ATHlower)}function w(t){this.s=t}this.adj43=y,this.iteration_init=function(r){var o,i=r.internal_flags,a=i.l3_side;if(0==i.iteration_init_init){for(i.iteration_init_init=1,a.main_data_begin=0,function(e){for(var r=e.internal_flags.ATH.l,o=e.internal_flags.ATH.psfb21,i=e.internal_flags.ATH.s,a=e.internal_flags.ATH.psfb12,s=e.internal_flags,c=e.out_samplerate,u=0;u<A.SBMAX_l;u++){var l=s.scalefac_band.l[u],f=s.scalefac_band.l[u+1];r[u]=p.MAX_VALUE;for(var h=l;h<f;h++){var d=b(e,h*c/1152);r[u]=Math.min(r[u],d)}}for(u=0;u<A.PSFB21;u++){l=s.scalefac_band.psfb21[u],f=s.scalefac_band.psfb21[u+1];o[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/1152);o[u]=Math.min(o[u],d)}}for(u=0;u<A.SBMAX_s;u++){l=s.scalefac_band.s[u],f=s.scalefac_band.s[u+1];i[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/384);i[u]=Math.min(i[u],d)}i[u]*=s.scalefac_band.s[u+1]-s.scalefac_band.s[u]}for(u=0;u<A.PSFB12;u++){l=s.scalefac_band.psfb12[u],f=s.scalefac_band.psfb12[u+1];a[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/384);a[u]=Math.min(a[u],d)}a[u]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}e.noATH&&n(),s.ATH.floor=10*t(b(e,-1))}(r),m[0]=0,o=1;o<c;o++)m[o]=Math.pow(o,4/3);for(o=0;o<c-1;o++)y[o]=o+1-Math.pow(.5*(m[o]+m[o+1]),.75);for(y[o]=.5,o=0;o<u;o++)g[o]=Math.pow(2,-.1875*(o-210));for(o=0;o<=u+l;o++)d[o]=Math.pow(2,.25*(o-210-l));var s,f,h,v;for(e.huffman_init(i),32<=(o=r.exp_nspsytune>>2&63)&&(o-=64),s=Math.pow(10,o/4/10),32<=(o=r.exp_nspsytune>>8&63)&&(o-=64),f=Math.pow(10,o/4/10),32<=(o=r.exp_nspsytune>>14&63)&&(o-=64),h=Math.pow(10,o/4/10),32<=(o=r.exp_nspsytune>>20&63)&&(o-=64),v=h*Math.pow(10,o/4/10),o=0;o<A.SBMAX_l;o++)_=o<=6?s:o<=13?f:o<=20?h:v,i.nsPsy.longfact[o]=_;for(o=0;o<A.SBMAX_s;o++){var _;_=o<=5?s:o<=10?f:o<=11?h:v,i.nsPsy.shortfact[o]=_}}},this.on_pe=function(t,e,i,a,s,c){var u,l,f=t.internal_flags,h=0,d=o(2),p=new S(h),v=r.ResvMaxBits(t,a,p,c),g=(h=p.bits)+v;for(P.MAX_BITS_PER_GRANULE<g&&(g=P.MAX_BITS_PER_GRANULE),l=u=0;l<f.channels_out;++l)i[l]=Math.min(P.MAX_BITS_PER_CHANNEL,h/f.channels_out),d[l]=0|i[l]*e[s][l]/700-i[l],d[l]>3*a/4&&(d[l]=3*a/4),d[l]<0&&(d[l]=0),d[l]+i[l]>P.MAX_BITS_PER_CHANNEL&&(d[l]=Math.max(0,P.MAX_BITS_PER_CHANNEL-i[l])),u+=d[l];if(v<u)for(l=0;l<f.channels_out;++l)d[l]=v*d[l]/u;for(l=0;l<f.channels_out;++l)i[l]+=d[l],v-=d[l];for(l=u=0;l<f.channels_out;++l)u+=i[l];return P.MAX_BITS_PER_GRANULE<u&&n(),g},this.athAdjust=function(t,e,n){var r=90.30873362,o=h.FAST_LOG10_X(e,10),i=t*t,a=0;return o-=n,1e-20<i&&(a=1+h.FAST_LOG10_X(i,10/r)),a<0&&(a=0),o*=a,o+=n+r-94.82444863,Math.pow(10,.1*o)},this.calc_xmin=function(t,e,r,o){var i,a=0,c=t.internal_flags,u=0,l=0,f=c.ATH,h=r.xr,d=t.VBR==v.vbr_mtrh?1:0,p=c.masking_lower;for(t.VBR!=v.vbr_mtrh&&t.VBR!=v.vbr_mt||(p=1),i=0;i<r.psy_lmax;i++){for(C=(S=t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?athAdjust(f.adjust,f.l[i],f.floor):f.adjust*f.l[i])/(b=r.width[i]),O=s,j=b>>1,E=0;E+=I=h[u]*h[u],O+=I<C?I:C,E+=T=h[++u]*h[u],O+=T<C?T:C,u++,0<--j;);if(S<E&&l++,i==A.SBPSY_l&&n(),0!=d&&(S=O),!t.ATHonly)0<(M=e.en.l[i])&&(k=E*e.thm.l[i]*p/M,0!=d&&(k*=c.nsPsy.longfact[i]),S<k&&(S=k));o[a++]=0!=d?S:S*c.nsPsy.longfact[i]}var g=575;if(r.block_type!=A.SHORT_TYPE)for(var m=576;0!=m--&&_.EQ(h[m],0);)g=m;r.max_nonzero_coeff=g;for(var y=r.sfb_smin;i<r.psymax;y++,i+=3){var b,w,x;for(x=t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?athAdjust(f.adjust,f.s[y],f.floor):f.adjust*f.s[y],b=r.width[i],w=0;w<3;w++){var S,C,O,k,M,E=0,j=b>>1;C=x/b,O=s;do{var I,T;E+=I=h[u]*h[u],O+=I<C?I:C,E+=T=h[++u]*h[u],O+=T<C?T:C,u++}while(0<--j);if(x<E&&l++,y==A.SBPSY_s&&n(),S=0!=d?O:x,!t.ATHonly&&!t.ATHshort)0<(M=e.en.s[y][w])&&(k=E*e.thm.s[y][w]*p/M,0!=d&&(k*=c.nsPsy.shortfact[y]),S<k&&(S=k));o[a++]=0!=d?S:S*c.nsPsy.shortfact[y]}t.useTemporal&&(o[a-3]>o[a-3+1]&&(o[a-3+1]+=(o[a-3]-o[a-3+1])*c.decay),o[a-3+1]>o[a-3+2]&&(o[a-3+2]+=(o[a-3+1]-o[a-3+2])*c.decay))}return l},this.calc_noise_core=function(t,e,n,r){var o=0,a=e.s,s=t.l3_enc;if(a>t.count1)for(;0!=n--;)u=t.xr[a],a++,o+=u*u,u=t.xr[a],a++,o+=u*u;else if(a>t.big_values){var c=i(2);for(c[0]=0,c[1]=r;0!=n--;)u=Math.abs(t.xr[a])-c[s[a]],a++,o+=u*u,u=Math.abs(t.xr[a])-c[s[a]],a++,o+=u*u}else for(;0!=n--;){var u;u=Math.abs(t.xr[a])-m[s[a]]*r,a++,o+=u*u,u=Math.abs(t.xr[a])-m[s[a]]*r,a++,o+=u*u}return e.s=a,o},this.calc_noise=function(t,e,n,r,o){var i,a,s=0,c=0,u=0,l=0,p=0,v=-20,g=0,m=t.scalefac,y=0;for(r.over_SSD=0,i=0;i<t.psymax;i++){var b,_=t.global_gain-(m[y++]+(0!=t.preflag?f[i]:0)<<t.scalefac_scale+1)-8*t.subblock_gain[t.window[i]],x=0;if(null!=o&&o.step[i]==_)x=o.noise[i],g+=t.width[i],n[s++]=x/e[c++],x=o.noise_log[i];else{var S,C=d[_+k.Q_MAX2];a=t.width[i]>>1,g+t.width[i]>t.max_nonzero_coeff&&(a=0<(S=t.max_nonzero_coeff-g+1)?S>>1:0);var O=new w(g);x=this.calc_noise_core(t,O,a,C),g=O.s,null!=o&&(o.step[i]=_,o.noise[i]=x),x=n[s++]=x/e[c++],x=h.FAST_LOG10(Math.max(x,1e-20)),null!=o&&(o.noise_log[i]=x)}null!=o&&(o.global_gain=t.global_gain),p+=x,0<x&&(b=Math.max(0|10*x+.5,1),r.over_SSD+=b*b,u++,l+=x),v=Math.max(v,x)}return r.over_count=u,r.tot_noise=p,r.over_noise=l,r.max_noise=v,u}}function M(){this.xr=i(576),this.l3_enc=o(576),this.scalefac=o(E.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=o(3),this.subblock_gain=o(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=o(E.SFBMAX),this.window=o(E.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=o(4),this.max_nonzero_coeff=0;var t=this;function e(t){return new Int32Array(t)}this.assign=function(n){var r;t.xr=(r=n.xr,new Float32Array(r)),t.l3_enc=e(n.l3_enc),t.scalefac=e(n.scalefac),t.xrpow_max=n.xrpow_max,t.part2_3_length=n.part2_3_length,t.big_values=n.big_values,t.count1=n.count1,t.global_gain=n.global_gain,t.scalefac_compress=n.scalefac_compress,t.block_type=n.block_type,t.mixed_block_flag=n.mixed_block_flag,t.table_select=e(n.table_select),t.subblock_gain=e(n.subblock_gain),t.region0_count=n.region0_count,t.region1_count=n.region1_count,t.preflag=n.preflag,t.scalefac_scale=n.scalefac_scale,t.count1table_select=n.count1table_select,t.part2_length=n.part2_length,t.sfb_lmax=n.sfb_lmax,t.sfb_smin=n.sfb_smin,t.psy_lmax=n.psy_lmax,t.sfbmax=n.sfbmax,t.psymax=n.psymax,t.sfbdivide=n.sfbdivide,t.width=e(n.width),t.window=e(n.window),t.count1bits=n.count1bits,t.sfb_partition_table=n.sfb_partition_table.slice(0),t.slen=e(n.slen),t.max_nonzero_coeff=n.max_nonzero_coeff}}x.t1HB=[1,1,1,0],x.t2HB=[1,2,1,3,1,1,3,2,0],x.t3HB=[3,2,1,1,1,1,3,2,0],x.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],x.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],x.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],x.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],x.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],x.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],x.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],x.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],x.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],x.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],x.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],x.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],x.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],x.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],x.t1l=[1,4,3,5],x.t2l=[1,4,7,4,5,7,6,7,8],x.t3l=[2,3,7,4,4,7,6,7,8],x.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],x.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],x.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],x.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],x.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],x.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],x.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],x.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],x.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],x.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],x.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],x.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],x.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],x.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],x.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],x.ht=[new w(0,0,null,null),new w(2,0,x.t1HB,x.t1l),new w(3,0,x.t2HB,x.t2l),new w(3,0,x.t3HB,x.t3l),new w(0,0,null,null),new w(4,0,x.t5HB,x.t5l),new w(4,0,x.t6HB,x.t6l),new w(6,0,x.t7HB,x.t7l),new w(6,0,x.t8HB,x.t8l),new w(6,0,x.t9HB,x.t9l),new w(8,0,x.t10HB,x.t10l),new w(8,0,x.t11HB,x.t11l),new w(8,0,x.t12HB,x.t12l),new w(16,0,x.t13HB,x.t13l),new w(0,0,null,x.t16_5l),new w(16,0,x.t15HB,x.t15l),new w(1,1,x.t16HB,x.t16l),new w(2,3,x.t16HB,x.t16l),new w(3,7,x.t16HB,x.t16l),new w(4,15,x.t16HB,x.t16l),new w(6,63,x.t16HB,x.t16l),new w(8,255,x.t16HB,x.t16l),new w(10,1023,x.t16HB,x.t16l),new w(13,8191,x.t16HB,x.t16l),new w(4,15,x.t24HB,x.t24l),new w(5,31,x.t24HB,x.t24l),new w(6,63,x.t24HB,x.t24l),new w(7,127,x.t24HB,x.t24l),new w(8,255,x.t24HB,x.t24l),new w(9,511,x.t24HB,x.t24l),new w(11,2047,x.t24HB,x.t24l),new w(13,8191,x.t24HB,x.t24l),new w(0,0,x.t32HB,x.t32l),new w(0,0,x.t33HB,x.t33l)],x.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],x.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],x.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],x.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],x.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],x.scfsi_band=[0,6,11,16,21],k.Q_MAX=257,k.Q_MAX2=116,k.LARGE_BITS=1e5,k.IXMAX_VAL=8206;var E={};function j(){var t,e;this.rv=null,this.qupvt=null;var r,a=new function(){this.setModules=function(t,e){}};function s(t){this.ordinal=t}function c(t){for(var e=0;e<t.sfbmax;e++)if(t.scalefac[e]+t.subblock_gain[t.window[e]]==0)return!1;return!0}function u(t,e,r,o,i){var a;switch(t){default:case 9:0<e.over_count?(a=r.over_SSD<=e.over_SSD,r.over_SSD==e.over_SSD&&(a=r.bits<e.bits)):a=r.max_noise<0&&10*r.max_noise+r.bits<=10*e.max_noise+e.bits;break;case 0:a=r.over_count<e.over_count||r.over_count==e.over_count&&r.over_noise<e.over_noise||r.over_count==e.over_count&&_.EQ(r.over_noise,e.over_noise)&&r.tot_noise<e.tot_noise;break;case 8:n();case 1:a=r.max_noise<e.max_noise;break;case 2:a=r.tot_noise<e.tot_noise;break;case 3:a=r.tot_noise<e.tot_noise&&r.max_noise<e.max_noise;break;case 4:a=r.max_noise<=0&&.2<e.max_noise||r.max_noise<=0&&e.max_noise<0&&e.max_noise>r.max_noise-.2&&r.tot_noise<e.tot_noise||r.max_noise<=0&&0<e.max_noise&&e.max_noise>r.max_noise-.2&&r.tot_noise<e.tot_noise+e.over_noise||0<r.max_noise&&-.05<e.max_noise&&e.max_noise>r.max_noise-.1&&r.tot_noise+r.over_noise<e.tot_noise+e.over_noise||0<r.max_noise&&-.1<e.max_noise&&e.max_noise>r.max_noise-.15&&r.tot_noise+r.over_noise+r.over_noise<e.tot_noise+e.over_noise+e.over_noise;break;case 5:a=r.over_noise<e.over_noise||_.EQ(r.over_noise,e.over_noise)&&r.tot_noise<e.tot_noise;break;case 6:a=r.over_noise<e.over_noise||_.EQ(r.over_noise,e.over_noise)&&(r.max_noise<e.max_noise||_.EQ(r.max_noise,e.max_noise)&&r.tot_noise<=e.tot_noise);break;case 7:a=r.over_count<e.over_count||r.over_noise<e.over_noise}return 0==e.over_count&&(a=a&&r.bits<e.bits),a}function h(t,o,i,a,s){var u=t.internal_flags;!function(t,e,r,o,i){var a,s=t.internal_flags;a=0==e.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var c=0,u=0;u<e.sfbmax;u++)c<r[u]&&(c=r[u]);var l=s.noise_shaping_amp;switch(3==l&&n(),l){case 2:break;case 1:1<c?c=Math.pow(c,.5):c*=.95;break;case 0:default:1<c?c=1:c*=.95}var f=0;for(u=0;u<e.sfbmax;u++){var h,d=e.width[u];if(f+=d,!(r[u]<c)){for(0!=(2&s.substep_shaping)&&n(),e.scalefac[u]++,h=-d;h<0;h++)o[f+h]*=a,o[f+h]>e.xrpow_max&&(e.xrpow_max=o[f+h]);if(2==s.noise_shaping_amp)return}}}(t,o,i,a);var f=c(o);return!(f||(f=2==u.mode_gr?r.scale_bitcount(o):r.scale_bitcount_lsf(u,o))&&(1<u.noise_shaping&&(l(u.pseudohalf,0),0==o.scalefac_scale?(function(t,n){for(var r=0,o=0;o<t.sfbmax;o++){var i=t.width[o],a=t.scalefac[o];if(0!=t.preflag&&(a+=e.pretab[o]),r+=i,0!=(1&a)){a++;for(var s=-i;s<0;s++)n[r+s]*=1.2968395546510096,n[r+s]>t.xrpow_max&&(t.xrpow_max=n[r+s])}t.scalefac[o]=a>>1}t.preflag=0,t.scalefac_scale=1}(o,a),f=!1):o.block_type==A.SHORT_TYPE&&0<u.subblock_gain&&(f=function(t,n,r){var o,i=n.scalefac;for(o=0;o<n.sfb_lmax;o++)if(16<=i[o])return!0;for(var a=0;a<3;a++){var s=0,c=0;for(o=n.sfb_lmax+a;o<n.sfbdivide;o+=3)s<i[o]&&(s=i[o]);for(;o<n.sfbmax;o+=3)c<i[o]&&(c=i[o]);if(!(s<16&&c<8)){if(7<=n.subblock_gain[a])return!0;n.subblock_gain[a]++;var u=t.scalefac_band.l[n.sfb_lmax];for(o=n.sfb_lmax+a;o<n.sfbmax;o+=3){var l=n.width[o],f=i[o];if(0<=(f-=4>>n.scalefac_scale))i[o]=f,u+=3*l;else{i[o]=0;var h=210+(f<<n.scalefac_scale+1);p=e.IPOW20(h),u+=l*(a+1);for(var d=-l;d<0;d++)r[u+d]*=p,r[u+d]>n.xrpow_max&&(n.xrpow_max=r[u+d]);u+=l*(3-a-1)}}var p=e.IPOW20(202);u+=n.width[o]*(a+1);for(d=-n.width[o];d<0;d++)r[u+d]*=p,r[u+d]>n.xrpow_max&&(n.xrpow_max=r[u+d])}}return!1}(u,o,a)||c(o))),f||(f=2==u.mode_gr?r.scale_bitcount(o):r.scale_bitcount_lsf(u,o)),f))}this.setModules=function(n,o,i,s){t=o,this.rv=o,e=i,this.qupvt=i,r=s,a.setModules(e,r)},this.init_xrpow=function(t,e,n){var r=0,o=0|e.max_nonzero_coeff;if(e.xrpow_max=0,l(n,o,576,0),1e-20<(r=function(t,e,n,r){for(var o=r=0;o<=n;++o){var i=Math.abs(t.xr[o]);r+=i,e[o]=Math.sqrt(i*Math.sqrt(i)),e[o]>t.xrpow_max&&(t.xrpow_max=e[o])}return r}(e,n,o,r))){var i=0;0!=(2&t.substep_shaping)&&(i=1);for(var a=0;a<e.psymax;a++)t.pseudohalf[a]=i;return!0}return l(e.l3_enc,0,576,0),!1},this.init_outer_loop=function(t,r){r.part2_3_length=0,r.big_values=0,r.count1=0,r.global_gain=210,r.scalefac_compress=0,r.table_select[0]=0,r.table_select[1]=0,r.table_select[2]=0,r.subblock_gain[0]=0,r.subblock_gain[1]=0,r.subblock_gain[2]=0,r.subblock_gain[3]=0,r.region0_count=0,r.region1_count=0,r.preflag=0,r.scalefac_scale=0,r.count1table_select=0,r.part2_length=0,r.sfb_lmax=A.SBPSY_l,r.sfb_smin=A.SBPSY_s,r.psy_lmax=t.sfb21_extra?A.SBMAX_l:A.SBPSY_l,r.psymax=r.psy_lmax,r.sfbmax=r.sfb_lmax,r.sfbdivide=11;for(var o=0;o<A.SBMAX_l;o++)r.width[o]=t.scalefac_band.l[o+1]-t.scalefac_band.l[o],r.window[o]=3;if(r.block_type==A.SHORT_TYPE){var a=i(576);r.sfb_smin=0,(r.sfb_lmax=0)!=r.mixed_block_flag&&n(),r.psymax=r.sfb_lmax+3*((t.sfb21_extra?A.SBMAX_s:A.SBPSY_s)-r.sfb_smin),r.sfbmax=r.sfb_lmax+3*(A.SBPSY_s-r.sfb_smin),r.sfbdivide=r.sfbmax-18,r.psy_lmax=r.sfb_lmax;var s=t.scalefac_band.l[r.sfb_lmax];f(r.xr,0,a,0,576);for(o=r.sfb_smin;o<A.SBMAX_s;o++)for(var c=t.scalefac_band.s[o],u=t.scalefac_band.s[o+1],h=0;h<3;h++)for(var d=c;d<u;d++)r.xr[s++]=a[3*d+h];var p=r.sfb_lmax;for(o=r.sfb_smin;o<A.SBMAX_s;o++)r.width[p]=r.width[p+1]=r.width[p+2]=t.scalefac_band.s[o+1]-t.scalefac_band.s[o],r.window[p]=0,r.window[p+1]=1,r.window[p+2]=2,p+=3}r.count1bits=0,r.sfb_partition_table=e.nr_of_sfb_block[0][0],r.slen[0]=0,r.slen[1]=0,r.slen[2]=0,r.slen[3]=0,r.max_nonzero_coeff=575,l(r.scalefac,0),function(t,n){var r=t.ATH,o=n.xr;if(n.block_type!=A.SHORT_TYPE)for(var i=!1,a=A.PSFB21-1;0<=a&&!i;a--){var s=t.scalefac_band.psfb21[a],c=t.scalefac_band.psfb21[a+1],u=e.athAdjust(r.adjust,r.psfb21[a],r.floor);1e-12<t.nsPsy.longfact[21]&&(u*=t.nsPsy.longfact[21]);for(var l=c-1;s<=l;l--){if(!(Math.abs(o[l])<u)){i=!0;break}o[l]=0}}else for(var f=0;f<3;f++)for(i=!1,a=A.PSFB12-1;0<=a&&!i;a--){c=(s=3*t.scalefac_band.s[12]+(t.scalefac_band.s[13]-t.scalefac_band.s[12])*f+(t.scalefac_band.psfb12[a]-t.scalefac_band.psfb12[0]))+(t.scalefac_band.psfb12[a+1]-t.scalefac_band.psfb12[a]);var h=e.athAdjust(r.adjust,r.psfb12[a],r.floor);1e-12<t.nsPsy.shortfact[12]&&(h*=t.nsPsy.shortfact[12]);for(l=c-1;s<=l;l--){if(!(Math.abs(o[l])<h)){i=!0;break}o[l]=0}}}(t,r)},s.BINSEARCH_NONE=new s(0),s.BINSEARCH_UP=new s(1),s.BINSEARCH_DOWN=new s(2),this.outer_loop=function(t,a,c,l,d,p){var g=t.internal_flags,m=new M,y=i(576),b=i(E.SFBMAX),_=new C,w=new function(){this.global_gain=0,this.sfb_count1=0,this.step=o(39),this.noise=i(39),this.noise_log=i(39)},x=9999999,S=!1;if(function(t,e,o,i,a){var c,u=t.CurrentStep[i],l=!1,f=t.OldValue[i],h=s.BINSEARCH_NONE;for(e.global_gain=f,o-=e.part2_length;;){var d;if(c=r.count_bits(t,a,e,null),1==u||c==o)break;o<c?(h==s.BINSEARCH_DOWN&&(l=!0),l&&(u/=2),h=s.BINSEARCH_UP,d=u):(h==s.BINSEARCH_UP&&(l=!0),l&&(u/=2),h=s.BINSEARCH_DOWN,d=-u),e.global_gain+=d,e.global_gain<0&&n(),255<e.global_gain&&n()}for(;o<c&&e.global_gain<255;)e.global_gain++,c=r.count_bits(t,a,e,null);t.CurrentStep[i]=4<=f-e.global_gain?4:2,t.OldValue[i]=e.global_gain,e.part2_3_length=c}(g,a,p,d,l),0==g.noise_shaping)return 100;e.calc_noise(a,c,b,_,w),_.bits=a.part2_3_length,m.assign(a);var O=0;for(f(l,0,y,0,576);!S;){do{var k,j=new C,I=255;if(k=0!=(2&g.substep_shaping)?20:3,g.sfb21_extra&&n(),!h(t,m,b,l))break;0!=m.scalefac_scale&&(I=254);var T=p-m.part2_length;if(T<=0)break;for(;(m.part2_3_length=r.count_bits(g,l,m,w))>T&&m.global_gain<=I;)m.global_gain++;if(m.global_gain>I)break;if(0==_.over_count){for(;(m.part2_3_length=r.count_bits(g,l,m,w))>x&&m.global_gain<=I;)m.global_gain++;if(m.global_gain>I)break}if(e.calc_noise(m,c,b,j,w),j.bits=m.part2_3_length,0!=(u(a.block_type!=A.SHORT_TYPE?t.quant_comp:t.quant_comp_short,_,j)?1:0))x=a.part2_3_length,_=j,a.assign(m),O=0,f(l,0,y,0,576);else if(0==g.full_outer_loop){if(++O>k&&0==_.over_count)break;g.noise_shaping_amp,g.noise_shaping_amp}}while(m.global_gain+m.scalefac_scale<255);3==g.noise_shaping_amp?n():S=!0}return t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?f(y,0,l,0,576):0!=(1&g.substep_shaping)&&n(),_.over_count},this.iteration_finish_one=function(e,n,o){var i=e.l3_side,a=i.tt[n][o];r.best_scalefac_store(e,n,o,i),1==e.use_best_huffman&&r.best_huffman_divide(e,a),t.ResvAdjust(e,a)}}function I(){this.thm=new T,this.en=new T}function A(){var t=A.MPG_MD_MS_LR,e=null,r=this.psy=null,s=null;this.setModules=function(t,n,o,i){e=t,this.psy=n,r=n,s=i};var c=new function(){var t=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*h.SQRT2*.5/2384e-9,.017876148*h.SQRT2*.5/2384e-9,.003134727*h.SQRT2*.5/2384e-9,.002457142*h.SQRT2*.5/2384e-9,971317e-9*h.SQRT2*.5/2384e-9,218868e-9*h.SQRT2*.5/2384e-9,101566e-9*h.SQRT2*.5/2384e-9,13828e-9*h.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],e=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],r=e[A.SHORT_TYPE],o=e[A.SHORT_TYPE],a=e[A.SHORT_TYPE],s=e[A.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function u(e,n,r){for(var o,i,a,s=10,c=n+238-14-286,u=-15;u<0;u++){var l,f,d;l=t[s+-10],f=e[c+-224]*l,d=e[n+224]*l,l=t[s+-9],f+=e[c+-160]*l,d+=e[n+160]*l,l=t[s+-8],f+=e[c+-96]*l,d+=e[n+96]*l,l=t[s+-7],f+=e[c+-32]*l,d+=e[n+32]*l,l=t[s+-6],f+=e[c+32]*l,d+=e[n+-32]*l,l=t[s+-5],f+=e[c+96]*l,d+=e[n+-96]*l,l=t[s+-4],f+=e[c+160]*l,d+=e[n+-160]*l,l=t[s+-3],f+=e[c+224]*l,d+=e[n+-224]*l,l=t[s+-2],f+=e[n+-256]*l,d-=e[c+256]*l,l=t[s+-1],f+=e[n+-192]*l,d-=e[c+192]*l,l=t[s+0],f+=e[n+-128]*l,d-=e[c+128]*l,l=t[s+1],f+=e[n+-64]*l,d-=e[c+64]*l,l=t[s+2],f+=e[n+0]*l,d-=e[c+0]*l,l=t[s+3],f+=e[n+64]*l,d-=e[c+-64]*l,l=t[s+4],f+=e[n+128]*l,d-=e[c+-128]*l,l=t[s+5],f+=e[n+192]*l,l=(d-=e[c+-192]*l)-(f*=t[s+6]),r[30+2*u]=d+f,r[31+2*u]=t[s+7]*l,s+=18,n--,c++}d=e[n+-16]*t[s+-10],f=e[n+-32]*t[s+-2],d+=(e[n+-48]-e[n+16])*t[s+-9],f+=e[n+-96]*t[s+-1],d+=(e[n+-80]+e[n+48])*t[s+-8],f+=e[n+-160]*t[s+0],d+=(e[n+-112]-e[n+80])*t[s+-7],f+=e[n+-224]*t[s+1],d+=(e[n+-144]+e[n+112])*t[s+-6],f-=e[n+32]*t[s+2],d+=(e[n+-176]-e[n+144])*t[s+-5],f-=e[n+96]*t[s+3],d+=(e[n+-208]+e[n+176])*t[s+-4],f-=e[n+160]*t[s+4],d+=(e[n+-240]-e[n+208])*t[s+-3],o=(f-=e[n+224])-d,i=f+d,d=r[14],f=r[15]-d,r[31]=i+d,r[30]=o+f,r[15]=o-f,r[14]=i-d,a=r[28]-r[0],r[0]+=r[28],r[28]=a*t[s+-36+7],a=r[29]-r[1],r[1]+=r[29],r[29]=a*t[s+-36+7],a=r[26]-r[2],r[2]+=r[26],r[26]=a*t[s+-72+7],a=r[27]-r[3],r[3]+=r[27],r[27]=a*t[s+-72+7],a=r[24]-r[4],r[4]+=r[24],r[24]=a*t[s+-108+7],a=r[25]-r[5],r[5]+=r[25],r[25]=a*t[s+-108+7],a=r[22]-r[6],r[6]+=r[22],r[22]=a*h.SQRT2,a=r[23]-r[7],r[7]+=r[23],r[23]=a*h.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],a=r[6],r[6]=r[31]-a,r[31]=r[31]+a,a=r[7],r[7]=r[30]-a,r[30]=r[30]+a,a=r[22],r[22]=r[15]-a,r[15]=r[15]+a,a=r[23],r[23]=r[14]-a,r[14]=r[14]+a,a=r[20]-r[8],r[8]+=r[20],r[20]=a*t[s+-180+7],a=r[21]-r[9],r[9]+=r[21],r[21]=a*t[s+-180+7],a=r[18]-r[10],r[10]+=r[18],r[18]=a*t[s+-216+7],a=r[19]-r[11],r[11]+=r[19],r[19]=a*t[s+-216+7],a=r[16]-r[12],r[12]+=r[16],r[16]=a*t[s+-252+7],a=r[17]-r[13],r[13]+=r[17],r[17]=a*t[s+-252+7],a=-r[20]+r[24],r[20]+=r[24],r[24]=a*t[s+-216+7],a=-r[21]+r[25],r[21]+=r[25],r[25]=a*t[s+-216+7],a=r[4]-r[8],r[4]+=r[8],r[8]=a*t[s+-216+7],a=r[5]-r[9],r[5]+=r[9],r[9]=a*t[s+-216+7],a=r[0]-r[12],r[0]+=r[12],r[12]=a*t[s+-72+7],a=r[1]-r[13],r[1]+=r[13],r[13]=a*t[s+-72+7],a=r[16]-r[28],r[16]+=r[28],r[28]=a*t[s+-72+7],a=-r[17]+r[29],r[17]+=r[29],r[29]=a*t[s+-72+7],a=h.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=a,a=h.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=a,a=h.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=a-r[18],a=h.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=a-r[19],a=r[2],r[19]-=r[3],r[3]-=a,r[2]=r[31]-a,r[31]+=a,a=r[3],r[11]-=r[19],r[18]-=a,r[3]=r[30]-a,r[30]+=a,a=r[18],r[27]-=r[11],r[19]-=a,r[18]=r[15]-a,r[15]+=a,a=r[19],r[10]-=a,r[19]=r[14]-a,r[14]+=a,a=r[10],r[11]-=a,r[10]=r[23]-a,r[23]+=a,a=r[11],r[26]-=a,r[11]=r[22]-a,r[22]+=a,a=r[26],r[27]-=a,r[26]=r[7]-a,r[7]+=a,a=r[27],r[27]=r[6]-a,r[6]+=a,a=h.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=a,a=h.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=a,a=h.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=a,a=h.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=a,a=-h.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=a-r[8],a=-h.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=a-r[9],a=-h.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=a-r[25],a=-h.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=a-r[24],a=r[24]-r[16],r[24]=a,a=r[20]-a,r[20]=a,a=r[28]-a,r[28]=a,a=r[25]-r[17],r[25]=a,a=r[21]-a,r[21]=a,a=r[29]-a,r[29]=a,a=r[17]-r[1],r[17]=a,a=r[9]-a,r[9]=a,a=r[25]-a,r[25]=a,a=r[5]-a,r[5]=a,a=r[21]-a,r[21]=a,a=r[13]-a,r[13]=a,a=r[29]-a,r[29]=a,a=r[1]-r[0],r[1]=a,a=r[16]-a,r[16]=a,a=r[17]-a,r[17]=a,a=r[8]-a,r[8]=a,a=r[9]-a,r[9]=a,a=r[24]-a,r[24]=a,a=r[25]-a,r[25]=a,a=r[4]-a,r[4]=a,a=r[5]-a,r[5]=a,a=r[20]-a,r[20]=a,a=r[21]-a,r[21]=a,a=r[12]-a,r[12]=a,a=r[13]-a,r[13]=a,a=r[28]-a,r[28]=a,a=r[29]-a,r[29]=a,a=r[0],r[0]+=r[31],r[31]-=a,a=r[1],r[1]+=r[30],r[30]-=a,a=r[16],r[16]+=r[15],r[15]-=a,a=r[17],r[17]+=r[14],r[14]-=a,a=r[8],r[8]+=r[23],r[23]-=a,a=r[9],r[9]+=r[22],r[22]-=a,a=r[24],r[24]+=r[7],r[7]-=a,a=r[25],r[25]+=r[6],r[6]-=a,a=r[4],r[4]+=r[27],r[27]-=a,a=r[5],r[5]+=r[26],r[26]-=a,a=r[20],r[20]+=r[11],r[11]-=a,a=r[21],r[21]+=r[10],r[10]-=a,a=r[12],r[12]+=r[19],r[19]-=a,a=r[13],r[13]+=r[18],r[18]-=a,a=r[28],r[28]+=r[3],r[3]-=a,a=r[29],r[29]+=r[2],r[2]-=a}function d(t,n){for(var r=0;r<3;r++){var o,i,a,s,c,u;i=(s=t[n+6]*e[A.SHORT_TYPE][0]-t[n+15])+(o=t[n+0]*e[A.SHORT_TYPE][2]-t[n+9]),a=s-o,c=(s=t[n+15]*e[A.SHORT_TYPE][0]+t[n+6])+(o=t[n+9]*e[A.SHORT_TYPE][2]+t[n+0]),u=-s+o,o=2069978111953089e-26*(t[n+3]*e[A.SHORT_TYPE][1]-t[n+12]),s=2069978111953089e-26*(t[n+12]*e[A.SHORT_TYPE][1]+t[n+3]),t[n+0]=190752519173728e-25*i+o,t[n+15]=190752519173728e-25*-c+s,a=.8660254037844387*a*1907525191737281e-26,c=.5*c*1907525191737281e-26+s,t[n+3]=a-c,t[n+6]=a+c,i=.5*i*1907525191737281e-26-o,u=.8660254037844387*u*1907525191737281e-26,t[n+9]=i+u,t[n+12]=i-u,n++}}function p(t,e,n){var r,i,a,s,c,u,l,f,h,d,p,v,g,m,y,b,_,w;a=n[17]-n[9],c=n[15]-n[11],u=n[14]-n[12],l=n[0]+n[8],f=n[1]+n[7],h=n[2]+n[6],d=n[3]+n[5],t[e+17]=l+h-d-(f-n[4]),i=(l+h-d)*o[19]+(f-n[4]),r=(a-c-u)*o[18],t[e+5]=r+i,t[e+6]=r-i,s=(n[16]-n[10])*o[18],f=f*o[19]+n[4],r=a*o[12]+s+c*o[13]+u*o[14],i=-l*o[16]+f-h*o[17]+d*o[15],t[e+1]=r+i,t[e+2]=r-i,r=a*o[13]-s-c*o[14]+u*o[12],i=-l*o[17]+f-h*o[15]+d*o[16],t[e+9]=r+i,t[e+10]=r-i,r=a*o[14]-s+c*o[12]-u*o[13],i=l*o[15]-f+h*o[16]-d*o[17],t[e+13]=r+i,t[e+14]=r-i,p=n[8]-n[0],g=n[6]-n[2],m=n[5]-n[3],y=n[17]+n[9],b=n[16]+n[10],_=n[15]+n[11],w=n[14]+n[12],t[e+0]=y+_+w+(b+n[13]),r=(y+_+w)*o[19]-(b+n[13]),i=(p-g+m)*o[18],t[e+11]=r+i,t[e+12]=r-i,v=(n[7]-n[1])*o[18],b=n[13]-b*o[19],r=y*o[15]-b+_*o[16]+w*o[17],i=p*o[14]+v+g*o[12]+m*o[13],t[e+3]=r+i,t[e+4]=r-i,r=-y*o[17]+b-_*o[15]-w*o[16],i=p*o[13]+v-g*o[14]-m*o[12],t[e+7]=r+i,t[e+8]=r-i,r=-y*o[16]+b-_*o[17]-w*o[15],i=p*o[12]-v+g*o[13]-m*o[14],t[e+15]=r+i,t[e+16]=r-i}this.mdct_sub48=function(t,o,h){for(var v=o,g=286,m=0;m<t.channels_out;m++){for(var y=0;y<t.mode_gr;y++){for(var b,_=t.l3_side.tt[y][m],w=_.xr,x=0,S=t.sb_sample[m][1-y],C=0,O=0;O<9;O++)for(u(v,g,S[C]),u(v,g+32,S[C+1]),C+=2,g+=64,b=1;b<32;b+=2)S[C-1][b]*=-1;for(b=0;b<32;b++,x+=18){var k=_.block_type,M=t.sb_sample[m][y],E=t.sb_sample[m][1-y];if(0!=_.mixed_block_flag&&b<2&&(k=0),t.amp_filter[b]<1e-12)l(w,x+0,x+18,0);else if(t.amp_filter[b]<1&&n(),k==A.SHORT_TYPE){for(O=-3;O<0;O++){var j=e[A.SHORT_TYPE][O+3];w[x+3*O+9]=M[9+O][c[b]]*j-M[8-O][c[b]],w[x+3*O+18]=M[14-O][c[b]]*j+M[15+O][c[b]],w[x+3*O+10]=M[15+O][c[b]]*j-M[14-O][c[b]],w[x+3*O+19]=E[2-O][c[b]]*j+E[3+O][c[b]],w[x+3*O+11]=E[3+O][c[b]]*j-E[2-O][c[b]],w[x+3*O+20]=E[8-O][c[b]]*j+E[9+O][c[b]]}d(w,x)}else{var I=i(18);for(O=-9;O<0;O++){var T,P;T=e[k][O+27]*E[O+9][c[b]]+e[k][O+36]*E[8-O][c[b]],P=e[k][O+9]*M[O+9][c[b]]-e[k][O+18]*M[8-O][c[b]],I[O+9]=T-P*r[3+O+9],I[O+18]=T*r[3+O+9]+P}p(w,x,I)}if(k!=A.SHORT_TYPE&&0!=b)for(O=7;0<=O;--O){var D,N;D=w[x+O]*a[20+O]+w[x+-1-O]*s[28+O],N=w[x+O]*s[28+O]-w[x+-1-O]*a[20+O],w[x+-1-O]=D,w[x+O]=N}}}if(v=h,g=286,1==t.mode_gr)for(var L=0;L<18;L++)f(t.sb_sample[m][1][L],0,t.sb_sample[m][0][L],0,32)}}};this.lame_encode_mp3_frame=function(l,f,h,d,p,m){var y,b=u([2,2]);b[0][0]=new I,b[0][1]=new I,b[1][0]=new I,b[1][1]=new I;var _,w=u([2,2]);w[0][0]=new I,w[0][1]=new I,w[1][0]=new I,w[1][1]=new I;var x,S,C,O=[null,null],k=l.internal_flags,M=a([2,4]),E=[[0,0],[0,0]],j=[[0,0],[0,0]];if(O[0]=f,O[1]=h,0==k.lame_encode_frame_init&&function(t,e){var n,r,o=t.internal_flags;if(0==o.lame_encode_frame_init){var a,s,u=i(2014),l=i(2014);for(o.lame_encode_frame_init=1,s=a=0;a<286+576*(1+o.mode_gr);++a)a<576*o.mode_gr?(u[a]=0,2==o.channels_out&&(l[a]=0)):(u[a]=e[0][s],2==o.channels_out&&(l[a]=e[1][s]),++s);for(r=0;r<o.mode_gr;r++)for(n=0;n<o.channels_out;n++)o.l3_side.tt[r][n].block_type=A.SHORT_TYPE;c.mdct_sub48(o,u,l)}}(l,O),k.padding=0,(k.slot_lag-=k.frac_SpF)<0&&(k.slot_lag+=l.out_samplerate,k.padding=1),0!=k.psymodel){var T,P=[null,null],D=0,N=o(2);for(C=0;C<k.mode_gr;C++){for(S=0;S<k.channels_out;S++)P[S]=O[S],D=576+576*C-A.FFTOFFSET;if(l.VBR==v.vbr_mtrh||l.VBR==v.vbr_mt?n():T=r.L3psycho_anal_ns(l,P,D,C,b,w,E[C],j[C],M[C],N),0!=T)return-4;for(l.mode==g.JOINT_STEREO&&n(),S=0;S<k.channels_out;S++){var L=k.l3_side.tt[C][S];L.block_type=N[S],L.mixed_block_flag=0}}}else n();if(function(t){var e,r;if(0==t.ATH.useAdjust)return t.ATH.adjust=1;if(r=t.loudness_sq[0][0],e=t.loudness_sq[1][0],2==t.channels_out?n():(r+=r,e+=e),2==t.mode_gr&&(r=Math.max(r,e)),r*=.5,.03125<(r*=t.ATH.aaSensitivityP))1<=t.ATH.adjust?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1;else{var o=31.98*r+625e-6;t.ATH.adjust>=o?(t.ATH.adjust*=.075*o+.925,t.ATH.adjust<o&&(t.ATH.adjust=o)):t.ATH.adjustLimit>=o?t.ATH.adjust=o:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=o}}(k),c.mdct_sub48(k,O[0],O[1]),k.mode_ext=A.MPG_MD_LR_LR,l.force_ms?k.mode_ext=A.MPG_MD_MS_LR:l.mode==g.JOINT_STEREO&&n(),k.mode_ext==t?(_=w,x=j):(_=b,x=E),l.analysis&&null!=k.pinfo&&n(),l.VBR==v.vbr_off||l.VBR==v.vbr_abr){var R,B;for(R=0;R<18;R++)k.nsPsy.pefirbuf[R]=k.nsPsy.pefirbuf[R+1];for(C=B=0;C<k.mode_gr;C++)for(S=0;S<k.channels_out;S++)B+=x[C][S];for(k.nsPsy.pefirbuf[18]=B,B=k.nsPsy.pefirbuf[9],R=0;R<9;R++)B+=(k.nsPsy.pefirbuf[R]+k.nsPsy.pefirbuf[18-R])*A.fircoef[R];for(B=3350*k.mode_gr*k.channels_out/B,C=0;C<k.mode_gr;C++)for(S=0;S<k.channels_out;S++)x[C][S]*=B}return k.iteration_loop.iteration_loop(l,x,[.5,.5],_),e.format_bitstream(l),y=e.copy_buffer(k,d,p,m,1),l.bWriteVbrTag&&s.addVbrFrame(l),l.analysis&&null!=k.pinfo&&n(),function(t){var e,r;for(t.bitrate_stereoMode_Hist[t.bitrate_index][4]++,t.bitrate_stereoMode_Hist[15][4]++,2==t.channels_out&&n(),e=0;e<t.mode_gr;++e)for(r=0;r<t.channels_out;++r){var o=0|t.l3_side.tt[e][r].block_type;0!=t.l3_side.tt[e][r].mixed_block_flag&&(o=4),t.bitrate_blockType_Hist[t.bitrate_index][o]++,t.bitrate_blockType_Hist[t.bitrate_index][5]++,t.bitrate_blockType_Hist[15][o]++,t.bitrate_blockType_Hist[15][5]++}}(k),y}}function T(){this.l=i(A.SBMAX_l),this.s=a([A.SBMAX_s,3]);var t=this;this.assign=function(e){f(e.l,0,t.l,0,A.SBMAX_l);for(var n=0;n<A.SBMAX_s;n++)for(var r=0;r<3;r++)t.s[n][r]=e.s[n][r]}}function P(){function t(){this.write_timing=0,this.ptr=0,this.buf=r(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=a([2,P.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[o(4),o(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new M},this.ms_ratio=i(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=o(2),this.CurrentStep=o(2),this.masking_lower=0,this.bv_scf=o(576),this.pseudohalf=o(E.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*P.BPC+1),this.itime=function(t){return new Float64Array(t)}(2),this.sideinfo_len=0,this.sb_sample=a([2,2,18,A.SBLIMIT]),this.amp_filter=i(32),this.header=new Array(P.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new O,this.minval_l=i(A.CBANDS),this.minval_s=i(A.CBANDS),this.nb_1=a([4,A.CBANDS]),this.nb_2=a([4,A.CBANDS]),this.nb_s1=a([4,A.CBANDS]),this.nb_s2=a([4,A.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=i(4),this.loudness_sq=a([2,2]),this.loudness_sq_save=i(2),this.mld_l=i(A.SBMAX_l),this.mld_s=i(A.SBMAX_s),this.bm_l=o(A.SBMAX_l),this.bo_l=o(A.SBMAX_l),this.bm_s=o(A.SBMAX_s),this.bo_s=o(A.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=s([A.CBANDS,2]),this.s3ind_s=s([A.CBANDS,2]),this.numlines_s=o(A.CBANDS),this.numlines_l=o(A.CBANDS),this.rnumlines_l=i(A.CBANDS),this.mld_cb_l=i(A.CBANDS),this.mld_cb_s=i(A.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=i(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=o(2),this.nsPsy=new function(){this.last_en_subshort=a([4,9]),this.lastAttacks=o(4),this.pefirbuf=i(19),this.longfact=i(A.SBMAX_l),this.shortfact=i(A.SBMAX_s),this.attackthre=0,this.attackthre_s=0},this.VBR_seek_table=new function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0},this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=s([16,5]),this.bitrate_blockType_Hist=s([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var e=0;e<this.en.length;e++)this.en[e]=new T;for(e=0;e<this.thm.length;e++)this.thm[e]=new T;for(e=0;e<this.header.length;e++)this.header[e]=new t}function D(){var t=new function(){var t=i(A.BLKSIZE),e=i(A.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(t,e,r){var o,i,a,s=0,c=e+(r<<=1);o=4;do{var u,l,f,d,p,v,g;for(g=o>>1,v=(p=(d=o)<<1)+d,o=p<<1,a=(i=e)+g;S=t[i+0]-t[i+d],x=t[i+0]+t[i+d],M=t[i+p]-t[i+v],O=t[i+p]+t[i+v],t[i+p]=x-O,t[i+0]=x+O,t[i+v]=S-M,t[i+d]=S+M,S=t[a+0]-t[a+d],x=t[a+0]+t[a+d],M=h.SQRT2*t[a+v],O=h.SQRT2*t[a+p],t[a+p]=x-O,t[a+0]=x+O,t[a+v]=S-M,t[a+d]=S+M,a+=o,(i+=o)<c;);for(l=n[s+0],u=n[s+1],f=1;f<g;f++){var m,y;m=1-2*u*u,y=2*u*l,i=e+f,a=e+d-f;do{var b,_,w,x,S,C,O,k,M,E;_=y*t[i+d]-m*t[a+d],b=m*t[i+d]+y*t[a+d],S=t[i+0]-b,x=t[i+0]+b,C=t[a+0]-_,w=t[a+0]+_,_=y*t[i+v]-m*t[a+v],b=m*t[i+v]+y*t[a+v],M=t[i+p]-b,O=t[i+p]+b,E=t[a+p]-_,k=t[a+p]+_,_=u*O-l*E,b=l*O+u*E,t[i+p]=x-b,t[i+0]=x+b,t[a+v]=C-_,t[a+d]=C+_,_=l*k-u*M,b=u*k+l*M,t[a+p]=w-b,t[a+0]=w+b,t[i+v]=S-_,t[i+d]=S+_,a+=o,i+=o}while(i<c);l=(m=l)*n[s+0]-u*n[s+1],u=m*n[s+1]+u*n[s+0]}s+=2}while(o<r)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(t,n,i,a,s){for(var c=0;c<3;c++){var u=A.BLKSIZE_s/2,l=65535&192*(c+1),f=A.BLKSIZE_s/8-1;do{var h,d,p,v,g,m=255&o[f<<2];d=(h=e[m]*a[i][s+m+l])-(g=e[127-m]*a[i][s+m+l+128]),h+=g,v=(p=e[m+64]*a[i][s+m+l+64])-(g=e[63-m]*a[i][s+m+l+192]),p+=g,u-=4,n[c][u+0]=h+p,n[c][u+2]=h-p,n[c][u+1]=d+v,n[c][u+3]=d-v,d=(h=e[m+1]*a[i][s+m+l+1])-(g=e[126-m]*a[i][s+m+l+129]),h+=g,v=(p=e[m+65]*a[i][s+m+l+65])-(g=e[62-m]*a[i][s+m+l+193]),p+=g,n[c][u+A.BLKSIZE_s/2+0]=h+p,n[c][u+A.BLKSIZE_s/2+2]=h-p,n[c][u+A.BLKSIZE_s/2+1]=d+v,n[c][u+A.BLKSIZE_s/2+3]=d-v}while(0<=--f);r(n[c],u,A.BLKSIZE_s/2)}},this.fft_long=function(e,n,i,a,s){var c=A.BLKSIZE/8-1,u=A.BLKSIZE/2;do{var l,f,h,d,p,v=255&o[c];f=(l=t[v]*a[i][s+v])-(p=t[v+512]*a[i][s+v+512]),l+=p,d=(h=t[v+256]*a[i][s+v+256])-(p=t[v+768]*a[i][s+v+768]),h+=p,n[0+(u-=4)]=l+h,n[u+2]=l-h,n[u+1]=f+d,n[u+3]=f-d,f=(l=t[v+1]*a[i][s+v+1])-(p=t[v+513]*a[i][s+v+513]),l+=p,d=(h=t[v+257]*a[i][s+v+257])-(p=t[v+769]*a[i][s+v+769]),h+=p,n[u+A.BLKSIZE/2+0]=l+h,n[u+A.BLKSIZE/2+2]=l-h,n[u+A.BLKSIZE/2+1]=f+d,n[u+A.BLKSIZE/2+3]=f-d}while(0<=--c);r(n,u,A.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<A.BLKSIZE;r++)t[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/A.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/A.BLKSIZE);for(r=0;r<A.BLKSIZE_s/2;r++)e[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/A.BLKSIZE_s))}},e=2.302585092994046,r=1/217621504/(A.BLKSIZE/2);function s(e,o,i,a,s,c,u,l,f,h,d){var p=e.internal_flags;f<2?(t.fft_long(p,a[s],f,h,d),t.fft_short(p,c[u],f,h,d)):2==f&&n(),o[0]=a[s+0][0],o[0]*=o[0];for(var v=A.BLKSIZE/2-1;0<=v;--v){var g=a[s+0][A.BLKSIZE/2-v],m=a[s+0][A.BLKSIZE/2+v];o[A.BLKSIZE/2-v]=.5*(g*g+m*m)}for(var y=2;0<=y;--y){i[y][0]=c[u+0][y][0],i[y][0]*=i[y][0];for(v=A.BLKSIZE_s/2-1;0<=v;--v){g=c[u+0][y][A.BLKSIZE_s/2-v],m=c[u+0][y][A.BLKSIZE_s/2+v];i[y][A.BLKSIZE_s/2-v]=.5*(g*g+m*m)}}var b=0;for(v=11;v<A.HBLKSIZE;v++)b+=o[v];p.tot_ener[f]=b,e.analysis&&n(),2==e.athaa_loudapprox&&f<2&&(p.loudness_sq[l][f]=p.loudness_sq_save[f],p.loudness_sq_save[f]=function(t,e){for(var n=0,o=0;o<A.BLKSIZE/2;++o)n+=t[o]*e.ATH.eql_w[o];return n*r}(o,p))}var c,u,f,m=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],y=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],b=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],_=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function w(t,e,n,r,o,i){var a;if(t<e){if(!(e<t*u))return t+e;a=e/t}else{if(e*u<=t)return t+e;a=t/e}if(t+=e,r+3<=6){if(c<=a)return t;var s=0|h.FAST_LOG10_X(a,16);return t*b[s]}var l,d;s=0|h.FAST_LOG10_X(a,16);return e=0!=i?o.ATH.cb_s[n]*o.ATH.adjust:o.ATH.cb_l[n]*o.ATH.adjust,t<f*e?e<t?(l=1,s<=13&&(l=_[s]),d=h.FAST_LOG10_X(t/e,10/15),t*((y[s]-l)*d+l)):13<s?t:t*_[s]:t*y[s]}function x(t,e,n,r,o){var i,a,s=0,c=0;for(i=a=0;i<A.SBMAX_s;++a,++i){for(var u=t.bo_s[i],l=t.npart_s,f=u<l?u:l;a<f;)s+=e[a],c+=n[a],a++;if(t.en[r].s[i][o]=s,t.thm[r].s[i][o]=c,l<=a){++i;break}var h=t.PSY.bo_s_weight[i],d=1-h;s=h*e[a],c=h*n[a],t.en[r].s[i][o]+=s,t.thm[r].s[i][o]+=c,s=d*e[a],c=d*n[a]}for(;i<A.SBMAX_s;++i)t.en[r].s[i][o]=0,t.thm[r].s[i][o]=0}function S(t,e,n,r){var o,i,a=0,s=0;for(o=i=0;o<A.SBMAX_l;++i,++o){for(var c=t.bo_l[o],u=t.npart_l,l=c<u?c:u;i<l;)a+=e[i],s+=n[i],i++;if(t.en[r].l[o]=a,t.thm[r].l[o]=s,u<=i){++o;break}var f=t.PSY.bo_l_weight[o],h=1-f;a=f*e[i],s=f*n[i],t.en[r].l[o]+=a,t.thm[r].l[o]+=s,a=h*e[i],s=h*n[i]}for(;o<A.SBMAX_l;++o)t.en[r].l[o]=0,t.thm[r].l[o]=0}function C(t,e,n,r,o,i){var a,s,c=t.internal_flags;for(s=a=0;s<c.npart_s;++s){for(var u=0,l=0,f=c.numlines_s[s],h=0;h<f;++h,++a){var d=e[i][a];u+=d,l<d&&(l=d)}n[s]=u}for(a=s=0;s<c.npart_s;s++){var p=c.s3ind_s[s][0],v=c.s3_ss[a++]*n[p];for(++p;p<=c.s3ind_s[s][1];)v+=c.s3_ss[a]*n[p],++a,++p;var g=2*c.nb_s1[o][s];if(r[s]=Math.min(v,g),c.blocktype_old[1&o]==A.SHORT_TYPE){g=16*c.nb_s2[o][s];var m=r[s];r[s]=Math.min(g,m)}c.nb_s2[o][s]=c.nb_s1[o][s],c.nb_s1[o][s]=v}for(;s<=A.CBANDS;++s)n[s]=0,r[s]=0}function O(t,e,n){return 1<=n?t:n<=0?e:0<e?Math.pow(t/e,n)*e:0}var k=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function M(t,n){for(var r=309.07,o=0;o<A.SBMAX_s-1;o++)for(var i=0;i<3;i++){var a=t.thm.s[o][i];if(0<a){var s=a*n,c=t.en.s[o][i];s<c&&(r+=1e10*s<c?k[o]*(10*e):k[o]*h.FAST_LOG10(c/s))}}return r}var E=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function j(t,n){for(var r=281.0575,o=0;o<A.SBMAX_l-1;o++){var i=t.thm.l[o];if(0<i){var a=i*n,s=t.en.l[o];a<s&&(r+=1e10*a<s?E[o]*(10*e):E[o]*h.FAST_LOG10(s/a))}}return r}function I(t,e,n,r,o){var i,a;for(i=a=0;i<t.npart_l;++i){var s,c=0,u=0;for(s=0;s<t.numlines_l[i];++s,++a){var l=e[a];c+=l,u<l&&(u=l)}n[i]=c,r[i]=u,o[i]=c*t.rnumlines_l[i]}}function T(t,e,n,r){var o=m.length-1,i=0,a=n[i]+n[i+1];0<a?((s=e[i])<e[i+1]&&(s=e[i+1]),o<(c=0|(a=20*(2*s-a)/(a*(t.numlines_l[i]+t.numlines_l[i+1]-1))))&&(c=o),r[i]=c):r[i]=0;for(i=1;i<t.npart_l-1;i++)if(0<(a=n[i-1]+n[i]+n[i+1])){var s,c;(s=e[i-1])<e[i]&&(s=e[i]),s<e[i+1]&&(s=e[i+1]),o<(c=0|(a=20*(3*s-a)/(a*(t.numlines_l[i-1]+t.numlines_l[i]+t.numlines_l[i+1]-1))))&&(c=o),r[i]=c}else r[i]=0;0<(a=n[i-1]+n[i])?((s=e[i-1])<e[i]&&(s=e[i]),o<(c=0|(a=20*(2*s-a)/(a*(t.numlines_l[i-1]+t.numlines_l[i]-1))))&&(c=o),r[i]=c):r[i]=0}var P=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function D(t){return t<0&&(t=0),t*=.001,13*Math.atan(.76*t)+3.5*Math.atan(t*t/56.25)}function N(t,e,n,r,a,s,c,u,l,f,h,d){var p,v=i(A.CBANDS+1),g=u/(15<d?1152:384),m=o(A.HBLKSIZE);u/=l;var y=0,b=0;for(p=0;p<A.CBANDS;p++){var _;for(j=D(u*y),v[p]=u*y,_=y;D(u*_)-j<.34&&_<=l/2;_++);for(t[p]=_-y,b=p+1;y<_;)m[y++]=p;if(l/2<y){y=l/2,++p;break}}v[p]=u*y;for(var w=0;w<d;w++){var x,S,C,O,k;C=f[w],O=f[w+1],(x=0|Math.floor(.5+h*(C-.5)))<0&&(x=0),l/2<(S=0|Math.floor(.5+h*(O-.5)))&&(S=l/2),n[w]=(m[x]+m[S])/2,e[w]=m[S];var M=g*O;c[w]=(M-v[e[w]])/(v[e[w]+1]-v[e[w]]),c[w]<0?c[w]=0:1<c[w]&&(c[w]=1),k=D(u*f[w]*h),k=Math.min(k,15.5)/15.5,s[w]=Math.pow(10,1.25*(1-Math.cos(Math.PI*k))-2.5)}for(var E=y=0;E<b;E++){var j,I,T=t[E];j=D(u*y),I=D(u*(y+T-1)),r[E]=.5*(j+I),j=D(u*(y-.5)),I=D(u*(y+T-.5)),a[E]=I-j,y+=T}return b}function L(t,e,r,o,s,c){var u,l,f,h,d,p=a([A.CBANDS,A.CBANDS]),v=0;if(c)for(var g=0;g<e;g++)for(u=0;u<e;u++){var m=(d=l=void 0,l=r[g]-r[u],f=.5<=(l*=0<=l?3:1.5)&&l<=2.5?8*((d=l-.5)*d-2*d):0,((h=15.811389+7.5*(l+=.474)-17.5*Math.sqrt(1+l*l))<=-60?0:(l=Math.exp(.2302585093*(f+h)),l/=.6609193))*o[u]);p[g][u]=m*s[g]}else n();for(g=0;g<e;g++){for(u=0;u<e&&!(0<p[g][u]);u++);for(t[g][0]=u,u=e-1;0<u&&!(0<p[g][u]);u--);t[g][1]=u,v+=t[g][1]-t[g][0]+1}var y=i(v),b=0;for(g=0;g<e;g++)for(u=t[g][0];u<=t[g][1];u++)y[b++]=p[g][u];return y}function R(t){var e=D(t);return e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function B(t,e){return t<-.3&&(t=3410),t/=1e3,t=Math.max(.1,t),3.64*Math.pow(t,-.8)-6.8*Math.exp(-.6*Math.pow(t-3.4,2))+6*Math.exp(-.15*Math.pow(t-8.7,2))+.001*(.6+.04*e)*Math.pow(t,4)}this.L3psycho_anal_ns=function(t,e,r,c,u,f,h,p,y,b){var _,k,E,D,N,L,R,B,z,F=t.internal_flags,H=a([2,A.BLKSIZE]),U=a([2,3,A.BLKSIZE_s]),W=i(A.CBANDS+1),V=i(A.CBANDS+1),Y=i(A.CBANDS+2),G=o(2),X=o(2),Z=a([2,576]),q=o(A.CBANDS+2),K=o(A.CBANDS+2);for(l(K,0),_=F.channels_out,t.mode==g.JOINT_STEREO&&(_=4),z=t.VBR==v.vbr_off?0==F.ResvMax?0:F.ResvSize/F.ResvMax*.5:t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh||t.VBR==v.vbr_mt?.6:1,k=0;k<F.channels_out;k++){var Q=e[k],J=r+576-350-21+192;for(D=0;D<576;D++){var $,tt;for($=Q[J+D+10],N=tt=0;N<9;N+=2)$+=P[N]*(Q[J+D+N]+Q[J+D+21-N]),tt+=P[N+1]*(Q[J+D+N+1]+Q[J+D+21-N-1]);Z[k][D]=$+tt}u[c][k].en.assign(F.en[k]),u[c][k].thm.assign(F.thm[k]),2<_&&n()}for(k=0;k<_;k++){var et,nt=i(12),rt=[0,0,0,0],ot=i(12),it=1,at=i(A.CBANDS),st=i(A.CBANDS),ct=[0,0,0,0],ut=i(A.HBLKSIZE),lt=a([3,A.HBLKSIZE_s]);for(D=0;D<3;D++)nt[D]=F.nsPsy.last_en_subshort[k][D+6],ot[D]=nt[D]/F.nsPsy.last_en_subshort[k][D+4],rt[0]+=nt[D];2==k&&n();var ft=Z[1&k],ht=0;for(D=0;D<9;D++){for(var dt=ht+64,pt=1;ht<dt;ht++)pt<Math.abs(ft[ht])&&(pt=Math.abs(ft[ht]));F.nsPsy.last_en_subshort[k][D]=nt[D+3]=pt,rt[1+D/3]+=pt,pt>nt[D+3-2]?pt/=nt[D+3-2]:pt=nt[D+3-2]>10*pt?nt[D+3-2]/(10*pt):0,ot[D+3]=pt}for(t.analysis&&n(),et=3==k?F.nsPsy.attackthre_s:F.nsPsy.attackthre,D=0;D<12;D++)0==ct[D/3]&&ot[D]>et&&(ct[D/3]=D%3+1);for(D=1;D<4;D++)(rt[D-1]>rt[D]?rt[D-1]/rt[D]:rt[D]/rt[D-1])<1.7&&(ct[D]=0,1==D&&(ct[0]=0));for(0!=ct[0]&&0!=F.nsPsy.lastAttacks[k]&&(ct[0]=0),3!=F.nsPsy.lastAttacks[k]&&ct[0]+ct[1]+ct[2]+ct[3]==0||((it=0)!=ct[1]&&0!=ct[0]&&(ct[1]=0),0!=ct[2]&&0!=ct[1]&&(ct[2]=0),0!=ct[3]&&0!=ct[2]&&(ct[3]=0)),k<2?X[k]=it:n(),y[k]=F.tot_ener[k],s(t,ut,lt,H,1&k,U,1&k,c,k,e,r),I(F,ut,W,at,st),T(F,at,st,q),B=0;B<3;B++){var vt,gt;for(C(t,lt,V,Y,k,B),x(F,V,Y,k,B),R=0;R<A.SBMAX_s;R++){if(gt=F.thm[k].s[R][B],gt*=.8,2<=ct[B]||1==ct[B+1]){var mt=0!=B?B-1:2;pt=O(F.thm[k].s[R][mt],gt,.6*z);gt=Math.min(gt,pt)}if(1==ct[B]){mt=0!=B?B-1:2,pt=O(F.thm[k].s[R][mt],gt,.3*z);gt=Math.min(gt,pt)}else if(0!=B&&3==ct[B-1]||0==B&&3==F.nsPsy.lastAttacks[k]){mt=2!=B?B+1:0,pt=O(F.thm[k].s[R][mt],gt,.3*z);gt=Math.min(gt,pt)}vt=nt[3*B+3]+nt[3*B+4]+nt[3*B+5],6*nt[3*B+5]<vt&&(gt*=.5,6*nt[3*B+4]<vt&&(gt*=.5)),F.thm[k].s[R][B]=gt}}for(F.nsPsy.lastAttacks[k]=ct[2],E=L=0;E<F.npart_l;E++){for(var yt=F.s3ind[E][0],bt=W[yt]*m[q[yt]],_t=F.s3_ll[L++]*bt;++yt<=F.s3ind[E][1];)bt=W[yt]*m[q[yt]],_t=w(_t,F.s3_ll[L++]*bt,yt,yt-E,F,0);_t*=.158489319246111,F.blocktype_old[1&k]==A.SHORT_TYPE?Y[E]=_t:Y[E]=O(Math.min(_t,Math.min(2*F.nb_1[k][E],16*F.nb_2[k][E])),_t,z),F.nb_2[k][E]=F.nb_1[k][E],F.nb_1[k][E]=_t}for(;E<=A.CBANDS;++E)W[E]=0,Y[E]=0;S(F,W,Y,k)}for(t.mode!=g.STEREO&&t.mode!=g.JOINT_STEREO||n(),t.mode==g.JOINT_STEREO&&n(),function(t,e,n,r){var o=t.internal_flags;t.short_blocks!=d.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var i=0;i<o.channels_out;i++)r[i]=A.NORM_TYPE,t.short_blocks==d.short_block_dispensed&&(e[i]=1),t.short_blocks==d.short_block_forced&&(e[i]=0),0!=e[i]?o.blocktype_old[i]==A.SHORT_TYPE&&(r[i]=A.STOP_TYPE):(r[i]=A.SHORT_TYPE,o.blocktype_old[i]==A.NORM_TYPE&&(o.blocktype_old[i]=A.START_TYPE),o.blocktype_old[i]==A.STOP_TYPE&&(o.blocktype_old[i]=A.SHORT_TYPE)),n[i]=o.blocktype_old[i],o.blocktype_old[i]=r[i]}(t,X,b,G),k=0;k<_;k++){var wt,xt,St,Ct=0;1<k?n():(wt=h,Ct=0,xt=b[k],St=u[c][k]),wt[Ct+k]=xt==A.SHORT_TYPE?M(St,F.masking_lower):j(St,F.masking_lower),t.analysis&&(F.pinfo.pe[c][k]=wt[Ct+k])}return 0},this.psymodel_init=function(n){var r,o=n.internal_flags,a=!0,s=13,l=0,h=0,d=-8.25,g=-4.5,m=i(A.CBANDS),y=i(A.CBANDS),b=i(A.CBANDS),_=n.out_samplerate;switch(n.experimentalZ){default:case 0:a=!0;break;case 1:a=n.VBR!=v.vbr_mtrh&&n.VBR!=v.vbr_mt;break;case 2:a=!1;break;case 3:s=8,l=-1.75,h=-.0125,d=-8.25,g=-2.25}for(o.ms_ener_ratio_old=.25,o.blocktype_old[0]=o.blocktype_old[1]=A.NORM_TYPE,r=0;r<4;++r){for(var w=0;w<A.CBANDS;++w)o.nb_1[r][w]=1e20,o.nb_2[r][w]=1e20,o.nb_s1[r][w]=o.nb_s2[r][w]=1;for(var x=0;x<A.SBMAX_l;x++)o.en[r].l[x]=1e20,o.thm[r].l[x]=1e20;for(w=0;w<3;++w){for(x=0;x<A.SBMAX_s;x++)o.en[r].s[x][w]=1e20,o.thm[r].s[x][w]=1e20;o.nsPsy.lastAttacks[r]=0}for(w=0;w<9;w++)o.nsPsy.last_en_subshort[r][w]=10}for(o.loudness_sq_save[0]=o.loudness_sq_save[1]=0,o.npart_l=N(o.numlines_l,o.bo_l,o.bm_l,m,y,o.mld_l,o.PSY.bo_l_weight,_,A.BLKSIZE,o.scalefac_band.l,A.BLKSIZE/1152,A.SBMAX_l),r=0;r<o.npart_l;r++){var S=l;m[r]>=s&&(S=h*(m[r]-s)/(24-s)+l*(24-m[r])/(24-s)),b[r]=Math.pow(10,S/10),0<o.numlines_l[r]?o.rnumlines_l[r]=1/o.numlines_l[r]:o.rnumlines_l[r]=0}o.s3_ll=L(o.s3ind,o.npart_l,m,y,b,a);var C;w=0;for(r=0;r<o.npart_l;r++){M=p.MAX_VALUE;for(var O=0;O<o.numlines_l[r];O++,w++){var k=_*w/(1e3*A.BLKSIZE);E=this.ATHformula(1e3*k,n)-20,E=Math.pow(10,.1*E),(E*=o.numlines_l[r])<M&&(M=E)}o.ATH.cb_l[r]=M,6<(M=20*m[r]/10-20)&&(M=100),M<-15&&(M=-15),M-=8,o.minval_l[r]=Math.pow(10,M/10)*o.numlines_l[r]}for(o.npart_s=N(o.numlines_s,o.bo_s,o.bm_s,m,y,o.mld_s,o.PSY.bo_s_weight,_,A.BLKSIZE_s,o.scalefac_band.s,A.BLKSIZE_s/384,A.SBMAX_s),r=w=0;r<o.npart_s;r++){var M;S=d;m[r]>=s&&(S=g*(m[r]-s)/(24-s)+d*(24-m[r])/(24-s)),b[r]=Math.pow(10,S/10),M=p.MAX_VALUE;for(O=0;O<o.numlines_s[r];O++,w++){var E;k=_*w/(1e3*A.BLKSIZE_s);E=this.ATHformula(1e3*k,n)-20,E=Math.pow(10,.1*E),(E*=o.numlines_s[r])<M&&(M=E)}o.ATH.cb_s[r]=M,M=7*m[r]/12-7,12<m[r]&&(M*=1+3.1*Math.log(1+M)),m[r]<12&&(M*=1+2.3*Math.log(1-M)),M<-15&&(M=-15),M-=8,o.minval_s[r]=Math.pow(10,M/10)*o.numlines_s[r]}o.s3_ss=L(o.s3ind_s,o.npart_s,m,y,b,a),c=Math.pow(10,9/16),u=Math.pow(10,1.5),f=Math.pow(10,1.5),t.init_fft(o),o.decay=Math.exp(-1*e/(.01*_/192)),C=3.5,0!=(2&n.exp_nspsytune)&&(C=1),0<Math.abs(n.msfix)&&(C=n.msfix),n.msfix=C;for(var j=0;j<o.npart_l;j++)o.s3ind[j][1]>o.npart_l-1&&(o.s3ind[j][1]=o.npart_l-1);var I=576*o.mode_gr/_;if(o.ATH.decay=Math.pow(10,-1.2*I),o.ATH.adjust=.01,-(o.ATH.adjustLimit=1)!=n.ATHtype){var T=n.out_samplerate/A.BLKSIZE,P=0;for(r=k=0;r<A.BLKSIZE/2;++r)k+=T,o.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(k,n)/10),P+=o.ATH.eql_w[r];for(P=1/P,r=A.BLKSIZE/2;0<=--r;)o.ATH.eql_w[r]*=P}for(j=w=0;j<o.npart_s;++j)for(r=0;r<o.numlines_s[j];++r)++w;for(j=w=0;j<o.npart_l;++j)for(r=0;r<o.numlines_l[j];++r)++w;for(r=w=0;r<o.npart_l;r++){k=_*(w+o.numlines_l[r]/2)/(1*A.BLKSIZE);o.mld_cb_l[r]=R(k),w+=o.numlines_l[r]}for(;r<A.CBANDS;++r)o.mld_cb_l[r]=1;for(r=w=0;r<o.npart_s;r++){k=_*(w+o.numlines_s[r]/2)/(1*A.BLKSIZE_s);o.mld_cb_s[r]=R(k),w+=o.numlines_s[r]}for(;r<A.CBANDS;++r)o.mld_cb_s[r]=1;return 0},this.ATHformula=function(t,e){var n;switch(e.ATHtype){case 0:n=B(t,9);break;case 1:n=B(t,-1);break;case 2:n=B(t,0);break;case 3:n=B(t,1)+6;break;case 4:n=B(t,e.ATHcurve);break;default:n=B(t,0)}return n}}function N(){var t,e,r,a,u,l=this;N.V9=410,N.V8=420,N.V7=430,N.V6=440,N.V5=450,N.V4=460,N.V3=470,N.V2=480,N.V1=490,N.V0=500,N.R3MIX=1e3,N.STANDARD=1001,N.EXTREME=1002,N.INSANE=1003,N.STANDARD_FAST=1004,N.EXTREME_FAST=1005,N.MEDIUM=1006,N.MEDIUM_FAST=1007,N.LAME_MAXMP3BUFFER=147456;var f,h,p=new D;function m(){this.lowerlimit=0}function b(t,e){this.lowpass=e}this.enc=new A,this.setModules=function(n,o,i,s,c,l,d,v,g){t=n,e=o,r=i,a=s,u=c,f=l,h=v,this.enc.setModules(e,p,a,f)};var w=4294479419;function C(t,e){var n=[new b(8,2e3),new b(16,3700),new b(24,3900),new b(32,5500),new b(40,7e3),new b(48,7500),new b(56,1e4),new b(64,11e3),new b(80,13500),new b(96,15100),new b(112,15600),new b(128,17e3),new b(160,17500),new b(192,18600),new b(224,19400),new b(256,19700),new b(320,20500)],r=l.nearestBitrateFullIndex(e);t.lowerlimit=n[r].lowpass}function O(t){var e=A.BLKSIZE+t.framesize-A.FFTOFFSET;return Math.max(e,512+t.framesize-32)}function k(){this.n_in=0,this.n_out=0}function M(t,e,r,o,i,a){var s=t.internal_flags;if(s.resample_ratio<.9999||1.0001<s.resample_ratio)n();else{a.n_out=Math.min(t.framesize,i),a.n_in=a.n_out;for(var c=0;c<a.n_out;++c)e[0][s.mf_size+c]=r[0][o+c],2==s.channels_out&&(e[1][s.mf_size+c]=r[1][o+c])}}this.lame_init=function(){var t,e,n=new function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=g.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null};return 0!=((t=n).class_id=w,e=t.internal_flags=new P,t.mode=g.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,e.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=v.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,e.VBR_min_bitrate=1,e.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,e.resample_ratio=1,e.OldValue[0]=180,e.OldValue[1]=180,e.CurrentStep[0]=4,e.CurrentStep[1]=4,e.masking_lower=1,e.nsPsy.attackthre=-1,e.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,e.mf_samples_to_encode=A.ENCDELAY+A.POSTDELAY,t.encoder_padding=0,e.mf_size=A.ENCDELAY-A.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,e.decode_on_the_fly=!1,e.findReplayGain=!1,e.findPeakSample=!1,e.RadioGain=0,e.AudiophileGain=0,e.noclipGainChange=0,e.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0)?null:(n.lame_allocated_gfp=1,n)},this.nearestBitrateFullIndex=function(t){var e=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,o=0,i=0;i=e[16],r=e[o=16],n=16;for(var a=0;a<16;a++)if(Math.max(t,e[a+1])!=t){i=e[a+1],o=a+1,r=e[a],n=a;break}return t-r<i-t?n:o},this.lame_init_params=function(t){var c,l,y=t.internal_flags;if(y.Class_ID=0,null==y.ATH&&(y.ATH=new function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=i(A.SBMAX_l),this.s=i(A.SBMAX_s),this.psfb21=i(A.PSFB21),this.psfb12=i(A.PSFB12),this.cb_l=i(A.CBANDS),this.cb_s=i(A.CBANDS),this.eql_w=i(A.BLKSIZE/2)}),null==y.PSY&&(y.PSY=new function(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(A.SBMAX_l),this.bo_s_weight=i(A.SBMAX_s)}),null==y.rgdata&&(y.rgdata=new function(){}),y.channels_in=t.num_channels,1==y.channels_in&&(t.mode=g.MONO),y.channels_out=t.mode==g.MONO?1:2,y.mode_ext=A.MPG_MD_MS_LR,t.mode==g.MONO&&(t.force_ms=!1),t.VBR==v.vbr_off&&128!=t.VBR_mean_bitrate_kbps&&0==t.brate&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==v.vbr_off||t.VBR==v.vbr_mtrh||t.VBR==v.vbr_mt||(t.free_format=!1),t.VBR==v.vbr_off&&0==t.brate&&n(),t.VBR==v.vbr_off&&0<t.compression_ratio&&n(),0!=t.out_samplerate&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),0==t.lowpassfreq){var b=16e3;switch(t.VBR){case v.vbr_off:C(_=new m,t.brate),b=_.lowerlimit;break;case v.vbr_abr:var _;C(_=new m,t.VBR_mean_bitrate_kbps),b=_.lowerlimit;break;case v.vbr_rh:n();default:n()}t.mode!=g.MONO||t.VBR!=v.vbr_off&&t.VBR!=v.vbr_abr||(b*=1.5),t.lowpassfreq=0|b}switch(0==t.out_samplerate&&n(),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==v.vbr_off&&(t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.brate)),t.VBR==v.vbr_abr&&n(),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,y.findPeakSample=!1),y.findReplayGain=t.findReplayGain,y.decode_on_the_fly=t.decode_on_the_fly,y.decode_on_the_fly&&(y.findPeakSample=!0),y.findReplayGain&&n(),y.decode_on_the_fly&&!t.decode_only&&n(),y.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*y.mode_gr,t.encoder_delay=A.ENCDELAY,y.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case v.vbr_mt:case v.vbr_rh:case v.vbr_mtrh:t.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][t.VBR_q];break;case v.vbr_abr:t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.brate)}t.mode==g.NOT_SET&&(t.mode=g.JOINT_STEREO),0<t.highpassfreq?n():(y.highpass1=0,y.highpass2=0),0<t.lowpassfreq?(y.lowpass2=2*t.lowpassfreq,0<=t.lowpasswidth?n():y.lowpass1=2*t.lowpassfreq,y.lowpass1/=t.out_samplerate,y.lowpass2/=t.out_samplerate):n(),function(t){var e,r=t.internal_flags,o=32;if(0<r.lowpass1){for(var i=999,a=0;a<=31;a++){(u=a/31)>=r.lowpass2&&(o=Math.min(o,a)),r.lowpass1<u&&u<r.lowpass2&&(i=Math.min(i,a))}r.lowpass1=999==i?(o-.75)/31:(i-.75)/31,r.lowpass2=o/31}0<r.highpass2&&n(),0<r.highpass2&&n();for(a=0;a<32;a++){var s,c,u=a/31;r.highpass2>r.highpass1?n():s=1,c=r.lowpass2>r.lowpass1?1<(e=(u-r.lowpass1)/(r.lowpass2-r.lowpass1+1e-20))?0:e<=0?1:Math.cos(Math.PI/2*e):1,r.amp_filter[a]=s*c}}(t),y.samplerate_index=function(t,e){switch(t){case 44100:return e.version=1,0;case 48e3:return e.version=1;case 32e3:return e.version=1,2;case 22050:return e.version=0;case 24e3:return e.version=0,1;case 16e3:return e.version=0,2;case 11025:return e.version=0;case 12e3:return e.version=0,1;case 8e3:return e.version=0,2;default:return e.version=0,-1}}(t.out_samplerate,t),y.samplerate_index<0&&n(),t.VBR==v.vbr_off?t.free_format?y.bitrate_index=0:(t.brate=function(t,e,n){n<16e3&&(e=2);for(var r=x.bitrate_table[e][1],o=2;o<=14;o++)0<x.bitrate_table[e][o]&&Math.abs(x.bitrate_table[e][o]-t)<Math.abs(r-t)&&(r=x.bitrate_table[e][o]);return r}(t.brate,t.version,t.out_samplerate),y.bitrate_index=function(t,e,n){n<16e3&&(e=2);for(var r=0;r<=14;r++)if(0<x.bitrate_table[e][r]&&x.bitrate_table[e][r]==t)return r;return-1}(t.brate,t.version,t.out_samplerate),y.bitrate_index<=0&&n()):y.bitrate_index=1,t.analysis&&(t.bWriteVbrTag=!1),null!=y.pinfo&&(t.bWriteVbrTag=!1),e.init_bit_stream_w(y);for(var O,k=y.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),M=0;M<A.SBMAX_l+1;M++)y.scalefac_band.l[M]=a.sfBandIndex[k].l[M];for(M=0;M<A.PSFB21+1;M++){var j=(y.scalefac_band.l[22]-y.scalefac_band.l[21])/A.PSFB21,I=y.scalefac_band.l[21]+M*j;y.scalefac_band.psfb21[M]=I}y.scalefac_band.psfb21[A.PSFB21]=576;for(M=0;M<A.SBMAX_s+1;M++)y.scalefac_band.s[M]=a.sfBandIndex[k].s[M];for(M=0;M<A.PSFB12+1;M++){j=(y.scalefac_band.s[13]-y.scalefac_band.s[12])/A.PSFB12,I=y.scalefac_band.s[12]+M*j;y.scalefac_band.psfb12[M]=I}for(y.scalefac_band.psfb12[A.PSFB12]=192,1==t.version?y.sideinfo_len=1==y.channels_out?21:36:y.sideinfo_len=1==y.channels_out?13:21,t.error_protection&&(y.sideinfo_len+=2),l=void 0,l=(c=t).internal_flags,c.frameNum=0,c.write_id3tag_automatic&&h.id3tag_write_v2(c),l.bitrate_stereoMode_Hist=s([16,5]),l.bitrate_blockType_Hist=s([16,6]),l.PeakSample=0,c.bWriteVbrTag&&f.InitVbrTag(c),y.Class_ID=w,O=0;O<19;O++)y.nsPsy.pefirbuf[O]=700*y.mode_gr*y.channels_out;switch(-1==t.ATHtype&&(t.ATHtype=4),t.VBR){case v.vbr_mt:t.VBR=v.vbr_mtrh;case v.vbr_mtrh:null==t.useTemporal&&(t.useTemporal=!1),r.apply_preset(t,500-10*t.VBR_q,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),5<t.quality&&(t.quality=5),y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?y.sfb21_extra=!1:y.sfb21_extra=44e3<t.out_samplerate,y.iteration_loop=new VBRNewIterationLoop(u);break;case v.vbr_rh:r.apply_preset(t,500-10*t.VBR_q,0),y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?y.sfb21_extra=!1:y.sfb21_extra=44e3<t.out_samplerate,6<t.quality&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),y.iteration_loop=new VBROldIterationLoop(u);break;default:var T;y.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),(T=t.VBR)==v.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),r.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=T,y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,T==v.vbr_off?y.iteration_loop=new function(t){var e=t;this.quantize=e,this.iteration_loop=function(t,e,r,a){var s=t.internal_flags,c=i(E.SFBMAX),u=i(576),l=o(2),f=0,h=s.l3_side,d=new S(f);this.quantize.rv.ResvFrameBegin(t,d),f=d.bits;for(var p=0;p<s.mode_gr;p++){this.quantize.qupvt.on_pe(t,e,l,f,p,p),s.mode_ext==A.MPG_MD_MS_LR&&n();for(var v=0;v<s.channels_out;v++){var g,m,y=h.tt[p][v];y.block_type!=A.SHORT_TYPE?(g=0,m=s.PSY.mask_adjust-g):(g=0,m=s.PSY.mask_adjust_short-g),s.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(s,y),this.quantize.init_xrpow(s,y,u)&&(this.quantize.qupvt.calc_xmin(t,a[p][v],y,c),this.quantize.outer_loop(t,y,c,u,v,l[v])),this.quantize.iteration_finish_one(s,p,v)}}this.quantize.rv.ResvFrameEnd(s,f)}}(u):n()}return t.VBR!=v.vbr_off&&n(),t.tune&&n(),function(t){var e=t.internal_flags;switch(t.quality){default:case 9:e.psymodel=0,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 8:t.quality=7;case 7:e.psymodel=1,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 6:case 5:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 4:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 3:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=1,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 2:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=1,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 1:case 0:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0}}(t),t.athaa_type<0?y.ATH.useAdjust=3:y.ATH.useAdjust=t.athaa_type,y.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),null==t.short_blocks&&(t.short_blocks=d.short_block_allowed),t.short_blocks!=d.short_block_allowed||t.mode!=g.JOINT_STEREO&&t.mode!=g.STEREO||(t.short_blocks=d.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=1|t.exp_nspsytune,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=D.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=D.NSATTACKTHRE_S),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),null==t.useTemporal&&(t.useTemporal=!0),y.slot_lag=y.frac_SpF=0,t.VBR==v.vbr_off&&(y.slot_lag=y.frac_SpF=72e3*(t.version+1)*t.brate%t.out_samplerate|0),a.iteration_init(t),p.psymodel_init(t),0},this.lame_encode_flush=function(t,r,o,i){var a,s,u,l,f=t.internal_flags,h=c([2,1152]),d=0,p=f.mf_samples_to_encode-A.POSTDELAY,v=O(t);if(f.mf_samples_to_encode<1)return 0;for(a=0,t.in_samplerate!=t.out_samplerate&&n(),(u=t.framesize-p%t.framesize)<576&&(u+=t.framesize),t.encoder_padding=u,l=(p+u)/t.framesize;0<l&&0<=d;){var g=v-f.mf_size,m=t.frameNum;g*=t.in_samplerate,1152<(g/=t.out_samplerate)&&(g=1152),g<1&&(g=1),s=i-a,0==i&&(s=0),o+=d=this.lame_encode_buffer(t,h[0],h[1],g,r,o,s),a+=d,l-=m!=t.frameNum?1:0}return f.mf_samples_to_encode=0,d<0?d:(s=i-a,0==i&&(s=0),e.flush_bitstream(t),(d=e.copy_buffer(f,r,o,s,1))<0?d:(o+=d,s=i-(a+=d),0==i&&(s=0),t.write_id3tag_automatic&&n(),a))},this.lame_encode_buffer=function(r,o,a,s,c,u,f){var h,d,p=r.internal_flags,v=[null,null];if(p.Class_ID!=w)return-3;if(0==s)return 0;d=s,(null==(h=p).in_buffer_0||h.in_buffer_nsamples<d)&&(h.in_buffer_0=i(d),h.in_buffer_1=i(d),h.in_buffer_nsamples=d),v[0]=p.in_buffer_0,v[1]=p.in_buffer_1;for(var g=0;g<s;g++)v[0][g]=o[g],1<p.channels_in&&(v[1][g]=a[g]);return function(r,o,i,a,s,c,u){var f,h,d,p,v,g=r.internal_flags,m=0,b=[null,null],x=[null,null];if(g.Class_ID!=w)return-3;if(0==a)return 0;if((v=e.copy_buffer(g,s,c,u,0))<0)return v;if(c+=v,m+=v,x[0]=o,x[1]=i,_.NEQ(r.scale,0)&&_.NEQ(r.scale,1))for(h=0;h<a;++h)x[0][h]*=r.scale,2==g.channels_out&&(x[1][h]*=r.scale);if(_.NEQ(r.scale_left,0)&&_.NEQ(r.scale_left,1))for(h=0;h<a;++h)x[0][h]*=r.scale_left;if(_.NEQ(r.scale_right,0)&&_.NEQ(r.scale_right,1))for(h=0;h<a;++h)x[1][h]*=r.scale_right;2==r.num_channels&&1==g.channels_out&&n(),p=O(r),b[0]=g.mfbuf[0],b[1]=g.mfbuf[1];for(var S,C,E,j,I,A,T,P=0;0<a;){var D,N,L=[null,null];L[0]=x[0],L[1]=x[1];var R=new k;if(M(r,b,L,P,a,R),D=R.n_in,N=R.n_out,g.findReplayGain&&!g.decode_on_the_fly&&t.AnalyzeSamples(g.rgdata,b[0],g.mf_size,b[1],g.mf_size,N,g.channels_out)==y.GAIN_ANALYSIS_ERROR)return-6;if(a-=D,P+=D,g.channels_out,g.mf_size+=N,g.mf_samples_to_encode<1&&n(),g.mf_samples_to_encode+=N,g.mf_size>=p){var B=u-m;if(0==u&&(B=0),S=r,C=b[0],E=b[1],j=s,I=c,A=B,T=l.enc.lame_encode_mp3_frame(S,C,E,j,I,A),S.frameNum++,(f=T)<0)return f;for(c+=f,m+=f,g.mf_size-=r.framesize,g.mf_samples_to_encode-=r.framesize,d=0;d<g.channels_out;d++)for(h=0;h<g.mf_size;h++)b[d][h]=b[d][h+r.framesize]}}return m}(r,v[0],v[1],s,c,u,f)}}E.SFBMAX=3*A.SBMAX_s,A.ENCDELAY=576,A.POSTDELAY=1152,A.FFTOFFSET=224+(A.MDCTDELAY=48),A.DECDELAY=528,A.SBLIMIT=32,A.CBANDS=64,A.SBPSY_l=21,A.SBPSY_s=12,A.SBMAX_l=22,A.SBMAX_s=13,A.PSFB21=6,A.PSFB12=6,A.HBLKSIZE=(A.BLKSIZE=1024)/2+1,A.HBLKSIZE_s=(A.BLKSIZE_s=256)/2+1,A.NORM_TYPE=0,A.START_TYPE=1,A.SHORT_TYPE=2,A.STOP_TYPE=3,A.MPG_MD_LR_LR=0,A.MPG_MD_LR_I=1,A.MPG_MD_MS_LR=2,A.MPG_MD_MS_I=3,A.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],P.MFSIZE=3456+A.ENCDELAY-A.MDCTDELAY,P.MAX_HEADER_BUF=256,P.MAX_BITS_PER_CHANNEL=4095,P.MAX_BITS_PER_GRANULE=7680,P.BPC=320,E.SFBMAX=3*A.SBMAX_s,e.Mp3Encoder=function(t,e,o){1!=t&&n("fix cc: only supports mono");var i=new N,a=new function(){this.setModules=function(t,e){}},s=new y,c=new _,u=new function(){function t(t,e,n,r,o,i,a,s,c,u,l,f,h,d){this.quant_comp=e,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=o,this.st_lrm=i,this.st_s=a,this.nsbass=s,this.scale=c,this.masking_adj=u,this.ath_lower=l,this.ath_curve=f,this.interch=h,this.sfscale=d}var e;function r(t,e,r){n()}this.setModules=function(t){e=t};var o=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function i(t,n,r){var i=n,a=e.nearestBitrateFullIndex(n);if(t.VBR=v.vbr_abr,t.VBR_mean_bitrate_kbps=i,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,320<t.VBR_mean_bitrate_kbps&&(t.disable_reservoir=!0),0<o[a].safejoint&&(t.exp_nspsytune=2|t.exp_nspsytune),0<o[a].sfscale&&(t.internal_flags.noise_shaping=2),0<Math.abs(o[a].nsbass)){var s=int(4*o[a].nsbass);s<0&&(s+=64),t.exp_nspsytune=t.exp_nspsytune|s<<2}return 0!=r?t.quant_comp=o[a].quant_comp:0<Math.abs(t.quant_comp- -1)||(t.quant_comp=o[a].quant_comp),0!=r?t.quant_comp_short=o[a].quant_comp_s:0<Math.abs(t.quant_comp_short- -1)||(t.quant_comp_short=o[a].quant_comp_s),0!=r?t.msfix=o[a].nsmsfix:0<Math.abs(t.msfix- -1)||(t.msfix=o[a].nsmsfix),0!=r?t.internal_flags.nsPsy.attackthre=o[a].st_lrm:0<Math.abs(t.internal_flags.nsPsy.attackthre- -1)||(t.internal_flags.nsPsy.attackthre=o[a].st_lrm),0!=r?t.internal_flags.nsPsy.attackthre_s=o[a].st_s:0<Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)||(t.internal_flags.nsPsy.attackthre_s=o[a].st_s),0!=r?t.scale=o[a].scale:0<Math.abs(t.scale- -1)||(t.scale=o[a].scale),0!=r?t.maskingadjust=o[a].masking_adj:0<Math.abs(t.maskingadjust-0)||(t.maskingadjust=o[a].masking_adj),0<o[a].masking_adj?0!=r?t.maskingadjust_short=.9*o[a].masking_adj:0<Math.abs(t.maskingadjust_short-0)||(t.maskingadjust_short=.9*o[a].masking_adj):0!=r?t.maskingadjust_short=1.1*o[a].masking_adj:0<Math.abs(t.maskingadjust_short-0)||(t.maskingadjust_short=1.1*o[a].masking_adj),0!=r?t.ATHlower=-o[a].ath_lower/10:0<Math.abs(10*-t.ATHlower-0)||(t.ATHlower=-o[a].ath_lower/10),0!=r?t.ATHcurve=o[a].ath_curve:0<Math.abs(t.ATHcurve- -1)||(t.ATHcurve=o[a].ath_curve),0!=r?t.interChRatio=o[a].interch:0<Math.abs(t.interChRatio- -1)||(t.interChRatio=o[a].interch),n}this.apply_preset=function(t,e,n){switch(e){case N.R3MIX:e=N.V3,t.VBR=v.vbr_mtrh;break;case N.MEDIUM:e=N.V4,t.VBR=v.vbr_rh;break;case N.MEDIUM_FAST:e=N.V4,t.VBR=v.vbr_mtrh;break;case N.STANDARD:e=N.V2,t.VBR=v.vbr_rh;break;case N.STANDARD_FAST:e=N.V2,t.VBR=v.vbr_mtrh;break;case N.EXTREME:e=N.V0,t.VBR=v.vbr_rh;break;case N.EXTREME_FAST:e=N.V0,t.VBR=v.vbr_mtrh;break;case N.INSANE:return e=320,t.preset=e,i(t,e,n),t.VBR=v.vbr_off,e}switch(t.preset=e){case N.V9:case N.V8:case N.V7:case N.V6:case N.V5:case N.V4:case N.V3:case N.V2:case N.V1:case N.V0:return r(),e}return 8<=e&&e<=320?i(t,e,n):(t.preset=0,e)}},l=new k,f=new j,h=new b,d=new function(){this.getLameShortVersion=function(){return"3.98.4"}},p=new function(){this.setModules=function(t,e){}},w=new function(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,r){var o,i=e.internal_flags,a=i.l3_side,s=t.getframebits(e);r.bits=(s-8*i.sideinfo_len)/i.mode_gr;var c=2048*i.mode_gr-8;320<e.brate?n():(o=11520,e.strict_ISO&&n()),i.ResvMax=o-s,i.ResvMax>c&&(i.ResvMax=c),(i.ResvMax<0||e.disable_reservoir)&&(i.ResvMax=0);var u=r.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return o<u&&(u=o),a.resvDrain_pre=0,null!=i.pinfo&&n(),u},this.ResvMaxBits=function(t,e,n,r){var o,i=t.internal_flags,a=i.ResvSize,s=i.ResvMax;0!=r&&(a+=e),0!=(1&i.substep_shaping)&&(s*=.9),n.bits=e,9*s<10*a?(o=a-9*s/10,n.bits+=o,i.substep_shaping|=128):(o=0,i.substep_shaping&=127,t.disable_reservoir||0!=(1&i.substep_shaping)||(n.bits-=.1*e));var c=a<6*i.ResvMax/10?a:6*i.ResvMax/10;return(c-=o)<0&&(c=0),c},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var n,r=t.l3_side;t.ResvSize+=e*t.mode_gr;var o=0;r.resvDrain_post=0,(r.resvDrain_pre=0)!=(n=t.ResvSize%8)&&(o+=n),0<(n=t.ResvSize-o-t.ResvMax)&&(o+=n);var i=Math.min(8*r.main_data_begin,o)/8;r.resvDrain_pre+=8*i,o-=8*i,t.ResvSize-=8*i,r.main_data_begin-=i,r.resvDrain_post+=o,t.ResvSize-=o}},x=new m,S=new function(){this.setModules=function(t,e,n){}},C=new function(){};i.setModules(s,c,u,l,f,h,d,p,C),c.setModules(s,C,d,h),p.setModules(c,d),u.setModules(i),f.setModules(c,w,l,x),l.setModules(x,w,i.enc.psy),w.setModules(c),x.setModules(l),h.setModules(i,c,d),a.setModules(S,C),S.setModules(d,p,u);var O=i.lame_init();O.num_channels=t,O.in_samplerate=e,O.out_samplerate=e,O.brate=o,O.mode=g.STEREO,O.quality=3,O.bWriteVbrTag=!1,O.disable_reservoir=!0,O.write_id3tag_automatic=!1,i.lame_init_params(O);var M=1152,E=0|1.25*M+7200,I=r(E);this.encodeBuffer=function(e,n){1==t&&(n=e),e.length>M&&(M=e.length,I=r(E=0|1.25*M+7200));var o=i.lame_encode_buffer(O,e,n,e.length,I,0,E);return new Int8Array(I.subarray(0,o))},this.flush=function(){var t=i.lame_encode_flush(O,I,0,E);return new Int8Array(I.subarray(0,t))}}}e(),t.lamejs=e}(("object"==("undefined"===typeof window?"undefined":o(window))&&window.document?window:Object).Recorder)}).call(this,n(157)(t))},1311:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var e="object"==("undefined"===typeof window?"undefined":n(window))&&!!window.document,r=(e?window:Object).Recorder,o=r.i18n;!function(t,e,n,r){"use strict";var o=function(t){return new a(t)},i="WaveSurferView",a=function(t){var e={scale:2,fps:50,duration:2500,direction:1,position:0,centerHeight:1,linear:[0,"rgba(0,187,17,1)",.7,"rgba(255,215,0,1)",1,"rgba(255,102,0,1)"],centerColor:""};for(var o in t)e[o]=t[o];this.set=t=e;var a="compatibleCanvas";if(t[a])var s=this.canvas=t[a],c=this.canvas2=t[a+"_2x"];else{if(!r)throw new Error(n.G("NonBrowser-1",[i]));var u=t.elem;u&&("string"==typeof u?u=document.querySelector(u):u.length&&(u=u[0])),u&&(t.width=u.offsetWidth,t.height=u.offsetHeight);var l=this.elem=document.createElement("div");l.style.fontSize=0,l.innerHTML='<canvas style="width:100%;height:100%;"/>';s=this.canvas=l.querySelector("canvas"),c=this.canvas2=document.createElement("canvas");u&&(u.innerHTML="",u.appendChild(l))}var f=t.scale,h=t.width*f,d=t.height*f;if(!h||!d)throw new Error(n.G("IllegalArgs-1",[i+" width=0 height=0"]));s.width=h,s.height=d;this.ctx=s.getContext("2d");c.width=2*h,c.height=d;this.ctx2=c.getContext("2d");this.x=0};a.prototype=o.prototype={genLinear:function(t,e,n,r){for(var o=t.createLinearGradient(0,n,0,r),i=0;i<e.length;)o.addColorStop(e[i++],e[i++]);return o},input:function(t,e,n){this.sampleRate=n,this.pcmData=t,this.pcmPos=0,this.inputTime=Date.now(),this.schedule()},schedule:function(){var t=this,e=t.set,n=Math.floor(1e3/e.fps);t.timer||(t.timer=setInterval((function(){t.schedule()}),n));var r=Date.now();if(!(r-(t.drawTime||0)<n)){t.drawTime=r;for(var o=t.sampleRate/e.fps,i=t.pcmData,a=t.pcmPos,s=new Int16Array(Math.min(o,i.length-a)),c=0;c<s.length;c++,a++)s[c]=i[a];t.pcmPos=a,s.length?t.draw(s,t.sampleRate):r-t.inputTime>1300&&(clearInterval(t.timer),t.timer=0)}},draw:function(t,e){var n=this.set,r=this.ctx2,o=n.scale,i=n.width*o,a=2*i,s=n.height*o,c=1*o,u=n.position,l=Math.abs(n.position),f=1==u?0:s,h=s;l<1&&(f=h/=2,h=Math.floor(h*(1+l)),f=Math.floor(u>0?f*(1-l):f*(1+l)));var d=1e3*t.length/e*i/n.duration,p=0;(d+=this.drawLoss||0)<c?this.drawLoss=d:(this.drawLoss=0,p=Math.floor(d/c));for(var v=this.genLinear(r,n.linear,f,f-h),g=this.genLinear(r,n.linear,f,f+h),m=this.x,y=t.length/p,b=0,_=0;b<p;b++){var w=Math.floor(_),x=Math.floor(_+y);_+=y;for(var S=0;w<x;w++)S=Math.max(S,Math.abs(t[w]));var C=h*Math.min(1,S/32767);0!=f&&(r.fillStyle=v,r.fillRect(m,f-C,c,C)),f!=s&&(r.fillStyle=g,r.fillRect(m,f,c,C)),(m+=c)>=a&&(r.clearRect(0,0,i,s),r.drawImage(this.canvas2,i,0,i,s,0,0,i,s),r.clearRect(i,0,i,s),m=i)}this.x=m,(r=this.ctx).clearRect(0,0,i,s);var O=n.centerHeight*o;if(O){var k=f-Math.floor(O/2);k=Math.max(k,0),k=Math.min(k,s-O),r.fillStyle=n.centerColor||n.linear[1],r.fillRect(0,k,i,O)}var M=0,E=m,j=0;E>i?(M=E-i,E=i):j=i-E,-1==n.direction?r.drawImage(this.canvas2,M,0,E,s,j,0,E,s):(r.save(),r.scale(-1,1),r.drawImage(this.canvas2,M,0,E,s,-i+j,0,E,s),r.restore())}},t[i]=o}(r,0,o.$T,e)}()},1312:function(t,e,n){"use strict";var r=n(1196),o=n(100);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RHAP_UI",{enumerable:!0,get:function(){return E.RHAP_UI}}),e.default=void 0;var i=r(n(344)),a=r(n(345)),s=r(n(1191)),c=r(n(1197)),u=r(n(1198)),l=r(n(1199)),f=r(n(70)),h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var n=I(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),d=n(1314),p=r(n(1315)),v=r(n(1316)),g=r(n(1317)),m=r(n(1318)),y=r(n(1319)),b=r(n(1320)),_=r(n(1321)),w=r(n(1322)),x=r(n(1323)),S=r(n(1324)),C=r(n(1325)),O=r(n(1327)),k=r(n(1328)),M=r(n(1329)),E=n(1330),j=n(1200);function I(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(I=function(t){return t?n:e})(t)}function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var T=function(t){(0,c.default)(n,t);var e=A(n);function n(){var t;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,f.default)((0,s.default)(t),"audio",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"progressBar",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"container",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"lastVolume",t.props.volume),(0,f.default)((0,s.default)(t),"listenTracker",void 0),(0,f.default)((0,s.default)(t),"volumeAnimationTimer",void 0),(0,f.default)((0,s.default)(t),"downloadProgressAnimationTimer",void 0),(0,f.default)((0,s.default)(t),"togglePlay",(function(e){e.stopPropagation();var n=t.audio.current;(n.paused||n.ended)&&n.src?t.playAudioPromise():n.paused||(n.pause(),t.props.onPause&&t.props.onPause(e,"user"))})),(0,f.default)((0,s.default)(t),"playAudioPromise",(function(){var e=t.audio.current.play();e?e.then(null).catch((function(e){var n=t.props.onPlayError;n&&n(new Error(e))})):t.forceUpdate()})),(0,f.default)((0,s.default)(t),"isPlaying",(function(){var e=t.audio.current;return!!e&&(!e.paused&&!e.ended)})),(0,f.default)((0,s.default)(t),"handlePlay",(function(e){t.forceUpdate(),t.props.onPlay&&t.props.onPlay(e)})),(0,f.default)((0,s.default)(t),"handlePause",(function(e){t.audio&&(t.forceUpdate(),t.props.onPause&&t.props.onPause(e))})),(0,f.default)((0,s.default)(t),"handleEnded",(function(e){t.audio&&(t.forceUpdate(),t.props.onEnded&&t.props.onEnded(e))})),(0,f.default)((0,s.default)(t),"handleAbort",(function(e){t.props.onAbort&&t.props.onAbort(e)})),(0,f.default)((0,s.default)(t),"handleClickVolumeButton",(function(){var e=t.audio.current;e.volume>0?(t.lastVolume=e.volume,e.volume=0):e.volume=t.lastVolume})),(0,f.default)((0,s.default)(t),"handleMuteChange",(function(){t.forceUpdate()})),(0,f.default)((0,s.default)(t),"handleClickLoopButton",(function(){t.audio.current.loop=!t.audio.current.loop,t.forceUpdate()})),(0,f.default)((0,s.default)(t),"handleClickRewind",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,o=n.backward||r;t.setJumpTime(-o)})),(0,f.default)((0,s.default)(t),"handleClickForward",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,o=n.forward||r;t.setJumpTime(o)})),(0,f.default)((0,s.default)(t),"setJumpTime",(function(e){var n=t.audio.current,r=n.duration,o=n.currentTime;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(r)||!isFinite(o))return t.props.onChangeCurrentTimeError&&t.props.onChangeCurrentTimeError();var i=o+e/1e3;i<0?(n.currentTime=0,i=0):i>r?(n.currentTime=r,i=r):n.currentTime=i})),(0,f.default)((0,s.default)(t),"setJumpVolume",(function(e){var n=t.audio.current.volume+e;n<0?n=0:n>1&&(n=1),t.audio.current.volume=n})),(0,f.default)((0,s.default)(t),"handleKeyDown",(function(e){if(t.props.hasDefaultKeyBindings)switch(e.key){case" ":e.target!==t.container.current&&e.target!==t.progressBar.current||(e.preventDefault(),t.togglePlay(e));break;case"ArrowLeft":t.handleClickRewind();break;case"ArrowRight":t.handleClickForward();break;case"ArrowUp":e.preventDefault(),t.setJumpVolume(t.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),t.setJumpVolume(-t.props.volumeJumpStep);break;case"l":t.handleClickLoopButton();break;case"m":t.handleClickVolumeButton()}})),(0,f.default)((0,s.default)(t),"renderUIModules",(function(e){return e.map((function(e,n){return t.renderUIModule(e,n)}))})),(0,f.default)((0,s.default)(t),"renderUIModule",(function(e,n){var r=t.props,o=r.defaultCurrentTime,i=r.progressUpdateInterval,a=r.showDownloadProgress,s=r.showFilledProgress,c=r.showFilledVolume,u=r.defaultDuration,l=r.customIcons,f=r.showSkipControls,I=r.onClickPrevious,A=r.onClickNext,T=r.onChangeCurrentTimeError,P=r.showJumpControls,D=r.customAdditionalControls,N=r.customVolumeControls,L=r.muted,R=r.timeFormat,B=r.volume,z=r.loop,F=r.mse,H=r.i18nAriaLabels;switch(e){case E.RHAP_UI.CURRENT_TIME:return h.default.createElement("div",{key:n,id:"rhap_current-time",className:"rhap_time rhap_current-time"},h.default.createElement(O.default,{audio:t.audio.current,isLeftTime:!1,defaultCurrentTime:o,timeFormat:R}));case E.RHAP_UI.CURRENT_LEFT_TIME:return h.default.createElement("div",{key:n,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},h.default.createElement(O.default,{audio:t.audio.current,isLeftTime:!0,defaultCurrentTime:o,timeFormat:R}));case E.RHAP_UI.PROGRESS_BAR:return h.default.createElement(C.default,{key:n,ref:t.progressBar,audio:t.audio.current,progressUpdateInterval:i,showDownloadProgress:a,showFilledProgress:s,onSeek:F&&F.onSeek,onChangeCurrentTimeError:T,srcDuration:F&&F.srcDuration,i18nProgressBar:H.progressControl});case E.RHAP_UI.DURATION:return h.default.createElement("div",{key:n,className:"rhap_time rhap_total-time"},F&&F.srcDuration?(0,j.getDisplayTimeBySeconds)(F.srcDuration,F.srcDuration,t.props.timeFormat):h.default.createElement(k.default,{audio:t.audio.current,defaultDuration:u,timeFormat:R}));case E.RHAP_UI.ADDITIONAL_CONTROLS:return h.default.createElement("div",{key:n,className:"rhap_additional-controls"},t.renderUIModules(D));case E.RHAP_UI.MAIN_CONTROLS:var U,W=t.isPlaying();return U=W?l.pause?l.pause:h.default.createElement(d.Icon,{icon:v.default}):l.play?l.play:h.default.createElement(d.Icon,{icon:p.default}),h.default.createElement("div",{key:n,className:"rhap_main-controls"},f&&h.default.createElement("button",{"aria-label":H.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:I},l.previous?l.previous:h.default.createElement(d.Icon,{icon:g.default})),P&&h.default.createElement("button",{"aria-label":H.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:t.handleClickRewind},l.rewind?l.rewind:h.default.createElement(d.Icon,{icon:b.default})),h.default.createElement("button",{"aria-label":W?H.pause:H.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:t.togglePlay},U),P&&h.default.createElement("button",{"aria-label":H.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:t.handleClickForward},l.forward?l.forward:h.default.createElement(d.Icon,{icon:y.default})),f&&h.default.createElement("button",{"aria-label":H.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:A},l.next?l.next:h.default.createElement(d.Icon,{icon:m.default})));case E.RHAP_UI.VOLUME_CONTROLS:return h.default.createElement("div",{key:n,className:"rhap_volume-controls"},t.renderUIModules(N));case E.RHAP_UI.LOOP:var V,Y=t.audio.current?t.audio.current.loop:z;return V=Y?l.loop?l.loop:h.default.createElement(d.Icon,{icon:x.default}):l.loopOff?l.loopOff:h.default.createElement(d.Icon,{icon:S.default}),h.default.createElement("button",{key:n,"aria-label":Y?H.loop:H.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:t.handleClickLoopButton},V);case E.RHAP_UI.VOLUME:var G,X=(t.audio.current||{}).volume,Z=void 0===X?L?0:B:X;return G=Z?l.volume?l.volume:h.default.createElement(d.Icon,{icon:_.default}):l.volume?l.volumeMute:h.default.createElement(d.Icon,{icon:w.default}),h.default.createElement("div",{key:n,className:"rhap_volume-container"},h.default.createElement("button",{"aria-label":Z?H.volume:H.volumeMute,onClick:t.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},G),h.default.createElement(M.default,{audio:t.audio.current,volume:Z,onMuteChange:t.handleMuteChange,showFilledVolume:c,i18nVolumeControl:H.volumeControl}));default:return(0,h.isValidElement)(e)?e.key?e:(0,h.cloneElement)(e,{key:n}):null}})),t}return(0,a.default)(n,[{key:"componentDidMount",value:function(){var t=this;this.forceUpdate();var e=this.audio.current;this.props.muted?e.volume=0:e.volume=this.lastVolume,e.addEventListener("error",(function(e){t.props.onError&&t.props.onError(e)})),e.addEventListener("canplay",(function(e){t.props.onCanPlay&&t.props.onCanPlay(e)})),e.addEventListener("canplaythrough",(function(e){t.props.onCanPlayThrough&&t.props.onCanPlayThrough(e)})),e.addEventListener("play",this.handlePlay),e.addEventListener("abort",this.handleAbort),e.addEventListener("ended",this.handleEnded),e.addEventListener("playing",(function(e){t.props.onPlaying&&t.props.onPlaying(e)})),e.addEventListener("seeking",(function(e){t.props.onSeeking&&t.props.onSeeking(e)})),e.addEventListener("seeked",(function(e){t.props.onSeeked&&t.props.onSeeked(e)})),e.addEventListener("waiting",(function(e){t.props.onWaiting&&t.props.onWaiting(e)})),e.addEventListener("emptied",(function(e){t.props.onEmptied&&t.props.onEmptied(e)})),e.addEventListener("stalled",(function(e){t.props.onStalled&&t.props.onStalled(e)})),e.addEventListener("suspend",(function(e){t.props.onSuspend&&t.props.onSuspend(e)})),e.addEventListener("loadstart",(function(e){t.props.onLoadStart&&t.props.onLoadStart(e)})),e.addEventListener("loadedmetadata",(function(e){t.props.onLoadedMetaData&&t.props.onLoadedMetaData(e)})),e.addEventListener("loadeddata",(function(e){t.props.onLoadedData&&t.props.onLoadedData(e)})),e.addEventListener("pause",this.handlePause),e.addEventListener("timeupdate",(0,j.throttle)((function(e){t.props.onListen&&t.props.onListen(e)}),this.props.listenInterval)),e.addEventListener("volumechange",(function(e){t.props.onVolumeChange&&t.props.onVolumeChange(e)})),e.addEventListener("encrypted",(function(e){var n=t.props.mse;n&&n.onEcrypted&&n.onEcrypted(e)}))}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.src,r=e.autoPlayAfterSrcChange;t.src!==n&&(r?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.src,r=t.loop,o=t.preload,i=t.autoPlay,a=t.crossOrigin,s=t.mediaGroup,c=t.header,u=t.footer,l=t.layout,f=t.customProgressBarSection,d=t.customControlsSection,p=t.children,v=t.style,g=t.i18nAriaLabels,m=this.audio.current?this.audio.current.loop:r,y=m?"rhap_loop--on":"rhap_loop--off",b=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return h.default.createElement("div",{role:"group",tabIndex:0,"aria-label":g.player,className:"rhap_container ".concat(y," ").concat(b," ").concat(e),onKeyDown:this.handleKeyDown,ref:this.container,style:v},h.default.createElement("audio",{src:n,controls:!1,loop:m,autoPlay:i,preload:o,crossOrigin:a,mediaGroup:s,ref:this.audio},p),c&&h.default.createElement("div",{className:"rhap_header"},c),h.default.createElement("div",{className:"rhap_main ".concat((0,j.getMainLayoutClassName)(l))},h.default.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(f)),h.default.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(d))),u&&h.default.createElement("div",{className:"rhap_footer"},u))}}]),n}(h.Component);(0,f.default)(T,"defaultProps",{autoPlay:!1,autoPlayAfterSrcChange:!0,listenInterval:1e3,progressJumpStep:5e3,progressJumpSteps:{},volumeJumpStep:.1,loop:!1,muted:!1,preload:"auto",progressUpdateInterval:20,defaultCurrentTime:"--:--",defaultDuration:"--:--",timeFormat:"auto",volume:1,className:"",showJumpControls:!0,showSkipControls:!1,showDownloadProgress:!0,showFilledProgress:!0,showFilledVolume:!1,customIcons:{},customProgressBarSection:[E.RHAP_UI.CURRENT_TIME,E.RHAP_UI.PROGRESS_BAR,E.RHAP_UI.DURATION],customControlsSection:[E.RHAP_UI.ADDITIONAL_CONTROLS,E.RHAP_UI.MAIN_CONTROLS,E.RHAP_UI.VOLUME_CONTROLS],customAdditionalControls:[E.RHAP_UI.LOOP],customVolumeControls:[E.RHAP_UI.VOLUME],layout:"stacked",hasDefaultKeyBindings:!0,i18nAriaLabels:{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"}});var P=T;e.default=P},1313:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1314:function(t,e,n){"use strict";n.r(e),n.d(e,"Icon",(function(){return zt})),n.d(e,"InlineIcon",(function(){return Ft})),n.d(e,"_api",(function(){return Ht})),n.d(e,"addAPIProvider",(function(){return Y})),n.d(e,"addCollection",(function(){return O})),n.d(e,"addIcon",(function(){return C})),n.d(e,"buildIcon",(function(){return P})),n.d(e,"calculateSize",(function(){return T})),n.d(e,"disableCache",(function(){return Rt})),n.d(e,"enableCache",(function(){return Lt})),n.d(e,"getIcon",(function(){return M})),n.d(e,"iconExists",(function(){return k})),n.d(e,"listIcons",(function(){return _})),n.d(e,"loadIcon",(function(){return bt})),n.d(e,"loadIcons",(function(){return yt})),n.d(e,"replaceIDs",(function(){return R}));var r=n(3);const o=/^[a-z0-9]+(-[a-z0-9]+)*$/,i=(t,e,n,r="")=>{const o=t.split(":");if("@"===t.slice(0,1)){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const t=o.pop(),n=o.pop(),i={provider:o.length>0?o[0]:r,prefix:n,name:t};return e&&!a(i)?null:i}const i=o[0],s=i.split("-");if(s.length>1){const t={provider:r,prefix:s.shift(),name:s.join("-")};return e&&!a(t)?null:t}if(n&&""===r){const t={provider:r,prefix:"",name:i};return e&&!a(t,n)?null:t}return null},a=(t,e)=>!!t&&!(""!==t.provider&&!t.provider.match(o)||!(e&&""===t.prefix||t.prefix.match(o))||!t.name.match(o)),s=Object.freeze({left:0,top:0,width:16,height:16}),c=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),u=Object.freeze({...s,...c}),l=Object.freeze({...u,body:"",hidden:!1});function f(t,e){const n=function(t,e){const n={};!t.hFlip!==!e.hFlip&&(n.hFlip=!0),!t.vFlip!==!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}(t,e);for(const r in l)r in c?r in t&&!(r in n)&&(n[r]=c[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function h(t,e,n){const r=t.icons,o=t.aliases||Object.create(null);let i={};function a(t){i=f(r[t]||o[t],i)}return a(e),n.forEach(a),f(t,i)}function d(t,e){const n=[];if("object"!==typeof t||"object"!==typeof t.icons)return n;t.not_found instanceof Array&&t.not_found.forEach(t=>{e(t,null),n.push(t)});const r=function(t,e){const n=t.icons,r=t.aliases||Object.create(null),o=Object.create(null);return(e||Object.keys(n).concat(Object.keys(r))).forEach((function t(e){if(n[e])return o[e]=[];if(!(e in o)){o[e]=null;const n=r[e]&&r[e].parent,i=n&&t(n);i&&(o[e]=[n].concat(i))}return o[e]})),o}(t);for(const o in r){const i=r[o];i&&(e(o,h(t,o,i)),n.push(o))}return n}const p={provider:"",aliases:{},not_found:{},...s};function v(t,e){for(const n in e)if(n in t&&typeof t[n]!==typeof e[n])return!1;return!0}function g(t){if("object"!==typeof t||null===t)return null;const e=t;if("string"!==typeof e.prefix||!t.icons||"object"!==typeof t.icons)return null;if(!v(t,p))return null;const n=e.icons;for(const i in n){const t=n[i];if(!i.match(o)||"string"!==typeof t.body||!v(t,l))return null}const r=e.aliases||Object.create(null);for(const i in r){const t=r[i],e=t.parent;if(!i.match(o)||"string"!==typeof e||!n[e]&&!r[e]||!v(t,l))return null}return e}const m=Object.create(null);function y(t,e){const n=m[t]||(m[t]=Object.create(null));return n[e]||(n[e]=function(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}(t,e))}function b(t,e){return g(e)?d(e,(e,n)=>{n?t.icons[e]=n:t.missing.add(e)}):[]}function _(t,e){let n=[];return("string"===typeof t?[t]:Object.keys(m)).forEach(t=>{("string"===typeof t&&"string"===typeof e?[e]:Object.keys(m[t]||{})).forEach(e=>{const r=y(t,e);n=n.concat(Object.keys(r.icons).map(n=>(""!==t?"@"+t+":":"")+e+":"+n))})}),n}let w=!1;function x(t){return"boolean"===typeof t&&(w=t),w}function S(t){const e="string"===typeof t?i(t,!0,w):t;if(e){const t=y(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function C(t,e){const n=i(t,!0,w);if(!n)return!1;return function(t,e,n){try{if("string"===typeof n.body)return t.icons[e]={...n},!0}catch(r){}return!1}(y(n.provider,n.prefix),n.name,e)}function O(t,e){if("object"!==typeof t)return!1;if("string"!==typeof e&&(e=t.provider||""),w&&!e&&!t.prefix){let e=!1;return g(t)&&(t.prefix="",d(t,(t,n)=>{n&&C(t,n)&&(e=!0)})),e}const n=t.prefix;if(!a({provider:e,prefix:n,name:"a"}))return!1;return!!b(y(e,n),t)}function k(t){return!!S(t)}function M(t){const e=S(t);return e?{...u,...e}:null}const E=Object.freeze({width:null,height:null}),j=Object.freeze({...E,...c}),I=/(-?[0-9.]*[0-9]+[0-9.]*)/g,A=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function T(t,e,n){if(1===e)return t;if(n=n||100,"number"===typeof t)return Math.ceil(t*e*n)/n;if("string"!==typeof t)return t;const r=t.split(I);if(null===r||!r.length)return t;const o=[];let i=r.shift(),a=A.test(i);for(;;){if(a){const t=parseFloat(i);isNaN(t)?o.push(i):o.push(Math.ceil(t*e*n)/n)}else o.push(i);if(i=r.shift(),void 0===i)return o.join("");a=!a}}function P(t,e){const n={...u,...t},r={...j,...e},o={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,r].forEach(t=>{const e=[],n=t.hFlip,r=t.vFlip;let a,s=t.rotate;switch(n?r?s+=2:(e.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),e.push("scale(-1 1)"),o.top=o.left=0):r&&(e.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),e.push("scale(1 -1)"),o.top=o.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4,s){case 1:a=o.height/2+o.top,e.unshift("rotate(90 "+a.toString()+" "+a.toString()+")");break;case 2:e.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:a=o.width/2+o.left,e.unshift("rotate(-90 "+a.toString()+" "+a.toString()+")")}s%2===1&&(o.left!==o.top&&(a=o.left,o.left=o.top,o.top=a),o.width!==o.height&&(a=o.width,o.width=o.height,o.height=a)),e.length&&(i='<g transform="'+e.join(" ")+'">'+i+"</g>")});const a=r.width,s=r.height,c=o.width,l=o.height;let f,h;null===a?(h=null===s?"1em":"auto"===s?l:s,f=T(h,c/l)):(f="auto"===a?c:a,h=null===s?T(f,l/c):"auto"===s?l:s);const d={},p=(t,e)=>{(t=>"unset"===t||"undefined"===t||"none"===t)(e)||(d[t]=e.toString())};return p("width",f),p("height",h),d.viewBox=o.left.toString()+" "+o.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:d,body:i}}const D=/\sid="(\S+)"/g,N="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let L=0;function R(t,e=N){const n=[];let r;for(;r=D.exec(t);)n.push(r[1]);if(!n.length)return t;const o="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const r="function"===typeof e?e(n):e+(L++).toString(),i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+o+"$3")}),t=t.replace(new RegExp(o,"g"),"")}const B=Object.create(null);function z(t,e){B[t]=e}function F(t){return B[t]||B[""]}function H(t){let e;if("string"===typeof t.resources)e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:!0===t.random,index:t.index||0,dataAfterTimeout:!1!==t.dataAfterTimeout}}const U=Object.create(null),W=["https://api.simplesvg.com","https://api.unisvg.com"],V=[];for(;W.length>0;)1===W.length||Math.random()>.5?V.push(W.shift()):V.push(W.pop());function Y(t,e){const n=H(e);return null!==n&&(U[t]=n,!0)}function G(t){return U[t]}U[""]=H({resources:["https://api.iconify.design"].concat(V)});let X=(()=>{let t;try{if(t=fetch,"function"===typeof t)return t}catch(e){}})();const Z={prepare:(t,e,n)=>{const r=[],o=function(t,e){const n=G(t);if(!n)return 0;let r;if(n.maxURL){let t=0;n.resources.forEach(e=>{const n=e;t=Math.max(t,n.length)});const o=e+".json?icons=";r=n.maxURL-t-n.path.length-o.length}else r=0;return r}(t,e);let i={type:"icons",provider:t,prefix:e,icons:[]},a=0;return n.forEach((n,s)=>{a+=n.length+1,a>=o&&s>0&&(r.push(i),i={type:"icons",provider:t,prefix:e,icons:[]},a=n.length),i.icons.push(n)}),r.push(i),r},send:(t,e,n)=>{if(!X)return void n("abort",424);let r=function(t){if("string"===typeof t){const e=G(t);if(e)return e.path}return"/"}(e.provider);switch(e.type){case"icons":{const t=e.prefix,n=e.icons.join(",");r+=t+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const t=e.uri;r+="/"===t.slice(0,1)?t.slice(1):t;break}default:return void n("abort",400)}let o=503;X(t+r).then(t=>{const e=t.status;if(200===e)return o=501,t.json();setTimeout(()=>{n(function(t){return 404===t}(e)?"abort":"next",e)})}).then(t=>{"object"===typeof t&&null!==t?setTimeout(()=>{n("success",t)}):setTimeout(()=>{404===t?n("abort",t):n("next",o)})}).catch(()=>{n("next",o)})}};function q(t,e){t.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(t=>t.id!==e))})}let K=0;var Q={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function J(t,e,n,r){const o=t.resources.length,i=t.random?Math.floor(Math.random()*o):t.index;let a;if(t.random){let e=t.resources.slice(0);for(a=[];e.length>1;){const t=Math.floor(Math.random()*e.length);a.push(e[t]),e=e.slice(0,t).concat(e.slice(t+1))}a=a.concat(e)}else a=t.resources.slice(i).concat(t.resources.slice(0,i));const s=Date.now();let c,u="pending",l=0,f=null,h=[],d=[];function p(){f&&(clearTimeout(f),f=null)}function v(){"pending"===u&&(u="aborted"),p(),h.forEach(t=>{"pending"===t.status&&(t.status="aborted")}),h=[]}function g(t,e){e&&(d=[]),"function"===typeof t&&d.push(t)}function m(){u="failed",d.forEach(t=>{t(void 0,c)})}function y(){h.forEach(t=>{"pending"===t.status&&(t.status="aborted")}),h=[]}function b(){if("pending"!==u)return;p();const r=a.shift();if(void 0===r)return h.length?void(f=setTimeout(()=>{p(),"pending"===u&&(y(),m())},t.timeout)):void m();const o={status:"pending",resource:r,callback:(e,n)=>{!function(e,n,r){const o="success"!==n;switch(h=h.filter(t=>t!==e),u){case"pending":break;case"failed":if(o||!t.dataAfterTimeout)return;break;default:return}if("abort"===n)return c=r,void m();if(o)return c=r,void(h.length||(a.length?b():m()));if(p(),y(),!t.random){const n=t.resources.indexOf(e.resource);-1!==n&&n!==t.index&&(t.index=n)}u="completed",d.forEach(t=>{t(r)})}(o,e,n)}};h.push(o),l++,f=setTimeout(b,t.rotate),n(r,e,o.callback)}return"function"===typeof r&&d.push(r),setTimeout(b),function(){return{startTime:s,payload:e,status:u,queriesSent:l,queriesPending:h.length,subscribe:g,abort:v}}}function $(t){const e={...Q,...t};let n=[];function r(){n=n.filter(t=>"pending"===t().status)}return{query:function(t,o,i){const a=J(e,t,o,(t,e)=>{r(),i&&i(t,e)});return n.push(a),a},find:function(t){return n.find(e=>t(e))||null},setIndex:t=>{e.index=t},getIndex:()=>e.index,cleanup:r}}function tt(){}const et=Object.create(null);function nt(t,e,n){let r,o;if("string"===typeof t){const e=F(t);if(!e)return n(void 0,424),tt;o=e.send;const i=function(t){if(!et[t]){const e=G(t);if(!e)return;const n={config:e,redundancy:$(e)};et[t]=n}return et[t]}(t);i&&(r=i.redundancy)}else{const e=H(t);if(e){r=$(e);const n=F(t.resources?t.resources[0]:"");n&&(o=n.send)}}return r&&o?r.query(e,o,n)().abort:(n(void 0,424),tt)}function rt(t,e){try{return t.getItem(e)}catch(n){}}function ot(t,e,n){try{return t.setItem(e,n),!0}catch(r){}}function it(t,e){try{t.removeItem(e)}catch(n){}}function at(t,e){return ot(t,"iconify-count",e.toString())}function st(t){return parseInt(rt(t,"iconify-count"))||0}const ct={local:!0,session:!0},ut={local:new Set,session:new Set};let lt=!1;let ft="undefined"===typeof window?{}:window;function ht(t){const e=t+"Storage";try{if(ft&&ft[e]&&"number"===typeof ft[e].length)return ft[e]}catch(n){}ct[t]=!1}function dt(t,e){const n=ht(t);if(!n)return;const r=rt(n,"iconify-version");if("iconify2"!==r){if(r){const t=st(n);for(let e=0;e<t;e++)it(n,"iconify"+e.toString())}return ot(n,"iconify-version","iconify2"),void at(n,0)}const o=Math.floor(Date.now()/36e5)-168,i=t=>{const r="iconify"+t.toString(),i=rt(n,r);if("string"===typeof i){try{const n=JSON.parse(i);if("object"===typeof n&&"number"===typeof n.cached&&n.cached>o&&"string"===typeof n.provider&&"object"===typeof n.data&&"string"===typeof n.data.prefix&&e(n,t))return!0}catch(a){}it(n,r)}};let a=st(n);for(let s=a-1;s>=0;s--)i(s)||(s===a-1?(a--,at(n,a)):ut[t].add(s))}function pt(){if(!lt){lt=!0;for(const t in ct)dt(t,t=>{const e=t.data,n=y(t.provider,e.prefix);if(!b(n,e).length)return!1;const r=e.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,r):r,!0})}}function vt(t,e){function n(n){let r;if(!ct[n]||!(r=ht(n)))return;const o=ut[n];let i;if(o.size)o.delete(i=Array.from(o).shift());else if(i=st(r),!at(r,i+1))return;const a={cached:Math.floor(Date.now()/36e5),provider:t.provider,data:e};return ot(r,"iconify"+i.toString(),JSON.stringify(a))}lt||pt(),e.lastModified&&!function(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in ct)dt(r,n=>{const r=n.data;return n.provider!==t.provider||r.prefix!==t.prefix||r.lastModified===e});return!0}(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&delete(e=Object.assign({},e)).not_found,n("local")||n("session"))}function gt(){}function mt(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,function(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,o=t.prefix;e.forEach(e=>{const i=e.icons,a=i.pending.length;i.pending=i.pending.filter(e=>{if(e.prefix!==o)return!0;const a=e.name;if(t.icons[a])i.loaded.push({provider:r,prefix:o,name:a});else{if(!t.missing.has(a))return n=!0,!0;i.missing.push({provider:r,prefix:o,name:a})}return!1}),i.pending.length!==a&&(n||q([t],e.id),e.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),e.abort))})}))}(t)}))}const yt=(t,e)=>{const n=function(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((t,e)=>t.provider!==e.provider?t.provider.localeCompare(e.provider):t.prefix!==e.prefix?t.prefix.localeCompare(e.prefix):t.name.localeCompare(e.name));let r={provider:"",prefix:"",name:""};return t.forEach(t=>{if(r.name===t.name&&r.prefix===t.prefix&&r.provider===t.provider)return;r=t;const o=t.provider,i=t.prefix,a=t.name,s=n[o]||(n[o]=Object.create(null)),c=s[i]||(s[i]=y(o,i));let u;u=a in c.icons?e.loaded:""===i||c.missing.has(a)?e.missing:e.pending;const l={provider:o,prefix:i,name:a};u.push(l)}),e}(function(t,e=!0,n=!1){const r=[];return t.forEach(t=>{const o="string"===typeof t?i(t,e,n):t;o&&r.push(o)}),r}(t,!0,x()));if(!n.pending.length){let t=!0;return e&&setTimeout(()=>{t&&e(n.loaded,n.missing,n.pending,gt)}),()=>{t=!1}}const r=Object.create(null),o=[];let a,s;return n.pending.forEach(t=>{const{provider:e,prefix:n}=t;if(n===s&&e===a)return;a=e,s=n,o.push(y(e,n));const i=r[e]||(r[e]=Object.create(null));i[n]||(i[n]=[])}),n.pending.forEach(t=>{const{provider:e,prefix:n,name:o}=t,i=y(e,n),a=i.pendingIcons||(i.pendingIcons=new Set);a.has(o)||(a.add(o),r[e][n].push(o))}),o.forEach(t=>{const{provider:e,prefix:n}=t;r[e][n].length&&function(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:n}=t,r=t.iconsToLoad;let o;if(delete t.iconsToLoad,!r||!(o=F(e)))return;o.prepare(e,n,r).forEach(n=>{nt(e,n,e=>{if("object"!==typeof e)n.icons.forEach(e=>{t.missing.add(e)});else try{const n=b(t,e);if(!n.length)return;const r=t.pendingIcons;r&&n.forEach(t=>{r.delete(t)}),vt(t,e)}catch(r){console.error(r)}mt(t)})})}))}(t,r[e][n])}),e?function(t,e,n){const r=K++,o=q.bind(null,n,r);if(!e.pending.length)return o;const i={id:r,icons:e,callback:t,abort:o};return n.forEach(t=>{(t.loaderCallbacks||(t.loaderCallbacks=[])).push(i)}),o}(e,n,o):gt},bt=t=>new Promise((e,n)=>{const r="string"===typeof t?i(t,!0):t;r?yt([r||t],o=>{if(o.length&&r){const t=S(r);if(t)return void e({...u,...t})}n(t)}):n(t)});function _t(t,e){switch(t){case"local":case"session":ct[t]=e;break;case"all":for(const t in ct)ct[t]=e}}const wt=/[\s,]+/;function xt(t,e){e.split(wt).forEach(e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0}})}function St(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(t){for(;t<0;)t+=4;return t%4}if(""===n){const e=parseInt(t);return isNaN(e)?0:r(e)}if(n!==t){let e=0;switch(n){case"%":e=25;break;case"deg":e=90}if(e){let o=parseFloat(t.slice(0,t.length-n.length));return isNaN(o)?0:(o/=e,o%1===0?r(o):0)}}return e}let Ct;function Ot(t){return void 0===Ct&&function(){try{Ct=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch(t){Ct=null}}(),Ct?Ct.createHTML(t):t}const kt={...j,inline:!1},Mt={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Et={display:"inline-block"},jt={backgroundColor:"currentColor"},It={backgroundColor:"transparent"},At={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Tt={WebkitMask:jt,mask:jt,background:It};for(const Wt in Tt){const t=Tt[Wt];for(const e in At)t[Wt+e]=At[e]}const Pt={...kt,inline:!0};function Dt(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Nt=(t,e,n,o)=>{const i=n?Pt:kt,a=function(t,e){const n={...t};for(const r in e){const t=e[r],o=typeof t;r in E?(null===t||t&&("string"===o||"number"===o))&&(n[r]=t):o===typeof n[r]&&(n[r]="rotate"===r?t%4:t)}return n}(i,e),s=e.mode||"svg",c={},u=e.style||{},l={..."svg"===s?Mt:{},ref:o};for(let r in e){const t=e[r];if(void 0!==t)switch(r){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":a[r]=!0===t||"true"===t||1===t;break;case"flip":"string"===typeof t&&xt(a,t);break;case"color":c.color=t;break;case"rotate":"string"===typeof t?a[r]=St(t):"number"===typeof t&&(a[r]=t);break;case"ariaHidden":case"aria-hidden":!0!==t&&"true"!==t&&delete l["aria-hidden"];break;default:void 0===i[r]&&(l[r]=t)}}const f=P(t,a),h=f.attributes;if(a.inline&&(c.verticalAlign="-0.125em"),"svg"===s){l.style={...c,...u},Object.assign(l,h);let t=0,n=e.id;return"string"===typeof n&&(n=n.replace(/-/g,"_")),l.dangerouslySetInnerHTML={__html:Ot(R(f.body,n?()=>n+"ID"+t++:"iconifyReact"))},r.createElement("svg",l)}const{body:d,width:p,height:v}=t,g="mask"===s||"bg"!==s&&-1!==d.indexOf("currentColor"),m=function(t,e){let n=-1===t.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}(d,{...h,width:p+"",height:v+""});var y;return l.style={...c,"--svg":(y=m,'url("'+function(t){return"data:image/svg+xml,"+function(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(t)}(y)+'")'),width:Dt(h.width),height:Dt(h.height),...Et,...g?jt:It,...u},r.createElement("span",l)};function Lt(t){_t(t,!0)}function Rt(t){_t(t,!1)}if(x(!0),z("",Z),"undefined"!==typeof document&&"undefined"!==typeof window){pt();const t=window;if(void 0!==t.IconifyPreload){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";"object"===typeof e&&null!==e&&(e instanceof Array?e:[e]).forEach(t=>{try{("object"!==typeof t||null===t||t instanceof Array||"object"!==typeof t.icons||"string"!==typeof t.prefix||!O(t))&&console.error(n)}catch(e){console.error(n)}})}if(void 0!==t.IconifyProviders){const e=t.IconifyProviders;if("object"===typeof e&&null!==e)for(let t in e){const n="IconifyProviders["+t+"] is invalid.";try{const r=e[t];if("object"!==typeof r||!r||void 0===r.resources)continue;Y(t,r)||console.error(n)}catch(Ut){console.error(n)}}}}class Bt extends r.Component{constructor(t){super(t),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(t){this.state.icon!==t&&this.setState({icon:t})}_checkIcon(t){const e=this.state,n=this.props.icon;if("object"===typeof n&&null!==n&&"string"===typeof n.body)return this._icon="",this._abortLoading(),void((t||null===e.icon)&&this._setData({data:n}));let r;if("string"!==typeof n||null===(r=i(n,!1,!0)))return this._abortLoading(),void this._setData(null);const o=S(r);if(o){if(this._icon!==n||null===e.icon){this._abortLoading(),this._icon=n;const t=["iconify"];""!==r.prefix&&t.push("iconify--"+r.prefix),""!==r.provider&&t.push("iconify--"+r.provider),this._setData({data:o,classes:t}),this.props.onLoad&&this.props.onLoad(n)}}else this._loading&&this._loading.name===n||(this._abortLoading(),this._icon="",this._setData(null),null!==o&&(this._loading={name:n,abort:yt([r],this._checkIcon.bind(this,!1))}))}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(t){t.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const t=this.props,e=this.state.icon;if(null===e)return t.children?t.children:r.createElement("span",{});let n=t;return e.classes&&(n={...t,className:("string"===typeof t.className?t.className+" ":"")+e.classes.join(" ")}),Nt({...u,...e.data},n,t._inline,t._ref)}}const zt=r.forwardRef((function(t,e){const n={...t,_ref:e,_inline:!1};return r.createElement(Bt,n)})),Ft=r.forwardRef((function(t,e){const n={...t,_ref:e,_inline:!0};return r.createElement(Bt,n)})),Ht={getAPIConfig:G,setAPIModule:z,sendAPIQuery:nt,setFetch:function(t){X=t},getFetch:function(){return X},listAPIProviders:function(){return Object.keys(U)}}},1315:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M10 16.5v-9l6 4.5M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/>'}},1316:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M15 16h-2V8h2m-4 8H9V8h2m1-6A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/>'}},1317:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M6 18V6h2v12H6m3.5-6L18 6v12l-8.5-6Z"/>'}},1318:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M16 18h2V6h-2M6 18l8.5-6L6 6v12Z"/>'}},1319:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M13 6v12l8.5-6M4 18l8.5-6L4 6v12Z"/>'}},1320:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="m11.5 12l8.5 6V6m-9 12V6l-8.5 6l8.5 6Z"/>'}},1321:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77c0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3Z"/>'}},1322:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M3 9h4l5-5v16l-5-5H3V9m13.59 3L14 9.41L15.41 8L18 10.59L20.59 8L22 9.41L19.41 12L22 14.59L20.59 16L18 13.41L15.41 16L14 14.59L16.59 12Z"/>'}},1323:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M17 17H7v-3l-4 4l4 4v-3h12v-6h-2M7 7h10v3l4-4l-4-4v3H5v6h2V7Z"/>'}},1324:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M2 5.27L3.28 4L20 20.72L18.73 22l-3-3H7v3l-4-4l4-4v3h6.73L7 10.27V11H5V8.27l-3-3M17 13h2v4.18l-2-2V13m0-8V2l4 4l-4 4V7H8.82l-2-2H17Z"/>'}},1325:function(t,e,n){"use strict";var r=n(1196),o=n(100);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ProgressBarForwardRef=e.ProgressBar=void 0;var i=r(n(1326)),a=r(n(344)),s=r(n(345)),c=r(n(1191)),u=r(n(1197)),l=r(n(1198)),f=r(n(1199)),h=r(n(70)),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var n=v(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),p=n(1200);function v(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(v=function(t){return t?n:e})(t)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.default)(t);if(e){var o=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(t){(0,u.default)(n,t);var e=g(n);function n(){var t;(0,a.default)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,h.default)((0,c.default)(t),"audio",void 0),(0,h.default)((0,c.default)(t),"timeOnMouseMove",0),(0,h.default)((0,c.default)(t),"hasAddedAudioEventListener",!1),(0,h.default)((0,c.default)(t),"downloadProgressAnimationTimer",void 0),(0,h.default)((0,c.default)(t),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),(0,h.default)((0,c.default)(t),"getCurrentProgress",(function(e){var n=t.props,r=n.audio,o=n.progressBar;if(0!==r.src.indexOf("blob:")&&"undefined"===typeof t.props.srcDuration&&(!r.src||!isFinite(r.currentTime)||!o.current))return{currentTime:0,currentTimePos:"0%"};var i=o.current.getBoundingClientRect(),a=i.width,s=(0,p.getPosX)(e)-i.left;return s<0?s=0:s>a&&(s=a),{currentTime:t.getDuration()*s/a,currentTimePos:"".concat((s/a*100).toFixed(2),"%")}})),(0,h.default)((0,c.default)(t),"handleContextMenu",(function(t){t.preventDefault()})),(0,h.default)((0,c.default)(t),"handleMouseDownOrTouchStartProgressBar",(function(e){e.stopPropagation();var n=t.getCurrentProgress(e.nativeEvent),r=n.currentTime,o=n.currentTimePos;isFinite(r)&&(t.timeOnMouseMove=r,t.setState({isDraggingProgress:!0,currentTimePos:o}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.addEventListener("touchend",t.handleWindowMouseOrTouchUp)))})),(0,h.default)((0,c.default)(t),"handleWindowMouseOrTouchMove",(function(e){e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();var n=window.getSelection();if(n&&"Range"===n.type&&n.empty(),t.state.isDraggingProgress){var r=t.getCurrentProgress(e),o=r.currentTime,i=r.currentTimePos;t.timeOnMouseMove=o,t.setState({currentTimePos:i})}})),(0,h.default)((0,c.default)(t),"handleWindowMouseOrTouchUp",(function(e){e.stopPropagation();var n=t.timeOnMouseMove,r=t.props,o=r.audio,i=r.onChangeCurrentTimeError,a=r.onSeek;if(a)t.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},(function(){a(o,n).then((function(){return t.setState({waitingForSeekCallback:!1})}),(function(t){throw new Error(t)}))}));else{var s={isDraggingProgress:!1};o.readyState!==o.HAVE_NOTHING&&o.readyState!==o.HAVE_METADATA&&isFinite(n)?o.currentTime=n:(s.currentTimePos="0%",i&&i()),t.setState(s)}e instanceof MouseEvent?(window.removeEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,h.default)((0,c.default)(t),"handleAudioTimeUpdate",(0,p.throttle)((function(e){var n=t.state.isDraggingProgress,r=e.target;if(!n&&!0!==t.state.waitingForSeekCallback){var o=r.currentTime,i=t.getDuration();t.setState({currentTimePos:"".concat((o/i*100||0).toFixed(2),"%")})}}),t.props.progressUpdateInterval)),(0,h.default)((0,c.default)(t),"handleAudioDownloadProgressUpdate",(function(e){for(var n=e.target,r=t.getDuration(),o=[],i=0;i<n.buffered.length;i++){var a=n.buffered.start(i),s=n.buffered.end(i);o.push({left:"".concat(Math.round(100/r*a)||0,"%"),width:"".concat(Math.round(100/r*(s-a))||0,"%")})}clearTimeout(t.downloadProgressAnimationTimer),t.setState({downloadProgressArr:o,hasDownloadProgressAnimation:!0}),t.downloadProgressAnimationTimer=setTimeout((function(){t.setState({hasDownloadProgressAnimation:!1})}),200)})),t}return(0,s.default)(n,[{key:"getDuration",value:function(){var t=this.props,e=t.audio,n=t.srcDuration;return"undefined"===typeof n?e.duration:n}},{key:"componentDidUpdate",value:function(){var t=this.props.audio;t&&!this.hasAddedAudioEventListener&&(this.audio=t,this.hasAddedAudioEventListener=!0,t.addEventListener("timeupdate",this.handleAudioTimeUpdate),t.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var t=this.props,e=t.showDownloadProgress,n=t.showFilledProgress,r=t.progressBar,o=t.i18nProgressBar,i=this.state,a=i.currentTimePos,s=i.downloadProgressArr,c=i.hasDownloadProgressAnimation;return d.default.createElement("div",{className:"rhap_progress-container",ref:r,"aria-label":o,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(a.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},d.default.createElement("div",{className:"rhap_progress-bar ".concat(e?"rhap_progress-bar-show-download":"")},d.default.createElement("div",{className:"rhap_progress-indicator",style:{left:a}}),n&&d.default.createElement("div",{className:"rhap_progress-filled",style:{width:a}}),e&&s.map((function(t,e){var n=t.left,r=t.width;return d.default.createElement("div",{key:e,className:"rhap_download-progress",style:{left:n,width:r,transitionDuration:c?".2s":"0s"}})}))))}}]),n}(d.Component);e.ProgressBar=m;var y=function(t,e){return d.default.createElement(m,(0,i.default)({},t,{progressBar:e}))};e.ProgressBarForwardRef=y;var b=(0,d.forwardRef)(y);e.default=b},1326:function(t,e){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1327:function(t,e,n){"use strict";var r=n(1196);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(344)),i=r(n(345)),a=r(n(1191)),s=r(n(1197)),c=r(n(1198)),u=r(n(1199)),l=r(n(70)),f=n(3),h=n(1200);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.default)(t);if(e){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(t){(0,s.default)(n,t);var e=d(n);function n(t){var r;(0,o.default)(this,n),r=e.call(this,t),(0,l.default)((0,a.default)(r),"audio",void 0),(0,l.default)((0,a.default)(r),"hasAddedAudioEventListener",!1),(0,l.default)((0,a.default)(r),"state",{currentTime:r.props.defaultCurrentTime}),(0,l.default)((0,a.default)(r),"handleAudioCurrentTimeChange",(function(t){var e=t.target,n=r.props,o=n.isLeftTime,i=n.timeFormat,a=n.defaultCurrentTime;r.setState({currentTime:(0,h.getDisplayTimeBySeconds)(o?e.duration-e.currentTime:e.currentTime,e.duration,i)||a})})),(0,l.default)((0,a.default)(r),"addAudioEventListeners",(function(){var t=r.props.audio;t&&!r.hasAddedAudioEventListener&&(r.audio=t,r.hasAddedAudioEventListener=!0,t.addEventListener("timeupdate",r.handleAudioCurrentTimeChange),t.addEventListener("loadedmetadata",r.handleAudioCurrentTimeChange))}));var i=t.audio,s=t.defaultCurrentTime,c=t.isLeftTime,u=t.timeFormat,f=s;return i&&(f=(0,h.getDisplayTimeBySeconds)(c?i.duration-i.currentTime:i.currentTime,i.duration,u)),r.state={currentTime:f},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),n}(f.PureComponent);e.default=p},1328:function(t,e,n){"use strict";var r=n(1196);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(344)),i=r(n(345)),a=r(n(1191)),s=r(n(1197)),c=r(n(1198)),u=r(n(1199)),l=r(n(70)),f=n(3),h=n(1200);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.default)(t);if(e){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(t){(0,s.default)(n,t);var e=d(n);function n(t){var r;(0,o.default)(this,n),r=e.call(this,t),(0,l.default)((0,a.default)(r),"audio",void 0),(0,l.default)((0,a.default)(r),"hasAddedAudioEventListener",!1),(0,l.default)((0,a.default)(r),"state",{duration:r.props.audio?(0,h.getDisplayTimeBySeconds)(r.props.audio.duration,r.props.audio.duration,r.props.timeFormat):r.props.defaultDuration}),(0,l.default)((0,a.default)(r),"handleAudioDurationChange",(function(t){var e=t.target,n=r.props,o=n.timeFormat,i=n.defaultDuration;r.setState({duration:(0,h.getDisplayTimeBySeconds)(e.duration,e.duration,o)||i})})),(0,l.default)((0,a.default)(r),"addAudioEventListeners",(function(){var t=r.props.audio;t&&!r.hasAddedAudioEventListener&&(r.audio=t,r.hasAddedAudioEventListener=!0,t.addEventListener("durationchange",r.handleAudioDurationChange),t.addEventListener("abort",r.handleAudioDurationChange))}));var i=t.audio,s=t.timeFormat,c=t.defaultDuration;return r.state={duration:i?(0,h.getDisplayTimeBySeconds)(i.duration,i.duration,s):c},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),n}(f.PureComponent);e.default=p},1329:function(t,e,n){"use strict";var r=n(1196),o=n(100);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(344)),a=r(n(345)),s=r(n(1191)),c=r(n(1197)),u=r(n(1198)),l=r(n(1199)),f=r(n(70)),h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),d=n(1200);function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(t){(0,c.default)(n,t);var e=v(n);function n(){var t;(0,i.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,f.default)((0,s.default)(t),"audio",void 0),(0,f.default)((0,s.default)(t),"hasAddedAudioEventListener",!1),(0,f.default)((0,s.default)(t),"volumeBar",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"volumeAnimationTimer",0),(0,f.default)((0,s.default)(t),"lastVolume",t.props.volume),(0,f.default)((0,s.default)(t),"state",{currentVolumePos:"".concat((t.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),(0,f.default)((0,s.default)(t),"getCurrentVolume",(function(e){var n=t.props.audio;if(!t.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:t.state.currentVolumePos};var r,o,i=t.volumeBar.current.getBoundingClientRect(),a=i.width,s=(0,d.getPosX)(e)-i.left;return s<0?(r=0,o="0%"):s>i.width?(r=1,o="100%"):(r=s/a,o="".concat(s/a*100,"%")),{currentVolume:r,currentVolumePos:o}})),(0,f.default)((0,s.default)(t),"handleContextMenu",(function(t){t.preventDefault()})),(0,f.default)((0,s.default)(t),"handleClickVolumeButton",(function(){var e=t.props.audio;e.volume>0?(t.lastVolume=e.volume,e.volume=0):e.volume=t.lastVolume})),(0,f.default)((0,s.default)(t),"handleVolumnControlMouseOrTouchDown",(function(e){e.stopPropagation();var n=t.props.audio,r=t.getCurrentVolume(e.nativeEvent),o=r.currentVolume,i=r.currentVolumePos;n.volume=o,t.setState({isDraggingVolume:!0,currentVolumePos:i}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.addEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,f.default)((0,s.default)(t),"handleWindowMouseOrTouchMove",(function(e){e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();var n=t.props.audio,r=window.getSelection();if(r&&"Range"===r.type&&r.empty(),t.state.isDraggingVolume){var o=t.getCurrentVolume(e),i=o.currentVolume,a=o.currentVolumePos;n.volume=i,t.setState({currentVolumePos:a})}})),(0,f.default)((0,s.default)(t),"handleWindowMouseOrTouchUp",(function(e){e.stopPropagation(),t.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,f.default)((0,s.default)(t),"handleAudioVolumeChange",(function(e){var n=t.state.isDraggingVolume,r=e.target.volume;(t.lastVolume>0&&0===r||0===t.lastVolume&&r>0)&&t.props.onMuteChange(),t.lastVolume=r,n||(t.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((r/1*100||0).toFixed(2),"%")}),clearTimeout(t.volumeAnimationTimer),t.volumeAnimationTimer=setTimeout((function(){t.setState({hasVolumeAnimation:!1})}),100))})),t}return(0,a.default)(n,[{key:"componentDidUpdate",value:function(){var t=this.props.audio;t&&!this.hasAddedAudioEventListener&&(this.audio=t,this.hasAddedAudioEventListener=!0,t.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var t=this.props,e=t.audio,n=t.showFilledVolume,r=t.i18nVolumeControl,o=this.state,i=o.currentVolumePos,a=o.hasVolumeAnimation,s=(e||{}).volume;return h.default.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":r,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((100*s).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},h.default.createElement("div",{className:"rhap_volume-bar"},h.default.createElement("div",{className:"rhap_volume-indicator",style:{left:i,transitionDuration:a?".1s":"0s"}}),n&&h.default.createElement("div",{className:"rhap_volume-filled",style:{width:i}})))}}]),n}(h.Component);e.default=g},1330:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RHAP_UI=void 0,e.RHAP_UI=r,function(t){t.CURRENT_TIME="CURRENT_TIME",t.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",t.PROGRESS_BAR="PROGRESS_BAR",t.DURATION="DURATION",t.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",t.MAIN_CONTROLS="MAIN_CONTROLS",t.VOLUME_CONTROLS="VOLUME_CONTROLS",t.LOOP="LOOP",t.VOLUME="VOLUME"}(r||(e.RHAP_UI=r={}))},1331:function(t,e,n){(function(t){var r,o,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var n=i(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}Object.defineProperty(t,"__esModule",{value:!0}),function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}(t,{BlockMath:function(){return h},InlineMath:function(){return d}}),e=a(e),n=o(n),r=o(r);var c=function(t,o){var i=o.displayMode,a=function(n){var o=n.children,a=n.errorColor,s=n.math,c=n.renderError,u=null!==s&&void 0!==s?s:o,l=(0,e.useMemo)((function(){try{return{html:r.default.renderToString(u,{displayMode:i,errorColor:a,throwOnError:!!c}),error:void 0}}catch(h){if(h instanceof r.default.ParseError||h instanceof TypeError)return{error:h};throw h}}),[u,a,c]),f=l.html,h=l.error;return h?c?c(h):e.default.createElement(t,{html:"".concat(h.message)}):e.default.createElement(t,{html:f})};return a.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},a},u={html:n.default.string.isRequired},l=function(t){var n=t.html;return e.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};l.propTypes=u;var f=function(t){var n=t.html;return e.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};f.propTypes=u;var h=c(l,{displayMode:!0}),d=c(f,{displayMode:!1})},"object"===s(t)&&"object"===s(t.exports)?a(e,n(3),n(13),n(1274)):(o=[e,n(3),n(13),n(1274)],void 0===(i="function"===typeof(r=a)?r.apply(e,o):r)||(t.exports=i))}).call(this,n(157)(t))},1332:function(t,e,n){(function(e){var n=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof o?new o(t.type,r.util.encode(t.content),t.alias):Array.isArray(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var o,i,a=r.util.type(e);switch(n=n||{},a){case"Object":if(i=r.util.objId(e),n[i])return n[i];for(var s in o={},n[i]=o,e)e.hasOwnProperty(s)&&(o[s]=t(e[s],n));return o;case"Array":return i=r.util.objId(e),n[i]?n[i]:(o=[],n[i]=o,e.forEach((function(e,r){o[r]=t(e,n)})),o);default:return e}}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var o in e)n[o]=e[o];return n},insertBefore:function(t,e,n,o){var i=(o=o||r.languages)[t],a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==e)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(s)||(a[s]=i[s])}var u=o[t];return o[t]=a,r.languages.DFS(r.languages,(function(e,n){n===u&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,o,i){i=i||{};var a=r.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],o||s);var c=e[s],u=r.util.type(c);"Object"!==u||i[a(c)]?"Array"!==u||i[a(c)]||(i[a(c)]=!0,t(c,n,s,i)):(i[a(c)]=!0,t(c,n,null,i))}}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var i,a=t.querySelectorAll(o.selector),s=0;i=a[s++];)r.highlightElement(i,!0===e,o.callback)},highlightElement:function(n,o,i){for(var a,s="none",c=n;c&&!e.test(c.className);)c=c.parentNode;c&&(s=(c.className.match(e)||[,"none"])[1].toLowerCase(),a=r.languages[s]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,n.parentNode&&(c=n.parentNode,/pre/i.test(c.nodeName)&&(c.className=c.className.replace(e,"").replace(/\s+/g," ")+" language-"+s));var u={element:n,language:s,grammar:a,code:n.textContent},l=function(t){u.highlightedCode=t,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),i&&i.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(o&&t.Worker){var f=new Worker(r.filename);f.onmessage=function(t){l(t.data)},f.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else l(r.highlight(u.code,u.grammar,u.language));else l(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(t,e,n){var i={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},matchGrammar:function(t,e,n,i,a,s,c){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==c)return;var l=n[u];l="Array"===r.util.type(l)?l:[l];for(var f=0;f<l.length;++f){var h=l[f],d=h.inside,p=!!h.lookbehind,v=!!h.greedy,g=0,m=h.alias;if(v&&!h.pattern.global){var y=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,y+"g")}h=h.pattern||h;for(var b=i,_=a;b<e.length;_+=e[b].length,++b){var w=e[b];if(e.length>t.length)return;if(!(w instanceof o)){if(v&&b!=e.length-1){if(h.lastIndex=_,!(M=h.exec(t)))break;for(var x=M.index+(p?M[1].length:0),S=M.index+M[0].length,C=b,O=_,k=e.length;C<k&&(O<S||!e[C].type&&!e[C-1].greedy);++C)x>=(O+=e[C].length)&&(++b,_=O);if(e[b]instanceof o)continue;E=C-b,w=t.slice(_,O),M.index-=_}else{h.lastIndex=0;var M=h.exec(w),E=1}if(M){p&&(g=M[1]?M[1].length:0);S=(x=M.index+g)+(M=M[0].slice(g)).length;var j=w.slice(0,x),I=w.slice(S),A=[b,E];j&&(++b,_+=j.length,A.push(j));var T=new o(u,d?r.tokenize(M,d):M,m,M,v);if(A.push(T),I&&A.push(I),Array.prototype.splice.apply(e,A),1!=E&&r.matchGrammar(t,e,n,b,_,!0,u),s)break}else if(s)break}}}}},tokenize:function(t,e){var n=[t],o=e.rest;if(o){for(var i in o)e[i]=o[i];delete e.rest}return r.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var o,i=0;o=n[i++];)o(e)}},Token:o};function o(t,e,n,r,o){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}if(t.Prism=r,o.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return o.stringify(t,e)})).join("");var n={type:t.type,content:o.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var i=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,i)}r.hooks.run("wrap",n);var a=Object.keys(n.attributes).map((function(t){return t+'="'+(n.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(a?" "+a:"")+">"+n.content+"</"+n.tag+">"},!t.document)return t.addEventListener?(r.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),o=n.language,i=n.code,a=n.immediateClose;t.postMessage(r.highlight(i,r.languages[o],o)),a&&t.close()}),!1),r):r;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(r.filename=i.src,r.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=n),"undefined"!==typeof e&&(e.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+e]={pattern:/[\s\S]+/,inside:n.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:o},n.languages.insertBefore("markup","cdata",i)}}),n.languages.xml=n.languages.extend("markup",{}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,"undefined"!==typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach((function(t){if(!t.hasAttribute("data-src-loaded")){for(var r,o=t.getAttribute("data-src"),i=t,a=/\blang(?:uage)?-([\w-]+)\b/i;i&&!a.test(i.className);)i=i.parentNode;if(i&&(r=(t.className.match(a)||[,""])[1]),!r){var s=(o.match(/\.(\w+)$/)||[,""])[1];r=e[s]||s}var c=document.createElement("code");c.className="language-"+r,t.textContent="",c.textContent="Loading\u2026",t.appendChild(c);var u=new XMLHttpRequest;u.open("GET",o,!0),u.onreadystatechange=function(){4==u.readyState&&(u.status<400&&u.responseText?(c.textContent=u.responseText,n.highlightElement(c),t.setAttribute("data-src-loaded","")):u.status>=400?c.textContent="\u2716 Error "+u.status+" while fetching file: "+u.statusText:c.textContent="\u2716 Error: File does not exist or is empty")},u.send(null)}})),n.plugins.toolbar&&n.plugins.toolbar.registerButton("download-file",(function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),r=document.createElement("a");return r.textContent=e.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))}).call(this,n(53))},1336:function(t,e,n){"use strict";n(343),n(1371)},1337:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(27)),o=f(n(39)),i=f(n(40)),a=f(n(37)),s=f(n(45)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),u=f(n(1374)),l=f(n(1373));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};var d=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props,e=t.overlay,n=t.onSelect,o=void 0===n?function(){}:n,i=h(t,["overlay","onSelect"]),a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t};return c.Children.map(e,(function(e,r){var o=n(e,r);return"string"!==typeof o&&"number"!==typeof o&&o&&o.props&&o.props.children?c.cloneElement(o,{},t(o.props.children,n)):o}))}(e,(function(t,e){var n={firstItem:!1};return t&&"string"!==typeof t&&"number"!==typeof t&&t.type&&"PopoverItem"===t.type.myName&&!t.props.disabled?(n.onClick=function(){return o(t,e)},n.firstItem=0===e,c.cloneElement(t,n)):t})),s=c.createElement("div",{className:this.props.prefixCls+"-inner-wrapper"},a);return c.createElement(u.default,(0,r.default)({},i,{overlay:s}))}}]),e}(c.Component);e.default=d,d.defaultProps={prefixCls:"am-popover",placement:"bottomRight",align:{overflow:{adjustY:0,adjustX:0}},trigger:["click"]},d.Item=l.default,t.exports=e.default},1339:function(t,e,n){},1342:function(t,e,n){"use strict";function r(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=n(1389),l=n(1390),f=n(1391),h=n(1392),d=Symbol("encodeFragmentIdentifier");function p(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function v(t,e){return e.encode?e.strict?u(t):encodeURIComponent(t):t}function g(t,e){return e.decode?l(t):t}function m(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function y(t){var e=(t=m(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function b(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function _(t,e){p((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"colon-list-separator":return function(t,n,r){e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var o="string"===typeof n&&n.includes(t.arrayFormatSeparator),i="string"===typeof n&&!o&&g(n,t).includes(t.arrayFormatSeparator);n=i?g(n,t):n;var a=o||i?n.split(t.arrayFormatSeparator).map((function(e){return g(e,t)})):null===n?n:g(n,t);r[e]=a};case"bracket-separator":return function(e,n,r){var o=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),o){var i=null===n?[]:n.split(t.arrayFormatSeparator).map((function(e){return g(e,t)}));void 0!==r[e]?r[e]=[].concat(r[e],i):r[e]=i}else r[e]=n?g(n,t):n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!==typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;var a,c=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.split("&"));try{for(c.s();!(a=c.n()).done;){var u=a.value;if(""!==u){var l=o(f(e.decode?u.replace(/\+/g," "):u,"="),2),h=l[0],d=l[1];d=void 0===d?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?d:g(d,e),n(g(h,e),d,r)}}}catch(C){c.e(C)}finally{c.f()}for(var v=0,m=Object.keys(r);v<m.length;v++){var y=m[v],_=r[y];if("object"===i(_)&&null!==_)for(var w=0,x=Object.keys(_);w<x.length;w++){var S=x[w];_[S]=b(_[S],e)}else r[y]=b(_,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"===i(n)&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"===i(e)?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(n):t[e]=n,t}),Object.create(null))}e.extract=y,e.parse=_,e.stringify=function(t,e){if(!t)return"";p((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var n=function(n){return e.skipNull&&(null===(r=t[n])||void 0===r)||e.skipEmptyString&&""===t[n];var r},r=function(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[v(e,t),"[",o,"]"].join("")]:[[v(e,t),"[",v(o,t),"]=",v(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[v(e,t),"[]"].join("")]:[[v(e,t),"[]=",v(r,t)].join("")])}};case"colon-list-separator":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[v(e,t),":list="].join("")]:[[v(e,t),":list=",v(r,t)].join("")])}};case"comma":case"separator":case"bracket-separator":var e="bracket-separator"===t.arrayFormat?"[]=":"=";return function(n){return function(r,o){return void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[v(n,t),e,v(o,t)].join("")]:[[r,v(o,t)].join(t.arrayFormatSeparator)])}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[v(e,t)]:[[v(e,t),"=",v(r,t)].join("")])}}}}(e),o={},i=0,s=Object.keys(t);i<s.length;i++){var c=s[i];n(c)||(o[c]=t[c])}var u=Object.keys(o);return!1!==e.sort&&u.sort(e.sort),u.map((function(n){var o=t[n];return void 0===o?"":null===o?v(n,e):Array.isArray(o)?0===o.length&&"bracket-separator"===e.arrayFormat?v(n,e)+"[]":o.reduce(r(n),[]).join("&"):v(n,e)+"="+v(o,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){e=Object.assign({decode:!0},e);var n=o(f(t,"#"),2),r=n[0],i=n[1];return Object.assign({url:r.split("?")[0]||"",query:_(y(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:g(i,e)}:{})},e.stringifyUrl=function(t,n){n=Object.assign(r({encode:!0,strict:!0},d,!0),n);var o=m(t.url).split("?")[0]||"",i=e.extract(t.url),a=e.parse(i,{sort:!1}),s=Object.assign(a,t.query),c=e.stringify(s,n);c&&(c="?".concat(c));var u=function(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(u="#".concat(n[d]?v(t.fragmentIdentifier,n):t.fragmentIdentifier)),"".concat(o).concat(c).concat(u)},e.pick=function(t,n,o){o=Object.assign(r({parseFragmentIdentifier:!0},d,!1),o);var i=e.parseUrl(t,o),a=i.url,s=i.query,c=i.fragmentIdentifier;return e.stringifyUrl({url:a,query:h(s,n),fragmentIdentifier:c},o)},e.exclude=function(t,n,r){var o=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,e){return!n(t,e)};return e.pick(t,o,r)}},1345:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brief=void 0;var r=h(n(27)),o=h(n(44)),i=h(n(39)),a=h(n(40)),s=h(n(37)),c=h(n(45)),u=h(n(75)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),f=h(n(663));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},p=e.Brief=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){return l.createElement("div",{className:"am-list-brief",style:this.props.style},this.props.children)}}]),e}(l.Component),v=function(t){function e(t){(0,i.default)(this,e);var n=(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=function(t){var e=n.props,r=e.onClick,o=e.platform;if(r&&"android"===o){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null);var i=t.currentTarget,a=Math.max(i.offsetHeight,i.offsetWidth),s=t.currentTarget.getBoundingClientRect(),c={width:a+"px",height:a+"px",left:t.clientX-s.left-i.offsetWidth/2+"px",top:t.clientY-s.top-i.offsetWidth/2+"px"};n.setState({coverRippleStyle:c,RippleClicked:!0},(function(){n.debounceTimeout=setTimeout((function(){n.setState({coverRippleStyle:{display:"none"},RippleClicked:!1})}),1e3)}))}r&&r(t)},n.state={coverRippleStyle:{display:"none"},RippleClicked:!1},n}return(0,c.default)(e,t),(0,a.default)(e,[{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var t,e,n,i=this,a=this.props,s=a.prefixCls,c=a.className,h=a.activeStyle,p=a.error,v=a.align,g=a.wrap,m=a.disabled,y=a.children,b=a.multipleLine,_=a.thumb,w=a.extra,x=a.arrow,S=a.onClick,C=d(a,["prefixCls","className","activeStyle","error","align","wrap","disabled","children","multipleLine","thumb","extra","arrow","onClick"]),O=(C.platform,d(C,["platform"])),k=this.state,M=k.coverRippleStyle,E=k.RippleClicked,j=(0,u.default)(s+"-item",c,(t={},(0,o.default)(t,s+"-item-disabled",m),(0,o.default)(t,s+"-item-error",p),(0,o.default)(t,s+"-item-top","top"===v),(0,o.default)(t,s+"-item-middle","middle"===v),(0,o.default)(t,s+"-item-bottom","bottom"===v),t)),I=(0,u.default)(s+"-ripple",(0,o.default)({},s+"-ripple-animate",E)),A=(0,u.default)(s+"-line",(e={},(0,o.default)(e,s+"-line-multiple",b),(0,o.default)(e,s+"-line-wrap",g),e)),T=(0,u.default)(s+"-arrow",(n={},(0,o.default)(n,s+"-arrow-horizontal","horizontal"===x),(0,o.default)(n,s+"-arrow-vertical","down"===x||"up"===x),(0,o.default)(n,s+"-arrow-vertical-up","up"===x),n)),P=l.createElement("div",(0,r.default)({},O,{onClick:function(t){i.onClick(t)},className:j}),_?l.createElement("div",{className:s+"-thumb"},"string"===typeof _?l.createElement("img",{src:_}):_):null,l.createElement("div",{className:A},void 0!==y&&l.createElement("div",{className:s+"-content"},y),void 0!==w&&l.createElement("div",{className:s+"-extra"},w),x&&l.createElement("div",{className:T,"aria-hidden":"true"})),l.createElement("div",{style:M,className:I})),D={};return Object.keys(O).forEach((function(t){/onTouch/i.test(t)&&(D[t]=O[t],delete O[t])})),l.createElement(f.default,(0,r.default)({},D,{disabled:m||!S,activeStyle:h,activeClassName:s+"-item-active"}),P)}}]),e}(l.Component);v.defaultProps={prefixCls:"am-list",align:"middle",error:!1,multipleLine:!1,wrap:!1,platform:"ios"},v.Brief=p,e.default=v},1346:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(1429)),o=i(n(1432));function i(t){return t&&t.__esModule?t:{default:t}}r.default.Group=o.default;var a=r.default;e.default=a},1347:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r,o=(r=n(1263))&&r.__esModule?r:{default:r};var i=0,a={};function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=i++,r=e;function s(){(r-=1)<=0?(t(),delete a[n]):a[n]=(0,o.default)(s)}return a[n]=(0,o.default)(s),n}s.cancel=function(t){void 0!==t&&(o.default.cancel(a[t]),delete a[t])},s.ids=a},1352:function(t,e,n){"use strict";n(343),n(665),n(1398)},1353:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(27)),o=d(n(44)),i=d(n(39)),a=d(n(40)),s=d(n(37)),c=d(n(45)),u=d(n(75)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),f=d(n(663)),h=d(n(666));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},v=/^[\u4e00-\u9fa5]{2}$/,g=v.test.bind(v);function m(t){return"string"===typeof t}function y(t){return m(t.type)&&g(t.props.children)?l.cloneElement(t,{},t.props.children.split("").join(" ")):m(t)?(g(t)&&(t=t.split("").join(" ")),l.createElement("span",null,t)):t}var b=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t,e=this.props,n=e.children,i=e.className,a=e.prefixCls,s=e.type,c=e.size,d=e.inline,v=e.disabled,g=e.icon,m=e.loading,b=e.activeStyle,_=e.activeClassName,w=e.onClick,x=p(e,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),S=m?"loading":g,C=(0,u.default)(a,i,(t={},(0,o.default)(t,a+"-primary","primary"===s),(0,o.default)(t,a+"-ghost","ghost"===s),(0,o.default)(t,a+"-warning","warning"===s),(0,o.default)(t,a+"-small","small"===c),(0,o.default)(t,a+"-inline",d),(0,o.default)(t,a+"-disabled",v),(0,o.default)(t,a+"-loading",m),(0,o.default)(t,a+"-icon",!!S),t)),O=l.Children.map(n,y),k=void 0;if("string"===typeof S)k=l.createElement(h.default,{"aria-hidden":"true",type:S,size:"small"===c?"xxs":"md",className:a+"-icon"});else if(S){var M=S.props&&S.props.className,E=(0,u.default)("am-icon",a+"-icon","small"===c?"am-icon-xxs":"am-icon-md");k=l.cloneElement(S,{className:M?M+" "+E:E})}return l.createElement(f.default,{activeClassName:_||(b?a+"-active":void 0),disabled:v,activeStyle:b},l.createElement("a",(0,r.default)({role:"button",className:C},x,{onClick:v?void 0:w,"aria-disabled":v}),k,O))}}]),e}(l.Component);b.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},e.default=b,t.exports=e.default},1354:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3)),o=s(n(676)),i=s(n(1365)),a=s(n(663));function s(t){return t&&t.__esModule?t:{default:t}}var c=(0,i.default)((function(t,e,n){var i=n.getContent,s=n.hide,c=n.onDismiss,u=n.onOk;if(!e)return null;var l=t.prefixCls;return r.createElement(o.default,{prefixCls:"".concat(l),className:t.className||"",visible:!0,closable:!1,transitionName:t.transitionName||t.popupTransitionName,maskTransitionName:t.maskTransitionName,onClose:s,style:t.style},r.createElement("div",null,r.createElement("div",{className:"".concat(l,"-header")},r.createElement(a.default,{activeClassName:"".concat(l,"-item-active")},r.createElement("div",{className:"".concat(l,"-item ").concat(l,"-header-left"),onClick:c},t.dismissText)),r.createElement("div",{className:"".concat(l,"-item ").concat(l,"-title")},t.title),r.createElement(a.default,{activeClassName:"".concat(l,"-item-active")},r.createElement("div",{className:"".concat(l,"-item ").concat(l,"-header-right"),onClick:u},t.okText))),i()))}),{prefixCls:"rmc-picker-popup",WrapComponent:"span",triggerType:"onClick",pickerValueProp:"selectedValue",pickerValueChangeProp:"onValueChange"});e.default=c},1357:function(t,e,n){"use strict";n(343),n(1358)},1358:function(t,e,n){},1359:function(t,e,n){},1360:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(27)),o=v(n(39)),i=v(n(40)),a=v(n(37)),s=v(n(45));e.getDefaultProps=function(){return{triggerType:"onClick",prefixCls:"am-picker",pickerPrefixCls:"am-picker-col",popupPrefixCls:"am-picker-popup",format:function(t){return t.length>0&&"string"!==typeof t[0]?t:t.join(",")},cols:3,cascade:!0,title:""}};var c=v(n(1277)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),l=v(n(1361)),f=v(n(1364)),h=v(n(1271)),d=v(n(1272)),p=n(1255);function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};var m=function(t){function e(){(0,o.default)(this,e);var t=(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.getSel=function(){var e=t.props.value||[],n=void 0,r=t.props.data;return n=t.props.cascade?(0,c.default)(r,(function(t,n){return t.value===e[n]})):e.map((function(t,e){return r[e].filter((function(e){return e.value===t}))[0]})),t.props.format&&t.props.format(n.map((function(t){return t.label})))},t.getPickerCol=function(){var e=t.props,n=e.data,r=e.pickerPrefixCls,o=e.itemStyle,i=e.indicatorStyle;return n.map((function(t,e){return u.createElement(d.default,{key:e,prefixCls:r,style:{flex:1},itemStyle:o,indicatorStyle:i},t.map((function(t){return u.createElement(d.default.Item,{key:t.value,value:t.value},t.label)})))}))},t.onOk=function(e){void 0!==t.scrollValue&&(e=t.scrollValue),t.props.onChange&&t.props.onChange(e),t.props.onOk&&t.props.onOk(e)},t.setScrollValue=function(e){t.scrollValue=e},t.setCasecadeScrollValue=function(e){if(e&&t.scrollValue){var n=t.scrollValue.length;if(n===e.length&&t.scrollValue[n-1]===e[n-1])return}t.setScrollValue(e)},t.fixOnOk=function(e){e&&e.onOk!==t.onOk&&(e.onOk=t.onOk,e.forceUpdate())},t.onPickerChange=function(e){t.setScrollValue(e),t.props.onPickerChange&&t.props.onPickerChange(e)},t.onVisibleChange=function(e){t.setScrollValue(void 0),t.props.onVisibleChange&&t.props.onVisibleChange(e)},t}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,o=t.value,i=void 0===o?[]:o,a=t.popupPrefixCls,s=t.itemStyle,c=t.indicatorStyle,d=t.okText,v=t.dismissText,m=t.extra,y=t.cascade,b=t.prefixCls,_=t.pickerPrefixCls,w=t.data,x=t.cols,S=(t.onOk,g(t,["children","value","popupPrefixCls","itemStyle","indicatorStyle","okText","dismissText","extra","cascade","prefixCls","pickerPrefixCls","data","cols","onOk"])),C=(0,p.getComponentLocale)(this.props,this.context,"Picker",(function(){return n(1366)})),O=void 0,k={};return y?O=u.createElement(l.default,{prefixCls:b,pickerPrefixCls:_,data:w,cols:x,onChange:this.onPickerChange,onScrollChange:this.setCasecadeScrollValue,pickerItemStyle:s,indicatorStyle:c}):(O=u.createElement(h.default,{style:{flexDirection:"row",alignItems:"center"},prefixCls:b,onScrollChange:this.setScrollValue},this.getPickerCol()),k={pickerValueProp:"selectedValue",pickerValueChangeProp:"onValueChange"}),u.createElement(f.default,(0,r.default)({cascader:O},this.popupProps,S,{prefixCls:a,value:i,dismissText:v||C.dismissText,okText:d||C.okText},k,{ref:this.fixOnOk,onVisibleChange:this.onVisibleChange}),e&&"string"!==typeof e&&u.isValidElement(e)&&u.cloneElement(e,{extra:this.getSel()||m||C.extra}))}}]),e}(u.Component);e.default=m},1361:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(27)),o=h(n(39)),i=h(n(40)),a=h(n(37)),s=h(n(45)),c=h(n(3)),u=h(n(1277)),l=h(n(1271)),f=h(n(1272));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){(0,o.default)(this,e);var t=(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.state={value:t.getValue(t.props.data,t.props.defaultValue||t.props.value)},t.onValueChange=function(e,n){var r=(0,u.default)(t.props.data,(function(t,r){return r<=n&&t.value===e[r]}))[n],o=void 0;for(o=n+1;r&&r.children&&r.children.length&&o<t.props.cols;o++)r=r.children[0],e[o]=r.value;e.length=o,t.setState({value:e}),t.props.onChange&&t.props.onChange(e)},t}return(0,s.default)(e,t),(0,i.default)(e,[{key:"componentWillReceiveProps",value:function(t){"value"in t&&this.setState({value:this.getValue(t.data,t.value)})}},{key:"getValue",value:function(t,e){var n=t||this.props.data,r=e||this.props.value||this.props.defaultValue;if(!r||!r.length||r.indexOf(void 0)>-1){r=[];for(var o=0;o<this.props.cols;o++)n&&n.length&&(r[o]=n[0].value,n=n[0].children)}return r}},{key:"getCols",value:function(){var t=this.props,e=t.data,n=t.cols,r=t.pickerPrefixCls,o=t.disabled,i=t.pickerItemStyle,a=t.indicatorStyle,s=this.state.value,l=(0,u.default)(e,(function(t,e){return t.value===s[e]})).map((function(t){return t.children})),h=n-l.length;if(h>0)for(var d=0;d<h;d++)l.push([]);return l.length=n-1,l.unshift(e),l.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];return c.default.createElement(f.default,{key:e,prefixCls:r,style:{flex:1},disabled:o,itemStyle:i,indicatorStyle:a},t.map((function(t){return c.default.createElement(f.default.Item,{value:t.value,key:t.value},t.label)})))}))}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.className,o=t.rootNativeProps,i=t.style,a=this.getCols(),s=(0,r.default)({flexDirection:"row",alignItems:"center"},i);return c.default.createElement(l.default,{style:s,prefixCls:e,className:n,selectedValue:this.state.value,rootNativeProps:o,onValueChange:this.onValueChange,onScrollChange:t.onScrollChange},a)}}]),e}(c.default.Component);d.defaultProps={cols:3,prefixCls:"rmc-cascader",pickerPrefixCls:"rmc-picker",data:[],disabled:!1},e.default=d,t.exports=e.default},1362:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;return(e=function(e){function n(){var t;return a(this,n),(t=c(this,u(n).apply(this,arguments))).getValue=function(){var e=t.props,n=e.children,r=e.selectedValue;return r&&r.length?r:n?o.Children.map(n,(function(t){var e=o.Children.toArray(t.children||t.props.children);return e&&e[0]&&e[0].props.value})):[]},t.onChange=function(e,n,r){var o=t.getValue().concat();o[e]=n,r&&r(o,e)},t.onValueChange=function(e,n){t.onChange(e,n,t.props.onValueChange)},t.onScrollChange=function(e,n){t.onChange(e,n,t.props.onScrollChange)},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,e),function(t,e,n){e&&s(t.prototype,e);n&&s(t,n)}(n,[{key:"render",value:function(){return o.createElement(t,i({},this.props,{getValue:this.getValue,onValueChange:this.onValueChange,onScrollChange:this.props.onScrollChange&&this.onScrollChange}))}}]),n}(o.Component)).defaultProps={prefixCls:"rmc-multi-picker",onValueChange:function(){}},e};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3));function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}},1363:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;return(e=function(e){function n(){var t;return a(this,n),(t=c(this,u(n).apply(this,arguments))).select=function(e,n,r){for(var i=o.Children.toArray(t.props.children),a=0,s=i.length;a<s;a++)if(i[a].props.value===e)return void t.selectByIndex(a,n,r);t.selectByIndex(0,n,r)},t.doScrollingComplete=function(e,n,r){var i=o.Children.toArray(t.props.children),a=t.computeChildIndex(e,n,i.length),s=i[a];s?r(s.props.value):console.warn&&console.warn("child not found",i,a)},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,e),function(t,e,n){e&&s(t.prototype,e);n&&s(t,n)}(n,[{key:"selectByIndex",value:function(t,e,n){t<0||t>=o.Children.count(this.props.children)||!e||n(t*e)}},{key:"computeChildIndex",value:function(t,e,n){var r=Math.round(t/e);return Math.min(r,n-1)}},{key:"render",value:function(){return o.createElement(t,i({},this.props,{doScrollingComplete:this.doScrollingComplete,computeChildIndex:this.computeChildIndex,select:this.select}))}}]),n}(o.Component)).Item=f,e};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3));function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){return null}},1364:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(27)),o=l(n(39)),i=l(n(40)),a=l(n(37)),s=l(n(45)),c=l(n(3)),u=l(n(1354));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){(0,o.default)(this,e);var t=(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.onOk=function(e){var n=t.props,r=n.onChange,o=n.onOk;r&&r(e),o&&o(e)},t}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){return c.default.createElement(u.default,(0,r.default)({picker:this.props.cascader},this.props,{onOk:this.onOk}))}}]),e}(c.default.Component);f.defaultProps={pickerValueProp:"value",pickerValueChangeProp:"onChange"},e.default=f,t.exports=e.default},1365:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n;return(n=function(e){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,c(n).call(this,t))).onPickerChange=function(t){if(e.state.pickerValue!==t){e.setState({pickerValue:t});var n=e.props,r=n.picker,o=n.pickerValueChangeProp;r&&r.props[o]&&r.props[o](t)}},e.saveRef=function(t){e.picker=t},e.onTriggerClick=function(t){var n=e.props.children.props||{};n[e.props.triggerType]&&n[e.props.triggerType](t),e.fireVisibleChange(!e.state.visible)},e.onOk=function(){e.props.onOk(e.picker&&e.picker.getValue()),e.fireVisibleChange(!1)},e.getContent=function(){if(e.props.picker){var t,n=e.state.pickerValue;return null===n&&(n=e.props.value),o.cloneElement(e.props.picker,(a(t={},e.props.pickerValueProp,n),a(t,e.props.pickerValueChangeProp,e.onPickerChange),a(t,"ref",e.saveRef),t))}return e.props.content},e.onDismiss=function(){e.props.onDismiss(),e.fireVisibleChange(!1)},e.hide=function(){e.fireVisibleChange(!1)},e.state={pickerValue:"value"in e.props?e.props.value:null,visible:e.props.visible||!1},e}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,e),function(t,e,n){e&&s(t.prototype,e);n&&s(t,n)}(n,[{key:"componentWillReceiveProps",value:function(t){"value"in t&&this.setState({pickerValue:t.value}),"visible"in t&&this.setVisibleState(t.visible)}},{key:"setVisibleState",value:function(t){this.setState({visible:t}),t||this.setState({pickerValue:null})}},{key:"fireVisibleChange",value:function(t){this.state.visible!==t&&("visible"in this.props||this.setVisibleState(t),this.props.onVisibleChange(t))}},{key:"getRender",value:function(){var e=this.props,n=e.children;if(!n)return t(e,this.state.visible,{getContent:this.getContent,onOk:this.onOk,hide:this.hide,onDismiss:this.onDismiss});var r=this.props,i=r.WrapComponent,a=n,s={};return r.disabled||(s[e.triggerType]=this.onTriggerClick),o.createElement(i,{style:e.wrapStyle},o.cloneElement(a,s),t(e,this.state.visible,{getContent:this.getContent,onOk:this.onOk,hide:this.hide,onDismiss:this.onDismiss}))}},{key:"render",value:function(){return this.getRender()}}]),n}(o.Component)).defaultProps=i({onVisibleChange:function(t){},okText:"Ok",dismissText:"Dismiss",title:"",onOk:function(t){},onDismiss:function(){}},e),n};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3));function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}},1366:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={okText:"\u786e\u5b9a",dismissText:"\u53d6\u6d88",extra:"\u8bf7\u9009\u62e9"},t.exports=e.default},1367:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={WrapComponent:"div",transitionName:"am-slide-up",maskTransitionName:"am-fade"},t.exports=e.default},1368:function(t,e,n){"use strict";n(662),n(1426)},1371:function(t,e,n){},1372:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var a=o.default.unstable_batchedUpdates?function(t){o.default.unstable_batchedUpdates(n,t)}:n;return(0,r.default)(t,e,a,i)};var r=i(n(1209)),o=i(n(46));function i(t){return t&&t.__esModule?t:{default:t}}},1373:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(27)),o=h(n(44)),i=h(n(39)),a=h(n(40)),s=h(n(37)),c=h(n(45)),u=h(n(75)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),f=h(n(663));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},p=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=t.prefixCls,a=t.icon,s=t.disabled,c=t.firstItem,h=t.activeStyle,p=d(t,["children","className","prefixCls","icon","disabled","firstItem","activeStyle"]),v=(0,u.default)(i+"-item",n,(0,o.default)({},i+"-item-disabled",s)),g=i+"-item-active ";return c&&(g+=i+"-item-fix-active-arrow"),l.createElement(f.default,{disabled:s,activeClassName:g,activeStyle:h},l.createElement("div",(0,r.default)({className:v},p),l.createElement("div",{className:i+"-item-container"},a?l.createElement("span",{className:i+"-item-icon","aria-hidden":"true"},a):null,l.createElement("span",{className:i+"-item-content"},e))))}}]),e}(l.Component);e.default=p,p.defaultProps={prefixCls:"am-popover",disabled:!1},p.myName="PopoverItem",t.exports=e.default},1374:function(t,e,n){"use strict";n.r(e);var r=n(27),o=n.n(r),i=n(39),a=n.n(i),s=n(40),c=n.n(s),u=n(37),l=n.n(u),f=n(45),h=n.n(f),d=n(3),p=n.n(d),v=n(46),g=n.n(v);function m(t,e){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var y=n(1372),b=n.n(y),_=n(1266),w=n(1209),x=n.n(w);function S(t){return null!=t&&t==t.window}function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==C(e)&&"function"!==typeof e?t:e}var E=function(t){function e(){k(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.forceAlign=function(){var e=t.props;if(!e.disabled){var n=g.a.findDOMNode(t);e.onAlign(n,Object(_.c)(n,e.target(),e.align))}},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+C(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),O(e,[{key:"componentDidMount",value:function(){var t=this.props;this.forceAlign(),!t.disabled&&t.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(t){var e=!1,n=this.props;if(!n.disabled)if(t.disabled||t.align!==n.align)e=!0;else{var r=t.target(),o=n.target();S(r)&&S(o)?e=!1:r!==o&&(e=!0)}e&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=function(t,e){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function o(){r(),n=setTimeout(t,e)}return o.clear=r,o}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=function(t,e,n,r){var o=g.a.unstable_batchedUpdates?function(t){g.a.unstable_batchedUpdates(n,t)}:n;return x()(t,e,o,r)}(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}},{key:"render",value:function(){var t=this.props,e=t.childrenProps,n=t.children,r=p.a.Children.only(n);if(e){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=this.props[e[i]]);return p.a.cloneElement(r,o)}return r}}]),e}(d.Component);E.defaultProps={target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var j=E,I=n(136),A=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},T=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),c()(e,[{key:"shouldComponentUpdate",value:function(t){return t.hiddenClassName||t.visible}},{key:"render",value:function(){var t=this.props,e=t.hiddenClassName,n=t.visible,r=A(t,["hiddenClassName","visible"]);return e||p.a.Children.count(r.children)>1?(!n&&e&&(r.className+=" "+e),p.a.createElement("div",r)):p.a.Children.only(r.children)}}]),e}(d.Component),P=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),c()(e,[{key:"render",value:function(){var t=this.props,e=t.className;return t.visible||(e+=" "+t.hiddenClassName),p.a.createElement("div",{className:e,style:t.style},p.a.createElement(T,{className:t.prefixCls+"-content",visible:t.visible},t.children))}}]),e}(d.Component);function D(t,e,n){var r=t[e]||{};return o()({},r,n)}function N(t,e,n){var r,o,i=n.points;for(var a in t)if(t.hasOwnProperty(a)&&(r=t[a].points,o=i,r[0]===o[0]&&r[1]===o[1]))return e+"-placement-"+a;return""}function L(t,e){this[t]=e}var R=function(t){function e(t){a()(this,e);var n=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onAlign=function(t,e){var r=n.props,o=r.getClassNameFromAlign(e);n.currentAlignClassName!==o&&(n.currentAlignClassName=o,t.className=n.getClassName(o)),r.onAlign(t,e)},n.getTarget=function(){return n.props.getRootDomNode()},n.savePopupRef=L.bind(n,"popupInstance"),n.saveAlignRef=L.bind(n,"alignInstance"),n}return h()(e,t),c()(e,[{key:"componentDidMount",value:function(){this.rootNode=this.getPopupDomNode()}},{key:"getPopupDomNode",value:function(){return g.a.findDOMNode(this.popupInstance)}},{key:"getMaskTransitionName",value:function(){var t=this.props,e=t.maskTransitionName,n=t.maskAnimation;return!e&&n&&(e=t.prefixCls+"-"+n),e}},{key:"getTransitionName",value:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+"-"+t.animation),e}},{key:"getClassName",value:function(t){return this.props.prefixCls+" "+this.props.className+" "+t}},{key:"getPopupElement",value:function(){var t=this.savePopupRef,e=this.props,n=e.align,r=e.style,i=e.visible,a=e.prefixCls,s=e.destroyPopupOnHide,c=this.getClassName(this.currentAlignClassName||e.getClassNameFromAlign(n)),u=a+"-hidden";i||(this.currentAlignClassName=null);var l={className:c,prefixCls:a,ref:t,style:o()({},r,this.getZIndexStyle())};if(s)return p.a.createElement(I.default,{component:"",exclusive:!0,transitionAppear:!0,onAnimateLeave:e.onAnimateLeave,transitionName:this.getTransitionName()},i?p.a.createElement(j,{target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:n,onAlign:this.onAlign},p.a.createElement(P,o()({visible:!0},l),e.children)):null);var f={xVisible:i};return p.a.createElement(I.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),onAnimateLeave:e.onAnimateLeave,showProp:"xVisible"},p.a.createElement(j,o()({target:this.getTarget,key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0},f,{childrenProps:{visible:"xVisible"},disabled:!i,align:n,onAlign:this.onAlign}),p.a.createElement(P,o()({hiddenClassName:u},l),e.children)))}},{key:"getZIndexStyle",value:function(){var t={},e=this.props;return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t}},{key:"getMaskElement",value:function(){var t=this.props,e=void 0;if(t.mask){var n=this.getMaskTransitionName();e=p.a.createElement(T,{style:this.getZIndexStyle(),key:"mask",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible}),n&&(e=p.a.createElement(I.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},e))}return e}},{key:"render",value:function(){return p.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())}}]),e}(d.Component),B=!!p.a.createPortal;function z(){}var F=function(t){function e(){a()(this,e);var t=l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=Object(v.findDOMNode)(t),o=t.getPopupDomNode();m(r,n)||m(o,n)||t.close()}},t.getPopupAlign=function(){var e=t.props,n=e.popupPlacement,r=e.popupAlign,o=e.builtinPlacements;return n&&o?D(o,n,r):r},t.getRootDomNode=function(){return Object(v.findDOMNode)(t)},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls;return o&&i&&n.push(N(i,a,e)),r.getPopupClassNameFromAlign&&n.push(r.getPopupClassNameFromAlign(e)),n.join(" ")},t.close=function(){t.props.onClose&&t.props.onClose()},t.onAnimateLeave=function(){if(t.props.destroyPopupOnHide){var e=t._container;e&&(g.a.unmountComponentAtNode(e),e.parentNode.removeChild(e))}},t.removeContainer=function(){var e=document.querySelector("#"+t.props.prefixCls+"-container");e&&(g.a.unmountComponentAtNode(e),e.parentNode.removeChild(e))},t}return h()(e,t),c()(e,[{key:"componentDidMount",value:function(){this.props.visible&&this.componentDidUpdate()}},{key:"componentWillUnmount",value:function(){this.props.visible&&(B||this.renderDialog(!1)),this.clearOutsideHandler()}},{key:"componentDidUpdate",value:function(){var t=this;B||this.renderDialog(this.props.visible),this.props.visible?this.touchOutsideHandler||(this.touchOutsideHandler=setTimeout((function(){var e=t.props.getDocument();t.touchOutsideHandler=b()(e,"touchend",t.onDocumentClick)}))):this.clearOutsideHandler()}},{key:"clearOutsideHandler",value:function(){this.touchOutsideHandler&&(this.touchOutsideHandler.remove&&this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"getPopupDomNode",value:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null}},{key:"saveRef",value:function(t,e){this.popupRef=t,this._component=t,this.props.afterPopupVisibleChange(e)}},{key:"getComponent",value:function(t){var e=this,n=o()({},this.props);return["visible","onAnimateLeave"].forEach((function(t){n.hasOwnProperty(t)&&delete n[t]})),p.a.createElement(R,{key:"popup",ref:function(n){return e.saveRef(n,t)},prefixCls:n.prefixCls,destroyPopupOnHide:n.destroyPopupOnHide,visible:t,className:n.popupClassName,align:this.getPopupAlign(),onAlign:n.onPopupAlign,animation:n.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign,getRootDomNode:this.getRootDomNode,style:n.popupStyle,mask:n.mask,zIndex:n.zIndex,transitionName:n.popupTransitionName,maskAnimation:n.maskAnimation,maskTransitionName:n.maskTransitionName,onAnimateLeave:this.onAnimateLeave},"function"===typeof n.popup?n.popup():n.popup)}},{key:"getContainer",value:function(){if(!this._container){var t=this.props,e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(v.findDOMNode)(this)):t.getDocument().body).appendChild(e),this._container=e}return this._container}},{key:"renderDialog",value:function(t){g.a.unstable_renderSubtreeIntoContainer(this,this.getComponent(t),this.getContainer())}},{key:"render",value:function(){var t=this.props,e=t.children,n=p.a.Children.only(e),r={onClick:this.props.onTargetClick,key:"trigger"},o=p.a.cloneElement(n,r);if(!B)return o;var i=void 0;return(t.visible||this._component)&&(i=g.a.createPortal(this.getComponent(t.visible),this.getContainer())),[o,i]}}]),e}(p.a.Component),H=F;function U(){}F.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:z,afterPopupVisibleChange:z,onPopupAlign:z,popupClassName:"",popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0};var W=function(t){function e(t){a()(this,e);var n=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.onTargetClick=function(){n.setPopupVisible(!n.state.popupVisible)},n.onClose=function(){n.setPopupVisible(!1)};var r=void 0;return r="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,n.state={popupVisible:r},n}return h()(e,t),c()(e,[{key:"componentWillReceiveProps",value:function(t){void 0!==t.visible&&this.setPopupVisible(t.visible)}},{key:"setPopupVisible",value:function(t){this.state.popupVisible!==t&&(this.setState({popupVisible:t}),this.props.onPopupVisibleChange(t))}},{key:"render",value:function(){var t=this;return p.a.createElement(H,o()({ref:function(e){return t.triggerRef=e}},this.props,{visible:this.state.popupVisible,onTargetClick:this.onTargetClick,onClose:this.onClose}))}}]),e}(p.a.Component);W.displayName="TriggerWrap",W.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:U,afterPopupVisibleChange:U,onPopupAlign:U,popupClassName:"",popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0};var V=W,Y={adjustX:1,adjustY:1},G=[0,0],X={left:{points:["cr","cl"],overflow:Y,offset:[-4,0],targetOffset:G},right:{points:["cl","cr"],overflow:Y,offset:[4,0],targetOffset:G},top:{points:["bc","tc"],overflow:Y,offset:[0,-4],targetOffset:G},bottom:{points:["tc","bc"],overflow:Y,offset:[0,4],targetOffset:G},topLeft:{points:["bl","tl"],overflow:Y,offset:[0,-4],targetOffset:G},leftTop:{points:["tr","tl"],overflow:Y,offset:[-4,0],targetOffset:G},topRight:{points:["br","tr"],overflow:Y,offset:[0,-4],targetOffset:G},rightTop:{points:["tl","tr"],overflow:Y,offset:[4,0],targetOffset:G},bottomRight:{points:["tr","br"],overflow:Y,offset:[0,4],targetOffset:G},rightBottom:{points:["bl","br"],overflow:Y,offset:[4,0],targetOffset:G},bottomLeft:{points:["tl","bl"],overflow:Y,offset:[0,4],targetOffset:G},leftBottom:{points:["br","bl"],overflow:Y,offset:[-4,0],targetOffset:G}},Z=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},q=function(t){function e(){a()(this,e);var t=l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.getPopupElement=function(){var e=t.props,n=e.arrowContent,r=e.overlay,o=e.prefixCls;return[p.a.createElement("div",{className:o+"-arrow",key:"arrow"},n),p.a.createElement("div",{className:o+"-inner",key:"content"},"function"===typeof r?r():r)]},t.saveTrigger=function(e){t.trigger=e},t}return h()(e,t),c()(e,[{key:"getPopupDomNode",value:function(){return this.trigger.triggerRef.getPopupDomNode()}},{key:"render",value:function(){var t=this.props,e=t.overlayClassName,n=t.overlayStyle,r=t.prefixCls,i=t.children,a=t.onVisibleChange,s=t.afterVisibleChange,c=t.transitionName,u=t.animation,l=t.placement,f=t.align,h=t.destroyTooltipOnHide,d=t.defaultVisible,v=t.getTooltipContainer,g=Z(t,["overlayClassName","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),m=o()({},g);return"visible"in this.props&&(m.popupVisible=this.props.visible),p.a.createElement(V,o()({popupClassName:e,ref:this.saveTrigger,prefixCls:r,popup:this.getPopupElement,builtinPlacements:X,popupPlacement:l,popupAlign:f,getPopupContainer:v,onPopupVisibleChange:a,afterPopupVisibleChange:s,popupTransitionName:c,popupAnimation:u,defaultPopupVisible:d,destroyPopupOnHide:h,popupStyle:n},m),i)}}]),e}(d.Component);q.defaultProps={prefixCls:"rmc-tooltip",destroyTooltipOnHide:!1,align:{},placement:"right",arrowContent:null};var K=q;e.default=K},1380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeConfirmLocale=function(t){a=t?i(i({},a),t):i({},o.default.Modal)},e.getConfirmLocale=function(){return a};var r,o=(r=n(675))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=i({},o.default.Modal)},1381:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasPrefixSuffix=_,e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),i=n(1182),a=l(n(661)),s=l(n(342)),c=n(1254),u=n(1258);function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){return(h="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=(0,c.tuple)("text","input");function _(t){return!!(t.prefix||t.suffix||t.allowClear)}var w=function(t){function e(){return p(this,e),g(this,m(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"renderClearIcon",value:function(t){var e=this.props,n=e.allowClear,r=e.value,i=e.disabled,a=e.inputType,c=e.handleReset;if(!n||i||void 0===r||null===r||""===r)return null;var u=a===b[0]?"".concat(t,"-textarea-clear-icon"):"".concat(t,"-clear-icon");return o.createElement(s.default,{type:"close-circle",theme:"filled",onClick:c,className:u,role:"button"})}},{key:"renderSuffix",value:function(t){var e=this.props,n=e.suffix,r=e.allowClear;return n||r?o.createElement("span",{className:"".concat(t,"-suffix")},this.renderClearIcon(t),n):null}},{key:"renderLabeledIcon",value:function(t,e){var n,r=this.props,i=this.renderSuffix(t);if(!_(r))return o.cloneElement(e,{value:r.value});var s=r.prefix?o.createElement("span",{className:"".concat(t,"-prefix")},r.prefix):null,c=(0,a.default)(r.className,"".concat(t,"-affix-wrapper"),(d(n={},"".concat(t,"-affix-wrapper-sm"),"small"===r.size),d(n,"".concat(t,"-affix-wrapper-lg"),"large"===r.size),d(n,"".concat(t,"-affix-wrapper-input-with-clear-btn"),r.suffix&&r.allowClear&&this.props.value),n));return o.createElement("span",{className:c,style:r.style},s,o.cloneElement(e,{style:null,value:r.value,className:(0,u.getInputClassName)(t,r.size,r.disabled)}),i)}},{key:"renderInputWithLabel",value:function(t,e){var n,r=this.props,i=r.addonBefore,s=r.addonAfter,c=r.style,u=r.size,l=r.className;if(!i&&!s)return e;var f="".concat(t,"-group"),h="".concat(f,"-addon"),p=i?o.createElement("span",{className:h},i):null,v=s?o.createElement("span",{className:h},s):null,g=(0,a.default)("".concat(t,"-wrapper"),d({},f,i||s)),m=(0,a.default)(l,"".concat(t,"-group-wrapper"),(d(n={},"".concat(t,"-group-wrapper-sm"),"small"===u),d(n,"".concat(t,"-group-wrapper-lg"),"large"===u),n));return o.createElement("span",{className:m,style:c},o.createElement("span",{className:g},p,o.cloneElement(e,{style:null}),v))}},{key:"renderTextAreaWithClearIcon",value:function(t,e){var n=this.props,r=n.value,i=n.allowClear,s=n.className,c=n.style;if(!i)return o.cloneElement(e,{value:r});var u=(0,a.default)(s,"".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"));return o.createElement("span",{className:u,style:c},o.cloneElement(e,{style:null,value:r}),this.renderClearIcon(t))}},{key:"renderClearableLabeledInput",value:function(){var t=this.props,e=t.prefixCls,n=t.inputType,r=t.element;return n===b[0]?this.renderTextAreaWithClearIcon(e,r):this.renderInputWithLabel(e,this.renderLabeledIcon(e,r))}},{key:"render",value:function(){return this.renderClearableLabeledInput()}}])&&v(n.prototype,r),i&&v(n,i),e}(o.Component);(0,i.polyfill)(w);var x=w;e.default=x},1382:function(t,e,n){},1383:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={activateText:"\u677e\u5f00\u7acb\u5373\u5237\u65b0",deactivateText:"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0",finishText:"\u5b8c\u6210\u5237\u65b0"},t.exports=e.default},1385:function(t,e,n){"use strict";n.r(e);var r=n(27),o=n.n(r),i=n(39),a=n.n(i),s=n(40),c=n.n(s),u=n(37),l=n.n(u),f=n(45),h=n.n(f),d=n(3),p=n.n(d),v=n(75),g=n.n(v),m=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},y=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),c()(e,[{key:"shouldComponentUpdate",value:function(t){return t.shouldUpdate}},{key:"render",value:function(){return p.a.createElement("div",null,this.props.render())}}]),e}(p.a.Component);function b(t,e){t.transform=e,t.webkitTransform=e,t.MozTransform=e}var _="undefined"!==typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),w="down",x="up",S={activate:"release",deactivate:"pull",release:"loading",finish:"finish"},C=!1;try{var O=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,O)}catch(j){}var k=!!C&&{passive:!1},M=function(t){function e(){a()(this,e);var t=l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.state={currSt:"deactivate",dragOnEdge:!1},t._isMounted=!1,t.shouldUpdateChildren=!1,t.triggerPullToRefresh=function(){!t.state.dragOnEdge&&t._isMounted&&(t.props.refreshing?(t.props.direction===x&&(t._lastScreenY=-t.props.distanceToRefresh-1),t.props.direction===w&&(t._lastScreenY=t.props.distanceToRefresh+1),t.setState({currSt:"release"},(function(){return t.setContentStyle(t._lastScreenY)}))):t.setState({currSt:"finish"},(function(){return t.reset()})))},t.init=function(e){e&&(t._to={touchstart:t.onTouchStart.bind(t,e),touchmove:t.onTouchMove.bind(t,e),touchend:t.onTouchEnd.bind(t,e),touchcancel:t.onTouchEnd.bind(t,e)},Object.keys(t._to).forEach((function(n){e.addEventListener(n,t._to[n],k)})))},t.destroy=function(e){t._to&&e&&Object.keys(t._to).forEach((function(n){e.removeEventListener(n,t._to[n])}))},t.onTouchStart=function(e,n){t._ScreenY=t._startScreenY=n.touches[0].screenY,t._startScreenX=n.touches[0].screenX,t._lastScreenY=t._lastScreenY||0},t.isEdge=function(e,n){var r=t.props.getScrollContainer();if(r&&r===document.body){var o=document.scrollingElement?document.scrollingElement:document.body;if(n===x)return o.scrollHeight-o.scrollTop<=window.innerHeight;if(n===w)return o.scrollTop<=0}return n===x?e.scrollHeight-e.scrollTop===e.clientHeight:n===w?e.scrollTop<=0:void 0},t.damping=function(e){return Math.abs(t._lastScreenY)>t.props.damping?0:e*=(1-Math.abs(t._ScreenY-t._startScreenY)/window.screen.height)*t.props.scale},t.onTouchMove=function(e,n){var r=n.touches[0].screenY,o=n.touches[0].screenX,i=t.props.direction;if(!(Math.abs(o-t._startScreenX)>20*window.devicePixelRatio)&&!(i===x&&t._startScreenY<r||i===w&&t._startScreenY>r)&&t.isEdge(e,i)){t.state.dragOnEdge||(t._ScreenY=t._startScreenY=n.touches[0].screenY,t.setState({dragOnEdge:!0})),n.preventDefault();var a=Math.round(r-t._ScreenY);t._ScreenY=r,t._lastScreenY+=t.damping(a),t.setContentStyle(t._lastScreenY),Math.abs(t._lastScreenY)<t.props.distanceToRefresh?"deactivate"!==t.state.currSt&&t.setState({currSt:"deactivate"}):"deactivate"===t.state.currSt&&t.setState({currSt:"activate"}),_&&n.changedTouches[0].clientY<0&&t.onTouchEnd()}},t.onTouchEnd=function(){t.state.dragOnEdge&&t.setState({dragOnEdge:!1}),"activate"===t.state.currSt?(t.setState({currSt:"release"}),t._timer=setTimeout((function(){t.props.refreshing||t.setState({currSt:"finish"},(function(){return t.reset()})),t._timer=void 0}),1e3),t.props.onRefresh()):t.reset()},t.reset=function(){t._lastScreenY=0,t.setContentStyle(0)},t.setContentStyle=function(e){t.contentRef&&b(t.contentRef.style,"translate3d(0px,"+e+"px,0)")},t}return h()(e,t),c()(e,[{key:"shouldComponentUpdate",value:function(t){return this.shouldUpdateChildren=this.props.children!==t.children,!0}},{key:"componentDidUpdate",value:function(t){t!==this.props&&t.refreshing!==this.props.refreshing&&this.triggerPullToRefresh()}},{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.init(t.props.getScrollContainer()||t.containerRef),t.triggerPullToRefresh(),t._isMounted=!0}))}},{key:"componentWillUnmount",value:function(){this.destroy(this.props.getScrollContainer()||this.containerRef)}},{key:"render",value:function(){var t=this,e=o()({},this.props);delete e.damping;var n=e.className,r=e.prefixCls,i=e.children,a=e.getScrollContainer,s=e.direction,c=(e.onRefresh,e.refreshing,e.indicator),u=(e.distanceToRefresh,m(e,["className","prefixCls","children","getScrollContainer","direction","onRefresh","refreshing","indicator","distanceToRefresh"])),l=p.a.createElement(y,{shouldUpdate:this.shouldUpdateChildren,render:function(){return i}}),f=function(e){var n=g()(e,!t.state.dragOnEdge&&r+"-transition");return p.a.createElement("div",{className:r+"-content-wrapper"},p.a.createElement("div",{className:n,ref:function(e){return t.contentRef=e}},s===x?l:null,p.a.createElement("div",{className:r+"-indicator"},c[t.state.currSt]||S[t.state.currSt]),s===w?l:null))};return a()?f(r+"-content "+r+"-"+s):p.a.createElement("div",o()({ref:function(e){return t.containerRef=e},className:g()(n,r,r+"-"+s)},u),f(r+"-content"))}}]),e}(p.a.Component),E=M;M.defaultProps={prefixCls:"rmc-pull-to-refresh",getScrollContainer:function(){},direction:w,distanceToRefresh:25,damping:100,indicator:S,scale:.6};e.default=E},1388:function(t,e,n){(function(e){(function(){var n,r,o,i,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,i=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(350))},1389:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}},1390:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function a(t,e){try{return[decodeURIComponent(t.join(""))]}catch(o){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function s(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(o)||[],n=1;n<e.length;n++)e=(t=a(e,n).join("")).match(o)||[];return t}}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+r(t)+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=i.exec(t);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(e){var o=s(r[0]);o!==r[0]&&(n[r[0]]=o)}r=i.exec(t)}n["%C2"]="\ufffd";for(var a=Object.keys(n),c=0;c<a.length;c++){var u=a[c];t=t.replace(new RegExp(u,"g"),n[u])}return t}(t)}}},1391:function(t,e,n){"use strict";t.exports=function(t,e){if("string"!==typeof t||"string"!==typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];var n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},1392:function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),o=Array.isArray(e),i=0;i<r.length;i++){var a=r[i],s=t[a];(o?-1!==e.indexOf(a):e(a,s,t))&&(n[a]=s)}return n}},1395:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(e.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},1396:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.renderHeader,r=t.renderFooter,i=t.renderSectionHeader,a=t.renderBodyComponent,u=s(t,["renderHeader","renderFooter","renderSectionHeader","renderBodyComponent"]),l=t.listPrefixCls,f={renderHeader:null,renderFooter:null,renderSectionHeader:null,renderBodyComponent:a||function(){return o.createElement("div",{className:l+"-body"})}};n&&(f.renderHeader=function(){return o.createElement("div",{className:l+"-header"},n())});r&&(f.renderFooter=function(){return o.createElement("div",{className:l+"-footer"},r())});i&&(f.renderSectionHeader=e?function(t,e){return o.createElement("div",null,o.createElement(c,{prefixCls:l},i(t,e)))}:function(t,e){return o.createElement(c,{prefixCls:l},i(t,e))});return{restProps:u,extraProps:f}};var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),i=n(1257),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},c=a.default.Item;t.exports=e.default},1397:function(t,e,n){"use strict";n.r(e),n.d(e,"DataSource",(function(){return X})),n.d(e,"IndexedList",(function(){return G}));var r=n(27),o=n.n(r),i=n(158),a=n.n(i),s=n(39),c=n.n(s),u=n(40),l=n.n(u),f=n(37),h=n.n(f),d=n(45),p=n.n(d),v=n(3),g=n.n(v),m=n(13),y=n.n(m),b=n(46),_=n.n(b),w=n(1395),x=n.n(w),S=n(1465),C=n.n(S),O=n(1466),k=n.n(O);function M(t,e,n){return t[e][n]}function E(t,e){return t[e]}function j(t){if(C()(t))return{};for(var e={},n=0;n<t.length;n++){var r=t[n];k()(!e[r],"Value appears more than once in array: "+r),e[r]=!0}return e}var I=function(){function t(e){c()(this,t),x()(e&&"function"===typeof e.rowHasChanged,"Must provide a rowHasChanged function."),this._rowHasChanged=e.rowHasChanged,this._getRowData=e.getRowData||M,this._sectionHeaderHasChanged=e.sectionHeaderHasChanged,this._getSectionHeaderData=e.getSectionHeaderData||E,this._dataBlob=null,this._dirtyRows=[],this._dirtySections=[],this._cachedRowCount=0,this.rowIdentities=[],this.sectionIdentities=[]}return l()(t,[{key:"cloneWithRows",value:function(t,e){var n=e?[e]:null;return this._sectionHeaderHasChanged||(this._sectionHeaderHasChanged=function(){return!1}),this.cloneWithRowsAndSections({s1:t},["s1"],n)}},{key:"cloneWithRowsAndSections",value:function(e,n,r){x()("function"===typeof this._sectionHeaderHasChanged,"Must provide a sectionHeaderHasChanged function with section data."),x()(!n||!r||n.length===r.length,"row and section ids lengths must be the same");var o=new t({getRowData:this._getRowData,getSectionHeaderData:this._getSectionHeaderData,rowHasChanged:this._rowHasChanged,sectionHeaderHasChanged:this._sectionHeaderHasChanged});return o._dataBlob=e,o.sectionIdentities=n||Object.keys(e),r?o.rowIdentities=r:(o.rowIdentities=[],o.sectionIdentities.forEach((function(t){o.rowIdentities.push(Object.keys(e[t]))}))),o._cachedRowCount=function(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r.length}return e}(o.rowIdentities),o._calculateDirtyArrays(this._dataBlob,this.sectionIdentities,this.rowIdentities),o}},{key:"getRowCount",value:function(){return this._cachedRowCount}},{key:"getRowAndSectionCount",value:function(){return this._cachedRowCount+this.sectionIdentities.length}},{key:"rowShouldUpdate",value:function(t,e){var n=this._dirtyRows[t][e];return k()(void 0!==n,"missing dirtyBit for section, row: "+t+", "+e),n}},{key:"getRowData",value:function(t,e){var n=this.sectionIdentities[t],r=this.rowIdentities[t][e];return k()(void 0!==n&&void 0!==r,"rendering invalid section, row: "+t+", "+e),this._getRowData(this._dataBlob,n,r)}},{key:"getRowIDForFlatIndex",value:function(t){for(var e=t,n=0;n<this.sectionIdentities.length;n++){if(!(e>=this.rowIdentities[n].length))return this.rowIdentities[n][e];e-=this.rowIdentities[n].length}return null}},{key:"getSectionIDForFlatIndex",value:function(t){for(var e=t,n=0;n<this.sectionIdentities.length;n++){if(!(e>=this.rowIdentities[n].length))return this.sectionIdentities[n];e-=this.rowIdentities[n].length}return null}},{key:"getSectionLengths",value:function(){for(var t=[],e=0;e<this.sectionIdentities.length;e++)t.push(this.rowIdentities[e].length);return t}},{key:"sectionHeaderShouldUpdate",value:function(t){var e=this._dirtySections[t];return k()(void 0!==e,"missing dirtyBit for section: "+t),e}},{key:"getSectionHeaderData",value:function(t){if(!this._getSectionHeaderData)return null;var e=this.sectionIdentities[t];return k()(void 0!==e,"renderSection called on invalid section: "+t),this._getSectionHeaderData(this._dataBlob,e)}},{key:"_calculateDirtyArrays",value:function(t,e,n){for(var r,o=j(e),i={},a=0;a<n.length;a++){var s=e[a];k()(!i[s],"SectionID appears more than once: "+s),i[s]=j(n[a])}this._dirtySections=[],this._dirtyRows=[];for(var c=0;c<this.sectionIdentities.length;c++){r=!o[s=this.sectionIdentities[c]];var u=this._sectionHeaderHasChanged;!r&&u&&(r=u(this._getSectionHeaderData(t,s),this._getSectionHeaderData(this._dataBlob,s))),this._dirtySections.push(!!r),this._dirtyRows[c]=[];for(var l=0;l<this.rowIdentities[c].length;l++){var f=this.rowIdentities[c][l];r=!o[s]||!i[s][f]||this._rowHasChanged(this._getRowData(t,s,f),this._getRowData(this._dataBlob,s,f)),this._dirtyRows[c].push(!!r)}}}}]),t}(),A=n(75),T=n.n(A);var P={className:y.a.string,prefixCls:y.a.string,listPrefixCls:y.a.string,listViewPrefixCls:y.a.string,style:y.a.object,contentContainerStyle:y.a.object,onScroll:y.a.func},D=function(t){function e(){var t,n,r,o;c()(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=h()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),N.call(r),o=n,h()(r,o)}return p()(e,t),l()(e,[{key:"componentWillUpdate",value:function(t){this.props.dataSource===t.dataSource&&this.props.initialListSize===t.initialListSize||!this.handleScroll||(this.props.useBodyScroll?window.removeEventListener("scroll",this.handleScroll):this.ScrollViewRef.removeEventListener("scroll",this.handleScroll))}},{key:"componentDidUpdate",value:function(t){var e=this;this.props.dataSource===t.dataSource&&this.props.initialListSize===t.initialListSize||!this.handleScroll||setTimeout((function(){e.props.useBodyScroll?window.addEventListener("scroll",e.handleScroll):e.ScrollViewRef.addEventListener("scroll",e.handleScroll)}),0)}},{key:"componentDidMount",value:function(){var t=this,e=function(e){return t.props.onScroll&&t.props.onScroll(e,t.getMetrics())};this.props.scrollEventThrottle&&(e=function(t,e){var n=!0,r=!0;return function(o){n&&(n=!1,setTimeout((function(){n=!0,t(o)}),e),r&&(t(o),r=!1))}}(e,this.props.scrollEventThrottle)),this.handleScroll=e,this.onLayout=function(){return t.props.onLayout({nativeEvent:{layout:{width:window.innerWidth,height:window.innerHeight}}})},this.props.useBodyScroll?(window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.onLayout)):this.ScrollViewRef.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.props.useBodyScroll?(window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.onLayout)):this.ScrollViewRef.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,i=e.prefixCls,a=e.listPrefixCls,s=e.listViewPrefixCls,c=e.style,u=void 0===c?{}:c,l=e.contentContainerStyle,f=void 0===l?{}:l,h=e.useBodyScroll,d=e.pullToRefresh,p=i||s||"",v={ref:function(e){return t.ScrollViewRef=e||t.ScrollViewRef},style:o()({},h?{}:{position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch"},u),className:T()(r,p+"-scrollview")},m={ref:function(e){return t.InnerScrollViewRef=e},style:o()({position:"absolute",minWidth:"100%"},f),className:T()(p+"-scrollview-content",a)},y=function(e){return g.a.cloneElement(d,{getScrollContainer:e?function(){return document.body}:function(){return t.ScrollViewRef}},n)};return h?d?g.a.createElement("div",v,y(!0)):g.a.createElement("div",v,n):d?g.a.createElement("div",v,g.a.createElement("div",m,y())):g.a.createElement("div",v,g.a.createElement("div",m,n))}}]),e}(g.a.Component);D.propTypes=P;var N=function(){var t=this;this.getMetrics=function(){var e=!t.props.horizontal;if(t.props.useBodyScroll){var n=document.scrollingElement?document.scrollingElement:document.body;return{visibleLength:window[e?"innerHeight":"innerWidth"],contentLength:t.ScrollViewRef?t.ScrollViewRef[e?"scrollHeight":"scrollWidth"]:0,offset:n[e?"scrollTop":"scrollLeft"]}}return{visibleLength:t.ScrollViewRef[e?"offsetHeight":"offsetWidth"],contentLength:t.ScrollViewRef[e?"scrollHeight":"scrollWidth"],offset:t.ScrollViewRef[e?"scrollTop":"scrollLeft"]}},this.getInnerViewNode=function(){return t.InnerScrollViewRef},this.scrollTo=function(){var e;t.props.useBodyScroll?(e=window).scrollTo.apply(e,arguments):(t.ScrollViewRef.scrollLeft=arguments.length<=0?void 0:arguments[0],t.ScrollViewRef.scrollTop=arguments.length<=1?void 0:arguments[1])}},L=D,R=function(t){function e(){return c()(this,e),h()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p()(e,t),l()(e,[{key:"shouldComponentUpdate",value:function(t){return t.shouldUpdate}},{key:"render",value:function(){return this.props.render()}}]),e}(g.a.Component),B=function(t){function e(){var t,n,r,o;c()(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=h()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),z.call(r),o=n,h()(r,o)}return p()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.scrollProperties={visibleLength:null,contentLength:null,offset:0},this._childFrames=[],this._visibleRows={},this._prevRenderedRowsCount=0,this._sentEndForContentLength=null}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.props.dataSource===t.dataSource&&this.props.initialListSize===t.initialListSize||this.setState((function(n,r){return e._prevRenderedRowsCount=0,{curRenderedRowsCount:Math.min(Math.max(n.curRenderedRowsCount,t.initialListSize),t.dataSource.getRowCount())}}),(function(){return e._renderMoreRowsIfNeeded()}))}},{key:"render",value:function(){for(var t=this,e=this.props.dataSource,n=e.rowIdentities,r=[],i=0,s=0;s<n.length;s++){var c=e.sectionIdentities[s],u=n[s];if(0!==u.length){var l=void 0;if(this.props.renderSectionHeader){var f=i>=this._prevRenderedRowsCount&&e.sectionHeaderShouldUpdate(s);l=g.a.createElement(R,{key:"s_"+c,shouldUpdate:!!f,render:this.props.renderSectionHeader.bind(null,e.getSectionHeaderData(s),c)})}for(var h=[],d=0;d<u.length;d++){var p=u[d],v=c+"_"+p,m=i>=this._prevRenderedRowsCount&&e.rowShouldUpdate(s,d),y=g.a.createElement(R,{key:"r_"+v,shouldUpdate:!!m,render:this.props.renderRow.bind(null,e.getRowData(s,d),c,p,this.onRowHighlighted)});if(h.push(y),this.props.renderSeparator&&(d!==u.length-1||s===n.length-1)){var b=this.state.highlightedRow.sectionID===c&&(this.state.highlightedRow.rowID===p||this.state.highlightedRow.rowID===u[d+1]),_=this.props.renderSeparator(c,p,b);_&&h.push(_)}if(++i===this.state.curRenderedRowsCount)break}var w=g.a.cloneElement(this.props.renderSectionBodyWrapper(c),{className:this.props.sectionBodyClassName},h);if(this.props.renderSectionWrapper?r.push(g.a.cloneElement(this.props.renderSectionWrapper(c),{},l,w)):(r.push(l),r.push(w)),i>=this.state.curRenderedRowsCount)break}}var x=this.props,S=x.renderScrollComponent,C=a()(x,["renderScrollComponent"]);return g.a.cloneElement(S(o()({},C,{onScroll:this._onScroll})),{ref:function(e){return t.ListViewRef=e},onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout},this.props.renderHeader?this.props.renderHeader():null,g.a.cloneElement(C.renderBodyComponent(),{},r),this.props.renderFooter?this.props.renderFooter():null,C.children)}}]),e}(g.a.Component);B.DataSource=I,B.propTypes=o()({},L.propTypes,{dataSource:y.a.instanceOf(I).isRequired,renderSeparator:y.a.func,renderRow:y.a.func.isRequired,initialListSize:y.a.number,onEndReached:y.a.func,onEndReachedThreshold:y.a.number,pageSize:y.a.number,renderFooter:y.a.func,renderHeader:y.a.func,renderSectionHeader:y.a.func,renderScrollComponent:y.a.func,scrollRenderAheadDistance:y.a.number,onChangeVisibleRows:y.a.func,scrollEventThrottle:y.a.number,renderBodyComponent:y.a.func,renderSectionWrapper:y.a.func,renderSectionBodyWrapper:y.a.func,sectionBodyClassName:y.a.string,listViewPrefixCls:y.a.string,useBodyScroll:y.a.bool}),B.defaultProps={initialListSize:10,pageSize:1,renderScrollComponent:function(t){return g.a.createElement(L,t)},renderBodyComponent:function(){return g.a.createElement("div",null)},renderSectionBodyWrapper:function(t){return g.a.createElement("div",{key:t})},sectionBodyClassName:"list-view-section-body",listViewPrefixCls:"rmc-list-view",scrollRenderAheadDistance:1e3,onEndReachedThreshold:1e3,scrollEventThrottle:50,scrollerOptions:{}};var z=function(){var t=this;this.state={curRenderedRowsCount:this.props.initialListSize,highlightedRow:{}},this.getMetrics=function(){return{contentLength:t.scrollProperties.contentLength,totalRows:t.props.dataSource.getRowCount(),renderedRows:t.state.curRenderedRowsCount,visibleRows:Object.keys(t._visibleRows).length}},this.getInnerViewNode=function(){return t.ListViewRef.getInnerViewNode()},this.scrollTo=function(){var e;t.ListViewRef&&t.ListViewRef.scrollTo&&(e=t.ListViewRef).scrollTo.apply(e,arguments)},this.onRowHighlighted=function(e,n){t.setState({highlightedRow:{sectionID:e,rowID:n}})},this._onContentSizeChange=function(e,n){var r=t.props.horizontal?e:n;r!==t.scrollProperties.contentLength&&(t.scrollProperties.contentLength=r,t._renderMoreRowsIfNeeded()),t.props.onContentSizeChange&&t.props.onContentSizeChange(e,n)},this._onLayout=function(e){var n=e.nativeEvent.layout,r=n.width,o=n.height,i=t.props.horizontal?r:o;i!==t.scrollProperties.visibleLength&&(t.scrollProperties.visibleLength=i,t._renderMoreRowsIfNeeded()),t.props.onLayout&&t.props.onLayout(e)},this._maybeCallOnEndReached=function(e){return!!(t.props.onEndReached&&t.scrollProperties.contentLength!==t._sentEndForContentLength&&t._getDistanceFromEnd(t.scrollProperties)<t.props.onEndReachedThreshold&&t.state.curRenderedRowsCount===t.props.dataSource.getRowCount())&&(t._sentEndForContentLength=t.scrollProperties.contentLength,t.props.onEndReached(e),!0)},this._renderMoreRowsIfNeeded=function(){null!==t.scrollProperties.contentLength&&null!==t.scrollProperties.visibleLength&&t.state.curRenderedRowsCount!==t.props.dataSource.getRowCount()?t._getDistanceFromEnd(t.scrollProperties)<t.props.scrollRenderAheadDistance&&t._pageInNewRows():t._maybeCallOnEndReached()},this._pageInNewRows=function(){t.setState((function(e,n){var r=Math.min(e.curRenderedRowsCount+n.pageSize,n.dataSource.getRowCount());return t._prevRenderedRowsCount=e.curRenderedRowsCount,{curRenderedRowsCount:r}}),(function(){t._prevRenderedRowsCount=t.state.curRenderedRowsCount}))},this._getDistanceFromEnd=function(t){return t.contentLength-t.visibleLength-t.offset},this._onScroll=function(e,n){t.ListViewRef&&(t.scrollProperties=n,t._maybeCallOnEndReached(e)||t._renderMoreRowsIfNeeded(),t.props.onEndReached&&t._getDistanceFromEnd(t.scrollProperties)>t.props.onEndReachedThreshold&&(t._sentEndForContentLength=null),t.props.onScroll&&t.props.onScroll(e))}},F=B,H=n(44),U=n.n(H);function W(t){window.document.body.scrollTop=t,window.document.documentElement.scrollTop=t}var V=function(t){function e(t){c()(this,e);var n=h()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Y.call(n),n.state={pageSize:t.pageSize,_delay:!1},n}return p()(e,t),l()(e,[{key:"componentDidMount",value:function(){this.dataChange(this.props),this.getQsInfo()}},{key:"componentWillReceiveProps",value:function(t){this.props.dataSource!==t.dataSource&&this.dataChange(t)}},{key:"componentDidUpdate",value:function(){this.getQsInfo()}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),this._hCache=null}},{key:"renderQuickSearchBar",value:function(t,e){var n=this,r=this.props,o=r.dataSource,i=r.prefixCls,a=o.sectionIdentities.map((function(t){return{value:t,label:o._getSectionHeaderData(o._dataBlob,t)}}));return g.a.createElement("ul",{ref:function(t){return n.quickSearchBarRef=t},className:i+"-quick-search-bar",style:e,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd},g.a.createElement("li",{"data-qf-target":t.value,onClick:function(){return n.onQuickSearchTop(void 0,t.value)}},t.label),a.map((function(t){return g.a.createElement("li",{key:t.value,"data-qf-target":t.value,onClick:function(){return n.onQuickSearch(t.value)}},t.label)})))}},{key:"render",value:function(){var t,e=this,n=this.state,r=n._delay,i=n.pageSize,s=this.props,c=s.className,u=s.prefixCls,l=s.children,f=s.quickSearchBarTop,h=s.quickSearchBarStyle,d=s.initialListSize,p=void 0===d?Math.min(20,this.props.dataSource.getRowCount()):d,v=s.showQuickSearchIndicator,m=s.renderSectionHeader,y=s.sectionHeaderClassName,b=a()(s,["className","prefixCls","children","quickSearchBarTop","quickSearchBarStyle","initialListSize","showQuickSearchIndicator","renderSectionHeader","sectionHeaderClassName"]);return g.a.createElement("div",{className:u+"-container"},r&&this.props.delayActivityIndicator,g.a.createElement(F,o()({},b,{ref:function(t){return e.indexedListViewRef=t},className:T()(u,c),initialListSize:p,pageSize:i,renderSectionHeader:function(t,n){return g.a.cloneElement(m(t,n),{ref:function(t){return e.sectionComponents[n]=t},className:y||u+"-section-header"})}}),l),this.renderQuickSearchBar(f,h),v?g.a.createElement("div",{className:T()((t={},U()(t,u+"-qsindicator",!0),U()(t,u+"-qsindicator-hide",!v||!this.state.showQuickSearchIndicator),t)),ref:function(t){return e.qsIndicatorRef=t}}):null)}}]),e}(g.a.Component);V.propTypes=o()({},F.propTypes,{children:y.a.any,prefixCls:y.a.string,className:y.a.string,sectionHeaderClassName:y.a.string,quickSearchBarTop:y.a.object,quickSearchBarStyle:y.a.object,onQuickSearch:y.a.func,showQuickSearchIndicator:y.a.bool}),V.defaultProps={prefixCls:"rmc-indexed-list",quickSearchBarTop:{value:"#",label:"#"},onQuickSearch:function(){},showQuickSearchIndicator:!1,delayTime:100,delayActivityIndicator:""};var Y=function(){var t=this;this.onQuickSearchTop=function(e,n){t.props.useBodyScroll?W(0):_.a.findDOMNode(t.indexedListViewRef.ListViewRef).scrollTop=0,t.props.onQuickSearch(e,n)},this.onQuickSearch=function(e){var n=_.a.findDOMNode(t.indexedListViewRef.ListViewRef),r=_.a.findDOMNode(t.sectionComponents[e]);t.props.useBodyScroll?W(r.getBoundingClientRect().top-n.getBoundingClientRect().top+function(t){var e=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop)}while(t=t.offsetParent);return e}(n)):n.scrollTop+=r.getBoundingClientRect().top-n.getBoundingClientRect().top,t.props.onQuickSearch(e)},this.onTouchStart=function(e){t._target=e.target,t._basePos=t.quickSearchBarRef.getBoundingClientRect(),document.addEventListener("touchmove",t._disableParent,!1),document.body.className=document.body.className+" "+t.props.prefixCls+"-qsb-moving",t.updateIndicator(t._target)},this.onTouchMove=function(e){if(e.preventDefault(),t._target){var n=function(t){return t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(e),r=t._basePos,o=void 0;if(n.clientY>=r.top&&n.clientY<=r.top+t._qsHeight){var i=void 0;if((o=Math.floor((n.clientY-r.top)/t._avgH))in t._hCache&&(i=t._hCache[o][0]),i){var a=i.getAttribute("data-qf-target");t._target!==i&&(t.props.quickSearchBarTop.value===a?t.onQuickSearchTop(void 0,a):t.onQuickSearch(a),t.updateIndicator(i)),t._target=i}}}},this.onTouchEnd=function(){t._target&&(document.removeEventListener("touchmove",t._disableParent,!1),document.body.className=document.body.className.replace(new RegExp("\\s*"+t.props.prefixCls+"-qsb-moving","g"),""),t.updateIndicator(t._target,!0),t._target=null)},this.getQsInfo=function(){var e=t.quickSearchBarRef,n=e.offsetHeight,r=[];[].slice.call(e.querySelectorAll("[data-qf-target]")).forEach((function(t){r.push([t])}));for(var o=n/r.length,i=0,a=0,s=r.length;a<s;a++)i=a*o,r[a][1]=[i,i+o];t._qsHeight=n,t._avgH=o,t._hCache=r},this.sectionComponents={},this.dataChange=function(e){var n=e.dataSource.getRowCount();n&&(t.setState({_delay:!0}),t._timer&&clearTimeout(t._timer),t._timer=setTimeout((function(){t.setState({pageSize:n,_delay:!1},(function(){return t.indexedListViewRef._pageInNewRows()}))}),e.delayTime))},this.updateIndicator=function(e,n){var r=e;r.getAttribute("data-qf-target")||(r=r.parentNode),t.props.showQuickSearchIndicator&&(t.qsIndicatorRef.innerText=r.innerText.trim(),t.setState({showQuickSearchIndicator:!0}),t._indicatorTimer&&clearTimeout(t._indicatorTimer),t._indicatorTimer=setTimeout((function(){t.setState({showQuickSearchIndicator:!1})}),1e3));var o=t.props.prefixCls+"-quick-search-bar-over";t._hCache.forEach((function(t){t[0].className=t[0].className.replace(o,"")})),n||(r.className=r.className+" "+o)},this._disableParent=function(t){t.preventDefault(),t.stopPropagation()}},G=V;F.IndexedList=G;var X=F.DataSource;e.default=F},1398:function(t,e,n){},1401:function(t,e,n){"use strict";n(662),n(1425),n(1368)},1402:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(1258)),o=c(n(1427)),i=c(n(1428)),a=c(n(1433)),s=c(n(1444));function c(t){return t&&t.__esModule?t:{default:t}}r.default.Group=o.default,r.default.Search=i.default,r.default.TextArea=a.default,r.default.Password=s.default;var u=r.default;e.default=u},1403:function(t,e,n){"use strict";n(343),n(1218),n(1464)},1404:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(27)),o=h(n(39)),i=h(n(40)),a=h(n(37)),s=h(n(45)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),u=h(n(1397)),l=h(n(1396)),f=h(n(1467));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){(0,o.default)(this,e);var t=(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.scrollTo=function(){var e;return(e=t.listviewRef).scrollTo.apply(e,arguments)},t.getInnerViewNode=function(){return t.listviewRef.getInnerViewNode()},t}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this,e=(0,l.default)(this.props,!1),n=e.restProps,o=e.extraProps;return c.createElement(u.default,(0,r.default)({ref:function(e){return t.listviewRef=e}},n,o))}}]),e}(c.Component);e.default=d,d.defaultProps={prefixCls:"am-list-view",listPrefixCls:"am-list"},d.DataSource=u.default.DataSource,d.IndexedList=f.default,t.exports=e.default},1406:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ANT_MARK=void 0;var o=h(n(3)),i=h(n(13)),a=h(n(1)),s=l(n(1407)),c=n(1380),u=l(n(347));function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){if(t&&t.__esModule)return t;if(null===t||"object"!==d(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function d(t){return(d="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){t&&t.locale?(0,s.default)(a).locale(t.locale):(0,s.default)(a).locale("en")}e.ANT_MARK="internalMark";var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=g(this,m(e).call(this,t)),b(t.locale),(0,c.changeConfirmLocale)(t.locale&&t.locale.Modal),(0,u.default)("internalMark"===t._ANT_MARK__,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"getChildContext",value:function(){return{antLocale:p(p({},this.props.locale),{exist:!0})}}},{key:"componentDidUpdate",value:function(t){var e=this.props.locale;t.locale!==e&&(b(e),(0,c.changeConfirmLocale)(e&&e.Modal))}},{key:"componentWillUnmount",value:function(){(0,c.changeConfirmLocale)()}},{key:"render",value:function(){return this.props.children}}])&&v(n.prototype,r),o&&v(n,o),e}(o.Component);e.default=_,_.propTypes={locale:i.object},_.defaultProps={locale:{}},_.childContextTypes={antLocale:i.object}},1407:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.default||t}},1408:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.withConfigConsumer=function(t){return function(e){var n=function(n){return i.createElement(h,null,(function(r){var o=t.prefixCls,a=(0,r.getPrefixCls)(o,n.prefixCls);return i.createElement(e,l({},r,n,{prefixCls:a}))}))},r=e.constructor,o=r&&r.displayName||e.name||"Component";return n.displayName="withConfigConsumer(".concat(o,")"),n}},e.ConfigConsumer=e.ConfigContext=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),a=c(n(1286)),s=c(n(1411));function c(t){return t&&t.__esModule?t:{default:t}}function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=(0,a.default)({getPrefixCls:function(t,e){return e||"ant-".concat(t)},renderEmpty:s.default});e.ConfigContext=f;var h=f.Consumer;e.ConfigConsumer=h},1409:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.__esModule=!0;var o=n(3),i=(s(o),s(n(13))),a=s(n(1410));s(n(1264));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}e.default=function(t,e){var n,r,s="__create-react-context-"+(0,a.default)()+"__",h=function(t){function n(){var e,r;c(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(i))),r.emitter=f(r.props.value),u(r,e)}return l(n,t),n.prototype.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,o=void 0;((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)?o=0:(o="function"===typeof e?e(n,r):1073741823,0!==(o|=0)&&this.emitter.set(t.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(o.Component);h.childContextTypes=((n={})[s]=i.default.object.isRequired,n);var d=function(e){function n(){var t,r;c(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return l(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},n.prototype.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},n.prototype.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[s]?this.context[s].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(o.Component);return d.contextTypes=((r={})[s]=i.default.object,r),{Provider:h,Consumer:d}},t.exports=e.default},1410:function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(53))},1411:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),s=(i=n(1412))&&i.__esModule?i:{default:i},c=n(1181);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}var l=function(t){return a.createElement(c.ConfigConsumer,null,(function(e){var n=(0,e.getPrefixCls)("empty");switch(t){case"Table":case"List":return a.createElement(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return a.createElement(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return a.createElement(s.default,null)}}))};e.default=l},1412:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),a=f(n(661)),s=n(1181),c=f(n(664)),u=f(n(1413)),l=f(n(1414));function f(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},v=i.createElement(u.default,null),g=i.createElement(l.default,null),m=function(t){return i.createElement(s.ConfigConsumer,null,(function(e){var n=e.getPrefixCls,r=t.className,o=t.prefixCls,s=t.image,u=void 0===s?v:s,l=t.description,f=t.children,h=t.imageStyle,m=p(t,["className","prefixCls","image","description","children","imageStyle"]);return i.createElement(c.default,{componentName:"Empty"},(function(t){var e,s,c,p=n("empty",o),v="undefined"!==typeof l?l:t.description,y="string"===typeof v?v:"empty",b=null;return b="string"===typeof u?i.createElement("img",{alt:y,src:u}):u,i.createElement("div",d({className:(0,a.default)(p,(e={},s="".concat(p,"-normal"),c=u===g,s in e?Object.defineProperty(e,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[s]=c,e),r)},m),i.createElement("div",{className:"".concat(p,"-image"),style:h},b),v&&i.createElement("p",{className:"".concat(p,"-description")},v),f&&i.createElement("div",{className:"".concat(p,"-footer")},f))}))}))};m.PRESENTED_IMAGE_DEFAULT=v,m.PRESENTED_IMAGE_SIMPLE=g;var y=m;e.default=y},1413:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var s=function(){return i.createElement("svg",{width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(24 31.67)"},i.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),i.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),i.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),i.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),i.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),i.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},i.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};e.default=s},1414:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var s=function(){return i.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i.createElement("ellipse",{fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"}),i.createElement("g",{fillRule:"nonzero",stroke:"#D9D9D9"},i.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA"}))))};e.default=s},1425:function(t,e,n){},1426:function(t,e,n){},1427:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),s=(i=n(661))&&i.__esModule?i:{default:i},c=n(1181);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return a.createElement(c.ConfigConsumer,null,(function(e){var n,r=e.getPrefixCls,o=t.prefixCls,i=t.className,c=void 0===i?"":i,u=r("input-group",o),f=(0,s.default)(u,(l(n={},"".concat(u,"-lg"),"large"===t.size),l(n,"".concat(u,"-sm"),"small"===t.size),l(n,"".concat(u,"-compact"),t.compact),n),c);return a.createElement("span",{className:f,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},t.children)}))};e.default=f},1428:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),i=l(n(661)),a=l(n(1258)),s=l(n(342)),c=l(n(1346)),u=n(1181);function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){return(h="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},w=function(t){function e(){var t;return v(this,e),(t=m(this,y(e).apply(this,arguments))).saveInput=function(e){t.input=e},t.onChange=function(e){var n=t.props,r=n.onChange,o=n.onSearch;e&&e.target&&"click"===e.type&&o&&o(e.target.value,e),r&&r(e)},t.onSearch=function(e){var n=t.props,r=n.onSearch,o=n.loading,i=n.disabled;o||i||(r&&r(t.input.input.value,e),t.input.focus())},t.renderLoading=function(e){var n=t.props,r=n.enterButton,i=n.size;return r?o.createElement(c.default,{className:"".concat(e,"-button"),type:"primary",size:i,key:"enterButton"},o.createElement(s.default,{type:"loading"})):o.createElement(s.default,{className:"".concat(e,"-icon"),type:"loading",key:"loadingIcon"})},t.renderSuffix=function(e){var n=t.props,r=n.suffix,i=n.enterButton;if(n.loading&&!i)return[r,t.renderLoading(e)];if(i)return r;var a=o.createElement(s.default,{className:"".concat(e,"-icon"),type:"search",key:"searchIcon",onClick:t.onSearch});return r?[o.isValidElement(r)?o.cloneElement(r,{key:"suffix"}):null,a]:a},t.renderAddonAfter=function(e){var n,r=t.props,i=r.enterButton,a=r.size,u=r.disabled,l=r.addonAfter,f=r.loading,h="".concat(e,"-button");if(f&&i)return[t.renderLoading(e),l];if(!i)return l;var d=i,v=d.type&&!0===d.type.__ANT_BUTTON;return n=v||"button"===d.type?o.cloneElement(d,p({onClick:t.onSearch,key:"enterButton"},v?{className:h,size:a}:{})):o.createElement(c.default,{className:h,type:"primary",size:a,disabled:u,key:"enterButton",onClick:t.onSearch},!0===i?o.createElement(s.default,{type:"search"}):i),l?[n,o.isValidElement(l)?o.cloneElement(l,{key:"addonAfter"}):null]:n},t.renderSearch=function(e){var n=e.getPrefixCls,r=t.props,s=r.prefixCls,c=r.inputPrefixCls,u=r.size,l=r.enterButton,f=r.className,h=_(r,["prefixCls","inputPrefixCls","size","enterButton","className"]);delete h.onSearch,delete h.loading;var v,g,m=n("input-search",s),y=n("input",c);l?v=(0,i.default)(m,f,(d(g={},"".concat(m,"-enter-button"),!!l),d(g,"".concat(m,"-").concat(u),!!u),g)):v=(0,i.default)(m,f);return o.createElement(a.default,p({onPressEnter:t.onSearch},h,{size:u,prefixCls:y,addonAfter:t.renderAddonAfter(m),suffix:t.renderSuffix(m),onChange:t.onChange,ref:t.saveInput,className:v}))},t}var n,r,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(r=[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){return o.createElement(u.ConfigConsumer,null,this.renderSearch)}}])&&g(n.prototype,r),l&&g(n,l),e}(o.Component);e.default=w,w.defaultProps={enterButton:!1}},1429:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=v(n(3)),i=v(n(13)),a=d(n(661)),s=n(1182),c=d(n(1207)),u=d(n(342)),l=n(1181),f=d(n(1430)),h=n(1254);function d(t){return t&&t.__esModule?t:{default:t}}function p(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function v(t){if(t&&t.__esModule)return t;if(null===t||"object"!==x(t)&&"function"!==typeof t)return{default:t};var e=p();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==x(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){return(x="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var S=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},C=/^[\u4e00-\u9fa5]{2}$/,O=C.test.bind(C);function k(t,e){var n=!1,r=[];return o.Children.forEach(t,(function(t){var e=x(t),o="string"===e||"number"===e;if(n&&o){var i=r.length-1,a=r[i];r[i]="".concat(a).concat(t)}else r.push(t);n=o})),o.Children.map(r,(function(t){return function(t,e){if(null!=t){var n=e?" ":"";return"string"!==typeof t&&"number"!==typeof t&&"string"===typeof t.type&&O(t.props.children)?o.cloneElement(t,{},t.props.children.split("").join(n)):"string"===typeof t?(O(t)&&(t=t.split("").join(n)),o.createElement("span",null,t)):t}}(t,e)}))}(0,h.tuple)("default","primary","ghost","dashed","danger","link");var M=(0,h.tuple)("circle","circle-outline","round"),E=(0,h.tuple)("large","default","small"),j=(0,h.tuple)("submit","button","reset"),I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=b(this,_(e).call(this,t))).saveButtonRef=function(t){n.buttonNode=t},n.handleClick=function(t){var e=n.state.loading,r=n.props.onClick;e||r&&r(t)},n.renderButton=function(t){var e,r=t.getPrefixCls,i=t.autoInsertSpaceInButton,s=n.props,l=s.prefixCls,h=s.type,d=s.shape,p=s.size,v=s.className,y=s.children,b=s.icon,_=s.ghost,w=s.block,x=S(s,["prefixCls","type","shape","size","className","children","icon","ghost","block"]),C=n.state,O=C.loading,M=C.hasTwoCNChar,E=r("btn",l),j=!1!==i,I="";switch(p){case"large":I="lg";break;case"small":I="sm"}var A=O?"loading":b,T=(0,a.default)(E,v,(m(e={},"".concat(E,"-").concat(h),h),m(e,"".concat(E,"-").concat(d),d),m(e,"".concat(E,"-").concat(I),I),m(e,"".concat(E,"-icon-only"),!y&&0!==y&&A),m(e,"".concat(E,"-loading"),!!O),m(e,"".concat(E,"-background-ghost"),_),m(e,"".concat(E,"-two-chinese-chars"),M&&j),m(e,"".concat(E,"-block"),w),e)),P=A?o.createElement(u.default,{type:A}):null,D=y||0===y?k(y,n.isNeedInserted()&&j):null,N=(0,c.default)(x,["htmlType","loading"]);if(void 0!==N.href)return o.createElement("a",g({},N,{className:T,onClick:n.handleClick,ref:n.saveButtonRef}),P,D);var L=x,R=L.htmlType,B=S(L,["htmlType"]),z=o.createElement("button",g({},(0,c.default)(B,["loading"]),{type:R,className:T,onClick:n.handleClick,ref:n.saveButtonRef}),P,D);return"link"===h?z:o.createElement(f.default,null,z)},n.state={loading:t.loading,hasTwoCNChar:!1},n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentDidUpdate",value:function(t){var e=this;this.fixTwoCNChar(),t.loading&&"boolean"!==typeof t.loading&&clearTimeout(this.delayTimeout);var n=this.props.loading;n&&"boolean"!==typeof n&&n.delay?this.delayTimeout=window.setTimeout((function(){e.setState({loading:n})}),n.delay):t.loading!==n&&this.setState({loading:n})}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){if(this.buttonNode){var t=this.buttonNode.textContent||this.buttonNode.innerText;this.isNeedInserted()&&O(t)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}}},{key:"isNeedInserted",value:function(){var t=this.props,e=t.icon,n=t.children,r=t.type;return 1===o.Children.count(n)&&!e&&"link"!==r}},{key:"render",value:function(){return o.createElement(l.ConfigConsumer,null,this.renderButton)}}])&&y(n.prototype,r),i&&y(n,i),e}(o.Component);I.__ANT_BUTTON=!0,I.defaultProps={loading:!1,ghost:!1,block:!1,htmlType:"button"},I.propTypes={type:i.string,shape:i.oneOf(M),size:i.oneOf(E),htmlType:i.oneOf(j),onClick:i.func,loading:i.oneOfType([i.bool,i.object]),className:i.string,icon:i.string,block:i.bool,title:i.string},(0,s.polyfill)(I);var A=I;e.default=A},1430:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),a=n(46),s=l(n(1431)),c=l(n(1347)),u=n(1181);function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){return(h="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?m(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return!t||null===t.offsetParent}function _(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}var w=function(t){function e(){var t;return d(this,e),(t=v(this,g(e).apply(this,arguments))).animationStart=!1,t.destroy=!1,t.onClick=function(e,n){if(!(!e||b(e)||e.className.indexOf("-leave")>=0)){var r=t.props.insertExtraNode;t.extraNode=document.createElement("div");var i=m(t).extraNode;i.className="ant-click-animating-node";var a=t.getAttributeName();e.setAttribute(a,"true"),o=o||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&_(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n&&(t.csp&&t.csp.nonce&&(o.nonce=t.csp.nonce),i.style.borderColor=n,o.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.contains(o)||document.body.appendChild(o)),r&&e.appendChild(i),s.default.addStartEventListener(e,t.onTransitionStart),s.default.addEndEventListener(e,t.onTransitionEnd)}},t.onTransitionStart=function(e){if(!t.destroy){var n=(0,a.findDOMNode)(m(t));e&&e.target===n&&(t.animationStart||t.resetEffect(n))}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!b(n.target)){t.resetEffect(e);var r=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout((function(){return t.onClick(e,r)}),0),c.default.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=(0,c.default)((function(){t.animationStart=!1}),10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.renderWave=function(e){var n=e.csp,r=t.props.children;return t.csp=n,r},t}var n,r,l;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=(0,a.findDOMNode)(this);t&&1===t.nodeType&&(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroy=!0}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(t){if(t&&t!==this.extraNode&&t instanceof Element){var e=this.props.insertExtraNode,n=this.getAttributeName();t.setAttribute(n,"false"),o&&(o.innerHTML=""),e&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),s.default.removeStartEventListener(t,this.onTransitionStart),s.default.removeEndEventListener(t,this.onTransitionEnd)}}},{key:"render",value:function(){return i.createElement(u.ConfigConsumer,null,this.renderWave)}}])&&p(n.prototype,r),l&&p(n,l),e}(i.Component);e.default=w},1431:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[],a=[];function s(t,e,n){t.addEventListener(e,n,!1)}function c(t,e,n){t.removeEventListener(e,n,!1)}"undefined"!==typeof window&&"undefined"!==typeof document&&function(){var t=document.createElement("div").style;function e(e,n){for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];for(var i in o)if(i in t){n.push(o[i]);break}}}"AnimationEvent"in window||(delete r.animationstart.animation,delete o.animationend.animation),"TransitionEvent"in window||(delete r.transitionstart.transition,delete o.transitionend.transition),e(r,i),e(o,a)}();var u={startEvents:i,addStartEventListener:function(t,e){0!==i.length?i.forEach((function(n){s(t,n,e)})):window.setTimeout(e,0)},removeStartEventListener:function(t,e){0!==i.length&&i.forEach((function(n){c(t,n,e)}))},endEvents:a,addEndEventListener:function(t,e){0!==a.length?a.forEach((function(n){s(t,n,e)})):window.setTimeout(e,0)},removeEndEventListener:function(t,e){0!==a.length&&a.forEach((function(n){c(t,n,e)}))}};e.default=u,t.exports=e.default},1432:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),s=(i=n(661))&&i.__esModule?i:{default:i},c=n(1181);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},h=function(t){return a.createElement(c.ConfigConsumer,null,(function(e){var n=e.getPrefixCls,r=t.prefixCls,o=t.size,i=t.className,c=f(t,["prefixCls","size","className"]),u=n("btn-group",r),h="";switch(o){case"large":h="lg";break;case"small":h="sm"}var d=(0,s.default)(u,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},"".concat(u,"-").concat(h),h),i);return a.createElement("div",l({},c,{className:d}))}))};e.default=h},1433:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),i=n(1182),a=l(n(1381)),s=l(n(1434)),c=n(1181),u=n(1258);function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){return(h="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=v(this,g(e).call(this,t))).saveTextArea=function(t){n.resizableTextArea=t},n.saveClearableInput=function(t){n.clearableInput=t},n.handleChange=function(t){n.setValue(t.target.value,(function(){n.resizableTextArea.resizeTextarea()})),(0,u.resolveOnChange)(n.resizableTextArea.textArea,t,n.props.onChange)},n.handleKeyDown=function(t){var e=n.props,r=e.onPressEnter,o=e.onKeyDown;13===t.keyCode&&r&&r(t),o&&o(t)},n.handleReset=function(t){n.setValue("",(function(){n.resizableTextArea.renderTextArea(),n.focus()})),(0,u.resolveOnChange)(n.resizableTextArea.textArea,t,n.props.onChange)},n.renderTextArea=function(t){return o.createElement(s.default,d({},n.props,{prefixCls:t,onKeyDown:n.handleKeyDown,onChange:n.handleChange,ref:n.saveTextArea}))},n.renderComponent=function(t){var e=t.getPrefixCls,r=n.state.value,i=e("input",n.props.prefixCls);return o.createElement(a.default,d({},n.props,{prefixCls:i,inputType:"text",value:(0,u.fixControlledValue)(r),element:n.renderTextArea(i),handleReset:n.handleReset,ref:n.saveClearableInput}))};var r="undefined"===typeof t.value?t.defaultValue:t.value;return n.state={value:r},n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,i=[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}],(r=[{key:"setValue",value:function(t,e){"value"in this.props||this.setState({value:t},e)}},{key:"focus",value:function(){this.resizableTextArea.textArea.focus()}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return o.createElement(c.ConfigConsumer,null,this.renderComponent)}}])&&p(n.prototype,r),i&&p(n,i),e}(o.Component);(0,i.polyfill)(y);var b=y;e.default=b},1434:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==p(t)&&"function"!==typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),i=n(1182),a=h(n(1435)),s=h(n(1207)),c=h(n(661)),u=h(n(1443)),l=h(n(1347)),f=h(n(347));function h(t){return t&&t.__esModule?t:{default:t}}function d(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}function p(t){return(p="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=m(this,y(e).call(this,t))).saveTextArea=function(t){n.textArea=t},n.resizeOnNextFrame=function(){l.default.cancel(n.nextFrameActionId),n.nextFrameActionId=(0,l.default)(n.resizeTextarea)},n.resizeTextarea=function(){var t=n.props.autoSize||n.props.autosize;if(t&&n.textArea){var e=t.minRows,r=t.maxRows,o=(0,u.default)(n.textArea,!1,e,r);n.setState({textareaStyles:o,resizing:!0},(function(){l.default.cancel(n.resizeFrameId),n.resizeFrameId=(0,l.default)((function(){n.setState({resizing:!1})}))}))}},n.renderTextArea=function(){var t=n.props,e=t.prefixCls,r=t.autoSize,i=t.autosize,u=t.className,l=t.disabled,h=n.state,d=h.textareaStyles,p=h.resizing;(0,f.default)(void 0===i,"Input.TextArea","autosize is deprecated, please use autoSize instead.");var g,m,y,b=(0,s.default)(n.props,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear"]),_=(0,c.default)(e,u,(g={},m="".concat(e,"-disabled"),y=l,m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g));"value"in b&&(b.value=b.value||"");var w=v(v(v({},n.props.style),d),p?{overflow:"hidden"}:null);return o.createElement(a.default,{onResize:n.resizeOnNextFrame,disabled:!(r||i)},o.createElement("textarea",v({},b,{className:_,style:w,ref:n.saveTextArea})))},n.state={textareaStyles:{},resizing:!1},n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentDidUpdate",value:function(t){t.value!==this.props.value&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){l.default.cancel(this.nextFrameActionId),l.default.cancel(this.resizeFrameId)}},{key:"render",value:function(){return this.renderTextArea()}}])&&g(n.prototype,r),i&&g(n,i),e}(o.Component);(0,i.polyfill)(_);var w=_;e.default=w},1435:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var h=l(n(3)),d=f(n(1436)),p=f(n(1437)),v=f(n(1440)),g=n(1441),m=f(n(1201)),y=n(1442),b=function(t){function e(){var t;return i(this,e),(t=s(this,c(e).apply(this,arguments))).resizeObserver=null,t.childNode=null,t.currentElement=null,t.state={width:0,height:0},t.onResize=function(e){var n=t.props.onResize,r=e[0].target.getBoundingClientRect(),o=r.width,i=r.height,a=Math.floor(o),s=Math.floor(i);if(t.state.width!==a||t.state.height!==s){var c={width:a,height:s};t.setState(c),n&&n(c)}},t.setChildNode=function(e){t.childNode=e},t}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var t=d.default(this.childNode||this);t!==this.currentElement&&(this.destroyObserver(),this.currentElement=t),!this.resizeObserver&&t&&(this.resizeObserver=new m.default(this.onResize),this.resizeObserver.observe(t))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var t=this.props.children,e=p.default(t);if(e.length>1)v.default(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===e.length)return v.default(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=e[0];if(h.isValidElement(n)&&y.supportRef(n)){var r=n.ref;e[0]=h.cloneElement(n,{ref:g.composeRef(r,this.setChildNode)})}return 1===e.length?e[0]:e.map((function(t,e){return!h.isValidElement(t)||"key"in t&&null!==t.key?t:h.cloneElement(t,{key:"".concat("rc-observer-key","-").concat(e)})}))}}])&&a(n.prototype,r),o&&a(n,o),e}(h.Component);b.displayName="ResizeObserver",e.default=b},1436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t instanceof HTMLElement)return t;return o.default.findDOMNode(t)};var r,o=(r=n(46))&&r.__esModule?r:{default:r}},1437:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=[];return o.default.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?n=n.concat(t(e)):(0,i.isFragment)(e)&&e.props?n=n.concat(t(e.props.children)):n.push(e))})),n};var r,o=(r=n(3))&&r.__esModule?r:{default:r},i=n(1438)},1438:function(t,e,n){"use strict";t.exports=n(1439)},1439:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,v=o?Symbol.for("react.suspense"):60113,g=o?Symbol.for("react.suspense_list"):60120,m=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,_=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,x=o?Symbol.for("react.scope"):60119;function S(t){if("object"===r(t)&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case d:case s:case u:case c:case v:return t;default:switch(t=t&&t.$$typeof){case f:case p:case y:case m:case l:return t;default:return e}}case a:return e}}}function C(t){return S(t)===d}e.AsyncMode=h,e.ConcurrentMode=d,e.ContextConsumer=f,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=a,e.Profiler=u,e.StrictMode=c,e.Suspense=v,e.isAsyncMode=function(t){return C(t)||S(t)===h},e.isConcurrentMode=C,e.isContextConsumer=function(t){return S(t)===f},e.isContextProvider=function(t){return S(t)===l},e.isElement=function(t){return"object"===r(t)&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return S(t)===p},e.isFragment=function(t){return S(t)===s},e.isLazy=function(t){return S(t)===y},e.isMemo=function(t){return S(t)===m},e.isPortal=function(t){return S(t)===a},e.isProfiler=function(t){return S(t)===u},e.isStrictMode=function(t){return S(t)===c},e.isSuspense=function(t){return S(t)===v},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===d||t===u||t===c||t===v||t===g||"object"===r(t)&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===l||t.$$typeof===f||t.$$typeof===p||t.$$typeof===_||t.$$typeof===w||t.$$typeof===x||t.$$typeof===b)},e.typeOf=S},1440:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.warning=o,e.note=i,e.resetWarned=function(){r={}},e.call=a,e.warningOnce=s,e.noteOnce=function(t,e){a(i,t,e)},e.default=void 0;var r={};function o(t,e){0}function i(t,e){0}function a(t,e,n){e||r[n]||(t(!1,n),r[n]=!0)}function s(t,e){a(o,t,e)}var c=s;e.default=c},1441:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){"function"===typeof t?t(e):"object"===r(t)&&t&&"current"in t&&(t.current=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.fillRef=o,e.composeRef=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((function(e){o(e,t)}))}},e.supportRef=function(t){if(t.type&&t.type.prototype&&!t.type.prototype.render)return!1;if("function"===typeof t&&t.prototype&&!t.prototype.render)return!1;return!0}},1442:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportRef=function(t){return!(t.type&&t.type.prototype&&!t.type.prototype.render)}},1443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNodeStyling=s,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r||(r=document.createElement("textarea"),document.body.appendChild(r));t.getAttribute("wrap")?r.setAttribute("wrap",t.getAttribute("wrap")):r.removeAttribute("wrap");var a=s(t,e),c=a.paddingSize,u=a.borderSize,l=a.boxSizing,f=a.sizingStyle;r.setAttribute("style","".concat(f,";").concat(o)),r.value=t.value||t.placeholder||"";var h,d=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,v=r.scrollHeight;"border-box"===l?v+=u:"content-box"===l&&(v-=c);if(null!==n||null!==i){r.value=" ";var g=r.scrollHeight-c;null!==n&&(d=g*n,"border-box"===l&&(d=d+c+u),v=Math.max(d,v)),null!==i&&(p=g*i,"border-box"===l&&(p=p+c+u),h=v>p?"":"hidden",v=Math.min(p,v))}return{height:v,minHeight:d,maxHeight:p,overflowY:h}};var r,o="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",i=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],a={};function s(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&a[n])return a[n];var r=window.getComputedStyle(t),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),c=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),u=i.map((function(t){return"".concat(t,":").concat(r.getPropertyValue(t))})).join(";"),l={sizingStyle:u,paddingSize:s,borderSize:c,boxSizing:o};return e&&n&&(a[n]=l),l}},1444:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),i=u(n(661)),a=u(n(1207)),s=u(n(1258)),c=u(n(342));function u(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(t){return(f="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},_={click:"onClick",hover:"onMouseOver"},w=function(t){function e(){var t;return p(this,e),(t=g(this,m(e).apply(this,arguments))).state={visible:!1},t.onChange=function(){t.props.disabled||t.setState((function(t){return{visible:!t.visible}}))},t.saveInput=function(e){e&&e.input&&(t.input=e.input)},t}var n,r,u;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){var t,e=this.props,n=e.prefixCls,r=e.action,i=(d(t={},_[r]||"",this.onChange),d(t,"className","".concat(n,"-icon")),d(t,"type",this.state.visible?"eye":"eye-invisible"),d(t,"key","passwordIcon"),d(t,"onMouseDown",(function(t){t.preventDefault()})),t);return o.createElement(c.default,i)}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.prefixCls,r=t.inputPrefixCls,c=t.size,u=t.visibilityToggle,l=b(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),f=u&&this.getIcon(),p=(0,i.default)(n,e,d({},"".concat(n,"-").concat(c),!!c));return o.createElement(s.default,h({},(0,a.default)(l,["suffix"]),{type:this.state.visible?"text":"password",size:c,className:p,prefixCls:r,suffix:f,ref:this.saveInput}))}}])&&v(n.prototype,r),u&&v(n,u),e}(o.Component);e.default=w,w.defaultProps={inputPrefixCls:"ant-input",prefixCls:"ant-input-password",action:"click",visibilityToggle:!0}},1464:function(t,e,n){},1465:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(1395);t.exports=function(t){if(Array.isArray(t))return 0===t.length;if("object"===r(t)){if(t)for(var e in!function(t){if("undefined"===typeof Symbol)return!1;return t[Symbol.iterator]}(t)||void 0===t.size||o(!1),t)return!1;return!0}return!t}},1466:function(t,e,n){"use strict";t.exports=function(){}},1467:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(27)),o=f(n(39)),i=f(n(40)),a=f(n(37)),s=f(n(45)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),u=f(n(1397)),l=f(n(1396));function f(t){return t&&t.__esModule?t:{default:t}}var h=u.default.IndexedList,d=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,o=e.listPrefixCls,i=(0,l.default)(this.props,!0),a=i.restProps,s=i.extraProps;return c.createElement(h,(0,r.default)({ref:function(e){return t.indexedListRef=e},sectionHeaderClassName:n+"-section-header "+o+"-body",sectionBodyClassName:n+"-section-body "+o+"-body"},a,s),this.props.children)}}]),e}(c.Component);e.default=d,d.defaultProps={prefixCls:"am-indexed-list",listPrefixCls:"am-list",listViewPrefixCls:"am-list-view"},t.exports=e.default},1468:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r=new Set(["3gp","asf","avi","flv","f4v","m2t","m3u8","m4v","mj2","mjpeg","mkv","mov","mp4","mpe","mpg","mpeg","mts","qt","rm","rmvb","swf","ts","vob"]),o=new Set(["video/mp4"]),i=new Set(["wmv","webm","mp3","ogg","wma","wav","aac","ra","m4a","flac","ape","ac3","amr","caf","acm"]),a=new Set(["audio/x-m4a"]),s=new Set(["doc","docx"]),c=new Set(["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-works"]),u=new Set(["ppt","pptx"]),l=new Set(["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"]),f=new Set(["xls","xlsx"]),h=new Set(["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]),d=new Set(["jpg","jpeg","bmp","gif","png"]),p=new Set(["image/bmp","image/gif","image/jpg","image/jpeg","image/png","image/ico","image/x-icon"]),v=new Set(["pdf"]),g=new Set(["application/pdf"]),m=new Set(["zip","rar","7z"]),y=new Set(["application/x-zip-compressed"]),b=new Set(["txt"]),_=new Set(["py","c","cpp","cs","css","go","html","js","sql","tex","ts","java","md","xml","json"]);new Set(["application/json","text/javascript","text/css","text/xml","text/plain"]);function w(t){return null===t||void 0===t?void 0:t.split(".").pop().toLowerCase()}function x(t,e){var n=w(t);return c.has(e)||s.has(n)}function S(t,e){var n=w(t);return l.has(e)||u.has(n)}function C(t,e){var n=w(t);return h.has(e)||f.has(n)}function O(t,e){return x(t,e)||S(t,e)||C(t,e)}function k(t,e){var n=w(t);return b.has(n)}function M(t,e){var n=w(t);return p.has(e)||d.has(n)||String(e).startsWith("image")}function E(t,e){var n=w(t);return o.has(e)||r.has(n)||String(e).startsWith("video")}function j(t,e){var n=w(t);return a.has(e)||i.has(n)||String(e).startsWith("audio")}function I(t,e){var n=w(t);return y.has(e)||m.has(n)}function A(t,e){var n=w(t);return g.has(e)||v.has(n)}var T={getExtension:w,isDocFile:x,isPptFile:S,isXlsFile:C,isOfficeFile:O,isImageFile:M,isVideoFile:E,isAudioFile:j,isZipFile:I,isPdfFile:A,isTxtFile:k,getFileType:function(t,e){return M(t,e)?"image":j(t,e)?"audio":S(t,e)?"ppt":x(t,e)?"doc":C(t,e)?"xls":A(t,e)?"pdf":k(t)?"txt":I(t,e)?"zip":E(t,e)?"video":"other"},useOffice365:function(t,e){return O(t,e)||A(t,e)||I(t,e)||k(t)},amendMimetype:function(t){switch(t.filename.split(".").pop().toLowerCase()){case"doc":t.mimetype="application/msword";break;case"docx":t.mimetype="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"ppt":t.mimetype="application/vnd.ms-powerpoint";break;case"pptx":t.mimetype="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case"xls":t.mimetype="application/vnd.ms-excel";break;case"xlsx":t.mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"ogg":t.mimetype="audio/ogg";break;case"mp2":t.mimetype="audio/mpeg";break;case"voc":t.mimetype="audio/voc"}},isCodeFile:function(t,e){var n=w(t);return _.has(n)}}},1481:function(t,e,n){var r=n(125),o=n(1535),i=n(1536);t.exports=function(t,e){return i(t,o(r(e)))}},1535:function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},1536:function(t,e,n){var r=n(186),o=n(125),i=n(687),a=n(668);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=o(e),i(t,n,(function(t,n){return e(t,n[0])}))}},1620:function(t,e,n){"use strict";n.d(e,"q",(function(){return A})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return P})),n.d(e,"s",(function(){return D})),n.d(e,"u",(function(){return N})),n.d(e,"c",(function(){return L})),n.d(e,"k",(function(){return R})),n.d(e,"p",(function(){return B})),n.d(e,"v",(function(){return z})),n.d(e,"d",(function(){return F})),n.d(e,"t",(function(){return H})),n.d(e,"b",(function(){return U})),n.d(e,"i",(function(){return W})),n.d(e,"e",(function(){return V})),n.d(e,"o",(function(){return Y})),n.d(e,"j",(function(){return G})),n.d(e,"a",(function(){return X})),n.d(e,"f",(function(){return Z})),n.d(e,"m",(function(){return q})),n.d(e,"l",(function(){return K})),n.d(e,"n",(function(){return Q})),n.d(e,"r",(function(){return J}));var r=n(17),o=n.n(r),i=n(23),a=n.n(i),s=n(51),c=n.n(s),u=n(80),l=n.n(u),f=n(12),h=n.n(f),d=n(25),p=n.n(d),v=n(61),g=n.n(v),m=n(29),y=n.n(m),b=n(55),_=n.n(b),w=n(1481),x=n.n(w),S=n(2);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(){M=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(T([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==C(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(C(e)+" is not iterable")}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function E(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){E(i,r,o,a,s,"next",t)}function s(t){E(i,r,o,a,s,"throw",t)}a(void 0)}))}}var I=n(31).a.t,A=function(){var t=j(M().mark((function t(e){var n,r,o,i,a,s,c,u,l,f,h=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:0,r=h.length>2&&void 0!==h[2]?h[2]:10,o=h.length>3&&void 0!==h[3]?h[3]:0,i=h.length>4&&void 0!==h[4]?h[4]:"created_at",a=h.length>5&&void 0!==h[5]?h[5]:"DESC",s=h.length>6&&void 0!==h[6]?h[6]:null,c=h.length>7&&void 0!==h[7]?h[7]:null,u=h.length>8&&void 0!==h[8]?h[8]:null,l={group_id:e,page_index:n,page_size:r,filter_type:o,order_type:i,order_value:a,is_resolved:s,node_id:c,class_id:u},t.next=11,Object(S.i)("".concat(S.f,"/group_qa/question/list"),x()(l,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 11:if(!(f=t.sent).success){t.next=14;break}return t.abrupt("return",f.data);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=j(M().mark((function t(e){var n,r,o,i,s,u,f,d=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),g()(t,e)},n=d.length>1&&void 0!==d[1]?d[1]:"",r=d.length>2?d[2]:void 0,t.next=5,Object(S.i)("".concat(S.f,"/resource/queryCourseResources"),{group_id:e});case 5:return o=t.sent,s=function(t,e){var n=t;try{return p()(n,(function(t){for(var n=[null===t||void 0===t?void 0:t.name],r=0,o=h()(e,{id:null===t||void 0===t?void 0:t.parent_id});"1"!==(null===(i=o)||void 0===i?void 0:i.parent_id);){var i,a,s;r++,n.unshift(null===(a=o)||void 0===a?void 0:a.name),o=h()(e,{id:null===(s=o)||void 0===s?void 0:s.parent_id})}var c=r<=2?I("dayi:fetchcourseresources.str1")+l()(n,">"):I("dayi:fetchcourseresources.str1")+"".concat([n[0]],">").concat(n[1],"----").concat(n[(null===n||void 0===n?void 0:n.length)-1]);t._addressStr=c})),r?[].concat(O(n),[{id:"0",_addressStr:I("dayi:fetchcourseresources.str2")}]):[{id:null,_addressStr:I("dayi:fetchcourseresources.str3"),type:-1}].concat(O(n))}catch(o){console.log(o)}},u=c()(o.data),f=a()(u,(function(t){return 1!==(null===t||void 0===t?void 0:t.type)&&i(null===t||void 0===t?void 0:t.name,n)})),t.abrupt("return",s(f,u));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=j(M().mark((function t(e){var n,r,o,i,s,u=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"",t.next=3,Object(S.i)("".concat(S.f,"/resource/queryCourseResources"),{group_id:e});case 3:return r=t.sent,o=function(t,e){var n=t;try{return p()(n,(function(t){for(var n=[null===t||void 0===t?void 0:t.name],r=0,o=h()(e,{id:null===t||void 0===t?void 0:t.parent_id});"1"!==(null===(i=o)||void 0===i?void 0:i.parent_id);){var i,a,s;r++,n.unshift(null===(a=o)||void 0===a?void 0:a.name),o=h()(e,{id:null===(s=o)||void 0===s?void 0:s.parent_id})}var c=r<=2?I("dayi:fetchcourseresources.str1")+l()(n,">"):I("dayi:fetchcourseresources.str1")+"".concat([n[0]],">").concat(n[1],"----").concat(n[(null===n||void 0===n?void 0:n.length)-1]);t._addressStr=c})),O(n)}catch(r){console.log(r)}},i=c()(r.data),s=a()(i,(function(t){return 1!==(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.id)===n})),t.abrupt("return",o(s,i));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=j(M().mark((function t(e){var n,r,o,i,a,s,c,u=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:null,r=u.length>2&&void 0!==u[2]?u[2]:null,o=u.length>3&&void 0!==u[3]?u[3]:"",i=u.length>4&&void 0!==u[4]?u[4]:"",a=u.length>5&&void 0!==u[5]?u[5]:"",s={group_id:e,node_id:n,survey_question_id:r,title:o,content:i},n&&r&&(s.extra=String(a)),t.next=9,Object(S.j)("".concat(S.f,"/group_qa/question"),x()(s,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 9:return c=t.sent,t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,group_qa_question_id:n,is_top:r},t.next=3,Object(S.j)("".concat(S.f,"/group_qa/question/topping"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),L=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,group_qa_question_id:n,is_care:r},t.next=3,Object(S.j)("".concat(S.f,"/group_qa/care"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),R=function(){var t=j(M().mark((function t(e,n){var r,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={group_id:e,group_qa_question_id:n},t.next=3,Object(S.h)("".concat(S.f,"/group_qa/question"),x()(r,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),B=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,carrier_id:n,type:r},t.next=3,Object(S.j)("".concat(S.f,"/group_qa/like"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),z=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,carrier_id:n,type:r},t.next=3,Object(S.h)("".concat(S.f,"/group_qa/like"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),F=function(){var t=j(M().mark((function t(e){var n;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.i)("".concat(S.f,"/group/class/list/").concat(e));case 2:if(!(n=t.sent).success){t.next=5;break}return t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=j(M().mark((function t(e){var n,r,o,i,a,s,c,u=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:0,r=u.length>2&&void 0!==u[2]?u[2]:10,o=u.length>3&&void 0!==u[3]?u[3]:"created_at",i=u.length>4&&void 0!==u[4]?u[4]:"DESC",a=u.length>5?u[5]:void 0,s={group_id:e,page_index:n,page_size:r,order_type:o,order_value:i,group_qa_question_id:a,add_view_count:0===n},t.next=8,Object(S.i)("".concat(S.f,"/group_qa/question/answer/list"),x()(s,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 8:if(!(c=t.sent).success){t.next=11;break}return t.abrupt("return",c.data);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=j(M().mark((function t(e){var n,r,o,i,a=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,r=a.length>2&&void 0!==a[2]?a[2]:"",o={group_id:e,group_qa_question_id:n,answer:r},t.next=5,Object(S.j)("".concat(S.f,"/group_qa/answer"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=j(M().mark((function t(e,n){var r,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={group_id:e,group_qa_answer_id:n},t.next=3,Object(S.h)("".concat(S.f,"/group_qa/answer"),x()(r,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=j(M().mark((function t(e){var n,r,o,i,a=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,r=a.length>2&&void 0!==a[2]?a[2]:"",o={group_id:e,group_qa_answer_id:n,comment:r},t.next=5,Object(S.j)("".concat(S.f,"/group_qa/comment"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=j(M().mark((function t(e,n){var r,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={group_id:e,group_qa_question_id:n},t.next=3,Object(S.i)("".concat(S.f,"/group_qa/question"),x()(r,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:if(!(o=t.sent).success){t.next=6;break}return t.abrupt("return",o.data[0]);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),G=function(){var t=j(M().mark((function t(e,n){var r,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={group_id:e,group_qa_comment_id:n},t.next=3,Object(S.h)("".concat(S.f,"/group_qa/comment"),x()(r,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),X=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,group_qa_answer_id:n,is_accept:r},t.next=3,Object(S.j)("".concat(S.f,"/group_qa/answer/accept"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Z=function(){var t=j(M().mark((function t(e){var n,r,o,i,a,s=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,r=s.length>2&&void 0!==s[2]?s[2]:10,o=s.length>3&&void 0!==s[3]?s[3]:"",i={group_id:e,page_index:n,page_size:r,group_qa_answer_id:o},t.next=6,Object(S.i)("".concat(S.f,"/group_qa/answer/comment/list"),x()(i,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 6:if(!(a=t.sent).success){t.next=9;break}return t.abrupt("return",a.data);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,group_qa_comment_id:n,comment:r},t.next=3,Object(S.k)("".concat(S.f,"/group_qa/comment"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),K=function(){var t=j(M().mark((function t(e,n,r){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={group_id:e,group_qa_answer_id:n,answer:r},t.next=3,Object(S.k)("".concat(S.f,"/group_qa/answer"),x()(o,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Q=function(){var t=j(M().mark((function t(e,n,r,o,i){var a,s;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={group_id:e,node_id:n,title:r,content:o,group_qa_question_id:i},t.next=3,Object(S.k)("".concat(S.f,"/group_qa/question"),x()(a,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),J=function(){var t=j(M().mark((function t(e,n){var r,i,a,s;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={paper_id:e},t.next=3,Object(S.i)("".concat(S.f,"/survey/queryPaper"),x()(r,(function(t){return null==t||void 0===t||_()(t)&&y()(t)})));case 3:if(!(i=t.sent).success){t.next=9;break}return a=i.data.questions,s=[],o()(a,(function(t,e){9!==t.type||y()(t.subQuestions)?t.id===n&&s.push([e+1]):o()(t.subQuestions,(function(t,r){t.id===n&&s.push([e+1,r+1])}))})),t.abrupt("return",s[0]);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},1744:function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return k}));n(184);var r=n(99),o=n.n(r),i=(n(56),n(18)),a=n.n(i),s=n(9),c=n.n(s),u=n(29),l=n.n(u),f=n(55),h=n.n(f),d=n(1481),p=n.n(d),v=n(1468),g=n(2),m=n(31),y=n(1),b=n.n(y);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(){w=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:M(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==n&&r.call(S,a)&&(b=S);var C=y.prototype=g.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function M(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=p,r.method="throw",r.arg=u.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_(e)+" is not iterable")}return m.prototype=y,o(C,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},O(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(C),u(C,c,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}var S=m.a.t,C=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}(w().mark((function t(e,n){var r,i,s,u,f,d,m,y,_,x,C,O,k,M,E,j,I;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={node_id:e},t.next=3,Object(g.i)("".concat(g.f,"/resource/queryResource/v2"),p()(r,(function(t){return null==t||void 0===t||h()(t)&&l()(t)})));case 3:if(!(i=t.sent).success){t.next=43;break}if(s=i.data,u=s,0!==s.published||"1"!==n||1!=s.public){t.next=10;break}return a.a.error(S("dayi:openresource.message1")),t.abrupt("return");case 10:return t.next=12,Object(g.i)("".concat(g.f,"/task/status/check"),{node_id:e,group_id:u.group_id});case 12:if((f=t.sent).success||a.a.error("\u83b7\u53d6\u4efb\u52a1\u4fe1\u606f\u5931\u8d25"),d=f.data.start_time,!b()().isBefore(d)){t.next=18;break}return o.a.alert("\u4efb\u52a1\u5c1a\u672a\u5f00\u59cb","\u4efb\u52a1\u5f00\u59cb\u65f6\u95f4\uff1a".concat(b()(d).format("YYYY-MM-DD HH:mm:ss")),[{text:"\u786e\u8ba4",onPress:function(){return console.log("cancel")}}]),t.abrupt("return");case 18:t.t0=s.type,t.next=9===t.t0?21:6===t.t0?23:11===t.t0?25:8===t.t0?28:7===t.t0?31:2===t.t0?34:3===t.t0?37:40;break;case 21:return u.type&&v.a.isVideoFile(u.name,u.type)&&(m=c()(window,"Toolkits.onShowVideo"))&&Object(g.i)("".concat(g.d,"/vod/video/play_auth/").concat(u.resource.video_id)).then((function(t){t.success&&(l()(t.data.play_auth)?a.a.info(S("dayi:openresource.message2"),3):m({quote_id:u.quote_id,video_id:u.resource.video_id,name:u.name,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}))})),t.abrupt("break",41);case 23:return v.a.isAudioFile(u.name,u.mimetype)?(y=c()(window,"Toolkits.onShowAudio"))&&y({quote_id:u.quote_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}):v.a.useOffice365(u.name,u.mimetype)?(_=c()(window,"Toolkits.onShowOffice"))&&_({quote_id:u.quote_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}):v.a.isImageFile(u.name,u.mimetype)?(x=c()(window,"Toolkits.onShowImage"))&&(C="".concat(g.d,"/cloud/file_access/").concat(u.quote_id),x({url:C,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data})):v.a.isCodeFile(u.name,u.mimetype)&&(O=c()(window,"Toolkits.onShowCode"))&&O({quote_id:u.quote_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 25:return(k=c()(window,"Toolkits.onShowTeachDesign"))&&k({quote_id:u.quote_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 28:return(M=c()(window,"Toolkits.onShowDiscuss"))&&M({node_id:e,quote_id:u.quote_id,group_id:u.group_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 31:return(E=c()(window,"Toolkits.onShowPaper"))&&E({node_id:e,paper_id:u.quote_id,group_id:u.group_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 34:return(j=c()(window,"Toolkits.onShowNote"))&&j({node_id:e,group_id:u.group_id,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 37:return(I=c()(window,"Toolkits.onShowMindMap"))&&I({node_id:e,name:u.name,role:n,is_assigned:f.data.is_assigned,from:"area",taskInfo:f.data}),t.abrupt("break",41);case 40:a.a.error(S("dayi:openresource.message3"));case 41:t.next=44;break;case 43:a.a.error(S("1"==n?"dayi:openresource.message4_t":"dayi:openresource.message4_f"));case 44:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(t){return"5"===t||"7"===t||"8"===t};function k(t){var e=t.toString();if(t<1e3)return e;var n=Math.round(t/100).toString(),r=n.substring(0,n.length-1),o=n.substring(n.length-1);return"".concat(r,".").concat(o,"k")}},1855:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(1267);var r=n(1268),o=n.n(r),i=n(12),a=n.n(i),s=n(1192),c=n(3),u=n.n(c);n(1856);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function p(t,e,n){return e=v(e),function(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){function e(){var t;f(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=p(this,e,[].concat(r))).state={sort:"DESC",value:t.props.data[0][0].value},t.handleSortClick=function(){var e=t.props.onChange,n=t.state.sort;"DESC"===n?t.setState({sort:"ASC"},(function(){e&&e(this.state)})):"ASC"===n&&t.setState({sort:"DESC"},(function(){e&&e(this.state)}))},t.handelValueChange=function(e){var n=t.props.onChange;t.setState({value:e[0]},(function(){n&&n(this.state)}))},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.style,n=t.showSort,r=t.data,i=this.state,c=i.sort,l=i.value,f=a()(r[0],{value:l});return u.a.createElement("div",{className:"select-container",style:e},n&&u.a.createElement(s.a,{style:{zIndex:1},type:"DESC"===c?"icon-arrowdown1":"icon-arrowup1",onClick:this.handleSortClick}),u.a.createElement("div",{className:"select"},u.a.createElement("div",{className:"select-title"},u.a.createElement(o.a,{data:r,cascade:!1,cols:1,value:[f.value],onOk:this.handelValueChange},u.a.createElement("div",null,f.label))),u.a.createElement(s.a,{type:"icon-down1"})))}}])&&h(n.prototype,r),i&&h(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(u.a.Component)},1856:function(t,e,n){},2141:function(t,e,n){},2142:function(t,e,n){},2143:function(t,e,n){},2144:function(t,e,n){},2185:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Et}));n(184);var r,o=n(99),i=n.n(o),a=(n(1352),n(1353)),s=n.n(a),c=(n(65),n(22)),u=n.n(c),l=n(3),f=n.n(l),h=(n(1336),n(1337)),d=n.n(h),p=n(1192),v=n(188),g=(n(2141),n(1620)),m=n(1342),y=n.n(m),b=n(1744),_=n(31);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function C(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function O(t,e,n){return e=k(e),function(t,e){if(e&&("object"===w(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var E,j=_.a.t,I=d.a.Item,A=Object(v.g)(r=function(t){function e(){var t;x(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=O(this,e,[].concat(r))).state={visible:!1},t.handleGOBack=function(){var e=t.props.match.params,n=e.group_id,r=e.role,o=y.a.parse(t.props.location.search);delete o.node_id;var i=y.a.stringify(o);t.props.history.push("/paper_mobile/dayi/list/".concat(n,"/").concat(r,"?").concat(i))},t.handleSelect=function(e){if(window.courseEnd)u.a.info(j("dayi:aheader.handle_select.toast1"));else{var n=t.props.match.params.role;if(Object(b.c)(n))u.a.info(j("dayi:aheader.handle_select.toast2"));else{var r=t.props,o=r.data,a=o.id,s=o.group_id,c=o.is_top,l=o.is_my_care,f=(o.survey_question_id,r.uFun),h=y.a.parse(t.props.location.search),d=t;switch(e.props.value){case"a":Object(g.u)(s,a,!c).then((function(t){return null})),u.a.info(j(c?"dayi:aheader.handle_select.toast3_t":"dayi:aheader.handle_select.toast3_f"),2);break;case"b":Object(g.c)(s,a,!l).then((function(t){return null})),u.a.info(j(l?"dayi:aheader.handle_select.toast4_t":"dayi:aheader.handle_select.toast4_f"),2);break;case"d":t.setState({visible:!1}),i.a.alert(j("dayi:aheader.handle_select.modal_alert.title"),j("dayi:aheader.handle_select.modal_alert.message"),[{text:j("dayi:aheader.handle_select.modal_alert.f"),onPress:function(){return console.log("cancel")}},{text:j("dayi:aheader.handle_select.modal_alert.t"),onPress:function(){Object(g.k)(s,a).then((function(t){return u.a.info(j("dayi:aheader.handle_select.modal_alert.toast"))})),setTimeout((function(){d.handleGOBack()}),500)}}]);break;case"e":null===h||void 0===h||delete h.type,null===h||void 0===h||delete h.question_id,null===h||void 0===h||delete h.node_id;var p=y.a.stringify(h);t.props.history.push("/paper_mobile/dayi/add/".concat(s,"/").concat(n,"?type=edit&question_id=").concat(a,"&").concat(p))}setTimeout((function(){f()}),500)}}},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.data,e=t.is_top,n=t.creator_id,r=(t.is_my_care,this.props.match.params.role),o=y.a.parse(this.props.location.search);return f.a.createElement("div",{className:"a-header-container"},f.a.createElement("div",{className:"header-back",onClick:this.handleGOBack},f.a.createElement(p.a,{type:"icon-return_xy"})),f.a.createElement("div",{className:"header-title"}),("1"!=r||o.user_id==n)&&f.a.createElement("div",{className:"header-dot"},f.a.createElement(d.a,{visible:this.state.visible,overlay:"1"===r?[f.a.createElement(I,{key:"3",value:"e",icon:f.a.createElement(p.a,{type:"icon-icon-zhongmingming"}),hidden:o.user_id!==n},j("dayi:aheader.role1.item"))]:[f.a.createElement(I,{value:"a",icon:f.a.createElement(p.a,{type:"icon-vertical-align-top"})},j(e?"dayi:aheader.role2.item1_t":"dayi:aheader.role2.item1_f")),f.a.createElement(I,{value:"e",icon:f.a.createElement(p.a,{type:"icon-icon-zhongmingming"}),hidden:o.user_id!==n},j("dayi:aheader.role2.item2")),f.a.createElement(I,{value:"d",icon:f.a.createElement(p.a,{type:"icon-icon-shanchu"})},j("dayi:aheader.role2.item3"))],onVisibleChange:this.handleVisibleChange,onSelect:this.handleSelect},f.a.createElement(p.a,{type:"icon-kt_gengduo",className:"dot"}))))}}])&&S(n.prototype,r),o&&S(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(f.a.Component))||r,T=(n(1403),n(1404)),P=n.n(T),D=(n(1260),n(1261)),N=n.n(D),L=(n(1401),n(1402)),R=n.n(L),B=n(75),z=n.n(B),F=n(1),H=n.n(F),U=n(1855),W=n(1210),V=n(159),Y=n(47),G=n(266);n(2142),n(2143);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K(r.key),r)}}function K(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:e+""}function Q(t,e,n){return e=J(e),function(t,e){if(e&&("object"===X(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tt,et,nt,rt=_.a.t,ot=(d.a.Item,Object(v.g)(E=function(t){function e(){return Z(this,e),Q(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.data,n=e.creator_name,r=e.created_at,o=e.creator_id,i=e.is_resolved,a=e.is_top,s=e.is_teacher_partake,c=e.title,l=e.content,h=(e.like_count,e.view_count,e.answer_count,e.node_name),d=e.extra,v=e.is_my_care,m=(e.is_my_like,e.group_id),y=e.id,_=e.node_id,w=t.uFun,x=this.props.match.params.role;return f.a.createElement("div",{className:"a-card-container"},f.a.createElement("div",{className:"row-2"},a&&f.a.createElement("div",{style:{backgroundColor:"#6FBEFF",borderRadius:2,color:"white",fontSize:12}},"\u9876"),s&&f.a.createElement("div",{style:{backgroundColor:"#FF726F",borderRadius:2,color:"white",fontSize:12}},"\u6559\u5e08\u53c2\u4e0e"),f.a.createElement("span",{style:{width:160,color:"#333333",fontSize:16}},c)),f.a.createElement("div",{className:"row-1"},f.a.createElement("div",null,f.a.createElement("img",{src:Object(G.b)(o)})),f.a.createElement("div",null,f.a.createElement("div",{className:"name"},n),f.a.createElement("div",{className:"time"},rt("dayi:acard.row_1.time",{time:H()(r).format("YYYY-MM-DD HH:mm")}))),f.a.createElement("div",null,i&&f.a.createElement(p.a,{type:"icon-yijiejue",className:"state-pic"})),f.a.createElement("div",{className:"care t",onClick:function(){window.courseEnd?u.a.info(rt("dayi:acard.row_1.toast1")):Object(b.c)(x)?u.a.info(rt("dayi:acard.row_1.toast2")):Object(g.c)(m,y,!v).then((function(){u.a.info(rt(v?"dayi:acard.row_1.toast3_t":"dayi:acard.row_1.toast3_f"),2),w()}))}},rt(v?"dayi:acard.row_1.is_my_care.t":"dayi:acard.row_1.is_my_care.f"))),f.a.createElement("div",{className:"row-3"},f.a.createElement(W.a,{readOnly:!0,value:l})),h&&f.a.createElement("div",{className:"row-4",onClick:function(){return Object(b.b)(_,x)}},f.a.createElement("span",{className:"txt"},h,d?" \u7b2c"+d+"\u9898":""),f.a.createElement(p.a,{type:"icon-a-gengduo2"})),f.a.createElement("div",{style:{height:30}}))}}])&&q(n.prototype,r),o&&q(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(f.a.Component))||E);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ft(r.key),r)}}function lt(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ft(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}function ht(t,e,n){return e=dt(e),function(t,e){if(e&&("object"===it(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],dt(t).constructor):e.apply(t,n))}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}function vt(t,e){return(vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var gt=_.a.t,mt=(R.a.TextArea,Object(v.g)(tt=function(t){function e(){var t;ct(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=ht(this,e,[].concat(r))).state={visible:!1,answerContent:null},t.handleOk=function(){if(window.courseEnd)u.a.info(gt("dayi:r.toast_end"));else{var e=t.props.group_id,n=t.props,r=n.data.id,o=n.uFun,i=t.state.answerContent;if(Object(V.c)(Object(Y.c)(i)))u.a.fail(gt("dayi:r.toast1"),2);else Object(Y.c)(i).length>1e4?u.a.fail(gt("dayi:r.toast2"),2):Object(g.m)(e,r,i).then((function(){o(),t.setState({visible:!1})}))}},t}return pt(e,t),lt(e,[{key:"render",value:function(){var t=this,e=this.props.match.params.role,n=this.state,r=n.visible,o=n.answerContent,a=this.props,c=a.data,l=c.id,h=c.creator_name,d=c.creator_id,v=c.created_at,m=c.comment,_=c.is_my_like,w=c.like_count,x=a.group_id,S=a.uFun,C=y.a.parse(this.props.location.search);return f.a.createElement("div",{className:"r"},f.a.createElement("div",{className:"row-1"},f.a.createElement("div",null,f.a.createElement("img",{src:Object(G.b)(d)})),f.a.createElement("div",null,f.a.createElement("div",{className:"name"},h))),f.a.createElement("div",{className:"row-2"},f.a.createElement(W.a,{readOnly:!0,value:m})),f.a.createElement("div",{className:"row-3"},f.a.createElement("div",{className:"time"},H()(v).format("MM-DD HH:mm")),f.a.createElement("div",null,(null===C||void 0===C?void 0:C.user_id)==d&&f.a.createElement(p.a,{type:"icon-icon-zhongmingming",onClick:function(){window.courseEnd?u.a.info(gt("dayi:r.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:r.toast_role")):t.setState({visible:!0,answerContent:m})}}),f.a.createElement(f.a.Fragment,null,f.a.createElement(p.a,{type:"icon-icon-dianzan",style:{color:_?"#FF726F":"",marginRight:1},onClick:function(){window.courseEnd?u.a.info(gt("dayi:r.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:r.toast_role")):_?Object(g.v)(x,l,3).then((function(t){setTimeout((function(){S()}),500)})):Object(g.p)(x,l,3).then((function(t){setTimeout((function(){S()}),500)}))}}),f.a.createElement("span",{style:{fontSize:14,color:"#33333373"}},Object(b.a)(w||0))),1!=e&&f.a.createElement(p.a,{type:"icon-icon-shanchu",onClick:function(){window.courseEnd?u.a.info(gt("dayi:r.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:r.toast_role")):i.a.alert(gt("dayi:r.modal_alert.title"),gt("dayi:r.modal_alert.message"),[{text:gt("dayi:r.modal_alert.f"),onPress:function(){return console.log("cancel")}},{text:gt("dayi:r.modal_alert.t"),onPress:function(){Object(g.j)(x,l).then((function(){u.a.info(gt("dayi:r.modal_alert.toast")),setTimeout((function(){S()}),500)}))}}])}}))),f.a.createElement(i.a,{popup:!0,animationType:"slide-up",visible:r,maskClosable:!0,onClose:function(){return t.setState({visible:!1})}},f.a.createElement("div",{className:"answer-modal"},f.a.createElement("div",{className:"title"},gt("dayi:r.answer_modal.creator_name",{creator_name:h})),f.a.createElement("div",{className:"content-input"},f.a.createElement(W.a,{placeholder:gt("dayi:r.answer_modal.placeholder"),ignoreVideo:!0,value:o,onChange:function(e){return t.setState({answerContent:Object(Y.a)(e)})}})),f.a.createElement("div",{className:"btn"},f.a.createElement(s.a,{onClick:this.handleOk},gt("dayi:r.answer_modal.btn"))))))}}])}(f.a.Component))||tt),yt=Object(v.g)(et=function(t){function e(){var t;ct(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=ht(this,e,[].concat(r))).state={visible:!1,answerContent:null,zd:!0,exComments:[]},t.handleOk=function(){if(window.courseEnd)u.a.info(gt("dayi:comment.toast_end"));else{var e=t.props,n=e.data.id,r=e.group_id,o=e.uFun,i=t.state.answerContent;if(Object(V.c)(Object(Y.c)(i)))u.a.fail(gt("dayi:comment.toast1"),2);else Object(Y.c)(i).length>1e4?u.a.fail(gt("dayi:comment.toast2"),2):Object(g.e)(r,n,i).then((function(){o(),t.setState({visible:!1})}))}},t.handleEdit=function(){if(window.courseEnd)u.a.info(gt("dayi:comment.toast_end"));else{var e=t.props,n=e.data.id,r=e.group_id,o=e.uFun,i=t.state.answerContent;if(Object(V.c)(Object(Y.c)(i)))u.a.fail(gt("dayi:comment.toast1"),2);else Object(Y.c)(i).length>1e4?u.a.fail(gt("dayi:comment.toast2"),2):Object(g.l)(r,n,i).then((function(){o(),t.setState({visible:!1})}))}},t}return pt(e,t),lt(e,[{key:"render",value:function(){var t=this,e=this.props.match.params.role,n=this.props,r=n.data,o=r.id,a=r.creator_id,c=r.creator_name,l=r.answer,h=r.created_at,d=r.is_accept,v=r.comments,m=void 0===v?[]:v,_=r.is_my_like,w=r.like_count,x=(r.total_answer_count,n.group_id),S=n.uFun,C=n.qDetails,O=y.a.parse(this.props.location.search),k=this.state,M=k.visible,E=k.visibleEdit,j=k.zd,I=k.exComments,A=(k.answerContent,null);return A=null===m?at(I):[].concat(at(m),at(I)),f.a.createElement("div",{className:"comment"},f.a.createElement("div",{className:"row-1"},f.a.createElement("div",null,f.a.createElement("img",{src:Object(G.b)(a)})),f.a.createElement("div",null,f.a.createElement("div",{className:"name"},c)),f.a.createElement("div",null,d&&f.a.createElement(p.a,{type:"icon-a-yicaina1",className:"state-pic"})),((null===O||void 0===O?void 0:O.user_id)===(null===C||void 0===C?void 0:C.creator_id)||2==e||3==e||4==e)&&f.a.createElement("div",{className:"care f",onClick:function(){window.courseEnd?u.a.info(gt("dayi:comment.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:comment.toast_role")):Object(g.a)(x,o,!d).then((function(t){u.a.info(gt(d?"dayi:comment.toast_is_accept_t":"dayi:comment.toast_is_accept_f")),setTimeout((function(){S()}),500)}))}},gt(d?"dayi:comment.is_accept_t":"dayi:comment.is_accept_f")),f.a.createElement("div",{className:"zd",onClick:function(){return t.setState({zd:!j})}},gt(j?"dayi:comment.zd_t":"dayi:comment.zd_f"))),f.a.createElement("div",{className:"row-2"},f.a.createElement(W.a,{readOnly:!0,value:l})),f.a.createElement("div",{className:"row-3"},f.a.createElement("div",{className:"time"},H()(h).format("MM-DD HH:mm")),f.a.createElement("div",{style:{display:"inherit"}},(null===O||void 0===O?void 0:O.user_id)===a&&f.a.createElement(p.a,{type:"icon-icon-zhongmingming",onClick:function(){Object(b.c)(e)?u.a.info(gt("dayi:comment.toast_role")):window.courseEnd?u.a.info(gt("dayi:comment.toast_end")):t.setState({visibleEdit:!0,answerContent:l})}}),f.a.createElement("span",{className:"item"},f.a.createElement(p.a,{type:_?"icon-dianzan-mian":"icon-icon-dianzan",style:{color:_?"#ff0000":"#8491A5",marginRight:1,opacity:1},onClick:function(){window.courseEnd?u.a.info(gt("dayi:comment.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:comment.toast_role")):_?Object(g.v)(x,o,2).then((function(t){setTimeout((function(){S()}),500)})):Object(g.p)(x,o,2).then((function(t){setTimeout((function(){S()}),500)}))}}),f.a.createElement("span",{style:{fontSize:14,color:"#33333373"}},Object(b.a)(w||0))),f.a.createElement("span",{className:"item"},f.a.createElement(p.a,{type:"icon-icon-chakan",style:{marginRight:1},onClick:function(){Object(b.c)(e)?u.a.info(gt("dayi:comment.toast_role")):t.setState({visible:!0})}}),f.a.createElement("span",{style:{fontSize:14,color:"#33333373"}},Object(b.a)(A[0]&&A[0].total_commend_count||0))),1!=e&&f.a.createElement(p.a,{type:"icon-icon-shanchu",onClick:function(){window.courseEnd?u.a.info(gt("dayi:comment.toast_end")):Object(b.c)(e)?u.a.info(gt("dayi:comment.toast_role")):i.a.alert(gt("dayi:comment.modal_alert.title"),gt("dayi:comment.modal_alert.message"),[{text:gt("dayi:comment.modal_alert.f"),onPress:function(){return console.log("cancel")}},{text:gt("dayi:comment.modal_alert.t"),onPress:function(){Object(g.i)(x,o).then((function(){u.a.info(gt("dayi:comment.modal_alert.toast")),setTimeout((function(){S()}),500)}))}}])}}))),f.a.createElement("div",{className:"row-4"},A&&j&&A.map((function(t){return f.a.createElement(mt,{data:t,group_id:x,uFun:S})}))),j&&A&&A.length>0&&A.length<A[0].total_commend_count&&f.a.createElement("div",{style:{textAlign:"right",marginRight:50,lineHeight:"40px"},onClick:function(){Object(g.f)(x,A.length/10,10,o).then((function(e){return t.setState({exComments:[].concat(at(t.state.exComments),at(e))})}))}},gt("dayi:comment.zd_more")),f.a.createElement(i.a,{popup:!0,animationType:"slide-up",visible:M,maskClosable:!0,onClose:function(){return t.setState({visible:!1})}},f.a.createElement("div",{className:"answer-modal"},f.a.createElement("div",{className:"title"},gt("dayi:comment.answer_modal.creator_name1",{creator_name:c})),f.a.createElement("div",{className:"content-input"},f.a.createElement(W.a,{placeholder:gt("dayi:comment.answer_modal.placeholder"),ignoreVideo:!0,onChange:function(e){return t.setState({answerContent:Object(Y.a)(e)})}})),f.a.createElement("div",{className:"btn"},f.a.createElement(s.a,{onClick:this.handleOk},gt("dayi:comment.answer_modal.btn"))))),f.a.createElement(i.a,{popup:!0,animationType:"slide-up",visible:E,maskClosable:!0,onClose:function(){return t.setState({visibleEdit:!1})}},f.a.createElement("div",{className:"answer-modal"},f.a.createElement("div",{className:"title"},gt("dayi:comment.answer_modal.creator_name2",{creator_name:c})),f.a.createElement("div",{className:"content-input"},f.a.createElement(W.a,{ignoreVideo:!0,value:l,onChange:function(e){return t.setState({answerContent:Object(Y.a)(e)})}})),f.a.createElement("div",{className:"btn"},f.a.createElement(s.a,{onClick:this.handleEdit},gt("dayi:comment.answer_modal.btn"))))))}}])}(f.a.Component))||et,bt=Object(v.g)(nt=function(t){function e(t){var n;return ct(this,e),(n=ht(this,e,[t])).state={listData:[],_page_index:0,_page_size:5,_order_type:"created_at",_order_value:"DESC",_key:1},n.handleRefresh=function(){var t=n.props.match.params,e=t.group_id,r=t.question_id,o=n.state,i=o._page_size,a=o._order_type,s=o._order_value;Object(g.t)(e,0,i,a,s,r).then((function(t){n.props.uFun(),n.setState({listData:t,_page_index:0,_key:n.state._key+1})}))},n.onEndReached=function(){var t=n,e=n.state,r=e._page_index,o=e._page_size,i=e.listData,a=e._order_type,s=e._order_value,c=n.props.match.params,u=c.group_id,l=c.question_id,f=i.page_size,h=i.total_count,d=parseInt(h)/parseInt(f);parseInt(h)%parseInt(f)>0&&(d+=1),r+1>=Math.floor(d)||n.setState({_page_index:r+1},(function(){var e=this;Object(g.t)(u,t.state._page_index,o,a,s,l).then((function(t){e.setState({listData:[].concat(at(i),at(t))})}))}))},n.rendHeader=function(){var t=n.props,e=t.qDetails,r=t.uFun,o=n;return f.a.createElement(f.a.Fragment,null,f.a.createElement(ot,{data:e,uFun:function(){return r()}}),f.a.createElement("div",{className:"bar"},f.a.createElement("div",{style:{marginLeft:12}},gt("dayi:acomment.bar",{num:Object(b.a)((null===e||void 0===e?void 0:e.answer_count)||0)})),f.a.createElement(U.a,{style:{marginRight:12},showSort:!0,data:[[{label:gt("dayi:acomment.select.label1"),value:"created_at"},{label:gt("dayi:acomment.select.label2"),value:"like_count"}]],onChange:function(t){n.setState({_order_type:t.value,_order_value:t.sort,_page_index:0,_page_size:5},(function(){o.handleRefresh()}))}})))},n.rendList=function(){var t=n.props,e=t.group_id,r=t.qDetails,o=n.state,i=o.listData,a=o._key;return f.a.createElement(P.a,{className:"list",ref:function(t){return n.lv=t},dataSource:n.ds.cloneWithRows(0===i.length?[0]:i),renderHeader:n.rendHeader,renderFooter:function(){return 0!==i.length?f.a.createElement("div",{className:z()("list-footer")},window.courseEnd?gt("dayi:acomment.list_view.footer1"):gt("dayi:acomment.list_view.footer")):f.a.createElement("div",{className:z()("list-footer")},window.courseEnd?gt("dayi:acomment.list_view.footer1"):null)},renderRow:function(t){return 0===i.length?f.a.createElement("div",{className:"empty"},gt("dayi:acomment.list_view.empty")):f.a.createElement(yt,{qDetails:r,key:a,group_id:e,data:t,uFun:n.handleRefresh})},pageSize:10,initialListSize:10,scrollRenderAheadDistance:100,onEndReached:n.onEndReached,onEndReachedThreshold:10,pullToRefresh:f.a.createElement(N.a,{onRefresh:n.handleRefresh})})},n.ds=new P.a.DataSource({rowHasChanged:function(t,e){return t!==e}}),n}return pt(e,t),lt(e,[{key:"componentWillMount",value:function(){var t=this,e=this.props,n=e.group_id,r=e.question_id,o=this.state,i=o._page_index,a=o._page_size,s=o._order_type,c=o._order_value;Object(g.t)(n,i,a,s,c,r).then((function(e){return t.setState({listData:e})}))}},{key:"render",value:function(){return f.a.createElement("div",{className:"a-comment"},this.rendList())}}])}(f.a.Component))||nt;n(2144);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,St(r.key),r)}}function St(t){var e=function(t,e){if("object"!=_t(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_t(e)?e:e+""}function Ct(t,e,n){return e=Ot(e),function(t,e){if(e&&("object"===_t(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Ot(t).constructor):e.apply(t,n))}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t,e){return(kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Mt=_.a.t,Et=function(t){function e(){var t;wt(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Ct(this,e,[].concat(r))).state={visible:!1,questionContent:null,_key:1,qDetails:{}},t.handleOk=function(){var e=t.props.match.params,n=e.group_id,r=e.question_id,o=e.role,i=t.state.questionContent,a=t;Object(b.c)(o)?u.a.info(Mt("dayi:details.toast1")):window.courseEnd?u.a.info(Mt("dayi:details.toast2")):Object(V.c)(Object(Y.c)(i))?u.a.fail(Mt("dayi:details.toast3"),2):Object(Y.c)(i).length>1e4?u.a.fail(Mt("dayi:details.toast4"),2):Object(g.b)(n,r,i).then((function(){t.setState({_key:t.state._key+1,visible:!1,questionContent:null}),setTimeout((function(){Object(g.o)(n,r).then((function(t){return a.setState({qDetails:t})}))}),500)}))},t.uFun=function(){var e=t.props.match.params,n=e.group_id,r=e.question_id;Object(g.o)(n,r).then((function(e){return t.setState({qDetails:e})}))},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(e,t),n=e,(r=[{key:"componentWillMount",value:function(){var t=this,e=this.props.match.params,n=e.group_id,r=e.question_id;Object(g.o)(n,r).then((function(e){return t.setState({qDetails:e})}))}},{key:"render",value:function(){var t=this,e=this.props.match.params,n=e.group_id,r=e.question_id,o=e.role,a=this.state,c=a.visible,l=a._key,h=a.qDetails,d=this;return f.a.createElement("div",{key:l,className:"dayi-details"},f.a.createElement(A,{group_id:n,data:h,uFun:function(){return t.uFun()}}),f.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,overflowY:"auto"}},f.a.createElement(bt,{qDetails:h,group_id:n,question_id:r,uFun:this.uFun})),f.a.createElement("div",{className:"row-5"},f.a.createElement("div",{className:"item",onClick:function(){window.courseEnd?u.a.info(Mt("dayi:details.toast5")):Object(b.c)(o)?u.a.info(Mt("dayi:details.toast6")):null!==h&&void 0!==h&&h.is_my_like?Object(g.v)(n,null===h||void 0===h?void 0:h.id,1).then((function(t){setTimeout((function(){d.uFun()}),500)})):Object(g.p)(n,null===h||void 0===h?void 0:h.id,1).then((function(t){setTimeout((function(){d.uFun()}),500)}))}},f.a.createElement(p.a,{type:null!==h&&void 0!==h&&h.is_my_like?"icon-dianzan-mian":"icon-icon-dianzan",style:{color:null!==h&&void 0!==h&&h.is_my_like?"#FF726F":""}}),f.a.createElement("span",{style:{fontSize:14}},Object(b.a)((null===h||void 0===h?void 0:h.like_count)||0))),f.a.createElement("div",{className:"item",onClick:function(){return t.setState({visible:!0})}},f.a.createElement(p.a,{type:"icon-icon-chakan"}),f.a.createElement("span",{style:{fontSize:14}},Object(b.a)((null===h||void 0===h?void 0:h.answer_count)||0))),f.a.createElement("div",{className:"item"},f.a.createElement(p.a,{type:"icon-icon-huifu",style:{color:"rgba(0,0,0,0.25)"}}),f.a.createElement("span",{style:{fontSize:14}},Object(b.a)((null===h||void 0===h?void 0:h.view_count)||0)))),f.a.createElement(i.a,{popup:!0,animationType:"slide-up",visible:c,maskClosable:!0,onClose:function(){return t.setState({visible:!1})}},f.a.createElement("div",{className:"answer-modal"},f.a.createElement("div",{className:"title"},Mt("dayi:details.title")+"".concat(h.creator_name,"\uff1a").concat(h.title)),f.a.createElement("div",{className:"content-input"},f.a.createElement(W.a,{placeholder:Mt("dayi:details.placeholder"),onChange:function(e){return t.setState({questionContent:Object(Y.a)(e)})}})),f.a.createElement("div",{className:"btn"},f.a.createElement(s.a,{onClick:this.handleOk},Mt("dayi:details.btn_text"))))))}}])&&xt(n.prototype,r),o&&xt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(f.a.Component)}}]);