(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1170:function(t,e,n){(function(r){var i,o,a,s;function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){var t=t||function(t,e){var i;if("undefined"!==typeof window&&window.crypto&&(i=window.crypto),"undefined"!==typeof self&&self.crypto&&(i=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!==typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!==typeof r&&r.crypto&&(i=r.crypto),!i)try{i=n(1276)}catch(m){}var o=function(){if(i){if("function"===typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new l.init(e,t)}}),f=s.enc={},h=f.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},d=f.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,o);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(c.Hasher=v.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math);return t},"object"===c(e)?t.exports=e=s():(o=[],void 0===(a="function"===typeof(i=s)?i.apply(e,o):i)||(t.exports=a))}).call(this,n(53))},1171:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var r=u(n(1297)),i=u(n(1298)),o=u(n(1299)),a=u(n(1300)),s=u(n(1301)),c=u(n(1302));function u(t){return t&&t.__esModule?t:{default:t}}e.hover=a.default,e.handleHover=a.default,e.handleActive=s.default,e.loop=c.default;var l=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),c=(0,i.default)(t,s);return(0,o.default)(c)};e.default=l},1172:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,c=(s.Utf8,s.Base64),u=n.algo.EvpKDF,l=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),f=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),h=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=f.CBC=function(){var t=h.extend();function e(t,e,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),p=(n.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:p}),reset:function(){var t;l.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(e):e).toString(c)},parse:function(t){var e,n=c.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:e})}},m=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return v.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(n.kdf={}).OpenSSL={execute:function(t,e,n,r,i){if(r||(r=o.random(8)),i)a=u.create({keySize:e+n,hasher:i}).compute(t,r);else var a=u.create({keySize:e+n}).compute(t,r);var s=o.create(a.words.slice(e),4*n);return a.sigBytes=4*e,v.create({key:a,iv:s,salt:r})}},b=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize,r.salt,r.hasher);r.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt,r.hasher);return r.iv=i.iv,m.decrypt.call(this,t,e,i.key,r)}})}()},"object"===s(e)?t.exports=e=a(n(1170),n(1173)):(i=[n(1170),n(1173)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1173:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,a=o.MD5,s=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,o=r.hasher.create(),a=i.create(),s=a.words,c=r.keySize,u=r.iterations;s.length<c;){n&&o.update(n),n=o.update(t).finalize(e),o.reset();for(var l=1;l<u;l++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*c,a}});e.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),t.EvpKDF},"object"===s(e)?t.exports=e=a(n(1170),n(1202),n(1188)):(i=[n(1170),n(1202),n(1188)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1175:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},1176:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,c=r[t.charCodeAt(a)]>>>6-a%4*2,u=s|c;i[o>>>2]|=u<<24-o%4*8,o++}return n.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1177:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],c=t[e+1],d=t[e+2],p=t[e+3],v=t[e+4],g=t[e+5],m=t[e+6],y=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],x=t[e+11],S=t[e+12],C=t[e+13],M=t[e+14],O=t[e+15],k=o[0],E=o[1],I=o[2],j=o[3];k=u(k,E,I,j,a,7,s[0]),j=u(j,k,E,I,c,12,s[1]),I=u(I,j,k,E,d,17,s[2]),E=u(E,I,j,k,p,22,s[3]),k=u(k,E,I,j,v,7,s[4]),j=u(j,k,E,I,g,12,s[5]),I=u(I,j,k,E,m,17,s[6]),E=u(E,I,j,k,y,22,s[7]),k=u(k,E,I,j,b,7,s[8]),j=u(j,k,E,I,_,12,s[9]),I=u(I,j,k,E,w,17,s[10]),E=u(E,I,j,k,x,22,s[11]),k=u(k,E,I,j,S,7,s[12]),j=u(j,k,E,I,C,12,s[13]),I=u(I,j,k,E,M,17,s[14]),k=l(k,E=u(E,I,j,k,O,22,s[15]),I,j,c,5,s[16]),j=l(j,k,E,I,m,9,s[17]),I=l(I,j,k,E,x,14,s[18]),E=l(E,I,j,k,a,20,s[19]),k=l(k,E,I,j,g,5,s[20]),j=l(j,k,E,I,w,9,s[21]),I=l(I,j,k,E,O,14,s[22]),E=l(E,I,j,k,v,20,s[23]),k=l(k,E,I,j,_,5,s[24]),j=l(j,k,E,I,M,9,s[25]),I=l(I,j,k,E,p,14,s[26]),E=l(E,I,j,k,b,20,s[27]),k=l(k,E,I,j,C,5,s[28]),j=l(j,k,E,I,d,9,s[29]),I=l(I,j,k,E,y,14,s[30]),k=f(k,E=l(E,I,j,k,S,20,s[31]),I,j,g,4,s[32]),j=f(j,k,E,I,b,11,s[33]),I=f(I,j,k,E,x,16,s[34]),E=f(E,I,j,k,M,23,s[35]),k=f(k,E,I,j,c,4,s[36]),j=f(j,k,E,I,v,11,s[37]),I=f(I,j,k,E,y,16,s[38]),E=f(E,I,j,k,w,23,s[39]),k=f(k,E,I,j,C,4,s[40]),j=f(j,k,E,I,a,11,s[41]),I=f(I,j,k,E,p,16,s[42]),E=f(E,I,j,k,m,23,s[43]),k=f(k,E,I,j,_,4,s[44]),j=f(j,k,E,I,S,11,s[45]),I=f(I,j,k,E,O,16,s[46]),k=h(k,E=f(E,I,j,k,d,23,s[47]),I,j,a,6,s[48]),j=h(j,k,E,I,y,10,s[49]),I=h(I,j,k,E,M,15,s[50]),E=h(E,I,j,k,g,21,s[51]),k=h(k,E,I,j,S,6,s[52]),j=h(j,k,E,I,p,10,s[53]),I=h(I,j,k,E,w,15,s[54]),E=h(E,I,j,k,c,21,s[55]),k=h(k,E,I,j,b,6,s[56]),j=h(j,k,E,I,O,10,s[57]),I=h(I,j,k,E,m,15,s[58]),E=h(E,I,j,k,C,21,s[59]),k=h(k,E,I,j,v,6,s[60]),j=h(j,k,E,I,x,10,s[61]),I=h(I,j,k,E,d,15,s[62]),E=h(E,I,j,k,_,21,s[63]),o[0]=o[0]+k|0,o[1]=o[1]+E|0,o[2]=o[2]+I|0,o[3]=o[3]+j|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),t.MD5},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1179:function(t,e,n){"use strict";var r=Array.isArray;e.a=r},1180:function(t,e,n){"use strict";var r=n(1247);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"===typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,a=r.a||o||Function("return this")();e.a=a},1181:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ConfigConsumer",{enumerable:!0,get:function(){return c.ConfigConsumer}}),e.default=e.configConsumerProps=void 0;var i,o=l(n(3)),a=l(n(1360)),s=(i=n(664))&&i.__esModule?i:{default:i},c=n(1362);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function f(t){return(f="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.configConsumerProps=["getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","autoInsertSpaceInButton","locale","pageHeader"];var y=function(t){function e(){var t;return d(this,e),(t=v(this,g(e).apply(this,arguments))).getPrefixCls=function(e,n){var r=t.props.prefixCls,i=void 0===r?"ant":r;return n||(e?"".concat(i,"-").concat(e):i)},t.renderProvider=function(e,n){var r=t.props,i=r.children,s=r.getPopupContainer,u=r.renderEmpty,l=r.csp,f=r.autoInsertSpaceInButton,d=r.locale,p=r.pageHeader,v=h(h({},e),{getPrefixCls:t.getPrefixCls,csp:l,autoInsertSpaceInButton:f});return s&&(v.getPopupContainer=s),u&&(v.renderEmpty=u),p&&(v.pageHeader=p),o.createElement(c.ConfigContext.Provider,{value:v},o.createElement(a.default,{locale:d||n,_ANT_MARK__:a.ANT_MARK},i))},t}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this;return o.createElement(s.default,null,(function(e,n,r){return o.createElement(c.ConfigConsumer,null,(function(e){return t.renderProvider(e,r)}))}))}}])&&p(n.prototype,r),i&&p(n,i),e}(o.Component);e.default=y},1183:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,a=n.x64={};a.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}})}(),t},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1184:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return null!=t&&"object"==r(t)}},1185:function(t,e,n){"use strict";var r=n(1204),i=n(1210);e.a=function(t){return null!=t&&Object(i.a)(t.length)&&!Object(r.a)(t)}},1186:function(t,e,n){"use strict";var r=n(1194),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.a?r.a.toStringTag:void 0;var c=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(c){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i},u=Object.prototype.toString;var l=function(t){return u.call(t)},f=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):l(t)}},1187:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],h=n[7],d=0;d<64;d++){if(d<16)u[d]=0|t[e+d];else{var p=u[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[d-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[d]=v+u[d-7]+m+u[d-16]}var y=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[d]+u[d];h=f,f=l,l=s,s=a+_|0,a=o,o=i,i=r,r=_+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),t.SHA256},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1188:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){!function(){var e=t,n=e.lib.Base,r=e.enc.Utf8;e.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}()},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1189:function(t,e,n){"use strict";var r=n(1250),i=n(1205),o=n(1249),a=Object(o.a)(Object.keys,Object),s=Object.prototype.hasOwnProperty;var c=function(t){if(!Object(i.a)(t))return a(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e},u=n(1185);e.a=function(t){return Object(u.a)(t)?Object(r.a)(t):c(t)}},1191:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},1192:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2162),i=Object(r.a)({scriptUrl:"https://at.alicdn.com/t/c/font_914650_ub310hoi1k.js"})},1194:function(t,e,n){"use strict";var r=n(1180).a.Symbol;e.a=r},1195:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var n=r(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},1196:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},1197:function(t,e,n){var r=n(1310);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},1198:function(t,e,n){var r=n(100).default,i=n(1191);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},1199:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1200:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosX=e.getMainLayoutClassName=e.getDisplayTimeBySeconds=void 0,e.throttle=function(t,e){var n=!1;return function(r){n||(t(r),n=!0,setTimeout((function(){return n=!1}),e))}};e.getMainLayoutClassName=function(t){switch(t){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}};e.getPosX=function(t){return t instanceof MouseEvent?t.clientX:t.touches[0].clientX};var r=function(t){return t>9?t.toString():"0".concat(t)};e.getDisplayTimeBySeconds=function(t,e,n){if(!isFinite(t))return null;var i=Math.floor(t/60),o=r(i),a=r(Math.floor(t%60)),s=r(Math.floor(i%60)),c=Math.floor(i/60),u="".concat(o,":").concat(a),l="".concat(c,":").concat(s,":").concat(a);return"auto"===n?e>=3600?l:u:"mm:ss"===n?u:"hh:mm:ss"===n?l:void 0}},1202:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],c=n[4],u=0;u<80;u++){if(u<16)a[u]=0|t[e+u];else{var l=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+c+a[u];f+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,c=s,s=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),t.SHA1},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1203:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.Hasher,r=e.x64,i=r.Word,o=r.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var l=a.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],h=n[7],d=r.high,p=r.low,v=i.high,g=i.low,m=o.high,y=o.low,b=a.high,_=a.low,w=s.high,x=s.low,S=l.high,C=l.low,M=f.high,O=f.low,k=h.high,E=h.low,I=d,j=p,A=v,T=g,D=m,P=y,L=b,N=_,R=w,B=x,z=S,F=C,H=M,U=O,W=k,Y=E,V=0;V<80;V++){var G,X,K=u[V];if(V<16)X=K.high=0|t[e+2*V],G=K.low=0|t[e+2*V+1];else{var Z=u[V-15],q=Z.high,Q=Z.low,J=(q>>>1|Q<<31)^(q>>>8|Q<<24)^q>>>7,$=(Q>>>1|q<<31)^(Q>>>8|q<<24)^(Q>>>7|q<<25),tt=u[V-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=u[V-7],at=ot.high,st=ot.low,ct=u[V-16],ut=ct.high,lt=ct.low;X=(X=(X=J+at+((G=$+st)>>>0<$>>>0?1:0))+rt+((G+=it)>>>0<it>>>0?1:0))+ut+((G+=lt)>>>0<lt>>>0?1:0),K.high=X,K.low=G}var ft,ht=R&z^~R&H,dt=B&F^~B&U,pt=I&A^I&D^A&D,vt=j&T^j&P^T&P,gt=(I>>>28|j<<4)^(I<<30|j>>>2)^(I<<25|j>>>7),mt=(j>>>28|I<<4)^(j<<30|I>>>2)^(j<<25|I>>>7),yt=(R>>>14|B<<18)^(R>>>18|B<<14)^(R<<23|B>>>9),bt=(B>>>14|R<<18)^(B>>>18|R<<14)^(B<<23|R>>>9),_t=c[V],wt=_t.high,xt=_t.low,St=W+yt+((ft=Y+bt)>>>0<Y>>>0?1:0),Ct=mt+vt;W=H,Y=U,H=z,U=F,z=R,F=B,R=L+(St=(St=(St=St+ht+((ft+=dt)>>>0<dt>>>0?1:0))+wt+((ft+=xt)>>>0<xt>>>0?1:0))+X+((ft+=G)>>>0<G>>>0?1:0))+((B=N+ft|0)>>>0<N>>>0?1:0)|0,L=D,N=P,D=A,P=T,A=I,T=j,I=St+(gt+pt+(Ct>>>0<mt>>>0?1:0))+((j=ft+Ct|0)>>>0<ft>>>0?1:0)|0}p=r.low=p+j,r.high=d+I+(p>>>0<j>>>0?1:0),g=i.low=g+T,i.high=v+A+(g>>>0<T>>>0?1:0),y=o.low=y+P,o.high=m+D+(y>>>0<P>>>0?1:0),_=a.low=_+N,a.high=b+L+(_>>>0<N>>>0?1:0),x=s.low=x+B,s.high=w+R+(x>>>0<B>>>0?1:0),C=l.low=C+F,l.high=S+z+(C>>>0<F>>>0?1:0),O=f.low=O+U,f.high=M+H+(O>>>0<U>>>0?1:0),E=h.low=E+Y,h.high=k+W+(E>>>0<Y>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=n._createHelper(l),e.HmacSHA512=n._createHmacHelper(l)}(),t.SHA512},"object"===s(e)?t.exports=e=a(n(1170),n(1183)):(i=[n(1170),n(1183)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1204:function(t,e,n){"use strict";var r=n(1186),i=n(1175);e.a=function(t){if(!Object(i.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1205:function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},1206:function(t,e,n){"use strict";var r=n(1186),i=n(1184);var o=function(t){return Object(i.a)(t)&&"[object Arguments]"==Object(r.a)(t)},a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return Object(i.a)(t)&&s.call(t,"callee")&&!c.call(t,"callee")};e.a=u},1209:function(t,e,n){"use strict";n.d(e,"a",(function(){return zM})),n.d(e,"c",(function(){return BM})),n.d(e,"b",(function(){return MM.b}));n(1286),n(65);var r=n(22),i=n.n(r),o=n(1262),a=n.n(o),s=n(210),c=n.n(s),u=n(1258),l=n.n(u),f=n(63),h=n.n(f),d=n(76),p=n.n(d),v=n(71),g=n.n(v),m=n(29),y=n.n(m),b=n(1219),_=n.n(b),w=n(9),x=n.n(w),S=n(75),C=n.n(S),M=n(3),O=n.n(M),k=n(13),E=n.n(k),I=n(20),j=n(1294),A=n.n(j);function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function L(t){return Object(I.getDefaultKeyBinding)(t)}function N(t,e,n,r){var i,o=r.setEditorState;switch(t){case"backspace":case"backspace-word":case"backspace-to-start-of-line":i=I.RichUtils.onBackspace(e);break;case"delete":case"delete-word":case"delete-to-end-of-block":i=I.RichUtils.onDelete(e);break;default:return"not-handled"}return null!=i?(o(i),"handled"):"not-handled"}var R=["props"],B=["props"];function z(t,e){var n={},r=new Set(["onChange"]);return t.forEach((function(i){Object.keys(i).forEach((function(i){r.has(i)||(r.add(i),i.startsWith("on")?n[i]=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.some((function(e){var r=e[t];return"function"===typeof r&&!0===r.apply(void 0,i.concat([n]))}))}}(i,t,e):!function(t){return t.startsWith("handle")}(i)?function(t){return t.endsWith("Fn")}(i)&&("blockRendererFn"===i?n.blockRendererFn=function(t,e){return function(n){var r={props:{}};return t.forEach((function(t){if("function"===typeof t.blockRendererFn){var i=t.blockRendererFn(n,e);if(void 0!==i&&null!==i){var o=i.props,a=P(i,R),s=r,c=s.props,u=P(s,B);r=T({},u,a,{props:T({},c,o)})}}})),!!r.component&&r}}(t,e):"blockStyleFn"===i?n.blockStyleFn=function(t,e){return function(n){var r=[];return t.forEach((function(t){if("function"===typeof t.blockStyleFn){var i=t.blockStyleFn(n,e);void 0!==i&&null!==i&&r.push(i)}})),r.join(" ")}}(t,e):"customStyleFn"===i?n.customStyleFn=function(t,e){return function(n,r){var i;return t.some((function(t){return"function"===typeof t.customStyleFn&&void 0!==(i=t.customStyleFn(n,r,e))}))&&i?i:{}}}(t,e):"keyBindingFn"===i&&(n.keyBindingFn=function(t,e){return function(n){var r=null;return t.some((function(t){return"function"===typeof t.keyBindingFn&&void 0!==(r=t.keyBindingFn(n,e))}))?r:null}}(t,e))):n[i]=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.some((function(e){var r=e[t];return"function"===typeof r&&"handled"===r.apply(void 0,i.concat([n]))}))?"handled":"not-handled"}}(i,t,e))}))})),n}var F=function(){function t(t){this.decorators=void 0,this.decorators=A.a.List(t)}var e=t.prototype;return e.getDecorations=function(t,e){var n=new Array(t.getText().length).fill(null);return this.decorators.forEach((function(r,i){r.getDecorations(t,e).forEach((function(t,e){t&&(n[e]=i+"-"+t)}))})),A.a.List(n)},e.getComponentForKey=function(e){return this.getDecoratorForKey(e).getComponentForKey(t.getInnerKey(e))},e.getPropsForKey=function(e){return this.getDecoratorForKey(e).getPropsForKey(t.getInnerKey(e))},e.getDecoratorForKey=function(t){var e=t.split("-"),n=Number(e[0]);return this.decorators.get(n)},t.getInnerKey=function(t){return t.split("-").slice(1).join("-")},t}(),H=function(t){return"function"===typeof t.getDecorations&&"function"===typeof t.getComponentForKey&&"function"===typeof t.getPropsForKey};function U(t,e,n){var r=function(t){var e=t.decorators,n=t.plugins,r=void 0===n?[]:n;return Object(j.List)([{decorators:e}].concat(r)).filter((function(t){return void 0!==(null==t?void 0:t.decorators)})).flatMap((function(t){return null==t?void 0:t.decorators}))}(t),i=function(t,e,n){var r=Object(j.List)(t).map((function(t){var r=t.component;return T({},t,{component:function(t){return O.a.createElement(r,T({},t,{getEditorState:e,setEditorState:n}))}})})).toJS();return new I.CompositeDecorator(r)}(r.filter((function(t){return!H(t)})),e,n),o=r.filter((function(t){return H(t)}));return new F(o.push(i))}var W=["keyBindingFn"],Y=function(t){var e,n;return null!=(null==t?void 0:t.decorators)?null==(e=t.decorators)?void 0:e.size:null!=(null==t?void 0:t._decorators)?null==(n=t._decorators)?void 0:n.length:void 0},V=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).editor=null,n.state={readOnly:!1},n.onChange=function(t){var e=t;n.resolvePlugins().forEach((function(t){t.onChange&&(e=t.onChange(e,n.getPluginMethods()))})),n.props.onChange&&n.props.onChange(e)},n.getPlugins=function(){return[].concat(n.props.plugins)},n.getProps=function(){return T({},n.props)},n.getReadOnly=function(){return n.props.readOnly||n.state.readOnly},n.setReadOnly=function(t){t!==n.state.readOnly&&n.setState({readOnly:t})},n.getEditorRef=function(){return n.editor},n.getEditorState=function(){return n.props.editorState},n.getPluginMethods=function(){return{getPlugins:n.getPlugins,getProps:n.getProps,setEditorState:n.onChange,getEditorState:n.getEditorState,getReadOnly:n.getReadOnly,setReadOnly:n.setReadOnly,getEditorRef:n.getEditorRef}},n.createPluginHooks=function(){return z([n.props].concat(n.resolvePlugins()),n.getPluginMethods())},n.resolvePlugins=function(){var t=n.getPlugins();return!0===n.props.defaultKeyBindings&&t.push({keyBindingFn:L}),!0===n.props.defaultKeyCommands&&t.push({handleKeyCommand:N}),t},n.resolveCustomStyleMap=function(){return n.props.plugins.filter((function(t){return void 0!==t.customStyleMap})).map((function(t){return t.customStyleMap})).concat([n.props.customStyleMap]).reduce((function(t,e){return T({},t,e)}),{})},n.resolveblockRenderMap=function(){var t=n.props.plugins.filter((function(t){return void 0!==t.blockRenderMap})).reduce((function(t,e){return t.merge(e.blockRenderMap)}),Object(j.Map)({}));return n.props.defaultBlockRenderMap&&(t=I.DefaultDraftBlockRenderMap.merge(t)),n.props.blockRenderMap&&(t=t.merge(n.props.blockRenderMap)),t},n.resolveAccessibilityProps=function(){var t={};return n.resolvePlugins().forEach((function(e){if("function"===typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),r={};void 0===t.ariaHasPopup?r.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(r.ariaHasPopup="true"),void 0===t.ariaExpanded?r.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(r.ariaExpanded=!0),t=T({},t,n,r)}})),t},[n.props].concat(n.resolvePlugins()).forEach((function(t){t&&"function"===typeof t.initialize&&t.initialize(n.getPluginMethods())})),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,D(e,n);var i=r.prototype;return i.focus=function(){this.editor&&this.editor.focus()},i.blur=function(){this.editor&&this.editor.blur()},i.componentDidMount=function(){var t=U(this.props,this.getEditorState,this.onChange),e=I.EditorState.set(this.props.editorState,{decorator:t});this.onChange(I.EditorState.moveSelectionToEnd(e))},i.componentDidUpdate=function(t){var e=this.props,n=t.editorState.getDecorator(),r=e.editorState.getDecorator();if(n&&n!==r&&(!n||!r||Y(n)!==Y(r))){var i=I.EditorState.set(e.editorState,{decorator:n});this.onChange(I.EditorState.moveSelectionToEnd(i))}},i.componentWillUnmount=function(){var t=this;this.resolvePlugins().forEach((function(e){e.willUnmount&&e.willUnmount({getEditorState:t.getEditorState,setEditorState:t.onChange})}))},i.render=function(){var t=this,e=this.createPluginHooks(),n=this.resolveCustomStyleMap(),r=this.resolveAccessibilityProps(),i=this.resolveblockRenderMap(),o=this.props;o.keyBindingFn;var a=P(o,W);return O.a.createElement(I.Editor,T({},a,r,e,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:i,onChange:this.onChange,editorState:this.props.editorState,ref:function(e){t.editor=e}}))},r}(M.Component);V.propTypes={editorState:E.a.object.isRequired,onChange:E.a.func.isRequired,plugins:E.a.array,defaultKeyBindings:E.a.bool,defaultKeyCommands:E.a.bool,defaultBlockRenderMap:E.a.bool,customStyleMap:E.a.object,decorators:E.a.array},V.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var G=V,X=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1];return function(){for(var t=r.apply(void 0,arguments),n=e.length-2;n>=0;n-=1){var i=e[n];t=i(t)}return t}},K=n(1293),Z=n(116),q=n.n(Z);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==Q(t))if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=J(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}var $=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=J(t))&&(r&&(r+=" "),r+=e);return r};function tt(t){var e=function(t,e,n){var r=e.getStartKey(),i=[];return t.getBlockMap().forEach((function(t,e){i.push(t),e===r&&i.push(n)})),t.merge({blockMap:I.BlockMapBuilder.createFromArray(i),selectionBefore:e,selectionAfter:e.merge({anchorKey:n.getKey(),anchorOffset:n.getLength(),focusKey:n.getKey(),focusOffset:n.getLength(),isBackward:!1})})}(t.getCurrentContent(),t.getSelection(),new I.ContentBlock({key:Object(I.genKey)(),type:"unstyled",text:"",characterList:Object(K.List)()})),n=e.merge({selectionAfter:e.getSelectionAfter().set("hasFocus",!0)});return I.EditorState.push(t,n,"insert-fragment")}var et=function(t,e,n,r){var i=t(),o=i.getSelection().getAnchorKey(),a="up"===n?i.getCurrentContent().getBlockBefore(o):i.getCurrentContent().getBlockAfter(o);if((!a||a.get("key")!==o)&&a){var s=q.a.encode(a.getKey(),0,0),c=document.querySelectorAll('[data-offset-key="'+s+'"]')[0],u=window.getSelection(),l=document.createRange();l.setStart(c,0),l.setEnd(c,0),u.removeAllRanges(),u.addRange(l);var f="up"===n?a.getLength():0;r.preventDefault(),e(I.EditorState.forceSelection(i,new I.SelectionState({anchorKey:a.getKey(),anchorOffset:f,focusKey:a.getKey(),focusOffset:f,isBackward:!1})))}};function nt(){return(nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var rt=function(t){var e=t.theme,n=t.blockKeyStore;return function(t){var r=O.a.forwardRef((function(r,i){Object(M.useEffect)((function(){return n.add(r.block.getKey()),function(){n.remove(r.block.getKey())}}),[]);var o=r.blockProps,a=r.className,s=o.isFocused,c=$(a,s?e.focused:e.unfocused);return O.a.createElement(t,nt({},r,{ref:i,onClick:function(t){t.preventDefault(),r.blockProps.isFocused||r.blockProps.setFocusToBlock()},className:c}))}));return r.displayName="BlockFocus("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",r.WrappedComponent=t.WrappedComponent||t,r}};var it=function(t,e,n){return t.getBlockMap().keySeq().skipUntil((function(t){return t===e})).takeUntil((function(t){return t===n})).concat([n])},ot=function(t,e){return function(t){var e=t.getSelection(),n=t.getCurrentContent();return it(n,e.getStartKey(),e.getEndKey())}(t).includes(e)};var at={unfocused:"uz5k6rs",focused:"f1vn2c6d"},st=function(t,e){var n=t.getSelection();if(n.getAnchorKey()!==n.getFocusKey())return!1;var r=t.getCurrentContent().getBlockForKey(n.getAnchorKey());return e.includes(r.getKey())},ct=["backspace","backspace-word","backspace-to-start-of-line","delete","delete-word","delete-to-end-of-block"];function ut(t){return I.EditorState.set(t,{selection:t.getSelection(),forceSelection:!0,nativelyRenderedContent:null,inlineStyleOverride:null})}var lt=function(t){void 0===t&&(t={});var e,n,r=function(){var t=Object(K.List)();return{add:function(e){return t=t.push(e)},remove:function(e){return t=t.filter((function(t){return t!==e}))},includes:function(e){return t.includes(e)},getAll:function(){return t}}}(),i=t.theme?t.theme:at;return{handleReturn:function(t,e,n){var i=n.setEditorState;return st(e,r)?(i(tt(e)),"handled"):"not-handled"},handleKeyCommand:function(t,e,n,i){var o=i.setEditorState;if(ct.includes(t)&&st(e,r)){var a=e.getSelection().getStartKey(),s=function(t,e){var n=t.getCurrentContent(),r=n.getKeyBefore(e),i=n.getBlockForKey(r);if(void 0===i){var o=new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1});n=I.Modifier.removeRange(n,o,"backward"),n=I.Modifier.setBlockType(n,o,"unstyled");var a=I.EditorState.push(t,n,"remove-range"),s=new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0});return I.EditorState.forceSelection(a,s)}var c=new I.SelectionState({anchorKey:r,anchorOffset:i.getLength(),focusKey:e,focusOffset:1});n=I.Modifier.removeRange(n,c,"backward");var u=I.EditorState.push(t,n,"remove-range"),l=new I.SelectionState({anchorKey:r,anchorOffset:i.getLength(),focusKey:r,focusOffset:i.getLength()});return I.EditorState.forceSelection(u,l)}(e,a);if(s!==e)return o(s),"handled"}return"space"===t&&st(e,r)?"handled":"not-handled"},onChange:function(t){var i=t.getCurrentContent();if(!i.equals(n))return n=i,t;n=i;var o=t.getSelection();if(e&&o.equals(e))return e=t.getSelection(),t;var a=r.getAll();if(e&&it(i,e.getStartKey(),e.getEndKey()).some((function(t){return a.includes(t)})))return e=o,ut(t);return it(i,o.getStartKey(),o.getEndKey()).some((function(t){return a.includes(t)}))?(e=o,ut(t)):t},keyBindingFn:function(t,e){var n=e.getEditorState,i=e.setEditorState,o=n();if(st(o,r)){if(32===t.keyCode)return"space";if(37===t.keyCode&&et(n,i,"up",t),39===t.keyCode&&et(n,i,"down",t),38===t.keyCode&&et(n,i,"up",t),40===t.keyCode)return void et(n,i,"down",t)}if(!t.shiftKey){if(37===t.keyCode){var a=o.getSelection(),s=a.getAnchorKey(),c=o.getCurrentContent().getBlockBefore(s);c&&0===a.getAnchorOffset()&&r.includes(c.getKey())&&et(n,i,"up",t)}if(39===t.keyCode){var u=o.getSelection(),l=u.getFocusKey(),f=o.getCurrentContent().getBlockForKey(l),h=o.getCurrentContent().getBlockAfter(l),d="atomic"!==f.getType()&&f.getLength()===u.getFocusOffset();h&&d&&r.includes(h.getKey())&&et(n,i,"down",t)}if(38===t.keyCode){var p=o.getSelection().getAnchorKey(),v=o.getCurrentContent().getBlockBefore(p);v&&r.includes(v.getKey())&&et(n,i,"up",t)}if(40===t.keyCode){var g=o.getSelection().getAnchorKey(),m=o.getCurrentContent().getBlockAfter(g);m&&r.includes(m.getKey())&&et(n,i,"down",t)}}},blockRendererFn:function(t,e){var n=e.getEditorState,r=e.setEditorState;if("atomic"===t.getType()){var i=n();return{props:{isFocused:i.getSelection().getHasFocus()&&ot(i,t.getKey()),isCollapsedSelection:i.getSelection().isCollapsed(),setFocusToBlock:function(){!function(t,e,n){var r=t(),i=q.a.encode(n.getKey(),0,0),o=document.querySelectorAll('[data-offset-key="'+i+'"]')[0],a=window.getSelection(),s=document.createRange();s.setStart(o,0),s.setEnd(o,0),a.removeAllRanges(),a.addRange(s),e(I.EditorState.forceSelection(r,new I.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:0,isBackward:!1})))}(n,r,t)}}}}},decorator:rt({theme:i,blockKeyStore:r})}};function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ht(t){void 0===t&&(t={});var e=t,n={};return{subscribeToItem:function(t,e){n[t]=n[t]||[],n[t].push(e)},unsubscribeFromItem:function(t,e){var r=n[t];r&&(n[t]=r.filter((function(t){return t!==e})))},updateItem:function(t,r){var i;e=ft({},e,((i={})[t]=r,i));var o=n[t];o&&o.forEach((function(n){return n(e[t])}))},getItem:function(t){return e[t]}}}function dt(){return(dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pt(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=t.alignment===e?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",dt({children:n},o,{className:a,onClick:function(n){n.preventDefault(),t.setAlignment({alignment:e})},type:"button",role:"button","aria-label":"block align text "+e})))}}pt({alignment:"center",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"default",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"left",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),pt({alignment:"right",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function vt(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=t.getEditorState&&t.getEditorState().getCurrentInlineStyle().has(e)?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",dt({children:n},o,{className:a,onClick:function(n){if(t.getEditorState){n.preventDefault();var r=["left","center","right"].filter((function(t){return t!==e})),i=t.getEditorState(),o=t.getEditorState().getCurrentContent(),a=t.getEditorState().getSelection(),s=o.getBlockForKey(a.getFocusKey()),c=o.getBlockForKey(a.getAnchorKey()),u=a.getIsBackward(),l={anchorOffset:0,focusOffset:s.getLength()};u&&(l={focusOffset:0,anchorOffset:c.getLength()});var f=a.merge(l),h=I.Modifier.applyInlineStyle(o,f,e),d=r.reduce((function(t,e){return I.Modifier.removeInlineStyle(t,f,e)}),h),p=I.EditorState.push(i,d,"change-inline-style");t.setEditorState(p)}},type:"button",role:"button","aria-label":"text align "+e})))}}vt({alignment:"center",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),vt({alignment:"left",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),vt({alignment:"right",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function gt(t){var e=t.blockType,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=function(){if(!t.getEditorState)return!1;var n=t.getEditorState();return n.getCurrentContent().getBlockForKey(n.getSelection().getStartKey()).getType()===e}()?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",dt({children:n},o,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(I.RichUtils.toggleBlockType(t.getEditorState(),e))},type:"button",role:"button","aria-label":"create "+e})))}}gt({blockType:"blockquote",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function mt(t){var e=t.style,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=t.getEditorState&&t.getEditorState().getCurrentInlineStyle().has(e)?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",dt({children:n},o,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(I.RichUtils.toggleInlineStyle(t.getEditorState(),e))},type:"button",role:"button","aria-label":e+" text"})))}}var yt=mt({style:"BOLD",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),bt=(gt({blockType:"code-block",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),mt({style:"CODE",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))})),_t=(gt({blockType:"header-one",children:"H1"}),gt({blockType:"header-three",children:"H3"}),gt({blockType:"header-two",children:"H2"}),mt({style:"ITALIC",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),O.a.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}))})),wt=(gt({blockType:"ordered-list-item",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),mt({style:"SUBSCRIPT",children:O.a.createElement("div",null,"x",O.a.createElement("sub",null,"2"))}),mt({style:"SUPERSCRIPT",children:O.a.createElement("div",null,"x",O.a.createElement("sup",null,"2"))}),mt({style:"UNDERLINE",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),O.a.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}))}));gt({blockType:"unordered-list-item",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))});function xt(){return(xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function St(t,e){return(St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={overrideContent:void 0},e.onOverrideContent=function(t){return e.setState({overrideContent:t})},e.renderDefaultButtons=function(t){return O.a.createElement("div",null,O.a.createElement(yt,t),O.a.createElement(_t,t),O.a.createElement(wt,t),O.a.createElement(bt,t))},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,St(e,n),r.prototype.render=function(){var t=this.props,e=t.theme,n=t.store,r=t.style,i=this.state.overrideContent,o={theme:e.buttonStyles,getEditorState:n.getItem("getEditorState"),setEditorState:n.getItem("setEditorState"),onOverrideContent:this.onOverrideContent};return O.a.createElement("div",{className:$(e.toolbarStyles.toolbar,"toolbar"),style:r},i?O.a.createElement(i,o):(this.props.children||this.renderDefaultButtons)(o))},r}(O.a.Component);Ct.propTypes={children:E.a.func};function Mt(t){var e=t.className,n=void 0===e?"s12gtd8j":e;return O.a.createElement("div",{className:n})}var Ot={buttonStyles:{buttonWrapper:"bi5zjrp",button:"b4lzrh6",active:"a1jb7rp"},toolbarStyles:{toolbar:"t6ostam"}},kt=n(1204),Et=n(1186),It=n(1179),jt=n(1184);var At=function(t){return"string"==typeof t||!Object(It.a)(t)&&Object(jt.a)(t)&&"[object String]"==Object(Et.a)(t)},Tt=n(1252);function Dt(){return(Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Pt(t,e){return(Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Lt=["blockProps","block","style"],Nt=function(t){var e=t.store;return function(t){var n=O.a.forwardRef((function(n,r){var i=n.blockProps,o=n.block,a=n.style,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,Lt),c=Object(M.useRef)();Object(M.useEffect)((function(){if(i.isFocused&&i.isCollapsedSelection){var t=c.current.getBoundingClientRect();e.updateItem("setAlignment",i.setAlignment),e.updateItem("alignment",i.alignment),e.updateItem("boundingRect",t),e.updateItem("visibleBlock",o.getKey()),e.updateItem("isEdit",!i.videoId)}else e.getItem("visibleBlock")===o.getKey()&&e.updateItem("visibleBlock",null);return function(){e.updateItem("visibleBlock",null)}}),[i.alignment,i.isFocused,i.isCollapsedSelection,e]);var u=i.alignment,l=a;return"center"===u?l=Dt({},a,{marginLeft:"auto",marginRight:"auto",display:"block"}):"right"===u&&(l=Dt({},a,{marginLeft:"auto",marginRight:0,display:"block"})),O.a.createElement(t,Dt({},s,{block:o,blockProps:i,style:l,ref:function(t){c.current=t,"function"===typeof r?r(t):r&&(r.current=t)}}))}));return n.displayName="Alignment("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",n.WrappedComponent=t.WrappedComponent||t,n}};function Rt(t,e,n,r){if(1===t.getCurrentContent().getBlocksAsArray().filter((function(t){return"atomic"===t.getType()&&t.getKey()===n})).length){var i=t.getCurrentContent(),o=i.getBlockForKey(n),a=new I.SelectionState({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:i.getBlockForKey(n).getLength()}),s=I.Modifier.setBlockData(t.getCurrentContent(),a,o.getData().set(r,e)),c=I.EditorState.push(t,s,"change-block-data");return I.EditorState.forceSelection(c,c.getSelection())}return t}var Bt=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).preventBubblingUp=function(t){t.preventDefault()},e.callback=function(t,n,r){var i=e.props,o=i.getEditorState;(0,i.setEditorState)(Rt(o(),At(t)?t:Dt({},t),n,r))},e.handleClick=function(){var t=e.props,n=t.getProps,r=(0,t.getEditorState)(),i=Object(Tt.getSelectedBlock)(r),o=i.getData(),a=n().onBlockEditClick;Object(kt.a)(a)&&a(o,i.getKey(),e.callback)},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Pt(e,n),r.prototype.render=function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n,i=$(e.button);return O.a.createElement("div",{className:e.buttonWrapper,onMouseDown:this.preventBubblingUp},O.a.createElement("button",Dt({},r,{className:i,type:"button",onClick:this.handleClick}),O.a.createElement("svg",{viewBox:"0 0 200 200","aria-hidden":"true",focusable:"false",width:"22",height:"22",fill:"currentColor"},O.a.createElement("path",{d:"M178,55.8c-1.1,1.2-2.1,2.3-3,3.2l-2.4,2.4c-0.8,0.8-1.5,1.5-2.2,2l-27-27.2c1.1-1.1,2.4-2.3,4-3.8c1.6-1.5,2.9-2.6,4-3.4 c2.7-2.1,5.5-3.1,8.6-2.8c3.1,0.3,5.5,0.9,7.4,1.8c2,1.1,4.2,2.9,6.7,5.6c2.5,2.7,4.4,5.5,5.7,8.4c0.7,1.9,1.1,4.1,1.3,6.6 C181.3,51.1,180.3,53.5,178,55.8z M101.6,78l31-31l27,27c-11.3,11.3-21.7,21.6-31,30.8c-4,3.9-7.9,7.7-11.7,11.5 c-3.8,3.8-7.3,7.2-10.4,10.2s-5.7,5.5-7.7,7.5l-3.6,3.6c-0.9,0.9-2,1.9-3.2,2.8c-1.2,0.9-2.5,1.7-4,2.4c-1.5,0.7-3.5,1.5-6.1,2.4 c-2.6,0.9-5.3,1.8-8.1,2.7c-2.8,0.9-5.5,1.7-8,2.4c-2.5,0.7-4.5,1.2-5.8,1.3c-2.5,0.3-3.9,0-4.1-0.7c-0.2-0.7-0.1-2.4,0.3-4.9 c0.1-1.3,0.5-3.3,1-5.9c0.5-2.6,1.1-5.2,1.6-7.9c0.5-2.7,1.1-5.2,1.7-7.5c0.6-2.3,1.1-4,1.5-4.9c0.7-1.5,1.4-2.7,2.1-3.8 c0.7-1.1,1.8-2.3,3.1-3.6L101.6,78z M169.4,107c2.8,0,5.5,0.7,8,2c2.5,1.3,3.8,4.1,3.8,8.2v45.4c0,3.7-0.7,7.2-2.1,10.3 c-1.4,3.1-3.3,5.9-5.7,8.2c-2.4,2.3-5.1,4.1-8.2,5.4c-3.1,1.3-6.2,1.9-9.4,1.9H44.2c-3.2,0-6.3-0.7-9.4-2.1 c-3.1-1.4-5.8-3.3-8.1-5.7c-2.3-2.4-4.2-5.2-5.7-8.5c-1.5-3.3-2.2-6.8-2.2-10.5V50.2c0-2.7,0.7-5.4,2.2-8.3 c1.5-2.9,3.4-5.5,5.7-7.8c2.3-2.3,5-4.3,7.9-5.8c2.9-1.5,5.9-2.3,8.8-2.3H90c3.7,0,6.4,1.4,7.9,4.1c1.5,2.7,2.3,5.5,2.3,8.3 s-0.8,5.5-2.3,8.1c-1.5,2.6-4.2,3.9-7.9,3.9H53.4c-2.8,0-5.1,1-6.8,2.9c-1.7,1.9-2.6,4.3-2.6,7.1v94c0,2.7,0.9,4.9,2.6,6.7 s4,2.7,6.8,2.7H146c2.8,0,5.2-0.9,7.2-2.7c2-1.8,3-4,3-6.7v-37.2c0-1.9,0.4-3.5,1.3-4.8c0.9-1.3,1.9-2.4,3.2-3.2 c1.3-0.8,2.7-1.4,4.2-1.7C166.4,107.2,167.9,107,169.4,107L169.4,107z"}))))},r}(M.Component);function zt(t){var e=t.store,n=t.theme,r=Object(M.useState)({}),i=r[0],o=r[1],a=Object(M.useState)(null),s=a[0],c=a[1],u=Object(M.useRef)(null),l=Object(M.useRef)(),f=Object(M.useCallback)((function(t){var n=setTimeout((function(){var n,r=e.getItem("boundingRect"),i=e.getItem("getReadOnly");if(!t||!r||null!=i&&i())n={transform:"translate(-50%) scale(0)"};else{var a=function t(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:t(e.parentElement):null}(u.current.parentElement),s=u.current.clientHeight,f=a?a.getBoundingClientRect():document.body.getBoundingClientRect();n={top:r.top-f.top-s-8,left:r.left-f.left+r.width/2,transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}}var h=e.getItem("alignment")||"default";c(h),o(n),l.current=void 0}),0);l.current=n}),[]),h=Object(M.useCallback)((function(t){t&&c(t)}),[]);Object(M.useEffect)((function(){return function(){l.current&&clearTimeout(l.current)}}),[]),Object(M.useEffect)((function(){return e.subscribeToItem("visibleBlock",f),e.subscribeToItem("alignment",h),function(){e.unsubscribeFromItem("visibleBlock",f),e.unsubscribeFromItem("alignment",h)}}),[f,h]);var d=[];return e.getItem("isEdit")&&d.push(Bt),O.a.createElement("div",{className:n.alignmentToolStyles.alignmentTool,style:i,ref:u},d.map((function(t,r){return O.a.createElement(t,{key:r,alignment:s,setAlignment:e.getItem("setAlignment"),getEditorState:e.getItem("getEditorState"),setEditorState:e.getItem("setEditorState"),getProps:e.getItem("getProps"),theme:n.buttonStyles})})))}var Ft={buttonStyles:{buttonWrapper:"b1xfvqad",button:"b4r941m",active:"a1a1su77"},alignmentToolStyles:{alignmentTool:"auihuri"}},Ht=function(t,e){var n=e.getEditorState,r=e.setEditorState;return function(e){var i=t.getEntityAt(0);if(i){var o=n();o.getCurrentContent().mergeEntityData(i,Dt({},e)),r(I.EditorState.forceSelection(o,o.getSelection()))}}},Ut=n(1180),Wt=Ut.a["__core-js_shared__"],Yt=function(){var t=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var Vt=function(t){return!!Yt&&Yt in t},Gt=n(1175),Xt=Function.prototype.toString;var Kt=function(t){if(null!=t){try{return Xt.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Zt=/^\[object .+?Constructor\]$/,qt=Function.prototype,Qt=Object.prototype,Jt=qt.toString,$t=Qt.hasOwnProperty,te=RegExp("^"+Jt.call($t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(t){return!(!Object(Gt.a)(t)||Vt(t))&&(Object(kt.a)(t)?te:Zt).test(Kt(t))};var ne=function(t,e){return null==t?void 0:t[e]};var re=function(t,e){var n=ne(t,e);return ee(n)?n:void 0},ie=function(){try{var t=re(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var oe=function(t,e,n){"__proto__"==e&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var ae=function(t,e){return t===e||t!==t&&e!==e},se=Object.prototype.hasOwnProperty;var ce=function(t,e,n){var r=t[e];se.call(t,e)&&ae(r,n)&&(void 0!==n||e in t)||oe(t,e,n)};function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var le=function(t){return"symbol"==ue(t)||Object(jt.a)(t)&&"[object Symbol]"==Object(Et.a)(t)};function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/;var pe=function(t,e){if(Object(It.a)(t))return!1;var n=fe(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!le(t))||(de.test(t)||!he.test(t)||null!=e&&t in Object(e))},ve=re(Object,"create");var ge=function(){this.__data__=ve?ve(null):{},this.size=0};var me=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ye=Object.prototype.hasOwnProperty;var be=function(t){var e=this.__data__;if(ve){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(e,t)?e[t]:void 0},_e=Object.prototype.hasOwnProperty;var we=function(t){var e=this.__data__;return ve?void 0!==e[t]:_e.call(e,t)};var xe=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ve&&void 0===e?"__lodash_hash_undefined__":e,this};function Se(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Se.prototype.clear=ge,Se.prototype.delete=me,Se.prototype.get=be,Se.prototype.has=we,Se.prototype.set=xe;var Ce=Se;var Me=function(){this.__data__=[],this.size=0};var Oe=function(t,e){for(var n=t.length;n--;)if(ae(t[n][0],e))return n;return-1},ke=Array.prototype.splice;var Ee=function(t){var e=this.__data__,n=Oe(e,t);return!(n<0)&&(n==e.length-1?e.pop():ke.call(e,n,1),--this.size,!0)};var Ie=function(t){var e=this.__data__,n=Oe(e,t);return n<0?void 0:e[n][1]};var je=function(t){return Oe(this.__data__,t)>-1};var Ae=function(t,e){var n=this.__data__,r=Oe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Te(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Te.prototype.clear=Me,Te.prototype.delete=Ee,Te.prototype.get=Ie,Te.prototype.has=je,Te.prototype.set=Ae;var De=Te,Pe=re(Ut.a,"Map");var Le=function(){this.size=0,this.__data__={hash:new Ce,map:new(Pe||De),string:new Ce}};function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Re=function(t){var e=Ne(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Be=function(t,e){var n=t.__data__;return Re(e)?n["string"==typeof e?"string":"hash"]:n.map};var ze=function(t){var e=Be(this,t).delete(t);return this.size-=e?1:0,e};var Fe=function(t){return Be(this,t).get(t)};var He=function(t){return Be(this,t).has(t)};var Ue=function(t,e){var n=Be(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function We(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}We.prototype.clear=Le,We.prototype.delete=ze,We.prototype.get=Fe,We.prototype.has=He,We.prototype.set=Ue;var Ye=We;function Ve(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ve.Cache||Ye),n}Ve.Cache=Ye;var Ge=Ve;var Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g,Ze=function(t){var e=Ge(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xe,(function(t,n,r,i){e.push(r?i.replace(Ke,"$1"):n||t)})),e})),qe=n(1194);var Qe=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Je=qe.a?qe.a.prototype:void 0,$e=Je?Je.toString:void 0;var tn=function t(e){if("string"==typeof e)return e;if(Object(It.a)(e))return Qe(e,t)+"";if(le(e))return $e?$e.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var en=function(t){return null==t?"":tn(t)};var nn=function(t,e){return Object(It.a)(t)?t:pe(t,e)?[t]:Ze(en(t))},rn=n(1195);var on=function(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var an=function(t,e,n,r){if(!Object(Gt.a)(t))return t;for(var i=-1,o=(e=nn(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var c=on(e[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Object(Gt.a)(l)?l:Object(rn.a)(e[i+1])?[]:{})}ce(s,c,u),s=s[c]}return t};var sn=function(t,e,n){return null==t?t:an(t,e,n)};var cn=function(t,e){for(var n=0,r=(e=nn(e,t)).length;null!=t&&n<r;)t=t[on(e[n++])];return n&&n==r?t:void 0};var un=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=cn(t,a);n(s,a)&&an(o,nn(a,t),s)}return o};var ln=function(t,e){return null!=t&&e in Object(t)},fn=n(1206),hn=n(1210);var dn=function(t,e,n){for(var r=-1,i=(e=nn(e,t)).length,o=!1;++r<i;){var a=on(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Object(hn.a)(i)&&Object(rn.a)(a,i)&&(Object(It.a)(t)||Object(fn.a)(t))};var pn=function(t,e){return null!=t&&dn(t,e,ln)};var vn=function(t,e){return un(t,e,(function(e,n){return pn(t,n)}))};var gn=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},mn=qe.a?qe.a.isConcatSpreadable:void 0;var yn=function(t){return Object(It.a)(t)||Object(fn.a)(t)||!!(mn&&t&&t[mn])};var bn=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=yn),o||(o=[]);++a<s;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,i,o):gn(o,c):i||(o[o.length]=c)}return o};var _n=function(t){return(null==t?0:t.length)?bn(t,1):[]};var wn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},xn=Math.max;var Sn=function(t,e,n){return e=xn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=xn(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),wn(t,this,s)}};var Cn=function(t){return function(){return t}};var Mn=function(t){return t},On=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:Cn(e),writable:!0})}:Mn,kn=Date.now;var En=function(t){var e=0,n=0;return function(){var r=kn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(On);var In=function(t){return En(Sn(t,void 0,_n),t+"")}((function(t,e){return null==t?{}:vn(t,e)}));var jn=function(t,e,n){var r=null==t?void 0:cn(t,e);return void 0===r?n:r},An=n(1272),Tn=n.n(An),Dn=n(1306),Pn=n.n(Dn),Ln=n(4),Nn=n(36),Rn=n(91),Bn=n(92),zn=n(101),Fn=n(183),Hn=n(118);function Un(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Un=function(){return!!t})()}var Wn=n(163);function Yn(t){var e=Un();return function(){var n,r=Object(Hn.a)(t);if(e){var i=Object(Hn.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(Wn.a)(this,n)}}var Vn=n(90),Gn=n(264),Xn=n(1174),Kn=n(69);function Zn(){Zn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:M(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(j([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Object(Kn.a)(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function M(e,n,r){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Object(Kn.a)(e)+" is not iterable")}return m.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function qn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function Qn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){qn(o,r,i,a,s,"next",t)}function s(t){qn(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Jn=n(267);var $n=n(356),tr=n(349);function er(t){return function(t){if(Array.isArray(t))return Object(Jn.a)(t)}(t)||Object($n.a)(t)||Object(tr.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nr="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function rr(t,e){return 0===t.indexOf(e)}function ir(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Object(Gn.a)({},n);var r={};return Object.keys(t).forEach((function(n){(e.aria&&("role"===n||rr(n,"aria-"))||e.data&&rr(n,"data-")||e.attr&&nr.includes(n))&&(r[n]=t[n])})),r}var or=n(1178),ar=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some((function(t){var e=t.trim();if(/^\*(\/\*)?$/.test(t))return!0;if("."===e.charAt(0)){var n=r.toLowerCase(),a=e.toLowerCase(),s=[a];return".jpg"!==a&&".jpeg"!==a||(s=[".jpg",".jpeg"]),s.some((function(t){return n.endsWith(t)}))}return/\/\*$/.test(e)?o===e.replace(/\/.*$/,""):i===e||!!/^\w+$/.test(e)&&(Object(or.a)(!1,"Upload takes an invalidate 'accept' type '".concat(e,"'.Skip for check.")),!0)}))}return!0};function sr(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function cr(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append("".concat(e,"[]"),t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),sr(e)):t.onSuccess(sr(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}var ur=function(t,e,n){var r=function t(r,i){r&&(r.path=i||"",r.isFile?r.file((function(t){n(t)&&(r.fullPath&&!t.webkitRelativePath&&(Object.defineProperties(t,{webkitRelativePath:{writable:!0}}),t.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(t,{webkitRelativePath:{writable:!1}})),e([t]))})):r.isDirectory&&function(t,e){var n=t.createReader(),r=[];!function t(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);r=r.concat(i),!i.length?e(r):t()}))}()}(r,(function(e){e.forEach((function(e){t(e,"".concat(i).concat(r.name,"/"))}))})))};t.forEach((function(t){r(t.webkitGetAsEntry())}))},lr=+new Date,fr=0;function hr(){return"rc-upload-".concat(lr,"-").concat(++fr)}var dr=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],pr=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){var t;Object(Rn.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(Vn.a)(Object(zn.a)(t),"state",{uid:hr()}),Object(Vn.a)(Object(zn.a)(t),"reqs",{}),Object(Vn.a)(Object(zn.a)(t),"fileInput",void 0),Object(Vn.a)(Object(zn.a)(t),"_isMounted",void 0),Object(Vn.a)(Object(zn.a)(t),"onChange",(function(e){var n=t.props,r=n.accept,i=n.directory,o=er(e.target.files).filter((function(t){return!i||ar(t,r)}));t.uploadFiles(o),t.reset()})),Object(Vn.a)(Object(zn.a)(t),"onClick",(function(e){var n=t.fileInput;if(n){var r=e.target,i=t.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),i&&i(e)}})),Object(Vn.a)(Object(zn.a)(t),"onKeyDown",(function(e){"Enter"===e.key&&t.onClick(e)})),Object(Vn.a)(Object(zn.a)(t),"onFileDrop",(function(e){var n=t.props.multiple;if(e.preventDefault(),"dragover"!==e.type)if(t.props.directory)ur(Array.prototype.slice.call(e.dataTransfer.items),t.uploadFiles,(function(e){return ar(e,t.props.accept)}));else{var r=er(e.dataTransfer.files).filter((function(e){return ar(e,t.props.accept)}));!1===n&&(r=r.slice(0,1)),t.uploadFiles(r)}})),Object(Vn.a)(Object(zn.a)(t),"uploadFiles",(function(e){var n=er(e),r=n.map((function(e){return e.uid=hr(),t.processFile(e,n)}));Promise.all(r).then((function(e){var n=t.props.onBatchStart;null===n||void 0===n||n(e.map((function(t){return{file:t.origin,parsedFile:t.parsedFile}}))),e.filter((function(t){return null!==t.parsedFile})).forEach((function(e){t.post(e)}))}))})),Object(Vn.a)(Object(zn.a)(t),"processFile",function(){var e=Qn(Zn().mark((function e(n,r){var i,o,a,s,c,u,l,f,h;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.props.beforeUpload,o=n,!i){e.next=14;break}return e.prev=3,e.next=6,i(n,r);case 6:o=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),o=!1;case 12:if(!1!==o){e.next=14;break}return e.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(a=t.props.action)){e.next=21;break}return e.next=18,a(n);case 18:s=e.sent,e.next=22;break;case 21:s=a;case 22:if("function"!==typeof(c=t.props.data)){e.next=29;break}return e.next=26,c(n);case 26:u=e.sent,e.next=30;break;case 29:u=c;case 30:return l="object"!==Object(Kn.a)(o)&&"string"!==typeof o||!o?n:o,f=l instanceof File?l:new File([l],n.name,{type:n.type}),(h=f).uid=n.uid,e.abrupt("return",{origin:n,data:u,parsedFile:h,action:s});case 35:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(Vn.a)(Object(zn.a)(t),"saveFileInput",(function(e){t.fileInput=e})),t}return Object(Bn.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(t){var e=this,n=t.data,r=t.origin,i=t.action,o=t.parsedFile;if(this._isMounted){var a=this.props,s=a.onStart,c=a.customRequest,u=a.name,l=a.headers,f=a.withCredentials,h=a.method,d=r.uid,p=c||cr,v={action:i,filename:u,data:n,file:o,headers:l,withCredentials:f,method:h||"post",onProgress:function(t){var n=e.props.onProgress;null===n||void 0===n||n(t,o)},onSuccess:function(t,n){var r=e.props.onSuccess;null===r||void 0===r||r(t,o,n),delete e.reqs[d]},onError:function(t,n){var r=e.props.onError;null===r||void 0===r||r(t,n,o),delete e.reqs[d]}};s(r),this.reqs[d]=p(v)}}},{key:"reset",value:function(){this.setState({uid:hr()})}},{key:"abort",value:function(t){var e=this.reqs;if(t){var n=t.uid?t.uid:t;e[n]&&e[n].abort&&e[n].abort(),delete e[n]}else Object.keys(e).forEach((function(t){e[t]&&e[t].abort&&e[t].abort(),delete e[t]}))}},{key:"render",value:function(){var t,e=this.props,n=e.component,r=e.prefixCls,i=e.className,o=e.classNames,a=void 0===o?{}:o,s=e.disabled,c=e.id,u=e.style,l=e.styles,f=void 0===l?{}:l,h=e.multiple,d=e.accept,p=e.capture,v=e.children,g=e.directory,m=e.openFileDialogOnClick,y=e.onMouseEnter,b=e.onMouseLeave,_=e.hasControlInside,w=Object(Xn.a)(e,dr),x=C()((t={},Object(Vn.a)(t,r,!0),Object(Vn.a)(t,"".concat(r,"-disabled"),s),Object(Vn.a)(t,i,i),t)),S=g?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=s?{}:{onClick:m?this.onClick:function(){},onKeyDown:m?this.onKeyDown:function(){},onMouseEnter:y,onMouseLeave:b,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:_?void 0:"0"};return O.a.createElement(n,Object(Nn.a)({},M,{className:x,role:_?void 0:"button",style:u}),O.a.createElement("input",Object(Nn.a)({},ir(w,{aria:!0,data:!0}),{id:c,disabled:s,type:"file",ref:this.saveFileInput,onClick:function(t){return t.stopPropagation()},key:this.state.uid,style:Object(Gn.a)({display:"none"},f.input),className:a.input,accept:d},S,{multiple:h,onChange:this.onChange},null!=p?{capture:p}:{})),v)}}]),n}(M.Component);function vr(){}var gr=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){var t;Object(Rn.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(Vn.a)(Object(zn.a)(t),"uploader",void 0),Object(Vn.a)(Object(zn.a)(t),"saveUploader",(function(e){t.uploader=e})),t}return Object(Bn.a)(n,[{key:"abort",value:function(t){this.uploader.abort(t)}},{key:"render",value:function(){return O.a.createElement(pr,Object(Nn.a)({},this.props,{ref:this.saveUploader}))}}]),n}(M.Component);Object(Vn.a)(gr,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:vr,onError:vr,onSuccess:vr,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var mr,yr=gr,br=localStorage.getItem("school_domain"),_r={iResource:"https://"+(mr=br)+".ai-augmented.com/api/jx-iresource",oResource:"https://"+mr+".ai-augmented.com/api/jx-oresource",oss:"tst-ccnu"===mr?"http://all-for-test.oss-cn-shanghai.aliyuncs.com":"https://aia-publication.oss-cn-shanghai.aliyuncs.com",i:"tst-ccnu"===mr?29357:29353,key:"tst-ccnu"===mr?59894985:94374647,iv:"tst-ccnu"===mr?29393376:99526255},wr=n(346),xr=n.n(wr),Sr=n(135),Cr=n.n(Sr),Mr=n(355);var Or=n(357);function kr(t,e){return Object(Mr.a)(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Object(tr.a)(t,e)||Object(Or.a)()}var Er=n(46),Ir=n.n(Er),jr=n(1190),Ar=n(1253);function Tr(t,e,n){var r=M.useRef({});return"value"in r.current&&!n(r.current.condition,e)||(r.current.value=t(),r.current.condition=e),r.current.value}var Dr=function(t,e){"function"===typeof t?t(e):"object"===Object(Kn.a)(t)&&t&&"current"in t&&(t.current=e)},Pr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){e.forEach((function(e){Dr(e,t)}))}},Lr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tr((function(){return Pr.apply(void 0,e)}),e,(function(t,e){return t.length!==e.length||t.every((function(t,n){return t!==e[n]}))}))},Nr=function(t){var e,n,r=Object(Ar.isMemo)(t)?t.type.type:t.type;return!!("function"!==typeof r||null!==(e=r.prototype)&&void 0!==e&&e.render||r.$$typeof===Ar.ForwardRef)&&!!("function"!==typeof t||null!==(n=t.prototype)&&void 0!==n&&n.render||t.$$typeof===Ar.ForwardRef)},Rr=M.createContext(null),Br=Object(jr.a)()?M.useLayoutEffect:M.useEffect,zr=function(t,e){var n=M.useRef(!0);Br((function(){return t(n.current)}),e),Br((function(){return n.current=!1,function(){n.current=!0}}),[])},Fr=function(t,e){zr((function(e){if(!e)return t()}),e)},Hr=zr,Ur=[];var Wr=n(1277);function Yr(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r,i,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",t){var a=getComputedStyle(t);o.scrollbarColor=a.scrollbarColor,o.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),c=parseInt(s.width,10),u=parseInt(s.height,10);try{var l=c?"width: ".concat(s.width,";"):"",f=u?"height: ".concat(s.height,";"):"";Object(Wr.b)("\n#".concat(e,"::-webkit-scrollbar {\n").concat(l,"\n").concat(f,"\n}"),e)}catch(p){console.error(p),r=c,i=u}}document.body.appendChild(n);var h=t&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,d=t&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Object(Wr.a)(e),{width:h,height:d}}var Vr="rc-util-locker-".concat(Date.now()),Gr=0;function Xr(t){var e=!!t,n=kr(M.useState((function(){return Gr+=1,"".concat(Vr,"_").concat(Gr)})),1)[0];Hr((function(){if(e){var t=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?Yr(i):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Object(Wr.b)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else Object(Wr.a)(n);var i;return function(){Object(Wr.a)(n)}}),[e,n])}var Kr=!1;var Zr=function(t){return!1!==t&&(Object(jr.a)()&&t?"string"===typeof t?document.querySelector(t):"function"===typeof t?t():t:null)};var qr=M.forwardRef((function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer,o=(t.debug,t.autoDestroy),a=void 0===o||o,s=t.children,c=kr(M.useState(n),2),u=c[0],l=c[1],f=u||n;M.useEffect((function(){(a||n)&&l(n)}),[n,a]);var h=kr(M.useState((function(){return Zr(i)})),2),d=h[0],p=h[1];M.useEffect((function(){var t=Zr(i);p(null!==t&&void 0!==t?t:null)}));var v=function(t,e){var n=kr(M.useState((function(){return Object(jr.a)()?document.createElement("div"):null})),1)[0],r=M.useRef(!1),i=M.useContext(Rr),o=kr(M.useState(Ur),2),a=o[0],s=o[1],c=i||(r.current?void 0:function(t){s((function(e){return[t].concat(er(e))}))});function u(){n.parentElement||document.body.appendChild(n),r.current=!0}function l(){var t;null===(t=n.parentElement)||void 0===t||t.removeChild(n),r.current=!1}return Hr((function(){return t?i?i(u):u():l(),l}),[t]),Hr((function(){a.length&&(a.forEach((function(t){return t()})),s(Ur))}),[a]),[n,c]}(f&&!d),g=kr(v,2),m=g[0],y=g[1],b=null!==d&&void 0!==d?d:m;Xr(r&&n&&Object(jr.a)()&&(b===m||b===document.body));var _=null;s&&Nr(s)&&e&&(_=s.ref);var w=Lr(_,e);if(!f||!Object(jr.a)()||void 0===d)return null;var x,S=!1===b||("boolean"===typeof x&&(Kr=x),Kr),C=s;return e&&(C=M.cloneElement(s,{ref:w})),M.createElement(Rr.Provider,{value:y},S?C:Object(Er.createPortal)(C,b))})),Qr=M.createContext({}),Jr=n(1248);var $r=0;var ti=Object(Gn.a)({},M).useId,ei=ti?function(t){var e=ti();return t||e}:function(t){var e=kr(M.useState("ssr-id"),2),n=e[0],r=e[1];return M.useEffect((function(){var t=$r;$r+=1,r("rc_unique_".concat(t))}),[]),t||n},ni={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=ni.F1&&e<=ni.F12)return!1;switch(e){case ni.ALT:case ni.CAPS_LOCK:case ni.CONTEXT_MENU:case ni.CTRL:case ni.DOWN:case ni.END:case ni.ESC:case ni.HOME:case ni.INSERT:case ni.LEFT:case ni.MAC_FF_META:case ni.META:case ni.NUMLOCK:case ni.NUM_CENTER:case ni.PAGE_DOWN:case ni.PAGE_UP:case ni.PAUSE:case ni.PRINT_SCREEN:case ni.RIGHT:case ni.SHIFT:case ni.UP:case ni.WIN_KEY:case ni.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=ni.ZERO&&t<=ni.NINE)return!0;if(t>=ni.NUM_ZERO&&t<=ni.NUM_MULTIPLY)return!0;if(t>=ni.A&&t<=ni.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case ni.SPACE:case ni.QUESTION_MARK:case ni.NUM_PLUS:case ni.NUM_MINUS:case ni.NUM_PERIOD:case ni.NUM_DIVISION:case ni.SEMICOLON:case ni.DASH:case ni.EQUALS:case ni.COMMA:case ni.PERIOD:case ni.SLASH:case ni.APOSTROPHE:case ni.SINGLE_QUOTE:case ni.OPEN_SQUARE_BRACKET:case ni.BACKSLASH:case ni.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ri=ni;function ii(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function oi(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!==typeof n){var i=t.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function ai(t){return t instanceof HTMLElement||t instanceof SVGElement}function si(t){return ai(t)?t:t instanceof O.a.Component?Ir.a.findDOMNode(t):null}var ci=M.createContext({});var ui=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(M.Component);function li(t){var e=M.useRef(!1),n=kr(M.useState(t),2),r=n[0],i=n[1];return M.useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),[r,function(t,n){n&&e.current||i(t)}]}function fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}var hi=function(t,e){var n={animationend:fi("Animation","AnimationEnd"),transitionend:fi("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(Object(jr.a)(),"undefined"!==typeof window?window:{}),di={};if(Object(jr.a)()){var pi=document.createElement("div");di=pi.style}var vi={};function gi(t){if(vi[t])return vi[t];var e=hi[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in di)return vi[t]=e[o],vi[t]}return""}var mi=gi("animationend"),yi=gi("transitionend"),bi=!(!mi||!yi),_i=mi||"animationend",wi=yi||"transitionend";function xi(t,e){return t?"object"===Object(Kn.a)(t)?t[e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}))]:"".concat(t,"-").concat(e):null}var Si=Object(jr.a)()?M.useLayoutEffect:M.useEffect,Ci=function(t){return+setTimeout(t,16)},Mi=function(t){return clearTimeout(t)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Ci=function(t){return window.requestAnimationFrame(t)},Mi=function(t){return window.cancelAnimationFrame(t)});var Oi=0,ki=new Map;function Ei(t){ki.delete(t)}var Ii=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Oi+=1;function r(e){if(0===e)Ei(n),t();else{var i=Ci((function(){r(e-1)}));ki.set(n,i)}}return r(e),n};Ii.cancel=function(t){var e=ki.get(t);return Ei(t),Mi(e)};var ji=Ii,Ai=["prepare","start","active","end"],Ti=["prepare","prepared"];function Di(t){return"active"===t||"end"===t}var Pi=function(t,e,n){var r=kr(li("none"),2),i=r[0],o=r[1],a=kr(function(){var t=M.useRef(null);function e(){ji.cancel(t.current)}return M.useEffect((function(){return function(){e()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e();var o=ji((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)}));t.current=o},e]}(),2),s=a[0],c=a[1];var u=e?Ti:Ai;return Si((function(){if("none"!==i&&"end"!==i){var t=u.indexOf(i),e=u[t+1],r=n(i);!1===r?o(e,!0):e&&s((function(t){function n(){t.isCanceled()||o(e,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,i]),M.useEffect((function(){return function(){c()}}),[]),[function(){o("prepare",!0)},i]};function Li(t,e,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,c=r.motionLeave,u=void 0===c||c,l=r.motionDeadline,f=r.motionLeaveImmediately,h=r.onAppearPrepare,d=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,g=r.onEnterStart,m=r.onLeaveStart,y=r.onAppearActive,b=r.onEnterActive,_=r.onLeaveActive,w=r.onAppearEnd,x=r.onEnterEnd,S=r.onLeaveEnd,C=r.onVisibleChanged,O=kr(li(),2),k=O[0],E=O[1],I=kr(li("none"),2),j=I[0],A=I[1],T=kr(li(null),2),D=T[0],P=T[1],L=Object(M.useRef)(!1),N=Object(M.useRef)(null);function R(){return n()}var B=Object(M.useRef)(!1);function z(){A("none",!0),P(null,!0)}function F(t){var e=R();if(!t||t.deadline||t.target===e){var n,r=B.current;"appear"===j&&r?n=null===w||void 0===w?void 0:w(e,t):"enter"===j&&r?n=null===x||void 0===x?void 0:x(e,t):"leave"===j&&r&&(n=null===S||void 0===S?void 0:S(e,t)),"none"!==j&&r&&!1!==n&&z()}}var H=kr(function(t){var e=Object(M.useRef)(),n=Object(M.useRef)(t);n.current=t;var r=M.useCallback((function(t){n.current(t)}),[]);function i(t){t&&(t.removeEventListener(wi,r),t.removeEventListener(_i,r))}return M.useEffect((function(){return function(){i(e.current)}}),[]),[function(t){e.current&&e.current!==t&&i(e.current),t&&t!==e.current&&(t.addEventListener(wi,r),t.addEventListener(_i,r),e.current=t)},i]}(F),1)[0],U=function(t){var e,n,r;switch(t){case"appear":return e={},Object(Vn.a)(e,"prepare",h),Object(Vn.a)(e,"start",v),Object(Vn.a)(e,"active",y),e;case"enter":return n={},Object(Vn.a)(n,"prepare",d),Object(Vn.a)(n,"start",g),Object(Vn.a)(n,"active",b),n;case"leave":return r={},Object(Vn.a)(r,"prepare",p),Object(Vn.a)(r,"start",m),Object(Vn.a)(r,"active",_),r;default:return{}}},W=M.useMemo((function(){return U(j)}),[j]),Y=kr(Pi(j,!t,(function(t){if("prepare"===t){var e=W.prepare;return!!e&&e(R())}var n;G in W&&P((null===(n=W[G])||void 0===n?void 0:n.call(W,R(),null))||null);return"active"===G&&(H(R()),l>0&&(clearTimeout(N.current),N.current=setTimeout((function(){F({deadline:!0})}),l))),"prepared"===G&&z(),!0})),2),V=Y[0],G=Y[1],X=Di(G);B.current=X,Si((function(){E(e);var n,r=L.current;L.current=!0,!r&&e&&s&&(n="appear"),r&&e&&o&&(n="enter"),(r&&!e&&u||!r&&f&&!e&&u)&&(n="leave");var i=U(n);n&&(t||i.prepare)?(A(n),V()):A("none")}),[e]),Object(M.useEffect)((function(){("appear"===j&&!s||"enter"===j&&!o||"leave"===j&&!u)&&A("none")}),[s,o,u]),Object(M.useEffect)((function(){return function(){L.current=!1,clearTimeout(N.current)}}),[]);var K=M.useRef(!1);Object(M.useEffect)((function(){k&&(K.current=!0),void 0!==k&&"none"===j&&((K.current||k)&&(null===C||void 0===C||C(k)),K.current=!0)}),[k,j]);var Z=D;return W.prepare&&"start"===G&&(Z=Object(Gn.a)({transition:"none"},Z)),[j,G,Z,null!==k&&void 0!==k?k:e]}var Ni=function(t){var e=t;"object"===Object(Kn.a)(t)&&(e=t.transitionSupport);var n=M.forwardRef((function(t,n){var r=t.visible,i=void 0===r||r,o=t.removeOnLeave,a=void 0===o||o,s=t.forceRender,c=t.children,u=t.motionName,l=t.leavedClassName,f=t.eventProps,h=function(t,n){return!(!t.motionName||!e||!1===n)}(t,M.useContext(ci).motion),d=Object(M.useRef)(),p=Object(M.useRef)();var v=kr(Li(h,i,(function(){try{return d.current instanceof HTMLElement?d.current:si(p.current)}catch(t){return null}}),t),4),g=v[0],m=v[1],y=v[2],b=v[3],_=M.useRef(b);b&&(_.current=!0);var w,x=M.useCallback((function(t){d.current=t,Dr(n,t)}),[n]),S=Object(Gn.a)(Object(Gn.a)({},f),{},{visible:i});if(c)if("none"===g)w=b?c(Object(Gn.a)({},S),x):!a&&_.current&&l?c(Object(Gn.a)(Object(Gn.a)({},S),{},{className:l}),x):s||!a&&!l?c(Object(Gn.a)(Object(Gn.a)({},S),{},{style:{display:"none"}}),x):null;else{var O,k;"prepare"===m?k="prepare":Di(m)?k="active":"start"===m&&(k="start");var E=xi(u,"".concat(g,"-").concat(k));w=c(Object(Gn.a)(Object(Gn.a)({},S),{},{className:C()(xi(u,g),(O={},Object(Vn.a)(O,E,E&&k),Object(Vn.a)(O,u,"string"===typeof u),O)),style:y}),x)}else w=null;M.isValidElement(w)&&Nr(w)&&(w.ref||(w=M.cloneElement(w,{ref:x})));return M.createElement(ui,{ref:p},w)}));return n.displayName="CSSMotion",n}(bi);function Ri(t){var e;return e=t&&"object"===Object(Kn.a)(t)&&"key"in t?t:{key:t},Object(Gn.a)(Object(Gn.a)({},e),{},{key:String(e.key)})}function Bi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(Ri)}function zi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=e.length,o=Bi(t),a=Bi(e);o.forEach((function(t){for(var e=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===t.key){r<o&&(n=n.concat(a.slice(r,o).map((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{status:"add"})}))),r=o),n.push(Object(Gn.a)(Object(Gn.a)({},s),{},{status:"keep"})),r+=1,e=!0;break}}e||n.push(Object(Gn.a)(Object(Gn.a)({},t),{},{status:"remove"}))})),r<i&&(n=n.concat(a.slice(r).map((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{status:"add"})}))));var s={};n.forEach((function(t){var e=t.key;s[e]=(s[e]||0)+1}));var c=Object.keys(s).filter((function(t){return s[t]>1}));return c.forEach((function(t){(n=n.filter((function(e){var n=e.key,r=e.status;return n!==t||"remove"!==r}))).forEach((function(e){e.key===t&&(e.status="keep")}))})),n}var Fi=["component","children","onVisibleChanged","onAllRemoved"],Hi=["status"],Ui=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ni,n=function(t){Object(Fn.a)(r,t);var n=Yn(r);function r(){var t;Object(Rn.a)(this,r);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),Object(Vn.a)(Object(zn.a)(t),"state",{keyEntities:[]}),Object(Vn.a)(Object(zn.a)(t),"removeKey",(function(e){var n=t.state.keyEntities.map((function(t){return t.key!==e?t:Object(Gn.a)(Object(Gn.a)({},t),{},{status:"removed"})}));return t.setState({keyEntities:n}),n.filter((function(t){return"removed"!==t.status})).length})),t}return Object(Bn.a)(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=r.onAllRemoved,c=Object(Xn.a)(r,Fi),u=i||M.Fragment,l={};return Ui.forEach((function(t){l[t]=c[t],delete c[t]})),delete c.keys,M.createElement(u,c,n.map((function(n,r){var i=n.status,c=Object(Xn.a)(n,Hi),u="add"===i||"keep"===i;return M.createElement(e,Object(Nn.a)({},l,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(e){(null===a||void 0===a||a(e,{key:c.key}),e)||0===t.removeKey(c.key)&&s&&s()}}),(function(t,e){return o(Object(Gn.a)(Object(Gn.a)({},t),{},{index:r}),e)}))})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.keys,r=e.keyEntities,i=Bi(n);return{keyEntities:zi(r,i).filter((function(t){var e=r.find((function(e){var n=e.key;return t.key===n}));return!e||"removed"!==e.status||"remove"!==t.status}))}}}]),r}(M.Component);Object(Vn.a)(n,"defaultProps",{component:"div"})}(bi);var Wi=Ni,Yi=M.memo((function(t){return t.children}),(function(t,e){return!e.shouldUpdate})),Vi={width:0,height:0,overflow:"hidden",outline:"none"},Gi={outline:"none"};var Xi=O.a.forwardRef((function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,a=t.ariaId,s=t.footer,c=t.closable,u=t.closeIcon,l=t.onClose,f=t.children,h=t.bodyStyle,d=t.bodyProps,p=t.modalRender,v=t.onMouseDown,g=t.onMouseUp,m=t.holderRef,y=t.visible,b=t.forceRender,_=t.width,w=t.height,x=t.classNames,S=t.styles,k=O.a.useContext(Qr).panel,E=Lr(m,k),I=Object(M.useRef)(),j=Object(M.useRef)(),A=Object(M.useRef)();O.a.useImperativeHandle(e,(function(){return{focus:function(){var t;null===(t=A.current)||void 0===t||t.focus()},changeActive:function(t){var e=document.activeElement;t&&e===j.current?I.current.focus():t||e!==I.current||j.current.focus()}}}));var T,D,P={};void 0!==_&&(P.width=_),void 0!==w&&(P.height=w),s&&(T=O.a.createElement("div",{className:C()("".concat(n,"-footer"),null===x||void 0===x?void 0:x.footer),style:Object(Gn.a)({},null===S||void 0===S?void 0:S.footer)},s)),o&&(D=O.a.createElement("div",{className:C()("".concat(n,"-header"),null===x||void 0===x?void 0:x.header),style:Object(Gn.a)({},null===S||void 0===S?void 0:S.header)},O.a.createElement("div",{className:"".concat(n,"-title"),id:a},o)));var L,N=Object(M.useMemo)((function(){return"object"===Object(Kn.a)(c)&&null!==c?c:c?{closeIcon:null!==u&&void 0!==u?u:O.a.createElement("span",{className:"".concat(n,"-close-x")})}:{}}),[c,u]),R=ir(N,!0);c&&(L=O.a.createElement("button",Object(Nn.a)({type:"button",onClick:l,"aria-label":"Close"},R,{className:"".concat(n,"-close")}),N.closeIcon));var B=O.a.createElement("div",{className:C()("".concat(n,"-content"),null===x||void 0===x?void 0:x.content),style:null===S||void 0===S?void 0:S.content},L,D,O.a.createElement("div",Object(Nn.a)({className:C()("".concat(n,"-body"),null===x||void 0===x?void 0:x.body),style:Object(Gn.a)(Object(Gn.a)({},h),null===S||void 0===S?void 0:S.body)},d),f),T);return O.a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?a:null,"aria-modal":"true",ref:E,style:Object(Gn.a)(Object(Gn.a)({},i),P),className:C()(n,r),onMouseDown:v,onMouseUp:g},O.a.createElement("div",{tabIndex:0,ref:I,style:Vi,"aria-hidden":"true"}),O.a.createElement("div",{ref:A,tabIndex:-1,style:Gi},O.a.createElement(Yi,{shouldUpdate:y||b},p?p(B):B)),O.a.createElement("div",{tabIndex:0,ref:j,style:Vi,"aria-hidden":"true"}))})),Ki=M.forwardRef((function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,a=t.visible,s=t.forceRender,c=t.destroyOnClose,u=t.motionName,l=t.ariaId,f=t.onVisibleChanged,h=t.mousePosition,d=Object(M.useRef)(),p=kr(M.useState(),2),v=p[0],g=p[1],m={};function y(){var t=function(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=oi(i),n.top+=oi(i,!0),n}(d.current);g(h?"".concat(h.x-t.left,"px ").concat(h.y-t.top,"px"):"")}return v&&(m.transformOrigin=v),M.createElement(Wi,{visible:a,onVisibleChanged:f,onAppearPrepare:y,onEnterPrepare:y,forceRender:s,motionName:u,removeOnLeave:c,ref:d},(function(a,s){var c=a.className,u=a.style;return M.createElement(Xi,Object(Nn.a)({},t,{ref:e,title:r,ariaId:l,prefixCls:n,holderRef:s,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({},u),i),m),className:C()(o,c)}))}))}));Ki.displayName="Content";var Zi=Ki;function qi(t){var e=t.prefixCls,n=t.style,r=t.visible,i=t.maskProps,o=t.motionName,a=t.className;return M.createElement(Wi,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(e,"-mask-hidden")},(function(t,r){var o=t.className,s=t.style;return M.createElement("div",Object(Nn.a)({ref:r,style:Object(Gn.a)(Object(Gn.a)({},s),n),className:C()("".concat(e,"-mask"),o,a)},i))}))}function Qi(t){var e=t.prefixCls,n=void 0===e?"rc-dialog":e,r=t.zIndex,i=t.visible,o=void 0!==i&&i,a=t.keyboard,s=void 0===a||a,c=t.focusTriggerAfterClose,u=void 0===c||c,l=t.wrapStyle,f=t.wrapClassName,h=t.wrapProps,d=t.onClose,p=t.afterOpenChange,v=t.afterClose,g=t.transitionName,m=t.animation,y=t.closable,b=void 0===y||y,_=t.mask,w=void 0===_||_,x=t.maskTransitionName,S=t.maskAnimation,O=t.maskClosable,k=void 0===O||O,E=t.maskStyle,I=t.maskProps,j=t.rootClassName,A=t.classNames,T=t.styles;var D=Object(M.useRef)(),P=Object(M.useRef)(),L=Object(M.useRef)(),N=kr(M.useState(o),2),R=N[0],B=N[1],z=ei();function F(t){null===d||void 0===d||d(t)}var H=Object(M.useRef)(!1),U=Object(M.useRef)(),W=null;return k&&(W=function(t){H.current?H.current=!1:P.current===t.target&&F(t)}),Object(M.useEffect)((function(){o&&(B(!0),Object(Jr.a)(P.current,document.activeElement)||(D.current=document.activeElement))}),[o]),Object(M.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]),M.createElement("div",Object(Nn.a)({className:C()("".concat(n,"-root"),j)},ir(t,{data:!0})),M.createElement(qi,{prefixCls:n,visible:w&&o,motionName:ii(n,x,S),style:Object(Gn.a)(Object(Gn.a)({zIndex:r},E),null===T||void 0===T?void 0:T.mask),maskProps:I,className:null===A||void 0===A?void 0:A.mask}),M.createElement("div",Object(Nn.a)({tabIndex:-1,onKeyDown:function(t){if(s&&t.keyCode===ri.ESC)return t.stopPropagation(),void F(t);o&&t.keyCode===ri.TAB&&L.current.changeActive(!t.shiftKey)},className:C()("".concat(n,"-wrap"),f,null===A||void 0===A?void 0:A.wrapper),ref:P,onClick:W,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({zIndex:r},l),null===T||void 0===T?void 0:T.wrapper),{},{display:R?null:"none"})},h),M.createElement(Zi,Object(Nn.a)({},t,{onMouseDown:function(){clearTimeout(U.current),H.current=!0},onMouseUp:function(){U.current=setTimeout((function(){H.current=!1}))},ref:L,closable:b,ariaId:z,prefixCls:n,visible:o&&R,onClose:F,onVisibleChanged:function(t){if(t)!function(){var t;Object(Jr.a)(P.current,document.activeElement)||null===(t=L.current)||void 0===t||t.focus()}();else{if(B(!1),w&&D.current&&u){try{D.current.focus({preventScroll:!0})}catch(e){}D.current=null}R&&(null===v||void 0===v||v())}null===p||void 0===p||p(t)},motionName:ii(n,g,m)}))))}var Ji=function(t){var e=t.visible,n=t.getContainer,r=t.forceRender,i=t.destroyOnClose,o=void 0!==i&&i,a=t.afterClose,s=t.panelRef,c=kr(M.useState(e),2),u=c[0],l=c[1],f=M.useMemo((function(){return{panel:s}}),[s]);return M.useEffect((function(){e&&l(!0)}),[e]),r||!o||u?M.createElement(Qr.Provider,{value:f},M.createElement(qr,{open:e||r||u,autoDestroy:!1,getContainer:n,autoLock:e||u},M.createElement(Qi,Object(Nn.a)({},t,{destroyOnClose:o,afterClose:function(){null===a||void 0===a||a(),l(!1)}})))):null};Ji.displayName="Dialog";var $i=Ji,to=n(1307),eo=n.n(to);n(1308);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(){ro=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:M(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(j([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==no(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function M(e,n,r){var i=h;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(no(e)+" is not iterable")}return m.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function io(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function oo(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){io(o,r,i,a,s,"next",t)}function s(t){io(o,r,i,a,s,"throw",t)}a(void 0)}))}}function ao(){return(ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function so(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,co(t,e)}function co(t,e){return(co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function uo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lo=["body","headers","method"],fo=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",ho=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},po=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(ho(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=jn(window,"Toolkits.onGetLrsHeader");r&&r((function(t){ho(t)&&localStorage.setItem("lrs_headers",t)}))}return t},vo=function(t,e){var n=e.body,r=void 0===n?void 0:n,i=e.headers,o=void 0===i?{}:i,a=e.method,s=void 0===a?"GET":a,c=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,lo);return xr()(t,ao({headers:ao({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},o,po()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))};function go(t,e,n){var r;return r=n&&n["Content-Type"]&&"application/x-www-form-urlencoded"===n["Content-Type"]?Cr.a.stringify(e):JSON.stringify(e),vo(t,{method:"POST",body:r,headers:n})}var mo=function(t,e,n){var r=t.getCurrentContent(),i=t.getSelection(),o=I.Modifier.splitBlock(r,i),a=o.getSelectionAfter(),s=I.Modifier.setBlockType(o,a,"atomic"),c={key:Object(I.genKey)(),type:"atomic",text:" ",data:Object(Ln.Map)({type:"AUDIO",data:{quote_id:n.id}})},u={key:Object(I.genKey)(),type:"unstyled"},l=[new I.ContentBlock(c),new I.ContentBlock(u)],f=I.BlockMapBuilder.createFromArray(l),h=I.Modifier.replaceWithFragment(s,a,f),d=h.merge({selectionBefore:i,selectionAfter:h.getSelectionAfter().set("hasFocus",!0)});return I.EditorState.push(t,d,"insert-fragment")},yo=function(t,e,n){var r=t.getCurrentContent(),i=t.getSelection(),o=I.Modifier.splitBlock(r,i),a=o.getSelectionAfter(),s=I.Modifier.setBlockType(o,a,"atomic"),c={key:Object(I.genKey)(),type:"atomic",text:" ",data:Object(Ln.Map)({type:"DISK",data:{name:n.filename,quote_id:n.id,uploading:!1}})},u={key:Object(I.genKey)(),type:"unstyled"},l=[new I.ContentBlock(c),new I.ContentBlock(u)],f=I.BlockMapBuilder.createFromArray(l),h=I.Modifier.replaceWithFragment(s,a,f),d=h.merge({selectionBefore:i,selectionAfter:h.getSelectionAfter().set("hasFocus",!0)});return I.EditorState.push(t,d,"insert-fragment")},bo=function(t,e){var n=t.getCurrentContent(),r=t.getSelection(),i=I.Modifier.splitBlock(n,r),o=i.getSelectionAfter(),a=I.Modifier.setBlockType(i,o,"atomic"),s={key:Object(I.genKey)(),type:"atomic",text:"",data:Object(Ln.Map)({type:"IMAGE",src:e})},c={key:Object(I.genKey)(),type:"unstyled"},u=[new I.ContentBlock(s),new I.ContentBlock(c)],l=I.BlockMapBuilder.createFromArray(u),f=I.Modifier.replaceWithFragment(a,o,l),h=f.merge({selectionBefore:r,selectionAfter:f.getSelectionAfter().set("hasFocus",!0)});return I.EditorState.push(t,h,"insert-fragment")},_o=function(t,e){var n=t.getCurrentContent().createEntity("UploadPlaceholder","IMMUTABLE",{name:e,progress:"0%"}).getLastCreatedEntityKey(),r=I.AtomicBlockUtils.insertAtomicBlock(t,n," "),i=I.EditorState.forceSelection(r,r.getCurrentContent().getSelectionAfter()),o=r.getCurrentContent().getBlocksAsArray().find((function(t){return"atomic"===t.getType()&&t.getEntityAt(0)===n}));return{state:i,blockKey:null==o?void 0:o.getKey(),key:n,text:e}},wo=function(t,e){var n=e.id,r=e.videoId,i=t.getCurrentContent(),o=t.getSelection(),a=I.Modifier.splitBlock(i,o),s=a.getSelectionAfter(),c=I.Modifier.setBlockType(a,s,"atomic"),u={key:Object(I.genKey)(),type:"atomic",text:" ",data:Object(Ln.Map)({type:"VIDEO",data:{id:n,video_id:r}})},l={key:Object(I.genKey)(),type:"unstyled"},f=[new I.ContentBlock(u),new I.ContentBlock(l)],h=I.BlockMapBuilder.createFromArray(f),d=I.Modifier.replaceWithFragment(c,s,h),p=d.merge({selectionBefore:o,selectionAfter:d.getSelectionAfter().set("hasFocus",!0)});return I.EditorState.push(t,p,"insert-fragment")};function xo(t,e,n){return t.getCurrentContent().mergeEntityData(e,n),I.EditorState.forceSelection(t,t.getCurrentContent().getSelectionAfter())}function So(t,e){var n=t.getCurrentContent(),r=n.getBlockForKey(e),i=new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:r.getLength()}),o=I.Modifier.removeRange(n,i,"backward"),a=I.Modifier.setBlockType(o,o.getSelectionAfter(),"unstyled"),s=I.EditorState.push(t,a,"remove-range");return I.EditorState.forceSelection(s,a.getSelectionAfter())}var Co=new Set(["webm","mp3","wma","wav","aac","ra","m4a","m4r","flac","ape","ac3","amr","caf","acm"]),Mo=new Set(["image/bmp","image/gif","image/jpg","image/jpeg","image/png","image/ico","image/x-icon"]),Oo=new Set(["3gp","asf","avi","flv","f4v","m2t","m3u8","m4v","mj2","mjpeg","mkv","mov","mp4","mpe","mpg","mpeg","mts","qt","rm","rmvb","swf","ts","vob","wmv"]),ko=new Set(["audio/x-m4a"]),Eo=new Set(["jpg","jpeg","bmp","gif","png"]),Io=new Set(["video/mp4"]);function jo(t){return t.split(".").pop().toLowerCase()}function Ao(t,e){var n=jo(t);return ko.has(e)||Co.has(n)||String(e).startsWith("audio")}function To(t,e){var n=jo(t);return Mo.has(e)||Eo.has(n)}function Do(t,e){var n=jo(t);return Io.has(e)||Oo.has(n)}function Po(t){return Lo.apply(this,arguments)}function Lo(){return(Lo=oo(ro().mark((function t(e){var n,r,i,o,a;return ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(100,n=10240,r={canUpload:!0,isVideo:Do(e.name,e.type),isImage:To(e.name,e.type),resMsg:"",uploadAuth:null},i=e.size/1024/1024,r.isVideo||!(i>=100)){t.next=8;break}return r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u4e3a100MB",t.abrupt("return",r);case 8:if(r.isVideo){t.next=14;break}return o={uploadId:e.uid,filename:e.name,file_size:e.size},t.next=12,go(fo+"/disk/files",o);case 12:(a=t.sent).success?r.uploadAuth=In(a.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"]):3003258===a.code?(r.canUpload=!1,r.resMsg="\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236"):70006===a.code?(r.canUpload=!1,r.resMsg="\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5df2\u8d85\u4e0a\u96501.0GB\uff0c\u8bf7\u5220\u9664\u65e0\u7528\u6587\u4ef6"):70007===a.code?(r.canUpload=!1,r.resMsg="\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5df2\u8d85\u4e0a\u9650100.0MB\uff0c\u8bf7\u5220\u9664\u65e0\u7528\u89c6\u9891\u6587\u4ef6"):(r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u5931\u8d25-"+a.message);case 14:if(!(r.isVideo&&i>=n)){t.next=18;break}return r.canUpload=!1,r.resMsg="\u4e0a\u4f20\u89c6\u9891\u6587\u4ef6\u5927\u5c0f\u9650\u5236\u4e3a"+n+"MB",t.abrupt("return",r);case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var No=function(t){function e(e){var n;(n=t.call(this,e)||this).uploadProps={action:(null==_r?void 0:_r.oss)||Object({NODE_ENV:"production"}).REACT_APP_OSSURL||"http://all-for-test.oss-cn-shanghai.aliyuncs.com",multiple:!1,onStart:function(t){var e=n.props,r=e.getEditorState,i=e.setEditorState,o=n.state.placeholderBlocks,a=_o(r(),t.name),s=a.state,c=a.key,u=a.text,l=a.blockKey,f=void 0===l?"":l,h=o.set(t.uid,{state:s,key:c,text:u,blockKey:f});n.setState({placeholderBlocks:h}),i(s)},onProgress:function(t,e){var r=n.props,i=r.getEditorState,o=r.setEditorState,a=n.state.placeholderBlocks.get(e.uid).key;o(xo(i(),a,{name:e.name,progress:Math.round(t.percent||0)+"%"}))},beforeUpload:function(t){return new Promise((function(e,r){var i=uo(n),o=n.props,a=o.getEditorState,s=o.setEditorState,c=o.store.getItem("getProps")(),u=c.onWarnMessage,l=c.ignoreVideo;Po(t).then((function(n){if(n.canUpload||(u&&u(n.resMsg),r(t)),Do(t.name,t.type)){if(l)return u&&u("\u4e0d\u652f\u6301\u4e0a\u4f20\u89c6\u9891\u8d44\u6e90"),r(t);var o=new window.AliyunUpload.Vod({userId:"1076296013722791",region:"cn-shanghai",partSize:1048576,parallel:5,retryCount:3,retryDuration:2,onUploadstarted:function(e){return oo(ro().mark((function n(){var r,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x,S,C,M;return ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.videoId){n.next=7;break}return n.next=3,go(fo+"/vod/video/auth",{title:Pn()().format("YYYY-MM-DD-HH-mm-ss")+"_"+e.file.name,file_name:t.name,file_size:e.file.size});case 3:(r=n.sent).success&&(c=r.data,u=c.upload_address,l=c.upload_auth,f=c.video_id,h=c.quote_id,o.quote_id=h,o.setUploadAuthAndAddress(e,l,u,f)),n.next=11;break;case 7:return n.next=9,go(fo+"/vod/video/auth/refresh",{video_id:e.videoId});case 9:(d=n.sent).success&&(p=d.data,v=p.upload_address,g=p.upload_auth,m=p.video_id,o.setUploadAuthAndAddress(e,g,v,m));case 11:y=i.state.placeholderBlocks,b=_o(a(),t.name),_=b.state,w=b.key,x=b.text,S=b.blockKey,C=void 0===S?"":S,M=y.set(t.uid,{state:_,key:w,text:x,blockKey:C}),i.setState({placeholderBlocks:M}),s(_);case 16:case"end":return n.stop()}}),n)})))()},onUploadSucceed:function(e){var n=i.state.placeholderBlocks.get(t.uid).blockKey;s(So(a(),n)),s(wo(a(),ao({},e,{id:o.quote_id})))},onUploadProgress:function(e,n,r){var o=i.state.placeholderBlocks.get(t.uid).key;s(xo(a(),o,{name:t.name,progress:Math.round(100*r)+"%"}))}});o.addFile(t,null,null,null,'{"Vod":{}}'),o.startUpload(),r(t)}else To(t.name,t.type)?new Tn.a(t,{quality:.5,maxWidth:4e3,maxHeight:4e3,success:function(t){e(t)}}):e(t)}))}))},onSuccess:function(t,e){var r=n.props,i=r.getEditorState,o=r.setEditorState,a=n.state.placeholderBlocks.get(e.uid).blockKey,s=t.data;o(So(i(),a)),Ao(e.name,e.type)?o(mo(i(),s.id,ao({},s))):To(e.name,e.type)?o(bo(i(),fo+"/cloud/file_access/"+s.id)):o(yo(i(),s.id,ao({},s)))},data:function(t){var e={uploadId:t.uid,filename:t.name,file_size:t.size};return go(fo+"/disk/files",e).then((function(t){return In(t.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"])})).then((function(e){var n=function(t){switch(t.split(".").pop().toLowerCase()){case"doc":case"dot":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"dotx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.template";case"dotm":return"application/vnd.ms-word.template.macroEnabled.12";case"ppt":case"pot":case"pps":return"application/vnd.ms-powerpoint";case"potm":return"application/vnd.ms-powerpoint.template.macroEnabled.12";case"ppsm":return"application/vnd.ms-powerpoint.slideshow.macroEnabled.12";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"potx":return"application/vnd.openxmlformats-officedocument.presentationml.template";case"ppsx":return"application/vnd.openxmlformats-officedocument.presentationml.slideshow";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xlsb":return"application/vnd.ms-excel.sheet.binary.macroEnabled.12";case"xlsm":return"application/vnd.ms-excel.sheet.macroEnabled.12";case"ape":return"audio/ape";case"m4r":return"audio/x-m4r";case"amr":return"audio/amr";case"ogg":return"audio/ogg";default:return null}}(t.name);return n&&sn(e,"x-oss-content-type",n),e}))}};var r=e.store.getItem("getReadOnly");return n.state={placeholderBlocks:Object(Ln.Map)(),disabled:r()},n}return so(e,t),e.prototype.render=function(){var t=this.props.theme,e=this.state.disabled;return O.a.createElement(yr,ao({},this.uploadProps,{className:t.buttonWrapper,disabled:e}),O.a.createElement("button",{type:"button",className:t.button},O.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"},O.a.createElement("path",{d:"M780.8 198.4c-96-96-249.6-96-339.2 0l-262.4 256v12.8l38.4 38.4c0 6.4 6.4 6.4 6.4 0l262.4-262.4c32-32 76.8-51.2 121.6-51.2a174.848 174.848 0 0 1 172.8 172.8c0 44.8-19.2 89.6-51.2 121.6l-268.8 268.8-44.8 44.8c-38.4 38.4-108.8 38.4-147.2 0-19.2-19.2-32-44.8-32-70.4 0-25.6 12.8-51.2 32-70.4l262.4-262.4c12.8-12.8 25.6-19.2 32-19.2 6.4 0 19.2 6.4 25.6 12.8 6.4 6.4 12.8 12.8 12.8 25.6 0 6.4-6.4 19.2-12.8 25.6l-217.6 217.6v12.8l38.4 32h12.8L640 486.4c19.2-19.2 32-44.8 32-76.8 0-25.6-12.8-57.6-32-76.8-38.4-38.4-108.8-38.4-147.2 0l-32 32-236.8 236.8c-32 32-51.2 76.8-51.2 121.6s19.2 89.6 51.2 121.6c32 38.4 76.8 51.2 121.6 51.2s89.6-19.2 121.6-51.2l307.2-307.2c44.8-44.8 70.4-108.8 70.4-172.8 6.4-64-19.2-121.6-64-166.4z"}))))},e}(M.Component);function Ro(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function Bo(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append(e+"[]",t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot "+t.method+" "+t.action+" "+e.status+"'",r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),Ro(e)):t.onSuccess(Ro(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}function zo(){return(zo=oo(ro().mark((function t(e){var n,r,i,o,a,s,c,u,l,f,h,d,p,v,g;return ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.action,r=e.file,i=e.filename,o=e.data,a=e.headers,s=e.method,c=e.withCredentials,u=e.onStart,l=e.beforeUpload,f=e.onProgress,h=e.onSuccess,d=e.onError,p=r,!l){t.next=12;break}return t.prev=3,t.next=6,l(r);case 6:p=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),p=!1;case 12:if(!1!==p){t.next=14;break}return t.abrupt("return");case 14:if("function"!==typeof o){t.next=20;break}return t.next=17,o(r);case 17:v=t.sent,t.next=21;break;case 20:v=o;case 21:g={action:n,filename:i||"file",data:v,file:r,headers:a||{},withCredentials:c||!1,method:s||"post",onProgress:function(t){null==f||f(t,r)},onSuccess:function(t,e){null==h||h(t,r,e)},onError:function(t,e){null==d||d(t,e,r)}},null==u||u(r),Bo(g);case 24:case"end":return t.stop()}}),t,null,[[3,9]])})))).apply(this,arguments)}function Fo(t,e,n){var r;(function(t){return zo.apply(this,arguments)})({action:(null==_r?void 0:_r.oss)||Object({NODE_ENV:"production"}).REACT_APP_OSSURL||"http://all-for-test.oss-cn-shanghai.aliyuncs.com",file:t[0],method:"POST",onStart:function(t){var n=e.getEditorState,i=e.setEditorState,o=_o(n(),t.name),a=o.state,s=o.key,c=o.text,u=o.blockKey;r={state:a,key:s,text:c,blockKey:void 0===u?"":u},i(a)},onProgress:function(t,n){var i=e.getEditorState,o=e.setEditorState,a=r.key;o(xo(i(),a,{name:n.name,progress:Math.round(t.percent||0)+"%"}))},beforeUpload:function(t){return new Promise((function(n,i){var o=e.getEditorState,a=e.setEditorState,s=(0,e.getProps)(),c=s.onWarnMessage,u=s.ignoreVideo;Po(t).then((function(e){if(!e.canUpload)return c&&c(e.resMsg),i(t);if(Do(t.name,t.type)){if(u)return c&&c("\u4e0d\u652f\u6301\u4e0a\u4f20\u89c6\u9891\u8d44\u6e90"),i(t);var s=new window.AliyunUpload.Vod({userId:"1076296013722791",region:"cn-shanghai",partSize:1048576,parallel:5,retryCount:3,retryDuration:2,onUploadstarted:function(e){return oo(ro().mark((function n(){var i,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x;return ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.videoId){n.next=7;break}return n.next=3,go(fo+"/vod/video/auth",{title:Pn()().format("YYYY-MM-DD-HH-mm-ss")+"_"+e.file.name,file_name:t.name});case 3:(i=n.sent).success&&(c=i.data,u=c.upload_address,l=c.upload_auth,f=c.video_id,h=c.quote_id,s.quote_id=h,s.setUploadAuthAndAddress(e,l,u,f)),n.next=11;break;case 7:return n.next=9,go(fo+"/vod/video/auth/refresh",{video_id:e.videoId});case 9:(d=n.sent).success&&(p=d.data,v=p.upload_address,g=p.upload_auth,m=p.video_id,s.setUploadAuthAndAddress(e,g,v,m));case 11:y=_o(o(),t.name),b=y.state,_=y.key,w=y.text,x=y.blockKey,r={state:b,key:_,text:w,blockKey:void 0===x?"":x},a(b);case 14:case"end":return n.stop()}}),n)})))()},onUploadSucceed:function(t){var e=r.blockKey;a(So(o(),e)),a(wo(o(),t))},onUploadProgress:function(e,n,i){var s=r.key;a(xo(o(),s,{name:t.name,progress:Math.round(100*i)+"%"}))}});s.addFile(t,null,null,null,'{"Vod":{}}'),s.startUpload(),i(t)}else To(t.name,t.type)?new Tn.a(t,{quality:.5,maxWidth:4e3,maxHeight:4e3,success:function(t){n(t)}}):n(t)}))}))},onSuccess:function(t,i){var o=e.getEditorState,a=e.setEditorState,s=r.blockKey,c=t.data;a(So(o(),s)),Ao(i.name,i.type)?(a(mo(o(),c.id,ao({},c))),n&&n()):To(i.name,i.type)?(a(bo(o(),fo+"/cloud/file_access/"+c.id)),n&&n()):(a(yo(o(),c.id,ao({},c))),n&&n())},data:function(t){var e={uploadId:t.uid,filename:t.name,file_size:t.size};return go(fo+"/disk/files",e).then((function(t){return In(t.data.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"])}))}}).then()}var Ho=function(t){function e(e){var n;(n=t.call(this,e)||this).recOpen=function(t){var e=uo(n),r=eo()({type:"mp3",bitRate:32,sampleRate:32e3,onProcess:function(t,n,r,i){e.wave.input(t[t.length-1],n,i)}});r.open((function(){e.rec=r,n.setState({error:null},(function(){e.wave=eo.a.WaveSurferView({elem:".ctrlProcessWave",direction:-1}),t&&t()}))}),(function(t,e){e&&n.setState({error:O.a.createElement("p",null,"\u4e3a\u6b63\u5e38\u4f7f\u7528\u8be5\u529f\u80fd\uff0c",O.a.createElement("br",null),"\u8bf7\u524d\u5f80\u7cfb\u7edf",O.a.createElement("a",{onClick:function(){var t=jn(window,"Toolkits.onOpenSystemSetting");t&&t()}},"\u8bbe\u7f6e"),"\u4e2d\u5141\u8bb8")})}))},n.recStart=function(){n.rec.start()},n.recStop=function(){var t=uo(n);t.rec.stop((function(e){var r=new File([e],"audio_rec_"+Pn()().format("YYYYMMDD_HHmmss")+".mp3",{type:e.type});n.setState({visibleOk:!0,recordFile:r}),t.rec.close(),t.rec=null}),(function(e){console.log("\u5f55\u97f3\u5931\u8d25:"+e),t.rec.close(),t.rec=null}))},n.start=function(){var t=uo(n);n.recOpen((function(){console.log("\u5f55\u97f3\u521d\u59cb\u5316\u6210\u529f\uff01"),n.recStart(),n.setState({touchState:!0}),t.timeInterval||(t.timeInterval=setInterval((function(){n.state.recordLength>599&&n.stop(),n.setState({recordLength:n.state.recordLength+1})}),1e3))}))},n.stop=function(){n.state.recordLength>0?(n.recStop(),n.setState({touchState:!1,recordLength:0,visibleOk:!0,visibleDialog:!1})):n.setState({error:O.a.createElement("p",null,"\u8bf4\u8bdd\u65f6\u95f4\u592a\u77ed\uff0c\u957f\u6309\u8fdb\u884c\u5f55\u97f3"),touchState:!1,recordLength:0}),n.timeInterval&&(clearInterval(n.timeInterval),n.timeInterval=0)},n.onClose=function(){n.timeInterval&&(clearInterval(n.timeInterval),n.timeInterval=0),n.setState({visibleDialog:!1,visibleOk:!1,touchState:!1,recordLength:0})},n.setDialogVisible=function(){var t=n.state.visibleDialog,e=jn(window,"Toolkits.onCheckMicroPhonePermission");e&&e((function(e){"true"===e&&n.setState({visibleDialog:!t})}))},n.convertMinuteToString=function(t){if("number"===typeof t&&!Number.isNaN(t)){var e=t%60;return Math.floor(t/60).toString().padStart(2,"0")+":"+e.toString().padStart(2,"0")}return"00:00"},n.uploadFile=function(){var t=n.state.recordFile,e=n.props.store,r=e.getItem("getProps"),i=e.getItem("getEditorState"),o=e.getItem("setEditorState");t&&Fo([t],{getProps:r,getEditorState:i,setEditorState:o}),n.setState({visibleOk:!1})};var r=e.store.getItem("getReadOnly");return n.state={disabled:r(),touchState:!1,visibleDialog:!1,visibleOk:!1,recordLength:0,error:null,recordFile:null},n}return so(e,t),e.prototype.render=function(){var t=this.props.theme,e=this.state,n=e.disabled,r=e.touchState,i=e.visibleDialog,o=e.visibleOk,a=e.error,s=e.recordLength,c=$(t.button),u=600-s<10;return O.a.createElement("div",{className:t.buttonWrapper},O.a.createElement("button",{className:c,disabled:n,type:"button",onClick:this.setDialogVisible},O.a.createElement("svg",{viewBox:"0 0 1024 1024","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",fill:"currentColor"},O.a.createElement("path",{d:"M844.8 454.4c0-6.4-6.4-6.4-12.8-6.4h-57.6c-6.4 0-6.4 0-6.4 6.4 0 140.8-115.2 256-256 256s-256-115.2-256-256C256 448 256 448 249.6 448H192c-6.4 0-12.8 0-12.8 6.4 0 166.4 128 307.2 288 326.4v102.4H326.4c-12.8 0-25.6 12.8-25.6 32v38.4c0 6.4 0 6.4 6.4 6.4h409.6c6.4 0 6.4-6.4 6.4-6.4v-38.4c0-19.2-12.8-32-25.6-32H550.4v-102.4c160-19.2 294.4-153.6 294.4-326.4zM512 627.2c96 0 172.8-76.8 172.8-166.4V230.4C684.8 140.8 608 64 512 64S339.2 140.8 339.2 230.4v224c0 96 76.8 172.8 172.8 172.8zM416 230.4c0-51.2 44.8-89.6 96-89.6s96 38.4 96 89.6v224c0 51.2-44.8 89.6-96 89.6s-96-38.4-96-89.6V230.4z",fill:"currentColor"}))),O.a.createElement($i,{className:t["record-audio-dialog"],title:"\u5f55\u5236\u97f3\u9891",visible:i,onClose:this.onClose,maskClosable:!1,destroyOnClose:!0},!a&&O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{style:{width:"100%",height:60,margin:"4px 0"},className:"ctrlProcessWave"}),O.a.createElement("p",{style:{textAlign:"center"},className:"text"},O.a.createElement("span",{className:u?"alert":void 0},this.convertMinuteToString(s)),O.a.createElement("span",null," / "),O.a.createElement("span",null,this.convertMinuteToString(600)))),a&&O.a.createElement("div",{className:"text"},a),O.a.createElement("div",{style:{position:"absolute",bottom:16,width:250}},O.a.createElement("div",{className:r?"img-ly2":"img-ly1",onTouchStart:this.start,onTouchEnd:this.stop}),O.a.createElement("div",{className:"text"},"\u957f\u6309\u5f55\u97f3"))),O.a.createElement($i,{className:t["record-audio-ok"],closable:!1,visible:o},O.a.createElement("div",{className:"message"},"\u5f55\u97f3\u5b8c\u6210\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u4e0a\u4f20"),O.a.createElement("div",{className:"footer"},O.a.createElement("div",{onClick:this.onClose},"\u53d6\u6d88"),O.a.createElement("div",{onClick:this.uploadFile},"\u786e\u5b9a"))))},e}(M.Component);function Uo(t){var e=t.blockProps,n=t.block;return O.a.createElement("span",{contentEditable:!1,"data-offset-key":n.get("key")+"-0-0"},"![\u4e0a\u4f20\u4e2d ",e.name,"...](",e.progress,")")}var Wo={"record-audio-dialog":"rc412vq","record-audio-ok":"r1lox9kq"};var Yo=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),i?oe(n,s,c):ce(n,s,c)}return n};var Vo=function(t,e){return En(Sn(t,e,Mn),t+"")},Go=n(1185);function Xo(t){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ko=function(t,e,n){if(!Object(Gt.a)(n))return!1;var r=Xo(e);return!!("number"==r?Object(Go.a)(n)&&Object(rn.a)(e,n.length):"string"==r&&e in n)&&ae(n[e],t)};var Zo=function(t){return Vo((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Ko(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))},qo=n(1205),Qo=n(1189),Jo=Object.prototype.hasOwnProperty,$o=Zo((function(t,e){if(Object(qo.a)(e)||Object(Go.a)(e))Yo(e,Object(Qo.a)(e),t);else for(var n in e)Jo.call(e,n)&&ce(t,n,e[n])})),ta=n(1309),ea=n.n(ta),na=n(1275),ra=n.n(na);function ia(){return(ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function oa(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var aa=["body","headers","method"],sa=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},ca=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(sa(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=jn(window,"Toolkits.onGetLrsHeader");r&&r((function(t){sa(t)&&localStorage.setItem("lrs_headers",t)}))}return t},ua=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource";function la(t,e,n){var r=t;return e&&(r+="?"+Cr.a.stringify(e)),function(t,e){var n=e.body,r=void 0===n?void 0:n,i=e.headers,o=void 0===i?{}:i,a=e.method,s=void 0===a?"GET":a,c=oa(e,aa);return xr()(t,ia({headers:ia({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},o,ca()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))}(r,{method:"GET",headers:n})}var fa=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],ha={i:(null==_r?void 0:_r.i)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_I||29357,key:(null==_r?void 0:_r.key)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_KEY||59894985,iv:(null==_r?void 0:_r.iv)||Object({NODE_ENV:"production"}).REACT_APP_CRYPTO_IV||29393376},da=O.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection;var i=t.theme;t.tree;var o=oa(t,fa),a=$(i.audioWarp,r),s=Object(M.useRef)(null),c=Object(M.useState)(n.src)[0],u=Object(M.useState)(""),l=u[0],f=u[1],h=function t(){la(c).then((function(e){if(e.data.audio_transcode_url){var n,r=null!=(n=e.data)&&n.is_encryption?function(t){try{var e=ra.a.enc.Utf8.parse(ha.key),n=ra.a.enc.Utf8.parse(ha.iv),r=t.replace(/_/g,"+").replace(/\*/g,"/").replace(/-/g,"=");return ra.a.DES.decrypt({ciphertext:ra.a.enc.Base64.parse(r)},e,{iv:n,mode:ra.a.mode.CBC,padding:ra.a.pad.Pkcs7}).toString(ra.a.enc.Utf8)}catch(i){}return""}(e.data.audio_transcode_url):e.data.audio_transcode_url;f(r)}else setTimeout((function(){t()}),1e3)}))};Object(M.useEffect)((function(){h()}),[c]),Object(M.useEffect)((function(){s.current&&(s.current.audio.current.currentTime=window.draftAudio&&window.draftAudio[c]&&window.draftAudio[c].currentTime||0)}),[l]);var d=window.draftAudio&&window.draftAudio[c]&&window.draftAudio[c].playing;return O.a.createElement("div",ia({},o,{className:a,ref:e}),""===l?O.a.createElement("div",{className:"trans"},"\u97f3\u9891\u8f6c\u7801\u4e2d"):O.a.createElement(ea.a,{layout:"horizontal",src:l,ref:s,autoPlay:!!d,customControlsSection:[ta.RHAP_UI.MAIN_CONTROLS],customProgressBarSection:[ta.RHAP_UI.CURRENT_TIME],onListen:function(t){window.draftAudio||(window.draftAudio={}),window.draftAudio[c]=$o(window.draftAudio[c],{currentTime:t.target.currentTime})},onPause:function(t,e){"user"===e&&(window.draftAudio[c]=$o(window.draftAudio[c],{playing:!1}))},onPlay:function(){window.draftAudio||(window.draftAudio={}),window.draftAudio[c]=$o(window.draftAudio[c],{playing:!0})}}))})),pa={audioWarp:"at80t70"};function va(){return(va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ga=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],ma=new Set(["py","c","cpp","cs","css","go","html","js","sql","tex","ts","java","md","xml","json"]);var ya=O.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection;var i=t.theme;t.tree;var o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,ga),a=$(i.disk,r);return O.a.createElement("div",va({},o,{className:a,ref:e}),O.a.createElement("a",{href:"javascript:void(0)",onClick:function(t){if(t.stopPropagation(),function(t){var e=function(t){return null==t?void 0:t.split(".").pop().toLowerCase()}(t);return ma.has(e)}(n.filename)){var e=jn(window,"Toolkits.onShowCode");e&&e({quote_id:n.quote_id,name:n.filename,from:"rich"})}else{var r=jn(window,"Toolkits.onShowOffice");r&&r({quote_id:n.quote_id,name:n.filename,from:"rich"})}}},n.filename))})),ba={disk:"dqauwjr"},_a=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",wa=n(188);function xa(){return(xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Sa(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var Ca=["className","theme"],Ma=["block","blockProps","customStyleMap","customStyleFn","decorator","forceSelection","offsetKey","selection","tree","blockStyleFn","preventScroll","contentState"],Oa=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",ka=O.a.forwardRef((function(t,e){var n=t.className,r=t.theme,i=void 0===r?{}:r,o=Sa(t,Ca);o.block;var a=o.blockProps;o.customStyleMap,o.customStyleFn,o.decorator,o.forceSelection,o.offsetKey,o.selection,o.tree,o.blockStyleFn,o.preventScroll,o.contentState;var s=Sa(o,Ma),c=$(i.image,n),u=a.src,l=function(t){try{var e=new URL(t);if(e&&e.pathname){var n=Object(wa.d)(e.pathname,{path:"/:tab(api|cloud)/file_access/:quote_id",exact:!1,strict:!1});return jn(n,"params",{})}}catch(r){return{}}}(u).quote_id;return l&&(u=function(t){return Oa+"/cloud/file_access/"+t+"?random="+(new Date).getTime()}(l)),O.a.createElement("img",xa({},s,{ref:e,src:u,role:"presentation",className:c}))})),Ea={image:"i5nsq6m"};var Ia=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)},ja=/\s/;var Aa=function(t){for(var e=t.length;e--&&ja.test(t.charAt(e)););return e},Ta=/^\s+/;var Da=function(t){return t?t.slice(0,Aa(t)+1).replace(Ta,""):t},Pa=/^[-+]0x[0-9a-f]+$/i,La=/^0b[01]+$/i,Na=/^0o[0-7]+$/i,Ra=parseInt;var Ba=function(t){if("number"==typeof t)return t;if(le(t))return NaN;if(Object(Gt.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(Gt.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Da(t);var n=La.test(t);return n||Na.test(t)?Ra(t.slice(2),n?2:8):Pa.test(t)?NaN:+t},za=Vo((function(t,e,n){return Ia(t,Ba(e)||0,n)}));function Fa(){return(Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Ha=["className","theme"],Ua=O.a.forwardRef((function(t){var e=t.className,n=t.theme,r=void 0===n?{}:n,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Ha);i.block;var o=i.blockProps;i.customStyleMap,i.customStyleFn,i.decorator,i.forceSelection,i.offsetKey,i.selection,i.tree,i.blockStyleFn,i.preventScroll,i.contentState;var a=$(r.html,e),s=o.src,c=Object(M.useRef)(null),u=Object(M.useRef)(30),l=Object(M.useCallback)((function(){if(c.current){var t,e=(null==(t=c.current.contentDocument)?void 0:t.body.scrollHeight)||20;e+=10,u.current=e,c.current.style.height=e+"px"}}),[c]);return Object(M.useEffect)((function(){if(c.current&&s){var t,e=c.current.contentDocument||(null==(t=c.current.contentWindow)?void 0:t.document);null==e||e.open(),null==e||e.write(s),null==e||e.close()}za(l,1e3)}),[s,c.current,l]),O.a.createElement("iframe",{ref:c,style:{width:"100%",height:u.current,border:"1px solid #ccc"},className:a})})),Wa={html:"hw09yhk"};function Ya(){return(Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Va=["decoratedText","theme","target","rel","className","component","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState","blockKey","start","end"];function Ga(t){t.decoratedText;var e=t.theme,n=void 0===e?{}:e,r=t.target,i=void 0===r?"_self":r,o=t.rel,a=void 0===o?"noreferrer noopener":o,s=t.className,c=t.component;t.dir;var u=t.entityKey;t.getEditorState,t.offsetKey,t.setEditorState;var l=t.contentState;t.blockKey,t.start,t.end;var f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Va),h=$(null==n?void 0:n.link,s),d=l.getEntity(u).getData().url,p=Ya({},f,{href:d,target:i,rel:a,className:h,onClick:function(t){t.stopPropagation();var e=jn(window,"Toolkits.onOpenWebview");e&&e(d,"")},contentEditable:!1});return c?O.a.createElement(c,p):O.a.createElement("a",p)}var Xa=function(t,e,n){t.findEntityRanges((function(t){var e=t.getEntity();return null!==e&&"LINK"===n.getEntity(e).getType()}),e)},Ka={link:"l1pfrj03"},Za=n(1328);function qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return O.a.Children.forEach(t,(function(t){(void 0!==t&&null!==t||e.keepEmpty)&&(Array.isArray(t)?n=n.concat(qa(t)):Object(Ar.isFragment)(t)&&t.props?n=n.concat(qa(t.props.children,e)):n.push(t))})),n}var Qa=M.createContext(null);var Ja=n(1201),$a=new Map;var ts=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=$a.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var es=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(M.Component);function ns(t,e){var n=t.children,r=t.disabled,i=M.useRef(null),o=M.useRef(null),a=M.useContext(Qa),s="function"===typeof n,c=s?n(i):n,u=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&M.isValidElement(c)&&Nr(c),f=l?c.ref:null,h=Lr(f,i),d=function(){var t;return si(i.current)||(i.current&&"object"===Object(Kn.a)(i.current)?si(null===(t=i.current)||void 0===t?void 0:t.nativeElement):null)||si(o.current)};M.useImperativeHandle(e,(function(){return d()}));var p=M.useRef(t);p.current=t;var v=M.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,s=i.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(o),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(o)?o:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return M.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,$a.has(t)||($a.set(t,new Set),ts.observe(t)),$a.get(t).add(e)),function(){return function(t,e){$a.has(t)&&($a.get(t).delete(e),$a.get(t).size||(ts.unobserve(t),$a.delete(t)))}(n,v)}}),[i.current,r]),M.createElement(es,{ref:o},l?M.cloneElement(c,{ref:h}):c)}var rs=M.forwardRef(ns);function is(t,e){var n=t.children;return("function"===typeof n?[n]:qa(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return M.createElement(rs,Object(Nn.a)({},t,{key:i,ref:0===r?e:void 0}),n)}))}var os=M.forwardRef(is);os.Collection=function(t){var e=t.children,n=t.onBatchResize,r=M.useRef(0),i=M.useRef([]),o=M.useContext(Qa),a=M.useCallback((function(t,e,a){r.current+=1;var s=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return M.createElement(Qa.Provider,{value:a},e)};var as=os;function ss(t){var e=M.useRef();return e.current=t,M.useCallback((function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(t=e.current)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}),[])}function cs(t){return void 0!==t}function us(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=kr(li((function(){return cs(i)?i:cs(r)?"function"===typeof r?r():r:"function"===typeof t?t():t})),2),c=s[0],u=s[1],l=void 0!==i?i:c,f=a?a(l):l,h=ss(o),d=kr(li([l]),2),p=d[0],v=d[1];return Fr((function(){var t=p[0];c!==t&&h(c,t)}),[p]),Fr((function(){cs(i)||u(i)}),[i]),[f,ss((function(t,e){u(t,e),v([l],e)}))]}var ls,fs="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",hs=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ds={};function ps(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&ds[n])return ds[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=hs.map((function(t){return"".concat(t,":").concat(r.getPropertyValue(t))})).join(";"),c={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(ds[n]=c),c}var vs=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],gs=M.forwardRef((function(t,e){var n=t.prefixCls,r=void 0===n?"rc-textarea":n,i=(t.onPressEnter,t.defaultValue),o=t.value,a=t.autoSize,s=t.onResize,c=t.className,u=t.style,l=t.disabled,f=t.onChange,h=(t.onInternalAutoSize,Object(Xn.a)(t,vs)),d=kr(us(i,{value:o,postState:function(t){return null!==t&&void 0!==t?t:""}}),2),p=d[0],v=d[1],g=M.useRef();M.useImperativeHandle(e,(function(){return{textArea:g.current}}));var m=kr(M.useMemo((function(){return a&&"object"===Object(Kn.a)(a)?[a.minRows,a.maxRows]:[]}),[a]),2),y=m[0],b=m[1],_=!!a,w=kr(M.useState(2),2),x=w[0],S=w[1],O=kr(M.useState(),2),k=O[0],E=O[1],I=function(){S(0)};Hr((function(){_&&I()}),[o,y,b,_]),Hr((function(){if(0===x)S(1);else if(1===x){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ls||((ls=document.createElement("textarea")).setAttribute("tab-index","-1"),ls.setAttribute("aria-hidden","true"),document.body.appendChild(ls)),t.getAttribute("wrap")?ls.setAttribute("wrap",t.getAttribute("wrap")):ls.removeAttribute("wrap");var i=ps(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,c=i.sizingStyle;ls.setAttribute("style","".concat(c,";").concat(fs)),ls.value=t.value||t.placeholder||"";var u,l=void 0,f=void 0,h=ls.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=o),null!==n||null!==r){ls.value=" ";var d=ls.scrollHeight-o;null!==n&&(l=d*n,"border-box"===s&&(l=l+o+a),h=Math.max(l,h)),null!==r&&(f=d*r,"border-box"===s&&(f=f+o+a),u=h>f?"":"hidden",h=Math.min(f,h))}var p={height:h,overflowY:u,resize:"none"};return l&&(p.minHeight=l),f&&(p.maxHeight=f),p}(g.current,!1,y,b);S(2),E(t)}else!function(){try{if(document.activeElement===g.current){var t=g.current,e=t.selectionStart,n=t.selectionEnd,r=t.scrollTop;g.current.setSelectionRange(e,n),g.current.scrollTop=r}}catch(i){}}()}),[x]);var j=M.useRef(),A=function(){ji.cancel(j.current)};M.useEffect((function(){return A}),[]);var T=_?k:null,D=Object(Gn.a)(Object(Gn.a)({},u),T);return 0!==x&&1!==x||(D.overflowY="hidden",D.overflowX="hidden"),M.createElement(as,{onResize:function(t){2===x&&(null===s||void 0===s||s(t),a&&(A(),j.current=ji((function(){I()}))))},disabled:!(a||s)},M.createElement("textarea",Object(Nn.a)({},h,{ref:g,style:D,className:C()(r,c,Object(Vn.a)({},"".concat(r,"-disabled"),l)),disabled:l,value:p,onChange:function(t){v(t.target.value),null===f||void 0===f||f(t)}})))})),ms=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(t){var r;Object(Rn.a)(this,n),(r=e.call(this,t)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(t){r.resizableTextArea=t},r.handleChange=function(t){var e=r.props.onChange;r.setValue(t.target.value),e&&e(t)},r.handleKeyDown=function(t){var e=r.props,n=e.onPressEnter,i=e.onKeyDown;13===t.keyCode&&n&&n(t),i&&i(t)};var i="undefined"===typeof t.value||null===t.value?t.defaultValue:t.value;return r.state={value:i},r}return Object(Bn.a)(n,[{key:"setValue",value:function(t,e){"value"in this.props||this.setState({value:t},e)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return M.createElement(gs,Object(Nn.a)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}]),n}(M.Component);function ys(t,e,n,r){var i=Ir.a.unstable_batchedUpdates?function(t){Ir.a.unstable_batchedUpdates(n,t)}:n;return null!==t&&void 0!==t&&t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){null!==t&&void 0!==t&&t.removeEventListener&&t.removeEventListener(e,i,r)}}}var bs=Object(M.forwardRef)((function(t,e){var n=t.didUpdate,r=t.getContainer,i=t.children,o=Object(M.useRef)(),a=Object(M.useRef)();Object(M.useImperativeHandle)(e,(function(){return{}}));var s=Object(M.useRef)(!1);return!s.current&&Object(jr.a)()&&(a.current=r(),o.current=a.current.parentNode,s.current=!0),Object(M.useEffect)((function(){null===n||void 0===n||n(t)})),Object(M.useEffect)((function(){return null===a.current.parentNode&&null!==o.current&&o.current.appendChild(a.current),function(){var t;null===(t=a.current)||void 0===t||null===(t=t.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?Ir.a.createPortal(i,a.current):null}));function _s(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}var ws=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===t||void 0===t?void 0:t.substr(0,4))};function xs(t){var e=t.prefixCls,n=t.motion,r=t.animation,i=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:i?{motionName:i}:null)}function Ss(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,i=t.mask,o=t.maskMotion,a=t.maskAnimation,s=t.maskTransitionName;if(!i)return null;var c={};return(o||s||a)&&(c=Object(Gn.a)({motionAppear:!0},xs({motion:o,prefixCls:e,transitionName:s,animation:a}))),M.createElement(Wi,Object(Nn.a)({},c,{visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return M.createElement("div",{style:{zIndex:r},className:C()("".concat(e,"-mask"),n)})}))}var Cs=n(1271);var Ms=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;function i(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(Object(or.a)(!a,"Warning: There may be circular references"),a)return!1;if(t===e)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var c=0;c<t.length;c++)if(!i(t[c],e[c],s))return!1;return!0}if(t&&e&&"object"===Object(Kn.a)(t)&&"object"===Object(Kn.a)(e)){var u=Object.keys(t);return u.length===Object.keys(e).length&&u.every((function(n){return i(t[n],e[n],s)}))}return!1}return i(t,e)},Os=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1};function ks(t,e){var n=null,r=null;var i=new Ja.default((function(t){var i=kr(t,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,c=Math.floor(a),u=Math.floor(s);n===c&&r===u||Promise.resolve().then((function(){e({width:c,height:u})})),n=c,r=u}}));return t&&i.observe(t),function(){i.disconnect()}}function Es(t){return"function"!==typeof t?null:t()}function Is(t){return"object"===Object(Kn.a)(t)&&t?t:null}var js=function(t,e){var n=t.children,r=t.disabled,i=t.target,o=t.align,a=t.onAlign,s=t.monitorWindowResize,c=t.monitorBufferTime,u=void 0===c?0:c,l=O.a.useRef({}),f=O.a.useRef(),h=O.a.Children.only(n),d=O.a.useRef({});d.current.disabled=r,d.current.target=i,d.current.align=o,d.current.onAlign=a;var p=kr(function(t,e){var n=O.a.useRef(!1),r=O.a.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(i(),n.current&&!0!==a)r.current=window.setTimeout((function(){n.current=!1,o()}),e);else{if(!1===t(a))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),e)}},function(){n.current=!1,i()}]}((function(){var t=d.current,e=t.disabled,n=t.target,r=t.align,i=t.onAlign,o=f.current;if(!e&&n&&o){var a,s=Es(n),c=Is(n);l.current.element=s,l.current.point=c,l.current.align=r;var u=document.activeElement;return s&&Os(s)?a=Object(Cs.a)(o,s,r):c&&(a=Object(Cs.b)(o,c,r)),function(t,e){t!==document.activeElement&&Object(Jr.a)(e,t)&&"function"===typeof t.focus&&t.focus()}(u,o),i&&a&&i(o,a),!0}return!1}),u),2),v=p[0],g=p[1],m=kr(O.a.useState(),2),y=m[0],b=m[1],_=kr(O.a.useState(),2),w=_[0],x=_[1];return Hr((function(){b(Es(i)),x(Is(i))})),O.a.useEffect((function(){var t,e;l.current.element===y&&((t=l.current.point)===(e=w)||t&&e&&("pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e&&t.clientX===e.clientX&&t.clientY===e.clientY))&&Ms(l.current.align,o)||v()})),O.a.useEffect((function(){return ks(f.current,v)}),[f.current]),O.a.useEffect((function(){return ks(y,v)}),[y]),O.a.useEffect((function(){r?g():v()}),[r]),O.a.useEffect((function(){if(s)return ys(window,"resize",v).remove}),[s]),O.a.useEffect((function(){return function(){g()}}),[]),O.a.useImperativeHandle(e,(function(){return{forceAlign:function(){return v(!0)}}})),O.a.isValidElement(h)&&(h=O.a.cloneElement(h,{ref:Pr(h.ref,f)})),h},As=O.a.forwardRef(js);As.displayName="Align";var Ts=As,Ds=["measure","alignPre","align",null,"motion"],Ps=M.forwardRef((function(t,e){var n=t.visible,r=t.prefixCls,i=t.className,o=t.style,a=t.children,s=t.zIndex,c=t.stretch,u=t.destroyPopupOnHide,l=t.forceRender,f=t.align,h=t.point,d=t.getRootDomNode,p=t.getClassNameFromAlign,v=t.onAlign,g=t.onMouseEnter,m=t.onMouseLeave,y=t.onMouseDown,b=t.onTouchStart,_=t.onClick,w=Object(M.useRef)(),x=Object(M.useRef)(),S=kr(Object(M.useState)(),2),O=S[0],k=S[1],E=function(t){var e=kr(M.useState({width:0,height:0}),2),n=e[0],r=e[1];return[M.useMemo((function(){var e={};if(t){var r=n.width,i=n.height;-1!==t.indexOf("height")&&i?e.height=i:-1!==t.indexOf("minHeight")&&i&&(e.minHeight=i),-1!==t.indexOf("width")&&r?e.width=r:-1!==t.indexOf("minWidth")&&r&&(e.minWidth=r)}return e}),[t,n]),function(t){var e=t.offsetWidth,n=t.offsetHeight,i=t.getBoundingClientRect(),o=i.width,a=i.height;Math.abs(e-o)<1&&Math.abs(n-a)<1&&(e=o,n=a),r({width:e,height:n})}]}(c),I=kr(E,2),j=I[0],A=I[1];var T=function(t,e){var n=kr(li(null),2),r=n[0],i=n[1],o=Object(M.useRef)();function a(t){i(t,!0)}function s(){ji.cancel(o.current)}return Object(M.useEffect)((function(){a("measure")}),[t]),Object(M.useEffect)((function(){switch(r){case"measure":e()}r&&(o.current=ji(Qn(Zn().mark((function t(){var e,n;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Ds.indexOf(r),(n=Ds[e+1])&&-1!==e&&a(n);case 3:case"end":return t.stop()}}),t)})))))}),[r]),Object(M.useEffect)((function(){return function(){s()}}),[]),[r,function(t){s(),o.current=ji((function(){a((function(t){switch(r){case"align":return"motion";case"motion":return"stable"}return t})),null===t||void 0===t||t()}))}]}(n,(function(){c&&A(d())})),D=kr(T,2),P=D[0],L=D[1],N=kr(Object(M.useState)(0),2),R=N[0],B=N[1],z=Object(M.useRef)();function F(){var t;null===(t=w.current)||void 0===t||t.forceAlign()}function H(t,e){var n=p(e);O!==n&&k(n),B((function(t){return t+1})),"align"===P&&(null===v||void 0===v||v(t,e))}Hr((function(){"alignPre"===P&&B(0)}),[P]),Hr((function(){"align"===P&&(R<3?F():L((function(){var t;null===(t=z.current)||void 0===t||t.call(z)})))}),[R]);var U=Object(Gn.a)({},xs(t));function W(){return new Promise((function(t){z.current=t}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(t){var e=U[t];U[t]=function(t,n){return L(),null===e||void 0===e?void 0:e(t,n)}})),M.useEffect((function(){U.motionName||"motion"!==P||L()}),[U.motionName,P]),M.useImperativeHandle(e,(function(){return{forceAlign:F,getElement:function(){return x.current}}}));var Y=Object(Gn.a)(Object(Gn.a)({},j),{},{zIndex:s,opacity:"motion"!==P&&"stable"!==P&&n?0:void 0,pointerEvents:n||"stable"===P?void 0:"none"},o),V=!0;null===f||void 0===f||!f.points||"align"!==P&&"stable"!==P||(V=!1);var G=a;return M.Children.count(a)>1&&(G=M.createElement("div",{className:"".concat(r,"-content")},a)),M.createElement(Wi,Object(Nn.a)({visible:n,ref:x,leavedClassName:"".concat(r,"-hidden")},U,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:u,forceRender:l}),(function(t,e){var n=t.className,o=t.style,a=C()(r,i,O,n);return M.createElement(Ts,{target:h||d,key:"popup",ref:w,monitorWindowResize:!0,disabled:V,align:f,onAlign:H},M.createElement("div",{ref:e,className:a,onMouseEnter:g,onMouseLeave:m,onMouseDownCapture:y,onTouchStartCapture:b,onClick:_,style:Object(Gn.a)(Object(Gn.a)({},o),Y)},G))}))}));Ps.displayName="PopupInner";var Ls=Ps,Ns=M.forwardRef((function(t,e){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.children,a=t.mobile,s=(a=void 0===a?{}:a).popupClassName,c=a.popupStyle,u=a.popupMotion,l=void 0===u?{}:u,f=a.popupRender,h=t.onClick,d=M.useRef();M.useImperativeHandle(e,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var p=Object(Gn.a)({zIndex:i},c),v=o;return M.Children.count(o)>1&&(v=M.createElement("div",{className:"".concat(n,"-content")},o)),f&&(v=f(v)),M.createElement(Wi,Object(Nn.a)({visible:r,ref:d,removeOnLeave:!0},l),(function(t,e){var r=t.className,i=t.style,o=C()(n,s,r);return M.createElement("div",{ref:e,className:o,onClick:h,style:Object(Gn.a)(Object(Gn.a)({},i),p)},v)}))}));Ns.displayName="MobilePopupInner";var Rs=Ns,Bs=["visible","mobile"],zs=M.forwardRef((function(t,e){var n=t.visible,r=t.mobile,i=Object(Xn.a)(t,Bs),o=kr(Object(M.useState)(n),2),a=o[0],s=o[1],c=kr(Object(M.useState)(!1),2),u=c[0],l=c[1],f=Object(Gn.a)(Object(Gn.a)({},i),{},{visible:a});Object(M.useEffect)((function(){s(n),n&&r&&l(ws())}),[n,r]);var h=u?M.createElement(Rs,Object(Nn.a)({},f,{mobile:r,ref:e})):M.createElement(Ls,Object(Nn.a)({},f,{ref:e}));return M.createElement("div",null,M.createElement(Ss,f),h)}));zs.displayName="Popup";var Fs=zs,Hs=M.createContext(null);function Us(){}function Ws(){return""}function Ys(t){return t?t.ownerDocument:window.document}var Vs=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Gs=function(t){var e=function(e){Object(Fn.a)(r,e);var n=Yn(r);function r(t){var e,i;return Object(Rn.a)(this,r),e=n.call(this,t),Object(Vn.a)(Object(zn.a)(e),"popupRef",M.createRef()),Object(Vn.a)(Object(zn.a)(e),"triggerRef",M.createRef()),Object(Vn.a)(Object(zn.a)(e),"portalContainer",void 0),Object(Vn.a)(Object(zn.a)(e),"attachId",void 0),Object(Vn.a)(Object(zn.a)(e),"clickOutsideHandler",void 0),Object(Vn.a)(Object(zn.a)(e),"touchOutsideHandler",void 0),Object(Vn.a)(Object(zn.a)(e),"contextMenuOutsideHandler1",void 0),Object(Vn.a)(Object(zn.a)(e),"contextMenuOutsideHandler2",void 0),Object(Vn.a)(Object(zn.a)(e),"mouseDownTimeout",void 0),Object(Vn.a)(Object(zn.a)(e),"focusTime",void 0),Object(Vn.a)(Object(zn.a)(e),"preClickTime",void 0),Object(Vn.a)(Object(zn.a)(e),"preTouchTime",void 0),Object(Vn.a)(Object(zn.a)(e),"delayTimer",void 0),Object(Vn.a)(Object(zn.a)(e),"hasPopupMouseDown",void 0),Object(Vn.a)(Object(zn.a)(e),"onMouseEnter",(function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)})),Object(Vn.a)(Object(zn.a)(e),"onMouseMove",(function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)})),Object(Vn.a)(Object(zn.a)(e),"onMouseLeave",(function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)})),Object(Vn.a)(Object(zn.a)(e),"onPopupMouseEnter",(function(){e.clearDelayTimer()})),Object(Vn.a)(Object(zn.a)(e),"onPopupMouseLeave",(function(t){var n;t.relatedTarget&&!t.relatedTarget.setTimeout&&Object(Jr.a)(null===(n=e.popupRef.current)||void 0===n?void 0:n.getElement(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)})),Object(Vn.a)(Object(zn.a)(e),"onFocus",(function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))})),Object(Vn.a)(Object(zn.a)(e),"onMouseDown",(function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()})),Object(Vn.a)(Object(zn.a)(e),"onTouchStart",(function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()})),Object(Vn.a)(Object(zn.a)(e),"onBlur",(function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)})),Object(Vn.a)(Object(zn.a)(e),"onContextMenu",(function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)})),Object(Vn.a)(Object(zn.a)(e),"onContextMenuClose",(function(){e.isContextMenuToShow()&&e.close()})),Object(Vn.a)(Object(zn.a)(e),"onClick",(function(t){if(e.fireEvents("onClick",t),e.focusTime){var n;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)})),Object(Vn.a)(Object(zn.a)(e),"onPopupMouseDown",(function(){var t;(e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=window.setTimeout((function(){e.hasPopupMouseDown=!1}),0),e.context)&&(t=e.context).onPopupMouseDown.apply(t,arguments)})),Object(Vn.a)(Object(zn.a)(e),"onDocumentClick",(function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=e.getRootDomNode(),i=e.getPopupDomNode();Object(Jr.a)(r,n)&&!e.isContextMenuOnly()||Object(Jr.a)(i,n)||e.hasPopupMouseDown||e.close()}})),Object(Vn.a)(Object(zn.a)(e),"getRootDomNode",(function(){var t=e.props.getTriggerDOMNode;if(t)return t(e.triggerRef.current);try{var n=si(e.triggerRef.current);if(n)return n}catch(r){}return Ir.a.findDOMNode(Object(zn.a)(e))})),Object(Vn.a)(Object(zn.a)(e),"getPopupClassNameFromAlign",(function(t){var n=[],r=e.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,c=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s=o[a];if(_s(t[s].points,i,r))return"".concat(e,"-placement-").concat(s)}return""}(o,a,t,s)),c&&n.push(c(t)),n.join(" ")})),Object(Vn.a)(Object(zn.a)(e),"getComponent",(function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,i=t.popupClassName,o=t.onPopupAlign,a=t.popupMotion,s=t.popupAnimation,c=t.popupTransitionName,u=t.popupStyle,l=t.mask,f=t.maskAnimation,h=t.maskTransitionName,d=t.maskMotion,p=t.zIndex,v=t.popup,g=t.stretch,m=t.alignPoint,y=t.mobile,b=t.forceRender,_=t.onPopupClick,w=e.state,x=w.popupVisible,S=w.point,C=e.getPopupAlign(),O={};return e.isMouseEnterToShow()&&(O.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(O.onMouseLeave=e.onPopupMouseLeave),O.onMouseDown=e.onPopupMouseDown,O.onTouchStart=e.onPopupMouseDown,M.createElement(Fs,Object(Nn.a)({prefixCls:n,destroyPopupOnHide:r,visible:x,point:m&&S,className:i,align:C,onAlign:o,animation:s,getClassNameFromAlign:e.getPopupClassNameFromAlign},O,{stretch:g,getRootDomNode:e.getRootDomNode,style:u,mask:l,zIndex:p,transitionName:c,maskAnimation:f,maskTransitionName:h,maskMotion:d,ref:e.popupRef,motion:a,mobile:y,forceRender:b,onClick:_}),"function"===typeof v?v():v)})),Object(Vn.a)(Object(zn.a)(e),"attachParent",(function(t){ji.cancel(e.attachId);var n,r=e.props,i=r.getPopupContainer,o=r.getDocument,a=e.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(e.getRootDomNode()).body,n?n.appendChild(t):e.attachId=ji((function(){e.attachParent(t)}))})),Object(Vn.a)(Object(zn.a)(e),"getContainer",(function(){if(!e.portalContainer){var t=(0,e.props.getDocument)(e.getRootDomNode()).createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",e.portalContainer=t}return e.attachParent(e.portalContainer),e.portalContainer})),Object(Vn.a)(Object(zn.a)(e),"setPoint",(function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})})),Object(Vn.a)(Object(zn.a)(e),"handlePortalUpdate",(function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)})),Object(Vn.a)(Object(zn.a)(e),"triggerContextValue",{onPopupMouseDown:e.onPopupMouseDown}),i="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,e.state={prevPopupVisible:i,popupVisible:i},Vs.forEach((function(t){e["fire".concat(t)]=function(n){e.fireEvents(t,n)}})),e}return Object(Bn.a)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t,e=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(t=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ys(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ys(t,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(t=t||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ys(t,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ys(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ji.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var t;return(null===(t=this.popupRef.current)||void 0===t?void 0:t.getElement())||null}},{key:"getPopupAlign",value:function(){var t=this.props,e=t.popupPlacement,n=t.popupAlign,r=t.builtinPlacements;return e&&r?function(t,e,n){var r=t[e]||{};return Object(Gn.a)(Object(Gn.a)({},r),n)}(r,e,n):n}},{key:"setPopupVisible",value:function(t,e){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==t&&("popupVisible"in this.props||this.setState({popupVisible:t,prevPopupVisible:r}),this.props.onPopupVisibleChange(t)),n&&e&&t&&this.setPoint(e)}},{key:"delaySetPopupVisible",value:function(t,e,n){var r=this,i=1e3*e;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(t,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(t,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(t){var e=this.props.children.props,n=this.props;return e[t]&&n[t]?this["fire".concat(t)]:e[t]||n[t]}},{key:"isClickToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var t=this.props.action;return"contextMenu"===t||1===t.length&&"contextMenu"===t[0]}},{key:"isContextMenuToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var t;this.state.popupVisible&&(null===(t=this.popupRef.current)||void 0===t||t.forceAlign())}},{key:"fireEvents",value:function(t,e){var n=this.props.children.props[t];n&&n(e);var r=this.props[t];r&&r(e)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,c=M.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,o&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var l=C()(c&&c.props&&c.props.className,a);l&&(u.className=l);var f=Object(Gn.a)({},u);Nr(c)&&(f.ref=Pr(this.triggerRef,c.ref));var h,d=M.cloneElement(c,f);return(e||this.popupRef.current||i)&&(h=M.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(h=null),M.createElement(Hs.Provider,{value:this.triggerContextValue},d,h)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.popupVisible,r={};return void 0!==n&&e.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=e.popupVisible),r}}]),r}(M.Component);return Object(Vn.a)(e,"contextType",Hs),Object(Vn.a)(e,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Ws,getDocument:Ys,onPopupVisibleChange:Us,afterPopupVisibleChange:Us,onPopupAlign:Us,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),e}(bs),Xs={adjustX:1,adjustY:1},Ks=[0,0],Zs={left:{points:["cr","cl"],overflow:Xs,offset:[-4,0],targetOffset:Ks},right:{points:["cl","cr"],overflow:Xs,offset:[4,0],targetOffset:Ks},top:{points:["bc","tc"],overflow:Xs,offset:[0,-4],targetOffset:Ks},bottom:{points:["tc","bc"],overflow:Xs,offset:[0,4],targetOffset:Ks},topLeft:{points:["bl","tl"],overflow:Xs,offset:[0,-4],targetOffset:Ks},leftTop:{points:["tr","tl"],overflow:Xs,offset:[-4,0],targetOffset:Ks},topRight:{points:["br","tr"],overflow:Xs,offset:[0,-4],targetOffset:Ks},rightTop:{points:["tl","tr"],overflow:Xs,offset:[4,0],targetOffset:Ks},bottomRight:{points:["tr","br"],overflow:Xs,offset:[0,4],targetOffset:Ks},rightBottom:{points:["bl","br"],overflow:Xs,offset:[4,0],targetOffset:Ks},bottomLeft:{points:["tl","bl"],overflow:Xs,offset:[0,4],targetOffset:Ks},leftBottom:{points:["br","bl"],overflow:Xs,offset:[-4,0],targetOffset:Ks}};function qs(t){var e=t.showArrow,n=t.arrowContent,r=t.children,i=t.prefixCls,o=t.id,a=t.overlayInnerStyle,s=t.className,c=t.style;return M.createElement("div",{className:C()("".concat(i,"-content"),s),style:c},!1!==e&&M.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},n),M.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:a},"function"===typeof r?r():r))}var Qs=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Js=function(t,e){var n=t.overlayClassName,r=t.trigger,i=void 0===r?["hover"]:r,o=t.mouseEnterDelay,a=void 0===o?0:o,s=t.mouseLeaveDelay,c=void 0===s?.1:s,u=t.overlayStyle,l=t.prefixCls,f=void 0===l?"rc-tooltip":l,h=t.children,d=t.onVisibleChange,p=t.afterVisibleChange,v=t.transitionName,g=t.animation,m=t.motion,y=t.placement,b=void 0===y?"right":y,_=t.align,w=void 0===_?{}:_,x=t.destroyTooltipOnHide,S=void 0!==x&&x,C=t.defaultVisible,O=t.getTooltipContainer,k=t.overlayInnerStyle,E=t.arrowContent,I=t.overlay,j=t.id,A=t.showArrow,T=void 0===A||A,D=Object(Xn.a)(t,Qs),P=Object(M.useRef)(null);Object(M.useImperativeHandle)(e,(function(){return P.current}));var L=Object(Gn.a)({},D);"visible"in t&&(L.popupVisible=t.visible);var N=!1,R=!1;if("boolean"===typeof S)N=S;else if(S&&"object"===Object(Kn.a)(S)){var B=S.keepParent;N=!0===B,R=!1===B}return M.createElement(Gs,Object(Nn.a)({popupClassName:n,prefixCls:f,popup:function(){return M.createElement(qs,{showArrow:T,arrowContent:E,key:"content",prefixCls:f,id:j,overlayInnerStyle:k},I)},action:i,builtinPlacements:Zs,popupPlacement:b,ref:P,popupAlign:w,getPopupContainer:O,onPopupVisibleChange:d,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:m,defaultPopupVisible:C,destroyPopupOnHide:N,autoDestroy:R,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a},L),h)},$s=Object(M.forwardRef)(Js);function tc(){return(tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ec(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nc(t,e)}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t,e){return e||(e=t.slice(0)),t.raw=e,t}var ic={wrapper:"w1dthssj",dialog:"d1cjvrst"},oc="INSERT",ac="REPLACE";function sc(t,e,n,r,i,o){void 0===e&&(e=oc),void 0===r&&(r=""),void 0===i&&(i=0),void 0===o&&(o=0);var a,s=t.getCurrentContent(),c=t.getSelection(),u=0,l=0,f=s.createEntity("INLINETEX","IMMUTABLE",{teX:""+n}).getLastCreatedEntityKey();switch(e){case oc:var h=I.Modifier.removeRange(s,c,"backward"),d=h.getSelectionAfter();a=I.Modifier.insertText(h,d," ",void 0,f),u=d.getAnchorOffset(),l=s.getBlockForKey(d.getAnchorKey()).getLength();break;case ac:var p=I.SelectionState.createEmpty(r).merge({anchorOffset:i,focusOffset:o});a=I.Modifier.replaceText(s,p,""===n?"":" ",s.getBlockForKey(r).getInlineStyleAt(i),""===n?void 0:f),u=o,l=s.getBlockForKey(p.getAnchorKey()).getLength();break;default:throw new Error('Unidentified value of "mode"')}u===l&&(a=I.Modifier.insertText(a,a.getSelectionAfter()," ")),0===u&&0===l&&(a=I.Modifier.insertText(a,c," "));var v=I.EditorState.push(t,a,"apply-entity");return I.EditorState.forceSelection(v,a.getSelectionAfter())}var cc,uc,lc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).openFormulaEdit=function(){var t=e.props.store;t.getItem("getReadOnly")()||(t.updateItem("isVisible",!0),t.updateItem("mode",oc))},e}return ec(e,t),e.prototype.render=function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n;return O.a.createElement("div",{className:e.buttonWrapper},O.a.createElement("button",tc({},r,{type:"button",className:e.button,onClick:this.openFormulaEdit}),O.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},O.a.createElement("path",{d:"M841 370c3-3.3 2.7-8.3-.6-11.3a8.24 8.24 0 00-5.3-2.1h-72.6c-2.4 0-4.6 1-6.1 2.8L633.5 504.6a7.96 7.96 0 01-13.4-1.9l-63.5-141.3a7.9 7.9 0 00-7.3-4.7H380.7l.9-4.7 8-42.3c10.5-55.4 38-81.4 85.8-81.4 18.6 0 35.5 1.7 48.8 4.7l14.1-66.8c-22.6-4.7-35.2-6.1-54.9-6.1-103.3 0-156.4 44.3-175.9 147.3l-9.4 49.4h-97.6c-3.8 0-7.1 2.7-7.8 6.4L181.9 415a8.07 8.07 0 007.8 9.7H284l-89 429.9a8.07 8.07 0 007.8 9.7H269c3.8 0 7.1-2.7 7.8-6.4l89.7-433.1h135.8l68.2 139.1c1.4 2.9 1 6.4-1.2 8.8l-180.6 203c-2.9 3.3-2.6 8.4.7 11.3 1.5 1.3 3.4 2 5.3 2h72.7c2.4 0 4.6-1 6.1-2.8l123.7-146.7c2.8-3.4 7.9-3.8 11.3-1 .9.8 1.6 1.7 2.1 2.8L676.4 784c1.3 2.8 4.1 4.7 7.3 4.7h64.6a8.02 8.02 0 007.2-11.5l-95.2-198.9c-1.4-2.9-.9-6.4 1.3-8.8L841 370z"}))))},e}(M.Component),fc=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).mathField=void 0,e.state={isVisible:!1,latex:void 0,mode:oc},e.onChangeMode=function(t){var n,r=e.props.store;if(t===oc)null==(n=e.mathField)||n.setValue(""),e.setState({latex:void 0,mode:t});else if(t===ac){var i,o=r.getItem("latex");null==(i=e.mathField)||i.setValue(o),e.setState({latex:o,mode:t})}},e.onVisible=function(t){e.setState({isVisible:t})},e.onChangeMathLive=function(t){e.setState({latex:null==t?void 0:t.target.value})},e.onChangeTextarea=function(t){var n,r;e.mathField.setValue(null==t||null==(n=t.target)?void 0:n.value),e.setState({latex:null==t||null==(r=t.target)?void 0:r.value})},e.onClick=function(t){t.stopPropagation()},e.onClose=function(t){t.stopPropagation(),e.props.store.updateItem("isVisible",!1),e.save()},e.save=function(){var t=e.props.store,n=e.state.latex,r=t.getItem("mode"),i=t.getItem("getEditorState"),o=t.getItem("setEditorState"),a=t.getItem("blockKey"),s=t.getItem("start"),c=t.getItem("end");At(n)&&o(sc(i(),r,n,a,s,c)),e.setState({latex:void 0})},e}ec(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.store;t.subscribeToItem("isVisible",this.onVisible),t.subscribeToItem("mode",this.onChangeMode)},n.componentWillUnmount=function(){var t=this.props.store;t.unsubscribeFromItem("isVisible",this.onVisible),t.unsubscribeFromItem("mode",this.onChangeMode)},n.render=function(){var t=this,e=this.props.theme,n=this.state,r=n.isVisible,i=n.latex;return O.a.createElement($i,{className:null==e?void 0:e.dialog,title:"Latex\u516c\u5f0f\u7f16\u8f91\u5668",visible:r,onClose:this.onClose,wrapProps:{onClick:this.onClick},bodyStyle:{transform:"translateZ(10px)"}},O.a.createElement("div",{className:"output"},O.a.createElement("math-field",{id:"formula",ref:function(e){return t.mathField=e},"virtual-keyboard-mode":"manual",onInput:this.onChangeMathLive},i)),O.a.createElement(ms,{id:"latex",rows:4,value:i,onChange:this.onChangeTextarea,onClick:this.onClick}))},e}(M.Component),hc=O.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},O.a.createElement("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"})),dc=["store","theme","className","decoratedText","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState","blockKey","blockProps","start","end"],pc=O.a.forwardRef((function(t,e){var n=t.store,r=t.theme,i=void 0===r?{}:r,o=t.className;t.decoratedText,t.dir;var a=t.entityKey;t.getEditorState,t.offsetKey,t.setEditorState;var s=t.contentState,c=t.blockKey;t.blockProps;var u=t.start,l=t.end,f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,dc),h=$(i.wrapper,o),d=n.getItem("getReadOnly"),p=(a?s.getEntity(a).getData():{teX:""}).teX,v=Object(M.useState)(!1),g=v[0],m=v[1],y=d()?{visible:!1}:{};return O.a.createElement($s,tc({visible:!1,placement:"top",trigger:["hover"],overlayInnerStyle:{minHeight:"initial"},overlay:O.a.createElement("span",{onClick:function(t){t.preventDefault(),g&&!d()&&(n.updateItem("blockKey",c),n.updateItem("latex",p),n.updateItem("start",u),n.updateItem("end",l),n.updateItem("isVisible",!0),n.updateItem("mode",ac))}},hc),onVisibleChange:function(t){return m(t)}},y),O.a.createElement("span",tc({},f,{contentEditable:!1,"data-offset-key":t.offsetKey,className:h,ref:e}),O.a.createElement(Za.InlineMath,{math:String.raw(cc||(cc=rc(["",""])),p)}),O.a.createElement("span",null)))})),vc=function(t,e,n){t.findEntityRanges((function(t){var e=t.getEntity();return null!==e&&"INLINETEX"===n.getEntity(e).getType()}),e)};function gc(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bc(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||bc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yc(t){return function(t){if(Array.isArray(t))return _c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bc(t,e){if(t){if("string"===typeof t)return _c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(t,e):void 0}}function _c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wc=function(t){return t instanceof Object},xc=function(t){return"function"===typeof t},Sc=function(t){return t instanceof Array},Cc=function(t){return t instanceof Set},Mc=function(t){return t instanceof Map},Oc=function(t,e,n){if(Sc(t))for(var r=0;r<t.length;r++){var i=e(t[r],r,t);if(n&&n(i))return!1}else if(Cc(t)){var o,a=0,s=gc(t.values());try{for(s.s();!(o=s.n()).done;){var c=e(o.value,a++);if(n&&n(c))return!1}}catch(g){s.e(g)}finally{s.f()}}else if(Mc(t)){var u,l=gc(t.entries());try{for(l.s();!(u=l.n()).done;){var f=mc(u.value,2),h=f[0],d=e(f[1],h);if(n&&n(d))return!1}}catch(g){l.e(g)}finally{l.f()}}else if(wc(t))for(var p in t){var v=e(t[p],p);if(n&&n(v))return!1}return!0},kc={extend:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sc(t)?n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))})):Cc(t)?n.forEach((function(e){return e.forEach((function(e){return t.add(e)}))})):Mc(t)?n.forEach((function(e){return yc(e.entries()).forEach((function(e){var n=mc(e,2),r=n[0],i=n[1];return t.set(r,i)}))})):wc(t)?n.forEach((function(e){return Object.assign(t,e)})):n.forEach((function(e){for(var n in e)t[n]=e[n]})),t},each:Oc,key:function(t,e){var n=null;return Oc(t,(function(t,r){return t===e&&(n=r,!0)}),(function(t){return t})),n},elif:function(t,e){var n=xc(t)?t():t;return e[n]&&e[n](t)},group:function(t,e){var n={};return Oc(t,(function(){var t=e.apply(void 0,arguments);t in n||(n[t]=new Set([])),n[t].add(arguments.length<=0?void 0:arguments[0])})),n},eachPair:function(t,e){if(Sc(t))for(var n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)e(t[n],t[r],n,r,t);else if(Cc(t))for(var i=yc(t),o=0;o<i.length-1;o++)for(var a=o+1;a<i.length;a++)e(i[o],i[a],o,a);else if(Mc(t))for(var s=yc(t),c=0;c<s.length-1;c++)for(var u=c+1;u<s.length;u++)e(s[c][1],s[u][1],s[c][0],s[u][0]);else if(wc(t))for(var l=t.keys(),f=0;f<l.length-1;f++)for(var h=f+1;h<l.length;h++)e(t[l[f]],t[l[h]],l[f],l[h],l);return t},map:function(t,e){if(Sc(t)){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t));return n}if(Cc(t)){var i,o=new Set,a=0,s=gc(t.values());try{for(s.s();!(i=s.n()).done;){var c=i.value;o.add(e(c,a++,t))}}catch(m){s.e(m)}finally{s.f()}return o}if(Mc(t)){var u,l=new Map,f=gc(t.entries());try{for(f.s();!(u=f.n()).done;){var h=mc(u.value,2),d=h[0],p=h[1];l.set(d,e(p,d))}}catch(m){f.e(m)}finally{f.f()}return l}if(wc(t)){var v={};for(var g in t)v[g]=e(t[g],g);return v}return t},filter:function(t,e){if(Sc(t)){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}if(Cc(t)){var i,o=new Set,a=0,s=gc(t.values());try{for(s.s();!(i=s.n()).done;){var c=i.value;e(c,a++,t)&&o.add(c)}}catch(m){s.e(m)}finally{s.f()}return o}if(Mc(t)){var u,l=new Map,f=gc(t.entries());try{for(f.s();!(u=f.n()).done;){var h=mc(u.value,2),d=h[0],p=h[1];e(p,d)&&l.set(d,p)}}catch(m){f.e(m)}finally{f.f()}return l}if(wc(t)){var v={};for(var g in t)e(t[g],g)&&(v[g]=t[g]);return v}return t},toObj:function(t,e){var n={};return Oc(t,(function(){var t=e.apply(void 0,arguments),r=mc(t,2),i=r[0],o=r[1];n[i]=o})),n},toArr:function(t,e){var n=[];return Oc(t,(function(){return n.push(e.apply(void 0,arguments))})),n},toSet:function(t,e){var n=new Set;return Oc(t,(function(){return n.add(e.apply(void 0,arguments))})),n},del:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sc(t)?Oc(n,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}})):Cc(t)?Oc(n,(function(e){return t.delete(e)})):Mc(t)?Oc(n,(function(e){var n,r=gc(t.entries());try{for(r.s();!(n=r.n()).done;){var i=mc(n.value,2),o=i[0];if(i[1]===e){t.delete(o);break}}}catch(a){r.e(a)}finally{r.f()}})):wc(t)&&Oc(n,(function(e){for(var n in t)if(e===t[n]){delete t[n];break}})),t},has:function(t,e){if(Sc(t)){for(var n in t)if(n===e)return!0}else if(Cc(t))return t.has(e);return!1},size:function(t){return Sc(t)?t.length:Cc(t)||Mc(t)?t.size:wc(t)?Object.keys(t).length:0},repeat:function(t,e){for(var n=0;n<t;n++)e(n)},cl:function(t){return JSON.parse(JSON.stringify(t))},getter:function(t,e){return Oc(e,(function(e,n){t.__defineGetter__(n,e)})),t},setter:function(t,e){return Oc(e,(function(e,n){t.__defineSetter__(n,e)})),t},isNum:function(t){return"number"===typeof t},isArr:Sc,isSet:Cc,isMap:Mc,isNaN:function(t){return window.isNaN(t)},isStr:function(t){return"string"===typeof t},isObj:wc,isFun:xc,isUnd:function(t){return"undefined"===typeof t},isBool:function(t){return"boolean"===typeof t}};function Ec(t){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ic(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ac(r.key),r)}}function jc(t,e,n){return e&&Ic(t.prototype,e),n&&Ic(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ac(t){var e=function(t,e){if("object"!=Ec(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ec(e)?e:e+""}function Tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Dc=kc.each,Pc=kc.extend,Lc=kc.getter,Nc=kc.isNum,Rc=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame).bind(window),Bc=(window.cancelAnimationFrame||window.mozCancelAnimationFrame).bind(window),zc=!1;try{var Fc=Object.defineProperty({},"passive",{get:function(){return zc=!0}});window.addEventListener("test",null,Fc)}catch(FM){}var Hc=jc((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Tc(this,t);var i={};this.loop=null,this.timeout=null;var o=function(){return n.loop=Rc(a),i},a=function t(i){!1!==e(i)&&(r?n.timeout=setTimeout((function(){return n.loop=Rc(t)}),r):n.loop=Rc(t))},s=function(){n.timeout&&clearTimeout(n.timeout),n.timeout=null,Bc(n.loop)};return Lc(i,{start:function(){return o},stop:function(){return s}}),i})),Uc={RAF:Rc,CAF:Bc,dom:function(t){return document.createElement(t||"div")},svg:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},attr:function(t,e){return Dc(e,(function(e,n){return t.setAttribute(n,e)}))},delAttr:function(t,e){return t.removeAttribute(e)},prepend:function(t,e){e.parentNode!==t&&(t.childNodes[0]?t.insertBefore(e,t.childNodes[0]):t.appendChild(e))},attach:function(t,e){return e.parentNode!==t&&(t.appendChild(e),!0)},detach:function(t,e){return e.parentNode===t&&(t.removeChild(e),!0)},clean:function(t){for(var e=t.childNodes.length-1;e>=0;e--)t.removeChild(t.childNodes[e])},style:function(t,e){return Pc(t.style,e)},newTextNode:function(t){return document.createTextNode(t)},bind:function(t,e,n){return t.addEventListener(e,n,!!zc&&{passive:!1,capture:!1})},Loop:Hc,color:function(t,e,n,r){return Nc(r)?"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")"):"rgb(".concat(t,",").concat(e,",").concat(n,")")}},Wc={guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}};function Yc(t){return function(t){if(Array.isArray(t))return Qc(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(t,e,n){return e=Gc(e),function(t,e){if(e&&("object"===Kc(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],Gc(t).constructor):e.apply(t,n))}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xc(t,e){return(Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kc(t){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||qc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(t,e){if(t){if("string"===typeof t)return Qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qc(t,e):void 0}}function Qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eu(r.key),r)}}function tu(t,e,n){return e&&$c(t.prototype,e),n&&$c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eu(t){var e=function(t,e){if("object"!=Kc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kc(e)?e:e+""}var nu=kc.each,ru=function(t){return Math.pow(t,2)},iu=function(t){return Math.sqrt(t)},ou=function(){function t(e,n){Jc(this,t),this.x=e||0,this.y=n||0}return tu(t,[{key:"cl",value:function(){return new t(this.x,this.y)}},{key:"arr",get:function(){return[this.x,this.y]},set:function(t){var e=Zc(t,2);this.x=e[0],this.y=e[1]}},{key:"obj",get:function(){return{x:this.x,y:this.y}},set:function(t){var e=t.x,n=t.y;this.x=e,this.y=n}},{key:"eq",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"dist",value:function(t){return iu(ru(this.x-t.x)+ru(this.y-t.y))}},{key:"val",set:function(t){this.x=t.x,this.y=t.y}}],[{key:"center",value:function(){for(var e=0,n=0,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.length||1;return nu(i,(function(t){e+=t.x,n+=t.y})),new t(e/a,n/a)}}])}(),au=function(t){function e(t,n){if(Jc(this,e),t instanceof ou&&n instanceof ou){var r=[n.x-t.x,n.y-t.y];t=r[0],n=r[1]}return Vc(this,e,[t,n])}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xc(t,e)}(e,t),tu(e,[{key:"cl",value:function(){return new e(this.x,this.y)}},{key:"scale",value:function(t,e){e||(e=t);var n=Zc(this.arr,2),r=n[0],i=n[1];return this.arr=[r*t,i*e],this}},{key:"move",value:function(t){return t.x+=this.x,t.y+=this.y,t}},{key:"size",get:function(){return iu(ru(this.x)+ru(this.y))},set:function(t){var e=this.size;this.arr=0===e?[0,0]:[this.x*(t/e),this.y*(t/e)]}},{key:"rot",value:function(t){t=t/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),r=Zc(this.arr,2),i=r[0],o=r[1];return this.x=i*e-o*n,this.y=i*n+o*e,this}}])}(ou),su=function(){function t(e,n,r,i){if(Jc(this,t),e instanceof ou&&n instanceof ou){var o=[].concat(Yc(e.x>n.x?[n.x,e.x-n.x]:[e.x,n.x-e.x]),Yc(e.y>n.y?[n.y,e.y-n.y]:[e.y,n.y-e.y]));e=o[0],r=o[1],n=o[2],i=o[3]}this.x=e||0,this.y=n||0,this.w=r||0,this.h=i||0}return tu(t,[{key:"cover",value:function(t){var e=Zc(t.arr,2),n=e[0],r=e[1];return this.l<n&&this.r>n&&this.t<r&&this.b>r}},{key:"cx",get:function(){return this.x+this.w/2},set:function(t){this.x+=t-this.cx}},{key:"cy",get:function(){return this.y+this.h/2},set:function(t){this.y+=t-this.cy}},{key:"l",get:function(){return this.x},set:function(t){this.x=t}},{key:"r",get:function(){return this.x+this.w},set:function(t){this.x=t-this.w}},{key:"t",get:function(){return this.y},set:function(t){this.y=t}},{key:"b",get:function(){return this.y+this.h},set:function(t){this.y=t-this.h}},{key:"set",value:function(t){return this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,this}},{key:"merge",value:function(t){var e=Math.min(this.l,t.l),n=Math.max(this.r,t.r),r=Math.min(this.t,t.t),i=[e,r,n-e,Math.max(this.b,t.b)-r];return this.x=i[0],this.y=i[1],this.w=i[2],this.h=i[3],this}},{key:"intersect",value:function(t){var e=Math.max(this.l,t.l),n=Math.min(this.r,t.r),r=Math.max(this.t,t.t),i=Math.min(this.b,t.b),o=Zc(e>n||r>i?[0,0,0,0]:[e,r,n-e,i-r],4);return this.x=o[0],this.y=o[1],this.w=o[2],this.h=o[3],this}},{key:"area",value:function(){return this.w*this.h}},{key:"cl",value:function(){return new t(this.x,this.y,this.w,this.h)}},{key:"center",get:function(){return new ou(this.cx,this.cy)}},{key:"val",set:function(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h}}],[{key:"merge",value:function(e){var n=Number.POSITIVE_INFINITY,r=n,i=-n,o=n,a=-n;return nu(e,(function(t){r=t.l<r?t.l:r,o=t.t<o?t.t:o,i=t.r>i?t.r:i,a=t.b>a?t.b:a})),new t(r,o,i-r,a-o)}}])}(),cu={Pin:ou,Vec:au,Box:su};function uu(t){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lu(Object(n),!0).forEach((function(e){hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hu(t,e,n){return(e=vu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vu(r.key),r)}}function pu(t,e,n){return e&&du(t.prototype,e),n&&du(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vu(t){var e=function(t,e){if("object"!=uu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uu(e)?e:e+""}var gu=kc.map,mu=kc.getter,yu=Uc.Loop,bu=function(t,e,n,r){return-n*(t/=r)*(t-2)+e},_u=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},wu=function(t,e,n,r){return n-xu(r-t,0,n,r)+e},xu=function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},Su={linear:function(t,e,n,r){return n*(t/r)+e},swing:function(t,e,n,r){return bu(t,e,n,r)},ease:function(t,e,n,r){return _u(t,e,n,r)},easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:bu,easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:_u,easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1===(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:1===(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0===t?e:2===(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*.5+n+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:wu,easeOutBounce:xu,easeInOutBounce:function(t,e,n,r){return t<r/2?.5*wu(2*t,0,n,r)+e:.5*xu(2*t-r,0,n,r)+.5*n+e}},Cu={Animate:pu((function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o={};this.status="ready",this.inital=fu({},e),this.final=fu({},n),this.start=null,this.time=1e3,this.type="linear",this.callback=null,this.frame=0,this.loop=new yu((function(t){if(null===i.start&&(i.start=t),t-i.start>i.time)return r(i.final),i.frame++,i.callback&&i.callback(),i.status="finished",!1;var e=gu(i.inital,(function(e,r){return Su[i.type](t-i.start,e,n[r]-e,i.time)}));r(e),i.frame++}));var a=function(t,e,n){return"ready"!==i.status||(i.time=t,i.type=e,i.callback=n,i.status="playing",i.loop.start()),o},s=function(){return"playing"!==i.status||(i.status="stoped",i.loop.stop(),i.callback&&i.callback(!1)),o};return mu(o,{start:function(){return a},stop:function(){return s},status:function(){return i.status},frame:function(){return i.frame}}),o}))};function Mu(t){return(Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ou(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ou(Object(n),!0).forEach((function(e){Eu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Eu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Mu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mu(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Iu=ku(ku(ku(ku(ku({},Uc),Wc),kc),cu),Cu),ju=function(t){var e={utils:Iu},n={};return Iu.getter(n,{mindmap:function(){return e},props:function(){return t}}),Iu.each(Au,(function(t){return t(n)})),e.core=n,e},Au=[];Iu.setter(ju,{module:function(t){return Au.push(t)}}),Iu.getter(ju,{version:function(){return"2.1.0"},utils:function(){return Iu}});var Tu=ju,Du=Tu.utils;Tu.module=function(t){var e=Du.extend({},Pu,t.props||{});Du.getter(t,{option:function(){return e}}),Du.getter(t.mindmap,{option:function(){return Du.extend({},e)}})};var Pu={};Du.setter(Tu,{option:function(t){return Du.extend(Pu,t)}});var Lu=Tu.utils;function Nu(t){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(t){return function(t){if(Array.isArray(t))return Bu(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fu(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Nu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nu(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=t.props.target;if(!e)throw new Error("there is on target!");e=Lu.isStr(e)?document.querySelector(e):e;var n=Lu.dom("iframe");Lu.attach(e,n);var r=n.contentDocument;r.open(),r.write("<html><head></head><body></body></html>"),r.close();var i=Lu.svg("svg");window.iframe1=n,Lu.attach(r.body,i),Lu.style(n,{width:"100%",height:"100%",borderWidth:0}),Lu.style(r.body,{width:"100%",height:"100%",margin:0,WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"}),Lu.attr(r.body,{tabIndex:0}),Lu.style(i,{width:"100%",height:"100%"});var o=function(){return{width:e.offsetWidth,height:e.offsetHeight}},a=function(){return r.body.focus(),t.mindmap},s=function(){return r.body.blur(),t.mindmap};Lu.getter(t,{target:function(){return e},doc:function(){return r},body:function(){return r.body},win:function(){return n.contentWindow},svg:function(){return i},focus:function(){return a},blur:function(){return s},size:o}),Lu.getter(t.mindmap,{size:o,focus:function(){return a},blur:function(){return s}})};var Hu=Tu.utils;Tu.module=function(t){var e="*",n={},r=function(t,e,r,i){n[t]=n[t]||[],n[t].push({callback:e,target:r,once:i})},i=function(t,r,i){r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zu(Object(n),!0).forEach((function(e){Fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r);var o=!1,a=!1,s=Ru(n[t]||[]);return a=a||s.length,(o=!Hu.each(s,(function(e){if(e.target===i||i===Yu)return e.once&&Hu.del(n[t],e),e.callback(r)}),(function(t){return!1===t})))?!o:(s=Ru(n["".concat(e,"::").concat(t)]||[]),a=a||s.length,o=!Hu.each(s,(function(o){if(o.target===i||i===Yu)return o.once&&Hu.del(n["".concat(e,"::").concat(t)],o),o.callback(r)}),(function(t){return!1===t})),!!a&&!o)},o=function(t,e,r){n[t]&&Hu.each(n[t],(function(i){return(r===i.target||r===Yu)&&i.callback===e&&(Hu.del(n[t],i),!0)}),(function(t){return t}))},a=function(t,e,n){return e=e.toLowerCase().split(/[ |\t]+/g),Hu.each(e,n),t};!function(){var e=function(e,n){return a(t,e,(function(t){return r(t,n,Uu,!1)}))},n=function(e,n){return a(t,e,(function(t){return r(t,n,Uu,!0)}))},s=function(e,n){return a(t,e,(function(t){return o(t,n,Uu)}))},c=function(t,e,n){return i(t,e,n?Yu:Uu)};Hu.getter(t,{on:function(){return e},once:function(){return n},off:function(){return s},fire:function(){return c}})}(),function(){var e=t.mindmap,n=function(t,n){return a(e,t,(function(t){return r(t,n,Wu,!1)}))},s=function(t,n){return a(e,t,(function(t){return r(t,n,Wu,!0)}))},c=function(t,n){return a(e,t,(function(t){return o(t,n,Wu)}))},u=function(t,e){return i(t,e,Wu)};Hu.getter(e,{on:function(){return n},once:function(){return s},off:function(){return c},fire:function(){return u}})}();var s=t.doc,c={win:t.win,doc:s,body:t.doc.body};c.doc.onkeydown=function(){return!1},Hu.each(Vu,(function(e){var n=e.target,r=e.type,i=e.bind;return Hu.bind(c[n],r,i(t))}));var u=!1;t.on("interactchange",(function(){u||(setTimeout((function(){t.mindmap.fire("interactchange"),u=!1}),100),u=!0)})),Hu.setter(t,{status:function(n){t.fire("".concat(e,"->").concat(n)),e=n,t.fire("interactchange")}}),Hu.getter(t,{status:function(){return e}}),Hu.setter(t.mindmap,{status:function(){return e}}),setTimeout((function(){return t.status=t.option.status}))};var Uu=0,Wu=1,Yu=2;Tu.option={status:"edit",readOnly:!1};var Vu={};function Gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Xu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hu.setter(Tu,{event:function(t){return Vu[t.type]=t}});var Ku=Tu.utils;Tu.module=function(t){var e=new Ku.Pin,n=1,r=0,i=Ku.svg("g");Ku.attach(t.svg,i);var o=function(){var r=t.size,o=r.width,a=r.height,s=n,c=Gu(e.arr,2),u=c[0],l=c[1];return Ku.attr(i,{transform:"matrix(".concat(s,",0,0,").concat(s,",").concat(o/2-u*s,",").concat(a/2-l*s,")")}),t.fire("updateview",{},!0),t},a=function(e){var n=t.view.getCTM();return Ku.isUnd(e.w)||(e.w/=n.a),Ku.isUnd(e.h)||(e.h/=n.d),e.x=(e.x-n.e)/n.a,e.y=(e.y-n.f)/n.d,e},s=function(e){var n=t.view.getCTM();return Ku.isUnd(e.w)||(e.w*=n.a),Ku.isUnd(e.h)||(e.h*=n.d),e.x=e.x*n.a+n.e,e.y=e.y*n.d+n.f,e},c=function(e){return t.zoom*=Math.pow(t.option.zoomRate,e)},u="edit";t.on("resize",(function(t){return o()})),t.on("edit::mousewheel hand::mousewheel",(function(t){var e=t.delta;return c(e/120)})),t.on("edit::touchstart hand::touchstart",(function(e){var n=e.points;e.number<2||(r=Zu(n),u=t.status,t.status="zoom")})),t.on("zoom::touchmove",(function(t){var e=t.points;if(!(t.number<2)){var n=Zu(e);c((n-r)/50),r=n}})),t.on("zoom::touchend",(function(e){e.points;e.number||(t.status=u,r=0)})),Ku.getter(t,{center:function(){return e.cl()},zoom:function(){return n},resize:function(){return o},view:function(){return i},toView:function(){return a},fromView:function(){return s}}),Ku.setter(t,{center:function(t){e.val=t,o()},zoom:function(e){n=Math.max(e,t.option.minZoom),n=Math.min(n,t.option.maxZoom),o()}}),Ku.getter(t.mindmap,{svgHTML:function(){var e=i.cloneNode(!0),n=Ku.svg("svg");Ku.attach(n,e);var r=t.box;Ku.attr(n,{width:r.w,height:r.h}),Ku.attr(e,{transform:"translate(".concat(-r.l,",").concat(-r.t,")")});var o=Ku.dom("div");return Ku.attach(o,n),o.innerHTML},center:function(){return e.obj},zoom:function(){return n},view:function(){return i}})};var Zu=function(t){var e=0;return Ku.eachPair(t,(function(t,n){var r=t.dist(n);e=e>r?e:r})),e};Tu.option={zoomRate:1.1,maxZoom:Math.pow(1.1,20),minZoom:Math.pow(1.1,-20),viewAnimationDuration:300,viewAnimationEasing:"ease"};var qu=Tu.utils;Tu.module=function(t){var e=new Set(t.option.disableCommands),n=new Set(t.option.enableCommands),r=function(t){return n.size>0?!n.has(t):e.size>0?e.has(t):void 0};qu.each(Qu,(function(e){var n=e.type,i=e.shortcut;if(i&&!r(n)){var a=i.split(/[ |\t]+/g);qu.each(a,(function(e){return t.on("shortcut:".concat(e),(function(){var e=Qu[n];if(!e)return t.mindmap;if(r(n))return t.mindmap;if("disabled"===o(n))return t.mindmap;var i=e.execute(t)||{};t.fire("execcommand",{type:n,params:i,isShortcut:!0},!0),t.fire("interactchange")}))}))}}));var i=function(e){var n=Qu[e];if(!n)return t.mindmap;if(r(e))return t.mindmap;if("disabled"===o(e))return t.mindmap;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var c=n.execute.apply(n,[t].concat(a))||{};return t.fire("execcommand",{type:e,params:c,isShortcut:!1},!0),t.fire("interactchange"),t.mindmap},o=function(e){var n=Qu[e];if(!n)return"disabled";if(r(e))return"disabled";var i=n.query;return i?i(t):"normal"};qu.getter(t.mindmap,{execCommand:function(){return i},queryCommand:function(){return o}})};var Qu={};Tu.option={disableCommands:[],enableCommands:[]},qu.setter(Tu,{command:function(t){return Qu[t.type]=t}});var Ju=Tu.utils;function $u(t){return function(t){if(Array.isArray(t))return tl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){var e=function(){return t.fire("clean"),t},n=function(n,r){if(r&&e(),t.fire("beforeimport",{data:n}),!t.fire("import",{data:n}))throw new Error("fail import!");return t.fire("afterimport",{},!0),t},r=function(){var e={};return t.fire("export",{data:e}),e.version=Tu.version,e};Ju.getter(t,{clean:function(){return e},import:function(){return n},export:function(){return r}}),Ju.getter(t.mindmap,{data:function(){return r()}})};var el=Tu.utils;function nl(t){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function il(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=null,n={},r=function(e,r){var i={};return i.id=e||el.guid(),i.type="tree",i.children=[],i.parent=null,i.level=1,n[i.id]=i,t.fire("newnode",{node:i}),t.fire("newtree",{tree:i}),i},i=function(e){return e?(t.fire("deletetree",{tree:e}),t.fire("deletenode",{node:e}),delete n[e.id],t):t},o=function(e,n,r,i){return i=el.isBool(i)?i:!!el.isBool(r)&&r,(r=el.isFun(r)?r:function(){return!1})(e)||(i?(el.each($u(e.children),(function(t){return o(t,n,r,i)})),n(e)):(n(e),el.each($u(e.children),(function(t){return o(t,n,r,i)})))),t},a=function(t,e){return!t.parent||!1!==e(t.parent)&&a(t.parent,e)};t.on("clean",(function(t){e&&(o(e,(function(t){return i(t)}),!0),e=null)})),t.on("import",(function(i){var o=i.data,a={};o.root=o.root||{id:el.guid(),children:[]},t.traverse(o.root,(function(t){return a[t.id]=t})),el.each(n,(function(e){return a[e.id]||t.delTree(e)}));var s=o.root.id;(e=n[s]||t.recycle(s)||r(s)).parent=null,e.level=1,t.fire("importnode",{node:e,data:o.root}),t.fire("importtree",{tree:e,data:o.root})})),t.on("importtree",(function(e){var i=e.tree,o=e.data;o.children=o.children||[],i.children=[],el.each(o.children,(function(e){var o=e.id,a=n[o]||t.recycle(o)||r(o);i.children.push(a),a.parent=i,a.level=i.level+1,t.fire("importnode",{node:a,data:e}),t.fire("importtree",{tree:a,data:e})}))})),t.on("export",(function(n){var r=n.data;r.root={},e&&(t.fire("exportnode",{node:e,data:r.root}),t.fire("exporttree",{tree:e,data:r.root}))})),t.on("exporttree",(function(e){var n=e.tree,r=e.data;r.id=n.id,r.children=[],el.each(n.children,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exporttree",{tree:e,data:n}),r.children.push(n)}))})),t.on("recycletree",(function(t){var e=t.tree;return n[e.id]=e})),t.on("patch",(function(e){var r=e.last,a=e.next,s=e.patch;r=r.root,a=a.root;var c={},u={};o(r,(function(t){return c[t.id]=t})),o(a,(function(t){return u[t.id]=t}));var l=el.filter(c,(function(t,e){return!u[e]})),f=el.filter(u,(function(t,e){return!c[e]}));(el.size(l)||el.size(f))&&s.push((function(){el.each(l,(function(t,e){return i(n[e])})),el.each(f,(function(e,n){return t.recycle(n)}))})),el.each(n,(function(e){var n=e,r=c[e.id],i=u[e.id];t.fire("nodepatch",{node:n,last:r,next:i,patch:s}),t.fire("treepatch",{tree:e,last:r,next:i,patch:s})}))})),t.on("treepatch",(function(t){var e=t.tree,r=t.last,i=t.next,a=t.patch;r&&i&&r.children.length===i.children.length&&el.each(r.children,(function(t,e){return i.children[e].id!==t.id}),(function(t){return t}))||a.push((function(){e.children=el.map(i?i.children:[],(function(t){return(t=n[t.id]).parent=e,t})),o(e,(function(t){return t.parent?t.level=t.parent.level+1:null}))}))})),el.getter(t,{root:function(){return e},trees:function(){return n},newTree:function(){return r},delTree:function(){return i},traverse:function(){return o},backtrack:function(){return a}})};var ol=Tu.utils;function al(t){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=al(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==al(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e={},n=function(e){var n={};return n.id=e||ol.guid(),n.type="link",n.input=null,n.output=null,t.fire("newnode",{node:n}),t.fire("newlink",{link:n}),n},r=function(n){return t.fire("deletelink",{link:n}),t.fire("deletenode",{node:n}),delete e[n.id],t};t.on("clean",(function(t){return ol.each(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(n),!0).forEach((function(e){il(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),(function(t){return r(t)}))})),t.on("import",(function(i){var o=i.data;o.links=o.links||[];var a={};ol.each(o.links,(function(t){return a[t.id]=t})),ol.each(e,(function(t){return a[t.id]||r(t)}));var s=!1;return ol.each(o.links,(function(r){var i=r.id,o=e[i]||t.recycle(i)||n(r.id);t.fire("importnode",{node:o,data:r}),s=!t.fire("importlink",{link:o,data:r}),e[i]=o}),(function(){return s})),!s})),t.on("importlink",(function(e){var n=e.link,r=e.data;if(n.input=t.trees[r.input],n.output=t.trees[r.output],!n.output||!n.input)return!1})),t.on("export",(function(n){var r=n.data;r.links=[],ol.each(e,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exportlink",{link:e,data:n}),r.links.push(n)}))})),t.on("exportlink",(function(t){var e=t.link,n=t.data;n.id=e.id,n.input=e.input.id,n.output=e.output.id})),t.on("recyclelink",(function(t){var n=t.link;return e[n.id]=n})),t.on("patch",(function(n){var i=n.last,o=n.next,a=n.patch;i=i.links,o=o.links;var s={},c={};ol.each(i,(function(t){return s[t.id]=t})),ol.each(o,(function(t){return c[t.id]=t}));var u=ol.filter(s,(function(t,e){return!c[e]})),l=ol.filter(c,(function(t,e){return!s[e]}));(ol.size(u)||ol.size(l))&&a.push((function(){ol.each(u,(function(t,n){return r(e[n])})),ol.each(l,(function(e,n){return t.recycle(n)}))})),ol.each(e,(function(e){var n=e,r=s[e.id],i=c[e.id];t.fire("nodepatch",{node:n,last:r,next:i,patch:a}),t.fire("linkpatch",{link:e,last:r,next:i,patch:a})}))})),ol.getter(t,{links:function(){return e},newLink:function(){return n},delLink:function(){return r}})};var ul=Tu.utils;function ll(t){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ll(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ll(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e={},n=function(e){var n={};return n.id=e||ul.guid(),n.type="summary",n.trees=new Set,t.fire("newnode",{node:n}),t.fire("newsummary",{summary:n}),n},r=function(n){return t.fire("deletesummary",{summary:n}),t.fire("deletenode",{node:n}),delete e[n.id],t};t.on("clean",(function(t){return ul.each(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(n),!0).forEach((function(e){cl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),(function(t){return r(t)}))})),t.on("import",(function(i){var o=i.data;o.summaries=o.summaries||[];var a={};ul.each(o.summaries,(function(t){return a[t.id]=t})),ul.each(e,(function(t){return a[t.id]||r(t)}));var s=!1;return ul.each(o.summaries,(function(r){var i=r.id,o=e[i]||t.recycle(i)||n(i);t.fire("importnode",{node:o,data:r}),s=!t.fire("importsummary",{summary:o,data:r}),e[i]=o}),(function(){return s})),!s})),t.on("importsummary",(function(e){var n=e.summary,r=e.data;return!!ul.isArr(r.trees)&&(!!r.trees.length&&ul.each(r.trees,(function(e){if(!(e=t.trees[e]))return!0;n.trees.add(e)}),(function(t){return t})))})),t.on("export",(function(n){var r=n.data;r.summaries=[],ul.each(e,(function(e){var n={};t.fire("exportnode",{node:e,data:n}),t.fire("exportsummary",{summary:e,data:n}),r.summaries.push(n)}))})),t.on("exportsummary",(function(t){var e=t.summary,n=t.data;n.id=e.id,n.trees=ul.toArr(e.trees,(function(t){return t.id}))})),t.on("recyclesummary",(function(t){var n=t.summary;return e[n.id]=n})),t.on("patch",(function(n){var i=n.last,o=n.next,a=n.patch;i=i.summaries,o=o.summaries;var s={},c={};ul.each(i,(function(t){return s[t.id]=t})),ul.each(o,(function(t){return c[t.id]=t}));var u=ul.filter(s,(function(t,e){return!c[e]})),l=ul.filter(c,(function(t,e){return!s[e]}));(ul.size(u)||ul.size(l))&&a.push((function(){ul.each(u,(function(t,n){return r(e[n])})),ul.each(l,(function(e,n){return t.recycle(n)}))})),ul.each(e,(function(e){var n=e,r=s[e.id],i=c[e.id];t.fire("nodepatch",{node:n,last:r,next:i,patch:a}),t.fire("summarypatch",{summary:e,last:r,next:i,patch:a})}))})),ul.getter(t,{summaries:function(){return e},newSummary:function(){return n},delSummary:function(){return r}})};var hl=Tu.utils;function dl(t){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pl(t){return function(t){if(Array.isArray(t))return vl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gl(Object(n),!0).forEach((function(e){yl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=dl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=[],n=-1,r=null,i={},o=function(e){var n=i[e];return n?(t.fire("recyclenode",{node:n}),t.fire("recycle".concat(n.type),fl({},n.type,n)),delete n[e],n):null},a=function(){return n<e.length-1&&n>=0},s=function(){return n<e.length&&n>0},c=function(){return a()?(hl.each(e[n].redo,(function(t){return t()})),n++,r=t.export(),t):t},u=function(){return s()?(hl.each(e[n].undo,(function(t){return t()})),n--,r=t.export(),t):t};t.on("deletenode",(function(t){var e=t.node;return i[e.id]=e})),t.on("afterimport",(function(o){e=[{redo:[],undo:[]}],n=0,r=t.export(),i={}})),t.on("contentchange",(function(i){var o=t.export(),a=[],s=[];e.splice(n+1),t.fire("patch",{last:r,next:o,patch:a}),t.fire("patch",{last:o,next:r,patch:s}),e[n].redo=a,n++,e.push({redo:[],undo:s}),r=o})),t.on("clean",(function(){return i={}})),hl.getter(t,{recycle:function(){return o},hasRedo:function(){return a()},hasUndo:function(){return s()},redo:function(){return c},undo:function(){return u}})};var bl=Tu.utils;Tu.module=function(t){var e={},n=new Set,r=function(n,r){if(!n)return null;n=bl.isStr(n)&&bl.isStr(r)?t.trees[n]||t.links[n]||t.summaries[n]:n;var i=null,o=null;return r?(i=(o=_l("node-".concat(r)))in e?e[o]:i,i=(o=_l("".concat(n.type,"-").concat(r)))in e?e[o]:i,i=(o=_l(r))in n.style?n.style[o]:i):(r=n,n=void 0,i=(o=_l(r))in e?e[o]:i),bl.isFun(i)?i(t,n):i};t.on("newnode",(function(t){return t.node.style={}})),t.on("importnode",(function(t){var e=t.node,n=t.data;return e.style=n.style?ml({},n.style):{}})),t.on("import",(function(e){var n=e.data;return t.theme=n.theme||t.option.theme})),t.on("export",(function(e){return e.data.theme=t.theme})),t.on("exportnode",(function(t){var e=t.node,n=t.data;return bl.size(e.style)?n.style=ml({},e.style):null})),t.on("patch",(function(e){var n=e.last,r=e.next,i=e.patch;n=new Set((n.theme||"").split(" ")),r=new Set((r.theme||"").split(" "));var o=new Set([].concat(pl(n),pl(r)));n.size===r.size&&r.size===o.size||i.push((function(){return t.theme=pl(r).join(" ")}))})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;r&&n&&(n=n.style||{},r=r.style||{},bl.size(n)===bl.size(r)&&bl.each(n,(function(t,e){return!!r[e]&&r[e]===t}),(function(t){return!t}))||i.push((function(){return e.style=ml({},r)})))})),bl.getter(t,{getStyle:function(){return r},theme:function(){return pl(n).join(" ")}}),bl.getter(t.mindmap,{theme:function(){return pl(n).join(" ")},style:function(){var n={};return bl.each(e,(function(e,i){var o=i.match(/^(summary|node|link|tree)/g),a=o?o[0]:null,s=pl(t.selectedNodes)[0];if(a){if(!s)return;if(s.type!==a&&"node"!==a)return;var c=wl(i.replace(/^(summary|node|link|tree)/g,""));n["node-".concat(c)]=r(s,c)}else{var u=wl(i);n[u]=r(u)}})),n}}),bl.setter(t,{theme:function(t){t=t.toLowerCase().split(/[ |\t]+/g),n=new Set(t);var r=bl.map(bl.filter(t,(function(t){return Sl[t]})),(function(t){return Sl[t].style}));e=bl.extend.apply(bl,[{},xl].concat(pl(r)))}}),t.theme=t.option.theme},Tu.option={theme:"blue round loose mind"};var _l=function(t){return t.replace(/-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()}))},wl=function(t){var e=[];return t.match(/[A-Z][a-z]+|[a-z]+/g).forEach((function(t){return e.push(t.toLowerCase())})),e.join("-")},xl={};bl.setter(Tu,{style:function(t){return bl.extend(xl,t)}});var Sl={};function Cl(t){return function(t){if(Array.isArray(t))return Ml(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Ml(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ml(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}bl.setter(Tu,{theme:function(t){return Sl[t.type]=t}});var Ol=Tu.utils;function kl(t){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function El(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?El(Object(n),!0).forEach((function(e){jl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=kl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=function(){var e=new Set,n=new Set;return t.traverse(t.root,(function(r){r.attach=t.fire("shouldattachtree",{tree:r}),r.attach?e.add(r):n.add(r)})),Ol.each(t.links,(function(r){r.attach=t.fire("shouldattachlink",{link:r}),r.attach?e.add(r):n.add(r)})),Ol.each(t.summaries,(function(r){r.attach=t.fire("shouldattachsummary",{summary:r}),r.attach?e.add(r):n.add(r)})),Ol.each(e,(function(e){Ol.delAttr(e.svg,"display"),t.fire("attachnode",{node:e})})),Ol.each(n,(function(e){Ol.attr(e.svg,{display:"none"}),t.fire("detachnode",{node:e})})),t},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root,n=new Set;return t.traverse(e,(function(t){r(t),n.add(t)})),Ol.each(t.links,(function(t){return r(t)})),Ol.each(t.summaries,(function(t){return r(t)})),t},r=function(e){if(Ol.attr(e.svg,{id:e.id}),!e.attach)return t;var n=new Ol.Box;return t.fire("rendercenter",{node:e,box:n}),t.fire("renderleft",{node:e,box:n}),t.fire("renderright",{node:e,box:n}),t.fire("rendertop",{node:e,box:n}),t.fire("renderbottom",{node:e,box:n}),t.fire("renderoutline",{node:e,box:n}),t.fire("renderoutside",{node:e,box:n}),e.box=n,t};t.on("newnode",(function(e){var n=e.node,r=Ol.svg("g"),i=Ol.svg("g");Ol.attach(i,r),i.inner=r,Ol.extend(n,{svg:i,box:new Ol.Box,attach:!0}),Ol.attach(t.view,i);var o=["left","center","right"];Ol.bind(r,"mousedown",(function(e){var r=e.ctrlKey||!1,i=e.shiftKey||!1,a=e.altKey||!1;t.fire("clicknode",{node:n,type:o[e.button],ctrlKey:r,shiftKey:i,altKey:a}),t.fire("nodemousedown",{type:o[e.button],ctrlKey:r,shiftKey:i,altKey:a},!0)})),Ol.bind(r,"touchstart",(function(e){t.fire("touchnode",{node:n});var r=Cl(e.touches)[0],i=new Ol.Pin(r.clientX,r.clientY);t.fire("nodetouchstart",{point:i},!0)})),Ol.bind(r,"touchend",(function(e){t.fire("nodetouchend",{},!0)}))})),t.on("recyclenode newnode",(function(e){var n=e.node;return Ol.attach(t.view,n.svg)||!0})),t.on("deletenode",(function(e){var n=e.node;return Ol.detach(t.view,n.svg)||!0})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||e.parent.attach})),t.on("shouldattachlink",(function(t){var e=t.link;return e.input.attach&&e.output.attach})),t.on("shouldattachsummary",(function(t){var e=t.summary;return Ol.each(e.trees,(function(t){return t.attach}),(function(t){return!t}))})),Ol.getter(t,{attach:function(){return e},render:function(){return n},renderNode:function(){return r}})};var Al=Tu.utils;Tu.module=function(t){var e=!1,n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.option.enableAnimation,a=t.root;if(r(a),i(a),Al.each(Il(Il({},t.links),t.summaries),(function(t){r(t),i(t)})),!n)return Al.each(Il(Il(Il({},t.trees),t.links),t.summaries),(function(t){return o(t,!1)})),t.fire("afterlayout",{},!0),t;var s=[];return Al.each(Il(Il(Il({},t.trees),t.links),t.summaries),(function(t){return s.push(o(t))})),e=!0,t.fire("beforelayout"),Promise.all(s).then((function(n){return e=!1,t.fire("afterlayout",{},!0),t}))},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root;if("tree"===e.type)t.traverse(e,(function(t){t.relVec=new Al.Vec,t.treeBox=new Al.Box})),t.traverse(t.root,(function(e){return(Tl[t.getStyle(e,"layout")]||function(){})(t,e)}),(function(t){return!t.attach}),!0);else{var n=t.getStyle(e,"layout"),r=Tl[n]||function(){};r(t,e)}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.root;"tree"===e.type?t.traverse(e,(function(t){var e=new Al.Vec;e.val=t.relVec,t.offset&&t.offset.move(e),t.parent&&t.parent.absVec.move(e),t.absVec=e})):(e.absVec.val=e.relVec,e.offset&&e.offset.move(e.absVec))},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.option.enableAnimation,r=e.absVec;return e.animate&&(e.animate.stop(),e.animate=null),n?new Promise((function(n){var r=new Al.Animate(e.vec.obj,e.absVec.obj,(function(t){var n=t.x,r=t.y;return a(e,new Al.Vec(n,r))}));e.animate=r,r.start(t.option.layoutAnimationDuration,t.option.layoutAnimationEasing,(function(){e.animate=null,n(t)}))})):(a(e,r),t)},a=function(e,n){return Al.attr(e.svg,{transform:"translate(".concat(n.x,",").concat(n.y,")")}),e.vec.val=n,e.layoutBox=e.box.cl(),n.move(e.layoutBox),t.fire("layoutnode",{node:e}),t.fire("layout".concat(e.type),jl({},e.type,e)),t},s=function(e,n){return Al.each(e,(function(e){n?(e.offset||(e.offset=new Al.Vec),n.move(e.offset),e.offset=0===e.offset.size?null:e.offset):e.offset=null,"tree"===e.type?(i(e),t.traverse(e,(function(t){return o(t,!1)}))):(r(e),i(e),o(e,!1))})),Al.each(t.links,(function(t){var n=!1;(n=(n=n||Al.has(e,t.input))||Al.has(e,t.output))&&(r(t),i(t),o(t,!1))})),Al.each(t.summaries,(function(n){if(Al.each(n.trees,(function(t){return Al.has(e,t)}),(function(t){return t})))return t;r(n),i(n),o(n,!1)})),t.fire("movenodes"),t},c=function(){var e=new Al.Box,n=Il(Il(Il({},t.trees),t.links),t.summaries);return Al.each(n,(function(t){return t.attach?e.merge(t.absVec.move(t.box.cl())):null})),e},u=function(){var e=new Al.Box,n=Il(Il(Il({},t.trees),t.links),t.summaries);return Al.each(n,(function(t){return t.attach?e.merge(t.layoutBox):null})),e};t.on("newnode",(function(t){var e=t.node;e.vec=new Al.Vec,e.layoutBox=new Al.Box,e.absVec=new Al.Vec,e.relVec=new Al.Vec,e.offset=null})),t.on("newtree",(function(t){return t.tree.treeBox=new Al.Box})),t.on("deletenode",(function(t){var e=t.node;e.animate&&(e.animate.stop(),e.animate=null)})),t.on("importnode",(function(t){var e=t.node,n=t.data;if(n.offset){var r=n.offset,i=r.x,o=r.y;e.offset=new Al.Vec(i,o)}else delete e.offset})),t.on("exportnode",(function(t){var e=t.node,n=t.data;if(e.offset){var r=e.offset.obj,i=r.x,o=r.y;n.offset={x:i,y:o}}})),t.on("exportselectednode",(function(t){var e=t.node,n=t.data,r=e.layoutBox;n.box={x:r.x,y:r.y,width:r.w,height:r.h}})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;r&&n&&(r=r.offset||{x:0,y:0},n=n.offset||{x:0,y:0},r.x===n.x&&r.y===n.y||i.push((function(){e.offset=new Al.Vec(r.x,r.y),0===e.offset.size&&(e.offset=null)})))})),Al.getter(t,{layout:function(){return n},layouting:function(){return e},moveNodes:function(){return s},move:function(){return a},targetBox:c,box:u}),Al.getter(t.mindmap,{targetBox:c,box:u})},Tu.option={enableAnimation:!0,layoutAnimationDuration:300,layoutAnimationEasing:"easeInOutCubic"},Tu.style={treeLayout:"right",linkLayout:"middle",summaryLayout:"offside"};var Tl={};Al.setter(Tu,{layout:function(t){return Tl[t.type]=t}});var Dl=Tu.utils;Tu.module=function(t){var e=Dl.svg("g"),n=Dl.svg("g");Dl.prepend(t.view,e),Dl.attach(e,n);var r=function(t){Dl.detach(e,t.connect),Dl.detach(e,t.arrow),Dl.detach(n,t.connectTextSvg)};t.on("newnode",(function(t){var e=t.node;e.connect=Dl.svg("path"),e.arrow=Dl.svg("path"),e.connectText="",e.connectTextSvg=Dl.svg("text"),Dl.attr(e.connectTextSvg,{x:25})})),t.on("importtree",(function(e){var n=e.tree,r=e.data;return n.connectText=r.connectText?r.connectText:t.option.defaultConnectText})),t.on("exportnode exportselectednode",(function(t){var e=t.node;return t.data.connectText=e.connectText})),t.on("treepatch",(function(t){var e=t.tree,n=t.last,r=t.next,i=t.patch;if(r&&n&&r.connectText!==n.connectText){var o=r.connectText;i.push((function(){return e.connectText=o}))}})),t.on("deletenode",(function(t){var e=t.node;return r(e)})),t.on("attachnode",(function(t){return function(t){Dl.attach(e,t.connect),Dl.attach(e,t.arrow),Dl.attach(n,t.connectTextSvg)}(t.node)})),t.on("detachnode",(function(t){var e=t.node;return r(e)})),t.on("layoutnode",(function(e){var n=e.node;if(n!==t.root){Dl.clean(n.connectTextSvg);var r=t.getStyle(n,"connect");(Pl[r]||function(){})(t,n)}else Dl.attr(n.connect,{d:""})}))},Tu.style={nodeConnectWidth:1,nodeConnectColor:Dl.color(0,0,0),treeConnectType:"solid",treeConnect:"ellipsex",linkConnect:"bezier",summaryConnect:"brace"};var Pl={};function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nl(t){return function(t){if(Array.isArray(t))return Rl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Rl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(n),!0).forEach((function(e){Fl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ll(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ll(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.option={defaultConnectText:""},Dl.setter(Tu,{connect:function(t){return Pl[t.type]=t}});var Hl=Tu.utils;function Ul(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Wl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(e){var n=e.node;n.text=t.option.defaultText,"link"===n.type&&(n.text="\u65b0\u5efa\u94fe\u63a5"),n.svg.inner.textGroup=Hl.svg("g"),n.svg.inner.mask=Hl.svg("rect")})),t.on("importnode",(function(e){var n=e.node,r=e.data;return n.text=r.text?r.text:t.option.defaultText})),t.on("exportnode exportselectednode",(function(t){var e=t.node;return t.data.text=e.text})),t.on("rendercenter",(function(e){var n=e.node,r=e.box,i=n.svg.inner.textGroup,o=n.svg.inner.mask;Hl.attach(n.svg.inner,i),Hl.attach(n.svg.inner,o),Hl.clean(i);var a=0,s=0,c=n.text,u=[];Hl.each(c.split("\n"),(function(e){var r=Hl.svg("text"),o=""===e;e=o?"j":e;var c=Hl.newTextNode(e);Hl.attach(r,c),Hl.attr(r,zl(zl({fill:t.getStyle(n,"font-color"),"font-size":t.getStyle(n,"font-size"),style:"font-family:".concat(t.getStyle(n,"font-family")),"text-rendering":"geometricPrecision"},t.getStyle(n,"font-bold")?{"font-weight":"bold"}:{}),t.getStyle(n,"font-italic")?{"font-style":"italic"}:{})),Hl.attach(i,r);var l=r.getBBox(),f=l.x,h=l.y,d=l.width,p=l.height;o&&Hl.detach(r,c),Hl.attr(r,{x:-f,y:-h+a}),a+=p,u.push(r),s=s>d?s:d}));var l=t.getStyle(n,"text-align");Hl.each(u,(function(t){var e=t.getBBox(),n=e.x,r=e.width;"center"===l&&Hl.attr(t,{x:n+(s-r)/2}),"right"===l&&Hl.attr(t,{x:n+s-r})}));var f=new Hl.Box(0,0,s,a);f.cx=r.cx,f.cy=r.cy,Hl.attr(i,{transform:"translate(".concat(f.x,",").concat(f.y,")")}),Hl.attr(o,{x:f.x,y:f.y,width:f.w,height:f.h,fill:"rgba(0,0,0,0)"}),r.w=r.w>f.w?r.w:f.w,r.h=r.h>f.h?r.h:f.h,r.cx=f.cx,r.cy=f.cy})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;if(r&&n&&r.text!==n.text){var o=r.text;i.push((function(){return e.text=o}))}})),Hl.getter(t.mindmap,{outputText:function(){var e=t.selectedRoots;return Hl.map(Nl(e),(function(t){return function t(e){var n=Hl.map(e.children,(function(e){return Hl.map(t(e).split("\n"),(function(t){return"\t"+t})).join("\n")})),r=e.text;return(r=(r=r.replace(/\t/g,"\\t")).replace(/\n/g,"\\n"))+(0===n.length?"":"\n"+n.join("\n"))}(t)})).join("\n")}})},Tu.option={defaultText:"\u65b0\u5efa\u8282\u70b9"},Tu.style={nodeFontSize:18,nodeFontColor:Hl.color(0,0,0),nodeFontFamily:"SimHei",nodeFontBold:!1,nodeFontItalic:!1,nodeTextAlign:"left"};var Yl=Tu.utils;function Vl(t){return function(t){if(Array.isArray(t))return Gl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Gl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.border=Yl.svg("path")})),t.on("renderoutline",(function(e){var n=e.node,r=e.box,i=n.svg.inner.border;Yl.prepend(n.svg.inner,i);var o=t.getStyle(n,"border-radius"),a=Ul(t.getStyle(n,"padding"),2),s=a[0],c=a[1];r.w+=2*s,r.h+=2*c,r.x-=s,r.y-=c,o=r.w-2*o>0?o:r.w/2,o=r.h-2*o>0?o:r.h/2,Yl.attr(i,{d:"\n        M".concat(r.x+o,",").concat(r.y,"\n        h").concat(r.w-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(o,"\n        v").concat(r.h-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(o,"\n        h").concat(2*o-r.w,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(-o,"\n        v").concat(2*o-r.h,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(-o,"\n        z\n      ").replace(/\s/g,""),fill:t.getStyle(n,"background-color"),stroke:t.getStyle(n,"border-color"),"stroke-width":t.getStyle(n,"border-width")})}))},Tu.style={nodeBorderWidth:1,nodeBorderColor:Yl.color(0,0,0),nodeBorderRadius:5,nodeBackgroundColor:Yl.color(255,255,255,0),nodePadding:[10,10],nodeMargin:[40,20]};var Xl=Tu.utils;Tu.module=function(t){var e=Xl.svg("path"),n=new Xl.Pin,r=new Xl.Pin,i=!1,o=new Set,a=!1,s=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xl.each(n,(function(e){e.selected=!0,Xl.has(o,e)||(o.add(e),t.renderNode(e))})),t.fire("interactchange")},c=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xl.each(n,(function(e){e.selected=!1,Xl.has(o,e)&&(o.delete(e),t.renderNode(e))})),t.fire("interactchange")},u=function(){return Xl.each(o,(function(e){e.selected=!1,t.renderNode(e)})),o.clear(),t.fire("interactchange"),t},l=function(){var i=new Xl.Box(n,r);Xl.attr(e,{d:"\n        M".concat(i.x,",").concat(i.y,"\n        h").concat(i.w,"\n        v").concat(i.h,"\n        h").concat(-i.w,"\n        v").concat(-i.h,"\n        z\n      ").replace(/\s/g,""),fill:t.getStyle("selector-color"),stroke:t.getStyle("selector-border-color"),"stroke-width":t.getStyle("selector-border-width")})},f=new Xl.Loop((function(){(t.layouting||i)&&(!function(){var e=t.toView(new Xl.Box(n,r)),i=function(t){return!!e.cl().intersect(t.layoutBox).area()};Xl.each(t.trees,(function(t){return i(t)?s(t):c(t)})),Xl.each(t.links,(function(t){return i(t)?s(t):c(t)})),Xl.each(t.summaries,(function(t){return i(t)?s(t):c(t)}))}(),l(),i=!1)}),t.option.detectDelay);t.on("edit->select",(function(n){f.start(),l(),Xl.attach(t.svg,e)})),t.on("select->edit",(function(n){Xl.detach(t.svg,e),f.stop()})),t.on("edit::clicknode edit::touchnode",(function(t){var e=t.node,n=t.shiftKey,r=t.ctrlKey;n||(a=!0,r?o.has(e)?c(e):s(e):o.has(e)||(u(),s(e)))})),t.on("mousedown",(function(t){a?a=!1:u()})),t.on("edit::mousedown",(function(e){var o=e.point,a=e.type;e.shiftKey&&"left"===a&&(n=o,r=o,i=!0,t.status="select")})),t.on("select::mousemove",(function(t){var e,n=t.point;return i=(e=[!0,n])[0],r=e[1],e})),t.on("select::mouseup select::touchend select::mousedown select::touchstart",(function(e){return t.status="edit"})),t.on("newnode",(function(t){var e=t.node;e.selected=!1,e.svg.inner.select=Xl.svg("path")})),t.on("renderoutline",(function(e){var n=e.node,r=e.box,i=n.svg.inner.select;if(n.selected){Xl.attach(n.svg.inner,i);var o=t.getStyle(n,"select-radius");o=r.w-2*o>0?o:r.w/2,o=r.h-2*o>0?o:r.h/2,Xl.attr(i,{d:"\n        M".concat(r.x+o,",").concat(r.y,"\n        h").concat(r.w-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(o,"\n        v").concat(r.h-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(o,"\n        h").concat(2*o-r.w,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(-o,"\n        v").concat(2*o-r.h,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(-o,"\n        z\n      ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(n,"select-color"),"stroke-width":t.getStyle(n,"select-width")})}else Xl.detach(n.svg.inner,i)})),t.on("exportselectednode",(function(t){var e=t.node,n=t.data;n.id=e.id,n.type=e.type})),Xl.getter(t,{selectedNodes:function(){return o},cleanSelected:function(){return u},select:function(){return s},reject:function(){return c},selectedRoots:function(){var e=new Set;return Xl.each(o,(function(t){return"tree"===t.type?e.add(t):null})),Xl.each(Vl(e),(function(n){!t.backtrack(n,(function(t){return!e.has(t)}))&&e.delete(n)})),e}}),Xl.getter(t.mindmap,{cleanSelected:function(){return u},selectedNodes:function(){var e=[];return Xl.each(o,(function(n){var r={};t.fire("exportselectednode",{node:n,data:r}),e.push(r)})),e},selectedNode:function(){var e=Vl(o)[0];if(!e)return null;var n={};return t.fire("exportselectednode",{node:e,data:n}),n}})},Tu.option={detectDelay:0},Tu.style={selectorColor:Xl.color(0,0,0,.05),selectorBorderColor:Xl.color(0,0,0),selectorBorderWidth:1,nodeSelectRadius:0,nodeSelectColor:Xl.color(0,0,0),nodeSelectWidth:3};var Kl=Tu.utils;function Zl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Ql(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(t){return function(t){if(Array.isArray(t))return Jl(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ql(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(t,e){if(t){if("string"===typeof t)return Jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jl(t,e):void 0}}function Jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("renderoutline",(function(e){var n=e.node,r=e.box;if("tree"===n.type){var i=n.svg.inner.target;if(n.isTarget){Kl.attach(n.svg.inner,i);var o=t.getStyle(n,"target-radius");o=r.w-2*o>0?o:r.w/2,o=r.h-2*o>0?o:r.h/2,Kl.attr(i,{d:"\n        M".concat(r.x+o,",").concat(r.y,"\n        h").concat(r.w-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(o,"\n        v").concat(r.h-2*o,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(o,"\n        h").concat(2*o-r.w,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(-o,"\n        v").concat(2*o-r.h,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(-o,"\n        z\n      ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(n,"target-color"),"stroke-width":t.getStyle(n,"target-width")})}else Kl.detach(n.svg.inner,i)}}))},Tu.style={treeTargetRadius:0,treeTargetColor:Kl.color(0,0,0),treeTargetWidth:3};var $l=Tu.utils;function tf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||nf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(t){return function(t){if(Array.isArray(t))return rf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(t,e){if(t){if("string"===typeof t)return rf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(t,e):void 0}}function rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){var e=null,n=null,r=$l.svg("path"),i=new $l.Pin,o=new $l.Pin,a=new $l.Pin,s=function(){var e=function(t,e){return"\n      M".concat(t.x-e,",").concat(t.y,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(e,",").concat(e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(e,",").concat(-e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(-e,",").concat(-e,"\n      a").concat(e,",").concat(e,",0,0,0,").concat(-e,",").concat(e,"\n      z\n    ").replace(/\s/g,"")},n=[].concat(ql(i.arr),ql(o.arr)),a=n[0],s=n[1],c=n[2],u=n[3],l=t.getStyle("catcher-width"),f=t.getStyle("catcher-radius"),h=c-a,d=u-s,p=Math.sqrt(h*h+d*d),v=Zl(0===p?[0,0]:[h/p,d/p],2),g=v[0];h=l/2*v[1],d=l/2*g,$l.attr(r,{d:e(i,f)+"\n          M".concat(a+h,",").concat(s-d,"\n          L").concat(a-h,",").concat(s+d,"\n          L").concat(c-h,",").concat(u+d,"\n          L").concat(c+h,",").concat(u-d,"\n        ").replace(/\s/g,"")+e(o,f),fill:t.getStyle("catcher-color"),"stroke-width":0})},c=function(){!!$l.each(t.trees,(function(e){if(!e.attach)return!1;var r=e.layoutBox;return!!r.cover(o)&&(o.val=r.center,n===e||(n&&(n.isTarget=!1,t.renderNode(n)),e.isTarget=!0,t.renderNode(e),n=e),!0)}),(function(t){return t}))&&n&&(n.isTarget=!1,t.renderNode(n)),s()},u=new $l.Loop((function(){!t.layouting&&o.eq(a)||(c(),a.val=o)}),t.option.catchDelay);t.on("edit->link",(function(n){i.val=e.layoutBox.center,o.val=i,s(),$l.attach(t.view,r),u.start()})),t.on("link->edit",(function(i){$l.detach(t.view,r),u.stop(),function(){if(n){var r=t.newLink();r.output=n,r.input=e,n.isTarget=!1,n=null,t.links[r.id]=r,t.attach().renderNode(r).renderNode(r.output).move(r,r.input.absVec).layout(),t.fire("contentchange",{},!0);var i={id:r.input.id,title:r.input.text},o={id:r.output.id,title:r.output.text},a={id:r.id,title:r.text,inputId:r.input.id,outputId:r.output.id};t.fire("lrs:addrelation",{input:i,output:o,node:a},!0),e=null}}()})),t.on("link::mousemove",(function(e){var n=e.point;return o.val=t.toView(n)})),t.on("link::mousedown",(function(e){e.point;return t.status="edit"})),t.on("link::touchstart",(function(e){var n=e.point;o.val=t.toView(n),c(),t.status="edit"})),$l.setter(t,{source:function(t){return e=t}})},Tu.option={catchDelay:0},Tu.style={catcherColor:$l.color(0,0,0,.7),catcherWidth:3,catcherRadius:8};var of=Tu.utils;Tu.module=function(t){var e=new of.Pin,n=new of.Pin,r=!1,i=!1,o=new Set,a=new Set,s=null,c=null,u=null,l=t.option.sortable,f=t.option.offsetChangeable,h=new of.Loop((function(){e.eq(n)||(t.moveNodes(o,new of.Vec(e,n).scale(1/t.zoom)),e=n,t.option.readOnly||i&&(d(),1===of.size(o)&&l&&p()))}),t.option.dragNodesDelay),d=function(){var e=s;return s=null,of.each(o,(function(t){return of.each(a,(function(e){var n=e.layoutBox,r=n.cl().intersect(t.layoutBox).area();if(r>n.area()/2||r>t.layoutBox.area()/2)return s=e,!0}),(function(t){return t}))}),(function(t){return!t})),e===s?!!s:e?(e.isTarget=!1,t.renderNode(e),!1):s?(s.isTarget=!0,t.renderNode(s),!0):void 0},p=function(){var e=c,n=u;c=null,u=null;var r=ef(o)[0],i=null;s||of.each(r.parent.children,(function(e){if(r===e)return!1;var n=r.layoutBox,o=e.layoutBox,a=t.getStyle(e,"arrange-gap"),s=["up","down","left","right"];s=of.map(s,(function(e){return t.getStyle(r,"arrange-".concat(e))}));var l=null,f=tf(s,4),h=f[0],d=f[1],p=f[2],v=f[3];return"none"!==h&&(l=h,i=new of.Box(o.x,o.y-a-5,o.w,a),n.cl().intersect(i).area()>0)||"none"!==d&&(l=d,i=new of.Box(o.x,o.y+o.h+5,o.w,a),n.cl().intersect(i).area()>0)||"none"!==p&&(l=p,i=new of.Box(o.x-a-5,o.y,a,o.h),n.cl().intersect(i).area()>0)||"none"!==v&&(l=v,i=new of.Box(o.x+o.w+5,o.y,a,o.h),n.cl().intersect(i).area()>0)?(c=e,u=l,!0):void 0}),(function(t){return t})),c===e&&u===n||(e&&(e.arrangeBox=null,t.renderNode(e)),c&&(c.arrangeBox=i,t.renderNode(c)))};t.on("newnode",(function(t){return(t.node.dragging=!1)||!0})),t.on("newtree",(function(t){var e=t.tree;e.isTarget=!1,e.svg.inner.target=of.svg("path")})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||!e.parent.dragging})),t.on("renderoutside",(function(t){var e=t.node;return of.elif(e.dragging,{true:function(){return of.attr(e.svg,{opacity:.4})},false:function(){return of.delAttr(e.svg,"opacity")}})})),t.on("predrag->drag",(function(e){if(!r){var n=of.group(t.selectedNodes,(function(t){return t.type}));o=of.elif(n.tree?"tree":"other",{tree:function(){return of.each(n.tree,(function(e){t.backtrack(e,(function(t){return!n.tree.has(t)}))||n.tree.delete(e)})),of.each(n.tree,(function(t){return t.dragging=!0})),i=!0,a=of.toSet(t.trees,(function(t){return t})),of.each(n.tree,(function(e){return t.traverse(e,(function(t){return a.delete(t)}))})),n.tree},other:function(){var t=new Set;return n.link&&(of.each(n.link,(function(t){return t.dragging=!0})),t=new Set([].concat(ef(t),ef(n.link)))),n.summary&&(of.each(n.summary,(function(t){return t.dragging=!0})),t=new Set([].concat(ef(t),ef(n.summary)))),i=!1,t}}),t.attach(),of.each(o,(function(e){return t.renderNode(e)})),h.start()}})),t.on("drag->edit",(function(e){if(!r){if(h.stop(),of.each(o,(function(t){return t.dragging=!1})),i&&s){var n=of.map(o,(function(t){return t.id}));t.fire("dragnodestotarget",{nodes:n,target:s.id},!0);var a=[];t.option.dragNodesToTarget&&of.each(o,(function(e){var n={node:{id:e.id,title:e.text}};n.source={id:e.parent.id,title:e.parent.text},of.del(e.parent.children,e),e.parent=s,n.target={id:s.id,title:s.text},a.push(n),s.children.push(e),t.arrange(e),t.traverse(e,(function(t){return t.level=t.parent.level+1}))})),s.isTarget=!1,s=null,t.attach().render().layout(),t.fire("contentchange",{},!0),t.fire("lrs:drag",{items:a},!0)}else of.each(o,(function(e){return t.renderNode(e)})),t.fire("contentchange",{},!0),t.attach().layout(!1);if(c){var l=ef(o)[0];"last"===u&&t.arrangeLast(l,c),"next"===u&&t.arrangeNext(l,c),t.renderNode(l),c.arrangeBox=null,t.renderNode(c),t.arrange(l),t.layout(),t.fire("contentchange",{},!0),u=null,c=null}f||t.moveNodes(o)}})),t.on("edit::clicknode edit::touchnode",(function(e){var n=e.type,i=e.ctrlKey,o=e.shiftKey,a=e.altKey;i||o||a||n&&"left"!==n||t.layouting||(r=of.has(t.selectedNodes,t.root),t.status="predrag")})),t.on("predrag::mousedown predrag::touchstart",(function(t){var r,i=t.point;return e=(r=[i,i])[0],n=r[1],r})),t.on("predrag::mouseup predrag::touchend",(function(e){return t.status="edit"})),t.on("predrag::mousemove predrag::touchmove",(function(e){return t.status="drag"})),t.on("drag::mousemove drag::touchmove",(function(e){var i=e.point;if(!r)return n=i;var o=t.center;new of.Vec(n,i).scale(-1/t.zoom).move(o),t.center=o,n=i})),t.on("drag::mouseup drag::touchend",(function(e){return t.status="edit"}))},Tu.option={dragNodesDelay:0,dragNodesToTarget:!0,offsetChangeable:!0};var af=Tu.utils;function sf(t){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cf(Object(n),!0).forEach((function(e){lf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newtree",(function(e){var n=e.tree;n.expand=!0;var r=af.svg("path");n.svg.inner.expand=r,af.each(["mousedown","touchstart"],(function(e){r.addEventListener(e,(function(e){n.expand=!n.expand,t.attach().render(n).layout(),t.fire("contentchange",{},!0);var r={node:{id:n.id,title:n.text},parent:n.parent?{id:n.parent.id,title:n.parent.text}:null};t.fire("lrs:expand",{item:r,expand:n.expand},!0)}))}))})),t.on("importtree",(function(t){var e=t.tree,n=t.data;return(e.expand=!n.expand||"collapse"!==n.expand)||!0})),t.on("exporttree",(function(t){var e=t.tree;return t.data.expand=e.expand?"expand":"collapse"})),t.on("shouldattachtree",(function(t){var e=t.tree;return!e.parent||e.parent.expand})),t.on("renderoutside",(function(e){var n=e.node,r=e.box;if("tree"===n.type){var i=n.svg.inner.expand;if(n.children.length){af.attach(n.svg,i);var o=t.getStyle("expand-size")/2,a="\n      M 0,".concat(-o,"\n      a ").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(o,"\n      a ").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(o,"\n      a ").concat(o,",").concat(o,",0,0,1,").concat(-o,",").concat(-o,"\n      a ").concat(o,",").concat(o,",0,0,1,").concat(o,",").concat(-o,"\n    ").replace(/\s/g,""),s=n.expand?"M ".concat(-o,",0 l ").concat(2*o,",0"):"M ".concat(-o,",0 l ").concat(2*o,",0 M 0,").concat(-o," l 0,").concat(2*o),c=t.getStyle(n,"expand-position")||"right",u=af.elif(c,{left:function(){return"translate(".concat(r.l-o/2,",").concat(r.cy,")")},right:function(){return"translate(".concat(r.r+o/2,",").concat(r.cy,")")},top:function(){return"translate(".concat(r.cx,",").concat(r.t-o/2,")")},bottom:function(){return"translate(".concat(r.cx,",").concat(r.b+o/2,")")},leftBottom:function(){return"translate(".concat(r.l-o/2,",").concat(r.b+o/2,")")},rightBottom:function(){return"translate(".concat(r.r+o/2,",").concat(r.b+o/2,")")}});af.attr(i,{d:a+s,fill:t.getStyle("expand-background-color"),stroke:t.getStyle("expand-border-color"),"stroke-width":1,transform:u})}else af.detach(n.svg,i)}})),t.on("treepatch",(function(t){var e=t.tree,n=t.last,r=t.next,i=t.patch;r&&n&&r.expand!==n.expand&&i.push((function(){return e.expand="collapse"!==r.expand}))}))},Tu.style={expandSize:16,expandBorderColor:af.color(128,128,128),expandBackgroundColor:af.color(255,255,255),treeExpandPosition:"right"};var ff=Tu.utils;function hf(t){return function(t){if(Array.isArray(t))return df(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return df(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){if(t.option.map){var e=1,n=new ff.Pin,r=ff.svg("svg"),i=t.option.mapWidth,o=t.option.mapHeight;ff.attr(r,{width:i,height:o});var a=ff.svg("path");ff.attach(r,a);var s=function(){var r=t.box,s=-r.l,c=-r.t,u=i/r.w,l=o/r.h,f=u>l?l:u,h=uf(uf(uf({},t.trees),t.links),t.summaries),d="";ff.each(h,(function(t){if(t.attach){var e=t.layoutBox;d+="\n        M".concat((e.l+s)*f,",").concat((e.t+c)*f,"\n        L").concat((e.r+s)*f,",").concat((e.t+c)*f,"\n        L").concat((e.r+s)*f,",").concat((e.b+c)*f,"\n        L").concat((e.l+s)*f,",").concat((e.b+c)*f,"\n        Z\n      ").replace(/\s/g,"")}})),ff.attr(a,{d:d,fill:t.getStyle("map-color"),transform:u<l?"translate(".concat(0,",",(o-r.h*f)/2,")"):"translate(".concat((i-r.w*f)/2,",",0,")")}),e=f,n={x:r.cx,y:r.cy},t.fire("updatemap",{},!0)},c=new ff.Loop((function(){return s()}));t.on("beforelayout",(function(t){return c.start()})),t.on("afterlayout",(function(t){c.stop(),s()})),t.on("movenodes",(function(t){return s()})),ff.getter(t.mindmap,{map:function(){return r},mapRatio:function(){return e},mapCenter:function(){return n}})}},Tu.option={map:!1,mapWidth:120,mapHeight:120},Tu.style={mapColor:ff.color(0,0,0)};var pf=Tu.utils;Tu.module=function(t){var e=null,n=function(){var n=t.selectedRoots;return 0===n.size||(e=pf.map(hf(n),(function(e){var n={};return t.fire("exporttree",{tree:e,data:n}),t.fire("exportnode",{node:e,data:n}),t.traverse(n,(function(t){return t.id=null})),n}))),t},r=function(){if(!e||e&&0===e.length)return!1;var n=t.selectedNodes,r=new Set;pf.each(n,(function(t){return"tree"===t.type?r.add(t):null}));var i=[];return pf.each(r,(function(n){return pf.each(e,(function(e){var r=t.newTree();i.push(r),r.parent=n,r.level=n.level+1,n.children.push(r),t.fire("importnode",{node:r,data:e}),t.fire("importtree",{tree:r,data:e}),t.move(r,n.absVec)}))})),i};pf.getter(t,{copy:function(){return n},paste:function(){return r}})};var vf=Tu.utils;function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return yf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bf(Object(n),!0).forEach((function(e){wf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){var e=null,n=null,r=!1;t.on("edit::mousedown edit::touchstart",(function(t){var n=t.point,i=t.type,o=t.number,a=t.shiftKey;r=!1,a||i&&"left"!==i||o>1||(e=n,r=!0)})),t.on("edit::mousemove edit::touchmove",(function(i){var o=i.point;n=o,!r||e&&n.dist(e)<10||(r=!1,t.status="hand")})),t.on("edit::mouseup edit::touchend",(function(t){r=!1})),t.on("hand::mousemove hand::touchmove",(function(r){var i=r.point,o=t.center;e=n,n=i,new vf.Vec(e,n).scale(-1/t.zoom).move(o),t.center=o})),t.on("hand::mouseup hand::touchend",(function(e){var n=["edit",!1];t.status=n[0],r=n[1]}))};var xf=Tu.utils;function Sf(t){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Mf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Of(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Of(Object(n),!0).forEach((function(e){Ef(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ef(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.icon=xf.svg("image")})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.icon?e.icon=_f({},n.icon):null})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.icon?n.icon=_f({},e.icon):null})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;r&&n&&(n=n.icon||{},r=r.icon||{},n.url===r.url&&n.type===r.type||i.push((function(){return e.icon=r.type?_f({},r):null})))})),t.on("renderleft",(function(e){var n=e.node,r=e.box,i=n.svg.inner.icon;if(n.icon){xf.attach(n.svg.inner,i);var o=mf(t.getStyle("icon-margin"),2),a=o[0],s=o[1],c=t.getStyle("icon-width"),u=t.getStyle("icon-height");xf.attr(i,{width:c,height:u,transform:"translate(".concat((r.l+r.r)/2-r.w/2-a-c,",").concat((r.t+r.b)/2-u/2,")")});var l=_f({},n.icon);t.fire("beforerendericon",{icon:l},!0),i.setAttribute("href",l.url),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l.url);var f=r.cy,h=(r.r+r.l-2*a-c)/2;r.w=r.w+2*a+c,r.h=r.h>u+2*s?r.h:u+2*s,r.cy=f,r.cx=h}else xf.detach(n.svg.inner,i)}))},Tu.style={iconWidth:25,iconHeight:25,iconMargin:[5,5]};var If=Tu.utils;function jf(t){return(jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Tf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Df(Object(n),!0).forEach((function(e){Lf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=jf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.module=function(t){t.on("newnode",(function(t){return t.node.svg.inner.image=If.svg("image")})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.image?e.image=kf({},n.image):null})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.image?n.image=kf({},e.image):null})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;r&&n&&(n=n.image||{},r=r.image||{},n.url===r.url&&n.type===r.type||i.push((function(){return e.image=r.type?kf({},r):null})))})),t.on("rendertop",(function(e){var n=e.node,r=e.box,i=n.svg.inner.image;if(n.image){If.attach(n.svg.inner,i);var o=Cf(t.getStyle("image-margin"),2),a=o[0],s=o[1],c=t.getStyle("max-image-width"),u=t.getStyle("max-image-height"),l=n.image.width>c,f=n.image.height>u,h=l?c:n.image.width,d=f?u:n.image.height;If.attr(i,{width:h,height:d,transform:"translate(".concat((r.l+r.r)/2-h/2,",").concat((r.t+r.b)/2-d-r.h/2-s,")")});var p=kf({},n.image);t.fire("beforerenderimage",{image:p},!0),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.url),i.setAttribute("href",p.url),If.bind(i,"dblclick",(function(e){t.fire("imagedblclick",{image:n.image},!0),e.stopPropagation()}));var v=0;If.bind(i,"touchstart",(function(e){2!==++v?setTimeout((function(){return v=0}),200):t.fire("imagedblclick",{image:n.image},!0)}));var g=r.cx,m=(r.b+r.t-2*s-d)/2;r.w=r.w>h+2*a?r.w:h+2*a,r.h=r.h+2*s+d,r.cy=m,r.cx=g}else If.detach(n.svg.inner,i)}))},Tu.style={maxImageWidth:450,maxImageHeight:450,imageMargin:[5,5]};var Nf=Tu.utils;function Rf(t){return function(t){if(Array.isArray(t))return Bf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.module=function(t){t.on("newnode",(function(t){var e=t.node;e.svg.inner.attachment=Nf.svg("g"),e.svg.inner.attachment.blocks=[],e.attachments=[]})),t.on("importnode",(function(t){var e=t.node,n=t.data;return n.attachments?e.attachments=Nf.map(n.attachments,(function(t){return Pf({},t)})):e.attachments=[]})),t.on("exportnode exportselectednode",(function(t){var e=t.node,n=t.data;return e.attachments?n.attachments=Nf.map(e.attachments,(function(t){return Pf({},t)})):n.attachments=[]})),t.on("nodepatch",(function(t){var e=t.node,n=t.last,r=t.next,i=t.patch;r&&n&&(n=n.attachments||[],r=r.attachments||[],JSON.stringify(n)!==JSON.stringify(r)&&i.push((function(){return e.attachments=JSON.parse(JSON.stringify(r))})))})),t.on("renderright",(function(e){var n=e.node,r=e.box,i=n.svg.inner.attachment;Nf.attach(n.svg.inner,i);var o=i.blocks,a=n.attachments.length-o.length;a>0&&Nf.repeat(a,(function(){var t=Nf.svg("rect"),e=Nf.svg("text"),n=Nf.svg("g");Nf.attr(n,{id:Nf.guid()}),n.text=e,n.background=t,Nf.attach(n,t),Nf.attach(n,e),Nf.attach(i,n),o.push(n)})),Nf.each(o,(function(e,r){e.onmousedown=function(e){var i=new Nf.Pin(e.clientX,e.clientY);t.select(n),t.fire("openattachment",{attachment:Pf({},n.attachments[r]),type:["left","center","right"][e.button],point:i},!0),e.stopPropagation()},e.onmouseover=function(e){var i=new Nf.Pin(e.clientX,e.clientY);t.fire("attachmentmouseover",{attachment:Pf({},n.attachments[r]),point:i},!0),e.stopPropagation()},e.onmouseout=function(e){t.fire("attachmentmouseout",{attachment:Pf({},n.attachments[r])},!0),e.stopPropagation()},e.touchEvent&&e.removeEventListener("touchstart",e.touchEvent),e.touchEvent=function(e){var i=new Nf.Pin(e.touches[0].clientX,e.touches[0].clientY);t.fire("openattachment",{attachment:Pf({},n.attachments[r]),type:"touch",point:i},!0),e.stopPropagation()},e.addEventListener("touchstart",e.touchEvent)}));var s=t.getStyle("attachment-color"),c=Af(t.getStyle("attachment-margin"),2),u=c[0],l=c[1],f=Af(t.getStyle("attachment-padding"),2),h=f[0],d=f[1],p=[],v=[];Nf.each(o,(function(t,e){if(e>=n.attachments.length)Nf.attr(t,{display:"none"});else{Nf.delAttr(t,"display");var i=t.text;Nf.attr(i,{"text-rendering":"geometricPrecision",fill:"white","font-size":12,"font-family":"Arial"});var o=Nf.newTextNode(n.attachments[e].keyword.toLocaleUpperCase());Nf.clean(i),Nf.attach(i,o);var a=i.getBBox(),s=a.x,c=a.y,u=a.width,l=a.height;p.push(new Nf.Box(s-h,c-d,u+2*h,l+2*d)),v.push(new Nf.Vec(r.cx-s-u/2,r.cy-c-l/2))}}));var g=t.getStyle("max-attachment-width"),m=0,y=0,b=0,_=0;Nf.each(v,(function(t,e){if(m>g){var n=[0,y+b+2*l,0];m=n[0],y=n[1],b=n[2]}var r=p[e];new Nf.Vec(r.w/2+m+u,r.h/2+y+l).move(t),m=m+r.w+2*u,b=b>r.h?b:r.h,_=_>m?_:m}));var w=_,x=y+b+2*l;Nf.each(n.attachments,(function(t,e){var n=o[e],r=n.background,i=p[e],a=v[e];new Nf.Vec(-w/2,-x/2).move(a),Nf.attr(r,{fill:s[t.keyword.toLocaleLowerCase()]||"#b5b5b5",x:i.x,y:i.y,width:i.w,height:i.h}),Nf.attr(n,{transform:"translate(".concat(a.x,",").concat(a.y,")"),style:"cursor:pointer"})})),Nf.attr(i,{transform:"translate(".concat(w/2+r.w/2,",",0,")")});var S=r.cy,C=(r.l+r.r+w)/2;r.w=r.w+w,r.h=r.h>x?r.h:x,r.cy=S,r.cx=C}))},Tu.style={maxAttachmentWidth:120,attachmentMargin:[2,2],attachmentPadding:[3,3],attachmentColor:{ppt:"#D04526",pptx:"#D04526",doc:"#2B5796",docx:"#2B5796",rtf:"#2B5796",wps:"#2B5796",dps:"#2B5796",et:"#2B5796",xls:"#1E7145",xlsx:"#1E7145",pdf:"#FD0100",wmp:"#3C3C3C",rmvb:"#3C3C3C",rm:"#3C3C3C",dat:"#3C3C3C",mpg:"#3C3C3C",mpeg:"#3C3C3C",mpga:"#3C3C3C",avi:"#3C3C3C",mov:"#3C3C3C",mkv:"#3C3C3C",wav:"#3C3C3C",asf:"#3C3C3C",flv:"#3C3C3C",f4v:"#3C3C3C",rmi:"#3C3C3C",mid:"#3C3C3C",mp2:"#3C3C3C",amr:"#3C3C3C","3gp":"#3C3C3C",mp4:"#3C3C3C",wma:"#3C3C3C",wmv:"#3C3C3C",mp3:"#3C3C3C",bmp:"#98cb00",gif:"#98cb00",jpg:"#98cb00",jpeg:"#98cb00",png:"#98cb00",ico:"#98cb00",tif:"#98cb00",tiff:"#98cb00",htm:"#545B88",html:"#545B88",mht:"#545B88",wb:"#005000",swf:"#E3151C",txt:"#A0A0A0",zip:"#824871",imp:"#3C3C3C",impp:"#3C3C3C",videoslip:"#3C3C3C",imglst:"#98cb00",web:"#538CB5","\u5bfc\u56fe":"#0050b3","\u7b14\u8bb0":"#531dab","\u5e7b\u706f\u7247":"#cf1322","\u95ee\u7b54":"#1e3677","\u767d\u677f":"#237804","\u8ba8\u8bba":"#22a9f0","\u89c6\u9891":"#5bd1d7"}};var zf=Tu.utils;Tu.module=function(t){var e=t.option.sortable,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zf.each(n,(function(e){"tree"===e.type?t.traverse(e,(function(t){return t.offset=null})):e.offset=null})),t},r=function(t){return 0===zf.key(t.parent.children,t)},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.parent.children;return zf.key(e,t)===e.length-1},o=function(t,e){var n=t.parent.children,r=n.slice(0,e),i=n.slice(e,n.length);zf.del(r,t),zf.del(i,t),t.parent.children=[].concat(Rf(r),[t],Rf(i))},a=function(t,n){if(e){var r=t.parent.children,i=n?zf.key(r,n):zf.key(r,t)-1;o(t,i)}},s=function(t,n){if(e){var r=t.parent.children,i=n?zf.key(r,n)+1:zf.key(r,t)+2;o(t,i)}};t.on("newtree",(function(t){var e=t.tree;e.arrangeBox=null;var n=zf.svg("rect");e.svg.arrange=n})),t.on("renderoutside",(function(n){var r=n.node,i=n.box;if(e&&"tree"===r.type){var o=r.arrangeBox;if(o){var a=r.svg.arrange;zf.attach(r.svg,a);var s=r.layoutBox;zf.attr(a,{width:o.w,height:o.h,x:i.x-s.x+o.x,y:i.y-s.y+o.y,fill:t.getStyle(r,"arrange-color")})}else zf.detach(r.svg,r.svg.arrange)}})),zf.getter(t,{isFirst:function(){return r},isLast:function(){return i},arrangeLast:function(){return a},arrangeNext:function(){return s},arrange:function(){return n}})},Tu.style={treeArrangeUp:"none",treeArrangeDown:"none",treeArrangeLeft:"none",treeArrangeRight:"none",treeArrangeGap:15,treeArrangeColor:"black"},Tu.option={sortable:!0};var Ff=Tu.utils,Hf=["left","center","right"];Tu.event={target:"win",type:"mousedown",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,i=e.altKey||!1,o=new Ff.Pin(e.clientX,e.clientY),a=Hf[e.button];t.fire("mousedown",{point:o,type:a,ctrlKey:n,shiftKey:r,altKey:i},!0)}}};var Uf=Tu.utils;Tu.event={target:"win",type:"mousemove",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,i=e.altKey||!1,o=new Uf.Pin(e.clientX,e.clientY);t.fire("mousemove",{point:o,ctrlKey:n,shiftKey:r,altKey:i},!0)}}};var Wf=Tu.utils,Yf=["left","center","right"];Tu.event={target:"win",type:"mouseup",bind:function(t){return function(e){var n=e.ctrlKey||!1,r=e.shiftKey||!1,i=e.altKey||!1,o=new Wf.Pin(e.clientX,e.clientY),a=Yf[e.button];t.fire("mouseup",{point:o,type:a,ctrlKey:n,shiftKey:r,altKey:i},!0)}}};var Vf=Tu.utils;Tu.event={target:"win",type:"click",bind:function(t){return function(e){var n=new Vf.Pin(e.clientX,e.clientY);t.fire("click",{point:n},!0)}}};var Gf=Tu.utils;function Xf(t){return function(t){if(Array.isArray(t))return Kf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Kf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"dblclick",bind:function(t){return function(e){var n=new Gf.Pin(e.clientX,e.clientY);t.fire("dblclick",{point:n},!0)}}};var Zf=Tu.utils;function qf(t){return function(t){if(Array.isArray(t))return Qf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Qf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"touchend",bind:function(t){return function(e){var n=Xf(e.changedTouches),r=Zf.map(n,(function(t){return new Zf.Pin(t.clientX,t.clientY)})),i=r[0];t.fire("touchend",{points:r,point:i,number:e.touches.length},!0),e.preventDefault()}}};var Jf=Tu.utils;function $f(t){return function(t){if(Array.isArray(t))return th(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return th(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return th(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.event={target:"win",type:"touchmove",bind:function(t){return function(e){var n=qf(e.changedTouches),r=Jf.map(n,(function(t){return new Jf.Pin(t.clientX,t.clientY)})),i=r[0],o=r.length;t.fire("touchmove",{points:r,point:i,number:o},!0),e.preventDefault()}}};var eh=Tu.utils;Tu.event={target:"win",type:"touchstart",bind:function(t){return function(e){var n=$f(e.touches),r=eh.map(n,(function(t){return new eh.Pin(t.clientX,t.clientY)})),i=r[0],o=r.length;t.focus(),t.fire("touchstart",{points:r,point:i,number:o},!0),e.preventDefault()}}};var nh=Tu.utils;Tu.event={target:"win",type:"mousewheel",bind:function(t){return function(e){var n=e.wheelDelta,r=new nh.Pin(e.clientX,e.clientY);t.fire("mousewheel",{delta:n,point:r},!0),e.preventDefault()}}};var rh=Tu.utils;Tu.event={target:"win",type:"DOMMouseScroll",bind:function(t){return function(e){var n=-40*e.detail,r=new rh.Pin(e.clientX,e.clientY);t.fire("mousewheel",{delta:n,point:r},!0),e.preventDefault()}}},Tu.event={target:"body",type:"focus",bind:function(t){return function(e){t.fire("focus",{},!0),e.preventDefault()}}},Tu.event={target:"body",type:"blur",bind:function(t){return function(e){t.fire("blur",{},!0),e.preventDefault()}}},Tu.event={target:"win",type:"resize",bind:function(t){return function(e){var n={width:e.target.innerWidth,height:e.target.innerHeight};t.fire("resize",{size:n},!0),e.preventDefault()}}},Tu.event={target:"win",type:"contextmenu",bind:function(t){return function(e){t.fire("contextmenu",{},!0),e.preventDefault()}}};var ih=Tu.utils;Tu.event={target:"win",type:"keydown",bind:function(t){return function(e){var n=new Set,r=[];e.altKey&&(r.push("alt"),n.add("alt")),e.ctrlKey&&(r.push("ctrl"),n.add("ctrl")),e.shiftKey&&(r.push("shift"),n.add("shift")),oh[e.code]&&!n.has(oh[e.code])&&r.push(oh[e.code]);var i=r.join("+");r.length>0&&t.fire("shortcut:".concat(i),{},!0),e.preventDefault()}}};var oh={Escape:"esc",Backquote:"~",Tab:"tab",CapsLock:"cap",ShiftLeft:"shift",ShiftRight:"shift",ControlLeft:"ctrl",ControlRight:"ctrl",AltLeft:"alt",AltRight:"alt",Space:"space",ArrowUp:"up",ArrowLeft:"left",ArrowDown:"down",ArrowRight:"right",ContextMenu:"menu",Minus:"-",Equal:"+",Backspace:"backspace",NumpadDecimal:".",Enter:"enter",NumpadEnter:"enter",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",NumpadDivide:"/",NumpadMultiply:"*",NumpadSubtract:"-",NumpadAdd:"+",Insert:"insert",Home:"home",PageUp:"pageup",PageDown:"pagedown",Delete:"delete",End:"end"};function ah(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ih.each("qwertyuiopasdfghjklzxcvbnm".split(""),(function(t){return oh["Key".concat(t.toLocaleUpperCase())]=t})),ih.each("0123456789".split(""),(function(t){oh["Digit".concat(t)]=t,oh["Numpad".concat(t)]=t})),ih.repeat(12,(function(t){return oh["F".concat(t+1)]="f".concat(t+1)}));var ch=Tu.utils,uh=function(t,e){var n=e.children,r=ah(t.getStyle(e,"margin"),2),i=r[0],o=r[1],a=e.box,s=0,c=0;ch.each(n,(function(t){var e=t.treeBox;t.relVec.x=a.w+i+a.l-e.l,c+=e.h,s=Math.max(s,e.w)}));var u=a.cy-c/2;ch.each(n,(function(t){var e=t.treeBox;t.relVec.y=u-e.t,u+=e.h}));var l=e.treeBox;l.w=s+a.w+2*i,l.l=a.l-i,l.h=Math.max(a.h+2*o,c),l.t=a.cy-l.h/2};function lh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return fh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}uh.type="right",Tu.layout=uh;var hh=Tu.utils,dh=function(t,e){var n=e.children,r=lh(t.getStyle(e,"margin"),2),i=r[0],o=r[1],a=e.box,s=0,c=0;hh.each(n,(function(t){var e=t.treeBox;t.relVec.x=-a.w-i+a.r-e.r,c+=e.h,s=Math.max(s,e.w)}));var u=a.cy-c/2;hh.each(n,(function(t){var e=t.treeBox;t.relVec.y=u-e.t,u+=e.h}));var l=e.treeBox;l.w=s+a.w+2*i,l.r=a.r+i,l.h=Math.max(a.h+2*o,c),l.t=a.cy-l.h/2};function ph(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return vh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}dh.type="left",Tu.layout=dh;var gh=Tu.utils,mh=function(t,e){var n=e.children,r=ph(t.getStyle(e,"margin"),2),i=r[0],o=r[1],a=e.box,s=0,c=0;gh.each(n,(function(t){var e=t.treeBox;t.relVec.y=a.h+o+a.t-e.t,s+=e.w,c=Math.max(c,e.h)}));var u=a.cx-s/2;gh.each(n,(function(t){var e=t.treeBox;t.relVec.x=u-e.l,u+=e.w}));var l=e.treeBox;l.h=c+a.h+2*o,l.t=a.t-o,l.w=Math.max(a.w+2*i,s),l.l=a.cx-l.w/2};function yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return bh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}mh.type="down",Tu.layout=mh;var _h=Tu.utils,wh=function(t,e){var n=e.children,r=yh(t.getStyle(e,"margin"),2),i=r[0],o=r[1],a=e.box,s=0,c=0;_h.each(n,(function(t){var e=t.treeBox;t.relVec.y=-a.h-o+a.b-e.b,s+=e.w,c=Math.max(c,e.h)}));var u=a.cx-s/2;_h.each(n,(function(t){var e=t.treeBox;t.relVec.x=u-e.l,u+=e.w}));var l=e.treeBox;l.h=c+a.h+2*o,l.b=a.b+o,l.w=Math.max(a.w+2*i,s),l.l=a.cx-l.w/2};function xh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}wh.type="up",Tu.layout=wh;var Ch=Tu.utils,Mh=function(t,e){var n=e.children.length,r=Ch.group(e.children,(function(t,e){return e>=n/2?"right":"left"})),i=xh(t.getStyle(e,"margin"),2),o=i[0],a=i[1],s=e.box,c=0,u=0;Ch.each(r.left,(function(t){var e=t.treeBox;t.relVec.x=-s.w-o+s.r-e.r,u+=e.h,c=Math.max(c,e.w)}));var l=s.cy-u/2,f=l;Ch.each(r.left,(function(t){var e=t.treeBox;t.relVec.y=f-e.t,f+=e.h}));var h=0,d=0;Ch.each(r.right,(function(t){var e=t.treeBox;t.relVec.x=s.w+o+s.l-e.l,d+=e.h,h=Math.max(h,e.w)})),l=s.cy-d/2,f=l,Ch.each(r.right,(function(t){var e=t.treeBox;t.relVec.y=f-e.t,f+=e.h}));var p=e.treeBox;p.w=c+h+s.w+2*o,p.l=s.l-o-c,p.h=Math.max(s.h+2*a,u,d),p.t=s.cy-p.h/2};function Oh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return kh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Mh.type="leftright",Tu.layout=Mh;var Eh=Tu.utils,Ih=function(t,e){var n=e.children.length,r=Eh.group(e.children,(function(t,e){return e>=n/2?"down":"up"})),i=Oh(t.getStyle(e,"margin"),2),o=i[0],a=i[1],s=e.box,c=0,u=0;Eh.each(r.up,(function(t){var e=t.treeBox;t.relVec.y=-s.h-a+s.b-e.b,c+=e.w,u=Math.max(u,e.h)}));var l=s.cx-c/2,f=l;Eh.each(r.up,(function(t){var e=t.treeBox;t.relVec.x=f-e.l,f+=e.w}));var h=0,d=0;Eh.each(r.down,(function(t){var e=t.treeBox;t.relVec.y=s.h+a+s.t-e.t,h+=e.w,d=Math.max(d,e.h)})),l=s.cx-h/2,f=l,Eh.each(r.down,(function(t){var e=t.treeBox;t.relVec.x=f-e.l,f+=e.w}));var p=e.treeBox;p.h=u+d+s.h+2*a,p.t=s.t-a-u,p.w=Math.max(s.w+2*o,c,h),p.l=s.cx-p.w/2};Ih.type="updown",Tu.layout=Ih;var jh=Tu.utils,Ah=function(t,e){var n=e.input,r=e.output,i=n.absVec.move(n.box.center),o=r.absVec.move(r.box.center),a=jh.Pin.center(i,o);e.relVec.val=a};function Th(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Dh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ah.type="middle",Tu.layout=Ah;var Ph=Tu.utils,Lh=function(t,e){var n=Number.POSITIVE_INFINITY,r=n,i=-n,o=n,a=-n;Ph.each(e.trees,(function(e){var n=e.absVec.move(e.box.cl()),s=Th(t.getStyle(e,"margin"),2),c=s[0],u=s[1];r=n.l-c<r?n.l-c:r,i=n.r+c>i?n.r+c:i,o=n.t-u<o?n.t-u:o,a=n.b+u>a?n.b+u:a}));var s=Th(t.getStyle(e,"margin"),2),c=s[0],u=(s[1],e.box);e.relVec=new Ph.Vec(i+c+u.w/2,(o+a)/2)};function Nh(t){return function(t){if(Array.isArray(t))return zh(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Bh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bh(t,e){if(t){if("string"===typeof t)return zh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zh(t,e):void 0}}function zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Lh.type="offside",Tu.layout=Lh;var Fh=Tu.utils,Hh=function(t,e){var n=e,r=e.children,i=Rh(t.getStyle(e,"margin"),2),o=i[0],a=i[1],s=n.box,c=0,u=0;Fh.each(r,(function(e){var n=e.treeBox,r=Rh(t.getStyle(e,"margin"),2),i=r[0],o=r[1];e.relVec.y=s.t-n.t-u-n.h-i,e.relVec.x=s.cx-n.l+n.h+u-o,u+=n.h}));var l=[0,0];if(r.length){var f=r[r.length-1];c=u+f.treeBox.w,l=Nh(t.getStyle(f,"margin"))}var h=e.treeBox;h.w=Math.max(s.w/2+c+o-l[0],s.w+2*o),h.l=s.l-o,h.h=u+a+s.h,h.b=s.b+a};function Uh(t){return function(t){if(Array.isArray(t))return Vh(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Yh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||Yh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(t,e){if(t){if("string"===typeof t)return Vh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vh(t,e):void 0}}function Vh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hh.type="fishup",Tu.layout=Hh;var Gh=Tu.utils,Xh=function(t,e){var n=e,r=e.children,i=Wh(t.getStyle(e,"margin"),2),o=i[0],a=i[1],s=n.box,c=0,u=0;Gh.each(r,(function(e){var n=e.treeBox,r=Wh(t.getStyle(e,"margin"),2),i=r[0],o=r[1];e.relVec.y=s.b-n.b+n.h+u+i,e.relVec.x=s.cx-n.l+n.h+u-o,u+=n.h}));var l=[0,0];if(r.length){var f=r[r.length-1];c=u+f.treeBox.w,l=Uh(t.getStyle(f,"margin"))}var h=e.treeBox;h.w=Math.max(s.w/2+c+o-l[0],s.w+2*o),h.l=s.l-o,h.h=u+a+s.h+l[1],h.t=s.t-a};function Kh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Zh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Xh.type="fishdown",Tu.layout=Xh;var qh=Tu.utils,Qh=function(t,e){var n=e,r=e.children,i=Kh(t.getStyle(e,"margin"),2),o=i[0],a=i[1],s=n.box,c=[],u=[0,0];c.w=u[0],c.h=u[1];var l=[],f=[0,0];l.w=f[0],l.h=f[1],qh.each(r,(function(t,e){return e<Math.floor((r.length+1)/2)?c.push(t):l.push(t)})),qh.each(c,(function(t){var e=t.treeBox;t.relVec.y=s.cy-e.b-a,t.relVec.x=s.l-e.l+s.w+c.w+o,c.w+=e.w,c.h=Math.max(c.h,e.h)})),qh.each(l,(function(t){var e=t.treeBox;t.relVec.y=s.cy-e.t+a,t.relVec.x=s.l-e.l+s.w+l.w+2*o,l.w+=e.w,l.h=Math.max(l.h,e.h)}));var h=e.treeBox;h.w=s.w+o+Math.max(l.w+2*o,c.w+o),h.l=s.l-o,h.h=Math.max(s.h,l.h+c.h)+2*a,h.t=Math.min(s.t-a,-c.h-a)};function Jh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return $h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Qh.type="fishmaster",Tu.layout=Qh;var td=Tu.utils,ed=function(t,e){var n=e,r=e.children,i=Jh(t.getStyle(n,"margin"),2),o=i[0],a=i[1],s=n.box,c=0,u=0;td.each(r,(function(t){var e=t.treeBox;t.relVec.x=s.l-e.l+s.w/2,t.relVec.y=s.b-e.b-s.h-a-u,u+=e.h,c=Math.max(c,e.w)}));var l=n.treeBox;l.w=Math.max(s.w+2*o,c+s.w/2+o),l.l=s.l-o,l.h=u+s.h+2*a,l.b=s.b+a};function nd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return rd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ed.type="parallelup",Tu.layout=ed;var id=Tu.utils,od=function(t,e){var n=e,r=e.children,i=nd(t.getStyle(n,"margin"),2),o=i[0],a=i[1],s=n.box,c=0,u=0;id.each(r,(function(t){var e=t.treeBox;t.relVec.x=s.l-e.l+s.w/2,t.relVec.y=s.t-e.t+s.h+a+u,u+=e.h,c=Math.max(c,e.w)}));var l=n.treeBox;l.w=Math.max(s.w+2*o,c+s.w/2+o),l.l=s.l-o,l.h=u+s.h+2*a,l.t=s.t-a};od.type="paralleldown",Tu.layout=od;var ad=Tu.utils,sd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cy>r.cy?1:0,o=new ad.Pin(n.l+n.w/2,i?n.t:n.b),a=new ad.Pin(n.l+n.w/2,r.cy),s=new ad.Pin(r.l,r.cy);ad.attr(e.connect,{d:"\n      M ".concat(o.x,",").concat(o.y,"\n      L ").concat(a.x,",").concat(a.y,",\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),ad.attr(e.arrow,{d:""})};sd.type="l",Tu.connect=sd;var cd=Tu.utils,ud=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cx>r.cx?1:0,o=new cd.Pin(i?n.l:n.r,n.cy),a=new cd.Pin(i?r.r:r.l,r.b+5),s=new cd.Pin(i?r.l:r.r,r.b+5),c=(o.x+a.x)/2;cd.attr(e.connect,{d:"\n      M ".concat(o.x,",").concat(o.y,"\n      C ").concat(c,",").concat(o.y,",").concat(c,",").concat(a.y,",").concat(a.x,",").concat(a.y,"\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),cd.attr(e.arrow,{d:""})};ud.type="s1",Tu.connect=ud;var ld=Tu.utils,fd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cx>r.cx?1:0,o=new ld.Pin(i?n.l:n.r,n.b+5),a=new ld.Pin(i?r.r:r.l,r.b+5),s=new ld.Pin(i?r.l:r.r,r.b+5),c=(o.x+a.x)/2;ld.attr(e.connect,{d:"\n      M ".concat(o.x,",").concat(o.y,"\n      C ").concat(c,",").concat(o.y,",").concat(c,",").concat(a.y,",").concat(a.x,",").concat(a.y,"\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),ld.attr(e.arrow,{d:""})};fd.type="s2",Tu.connect=fd;var hd=Tu.utils,dd=function(t,e){if(0===t.h||0===t.w)return t.center;var n=new hd.Pin,r=Math.abs(e.y/t.h),i=Math.abs(e.x/t.w);return i>r?(n.x=e.x>0?t.r:t.l,n.y=t.cy+(0===i?0:e.y/(2*i))):(n.y=e.y>0?t.b:t.t,n.x=t.cx+(0===r?0:e.x/(2*r))),n},pd=function(t,e){var n=e.layoutBox,r=e.input.layoutBox,i=e.output.layoutBox,o=n.center,a=new hd.Vec(r.center,o),s=new hd.Vec(i.center,o),c=dd(r,a),u=dd(i,s),l=hd.Pin.center(c,u);new hd.Vec(l,o).scale(2).move(l),hd.attr(e.connect,{d:"\n      M ".concat(c.x,",").concat(c.y,"\n      Q ").concat(l.x,",").concat(l.y,",").concat(u.x,",").concat(u.y,"      \n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":"5,5"});var f=new hd.Vec(u,l);f.size=20;var h=f.cl().rot(15).move(u.cl()),d=f.cl().scale(.7).move(u.cl()),p=f.cl().rot(-15).move(u.cl());hd.attr(e.arrow,{d:"\n      M ".concat(u.x,",").concat(u.y,"\n      L ").concat(h.x,",").concat(h.y,",\n      L ").concat(d.x,",").concat(d.y,",\n      L ").concat(p.x,",").concat(p.y,",\n      Z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};pd.type="bezier",Tu.connect=pd;var vd=Tu.utils,gd=Number.POSITIVE_INFINITY,md=function(t,e){var n=vd.Box.merge(vd.map(e.trees,(function(t){return t.layoutBox}))),r=e.layoutBox,i=10,o=vd.elif(yd(n,r),{left:function(){var t=new vd.Pin(0,gd),n=new vd.Pin(0,-gd);vd.each(e.trees,(function(e){var r=e.layoutBox;r.t<t.y&&(t.arr=[r.l-i,r.t]),r.b>n.y&&(n.arr=[r.l-i,r.b])}));var o=new vd.Pin(r.r+i,r.cy);return bd(o,t,0)+bd(o,n,0)},right:function(){var t=new vd.Pin(0,gd),n=new vd.Pin(0,-gd);vd.each(e.trees,(function(e){var r=e.layoutBox;r.t<t.y&&(t.arr=[r.r+i,r.t]),r.b>n.y&&(n.arr=[r.r+i,r.b])}));var o=new vd.Pin(r.l-i,r.cy);return bd(o,t,0)+bd(o,n,0)},top:function(){var t=new vd.Pin(gd,0),n=new vd.Pin(-gd,0);vd.each(e.trees,(function(e){var r=e.layoutBox;r.l<t.x&&(t.arr=[r.l,r.t-i]),r.r>n.x&&(n.arr=[r.r,r.t-i])}));var o=new vd.Pin(r.cx,r.b+i);return bd(o,t,1)+bd(o,n,1)},bottom:function(){var t=new vd.Pin(gd,0),n=new vd.Pin(-gd,0);vd.each(e.trees,(function(e){var r=e.layoutBox;r.l<=t.x&&(t.arr=[r.l,r.b+i]),r.r>=n.x&&(n.arr=[r.r,r.b+i])}));var o=new vd.Pin(r.cx,r.t-i);return bd(o,t,1)+bd(o,n,1)}});vd.attr(e.connect,{d:o,fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})},yd=function(t,e){var n=new vd.Vec(t.center,e.center),r=t.h*n.x,i=t.w*n.y,o=r>0,a=i>0,s=Math.abs(r)>Math.abs(i);return o&&s?"right":!o&&s?"left":a&&!s?"bottom":a||s?void 0:"top"},bd=function(t,e,n){var r,i=20,o=40,a=e.x-t.x,s=e.y-t.y,c=Math.min(Math.abs(a),Math.abs(s));c<i+o&&(c<i?(o=(r=[0,c])[0],i=r[1]):o=c-i);var u,l,f,h,d,p=a>0?1:-1,v=s>0?1:-1;return n?(u=new vd.Pin(t.x,t.y+v*i),l=new vd.Pin(t.x+p*i,u.y),f=new vd.Pin(e.x-p*o,u.y),h=new vd.Pin(e.x,u.y),d=new vd.Pin(e.x,u.y+v*o)):(u=new vd.Pin(t.x+p*i,t.y),l=new vd.Pin(u.x,t.y+v*i),f=new vd.Pin(u.x,e.y-v*o),h=new vd.Pin(u.x,e.y),d=new vd.Pin(u.x+p*o,e.y)),"\n    M ".concat(t.x,",").concat(t.y,"\n    Q ").concat(u.x,",").concat(u.y,",").concat(l.x,",").concat(l.y," \n    L ").concat(f.x,",").concat(f.y," \n    Q ").concat(h.x,",").concat(h.y,",").concat(d.x,",").concat(d.y," \n    L ").concat(e.x,",").concat(e.y," \n  ").replace(/\s/g,"")};md.type="brace",Tu.connect=md;var _d=Tu.utils,wd=function(t,e){var n=e.parent,r=n.layoutBox,i=e.layoutBox,o=r.cx>i.cx?1:0,a=t.getStyle(n,"margin")[0],s=new _d.Pin(o?r.l:r.r,r.cy),c=new _d.Pin(o?r.l-a:r.r+a,r.cy),u=new _d.Pin(o?r.l-a:r.r+a,i.cy),l=new _d.Pin(o?i.r:i.l,i.cy);_d.attr(e.connect,{d:"\n      M ".concat(s.x,",").concat(s.y,"\n      L ").concat(c.x," ,").concat(c.y,",\n      L ").concat(u.x," ,").concat(u.y,",\n      L ").concat(l.x," ,").concat(l.y,",\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});_d.attr(e.arrow,{d:"\n      M".concat(l.x+(o?3:-3),",").concat(l.y-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};wd.type="brokenx",Tu.connect=wd;var xd=Tu.utils,Sd=function(t,e){var n=e.parent,r=n.layoutBox,i=e.layoutBox,o=r.cy>i.cy?1:0,a=t.getStyle(n,"margin")[1],s=new xd.Pin(r.cx,o?r.t:r.b),c=new xd.Pin(r.cx,o?r.t-a:r.b+a),u=new xd.Pin(i.cx,o?r.t-a:r.b+a),l=new xd.Pin(i.cx,o?i.b:i.t);xd.attr(e.connect,{d:"\n      M ".concat(s.x,",").concat(s.y,"\n      L ").concat(c.x," ,").concat(c.y,",\n      L ").concat(u.x," ,").concat(u.y,",\n      L ").concat(l.x," ,").concat(l.y,",\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});xd.attr(e.arrow,{d:"\n      M".concat(l.x,",").concat(l.y+(o?0:-6),"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};Sd.type="brokeny",Tu.connect=Sd;var Cd=Tu.utils,Md=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cx>r.cx?1:0,o=n.cy>r.cy?1:0,a=new Cd.Pin(n[i?"l":"r"],n.cy),s=new Cd.Pin(r[i?"r":"l"],r.cy);Cd.attr(e.connect,{d:"\n      M ".concat(a.x,",").concat(a.y,"\n      A \n        ").concat(Math.abs(s.x-a.x),",\n        ").concat(Math.abs(s.y-a.y),",\n        0,\n        0,\n        ").concat((i+o)%2?1:0,",\n        ").concat(s.x,",\n        ").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});Cd.attr(e.arrow,{d:"\n      M".concat(s.x+(i?3:-3),",").concat(s.y-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};Md.type="ellipsex",Tu.connect=Md;var Od=Tu.utils,kd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cx>r.cx?1:0,o=n.cy>r.cy?1:0,a=new Od.Pin(n.cx,n[o?"t":"b"]),s=new Od.Pin(r.cx,r[o?"b":"t"]);Od.attr(e.connect,{d:"\n      M ".concat(a.x,",").concat(a.y,"\n      A \n        ").concat(Math.abs(s.x-a.x),",\n        ").concat(Math.abs(s.y-a.y),",\n        0,\n        0,\n        ").concat((i+o)%2?0:1,",\n        ").concat(s.x,",\n        ").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""});Od.attr(e.arrow,{d:"\n      M".concat(s.x,",").concat(s.y+(o?0:-6),"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(-3,",").concat(-3,"\n      a").concat(3,",").concat(3,",0,0,1,").concat(3,",").concat(-3,"\n    z\n    ").replace(/\s/g,""),fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})};kd.type="ellipsey",Tu.connect=kd;var Ed=Tu.utils,Id=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cy>r.cy?1:0,o=new Ed.Pin(n.cx,i?n.t:n.b),a=new Ed.Pin(r.l,i?r.t:r.b);Ed.attr(e.connect,{d:"\n      M ".concat(o.x,",").concat(o.y,"\n      L ").concat(a.x,",").concat(a.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),Ed.attr(e.arrow,{d:""})};Id.type="fishslave",Tu.connect=Id;var jd=Tu.utils,Ad=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=(n.cy>r.cy?1:0)?r.b:r.t,o=new jd.Pin(n.r,n.cy),a=new jd.Pin(r.l-Math.abs(n.cy-i),n.cy),s=new jd.Pin(r.l,i);jd.attr(e.connect,{d:"\n      M ".concat(o.x,",").concat(o.y,"\n      L ").concat(a.x,",").concat(a.y,",\n      L ").concat(s.x,",").concat(s.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":""}),jd.attr(e.arrow,{d:""})};Ad.type="fishmaster",Tu.connect=Ad;var Td=Tu.utils,Dd=function(t,e){var n=e.parent.layoutBox,r=e.layoutBox,i=n.cy>r.cy?1:0,o=new Td.Pin(n.cx,i?n.t:n.b),a=new Td.Pin(r.cx,i?r.b:r.t),s=t.getStyle(e,"connect-type"),c=Td.guid();Td.attr(e.connect,{id:c,d:"\n      M ".concat(o.x,",").concat(o.y,"\n      L ").concat(a.x,",").concat(a.y,"\n    ").replace(/\s/g,""),fill:"none",stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width"),"stroke-dasharray":"dotted"===s?"5,5":""}),Td.clean(e.connectTextSvg);var u=Td.svg("textPath");u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(c)),Td.attach(u,Td.newTextNode(e.connectText)),Td.attach(e.connectTextSvg,u);var l="rearrow"===s||"biarrow"===s?Pd(o,a):"",f="arrow"===s||"biarrow"===s?Pd(a,o):"";Td.attr(e.arrow,{d:l+f,fill:t.getStyle(e,"connect-color"),stroke:t.getStyle(e,"connect-color"),"stroke-width":t.getStyle(e,"connect-width")})},Pd=function(t,e){var n=new Td.Vec(t,e);n.size=20;var r=n.cl().rot(15).move(t.cl()),i=n.cl().scale(.7).move(t.cl()),o=n.cl().rot(-15).move(t.cl());return"M".concat(t.x,",").concat(t.y,"L").concat(r.x,",").concat(r.y,",L").concat(i.x,",").concat(i.y,",L").concat(o.x,",").concat(o.y,",Z")};Dd.type="conceptline",Tu.connect=Dd;var Ld=Tu.utils,Nd=Ld.color(115,161,191),Rd=Ld.color(238,243,246),Bd=Ld.color(115,161,191,.1),zd=Ld.color(115,161,191,.6),Fd={root:{background:Nd,font:"rgb(255,255,255)",border:Nd},main:{background:Rd,font:"rgb(0,0,0)",border:Nd},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},Hd=function(t,e){return Ld.elif(t.level>2?3:t.level,{1:function(){return Fd.root[e]},2:function(){return Fd.main[e]},3:function(){return Fd.child[e]}})};Tu.theme={type:"blue",style:{treeBorderColor:function(t,e){return Hd(e,"border")},treeBackgroundColor:function(t,e){return Hd(e,"background")},treeFontColor:function(t,e){return Hd(e,"font")},treeArrangeColor:zd,linkBorderColor:Nd,linkBackgroundColor:Rd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Nd,summaryBackgroundColor:Rd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Nd,selectorColor:Bd,selectorBorderColor:Nd,mapColor:Nd}};var Ud=Tu.utils,Wd=Ud.color(191,147,115),Yd=Ud.color(246,242,238),Vd=Ud.color(191,147,115,.1),Gd=Ud.color(191,147,115,.6),Xd={root:{background:Wd,font:"rgb(255,255,255)",border:Wd},main:{background:Yd,font:"rgb(0,0,0)",border:Wd},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},Kd=function(t,e){return Ud.elif(t.level>2?3:t.level,{1:function(){return Xd.root[e]},2:function(){return Xd.main[e]},3:function(){return Xd.child[e]}})};Tu.theme={type:"brown",style:{treeBorderColor:function(t,e){return Kd(e,"border")},treeBackgroundColor:function(t,e){return Kd(e,"background")},treeFontColor:function(t,e){return Kd(e,"font")},treeArrangeColor:Gd,linkBorderColor:Wd,linkBackgroundColor:Yd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Wd,summaryBackgroundColor:Yd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Wd,selectorColor:Vd,selectorBorderColor:Wd,mapColor:Wd}};var Zd=Tu.utils,qd=Zd.color(115,191,118),Qd=Zd.color(238,246,238),Jd=Zd.color(115,191,118,.1),$d=Zd.color(115,191,118,.6),tp={root:{background:qd,font:"rgb(255,255,255)",border:qd},main:{background:Qd,font:"rgb(0,0,0)",border:qd},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},ep=function(t,e){return Zd.elif(t.level>2?3:t.level,{1:function(){return tp.root[e]},2:function(){return tp.main[e]},3:function(){return tp.child[e]}})};Tu.theme={type:"green",style:{treeBorderColor:function(t,e){return ep(e,"border")},treeBackgroundColor:function(t,e){return ep(e,"background")},treeFontColor:function(t,e){return ep(e,"font")},treeArrangeColor:$d,linkBorderColor:qd,linkBackgroundColor:Qd,linkFontColor:"rgb(0,0,0)",summaryBorderColor:qd,summaryBackgroundColor:Qd,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:qd,selectorColor:Jd,selectorBorderColor:qd,mapColor:qd}};var np=Tu.utils,rp=np.color(191,115,148),ip=np.color(246,238,242),op=np.color(191,115,148,.1),ap=np.color(191,115,148,.6),sp={root:{background:rp,font:"rgb(255,255,255)",border:rp},main:{background:ip,font:"rgb(0,0,0)",border:rp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},cp=function(t,e){return np.elif(t.level>2?3:t.level,{1:function(){return sp.root[e]},2:function(){return sp.main[e]},3:function(){return sp.child[e]}})};Tu.theme={type:"pink",style:{treeBorderColor:function(t,e){return cp(e,"border")},treeBackgroundColor:function(t,e){return cp(e,"background")},treeFontColor:function(t,e){return cp(e,"font")},treeArrangeColor:ap,linkBorderColor:rp,linkBackgroundColor:ip,linkFontColor:"rgb(0,0,0)",summaryBorderColor:rp,summaryBackgroundColor:ip,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:rp,selectorColor:op,selectorBorderColor:rp,mapColor:rp}};var up=Tu.utils,lp=up.color(123,115,191),fp=up.color(239,238,246),hp=up.color(123,115,191,.1),dp=up.color(123,115,191,.6),pp={root:{background:lp,font:"rgb(255,255,255)",border:lp},main:{background:fp,font:"rgb(0,0,0)",border:lp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},vp=function(t,e){return up.elif(t.level>2?3:t.level,{1:function(){return pp.root[e]},2:function(){return pp.main[e]},3:function(){return pp.child[e]}})};Tu.theme={type:"purple",style:{treeBorderColor:function(t,e){return vp(e,"border")},treeBackgroundColor:function(t,e){return vp(e,"background")},treeFontColor:function(t,e){return vp(e,"font")},treeArrangeColor:dp,linkBorderColor:lp,linkBackgroundColor:fp,linkFontColor:"rgb(0,0,0)",summaryBorderColor:lp,summaryBackgroundColor:fp,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:lp,selectorColor:hp,selectorBorderColor:"rgb(0,0,0)",mapColor:lp}};var gp=Tu.utils,mp=gp.color(191,115,115),yp=gp.color(246,238,238),bp=gp.color(191,115,115,.1),_p=gp.color(191,115,115,.6),wp={root:{background:mp,font:"rgb(255,255,255)",border:mp},main:{background:yp,font:"rgb(0,0,0)",border:mp},child:{background:"rgba(0,0,0,0)",font:"rgb(0,0,0)",border:"rgba(0,0,0,0)"}},xp=function(t,e){return gp.elif(t.level>2?3:t.level,{1:function(){return wp.root[e]},2:function(){return wp.main[e]},3:function(){return wp.child[e]}})};Tu.theme={type:"red",style:{treeBorderColor:function(t,e){return xp(e,"border")},treeBackgroundColor:function(t,e){return xp(e,"background")},treeFontColor:function(t,e){return xp(e,"font")},treeArrangeColor:_p,linkBorderColor:mp,linkBackgroundColor:yp,linkFontColor:"rgb(0,0,0)",summaryBorderColor:mp,summaryBackgroundColor:yp,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:mp,selectorColor:bp,selectorBorderColor:mp,mapColor:mp}};var Sp=Tu.utils,Cp=[{dark:Sp.color(115,161,191),light:Sp.color(238,243,246)},{dark:Sp.color(191,147,115),light:Sp.color(246,242,238)},{dark:Sp.color(115,191,118),light:Sp.color(238,246,238)},{dark:Sp.color(191,115,148),light:Sp.color(246,238,242)},{dark:Sp.color(123,115,191),light:Sp.color(239,238,246)},{dark:Sp.color(191,115,115),light:Sp.color(246,238,238)}],Mp=Sp.color(0,58,132),Op=Sp.color(240,240,240),kp=Sp.color(0,58,132,.1),Ep=Sp.color(0,58,132,.6),Ip=function(t,e){var n,r=0;return e.parent===t.root?n=e:t.backtrack(e,(function(e){e.parent===t.root&&(n=e)})),Sp.each(t.root.children,(function(t){if(n===t)return!0;r++}),(function(t){return t})),r};Tu.theme={type:"multicolor",style:{treeBorderColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return Mp},2:function(){return Cp[Ip(t,e)%Cp.length].dark},3:function(){return Cp[Ip(t,e)%Cp.length].dark},4:function(){return"rgba(0,0,0,0)"}})},treeBorderWidth:function(t,e){return Sp.elif(e.level>3,{true:function(){return 0},false:function(){return 1}})},treeBackgroundColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return Mp},2:function(){return Cp[Ip(t,e)%Cp.length].dark},3:function(){return Cp[Ip(t,e)%Cp.length].light},4:function(){return"rgba(0,0,0,0)"}})},treeFontColor:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return"rgb(255,255,255)"},2:function(){return"rgb(255,255,255)"},3:function(){return"rgb(0,0,0)"},4:function(){return"rgb(0,0,0)"}})},treeConnectColor:function(t,e){return Sp.elif(e.level>1?2:e.level,{1:function(){return Mp},2:function(){return Cp[Ip(t,e)%Cp.length].dark}})},treeConnectWidth:function(t,e){return Sp.elif(e.level>3?4:e.level,{1:function(){return 0},2:function(){return 4},3:function(){return 2},4:function(){return 1}})},treeArrangeColor:Ep,linkBorderColor:Mp,linkBackgroundColor:Op,linkFontColor:"rgb(0,0,0)",summaryBorderColor:Mp,summaryBackgroundColor:Op,summaryFontColor:"rgb(0,0,0)",nodeConnectColor:Mp,selectorColor:kp,selectorBorderColor:Mp,mapColor:Mp}},Tu.theme={type:"rect",style:{nodeBorderRadius:0,nodeSelectRadius:0,treeTargetRadius:0}},Tu.theme={type:"round",style:{nodeBorderRadius:10,nodeSelectRadius:10,treeTargetRadius:10}};var jp=Tu.utils,Ap={child:{padding:[5,5],margin:[15,15],border:0},other:{padding:[10,10],margin:[40,40],border:1}},Tp=function(t,e){return jp.elif(t.type,{tree:function(){return jp.elif(t.level>2?"child":"other",{other:function(){return Ap.other[e]},child:function(){return Ap.child[e]}})},link:function(){return Ap.other[e]},summary:function(){return Ap.other[e]}})};Tu.theme={type:"loose",style:{nodePadding:function(t,e){return Tp(e,"padding")},nodeMargin:function(t,e){return Tp(e,"margin")},nodeBorderWidth:function(t,e){return Tp(e,"border")}}};var Dp=Tu.utils,Pp={child:{padding:[2,2],margin:[10,5],border:0},other:{padding:[4,4],margin:[20,10],border:1}},Lp=function(t,e){return Dp.elif(t.type,{tree:function(){return Dp.elif(t.level>2?"child":"other",{other:function(){return Pp.other[e]},child:function(){return Pp.child[e]}})},link:function(){return Pp.other[e]},summary:function(){return Pp.other[e]}})};Tu.theme={type:"compact",style:{nodePadding:function(t,e){return Lp(e,"padding")},nodeMargin:function(t,e){return Lp(e,"margin")},nodeBorderWidth:function(t,e){return Lp(e,"border")}}};var Np=Tu.utils;Tu.theme={type:"mind",style:{treeLayout:function(t,e){return Np.elif(e.level>2?3:e.level,{1:function(){return"leftright"},2:function(){var t=e.parent.children;return Np.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"layout")}})},linkLayout:"middle",summaryLayout:"offside",treeArrangeUp:"last",treeArrangeDown:"next",treeConnect:function(t,e){return Np.elif(e.level>4?4:e.level,{2:function(){return"ellipsex"},3:function(){return"s1"},4:function(){return"s2"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Np.elif(e.level>2?3:e.level,{1:function(){return"bottom"},2:function(){var t=e.parent.children;return Np.key(t,e)>=t.length/2?"right":"left"},3:function(){var n=t.getStyle(e.parent,"expand-position");return"right"===n||"rightBottom"===n?"rightBottom":"left"===n||"leftBottom"===n?"leftBottom":void 0}})}}};var Rp=Tu.utils;Tu.theme={type:"right",style:{treeLayout:"right",linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return Rp.elif(e.level>4?4:e.level,{2:function(){return"ellipsex"},3:function(){return"s1"},4:function(){return"s2"}})},treeArrangeUp:"last",treeArrangeDown:"next",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Rp.elif(e.level>2?3:e.level,{1:function(){return"right"},2:function(){return"right"},3:function(){return"rightBottom"}})}}};var Bp=Tu.utils;Tu.theme={type:"struct",style:{treeLayout:function(t,e){return Bp.elif(e.level>2?3:e.level,{1:function(){return"leftright"},2:function(){var t=e.parent.children;return Bp.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"layout")}})},treeArrangeUp:"last",treeArrangeDown:"next",linkLayout:"middle",summaryLayout:"offside",treeConnect:"brokenx",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Bp.elif(e.level>2?3:e.level,{1:function(){return"bottom"},2:function(){var t=e.parent.children;return Bp.key(t,e)>=t.length/2?"right":"left"},3:function(){return t.getStyle(e.parent,"expand-position")}})}}},Tu.theme={type:"downstruct",style:{treeLayout:"down",linkLayout:"middle",summaryLayout:"offside",treeConnect:"brokeny",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom",treeArrangeLeft:"last",treeArrangeRight:"next"}};var zp=Tu.utils;Tu.theme={type:"filetree",style:{treeLayout:function(t,e){return zp.elif(e.level>1,{false:function(){return"down"},true:function(){return"paralleldown"}})},treeArrangeLeft:function(t,e){return 2===e.level?"last":"none"},treeArrangeRight:function(t,e){return 2===e.level?"next":"none"},treeArrangeUp:function(t,e){return e.level>2?"last":"none"},treeArrangeDown:function(t,e){return e.level>2?"next":"none"},linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return zp.elif(e.level>2,{false:function(){return"brokeny"},true:function(){return"l"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom"}};var Fp=Tu.utils,Hp={bottom:"top",top:"bottom"};function Up(t){return function(t){if(Array.isArray(t))return Wp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Wp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.theme={type:"fishbone",style:{treeLayout:function(t,e){return Fp.elif(e.level>2?3:e.level,{1:function(){return"fishmaster"},2:function(){var t=e.parent.children;return Fp.key(t,e)>=Math.floor((t.length+1)/2)?"fishdown":"fishup"},3:function(){var n=t.getStyle(e.parent,"layout");return"fishup"===n||"paralleldown"===n?"paralleldown":"fishdown"===n||"parallelup"===n?"parallelup":void 0}})},treeArrangeLeft:function(t,e){return 2===e.level?"last":"none"},treeArrangeRight:function(t,e){return 2===e.level?"next":"none"},treeArrangeUp:function(t,e){var n=t.getStyle(e.parent,"layout");return Fp.elif(e.level>3?4:e.level,{2:function(){return"none"},3:function(){return"fishdown"===n?"last":"next"},4:function(){return"paralleldown"===n?"last":"next"}})},treeArrangeDown:function(t,e){var n=t.getStyle(e.parent,"layout");return Fp.elif(e.level>3?4:e.level,{2:function(){return"none"},3:function(){return"fishup"===n?"last":"next"},4:function(){return"parallelup"===n?"last":"next"}})},linkLayout:"middle",summaryLayout:"offside",treeConnect:function(t,e){return Fp.elif(e.level>3?4:e.level,{2:function(){return"fishmaster"},3:function(){return"fishslave"},4:function(){return"l"}})},linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:function(t,e){return Fp.elif(e.level>3?4:e.level,{1:function(){return"right"},2:function(){var t=e.parent.children;return Fp.key(t,e)>Math.floor(t.length/2)?"bottom":"top"},3:function(){return Hp[t.getStyle(e.parent,"expand-position")]},4:function(){return t.getStyle(e.parent,"expand-position")}})}}},Tu.theme={type:"concept",style:{treeLayout:"down",linkLayout:"middle",summaryLayout:"offside",treeConnect:"conceptline",linkConnect:"bezier",summaryConnect:"brace",treeExpandPosition:"bottom",treeArrangeLeft:"last",treeArrangeRight:"next"}},Tu.command={type:"import",execute:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;try{var i=t.import(e,n).attach().render().layout();i.then&&i.then((function(t){return r&&r()})),t.resize()}catch(FM){console.log(FM)}}},Tu.command={type:"redo",execute:function(t,e){t.redo().attach().render().layout()},query:function(t){return t.hasRedo&&!t.option.readOnly?"normal":"disabled"},shortcut:"ctrl+y"},Tu.command={type:"undo",execute:function(t,e){t.undo().attach().render().layout()},query:function(t){return t.hasUndo&&!t.option.readOnly?"normal":"disabled"},shortcut:"ctrl+z"};var Yp=Tu.utils;function Vp(t){return function(t){if(Array.isArray(t))return Gp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendchild",execute:function(t,e){var n=t.newTree(),r=Up(t.selectedNodes)[0];return r.children.push(n),n.parent=r,n.level=r.level+1,t.attach().renderNode(n).renderNode(r).move(n,r.absVec).layout(),t.fire("contentchange",{},!0),{operation:e,node:{id:n.id,title:n.text},parent:{id:r.id,title:r.text}}},query:function(t){return t.option.readOnly||1!==Yp.size(t.selectedNodes)||"tree"!==Up(t.selectedNodes)[0].type?"disabled":"normal"},shortcut:"tab insert"};var Xp=Tu.utils;function Kp(t){return function(t){if(Array.isArray(t))return Zp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Zp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendparent",execute:function(t){var e=Vp(t.selectedNodes)[0],n=e.parent,r=t.newTree(),i=Xp.key(n.children,e);n.children[i]=r,r.children[0]=e,e.parent=r,r.parent=n,r.level=n.level+1,t.traverse(e,(function(t){return t.level++})),t.attach().renderNode(r).renderNode(n).renderNode(e).move(r,n.absVec).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==Xp.size(t.selectedNodes)||"tree"!==Vp(t.selectedNodes)[0].type||1===Vp(t.selectedNodes)[0].level?"disabled":"normal"},shortcut:"shift+tab"};var qp=Tu.utils;function Qp(t){return function(t){if(Array.isArray(t))return Jp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Jp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendbrother",execute:function(t){var e=t.newTree(),n=Kp(t.selectedNodes)[0].parent;n.children.push(e),e.parent=n,e.level=n.level+1,t.attach().renderNode(e).move(e,n.absVec).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==qp.size(t.selectedNodes)||"tree"!==Kp(t.selectedNodes)[0].type||1===Kp(t.selectedNodes)[0].level?"disabled":"normal"},shortcut:"enter"};var $p=Tu.utils;function tv(t){return function(t){if(Array.isArray(t))return ev(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendlink",execute:function(t){var e=Qp(t.selectedNodes)[0];t.source=e,t.status="link"},query:function(t){return"link"===t.status?"actived":t.option.readOnly||1!==$p.size(t.selectedNodes)||"tree"!==Qp(t.selectedNodes)[0].type?"disabled":"normal"}};var nv=Tu.utils;function rv(t){return function(t){if(Array.isArray(t))return iv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"appendsummary",execute:function(t){var e=nv.filter(t.selectedNodes,(function(t){return"tree"===t.type})),n=t.newSummary();return n.trees=e,t.summaries[n.id]=n,t.attach().renderNode(n).layout(),t.fire("contentchange",{},!0),{abstract:{id:n.id,title:n.text},nodes:tv(nv.map(n.trees,(function(t){return{id:t.id,title:t.text}})))}},query:function(t){return t.option.readOnly?"disabled":t.selectedNodes.size&&!nv.each(t.selectedNodes,(function(t){return"tree"===t.type}),(function(t){return t}))?"normal":"disabled"},shortcut:"s"};var ov=Tu.utils;function av(t){return function(t){if(Array.isArray(t))return sv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"delete",execute:function(t,e){var n=new Set,r=t.selectedNodes,i=[];ov.each(t.trees,(function(e){if(r.has(e))return n.add(e),void i.push({node:{id:e.id,title:e.text},parent:{id:e.parent.id,title:e.parent.text}});t.backtrack(e,(function(t){return!r.has(t)}))||n.add(e)}));var o=[];ov.each(t.links,(function(t){(r.has(t)||n.has(t.input)||n.has(t.output))&&(o.push({relation:{id:t.id,title:t.text,inputId:t.input.id,outputId:t.output.id},input:{id:t.input.id,title:t.input.text},output:{id:t.output.id,title:t.output.text}}),n.add(t))}));var a=[];return ov.each(t.summaries,(function(t){!r.has(t)&&ov.each(t.trees,(function(t){return n.has(t)}),(function(t){return t}))||(a.push({abstract:{id:t.id,title:t.text},nodes:rv(ov.map(t.trees,(function(t){return{id:t.id,title:t.text}})))}),n.add(t))})),ov.each(n,(function(e){return ov.elif(e.type,{tree:function(){t.delTree(e),e.parent&&!n.has(e.parent)&&ov.del(e.parent.children,e)},link:function(){return t.delLink(e)},summary:function(){return t.delSummary(e)}})})),t.cleanSelected(),t.select(t.root),t.attach().render().layout(),t.fire("contentchange",{},!0),{deleteTrees:i,deleteLinks:o,deleteSummaries:a,operation:e}},query:function(t){return t.option.readOnly?"disabled":ov.size(t.selectedNodes)?t.selectedNodes.has(t.root)||"edit"!==t.status?"disabled":"normal":"disabled"},shortcut:"delete"};var cv=Tu.utils;function uv(t){return function(t){if(Array.isArray(t))return lv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrange",execute:function(t){t.arrange.apply(t,av(t.selectedNodes)).layout(),t.fire("contentchange",{},!0);var e=[];cv.each(t.selectedNodes,(function(t){"tree"===t.type&&(t.level<=1||e.push({node:{id:t.id,title:t.text},parent:{id:t.parent.id,title:t.parent.text}}))}));var n=[];cv.each(t.selectedNodes,(function(t){"link"===t.type&&n.push({relation:{id:t.id,title:t.text,inputId:t.input.id,outputId:t.output.id},input:{id:t.input.id,title:t.input.text},output:{id:t.output.id,title:t.output.text}})}));var r=[];return cv.each(t.selectedNodes,(function(t){"summary"===t.type&&r.push({abstract:{id:t.id,title:t.text},nodes:av(cv.map(t.trees,(function(t){return{id:t.id,title:t.text}})))})})),{items:e,links:n,summaries:r}},query:function(t){return t.option.readOnly?"disabled":cv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+shift+l"};var fv=Tu.utils;Tu.command={type:"text",execute:function(t,e){var n=uv(t.selectedNodes)[0];n.text=e,t.renderNode(n).layout();var r="tree"===n.type?{node:{id:n.id,title:n.text},parent:n.parent&&{id:n.parent.id,title:n.parent.text}||null}:null,i="link"===n.type?{relation:{id:n.id,title:n.text,inputId:n.input.id,outputId:n.output.id},input:{id:n.input.id,title:n.input.text},output:{id:n.output.id,title:n.output.text}}:null,o="summary"===n.type?{abstract:{id:n.id,title:n.text},nodes:uv(fv.map(n.trees,(function(t){return{id:t.id,title:t.text}})))}:null;return t.fire("contentchange",{},!0),{treeItem:r,linkItem:i,summaryItem:o}},query:function(t){return t.option.readOnly||1!==fv.size(t.selectedNodes)?"disabled":"normal"}};var hv=Tu.utils;Tu.command={type:"bold",execute:function(t){var e=t.selectedNodes,n=hv.size(hv.filter(e,(function(e){return!t.getStyle(e,"font-bold")})))>0;hv.each(e,(function(e){e.style.fontBold=n,t.renderNode(e)})),t.layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":hv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+b"};var dv=Tu.utils;function pv(t){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vv(t){return function(t){if(Array.isArray(t))return gv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mv(Object(n),!0).forEach((function(e){bv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=pv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"italic",execute:function(t){var e=t.selectedNodes,n=dv.size(dv.filter(e,(function(e){return!t.getStyle(e,"font-italic")})))>0;dv.each(e,(function(e){e.style.fontItalic=n,t.renderNode(e)})),t.layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":dv.size(t.selectedNodes)?"normal":"disabled"},shortcut:"ctrl+i"};var _v=Tu.utils;Tu.command={type:"style",execute:function(t,e){var n=[];return _v.each(t.selectedNodes,(function(r){e?_v.each(e,(function(t,e){return _v.isUnd(t)?delete r.style[e]:r.style[e]=t})):r.style={},t.renderNode(r),n.push(yv(yv(yv(yv({type:r.type,node:{id:r.id,title:r.text}},"tree"===r.type?{parent:r.parent&&{id:r.id,title:r.text}}:{}),"link"===r.type?{input:{id:r.input.id,title:r.input.text},output:{id:r.output.id,title:r.output.text}}:{}),"summary"===r.type?{nodes:vv(_v.map(r.trees,(function(t){return{id:t.id,title:t.text}})))}:{}),{},{style:yv({},e)}))})),t.layout(),t.fire("contentchange",{},!0),{items:n}},query:function(t){return t.option.readOnly?"disabled":_v.size(t.selectedNodes)?"normal":"disabled"}};var wv=Tu.utils;function xv(t){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sv(Object(n),!0).forEach((function(e){Mv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"view",execute:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r)return t.center=e,void(t.zoom=n);var i=t.center.obj,o=i.x,a=i.y,s=e.x,c=e.y,u=t.zoom,l=n,f=new wv.Animate({x:o,y:a,z:u},{x:s,y:c,z:l},(function(e){var n;return n=[{x:e.x,y:e.y},e.z],t.center=n[0],t.zoom=n[1],n}));f.start(t.option.viewAnimationDuration,t.option.viewAnimationEasing,(function(){}))}};var Ov=Tu.utils;Tu.command={type:"search",execute:function(t,e){var n=Cv(Cv(Cv({},t.trees),t.links),t.summaries);if(t.cleanSelected(),""!==e){var r=[];Ov.each(n,(function(t){kv(t.text,e)&&r.push(t)})),t.select.apply(t,r)}}};var kv=function(t,e){return t=t.split(""),e=e.split(""),!Ov.each(t,(function(n,r){return!(r+e.length>t.length)&&Ov.each(e,(function(e,n){return e!==t[r+n]}),(function(t){return t}))}),(function(t){return t}))};Tu.command={type:"theme",execute:function(t,e){t.theme=e,t.attach().render().layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly?"disabled":"normal"}},Tu.command={type:"level",execute:function(t,e){t.traverse(t.root,(function(t){return t.expand=t.level!==e})),t.cleanSelected(),t.attach().render().layout(),t.fire("contentchange",{},!0)},query:function(t){var e="disabled";return"edit"===t.status&&(e="normal"),"hand"===t.status&&(e="normal"),e}};var Ev=Tu.utils;Tu.command={type:"copy",execute:function(t){t.copy();var e=t.selectedRoots;return{copyItems:Ev.map(e,(function(t){return{node:{id:t.id,title:t.text},parent:t.parent?{id:t.parent.id,title:t.parent.text}:null}}))}},query:function(t){return"edit"===t.status?"normal":"disabled"},shortcut:"ctrl+c"};var Iv=Tu.utils;function jv(t){return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=jv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"paste",execute:function(t){var e=t.paste();if(e)return t.attach().render().layout(),t.fire("contentchange",{},!0),{pasteItems:Iv.map(e,(function(t){return{node:{id:t.id,title:t.text},parent:t.parent?{id:t.parent.id,title:t.parent.text}:null}}))}},query:function(t){return t.option.readOnly?"disabled":"normal"},shortcut:"ctrl+v"};var Dv=Tu.utils;function Pv(t){return(Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Pv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rv(t){return function(t){if(Array.isArray(t))return Bv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"importtext",execute:function(t,e){var n={text:"*",children:[]},r=[{tab:-1,textTree:n}],i=e.split("\n"),o=Dv.map(i,(function(t){var e=t.match(/\t/g);return e?e.length:0}));Dv.each(o,(function(t,e){for(var n=null;!(t>(n=r[r.length-1]).tab);)r.pop();var o={text:i[e].replace(/\t/g,"").replace(/\\t/g,"\t").replace(/\\n/g,"\n"),children:[]};n.textTree.children.push(o),r.push({tab:t,textTree:o})}));Dv.each(t.selectedNodes,(function(e){if("tree"===e.type){var r=e.absVec;!function e(n,r,i){return Dv.each(r.children,(function(r,o){var a=t.newTree();a.text=r.text,n.children.push(a),a.parent=n,a.level=n.level+1,t.move(a,i),e(a,r,i)}))}(e,n,r)}})),t.attach().render().layout(),t.fire("contentchange",{},!0);var a=[];return Dv.each(t.selectedNodes,(function(t){"tree"===t.type&&(t.level<=0||a.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Av(Object(n),!0).forEach((function(e){Tv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({node:{id:t.id,title:t.text}},t.parent?{parent:{id:t.parent.id,title:t.parent.text}}:{})))})),{items:a,text:e}},query:function(t){return t.option.readOnly?"disabled":"normal"}};var zv=Tu.utils;function Fv(t){return(Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Fv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wv(t){return function(t){if(Array.isArray(t))return Yv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"icon",execute:function(t,e){var n=Rv(t.selectedNodes)[0],r=e||n.icon;return n.icon=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lv(Object(n),!0).forEach((function(e){Nv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):null,t.renderNode(n).layout(),t.fire("contentchange",{},!0),r?{isAdd:!!e,icon:{type:r.type,url:r.url,id:r.url},node:{id:n.id,title:n.text}}:{node:{id:n.id,title:n.text}}},query:function(t){return t.option.readOnly||1!==zv.size(t.selectedNodes)?"disabled":"normal"}};var Vv=Tu.utils;function Gv(t){return(Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Gv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zv(t){return function(t){if(Array.isArray(t))return qv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"image",execute:function(t,e){var n=Wv(t.selectedNodes)[0];return n.image=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hv(Object(n),!0).forEach((function(e){Uv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):null,t.renderNode(n).layout(),t.fire("contentchange",{},!0),e?{image:{type:e.type,url:e.url,id:e.url},node:{id:n.id,title:n.text}}:{}},query:function(t){return t.option.readOnly||1!==Vv.size(t.selectedNodes)?"disabled":"normal"}};var Qv=Tu.utils;function Jv(t){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$v(Object(n),!0).forEach((function(e){eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Jv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tu.command={type:"attachment",execute:function(t,e){var n=Zv(t.selectedNodes)[0];return n.attachments=e?Qv.map(e,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xv(Object(n),!0).forEach((function(e){Kv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)})):[],t.renderNode(n).layout(),t.fire("contentchange",{},!0),{node:{id:n.id,title:n.text},attachments:Qv.map(e,(function(t){return{id:t.id,type:t.keyword,title:t.content}}))}},query:function(t){return t.option.readOnly||1!==Qv.size(t.selectedNodes)?"disabled":"normal"}};var ng=Tu.utils;function rg(t){return function(t){if(Array.isArray(t))return ig(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return ig(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ig(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"fullview",execute:function(t,e,n){var r=t.targetBox,i=r.center;r.w=1.1*r.w,r.h=1.1*r.h;var o=[i.x,i.y];r.cx=o[0],r.cy=o[1];var a=t.size,s=[r.w,r.h,a.width,a.height],c=s[0],u=s[1],l=s[2],f=s[3],h=l/c<f/u?l/c:f/u;h=Math.min(h,1.6);var d=function(e){var n,r=e.x,i=e.y;return n=[e.z,{x:r,y:i}],t.zoom=n[0],t.center=n[1],n};if(0!==(e=ng.isUnd(e)?t.option.viewAnimationDuration:e)){var p=tg(tg({},t.center.obj),{},{z:t.zoom}),v=tg(tg({},i),{},{z:h}),g=new ng.Animate(p,v,d);n=n||t.option.layoutAnimationEasing,g.start(e,n,(function(){}))}else d(tg(tg({},i.obj),{},{z:h}))}};var og=Tu.utils;function ag(t){return function(t){if(Array.isArray(t))return sg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"connecttext",execute:function(t,e){var n=rg(t.selectedNodes)[0];n.connectText=e,t.renderNode(n).layout(),t.fire("contentchange",{},!0)},query:function(t){return t.option.readOnly||1!==og.size(t.selectedNodes)?"disabled":"normal"}};var cg=Tu.utils;function ug(t){return function(t){if(Array.isArray(t))return lg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"expand",execute:function(t){var e=ag(t.selectedNodes)[0];return e.expand=!e.expand,t.attach().render(e).layout(),t.fire("contentchange",{},!0),{item:{node:{id:e.id,title:e.text},parent:e.parent?{id:e.parent.id,title:e.parent.text}:null},expand:e.expand}},query:function(t){return t.option.readOnly||1!==cg.size(t.selectedNodes)||"tree"!==ag(t.selectedNodes)[0].type?"disabled":"normal"},shortcut:"/"};var fg=Tu.utils;function hg(t){return function(t){if(Array.isArray(t))return dg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeup",execute:function(t){var e=ug(t.selectedNodes)[0],n=t.getStyle(e,"arrange-up");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==fg.size(t.selectedNodes))return"disabled";var e=ug(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-up");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+up"};var pg=Tu.utils;function vg(t){return function(t){if(Array.isArray(t))return gg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangedown",execute:function(t){var e=hg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-down");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==pg.size(t.selectedNodes))return"disabled";var e=hg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-down");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+down"};var mg=Tu.utils;function yg(t){return function(t){if(Array.isArray(t))return bg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeright",execute:function(t){var e=vg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-right");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==mg.size(t.selectedNodes))return"disabled";var e=vg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-right");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+right"};var _g=Tu.utils;function wg(t){return(wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xg(Object(n),!0).forEach((function(e){Cg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mg(t){return function(t){if(Array.isArray(t))return Og(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Og(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Og(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"arrangeleft",execute:function(t){var e=yg(t.selectedNodes)[0],n=t.getStyle(e,"arrange-left");"last"===n&&t.arrangeLast(e),"next"===n&&t.arrangeNext(e),t.layout(),t.fire("contentchange",{},!0)},query:function(t){if(t.option.readOnly)return"disabled";if(1!==_g.size(t.selectedNodes))return"disabled";var e=yg(t.selectedNodes)[0];if("tree"!==e.type)return"disabled";if(1===e.level)return"disabled";var n=t.getStyle(e,"arrange-left");return"last"===n&&t.isFirst(e)||"next"===n&&t.isLast(e)?"disabled":"normal"},shortcut:"alt+left"};var kg=Tu.utils;function Eg(t){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ig(Object(n),!0).forEach((function(e){Ag(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ag(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Eg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tg(t){return function(t){if(Array.isArray(t))return Dg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectup",execute:function(t){var e=Mg(t.selectedNodes)[0],n=Sg(Sg(Sg({},t.trees),t.links),t.summaries),r=e.layoutBox,i=r.x,o=r.y,a=new kg.Pin(i,o),s=null,c=9999;kg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,i=n.y;if(!(i>=a.y)){var o=a.dist(new kg.Pin(r,i));o<c&&(c=o,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==kg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"up"};var Pg=Tu.utils;function Lg(t){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ng(Object(n),!0).forEach((function(e){Bg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Lg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zg(t){return function(t){if(Array.isArray(t))return Fg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectdown",execute:function(t){var e=Tg(t.selectedNodes)[0],n=jg(jg(jg({},t.trees),t.links),t.summaries),r=e.layoutBox,i=r.x,o=r.y,a=new Pg.Pin(i,o),s=null,c=9999;Pg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,i=n.y;if(!(i<=a.y)){var o=a.dist(new Pg.Pin(r,i));o<c&&(c=o,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Pg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"down"};var Hg=Tu.utils;function Ug(t){return(Ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wg(Object(n),!0).forEach((function(e){Vg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ug(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ug(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gg(t){return function(t){if(Array.isArray(t))return Xg(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Xg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Tu.command={type:"selectleft",execute:function(t){var e=zg(t.selectedNodes)[0],n=Rg(Rg(Rg({},t.trees),t.links),t.summaries),r=e.layoutBox,i=r.x,o=r.y,a=new Hg.Pin(i,o),s=null,c=9999;Hg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,i=n.y;if(!(r>=a.x)){var o=a.dist(new Hg.Pin(r,i));o<c&&(c=o,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Hg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"left"};var Kg=Tu.utils;Tu.command={type:"selectright",execute:function(t){var e=Gg(t.selectedNodes)[0],n=Yg(Yg(Yg({},t.trees),t.links),t.summaries),r=e.layoutBox,i=r.x,o=r.y,a=new Kg.Pin(i,o),s=null,c=9999;Kg.each(n,(function(t){if(e!==t){var n=t.layoutBox,r=n.x,i=n.y;if(!(r<=a.x)){var o=a.dist(new Kg.Pin(r,i));o<c&&(c=o,s=t)}}})),s&&(t.cleanSelected().select(s),t.renderNode(e).renderNode(s),t.mindmap.execCommand("view",s.layoutBox.center,t.zoom,!0))},query:function(t){return 1!==Kg.size(t.selectedNodes)?"disabled":"normal"},shortcut:"right"};var Zg=Tu,qg=Zg.utils;Zg.module=function(t){t.on("beforeimport",(function(e){var n=e.data;"1.0.0"===n.version&&(n.links&&qg.each(n.links,(function(t){t.input=t.inputId,t.output=t.outputId,delete t.offset})),n.theme="blue loose round mind",t.traverse(n.root,(function(t){delete t.offset})))}));var e="";qg.setter(t.mindmap,{id:function(t){return e=t}}),qg.getter(t.mindmap,{id:function(){return e}})};var Qg=function(){var t=document.createElement("div");return document.body.appendChild(t),t.setAttribute("style","\n    width:4px;\n    height:4px;\n    position:fixed;\n    z-index: -9999;\n    opacity: 0;\n  "),Zg({target:t,enableAnimation:!1})}();Zg.json2html=function(t){Qg.execCommand("import",t);var e=Qg.box;return Qg.execCommand("view",{x:e.l-5,y:e.t-5},1),{html:'<svg style="user-select:none" viewBox="0 0 '.concat(e.w+10," ").concat(e.h+10,'">').concat(Qg.view.parentNode.innerHTML,"</svg>"),width:e.w+10,height:e.h+10}},window.Mindmap=Zg;var Jg=["block","blockProps","blockStyleFn","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"];function $g(){return($g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tm(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var em=Zg.json2html,nm=O.a.forwardRef((function(t,e){t.block;var n=t.blockProps,r=(t.blockStyleFn,t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection,t.offsetKey,t.preventScroll,t.selection,t.theme,t.tree,tm(t,Jg)),i=O.a.createRef();return Object(M.useEffect)((function(){var t=em(n.data).html;i.current&&(i.current.innerHTML=t)}),[n.data]),O.a.createElement("div",$g({},r,{ref:e}),O.a.createElement("div",{ref:i}))}));function rm(t){return(rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function om(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=rm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var am=function(t,e){var n=t.getCurrentContent().createEntity("MINDMAP","IMMUTABLE",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?im(Object(n),!0).forEach((function(e){om(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e)).getLastCreatedEntityKey(),r=I.AtomicBlockUtils.insertAtomicBlock(t,n," ");return I.EditorState.forceSelection(r,r.getCurrentContent().getSelectionAfter())};function sm(t){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cm(){return(cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?um(Object(n),!0).forEach((function(e){fm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fm(t,e,n){return(e=pm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pm(r.key),r)}}function pm(t){var e=function(t,e){if("object"!=sm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sm(e)?e:e+""}function vm(t,e,n){return e=gm(e),function(t,e){if(e&&("object"===sm(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function gm(t){return(gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mm(t,e){return(mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ym=function(t){function e(){var t;hm(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=vm(this,e,[].concat(r))).callback=function(e){var n=t.props.store,r=n.getItem("getEditorState");n.getItem("setEditorState")(am(r(),lm({},e)))},t.handleClick=function(){var e=t.props.store,n=e.getItem("getProps"),r=e.getItem("getReadOnly"),i=n().onMindmapClick;!r()&&c()(i)&&i(t.callback)},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mm(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.theme,n=t.buttonProps,r=void 0===n?{}:n;return O.a.createElement("div",{className:e.buttonWrapper},O.a.createElement("button",cm({},r,{type:"button",className:e.button,onClick:this.handleClick}),O.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"function",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},O.a.createElement("path",{d:"M160 64C107.264 64 64 107.264 64 160S107.264 256 160 256c14.72 0 28.48-3.776 40.96-9.728l145.792 145.728a155.328 155.328 0 0 0-9.28 158.976l-127.744 103.296A96.256 96.256 0 0 0 160 640c-52.736 0-96 43.264-96 96S107.264 832 160 832 256 788.736 256 736a89.6 89.6 0 0 0-6.016-31.744l127.04-103.04c27.968 23.808 63.744 38.784 102.976 38.784 17.28 0 33.472-3.52 49.024-8.512l68.224 109.248A95.232 95.232 0 0 0 576 800c0 52.736 43.264 96 96 96s96-43.264 96-96a96.32 96.32 0 0 0-116.736-93.76L584.96 599.744c21.248-18.752 37.504-43.008 46.464-70.72l137.792 28.224c6.72 46.528 46.72 82.752 94.72 82.752 52.736 0 96-43.264 96-96S916.736 448 864 448a96.64 96.64 0 0 0-81.728 46.528l-143.744-29.504a158.4 158.4 0 0 0-54.016-105.024l66.496-106.496c6.72 1.472 13.76 2.496 20.992 2.496 52.736 0 96-43.264 96-96S724.736 64 672 64 576 107.264 576 160c0 22.272 8 42.752 20.992 59.008l-68.224 109.44A158.464 158.464 0 0 0 480 320c-32.512 0-62.72 9.984-88 26.752L246.272 201.024C252.16 188.48 256 174.72 256 160 256 107.264 212.736 64 160 64z m0 64c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m512 0c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m-192 256C533.504 384 576 426.496 576 480c0 34.56-17.984 64.256-44.992 81.28a31.872 31.872 0 0 0-8.96 4.992C509.184 572.16 494.912 576 480 576A95.36 95.36 0 0 1 384 480C384 426.496 426.496 384 480 384z m384 128c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m-704 192c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z m512 64c17.984 0 32 14.016 32 32s-14.016 32-32 32a31.616 31.616 0 0 1-32-32c0-17.984 14.016-32 32-32z"}))))}}])&&dm(n.prototype,r),i&&dm(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(M.Component),bm={};function _m(){return(_m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function wm(){return(wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function xm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sm(t,e)}function Sm(t,e){return(Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Cm=function(t,e){var n,r,i=t.getCurrentContent(),o=t.getSelection(),a=I.Modifier.removeRange(i,o,"backward"),s=a.getSelectionAfter(),c=s.get("focusKey"),u=i.getBlockForKey(c),l=0===u.getLength()&&null===u.getEntityAt(0),f=0===o.getStartOffset();l||f?(n=s,r=a):n=(r=I.Modifier.splitBlock(a,s)).getSelectionAfter();var h=I.Modifier.setBlockType(r,n,"sticker"),d=h.createEntity("sticker","IMMUTABLE",{id:e}).getLastCreatedEntityKey(),p=I.CharacterMetadata.create({entity:d}),v=[new I.ContentBlock({key:Object(I.genKey)(),type:"unstyled",text:"",characterList:Object(Ln.List)()}),new I.ContentBlock({key:Object(I.genKey)(),type:"sticker",text:" ",characterList:Object(Ln.List)(Object(Ln.Repeat)(p,1))}),new I.ContentBlock({key:Object(I.genKey)(),type:"unstyled",text:"",characterList:Object(Ln.List)()})],g=I.BlockMapBuilder.createFromArray(v),m=I.Modifier.replaceWithFragment(h,n,g),y=I.EditorState.push(t,m,"insert-fragment");return I.EditorState.forceSelection(y,m.getSelectionAfter())},Mm=function(t,e){var n,r=t.getCurrentContent(),i=new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0}),o=r.getKeyAfter(e),a=r.getBlockForKey(o);n=a&&"unstyled"===a.getType()&&0===a.getLength()&&a===r.getBlockMap().last()?new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:o,focusOffset:0}):new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1}),r=I.Modifier.setBlockType(r,n,"unstyled"),r=I.Modifier.removeRange(r,n,"backward");var s=I.EditorState.push(t,r,"remove-range");return I.EditorState.forceSelection(s,i)},Om=function(t){var e=t;return t.getCurrentContent().get("blockMap").forEach((function(n){"sticker"===n.get("type")&&null===n.getEntityAt(0)&&(e=function(t,e){var n=t.getCurrentContent(),r=new I.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0}),i=I.Modifier.setBlockType(n,r,"unstyled"),o=I.EditorState.push(t,i,"remove-range");return I.EditorState.forceSelection(o,i.getSelectionAfter())}(t,n.get("key")))})),e},km=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).remove=function(t){t.preventDefault(),t.stopPropagation(),e.props.blockProps.onRemove(e.props.block.getKey())},e}return xm(e,t),e.prototype.render=function(){var t=this.props,e=t.block,n=t.stickers,r=t.theme,i=void 0===r?{}:r,o=t.contentState,a=O.a.createElement("span",{className:i.stickerRemoveButton,onClick:this.remove,role:"button"},"\u2715"),s=o.getEntity(e.getEntityAt(0)).getData();return O.a.createElement("figure",{contentEditable:!1,"data-offset-key":e.get("key")+"-0-0",className:i.sticker},O.a.createElement("img",{className:i.stickerImage,src:n.getIn(["data",s.id,"url"]),role:"presentation"}),this.props.attachRemoveButton?a:null)},e}(M.Component),Em=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onClick=function(t){t.stopPropagation(),e.props.onClick(e.props.id)},e}return xm(e,t),e.prototype.render=function(){var t=this.props,e=t.id,n=t.url,r=t.theme,i=void 0===r?{}:r;return O.a.createElement("button",{onClick:this.onClick,key:e,type:"button",className:i.selectSticker},O.a.createElement("img",{className:i.selectStickerImage,src:n,role:"presentation"}))},e}(M.Component);function Im(t,e){e.style.overflow=t}var jm=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={open:!1},e.preventNextClose=void 0,e.onMouseEnter=function(){Im("hidden",document.body)},e.onMouseLeave=function(){Im("auto",document.body)},e.openPopover=function(){e.state.open||(e.preventNextClose=!0,e.setState({open:!0}))},e.closePopover=function(){!e.preventNextClose&&e.state.open&&e.setState({open:!1}),e.preventNextClose=!1},e.add=function(t){var n=e.props.editor;n.onChange(Cm(n.state.editorState,t))},e}xm(e,t);var n=e.prototype;return n.componentDidMount=function(){document.addEventListener("click",this.closePopover)},n.componentWillUnmount=function(){document.removeEventListener("click",this.closePopover)},n.render=function(){var t=this,e=this.props.stickers.get("data").map((function(e){var n=e.get("id"),r=e.get("url");return O.a.createElement(Em,{theme:t.props.theme,key:n,onClick:t.add,id:n,url:r})})),n=this.props.theme,r=void 0===n?{}:n,i=this.state.open?r.selectPopover:r.selectClosedPopover,o=this.state.open?r.selectPressedButton:r.selectButton;return O.a.createElement("div",{className:r.select},O.a.createElement("button",{className:o,onMouseUp:this.openPopover,type:"button"},this.props.selectButtonContent),O.a.createElement("div",{className:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},O.a.createElement("div",{className:r.selectStickerList},e.toList().toJS()),O.a.createElement("div",{className:r.selectBottomGradient})))},e}(M.Component),Am={sticker:"sguqmxj",stickerImage:"s14n3kb5",stickerRemoveButton:"sbasy7n",select:"surl5pn",selectPopover:"sz489xs",selectClosedPopover:"s9rpy2j",selectBottomGradient:"s1qnmidc",selectButton:"s1afvjwz",selectPressedButton:"ss5bye0",selectStickerList:"svz23p4",selectSticker:"s18qbqny",selectStickerImage:"s1v21ont"};var Tm=function(){this.__data__=new De,this.size=0};var Dm=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Pm=function(t){return this.__data__.get(t)};var Lm=function(t){return this.__data__.has(t)};var Nm=function(t,e){var n=this.__data__;if(n instanceof De){var r=n.__data__;if(!Pe||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ye(r)}return n.set(t,e),this.size=n.size,this};function Rm(t){var e=this.__data__=new De(t);this.size=e.size}Rm.prototype.clear=Tm,Rm.prototype.delete=Dm,Rm.prototype.get=Pm,Rm.prototype.has=Lm,Rm.prototype.set=Nm;var Bm=Rm;var zm=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Fm=function(t){return this.__data__.has(t)};function Hm(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ye;++e<n;)this.add(t[e])}Hm.prototype.add=Hm.prototype.push=zm,Hm.prototype.has=Fm;var Um=Hm;var Wm=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Ym=function(t,e){return t.has(e)};var Vm=function(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(t),l=o.get(e);if(u&&l)return u==e&&l==t;var f=-1,h=!0,d=2&n?new Um:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Wm(e,(function(t,e){if(!Ym(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Gm=Ut.a.Uint8Array;var Xm=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Km=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Zm=qe.a?qe.a.prototype:void 0,qm=Zm?Zm.valueOf:void 0;var Qm=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Gm(t),new Gm(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ae(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Xm;case"[object Set]":var c=1&r;if(s||(s=Km),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var l=Vm(s(t),s(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(qm)return qm.call(t)==qm.call(e)}return!1};var Jm=function(t,e,n){var r=e(t);return Object(It.a)(t)?r:gn(r,n(t))};var $m=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};var ty=function(){return[]},ey=Object.prototype.propertyIsEnumerable,ny=Object.getOwnPropertySymbols,ry=ny?function(t){return null==t?[]:(t=Object(t),$m(ny(t),(function(e){return ey.call(t,e)})))}:ty;var iy=function(t){return Jm(t,Qo.a,ry)},oy=Object.prototype.hasOwnProperty;var ay=function(t,e,n,r,i,o){var a=1&n,s=iy(t),c=s.length;if(c!=iy(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:oy.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++u<c;){var v=t[l=s[u]],g=e[l];if(r)var m=a?r(g,v,l,e,t,o):r(v,g,l,t,e,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d},sy=re(Ut.a,"DataView"),cy=re(Ut.a,"Promise"),uy=re(Ut.a,"Set"),ly=re(Ut.a,"WeakMap"),fy=Kt(sy),hy=Kt(Pe),dy=Kt(cy),py=Kt(uy),vy=Kt(ly),gy=Et.a;(sy&&"[object DataView]"!=gy(new sy(new ArrayBuffer(1)))||Pe&&"[object Map]"!=gy(new Pe)||cy&&"[object Promise]"!=gy(cy.resolve())||uy&&"[object Set]"!=gy(new uy)||ly&&"[object WeakMap]"!=gy(new ly))&&(gy=function(t){var e=Object(Et.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case fy:return"[object DataView]";case hy:return"[object Map]";case dy:return"[object Promise]";case py:return"[object Set]";case vy:return"[object WeakMap]"}return e});var my=gy,yy=n(1212),by=n(1214),_y=Object.prototype.hasOwnProperty;var wy=function(t,e,n,r,i,o){var a=Object(It.a)(t),s=Object(It.a)(e),c=a?"[object Array]":my(t),u=s?"[object Array]":my(e),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h=c==u;if(h&&Object(yy.a)(t)){if(!Object(yy.a)(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Bm),a||Object(by.a)(t)?Vm(t,e,n,r,i,o):Qm(t,e,c,n,r,i,o);if(!(1&n)){var d=l&&_y.call(t,"__wrapped__"),p=f&&_y.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return o||(o=new Bm),i(v,g,n,r,o)}}return!!h&&(o||(o=new Bm),ay(t,e,n,r,i,o))};var xy=function t(e,n,r,i,o){return e===n||(null==e||null==n||!Object(jt.a)(e)&&!Object(jt.a)(n)?e!==e&&n!==n:wy(e,n,r,i,t,o))};var Sy=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=n[i])[0],u=t[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in t))return!1}else{var f=new Bm;if(r)var h=r(u,l,c,t,e,f);if(!(void 0===h?xy(l,u,3,r,f):h))return!1}}return!0};var Cy=function(t){return t===t&&!Object(Gt.a)(t)};var My=function(t){for(var e=Object(Qo.a)(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Cy(i)]}return e};var Oy=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var ky=function(t){var e=My(t);return 1==e.length&&e[0][2]?Oy(e[0][0],e[0][1]):function(n){return n===t||Sy(n,t,e)}};var Ey=function(t,e){return pe(t)&&Cy(e)?Oy(on(t),e):function(n){var r=jn(n,t);return void 0===r&&r===e?pn(n,t):xy(e,r,3)}};var Iy=function(t){return function(e){return null==e?void 0:e[t]}};var jy=function(t){return function(e){return cn(e,t)}};var Ay=function(t){return pe(t)?Iy(on(t)):jy(t)};function Ty(t){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dy=function(t){return"function"==typeof t?t:null==t?Mn:"object"==Ty(t)?Object(It.a)(t)?Ey(t[0],t[1]):ky(t):Ay(t)};var Py=function(t){return function(e,n,r){var i=Object(e);if(!Object(Go.a)(e)){var o=Dy(n,3);e=Object(Qo.a)(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}};var Ly=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1};var Ny=function(t){return t?(t=Ba(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0};var Ry=function(t){var e=Ny(t),n=e%1;return e===e?n?e-n:e:0},By=Math.max;var zy=Py((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ry(n);return i<0&&(i=By(r+i,0)),Ly(t,Dy(e,3),i)}));var Fy=function(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};var Hy=function(t,e,n){return t=en(t),n=null==n?0:Fy(Ry(n),0,t.length),e=tn(e),t.slice(n,n+e.length)==e};var Uy=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Wy=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o};var Yy=function(t,e){return e.length<2?t:cn(t,Wy(e,0,-1))};var Vy=function(t,e){return e=nn(e,t),null==(t=Yy(t,e))||delete t[on(Uy(e))]},Gy=Array.prototype.splice;var Xy=function(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Object(rn.a)(i)?Gy.call(t,i,1):Vy(t,i)}}return t};var Ky=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Dy(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Xy(t,i),n},Zy=n(1295),qy=n.n(Zy),Qy=n(1171),Jy=n.n(Qy),$y=function(t,e,n,r,i){var o=i.clientWidth,a=i.clientHeight,s="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,c="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),l=c-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=l<0?0:l>a?1:Math.round(100*l/a)/100,e.a!==f)return{h:e.h,s:e.s,l:e.l,a:f,source:"rgb"}}else{var h=void 0;if(r!==(h=u<0?0:u>o?1:Math.round(100*u/o)/100))return{h:e.h,s:e.s,l:e.l,a:h,source:"rgb"}}return null},tb={},eb=function(t,e,n,r){var i=t+"-"+e+"-"+n+(r?"-server":"");if(tb[i])return tb[i];var o=function(t,e,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=e,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(t,e,n,r);return tb[i]=o,o},nb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb=function(t){var e=t.white,n=t.grey,r=t.size,i=t.renderers,o=t.borderRadius,a=t.boxShadow,s=t.children,c=Jy()({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+eb(e,n,r,i.canvas)+") center left"}}});return Object(M.isValidElement)(s)?O.a.cloneElement(s,nb({},s.props,{style:nb({},s.props.style,c.grid)})):O.a.createElement("div",{style:c.grid})};rb.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ib=rb;function ob(t){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ab=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ub(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==ob(e)&&"function"!==typeof e?t:e}var lb=function(t){function e(){var t,n,r;cb(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=ub(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.handleChange=function(t){var e=$y(t,r.props.hsl,r.props.direction,r.props.a,r.container);e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},ub(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+ob(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),sb(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=this.props.rgb,n=Jy()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:ab({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return O.a.createElement("div",{style:n.alpha},O.a.createElement("div",{style:n.checkboard},O.a.createElement(ib,{renderers:this.props.renderers})),O.a.createElement("div",{style:n.gradient}),O.a.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.a.createElement("div",{style:n.pointer},this.props.pointer?O.a.createElement(this.props.pointer,this.props):O.a.createElement("div",{style:n.slider}))))}}]),e}(M.PureComponent||M.Component);function fb(t){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var hb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var db=[38,40],pb=1,vb=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==fb(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.setUpdatedValue(t.target.value,t)},n.handleKeyDown=function(t){var e,r=function(t){return Number(String(t).replace(/%/g,""))}(t.target.value);if(!isNaN(r)&&(e=t.keyCode,db.indexOf(e)>-1)){var i=n.getArrowOffset(),o=38===t.keyCode?r+i:r-i;n.setUpdatedValue(o,t)}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n.inputId="rc-editable-input-"+pb++,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+fb(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),hb(e,[{key:"componentDidUpdate",value:function(t,e){this.props.value===this.state.value||t.value===this.props.value&&e.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(t){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.props.label,t)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(t,e){var n=this.props.label?this.getValueObjectWithLabel(t):t;this.props.onChange&&this.props.onChange(n,e),this.setState({value:t})}},{key:"render",value:function(){var t=this,e=Jy()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return O.a.createElement("div",{style:e.wrap},O.a.createElement("input",{id:this.inputId,style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?O.a.createElement("label",{htmlFor:this.inputId,style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(M.PureComponent||M.Component),gb=function(t,e,n,r){var i=r.clientWidth,o=r.clientHeight,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===e){var l=void 0;if(u<0)l=359;else if(u>o)l=0;else{l=360*(-100*u/o+100)/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(c<0)f=0;else if(c>i)f=359;else{f=360*(100*c/i)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null};function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var yb=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==mb(e)&&"function"!==typeof e?t:e}var wb=function(t){function e(){var t,n,r;bb(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=_b(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.handleChange=function(t){var e=gb(t,r.props.direction,r.props.hsl,r.container);e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},_b(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+mb(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),yb(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.direction,n=void 0===e?"horizontal":e,r=Jy()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return O.a.createElement("div",{style:r.hue},O.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),O.a.createElement("div",{style:r.pointer},this.props.pointer?O.a.createElement(this.props.pointer,this.props):O.a.createElement("div",{style:r.slider}))))}}]),e}(M.PureComponent||M.Component);var xb=function(t,e,n){(void 0!==n&&!ae(t[e],n)||void 0===n&&!(e in t))&&oe(t,e,n)};var Sb=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}(),Cb=n(1303);var Mb=function(t){var e=new t.constructor(t.byteLength);return new Gm(e).set(new Gm(t)),e};var Ob=function(t,e){var n=e?Mb(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var kb=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Eb=Object.create,Ib=function(){function t(){}return function(e){if(!Object(Gt.a)(e))return{};if(Eb)return Eb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),jb=n(1249),Ab=Object(jb.a)(Object.getPrototypeOf,Object);var Tb=function(t){return"function"!=typeof t.constructor||Object(qo.a)(t)?{}:Ib(Ab(t))};var Db=function(t){return Object(jt.a)(t)&&Object(Go.a)(t)},Pb=Function.prototype,Lb=Object.prototype,Nb=Pb.toString,Rb=Lb.hasOwnProperty,Bb=Nb.call(Object);var zb=function(t){if(!Object(jt.a)(t)||"[object Object]"!=Object(Et.a)(t))return!1;var e=Ab(t);if(null===e)return!0;var n=Rb.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Nb.call(n)==Bb};var Fb=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]},Hb=n(1250);var Ub=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Wb=Object.prototype.hasOwnProperty;var Yb=function(t){if(!Object(Gt.a)(t))return Ub(t);var e=Object(qo.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&Wb.call(t,r))&&n.push(r);return n};var Vb=function(t){return Object(Go.a)(t)?Object(Hb.a)(t,!0):Yb(t)};var Gb=function(t){return Yo(t,Vb(t))};var Xb=function(t,e,n,r,i,o,a){var s=Fb(t,n),c=Fb(e,n),u=a.get(c);if(u)xb(t,n,u);else{var l=o?o(s,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=Object(It.a)(c),d=!h&&Object(yy.a)(c),p=!h&&!d&&Object(by.a)(c);l=c,h||d||p?Object(It.a)(s)?l=s:Db(s)?l=kb(s):d?(f=!1,l=Object(Cb.a)(c,!0)):p?(f=!1,l=Ob(c,!0)):l=[]:zb(c)||Object(fn.a)(c)?(l=s,Object(fn.a)(s)?l=Gb(s):Object(Gt.a)(s)&&!Object(kt.a)(s)||(l=Tb(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),xb(t,n,l)}};var Kb=function t(e,n,r,i,o){e!==n&&Sb(n,(function(a,s){if(o||(o=new Bm),Object(Gt.a)(a))Xb(e,n,s,r,t,i,o);else{var c=i?i(Fb(e,s),a,s+"",e,n,o):void 0;void 0===c&&(c=a),xb(e,s,c)}}),Vb)},Zb=Zo((function(t,e,n){Kb(t,e,n)})),qb=function(t){var e=t.zDepth,n=t.radius,r=t.background,i=t.children,o=t.styles,a=void 0===o?{}:o,s=Jy()(Zb({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":1===e});return O.a.createElement("div",{style:s.wrap},O.a.createElement("div",{style:s.bg}),O.a.createElement("div",{style:s.content},i))};qb.propTypes={background:E.a.string,zDepth:E.a.oneOf([0,1,2,3,4,5]),radius:E.a.number,styles:E.a.object},qb.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Qb=qb,Jb=function(){return Ut.a.Date.now()},$b=Math.max,t_=Math.min;var e_=function(t,e,n){var r,i,o,a,s,c,u=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function p(t){return u=t,s=setTimeout(g,e),l?d(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=o}function g(){var t=Jb();if(v(t))return m(t);s=setTimeout(g,function(t){var n=e-(t-c);return f?t_(n,o-(t-u)):n}(t))}function m(t){return s=void 0,h&&r?d(t):(r=i=void 0,a)}function y(){var t=Jb(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return p(c);if(f)return clearTimeout(s),s=setTimeout(g,e),d(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Ba(e)||0,Object(Gt.a)(n)&&(l=!!n.leading,o=(f="maxWait"in n)?$b(Ba(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},y.flush=function(){return void 0===s?a:m(Jb())},y};var n_=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(Gt.a)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),e_(t,e,{leading:r,maxWait:e,trailing:i})};function r_(t){return(r_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o_=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r_(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(t,e,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),u=s-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>i&&(c=i),u<0?u=0:u>o&&(u=o);var l=c/i,f=1-u/o;return{h:e.h,s:l,v:f,a:e.a,source:"hsv"}}(t,n.props.hsl,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t);var e=n.getContainerRenderWindow();e.addEventListener("mousemove",n.handleChange),e.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=n_((function(t,e,n){t(e,n)}),50),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i_(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var t=this.container,e=window;!e.document.contains(t)&&e.parent!==e;)e=e.parent;return e}},{key:"unbindEventListeners",value:function(){var t=this.getContainerRenderWindow();t.removeEventListener("mousemove",this.handleChange),t.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.style||{},n=e.color,r=e.white,i=e.black,o=e.pointer,a=e.circle,s=Jy()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:a}},{custom:!!this.props.style});return O.a.createElement("div",{style:s.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),O.a.createElement("div",{style:s.white,className:"saturation-white"},O.a.createElement("div",{style:s.black,className:"saturation-black"}),O.a.createElement("div",{style:s.pointer},this.props.pointer?O.a.createElement(this.props.pointer,this.props):O.a.createElement("div",{style:s.circle}))))}}]),e}(M.PureComponent||M.Component);var a_=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var s_=function(t,e){return function(n,r){if(null==n)return n;if(!Object(Go.a)(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(t,e){return t&&Sb(t,e,Qo.a)}));var c_=function(t){return"function"==typeof t?t:Mn};var u_=function(t,e){return(Object(It.a)(t)?a_:s_)(t,c_(e))},l_=n(674),f_=n.n(l_),h_=function(t){var e=0,n=0;return u_(["r","g","b","a","h","s","l","v"],(function(r){if(t[r]&&(e+=1,isNaN(t[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(t[r])&&(n+=1)}})),e===n&&t},d_=function(t,e){var n=t.hex?f_()(t.hex):f_()(t),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=e||0,i.h=e||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:t.h||e||r.h,source:t.source}},p_=function(t){if("transparent"===t)return!0;var e="#"===String(t).charAt(0)?1:0;return t.length!==4+e&&t.length<7+e&&f_()(t).isValid()},v_=function(t){if(!t)return"#fff";var e=d_(t);return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=128?"#000":"#fff"},g_=function(t,e){var n=t.replace("\xb0","");return f_()(e+" ("+n+")")._ok};function m_(t){return(m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var __=function(t){var e=function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==m_(e)&&"function"!==typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(h_(t)){var r=d_(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(h_(t)){var r=d_(t,t.h||e.state.oldHue);e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=y_({},d_(t.color,0)),e.debounce=e_((function(t,e,n){t(e,n)}),100),e}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+m_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),b_(n,[{key:"render",value:function(){var e={};return this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover),O.a.createElement(t,y_({},this.props,this.state,{onChange:this.handleChange},e))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return y_({},d_(t.color,e.oldHue))}}]),n}(M.PureComponent||M.Component);return e.propTypes=y_({},t.propTypes),e.defaultProps=y_({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};function w_(t){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function C_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==w_(e)&&"function"!==typeof e?t:e}function O_(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+w_(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var k_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var t,e,n;C_(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n=M_(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},M_(n,e)}return O_(r,n),S_(r,[{key:"render",value:function(){return O.a.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},O.a.createElement(t,x_({},this.props,this.state)))}}]),r}(O.a.Component)}((function(t){var e=t.color,n=t.style,r=t.onClick,i=void 0===r?function(){}:r,o=t.onHover,a=t.title,s=void 0===a?e:a,c=t.children,u=t.focus,l=t.focusStyle,f=void 0===l?{}:l,h="transparent"===e,d=Jy()({default:{swatch:k_({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,u?f:{})}}),p={};return o&&(p.onMouseOver=function(t){return o(e,t)}),O.a.createElement("div",k_({style:d.swatch,onClick:function(t){return i(e,t)},title:s,tabIndex:0,onKeyDown:function(t){return 13===t.keyCode&&i(e,t)}},p),c,h&&O.a.createElement(ib,{borderRadius:d.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),I_=function(t){var e=t.direction,n=Jy()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return O.a.createElement("div",{style:n.picker})},j_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_=function(t){var e=t.rgb,n=t.hsl,r=t.width,i=t.height,o=t.onChange,a=t.direction,s=t.style,c=t.renderers,u=t.pointer,l=t.className,f=void 0===l?"":l,h=Jy()({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:s}}});return O.a.createElement("div",{style:h.picker,className:"alpha-picker "+f},O.a.createElement(lb,j_({},h.alpha,{rgb:e,hsl:n,pointer:u,renderers:c,onChange:o,direction:a})))};A_.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:I_};__(A_);var T_=function(t,e){var n=-1,r=Object(Go.a)(t)?Array(t.length):[];return s_(t,(function(t,i,o){r[++n]=e(t,i,o)})),r};var D_=function(t,e){return(Object(It.a)(t)?Qe:T_)(t,Dy(e,3))},P_=function(t){var e=t.colors,n=t.onClick,r=t.onSwatchHover,i=Jy()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return O.a.createElement("div",{style:i.swatches},D_(e,(function(t){return O.a.createElement(E_,{key:t,color:t,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}})})),O.a.createElement("div",{style:i.clear}))},L_=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,i=t.colors,o=t.width,a=t.triangle,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f="transparent"===r,h=function(t,n){p_(t)&&e({hex:t,source:"hex"},n)},d=Jy()(Zb({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:v_(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===a});return O.a.createElement("div",{style:d.card,className:"block-picker "+l},O.a.createElement("div",{style:d.triangle}),O.a.createElement("div",{style:d.head},f&&O.a.createElement(ib,{borderRadius:"6px 6px 0 0"}),O.a.createElement("div",{style:d.label},r)),O.a.createElement("div",{style:d.body},O.a.createElement(P_,{colors:i,onClick:h,onSwatchHover:n}),O.a.createElement(vb,{style:{input:d.input},value:r,onChange:h})))};L_.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.string),triangle:E.a.oneOf(["top","hide"]),styles:E.a.object},L_.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};__(L_);var N_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},R_={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},B_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},z_={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},F_={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},H_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},U_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},W_={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Y_={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},V_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},G_={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},X_={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},K_={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Z_={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},q_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Q_={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},J_={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},$_={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},tw=function(t){var e=t.color,n=t.onClick,r=t.onSwatchHover,i=t.hover,o=t.active,a=t.circleSize,s=t.circleSpacing,c=Jy()({default:{swatch:{width:a,height:a,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:i,active:o});return O.a.createElement("div",{style:c.swatch},O.a.createElement(E_,{style:c.Swatch,color:e,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+e}}))};tw.defaultProps={circleSize:28,circleSpacing:14};var ew=Object(Qy.handleHover)(tw),nw=function(t){var e=t.width,n=t.onChange,r=t.onSwatchHover,i=t.colors,o=t.hex,a=t.circleSize,s=t.styles,c=void 0===s?{}:s,u=t.circleSpacing,l=t.className,f=void 0===l?"":l,h=Jy()(Zb({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),d=function(t,e){return n({hex:t,source:"hex"},e)};return O.a.createElement("div",{style:h.card,className:"circle-picker "+f},D_(i,(function(t){return O.a.createElement(ew,{key:t,color:t,onClick:d,onSwatchHover:r,active:o===t.toLowerCase(),circleSize:a,circleSpacing:u})})))};nw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),circleSize:E.a.number,circleSpacing:E.a.number,styles:E.a.object},nw.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[N_[500],R_[500],B_[500],z_[500],F_[500],H_[500],U_[500],W_[500],Y_[500],V_[500],G_[500],X_[500],K_[500],Z_[500],q_[500],Q_[500],J_[500],$_[500]],styles:{}};var rw=__(nw);var iw=function(t){return void 0===t},ow=n(1304),aw=n.n(ow);function sw(t){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var cw=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var uw=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==sw(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(t,e){t.hex?p_(t.hex)&&n.props.onChange({hex:t.hex,source:"hex"},e):t.r||t.g||t.b?n.props.onChange({r:t.r||n.props.rgb.r,g:t.g||n.props.rgb.g,b:t.b||n.props.rgb.b,source:"rgb"},e):t.a?(t.a<0?t.a=0:t.a>1&&(t.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},e)):(t.h||t.s||t.l)&&("string"===typeof t.s&&t.s.includes("%")&&(t.s=t.s.replace("%","")),"string"===typeof t.l&&t.l.includes("%")&&(t.l=t.l.replace("%","")),1==t.s?t.s=.01:1==t.l&&(t.l=.01),n.props.onChange({h:t.h||n.props.hsl.h,s:Number(iw(t.s)?n.props.hsl.s:t.s),l:Number(iw(t.l)?n.props.hsl.l:t.l),source:"hsl"},e))},n.showHighlight=function(t){t.currentTarget.style.background="#eee"},n.hideHighlight=function(t){t.currentTarget.style.background="transparent"},1!==t.hsl.a&&"hex"===t.view?n.state={view:"rgb"}:n.state={view:t.view},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+sw(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),cw(e,[{key:"render",value:function(){var t=this,e=Jy()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=O.a.createElement("div",{style:e.fields,className:"flexbox-fix"},O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=O.a.createElement("div",{style:e.fields,className:"flexbox-fix"},O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),O.a.createElement("div",{style:e.alpha},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=O.a.createElement("div",{style:e.fields,className:"flexbox-fix"},O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),O.a.createElement("div",{style:e.field},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),O.a.createElement("div",{style:e.alpha},O.a.createElement(vb,{style:{input:e.input,label:e.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),O.a.createElement("div",{style:e.wrap,className:"flexbox-fix"},n,O.a.createElement("div",{style:e.toggle},O.a.createElement("div",{style:e.icon,onClick:this.toggleViews,ref:function(e){return t.icon=e}},O.a.createElement(aw.a,{style:e.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 1!==t.hsl.a&&"hex"===e.view?{view:"rgb"}:null}}]),e}(O.a.Component);uw.defaultProps={view:"hex"};var lw=uw,fw=function(){var t=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.a.createElement("div",{style:t.picker})},hw=function(){var t=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return O.a.createElement("div",{style:t.picker})},dw=function(t){var e=t.width,n=t.onChange,r=t.disableAlpha,i=t.rgb,o=t.hsl,a=t.hsv,s=t.hex,c=t.renderers,u=t.styles,l=void 0===u?{}:u,f=t.className,h=void 0===f?"":f,d=t.defaultView,p=Jy()(Zb({default:{picker:{width:e,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},l),{disableAlpha:r});return O.a.createElement("div",{style:p.picker,className:"chrome-picker "+h},O.a.createElement("div",{style:p.saturation},O.a.createElement(o_,{style:p.Saturation,hsl:o,hsv:a,pointer:hw,onChange:n})),O.a.createElement("div",{style:p.body},O.a.createElement("div",{style:p.controls,className:"flexbox-fix"},O.a.createElement("div",{style:p.color},O.a.createElement("div",{style:p.swatch},O.a.createElement("div",{style:p.active}),O.a.createElement(ib,{renderers:c}))),O.a.createElement("div",{style:p.toggles},O.a.createElement("div",{style:p.hue},O.a.createElement(wb,{style:p.Hue,hsl:o,pointer:fw,onChange:n})),O.a.createElement("div",{style:p.alpha},O.a.createElement(lb,{style:p.Alpha,rgb:i,hsl:o,pointer:fw,renderers:c,onChange:n})))),O.a.createElement(lw,{rgb:i,hsl:o,hex:s,view:d,onChange:n,disableAlpha:r})))};dw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),disableAlpha:E.a.bool,styles:E.a.object,defaultView:E.a.oneOf(["hex","rgb","hsl"])},dw.defaultProps={width:225,disableAlpha:!1,styles:{}};__(dw);var pw=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,i=t.onSwatchHover,o=t.active,a=Jy()({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:v_(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return O.a.createElement(E_,{style:a.color,color:e,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},O.a.createElement("div",{style:a.dot}))},vw=function(t){var e=t.hex,n=t.rgb,r=t.onChange,i=Jy()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(t,e){t.r||t.g||t.b?r({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},e):r({hex:t.hex,source:"hex"},e)};return O.a.createElement("div",{style:i.fields,className:"flexbox-fix"},O.a.createElement("div",{style:i.active}),O.a.createElement(vb,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:e,onChange:o}),O.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:o}),O.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:o}),O.a.createElement(vb,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:o}))},gw=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.colors,i=t.hex,o=t.rgb,a=t.styles,s=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,l=Jy()(Zb({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),f=function(t,n){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},n):e(t,n)};return O.a.createElement(Qb,{style:l.Compact,styles:s},O.a.createElement("div",{style:l.compact,className:"compact-picker "+u},O.a.createElement("div",null,D_(r,(function(t){return O.a.createElement(pw,{key:t,color:t,active:t.toLowerCase()===i,onClick:f,onSwatchHover:n})})),O.a.createElement("div",{style:l.clear})),O.a.createElement(vw,{hex:i,rgb:o,onChange:f})))};gw.propTypes={colors:E.a.arrayOf(E.a.string),styles:E.a.object},gw.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};__(gw);var mw=Object(Qy.handleHover)((function(t){var e=t.hover,n=t.color,r=t.onClick,i=t.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Jy()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:e});return O.a.createElement("div",{style:a.swatch},O.a.createElement(E_,{color:n,onClick:r,onHover:i,focusStyle:o}))})),yw=function(t){var e=t.width,n=t.colors,r=t.onChange,i=t.onSwatchHover,o=t.triangle,a=t.styles,s=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,l=Jy()(Zb({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),f=function(t,e){return r({hex:t,source:"hex"},e)};return O.a.createElement("div",{style:l.card,className:"github-picker "+u},O.a.createElement("div",{style:l.triangleShadow}),O.a.createElement("div",{style:l.triangle}),D_(n,(function(t){return O.a.createElement(mw,{color:t,key:t,onClick:f,onSwatchHover:i})})))};yw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.string),triangle:E.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:E.a.object},yw.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};__(yw);var bw=function(t){var e=t.direction,n=Jy()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return O.a.createElement("div",{style:n.picker})},_w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww=function(t){var e=t.width,n=t.height,r=t.onChange,i=t.hsl,o=t.direction,a=t.pointer,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(Zb({default:{picker:{position:"relative",width:e,height:n},hue:{radius:"2px"}}},c));return O.a.createElement("div",{style:f.picker,className:"hue-picker "+l},O.a.createElement(wb,_w({},f.hue,{hsl:i,pointer:a,onChange:function(t){return r({a:1,h:t.h,l:.5,s:1})},direction:o})))};ww.propTypes={styles:E.a.object},ww.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:bw,styles:{}};__(ww),__((function(t){var e=t.onChange,n=t.hex,r=t.rgb,i=t.styles,o=void 0===i?{}:i,a=t.className,s=void 0===a?"":a,c=Jy()(Zb({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(t,n){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},n):(t.r||t.g||t.b)&&e({r:t.r||r.r,g:t.g||r.g,b:t.b||r.b,source:"rgb"},n)};return O.a.createElement(Qb,{styles:o},O.a.createElement("div",{style:c.material,className:"material-picker "+s},O.a.createElement(vb,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:u}),O.a.createElement("div",{style:c.split,className:"flexbox-fix"},O.a.createElement("div",{style:c.third},O.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:u})),O.a.createElement("div",{style:c.third},O.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:u})),O.a.createElement("div",{style:c.third},O.a.createElement(vb,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:u})))))}));var xw=function(t){var e=t.onChange,n=t.rgb,r=t.hsv,i=t.hex,o=Jy()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(t,i){t["#"]?p_(t["#"])&&e({hex:t["#"],source:"hex"},i):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},i):(t.h||t.s||t.v)&&e({h:t.h||r.h,s:t.s||r.s,v:t.v||r.v,source:"hsv"},i)};return O.a.createElement("div",{style:o.fields},O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(r.h),onChange:a}),O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:a}),O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:a}),O.a.createElement("div",{style:o.divider}),O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:a}),O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:a}),O.a.createElement(vb,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:a}),O.a.createElement("div",{style:o.divider}),O.a.createElement(vb,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:a}),O.a.createElement("div",{style:o.fieldSymbols},O.a.createElement("div",{style:o.symbol},"\xb0"),O.a.createElement("div",{style:o.symbol},"%"),O.a.createElement("div",{style:o.symbol},"%")))},Sw=function(t){var e=t.hsl,n=Jy()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return O.a.createElement("div",{style:n.picker})},Cw=function(){var t=Jy()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return O.a.createElement("div",{style:t.pointer},O.a.createElement("div",{style:t.left},O.a.createElement("div",{style:t.leftInside})),O.a.createElement("div",{style:t.right},O.a.createElement("div",{style:t.rightInside})))},Mw=function(t){var e=t.onClick,n=t.label,r=t.children,i=t.active,o=Jy()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return O.a.createElement("div",{style:o.button,onClick:e},n||r)},Ow=function(t){var e=t.rgb,n=t.currentColor,r=Jy()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return O.a.createElement("div",null,O.a.createElement("div",{style:r.label},"new"),O.a.createElement("div",{style:r.swatches},O.a.createElement("div",{style:r.new}),O.a.createElement("div",{style:r.current})),O.a.createElement("div",{style:r.label},"current"))};function kw(t){return(kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ew=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var Iw=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==kw(e)&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:t.hex},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+kw(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Ew(e,[{key:"render",value:function(){var t=this.props,e=t.styles,n=void 0===e?{}:e,r=t.className,i=void 0===r?"":r,o=Jy()(Zb({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return O.a.createElement("div",{style:o.picker,className:"photoshop-picker "+i},O.a.createElement("div",{style:o.head},this.props.header),O.a.createElement("div",{style:o.body,className:"flexbox-fix"},O.a.createElement("div",{style:o.saturation},O.a.createElement(o_,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Sw,onChange:this.props.onChange})),O.a.createElement("div",{style:o.hue},O.a.createElement(wb,{direction:"vertical",hsl:this.props.hsl,pointer:Cw,onChange:this.props.onChange})),O.a.createElement("div",{style:o.controls},O.a.createElement("div",{style:o.top,className:"flexbox-fix"},O.a.createElement("div",{style:o.previews},O.a.createElement(Ow,{rgb:this.props.rgb,currentColor:this.state.currentColor})),O.a.createElement("div",{style:o.actions},O.a.createElement(Mw,{label:"OK",onClick:this.props.onAccept,active:!0}),O.a.createElement(Mw,{label:"Cancel",onClick:this.props.onCancel}),O.a.createElement(xw,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(O.a.Component);Iw.propTypes={header:E.a.string,styles:E.a.object},Iw.defaultProps={header:"Color Picker",styles:{}};__(Iw);var jw=function(t){var e=t.onChange,n=t.rgb,r=t.hsl,i=t.hex,o=t.disableAlpha,a=Jy()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),s=function(t,i){t.hex?p_(t.hex)&&e({hex:t.hex,source:"hex"},i):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,a:n.a,source:"rgb"},i):t.a&&(t.a<0?t.a=0:t.a>100&&(t.a=100),t.a/=100,e({h:r.h,s:r.s,l:r.l,a:t.a,source:"rgb"},i))};return O.a.createElement("div",{style:a.fields,className:"flexbox-fix"},O.a.createElement("div",{style:a.double},O.a.createElement(vb,{style:{input:a.input,label:a.label},label:"hex",value:i.replace("#",""),onChange:s})),O.a.createElement("div",{style:a.single},O.a.createElement(vb,{style:{input:a.input,label:a.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),O.a.createElement("div",{style:a.single},O.a.createElement(vb,{style:{input:a.input,label:a.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),O.a.createElement("div",{style:a.single},O.a.createElement(vb,{style:{input:a.input,label:a.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),O.a.createElement("div",{style:a.alpha},O.a.createElement(vb,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))},Aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw=function(t){var e=t.colors,n=t.onClick,r=void 0===n?function(){}:n,i=t.onSwatchHover,o=Jy()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),a=function(t,e){r({hex:t,source:"hex"},e)};return O.a.createElement("div",{style:o.colors,className:"flexbox-fix"},e.map((function(t){var e="string"===typeof t?{color:t}:t,n=""+e.color+(e.title||"");return O.a.createElement("div",{key:n,style:o.swatchWrap},O.a.createElement(E_,Aw({},e,{style:o.swatch,onClick:a,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+e.color}})))})))};Tw.propTypes={colors:E.a.arrayOf(E.a.oneOfType([E.a.string,E.a.shape({color:E.a.string,title:E.a.string})])).isRequired};var Dw=Tw,Pw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw=function(t){var e=t.width,n=t.rgb,r=t.hex,i=t.hsv,o=t.hsl,a=t.onChange,s=t.onSwatchHover,c=t.disableAlpha,u=t.presetColors,l=t.renderers,f=t.styles,h=void 0===f?{}:f,d=t.className,p=void 0===d?"":d,v=Jy()(Zb({default:Pw({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:c});return O.a.createElement("div",{style:v.picker,className:"sketch-picker "+p},O.a.createElement("div",{style:v.saturation},O.a.createElement(o_,{style:v.Saturation,hsl:o,hsv:i,onChange:a})),O.a.createElement("div",{style:v.controls,className:"flexbox-fix"},O.a.createElement("div",{style:v.sliders},O.a.createElement("div",{style:v.hue},O.a.createElement(wb,{style:v.Hue,hsl:o,onChange:a})),O.a.createElement("div",{style:v.alpha},O.a.createElement(lb,{style:v.Alpha,rgb:n,hsl:o,renderers:l,onChange:a}))),O.a.createElement("div",{style:v.color},O.a.createElement(ib,null),O.a.createElement("div",{style:v.activeColor}))),O.a.createElement(jw,{rgb:n,hsl:o,hex:r,onChange:a,disableAlpha:c}),O.a.createElement(Dw,{colors:u,onClick:a,onSwatchHover:s}))};Lw.propTypes={disableAlpha:E.a.bool,width:E.a.oneOfType([E.a.string,E.a.number]),styles:E.a.object},Lw.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};__(Lw);var Nw=function(t){var e=t.hsl,n=t.offset,r=t.onClick,i=void 0===r?function(){}:r,o=t.active,a=t.first,s=t.last,c=Jy()({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:s});return O.a.createElement("div",{style:c.swatch,onClick:function(t){return i({h:e.h,s:.5,l:n,source:"hsl"},t)}})},Rw=function(t){var e=t.onClick,n=t.hsl,r=Jy()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return O.a.createElement("div",{style:r.swatches},O.a.createElement("div",{style:r.swatch},O.a.createElement(Nw,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:e,first:!0})),O.a.createElement("div",{style:r.swatch},O.a.createElement(Nw,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),O.a.createElement("div",{style:r.swatch},O.a.createElement(Nw,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),O.a.createElement("div",{style:r.swatch},O.a.createElement(Nw,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:e})),O.a.createElement("div",{style:r.swatch},O.a.createElement(Nw,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:e,last:!0})),O.a.createElement("div",{style:r.clear}))},Bw=function(){var t=Jy()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.a.createElement("div",{style:t.picker})},zw=function(t){var e=t.hsl,n=t.onChange,r=t.pointer,i=t.styles,o=void 0===i?{}:i,a=t.className,s=void 0===a?"":a,c=Jy()(Zb({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return O.a.createElement("div",{style:c.wrap||{},className:"slider-picker "+s},O.a.createElement("div",{style:c.hue},O.a.createElement(wb,{style:c.Hue,hsl:e,pointer:r,onChange:n})),O.a.createElement("div",{style:c.swatches},O.a.createElement(Rw,{hsl:e,onClick:n})))};zw.propTypes={styles:E.a.object},zw.defaultProps={pointer:Bw,styles:{}};__(zw);var Fw=n(1305),Hw=n.n(Fw),Uw=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,i=t.onSwatchHover,o=t.first,a=t.last,s=t.active,c=Jy()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{color:v_(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:s,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return O.a.createElement(E_,{color:e,style:c.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},O.a.createElement("div",{style:c.check},O.a.createElement(Hw.a,null)))},Ww=function(t){var e=t.onClick,n=t.onSwatchHover,r=t.group,i=t.active,o=Jy()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return O.a.createElement("div",{style:o.group},D_(r,(function(t,o){return O.a.createElement(Uw,{key:t,color:t,active:t.toLowerCase()===i,first:0===o,last:o===r.length-1,onClick:e,onSwatchHover:n})})))},Yw=function(t){var e=t.width,n=t.height,r=t.onChange,i=t.onSwatchHover,o=t.colors,a=t.hex,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(Zb({default:{picker:{width:e,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),h=function(t,e){return r({hex:t,source:"hex"},e)};return O.a.createElement("div",{style:f.picker,className:"swatches-picker "+l},O.a.createElement(Qb,null,O.a.createElement("div",{style:f.overflow},O.a.createElement("div",{style:f.body},D_(o,(function(t){return O.a.createElement(Ww,{key:t.toString(),group:t,active:a,onClick:h,onSwatchHover:i})})),O.a.createElement("div",{style:f.clear})))))};Yw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),height:E.a.oneOfType([E.a.string,E.a.number]),colors:E.a.arrayOf(E.a.arrayOf(E.a.string)),styles:E.a.object},Yw.defaultProps={width:320,height:240,colors:[[N_[900],N_[700],N_[500],N_[300],N_[100]],[R_[900],R_[700],R_[500],R_[300],R_[100]],[B_[900],B_[700],B_[500],B_[300],B_[100]],[z_[900],z_[700],z_[500],z_[300],z_[100]],[F_[900],F_[700],F_[500],F_[300],F_[100]],[H_[900],H_[700],H_[500],H_[300],H_[100]],[U_[900],U_[700],U_[500],U_[300],U_[100]],[W_[900],W_[700],W_[500],W_[300],W_[100]],[Y_[900],Y_[700],Y_[500],Y_[300],Y_[100]],["#194D33",V_[700],V_[500],V_[300],V_[100]],[G_[900],G_[700],G_[500],G_[300],G_[100]],[X_[900],X_[700],X_[500],X_[300],X_[100]],[K_[900],K_[700],K_[500],K_[300],K_[100]],[Z_[900],Z_[700],Z_[500],Z_[300],Z_[100]],[q_[900],q_[700],q_[500],q_[300],q_[100]],[Q_[900],Q_[700],Q_[500],Q_[300],Q_[100]],[J_[900],J_[700],J_[500],J_[300],J_[100]],[$_[900],$_[700],$_[500],$_[300],$_[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};__(Yw);var Vw=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,i=t.colors,o=t.width,a=t.triangle,s=t.styles,c=void 0===s?{}:s,u=t.className,l=void 0===u?"":u,f=Jy()(Zb({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),h=function(t,n){p_(t)&&e({hex:t,source:"hex"},n)};return O.a.createElement("div",{style:f.card,className:"twitter-picker "+l},O.a.createElement("div",{style:f.triangleShadow}),O.a.createElement("div",{style:f.triangle}),O.a.createElement("div",{style:f.body},D_(i,(function(t,e){return O.a.createElement(E_,{key:e,color:t,hex:t,style:f.swatch,onClick:h,onHover:n,focusStyle:{boxShadow:"0 0 4px "+t}})})),O.a.createElement("div",{style:f.hash},"#"),O.a.createElement(vb,{label:null,style:{input:f.input},value:r.replace("#",""),onChange:h}),O.a.createElement("div",{style:f.clear})))};Vw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),triangle:E.a.oneOf(["hide","top-left","top-right"]),colors:E.a.arrayOf(E.a.string),styles:E.a.object},Vw.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};__(Vw);var Gw=function(t){var e=Jy()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(100*t.hsl.s)+"%, "+Math.round(100*t.hsl.l)+"%)"}}});return O.a.createElement("div",{style:e.picker})};Gw.propTypes={hsl:E.a.shape({h:E.a.number,s:E.a.number,l:E.a.number,a:E.a.number})},Gw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Xw=Gw,Kw=function(t){var e=Jy()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return O.a.createElement("div",{style:e.picker})};Kw.propTypes={hsl:E.a.shape({h:E.a.number,s:E.a.number,l:E.a.number,a:E.a.number})},Kw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Zw=Kw,qw=function(t){var e=t.onChange,n=t.rgb,r=t.hsl,i=t.hex,o=t.hsv,a=function(t,n){if(t.hex)p_(t.hex)&&e({hex:t.hex,source:"hex"},n);else if(t.rgb){var r=t.rgb.split(",");g_(t.rgb,"rgb")&&e({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(t.hsv){var i=t.hsv.split(",");g_(t.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),e({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(t.hsl){var o=t.hsl.split(",");g_(t.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==l[1]?l[1]=.01:1==l[2]&&(l[2]=.01),e({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},s=Jy()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,u=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",l=Math.round(o.h)+"\xb0, "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return O.a.createElement("div",{style:s.wrap,className:"flexbox-fix"},O.a.createElement("div",{style:s.fields},O.a.createElement("div",{style:s.double},O.a.createElement(vb,{style:{input:s.input,label:s.label},label:"hex",value:i,onChange:a})),O.a.createElement("div",{style:s.column},O.a.createElement("div",{style:s.single},O.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"rgb",value:c,onChange:a})),O.a.createElement("div",{style:s.single},O.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"hsv",value:l,onChange:a})),O.a.createElement("div",{style:s.single},O.a.createElement(vb,{style:{input:s.input2,label:s.label2},label:"hsl",value:u,onChange:a})))))},Qw=function(t){var e=t.width,n=t.onChange,r=t.rgb,i=t.hsl,o=t.hsv,a=t.hex,s=t.header,c=t.styles,u=void 0===c?{}:c,l=t.className,f=void 0===l?"":l,h=Jy()(Zb({default:{picker:{width:e,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return O.a.createElement("div",{style:h.picker,className:"google-picker "+f},O.a.createElement("div",{style:h.head},s),O.a.createElement("div",{style:h.swatch}),O.a.createElement("div",{style:h.saturation},O.a.createElement(o_,{hsl:i,hsv:o,pointer:Xw,onChange:n})),O.a.createElement("div",{style:h.body},O.a.createElement("div",{style:h.controls,className:"flexbox-fix"},O.a.createElement("div",{style:h.hue},O.a.createElement(wb,{style:h.Hue,hsl:i,radius:"4px",pointer:Zw,onChange:n}))),O.a.createElement(qw,{rgb:r,hsl:i,hex:a,hsv:o,onChange:n})))};Qw.propTypes={width:E.a.oneOfType([E.a.string,E.a.number]),styles:E.a.object,header:E.a.string},Qw.defaultProps={width:652,styles:{},header:"Color picker"};__(Qw);var Jw=function(t){var e=t.className,n=t.customizeIcon,r=t.customizeIconProps,i=t.children,o=t.onMouseDown,a=t.onClick,s="function"===typeof n?n(r):n;return M.createElement("span",{className:e,onMouseDown:function(t){t.preventDefault(),null===o||void 0===o||o(t)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==s?s:M.createElement("span",{className:C()(e.split(/\s+/).map((function(t){return"".concat(t,"-icon")})))},i))},$w=M.createContext(null);function tx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,e=M.useRef(null),n=M.useRef(null);function r(r){(r||null===e.current)&&(e.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.current=null}),t)}return M.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return e.current},r]}var ex=M.createContext(null);var nx=new Map;var rx=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=nx.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var ix=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(M.Component);function ox(t,e){var n=t.children,r=t.disabled,i=M.useRef(null),o=M.useRef(null),a=M.useContext(ex),s="function"===typeof n,c=s?n(i):n,u=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&M.isValidElement(c)&&Nr(c),f=l?c.ref:null,h=Lr(f,i),d=function(){var t;return si(i.current)||(i.current&&"object"===Object(Kn.a)(i.current)?si(null===(t=i.current)||void 0===t?void 0:t.nativeElement):null)||si(o.current)};M.useImperativeHandle(e,(function(){return d()}));var p=M.useRef(t);p.current=t;var v=M.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,s=i.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(o),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(o)?o:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return M.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,nx.has(t)||(nx.set(t,new Set),rx.observe(t)),nx.get(t).add(e)),function(){return function(t,e){nx.has(t)&&(nx.get(t).delete(e),nx.get(t).size||(rx.unobserve(t),nx.delete(t)))}(n,v)}}),[i.current,r]),M.createElement(ix,{ref:o},l?M.cloneElement(c,{ref:h}):c)}var ax=M.forwardRef(ox);function sx(t,e){var n=t.children;return("function"===typeof n?[n]:qa(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return M.createElement(ax,Object(Nn.a)({},t,{key:i,ref:0===r?e:void 0}),n)}))}var cx=M.forwardRef(sx);cx.Collection=function(t){var e=t.children,n=t.onBatchResize,r=M.useRef(0),i=M.useRef([]),o=M.useContext(ex),a=M.useCallback((function(t,e,a){r.current+=1;var s=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return M.createElement(ex.Provider,{value:a},e)};var ux=cx,lx=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"];function fx(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,s=t.responsiveDisabled,c=t.registerSize,u=t.itemKey,l=t.className,f=t.style,h=t.children,d=t.display,p=t.order,v=t.component,g=void 0===v?"div":v,m=Object(Xn.a)(t,lx),y=a&&!d;function b(t){c(u,t)}M.useEffect((function(){return function(){b(null)}}),[]);var _,w=o&&void 0!==i?o(i):h;r||(_={opacity:y?0:1,height:y?0:void 0,overflowY:y?"hidden":void 0,order:a?p:void 0,pointerEvents:y?"none":void 0,position:y?"absolute":void 0});var x={};y&&(x["aria-hidden"]=!0);var S=M.createElement(g,Object(Nn.a)({className:C()(!r&&n,l),style:Object(Gn.a)(Object(Gn.a)({},_),f)},x,m,{ref:e}),w);return a&&(S=M.createElement(ux,{onResize:function(t){b(t.offsetWidth)},disabled:s},S)),S}var hx=M.forwardRef(fx);hx.displayName="Item";var dx=hx;function px(){var t=M.useRef(null);return function(e){t.current||(t.current=[],function(t){if("undefined"===typeof MessageChannel)ji(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}((function(){Object(Er.unstable_batchedUpdates)((function(){t.current.forEach((function(t){t()})),t.current=null}))}))),t.current.push(e)}}function vx(t,e){var n=kr(M.useState(e),2),r=n[0],i=n[1];return[r,ss((function(e){t((function(){i(e)}))}))]}var gx=O.a.createContext(null),mx=["component"],yx=["className"],bx=["className"],_x=function(t,e){var n=M.useContext(gx);if(!n){var r=t.component,i=void 0===r?"div":r,o=Object(Xn.a)(t,mx);return M.createElement(i,Object(Nn.a)({},o,{ref:e}))}var a=n.className,s=Object(Xn.a)(n,yx),c=t.className,u=Object(Xn.a)(t,bx);return M.createElement(gx.Provider,{value:null},M.createElement(dx,Object(Nn.a)({ref:e,className:C()(a,c)},s,u)))},wx=M.forwardRef(_x);wx.displayName="RawItem";var xx=wx,Sx=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"];function Cx(t){return"+ ".concat(t.length," ...")}function Mx(t,e){var n=t.prefixCls,r=void 0===n?"rc-overflow":n,i=t.data,o=void 0===i?[]:i,a=t.renderItem,s=t.renderRawItem,c=t.itemKey,u=t.itemWidth,l=void 0===u?10:u,f=t.ssr,h=t.style,d=t.className,p=t.maxCount,v=t.renderRest,g=t.renderRawRest,m=t.suffix,y=t.component,b=void 0===y?"div":y,_=t.itemComponent,w=t.onVisibleChange,x=Object(Xn.a)(t,Sx),S="full"===f,O=px(),k=kr(vx(O,null),2),E=k[0],I=k[1],j=E||0,A=kr(vx(O,new Map),2),T=A[0],D=A[1],P=kr(vx(O,0),2),L=P[0],N=P[1],R=kr(vx(O,0),2),B=R[0],z=R[1],F=kr(vx(O,0),2),H=F[0],U=F[1],W=kr(Object(M.useState)(null),2),Y=W[0],V=W[1],G=kr(Object(M.useState)(null),2),X=G[0],K=G[1],Z=M.useMemo((function(){return null===X&&S?Number.MAX_SAFE_INTEGER:X||0}),[X,E]),q=kr(Object(M.useState)(!1),2),Q=q[0],J=q[1],$="".concat(r,"-item"),tt=Math.max(L,B),et="responsive"===p,nt=o.length&&et,rt="invalidate"===p,it=nt||"number"===typeof p&&o.length>p,ot=Object(M.useMemo)((function(){var t=o;return nt?t=null===E&&S?o:o.slice(0,Math.min(o.length,j/l)):"number"===typeof p&&(t=o.slice(0,p)),t}),[o,l,E,p,nt]),at=Object(M.useMemo)((function(){return nt?o.slice(Z+1):o.slice(ot.length)}),[o,ot,nt,Z]),st=Object(M.useCallback)((function(t,e){var n;return"function"===typeof c?c(t):null!==(n=c&&(null===t||void 0===t?void 0:t[c]))&&void 0!==n?n:e}),[c]),ct=Object(M.useCallback)(a||function(t){return t},[a]);function ut(t,e,n){(X!==t||void 0!==e&&e!==Y)&&(K(t),n||(J(t<o.length-1),null===w||void 0===w||w(t)),void 0!==e&&V(e))}function lt(t,e){D((function(n){var r=new Map(n);return null===e?r.delete(t):r.set(t,e),r}))}function ft(t){return T.get(st(ot[t],t))}Hr((function(){if(j&&"number"===typeof tt&&ot){var t=H,e=ot.length,n=e-1;if(!e)return void ut(0,null);for(var r=0;r<e;r+=1){var i=ft(r);if(S&&(i=i||0),void 0===i){ut(r-1,void 0,!0);break}if(t+=i,0===n&&t<=j||r===n-1&&t+ft(n)<=j){ut(n,null);break}if(t+tt>j){ut(r-1,t-i-H+B);break}}m&&ft(0)+H>j&&V(null)}}),[j,T,B,H,st,ot]);var ht=Q&&!!at.length,dt={};null!==Y&&nt&&(dt={position:"absolute",left:Y,top:0});var pt,vt={prefixCls:$,responsive:nt,component:_,invalidate:rt},gt=s?function(t,e){var n=st(t,e);return M.createElement(gx.Provider,{key:n,value:Object(Gn.a)(Object(Gn.a)({},vt),{},{order:e,item:t,itemKey:n,registerSize:lt,display:e<=Z})},s(t,e))}:function(t,e){var n=st(t,e);return M.createElement(dx,Object(Nn.a)({},vt,{order:e,key:n,item:t,renderItem:ct,itemKey:n,registerSize:lt,display:e<=Z}))},mt={order:ht?Z:Number.MAX_SAFE_INTEGER,className:"".concat($,"-rest"),registerSize:function(t,e){z(e),N(B)},display:ht};if(g)g&&(pt=M.createElement(gx.Provider,{value:Object(Gn.a)(Object(Gn.a)({},vt),mt)},g(at)));else{var yt=v||Cx;pt=M.createElement(dx,Object(Nn.a)({},vt,mt),"function"===typeof yt?yt(at):yt)}var bt=M.createElement(b,Object(Nn.a)({className:C()(!rt&&r,d),style:h,ref:e},x),ot.map(gt),it?pt:null,m&&M.createElement(dx,Object(Nn.a)({},vt,{responsive:et,responsiveDisabled:!nt,order:Z,className:"".concat($,"-suffix"),registerSize:function(t,e){U(e)},display:!0,style:dt}),m));return et&&(bt=M.createElement(ux,{onResize:function(t,e){I(e.clientWidth)},disabled:!nt},bt)),bt}var Ox=M.forwardRef(Mx);Ox.displayName="Overflow",Ox.Item=xx,Ox.RESPONSIVE="responsive",Ox.INVALIDATE="invalidate";var kx=Ox,Ex=function(t,e){var n,r=t.prefixCls,i=t.id,o=t.inputElement,a=t.disabled,s=t.tabIndex,c=t.autoFocus,u=t.autoComplete,l=t.editable,f=t.activeDescendantId,h=t.value,d=t.maxLength,p=t.onKeyDown,v=t.onMouseDown,g=t.onChange,m=t.onPaste,y=t.onCompositionStart,b=t.onCompositionEnd,_=t.open,w=t.attrs,x=o||M.createElement("input",null),S=x,O=S.ref,k=S.props,E=k.onKeyDown,I=k.onChange,j=k.onMouseDown,A=k.onCompositionStart,T=k.onCompositionEnd,D=k.style;return Object(or.c)(!("maxLength"in x.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),x=M.cloneElement(x,Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({type:"search"},k),{},{id:i,ref:Pr(e,O),disabled:a,tabIndex:s,autoComplete:u||"off",autoFocus:c,className:C()("".concat(r,"-selection-search-input"),null===(n=x)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":_||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":_?f:void 0},w),{},{value:l?h:"",maxLength:d,readOnly:!l,unselectable:l?null:"on",style:Object(Gn.a)(Object(Gn.a)({},D),{},{opacity:l?null:0}),onKeyDown:function(t){p(t),E&&E(t)},onMouseDown:function(t){v(t),j&&j(t)},onChange:function(t){g(t),I&&I(t)},onCompositionStart:function(t){y(t),A&&A(t)},onCompositionEnd:function(t){b(t),T&&T(t)},onPaste:m}))};var Ix=M.forwardRef(Ex);function jx(t){return Array.isArray(t)?t:void 0!==t?[t]:[]}var Ax="undefined"!==typeof window&&window.document&&window.document.documentElement;function Tx(t){return["string","number"].includes(Object(Kn.a)(t))}function Dx(t){var e=void 0;return t&&(Tx(t.title)?e=t.title.toString():Tx(t.label)&&(e=t.label.toString())),e}function Px(t){var e;return null!==(e=t.key)&&void 0!==e?e:t.value}var Lx=function(t){t.preventDefault(),t.stopPropagation()},Nx=function(t){var e,n,r=t.id,i=t.prefixCls,o=t.values,a=t.open,s=t.searchValue,c=t.autoClearSearchValue,u=t.inputRef,l=t.placeholder,f=t.disabled,h=t.mode,d=t.showSearch,p=t.autoFocus,v=t.autoComplete,g=t.activeDescendantId,m=t.tabIndex,y=t.removeIcon,b=t.maxTagCount,_=t.maxTagTextLength,w=t.maxTagPlaceholder,x=void 0===w?function(t){return"+ ".concat(t.length," ...")}:w,S=t.tagRender,O=t.onToggleOpen,k=t.onRemove,E=t.onInputChange,I=t.onInputPaste,j=t.onInputKeyDown,A=t.onInputMouseDown,T=t.onInputCompositionStart,D=t.onInputCompositionEnd,P=M.useRef(null),L=kr(Object(M.useState)(0),2),N=L[0],R=L[1],B=kr(Object(M.useState)(!1),2),z=B[0],F=B[1],H="".concat(i,"-selection"),U=a||"multiple"===h&&!1===c||"tags"===h?s:"",W="tags"===h||"multiple"===h&&!1===c||d&&(a||z);e=function(){R(P.current.scrollWidth)},n=[U],Ax?M.useLayoutEffect(e,n):M.useEffect(e,n);var Y=function(t,e,n,r,i){return M.createElement("span",{title:Dx(t),className:C()("".concat(H,"-item"),Object(Vn.a)({},"".concat(H,"-item-disabled"),n))},M.createElement("span",{className:"".concat(H,"-item-content")},e),r&&M.createElement(Jw,{className:"".concat(H,"-item-remove"),onMouseDown:Lx,onClick:i,customizeIcon:y},"\xd7"))},V=function(t,e,n,r,i,o){return M.createElement("span",{onMouseDown:function(t){Lx(t),O(!a)}},S({label:e,value:t,disabled:n,closable:r,onClose:i,isMaxTag:!!o}))},G=M.createElement("div",{className:"".concat(H,"-search"),style:{width:N},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},M.createElement(Ix,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:f,autoFocus:p,autoComplete:v,editable:W,activeDescendantId:g,value:U,onKeyDown:j,onMouseDown:A,onChange:E,onPaste:I,onCompositionStart:T,onCompositionEnd:D,tabIndex:m,attrs:ir(t,!0)}),M.createElement("span",{ref:P,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},U,"\xa0")),X=M.createElement(kx,{prefixCls:"".concat(H,"-overflow"),data:o,renderItem:function(t){var e=t.disabled,n=t.label,r=t.value,i=!f&&!e,o=n;if("number"===typeof _&&("string"===typeof n||"number"===typeof n)){var a=String(o);a.length>_&&(o="".concat(a.slice(0,_),"..."))}var s=function(e){e&&e.stopPropagation(),k(t)};return"function"===typeof S?V(r,o,e,i,s):Y(t,o,e,i,s)},renderRest:function(t){var e="function"===typeof x?x(t):x;return"function"===typeof S?V(void 0,e,!1,!1,void 0,!0):Y({title:e},e,!1)},suffix:G,itemKey:Px,maxCount:b});return M.createElement(M.Fragment,null,X,!o.length&&!U&&M.createElement("span",{className:"".concat(H,"-placeholder")},l))},Rx=function(t){var e=t.inputElement,n=t.prefixCls,r=t.id,i=t.inputRef,o=t.disabled,a=t.autoFocus,s=t.autoComplete,c=t.activeDescendantId,u=t.mode,l=t.open,f=t.values,h=t.placeholder,d=t.tabIndex,p=t.showSearch,v=t.searchValue,g=t.activeValue,m=t.maxLength,y=t.onInputKeyDown,b=t.onInputMouseDown,_=t.onInputChange,w=t.onInputPaste,x=t.onInputCompositionStart,S=t.onInputCompositionEnd,C=t.title,O=kr(M.useState(!1),2),k=O[0],E=O[1],I="combobox"===u,j=I||p,A=f[0],T=v||"";I&&g&&!k&&(T=g),M.useEffect((function(){I&&E(!1)}),[I,g]);var D=!("combobox"!==u&&!l&&!p)&&!!T,P=void 0===C?Dx(A):C,L=M.useMemo((function(){return A?null:M.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:D?{visibility:"hidden"}:void 0},h)}),[A,D,h,n]);return M.createElement(M.Fragment,null,M.createElement("span",{className:"".concat(n,"-selection-search")},M.createElement(Ix,{ref:i,prefixCls:n,id:r,open:l,inputElement:e,disabled:o,autoFocus:a,autoComplete:s,editable:j,activeDescendantId:c,value:T,onKeyDown:y,onMouseDown:b,onChange:function(t){E(!0),_(t)},onPaste:w,onCompositionStart:x,onCompositionEnd:S,tabIndex:d,attrs:ir(t,!0),maxLength:I?m:void 0})),!I&&A?M.createElement("span",{className:"".concat(n,"-selection-item"),title:P,style:D?{visibility:"hidden"}:void 0},A.label):null,L)},Bx=function(t,e){var n=Object(M.useRef)(null),r=Object(M.useRef)(!1),i=t.prefixCls,o=t.open,a=t.mode,s=t.showSearch,c=t.tokenWithEnter,u=t.disabled,l=t.autoClearSearchValue,f=t.onSearch,h=t.onSearchSubmit,d=t.onToggleOpen,p=t.onInputKeyDown,v=t.domRef;M.useImperativeHandle(e,(function(){return{focus:function(t){n.current.focus(t)},blur:function(){n.current.blur()}}}));var g=kr(tx(0),2),m=g[0],y=g[1],b=Object(M.useRef)(null),_=function(t){!1!==f(t,!0,r.current)&&d(!0)},w={inputRef:n,onInputKeyDown:function(t){var e,n=t.which;n!==ri.UP&&n!==ri.DOWN||t.preventDefault(),p&&p(t),n!==ri.ENTER||"tags"!==a||r.current||o||null===h||void 0===h||h(t.target.value),e=n,[ri.ESC,ri.SHIFT,ri.BACKSPACE,ri.TAB,ri.WIN_KEY,ri.ALT,ri.META,ri.WIN_KEY_RIGHT,ri.CTRL,ri.SEMICOLON,ri.EQUALS,ri.CAPS_LOCK,ri.CONTEXT_MENU,ri.F1,ri.F2,ri.F3,ri.F4,ri.F5,ri.F6,ri.F7,ri.F8,ri.F9,ri.F10,ri.F11,ri.F12].includes(e)||d(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(t){var e=t.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");e=e.replace(n,b.current)}b.current=null,_(e)},onInputPaste:function(t){var e=t.clipboardData,n=null===e||void 0===e?void 0:e.getData("text");b.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(t){r.current=!1,"combobox"!==a&&_(t.target.value)}},x="multiple"===a||"tags"===a?M.createElement(Nx,Object(Nn.a)({},t,w)):M.createElement(Rx,Object(Nn.a)({},t,w));return M.createElement("div",{ref:v,className:"".concat(i,"-selector"),onClick:function(t){t.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(t){var e=m();t.target===n.current||e||"combobox"===a&&u||t.preventDefault(),("combobox"===a||s&&e)&&o||(o&&!1!==l&&f("",!0,!1),d())}},x)};var zx=M.forwardRef(Bx),Fx=M.createContext(null);var Hx=new Map;var Ux=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=Hx.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var Wx=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(M.Component);function Yx(t,e){var n=t.children,r=t.disabled,i=M.useRef(null),o=M.useRef(null),a=M.useContext(Fx),s="function"===typeof n,c=s?n(i):n,u=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&M.isValidElement(c)&&Nr(c),f=l?c.ref:null,h=Lr(f,i),d=function(){var t;return si(i.current)||(i.current&&"object"===Object(Kn.a)(i.current)?si(null===(t=i.current)||void 0===t?void 0:t.nativeElement):null)||si(o.current)};M.useImperativeHandle(e,(function(){return d()}));var p=M.useRef(t);p.current=t;var v=M.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,s=i.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(o),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(o)?o:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return M.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,Hx.has(t)||(Hx.set(t,new Set),Ux.observe(t)),Hx.get(t).add(e)),function(){return function(t,e){Hx.has(t)&&(Hx.get(t).delete(e),Hx.get(t).size||(Ux.unobserve(t),Hx.delete(t)))}(n,v)}}),[i.current,r]),M.createElement(Wx,{ref:o},l?M.cloneElement(c,{ref:h}):c)}var Vx=M.forwardRef(Yx);function Gx(t,e){var n=t.children;return("function"===typeof n?[n]:qa(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return M.createElement(Vx,Object(Nn.a)({},t,{key:i,ref:0===r?e:void 0}),n)}))}var Xx=M.forwardRef(Gx);Xx.Collection=function(t){var e=t.children,n=t.onBatchResize,r=M.useRef(0),i=M.useRef([]),o=M.useContext(Fx),a=M.useCallback((function(t,e,a){r.current+=1;var s=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return M.createElement(Fx.Provider,{value:a},e)};var Kx=Xx;function Zx(t){var e;return null===t||void 0===t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}function qx(t){return function(t){return Zx(t)instanceof ShadowRoot}(t)?Zx(t):null}function Qx(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,s=o.content,c=i.x,u=void 0===c?0:c,l=i.y,f=void 0===l?0:l,h=M.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],v=n.points[1],g=p[0],m=p[1],y=v[0],b=v[1];g!==y&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=f,m!==b&&["l","r"].includes(m)?"l"===m?d.left=0:d.right=0:d.left=u}return M.createElement("div",{ref:h,className:C()("".concat(e,"-arrow"),a),style:d},s)}function Jx(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?M.createElement(Wi,Object(Nn.a)({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return M.createElement("div",{style:{zIndex:r},className:C()("".concat(e,"-mask"),n)})})):null}var $x=M.memo((function(t){return t.children}),(function(t,e){return e.cache}));var tS=M.forwardRef((function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,s=t.onVisibleChanged,c=t.open,u=t.keepDom,l=t.fresh,f=t.onClick,h=t.mask,d=t.arrow,p=t.arrowPos,v=t.align,g=t.motion,m=t.maskMotion,y=t.forceRender,b=t.getPopupContainer,_=t.autoDestroy,w=t.portal,x=t.zIndex,S=t.onMouseEnter,O=t.onMouseLeave,k=t.onPointerEnter,E=t.ready,I=t.offsetX,j=t.offsetY,A=t.offsetR,T=t.offsetB,D=t.onAlign,P=t.onPrepare,L=t.stretch,N=t.targetWidth,R=t.targetHeight,B="function"===typeof n?n():n,z=c||u,F=(null===b||void 0===b?void 0:b.length)>0,H=kr(M.useState(!b||!F),2),U=H[0],W=H[1];if(Hr((function(){!U&&F&&a&&W(!0)}),[U,F,a]),!U)return null;var Y={left:"-1000vw",top:"-1000vh",right:"auto",bottom:"auto"};if(E||!c){var V,G=v.points,X=v.dynamicInset||(null===(V=v._experimental)||void 0===V?void 0:V.dynamicInset),K=X&&"r"===G[0][1],Z=X&&"b"===G[0][0];K?(Y.right=A,Y.left="auto"):(Y.left=I,Y.right="auto"),Z?(Y.bottom=T,Y.top="auto"):(Y.top=j,Y.bottom="auto")}var q={};return L&&(L.includes("height")&&R?q.height=R:L.includes("minHeight")&&R&&(q.minHeight=R),L.includes("width")&&N?q.width=N:L.includes("minWidth")&&N&&(q.minWidth=N)),c||(q.pointerEvents="none"),M.createElement(w,{open:y||z,getContainer:b&&function(){return b(a)},autoDestroy:_},M.createElement(Jx,{prefixCls:i,open:c,zIndex:x,mask:h,motion:m}),M.createElement(Kx,{onResize:D,disabled:!c},(function(t){return M.createElement(Wi,Object(Nn.a)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(i,"-hidden")},g,{onAppearPrepare:P,onEnterPrepare:P,visible:c,onVisibleChanged:function(t){var e;null===g||void 0===g||null===(e=g.onVisibleChanged)||void 0===e||e.call(g,t),s(t)}}),(function(n,a){var s=n.className,u=n.style,h=C()(i,s,r);return M.createElement("div",{ref:Pr(t,e,a),className:h,style:Object(Gn.a)(Object(Gn.a)(Object(Gn.a)(Object(Gn.a)({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},Y),q),u),{},{boxSizing:"border-box",zIndex:x},o),onMouseEnter:S,onMouseLeave:O,onPointerEnter:k,onClick:f},d&&M.createElement(Qx,{prefixCls:i,arrow:d,arrowPos:p,align:v}),M.createElement($x,{cache:!c&&!l},B))}))})))}));var eS=M.forwardRef((function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=Nr(n),o=M.useCallback((function(t){Dr(e,r?r(t):t)}),[r]),a=Lr(o,n.ref);return i?M.cloneElement(n,{ref:a}):n})),nS=M.createContext(null);function rS(t){return t?Array.isArray(t)?t:[t]:[]}function iS(t,e,n,r){return M.useMemo((function(){var i=rS(null!==n&&void 0!==n?n:e),o=rS(null!==r&&void 0!==r?r:e),a=new Set(i),s=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[t,e,n,r])}function oS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function aS(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s,c=o[a];if(oS(null===(s=t[c])||void 0===s?void 0:s.points,i,r))return"".concat(e,"-placement-").concat(c)}return""}function sS(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function cS(t){return t.ownerDocument.defaultView}function uS(t){for(var e=[],n=null===t||void 0===t?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=cS(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(t){return r.includes(t)}))&&e.push(n),n=n.parentElement}return e}function lS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(t)?e:t}function fS(t){return lS(parseFloat(t),0)}function hS(t,e){var n=Object(Gn.a)({},t);return(e||[]).forEach((function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var e=cS(t).getComputedStyle(t),r=e.overflow,i=e.overflowClipMargin,o=e.borderTopWidth,a=e.borderBottomWidth,s=e.borderLeftWidth,c=e.borderRightWidth,u=t.getBoundingClientRect(),l=t.offsetHeight,f=t.clientHeight,h=t.offsetWidth,d=t.clientWidth,p=fS(o),v=fS(a),g=fS(s),m=fS(c),y=lS(Math.round(u.width/h*1e3)/1e3),b=lS(Math.round(u.height/l*1e3)/1e3),_=(h-d-g-m)*y,w=(l-f-p-v)*b,x=p*b,S=v*b,C=g*y,M=m*y,O=0,k=0;if("clip"===r){var E=fS(i);O=E*y,k=E*b}var I=u.x+C-O,j=u.y+x-k,A=I+u.width+2*O-C-M-_,T=j+u.height+2*k-x-S-w;n.left=Math.max(n.left,I),n.top=Math.max(n.top,j),n.right=Math.min(n.right,A),n.bottom=Math.min(n.bottom,T)}})),n}function dS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function pS(t,e){var n=kr(e||[],2),r=n[0],i=n[1];return[dS(t.width,r),dS(t.height,i)]}function vS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[t[0],t[1]]}function gS(t,e){var n,r=e[0],i=e[1];return n="t"===r?t.y:"b"===r?t.y+t.height:t.y+t.height/2,{x:"l"===i?t.x:"r"===i?t.x+t.width:t.x+t.width/2,y:n}}function mS(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map((function(t,r){return r===e?n[t]||"c":t})).join("")}function yS(t,e,n,r,i,o,a){var s=kr(M.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),2),c=s[0],u=s[1],l=M.useRef(0),f=M.useMemo((function(){return e?uS(e):[]}),[e]),h=M.useRef({});t||(h.current={});var d=ss((function(){if(e&&n&&t){var s,c,l,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=I.x+t,i=I.y+e,o=r+B,a=i+R,s=Math.max(r,n.left),c=Math.max(i,n.top),u=Math.min(o,n.right),l=Math.min(a,n.bottom);return Math.max(0,(u-s)*(l-c))},p=function(){at=I.y+yt,st=at+R,ct=I.x+mt,ut=ct+B},v=e,g=v.ownerDocument,m=cS(v).getComputedStyle(v),y=m.width,b=m.height,_=m.position,w=v.style.left,x=v.style.top,S=v.style.right,C=v.style.bottom,M=v.style.overflow,O=Object(Gn.a)(Object(Gn.a)({},i[r]),o),k=g.createElement("div");if(null===(s=v.parentElement)||void 0===s||s.appendChild(k),k.style.left="".concat(v.offsetLeft,"px"),k.style.top="".concat(v.offsetTop,"px"),k.style.position=_,k.style.height="".concat(v.offsetHeight,"px"),k.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden",Array.isArray(n))l={x:n[0],y:n[1],width:0,height:0};else{var E=n.getBoundingClientRect();l={x:E.x,y:E.y,width:E.width,height:E.height}}var I=v.getBoundingClientRect(),j=g.documentElement,A=j.clientWidth,T=j.clientHeight,D=j.scrollWidth,P=j.scrollHeight,L=j.scrollTop,N=j.scrollLeft,R=I.height,B=I.width,z=l.height,F=l.width,H={left:0,top:0,right:A,bottom:T},U={left:-N,top:-L,right:D-N,bottom:P-L},W=O.htmlRegion;"scroll"!==W&&"visibleFirst"!==W&&(W="visible");var Y="visibleFirst"===W,V=hS(U,f),G=hS(H,f),X="visible"===W?G:V,K=Y?G:X;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var Z=v.getBoundingClientRect();v.style.left=w,v.style.top=x,v.style.right=S,v.style.bottom=C,v.style.overflow=M,null===(c=v.parentElement)||void 0===c||c.removeChild(k);var q=lS(Math.round(B/parseFloat(y)*1e3)/1e3),Q=lS(Math.round(R/parseFloat(b)*1e3)/1e3);if(0===q||0===Q||ai(n)&&!Os(n))return;var J=O.offset,$=O.targetOffset,tt=kr(pS(I,J),2),et=tt[0],nt=tt[1],rt=kr(pS(l,$),2),it=rt[0],ot=rt[1];l.x-=it,l.y-=ot;var at,st,ct,ut,lt=kr(O.points||[],2),ft=lt[0],ht=vS(lt[1]),dt=vS(ft),pt=gS(l,ht),vt=gS(I,dt),gt=Object(Gn.a)({},O),mt=pt.x-vt.x+et,yt=pt.y-vt.y+nt,bt=d(mt,yt),_t=d(mt,yt,G),wt=gS(l,["t","l"]),xt=gS(I,["t","l"]),St=gS(l,["b","r"]),Ct=gS(I,["b","r"]),Mt=O.overflow||{},Ot=Mt.adjustX,kt=Mt.adjustY,Et=Mt.shiftX,It=Mt.shiftY,jt=function(t){return"boolean"===typeof t?t:t>=0};p();var At=jt(kt),Tt=dt[0]===ht[0];if(At&&"t"===dt[0]&&(st>K.bottom||h.current.bt)){var Dt=yt;Tt?Dt-=R-z:Dt=wt.y-Ct.y-nt;var Pt=d(mt,Dt),Lt=d(mt,Dt,G);Pt>bt||Pt===bt&&(!Y||Lt>=_t)?(h.current.bt=!0,yt=Dt,nt=-nt,gt.points=[mS(dt,0),mS(ht,0)]):h.current.bt=!1}if(At&&"b"===dt[0]&&(at<K.top||h.current.tb)){var Nt=yt;Tt?Nt+=R-z:Nt=St.y-xt.y-nt;var Rt=d(mt,Nt),Bt=d(mt,Nt,G);Rt>bt||Rt===bt&&(!Y||Bt>=_t)?(h.current.tb=!0,yt=Nt,nt=-nt,gt.points=[mS(dt,0),mS(ht,0)]):h.current.tb=!1}var zt=jt(Ot),Ft=dt[1]===ht[1];if(zt&&"l"===dt[1]&&(ut>K.right||h.current.rl)){var Ht=mt;Ft?Ht-=B-F:Ht=wt.x-Ct.x-et;var Ut=d(Ht,yt),Wt=d(Ht,yt,G);Ut>bt||Ut===bt&&(!Y||Wt>=_t)?(h.current.rl=!0,mt=Ht,et=-et,gt.points=[mS(dt,1),mS(ht,1)]):h.current.rl=!1}if(zt&&"r"===dt[1]&&(ct<K.left||h.current.lr)){var Yt=mt;Ft?Yt+=B-F:Yt=St.x-xt.x-et;var Vt=d(Yt,yt),Gt=d(Yt,yt,G);Vt>bt||Vt===bt&&(!Y||Gt>=_t)?(h.current.lr=!0,mt=Yt,et=-et,gt.points=[mS(dt,1),mS(ht,1)]):h.current.lr=!1}p();var Xt=!0===Et?0:Et;"number"===typeof Xt&&(ct<G.left&&(mt-=ct-G.left-et,l.x+F<G.left+Xt&&(mt+=l.x-G.left+F-Xt)),ut>G.right&&(mt-=ut-G.right-et,l.x>G.right-Xt&&(mt+=l.x-G.right+Xt)));var Kt=!0===It?0:It;"number"===typeof Kt&&(at<G.top&&(yt-=at-G.top-nt,l.y+z<G.top+Kt&&(yt+=l.y-G.top+z-Kt)),st>G.bottom&&(yt-=st-G.bottom-nt,l.y>G.bottom-Kt&&(yt+=l.y-G.bottom+Kt)));var Zt=I.x+mt,qt=Zt+B,Qt=I.y+yt,Jt=Qt+R,$t=l.x,te=$t+F,ee=l.y,ne=ee+z,re=(Math.max(Zt,$t)+Math.min(qt,te))/2-Zt,ie=(Math.max(Qt,ee)+Math.min(Jt,ne))/2-Qt;null===a||void 0===a||a(e,gt);var oe=Z.right-I.x-(mt+I.width),ae=Z.bottom-I.y-(yt+I.height);u({ready:!0,offsetX:mt/q,offsetY:yt/Q,offsetR:oe/q,offsetB:ae/Q,arrowX:re/q,arrowY:ie/Q,scaleX:q,scaleY:Q,align:gt})}})),p=function(){u((function(t){return Object(Gn.a)(Object(Gn.a)({},t),{},{ready:!1})}))};return Hr(p,[r]),Hr((function(){t||p()}),[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){l.current+=1;var t=l.current;Promise.resolve().then((function(){l.current===t&&d()}))}]}function bS(t,e,n,r,i){Hr((function(){if(t&&e&&n){var o=function(){r(),i()},a=n,s=uS(e),c=uS(a),u=cS(a),l=new Set([u].concat(er(s),er(c)));return l.forEach((function(t){t.addEventListener("scroll",o,{passive:!0})})),u.addEventListener("resize",o,{passive:!0}),r(),function(){l.forEach((function(t){t.removeEventListener("scroll",o),u.removeEventListener("resize",o)}))}}}),[t,e,n])}function _S(t,e,n,r,i,o,a,s){var c=M.useRef(t);c.current=t,M.useEffect((function(){if(e&&r&&(!i||o)){var t=function(t){var e=t.target;c.current&&!a(e)&&s(!1)},u=cS(r);u.addEventListener("mousedown",t,!0),u.addEventListener("contextmenu",t,!0);var l=qx(n);return l&&(l.addEventListener("mousedown",t,!0),l.addEventListener("contextmenu",t,!0)),function(){u.removeEventListener("mousedown",t,!0),u.removeEventListener("contextmenu",t,!0),l&&(l.removeEventListener("mousedown",t,!0),l.removeEventListener("contextmenu",t,!0))}}}),[e,n,r,i,o])}var wS=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var xS=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,e=M.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-trigger-popup":r,o=e.children,a=e.action,s=void 0===a?"hover":a,c=e.showAction,u=e.hideAction,l=e.popupVisible,f=e.defaultPopupVisible,h=e.onPopupVisibleChange,d=e.afterPopupVisibleChange,p=e.mouseEnterDelay,v=e.mouseLeaveDelay,g=void 0===v?.1:v,m=e.focusDelay,y=e.blurDelay,b=e.mask,_=e.maskClosable,w=void 0===_||_,x=e.getPopupContainer,S=e.forceRender,O=e.autoDestroy,k=e.destroyPopupOnHide,E=e.popup,I=e.popupClassName,j=e.popupStyle,A=e.popupPlacement,T=e.builtinPlacements,D=void 0===T?{}:T,P=e.popupAlign,L=e.zIndex,N=e.stretch,R=e.getPopupClassNameFromAlign,B=e.fresh,z=e.alignPoint,F=e.onPopupClick,H=e.onPopupAlign,U=e.arrow,W=e.popupMotion,Y=e.maskMotion,V=e.popupTransitionName,G=e.popupAnimation,X=e.maskTransitionName,K=e.maskAnimation,Z=e.className,q=e.getTriggerDOMNode,Q=Object(Xn.a)(e,wS),J=O||k||!1,$=kr(M.useState(!1),2),tt=$[0],et=$[1];Hr((function(){et(ws())}),[]);var nt=M.useRef({}),rt=M.useContext(nS),it=M.useMemo((function(){return{registerSubPopup:function(t,e){nt.current[t]=e,null===rt||void 0===rt||rt.registerSubPopup(t,e)}}}),[rt]),ot=ei(),at=kr(M.useState(null),2),st=at[0],ct=at[1],ut=M.useRef(null),lt=ss((function(t){ut.current=t,ai(t)&&st!==t&&ct(t),null===rt||void 0===rt||rt.registerSubPopup(ot,t)})),ft=kr(M.useState(null),2),ht=ft[0],dt=ft[1],pt=M.useRef(null),vt=ss((function(t){ai(t)&&ht!==t&&(dt(t),pt.current=t)})),gt=M.Children.only(o),mt=(null===gt||void 0===gt?void 0:gt.props)||{},yt={},bt=ss((function(t){var e,n,r=ht;return(null===r||void 0===r?void 0:r.contains(t))||(null===(e=qx(r))||void 0===e?void 0:e.host)===t||t===r||(null===st||void 0===st?void 0:st.contains(t))||(null===(n=qx(st))||void 0===n?void 0:n.host)===t||t===st||Object.values(nt.current).some((function(e){return(null===e||void 0===e?void 0:e.contains(t))||t===e}))})),_t=sS(i,W,G,V),wt=sS(i,Y,K,X),xt=kr(M.useState(f||!1),2),St=xt[0],Ct=xt[1],Mt=null!==l&&void 0!==l?l:St,Ot=ss((function(t){void 0===l&&Ct(t)}));Hr((function(){Ct(l||!1)}),[l]);var kt=M.useRef(Mt);kt.current=Mt;var Et=M.useRef([]);Et.current=[];var It=ss((function(t){var e;Ot(t),(null!==(e=Et.current[Et.current.length-1])&&void 0!==e?e:Mt)!==t&&(Et.current.push(t),null===h||void 0===h||h(t))})),jt=M.useRef(),At=function(){clearTimeout(jt.current)},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;At(),0===e?It(t):jt.current=setTimeout((function(){It(t)}),1e3*e)};M.useEffect((function(){return At}),[]);var Dt=kr(M.useState(!1),2),Pt=Dt[0],Lt=Dt[1];Hr((function(t){t&&!Mt||Lt(!0)}),[Mt]);var Nt=kr(M.useState(null),2),Rt=Nt[0],Bt=Nt[1],zt=kr(M.useState([0,0]),2),Ft=zt[0],Ht=zt[1],Ut=function(t){Ht([t.clientX,t.clientY])},Wt=kr(yS(Mt,st,z?Ft:ht,A,D,P,H),11),Yt=Wt[0],Vt=Wt[1],Gt=Wt[2],Xt=Wt[3],Kt=Wt[4],Zt=Wt[5],qt=Wt[6],Qt=Wt[7],Jt=Wt[8],$t=Wt[9],te=Wt[10],ee=kr(iS(tt,s,c,u),2),ne=ee[0],re=ee[1],ie=ne.has("click"),oe=re.has("click")||re.has("contextMenu"),ae=ss((function(){Pt||te()}));bS(Mt,ht,st,ae,(function(){kt.current&&z&&oe&&Tt(!1)})),Hr((function(){ae()}),[Ft,A]),Hr((function(){!Mt||null!==D&&void 0!==D&&D[A]||ae()}),[JSON.stringify(P)]);var se=M.useMemo((function(){var t=aS(D,i,$t,z);return C()(t,null===R||void 0===R?void 0:R($t))}),[$t,R,D,i,z]);M.useImperativeHandle(n,(function(){return{nativeElement:pt.current,popupElement:ut.current,forceAlign:ae}}));var ce=kr(M.useState(0),2),ue=ce[0],le=ce[1],fe=kr(M.useState(0),2),he=fe[0],de=fe[1],pe=function(){if(N&&ht){var t=ht.getBoundingClientRect();le(t.width),de(t.height)}};function ve(t,e,n,r){yt[t]=function(i){var o;null===r||void 0===r||r(i),Tt(e,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];null===(o=mt[t])||void 0===o||o.call.apply(o,[mt,i].concat(s))}}Hr((function(){Rt&&(te(),Rt(),Bt(null))}),[Rt]),(ie||oe)&&(yt.onClick=function(t){var e;kt.current&&oe?Tt(!1):!kt.current&&ie&&(Ut(t),Tt(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=mt.onClick)||void 0===e||e.call.apply(e,[mt,t].concat(r))}),_S(Mt,oe,ht,st,b,w,bt,Tt);var ge,me,ye=ne.has("hover"),be=re.has("hover");ye&&(ve("onMouseEnter",!0,p,(function(t){Ut(t)})),ve("onPointerEnter",!0,p,(function(t){Ut(t)})),ge=function(t){(Mt||Pt)&&null!==st&&void 0!==st&&st.contains(t.target)&&Tt(!0,p)},z&&(yt.onMouseMove=function(t){var e;null===(e=mt.onMouseMove)||void 0===e||e.call(mt,t)})),be&&(ve("onMouseLeave",!1,g),ve("onPointerLeave",!1,g),me=function(){Tt(!1,g)}),ne.has("focus")&&ve("onFocus",!0,m),re.has("focus")&&ve("onBlur",!1,y),ne.has("contextMenu")&&(yt.onContextMenu=function(t){var e;kt.current&&re.has("contextMenu")?Tt(!1):(Ut(t),Tt(!0)),t.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=mt.onContextMenu)||void 0===e||e.call.apply(e,[mt,t].concat(r))}),Z&&(yt.className=C()(mt.className,Z));var _e=Object(Gn.a)(Object(Gn.a)({},mt),yt),we={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(t){Q[t]&&(we[t]=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(e=_e[t])||void 0===e||e.call.apply(e,[_e].concat(r)),Q[t].apply(Q,r)})}));var xe=M.cloneElement(gt,Object(Gn.a)(Object(Gn.a)({},_e),we)),Se={x:Zt,y:qt},Ce=U?Object(Gn.a)({},!0!==U?U:{}):null;return M.createElement(M.Fragment,null,M.createElement(Kx,{disabled:!Mt,ref:vt,onResize:function(){pe(),ae()}},M.createElement(eS,{getTriggerDOMNode:q},xe)),M.createElement(nS.Provider,{value:it},M.createElement(tS,{portal:t,ref:lt,prefixCls:i,popup:E,className:C()(I,se),style:j,target:ht,onMouseEnter:ge,onMouseLeave:me,onPointerEnter:ge,zIndex:L,open:Mt,keepDom:Pt,fresh:B,onClick:F,mask:b,motion:_t,maskMotion:wt,onVisibleChanged:function(t){Lt(!1),te(),null===d||void 0===d||d(t)},onPrepare:function(){return new Promise((function(t){pe(),Bt((function(){return t}))}))},forceRender:S,autoDestroy:J,getPopupContainer:x,align:$t,arrow:Ce,arrowPos:Se,ready:Yt,offsetX:Vt,offsetY:Gt,offsetR:Xt,offsetB:Kt,onAlign:ae,stretch:N,targetWidth:ue/Qt,targetHeight:he/Jt})))}));return e}(qr),SS=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],CS=function(t,e){var n=t.prefixCls,r=(t.disabled,t.visible),i=t.children,o=t.popupElement,a=t.animation,s=t.transitionName,c=t.dropdownStyle,u=t.dropdownClassName,l=t.direction,f=void 0===l?"ltr":l,h=t.placement,d=t.builtinPlacements,p=t.dropdownMatchSelectWidth,v=t.dropdownRender,g=t.dropdownAlign,m=t.getPopupContainer,y=t.empty,b=t.getTriggerDOMNode,_=t.onPopupVisibleChange,w=t.onPopupMouseEnter,x=Object(Xn.a)(t,SS),S="".concat(n,"-dropdown"),O=o;v&&(O=v(o));var k=M.useMemo((function(){return d||function(t){var e=!0===t?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}}(p)}),[d,p]),E=a?"".concat(S,"-").concat(a):s,I="number"===typeof p,j=M.useMemo((function(){return I?null:!1===p?"minWidth":"width"}),[p,I]),A=c;I&&(A=Object(Gn.a)(Object(Gn.a)({},A),{},{width:p}));var T=M.useRef(null);return M.useImperativeHandle(e,(function(){return{getPopupElement:function(){var t;return null===(t=T.current)||void 0===t?void 0:t.popupElement}}})),M.createElement(xS,Object(Nn.a)({},x,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:h||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:k,prefixCls:S,popupTransitionName:E,popup:M.createElement("div",{onMouseEnter:w},O),ref:T,stretch:j,popupAlign:g,popupVisible:r,getPopupContainer:m,popupClassName:C()(u,Object(Vn.a)({},"".concat(S,"-empty"),y)),popupStyle:A,getTriggerDOMNode:b,onPopupVisibleChange:_}),i)};var MS=M.forwardRef(CS),OS=n(348);function kS(t,e){var n,r=t.key;return"value"in t&&(n=t.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(e)}function ES(t){return"undefined"!==typeof t&&!Number.isNaN(t)}function IS(t,e){var n=t||{},r=n.label||(e?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function jS(t){var e=Object(Gn.a)({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Object(or.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var AS=M.createContext(null);function TS(t){var e=t.visible,n=t.values;if(!e)return null;return M.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(t){var e=t.label,n=t.value;return["number","string"].includes(Object(Kn.a)(e))?e:n})).join(", ")),n.length>50?", ...":null)}var DS=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],PS=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],LS=function(t){return"tags"===t||"multiple"===t};var NS=M.forwardRef((function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,a=t.showSearch,s=t.tagRender,c=t.direction,u=t.omitDomProps,l=t.displayValues,f=t.onDisplayValuesChange,h=t.emptyOptions,d=t.notFoundContent,p=void 0===d?"Not Found":d,v=t.onClear,g=t.mode,m=t.disabled,y=t.loading,b=t.getInputElement,_=t.getRawInputElement,w=t.open,x=t.defaultOpen,S=t.onDropdownVisibleChange,k=t.activeValue,E=t.onActiveValueChange,I=t.activeDescendantId,j=t.searchValue,A=t.autoClearSearchValue,T=t.onSearch,D=t.onSearchSplit,P=t.tokenSeparators,L=t.allowClear,N=t.suffixIcon,R=t.clearIcon,B=t.OptionList,z=t.animation,F=t.transitionName,H=t.dropdownStyle,U=t.dropdownClassName,W=t.dropdownMatchSelectWidth,Y=t.dropdownRender,V=t.dropdownAlign,G=t.placement,X=t.builtinPlacements,K=t.getPopupContainer,Z=t.showAction,q=void 0===Z?[]:Z,Q=t.onFocus,J=t.onBlur,$=t.onKeyUp,tt=t.onKeyDown,et=t.onMouseDown,nt=Object(Xn.a)(t,DS),rt=LS(g),it=(void 0!==a?a:rt)||"combobox"===g,ot=Object(Gn.a)({},nt);PS.forEach((function(t){delete ot[t]})),null===u||void 0===u||u.forEach((function(t){delete ot[t]}));var at=kr(M.useState(!1),2),st=at[0],ct=at[1];M.useEffect((function(){ct(ws())}),[]);var ut=M.useRef(null),lt=M.useRef(null),ft=M.useRef(null),ht=M.useRef(null),dt=M.useRef(null),pt=M.useRef(!1),vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=M.useState(!1),n=kr(e,2),r=n[0],i=n[1],o=M.useRef(null),a=function(){window.clearTimeout(o.current)};M.useEffect((function(){return a}),[]);var s=function(e,n){a(),o.current=window.setTimeout((function(){i(e),n&&n()}),t)};return[r,s,a]}(),gt=kr(vt,3),mt=gt[0],yt=gt[1],bt=gt[2];M.useImperativeHandle(e,(function(){var t,e;return{focus:null===(t=ht.current)||void 0===t?void 0:t.focus,blur:null===(e=ht.current)||void 0===e?void 0:e.blur,scrollTo:function(t){var e;return null===(e=dt.current)||void 0===e?void 0:e.scrollTo(t)}}}));var _t=M.useMemo((function(){var t;if("combobox"!==g)return j;var e=null===(t=l[0])||void 0===t?void 0:t.value;return"string"===typeof e||"number"===typeof e?String(e):""}),[j,g,l]),wt="combobox"===g&&"function"===typeof b&&b()||null,xt="function"===typeof _&&_(),St=Lr(lt,null===xt||void 0===xt||null===(n=xt.props)||void 0===n?void 0:n.ref),Ct=kr(M.useState(!1),2),Mt=Ct[0],Ot=Ct[1];Hr((function(){Ot(!0)}),[]);var kt=kr(us(!1,{defaultValue:x,value:w}),2),Et=kt[0],It=kt[1],jt=!!Mt&&Et,At=!p&&h;(m||At&&jt&&"combobox"===g)&&(jt=!1);var Tt=!At&&jt,Dt=M.useCallback((function(t){var e=void 0!==t?t:!jt;m||(It(e),jt!==e&&(null===S||void 0===S||S(e)))}),[m,jt,It,S]),Pt=M.useMemo((function(){return(P||[]).some((function(t){return["\n","\r\n"].includes(t)}))}),[P]),Lt=M.useContext(AS)||{},Nt=Lt.maxCount,Rt=Lt.rawValues,Bt=function(t,e,n){if(!(rt&&ES(Nt)&&(null===Rt||void 0===Rt?void 0:Rt.size)>=Nt)){var r=!0,i=t;null===E||void 0===E||E(null);var o=function(t,e,n){if(!e||!e.length)return null;var r=!1,i=function t(e,n){var i=Object(OS.a)(n),o=i[0],a=i.slice(1);if(!o)return[e];var s=e.split(o);return r=r||s.length>1,s.reduce((function(e,n){return[].concat(er(e),er(t(n,a)))}),[]).filter(Boolean)}(t,e);return r?"undefined"!==typeof n?i.slice(0,n):i:null}(t,P,ES(Nt)?Nt-Rt.size:void 0),a=n?null:o;return"combobox"!==g&&a&&(i="",null===D||void 0===D||D(a),Dt(!1),r=!1),T&&_t!==i&&T(i,{source:e?"typing":"effect"}),r}};M.useEffect((function(){jt||rt||"combobox"===g||Bt("",!1,!1)}),[jt]),M.useEffect((function(){Et&&m&&It(!1),m&&!pt.current&&yt(!1)}),[m]);var zt=kr(tx(),2),Ft=zt[0],Ht=zt[1],Ut=M.useRef(!1),Wt=[];M.useEffect((function(){return function(){Wt.forEach((function(t){return clearTimeout(t)})),Wt.splice(0,Wt.length)}}),[]);var Yt,Vt=kr(M.useState({}),2)[1];xt&&(Yt=function(t){Dt(t)}),function(t,e,n,r){var i=M.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},M.useEffect((function(){function e(e){var n;if(null===(n=i.current)||void 0===n||!n.customizedTrigger){var r=e.target;r.shadowRoot&&e.composed&&(r=e.composedPath()[0]||r),i.current.open&&t().filter((function(t){return t})).every((function(t){return!t.contains(r)&&t!==r}))&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var t;return[ut.current,null===(t=ft.current)||void 0===t?void 0:t.getPopupElement()]}),Tt,Dt,!!xt);var Gt,Xt=M.useMemo((function(){return Object(Gn.a)(Object(Gn.a)({},t),{},{notFoundContent:p,open:jt,triggerOpen:Tt,id:r,showSearch:it,multiple:rt,toggleOpen:Dt})}),[t,p,Tt,jt,r,it,rt,Dt]),Kt=!!N||y;Kt&&(Gt=M.createElement(Jw,{className:C()("".concat(i,"-arrow"),Object(Vn.a)({},"".concat(i,"-arrow-loading"),y)),customizeIcon:N,customizeIconProps:{loading:y,searchValue:_t,open:jt,focused:mt,showSearch:it}}));var Zt,qt=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=O.a.useMemo((function(){return"object"===Object(Kn.a)(r)?r.clearIcon:i||void 0}),[r,i]),u=O.a.useMemo((function(){return!(o||!r||!n.length&&!a||"combobox"===s&&""===a)}),[r,o,n.length,a,s]);return{allowClear:u,clearIcon:O.a.createElement(Jw,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:c},"\xd7")}}(i,(function(){var t;null===v||void 0===v||v(),null===(t=ht.current)||void 0===t||t.focus(),f([],{type:"clear",values:l}),Bt("",!1,!1)}),l,L,R,m,_t,g),Qt=qt.allowClear,Jt=qt.clearIcon,$t=M.createElement(B,{ref:dt}),te=C()(i,o,Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)({},"".concat(i,"-focused"),mt),"".concat(i,"-multiple"),rt),"".concat(i,"-single"),!rt),"".concat(i,"-allow-clear"),L),"".concat(i,"-show-arrow"),Kt),"".concat(i,"-disabled"),m),"".concat(i,"-loading"),y),"".concat(i,"-open"),jt),"".concat(i,"-customize-input"),wt),"".concat(i,"-show-search"),it)),ee=M.createElement(MS,{ref:ft,disabled:m,prefixCls:i,visible:Tt,popupElement:$t,animation:z,transitionName:F,dropdownStyle:H,dropdownClassName:U,direction:c,dropdownMatchSelectWidth:W,dropdownRender:Y,dropdownAlign:V,placement:G,builtinPlacements:X,getPopupContainer:K,empty:h,getTriggerDOMNode:function(){return lt.current},onPopupVisibleChange:Yt,onPopupMouseEnter:function(){Vt({})}},xt?M.cloneElement(xt,{ref:St}):M.createElement(zx,Object(Nn.a)({},t,{domRef:lt,prefixCls:i,inputElement:wt,ref:ht,id:r,showSearch:it,autoClearSearchValue:A,mode:g,activeDescendantId:I,tagRender:s,values:l,open:jt,onToggleOpen:Dt,activeValue:k,searchValue:_t,onSearch:Bt,onSearchSubmit:function(t){t&&t.trim()&&T(t,{source:"submit"})},onRemove:function(t){var e=l.filter((function(e){return e!==t}));f(e,{type:"remove",values:[t]})},tokenWithEnter:Pt})));return Zt=xt?ee:M.createElement("div",Object(Nn.a)({className:te},ot,{ref:ut,onMouseDown:function(t){var e,n=t.target,r=null===(e=ft.current)||void 0===e?void 0:e.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var t,e=Wt.indexOf(i);(-1!==e&&Wt.splice(e,1),bt(),st||r.contains(document.activeElement))||(null===(t=ht.current)||void 0===t||t.focus())}));Wt.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===et||void 0===et||et.apply(void 0,[t].concat(a))},onKeyDown:function(t){var e,n=Ft(),r=t.which;if(r===ri.ENTER&&("combobox"!==g&&t.preventDefault(),jt||Dt(!0)),Ht(!!_t),r===ri.BACKSPACE&&!n&&rt&&!_t&&l.length){for(var i=er(l),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&f(i,{type:"remove",values:[o]})}for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];jt&&(null===(e=dt.current)||void 0===e||e.onKeyDown.apply(e,[t].concat(u)));null===tt||void 0===tt||tt.apply(void 0,[t].concat(u))},onKeyUp:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i;jt&&(null===(i=dt.current)||void 0===i||i.onKeyUp.apply(i,[t].concat(n)));null===$||void 0===$||$.apply(void 0,[t].concat(n))},onFocus:function(){yt(!0),m||(Q&&!Ut.current&&Q.apply(void 0,arguments),q.includes("focus")&&Dt(!0)),Ut.current=!0},onBlur:function(){pt.current=!0,yt(!1,(function(){Ut.current=!1,pt.current=!1,Dt(!1)})),m||(_t&&("tags"===g?T(_t,{source:"submit"}):"multiple"===g&&T("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),M.createElement(TS,{visible:mt&&!jt,values:l}),ee,Gt,Qt&&Jt),M.createElement($w.Provider,{value:Xt},Zt)})),RS=function(){return null};RS.isSelectOptGroup=!0;var BS=RS,zS=function(){return null};zS.isSelectOption=!0;var FS=zS;var HS=M.createContext(null);var US=new Map;var WS=new Ja.default((function(t){t.forEach((function(t){var e,n=t.target;null===(e=US.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var YS=function(t){Object(Fn.a)(n,t);var e=Yn(n);function n(){return Object(Rn.a)(this,n),e.apply(this,arguments)}return Object(Bn.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(M.Component);function VS(t,e){var n=t.children,r=t.disabled,i=M.useRef(null),o=M.useRef(null),a=M.useContext(HS),s="function"===typeof n,c=s?n(i):n,u=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&M.isValidElement(c)&&Nr(c),f=l?c.ref:null,h=Lr(f,i),d=function(){var t;return si(i.current)||(i.current&&"object"===Object(Kn.a)(i.current)?si(null===(t=i.current)||void 0===t?void 0:t.nativeElement):null)||si(o.current)};M.useImperativeHandle(e,(function(){return d()}));var p=M.useRef(t);p.current=t;var v=M.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,s=i.height,c=t.offsetWidth,l=t.offsetHeight,f=Math.floor(o),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var d={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=d;var v=c===Math.round(o)?o:c,g=l===Math.round(s)?s:l,m=Object(Gn.a)(Object(Gn.a)({},d),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return M.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,US.has(t)||(US.set(t,new Set),WS.observe(t)),US.get(t).add(e)),function(){return function(t,e){US.has(t)&&(US.get(t).delete(e),US.get(t).size||(WS.unobserve(t),US.delete(t)))}(n,v)}}),[i.current,r]),M.createElement(YS,{ref:o},l?M.cloneElement(c,{ref:h}):c)}var GS=M.forwardRef(VS);function XS(t,e){var n=t.children;return("function"===typeof n?[n]:qa(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return M.createElement(GS,Object(Nn.a)({},t,{key:i,ref:0===r?e:void 0}),n)}))}var KS=M.forwardRef(XS);KS.Collection=function(t){var e=t.children,n=t.onBatchResize,r=M.useRef(0),i=M.useRef([]),o=M.useContext(HS),a=M.useCallback((function(t,e,a){r.current+=1;var s=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(t,e,a)}),[n,o]);return M.createElement(HS.Provider,{value:a},e)};var ZS=KS;"undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;var qS=M.forwardRef((function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,a=t.prefixCls,s=t.onInnerResize,c=t.innerProps,u=t.rtl,l=t.extra,f={},h={display:"flex",flexDirection:"column"};return void 0!==r&&(f={height:n,position:"relative",overflow:"hidden"},h=Object(Gn.a)(Object(Gn.a)({},h),{},Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),M.createElement("div",{style:f},M.createElement(ZS,{onResize:function(t){t.offsetHeight&&s&&s()}},M.createElement("div",Object(Nn.a)({style:h,className:C()(Object(Vn.a)({},"".concat(a,"-holder-inner"),a)),ref:e},c),o,l)))}));qS.displayName="Filler";var QS=qS;function JS(t){var e=t.children,n=t.setRef,r=M.useCallback((function(t){n(t)}),[]);return M.cloneElement(e,{ref:r})}function $S(t,e,n){var r=kr(M.useState(t),2),i=r[0],o=r[1],a=kr(M.useState(null),2),s=a[0],c=a[1];return M.useEffect((function(){var r=function(t,e,n){var r,i,o=t.length,a=e.length;if(0===o&&0===a)return null;o<a?(r=t,i=e):(r=e,i=t);var s={__EMPTY_ITEM__:!0};function c(t){return void 0!==t?n(t):s}for(var u=null,l=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var h=c(r[f]);if(h!==c(i[f])){u=f,l=l||h!==c(i[f+1]);break}}return null===u?null:{index:u,multiple:l}}(i||[],t||[],e);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),c(t[r.index])),o(t)}),[t]),[s]}var tC="object"===("undefined"===typeof navigator?"undefined":Object(Kn.a)(navigator))&&/Firefox/i.test(navigator.userAgent),eC=function(t,e){var n=Object(M.useRef)(!1),r=Object(M.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=Object(M.useRef)({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t<0&&o.current.top||t>0&&o.current.bottom;return e&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};function nC(t,e,n,r,i){var o=Object(M.useRef)(0),a=Object(M.useRef)(null),s=Object(M.useRef)(null),c=Object(M.useRef)(!1),u=eC(e,n);var l=Object(M.useRef)(null),f=Object(M.useRef)(null);return[function(e){if(t){ji.cancel(f.current),f.current=ji((function(){l.current=null}),2);var n=e.deltaX,h=e.deltaY,d=e.shiftKey,p=n,v=h;("sx"===l.current||!l.current&&d&&h&&!n)&&(p=h,v=0,l.current="sx");var g=Math.abs(p),m=Math.abs(v);null===l.current&&(l.current=r&&g>m?"x":"y"),"y"===l.current?function(t,e){ji.cancel(a.current),o.current+=e,s.current=e,u(e)||(tC||t.preventDefault(),a.current=ji((function(){var t=c.current?10:1;i(o.current*t),o.current=0})))}(e,v):function(t,e){i(e,!0),tC||t.preventDefault()}(e,p)}},function(e){t&&(c.current=e.detail===s.current)}]}var rC=function(){function t(){Object(Rn.a)(this,t),Object(Vn.a)(this,"maps",void 0),Object(Vn.a)(this,"id",0),this.maps=Object.create(null)}return Object(Bn.a)(t,[{key:"set",value:function(t,e){this.maps[t]=e,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),t}();function iC(t,e){return("touches"in t?t.touches[0]:t)[e?"pageX":"pageY"]}var oC=M.forwardRef((function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,a=t.onStartMove,s=t.onStopMove,c=t.onScroll,u=t.horizontal,l=t.spinSize,f=t.containerSize,h=t.style,d=t.thumbStyle,p=kr(M.useState(!1),2),v=p[0],g=p[1],m=kr(M.useState(null),2),y=m[0],b=m[1],_=kr(M.useState(null),2),w=_[0],x=_[1],S=!r,O=M.useRef(),k=M.useRef(),E=kr(M.useState(!1),2),I=E[0],j=E[1],A=M.useRef(),T=function(){clearTimeout(A.current),j(!0),A.current=setTimeout((function(){j(!1)}),3e3)},D=o-f||0,P=f-l||0,L=M.useMemo((function(){return 0===i||0===D?0:i/D*P}),[i,D,P]),N=M.useRef({top:L,dragging:v,pageY:y,startTop:w});N.current={top:L,dragging:v,pageY:y,startTop:w};var R=function(t){g(!0),b(iC(t,u)),x(N.current.top),a(),t.stopPropagation(),t.preventDefault()};M.useEffect((function(){var t=function(t){t.preventDefault()},e=O.current,n=k.current;return e.addEventListener("touchstart",t),n.addEventListener("touchstart",R),function(){e.removeEventListener("touchstart",t),n.removeEventListener("touchstart",R)}}),[]);var B=M.useRef();B.current=D;var z=M.useRef();z.current=P,M.useEffect((function(){if(v){var t,e=function(e){var n=N.current,r=n.dragging,i=n.pageY,o=n.startTop;if(ji.cancel(t),r){var a=iC(e,u)-i,s=o;!S&&u?s-=a:s+=a;var l=B.current,f=z.current,h=f?s/f:0,d=Math.ceil(h*l);d=Math.max(d,0),d=Math.min(d,l),t=ji((function(){c(d,u)}))}},n=function(){g(!1),s()};return window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),ji.cancel(t)}}}),[v]),M.useEffect((function(){T()}),[i]),M.useImperativeHandle(e,(function(){return{delayHidden:T}}));var F="".concat(n,"-scrollbar"),H={position:"absolute",visibility:I?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(H.height=8,H.left=0,H.right=0,H.bottom=0,U.height="100%",U.width=l,S?U.left=L:U.right=L):(H.width=8,H.top=0,H.bottom=0,S?H.right=0:H.left=0,U.width="100%",U.height=l,U.top=L),M.createElement("div",{ref:O,className:C()(F,Object(Vn.a)(Object(Vn.a)(Object(Vn.a)({},"".concat(F,"-horizontal"),u),"".concat(F,"-vertical"),!u),"".concat(F,"-visible"),I)),style:Object(Gn.a)(Object(Gn.a)({},H),h),onMouseDown:function(t){t.stopPropagation(),t.preventDefault()},onMouseMove:T},M.createElement("div",{ref:k,className:C()("".concat(F,"-thumb"),Object(Vn.a)({},"".concat(F,"-thumb-moving"),v)),style:Object(Gn.a)(Object(Gn.a)({},U),d),onMouseDown:R}))}));function aC(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,20),Math.floor(n)}var sC=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],cC=[],uC={overflowY:"auto",overflowAnchor:"none"};function lC(t,e){var n=t.prefixCls,r=void 0===n?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,s=t.fullHeight,c=void 0===s||s,u=t.style,l=t.data,f=t.children,h=t.itemKey,d=t.virtual,p=t.direction,v=t.scrollWidth,g=t.component,m=void 0===g?"div":g,y=t.onScroll,b=t.onVirtualScroll,_=t.onVisibleChange,w=t.innerProps,x=t.extraRender,S=t.styles,O=Object(Xn.a)(t,sC),k=M.useCallback((function(t){return"function"===typeof h?h(t):null===t||void 0===t?void 0:t[h]}),[h]),E=function(t,e,n){var r=kr(M.useState(0),2),i=r[0],o=r[1],a=Object(M.useRef)(new Map),s=Object(M.useRef)(new rC),c=Object(M.useRef)();function u(){ji.cancel(c.current)}function l(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u();var e=function(){a.current.forEach((function(t,e){if(t&&t.offsetParent){var n=si(t),r=n.offsetHeight;s.current.get(e)!==r&&s.current.set(e,n.offsetHeight)}})),o((function(t){return t+1}))};t?e():c.current=ji(e)}return Object(M.useEffect)((function(){return u}),[]),[function(r,i){var o=t(r),s=a.current.get(o);i?(a.current.set(o,i),l()):a.current.delete(o),!s!==!i&&(i?null===e||void 0===e||e(r):null===n||void 0===n||n(r))},l,s.current,i]}(k,null,null),I=kr(E,4),j=I[0],A=I[1],T=I[2],D=I[3],P=!(!1===d||!o||!a),L=M.useMemo((function(){return Object.values(T.maps).reduce((function(t,e){return t+e}),0)}),[T.id,T.maps]),N=P&&l&&(Math.max(a*l.length,L)>o||!!v),R="rtl"===p,B=C()(r,Object(Vn.a)({},"".concat(r,"-rtl"),R),i),z=l||cC,F=Object(M.useRef)(),H=Object(M.useRef)(),U=kr(Object(M.useState)(0),2),W=U[0],Y=U[1],V=kr(Object(M.useState)(0),2),G=V[0],X=V[1],K=kr(Object(M.useState)(!1),2),Z=K[0],q=K[1],Q=function(){q(!0)},J=function(){q(!1)},$={getKey:k};function tt(t){Y((function(e){var n=function(t){var e=t;Number.isNaN(mt.current)||(e=Math.min(e,mt.current));return e=Math.max(e,0)}("function"===typeof t?t(e):t);return F.current.scrollTop=n,n}))}var et=Object(M.useRef)({start:0,end:z.length}),nt=Object(M.useRef)(),rt=kr($S(z,k),1)[0];nt.current=rt;var it=M.useMemo((function(){if(!P)return{scrollHeight:void 0,start:0,end:z.length-1,offset:void 0};var t;if(!N)return{scrollHeight:(null===(t=H.current)||void 0===t?void 0:t.offsetHeight)||0,start:0,end:z.length-1,offset:void 0};for(var e,n,r,i=0,s=z.length,c=0;c<s;c+=1){var u=z[c],l=k(u),f=T.get(l),h=i+(void 0===f?a:f);h>=W&&void 0===e&&(e=c,n=i),h>W+o&&void 0===r&&(r=c),i=h}return void 0===e&&(e=0,n=0,r=Math.ceil(o/a)),void 0===r&&(r=z.length-1),{scrollHeight:i,start:e,end:r=Math.min(r+1,z.length-1),offset:n}}),[N,P,W,z,D,o]),ot=it.scrollHeight,at=it.start,st=it.end,ct=it.offset;et.current.start=at,et.current.end=st;var ut=kr(M.useState({width:0,height:o}),2),lt=ut[0],ft=ut[1],ht=Object(M.useRef)(),dt=Object(M.useRef)(),pt=M.useMemo((function(){return aC(lt.width,v)}),[lt.width,v]),vt=M.useMemo((function(){return aC(lt.height,ot)}),[lt.height,ot]),gt=ot-o,mt=Object(M.useRef)(gt);mt.current=gt;var yt=W<=0,bt=W>=gt,_t=eC(yt,bt),wt=function(){return{x:R?-G:G,y:W}},xt=Object(M.useRef)(wt()),St=ss((function(t){if(b){var e=Object(Gn.a)(Object(Gn.a)({},wt()),t);xt.current.x===e.x&&xt.current.y===e.y||(b(e),xt.current=e)}}));function Ct(t,e){var n=t;e?(Object(Er.flushSync)((function(){X(n)})),St()):tt(n)}var Mt=function(t){var e=t,n=v?v-lt.width:0;return e=Math.max(e,0),e=Math.min(e,n)},Ot=ss((function(t,e){e?(Object(Er.flushSync)((function(){X((function(e){return Mt(e+(R?-t:t))}))})),St()):tt((function(e){return e+t}))})),kt=kr(nC(P,yt,bt,!!v,Ot),2),Et=kt[0],It=kt[1];!function(t,e,n){var r,i=Object(M.useRef)(!1),o=Object(M.useRef)(0),a=Object(M.useRef)(null),s=Object(M.useRef)(null),c=function(t){if(i.current){var e=Math.ceil(t.touches[0].pageY),r=o.current-e;o.current=e,n(r)&&t.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=14/15,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},u=function(){i.current=!1,r()},l=function(t){r(),1!==t.touches.length||i.current||(i.current=!0,o.current=Math.ceil(t.touches[0].pageY),a.current=t.target,a.current.addEventListener("touchmove",c),a.current.addEventListener("touchend",u))};r=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",u))},Hr((function(){return t&&e.current.addEventListener("touchstart",l),function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("touchstart",l),r(),clearInterval(s.current)}}),[t])}(P,F,(function(t,e){return!_t(t,e)&&(Et({preventDefault:function(){},deltaY:t}),!0)})),Hr((function(){function t(t){P&&t.preventDefault()}var e=F.current;return e.addEventListener("wheel",Et),e.addEventListener("DOMMouseScroll",It),e.addEventListener("MozMousePixelScroll",t),function(){e.removeEventListener("wheel",Et),e.removeEventListener("DOMMouseScroll",It),e.removeEventListener("MozMousePixelScroll",t)}}),[P]),Hr((function(){if(v){var t=Mt(G);X(t),St({x:t})}}),[lt.width,v]);var jt=function(){var t,e;null===(t=ht.current)||void 0===t||t.delayHidden(),null===(e=dt.current)||void 0===e||e.delayHidden()},At=function(t,e,n,r,i,o,a,s){var c=M.useRef(),u=kr(M.useState(null),2),l=u[0],f=u[1];return Hr((function(){if(l&&l.times<10){if(!t.current)return void f((function(t){return Object(Gn.a)({},t)}));o();var s=l.targetAlign,c=l.originAlign,u=l.index,h=l.offset,d=t.current.clientHeight,p=!1,v=s,g=null;if(d){for(var m=s||c,y=0,b=0,_=0,w=Math.min(e.length-1,u),x=0;x<=w;x+=1){var S=i(e[x]);b=y;var C=n.get(S);y=_=b+(void 0===C?r:C)}for(var M="top"===m?h:d-h,O=w;O>=0;O-=1){var k=i(e[O]),E=n.get(k);if(void 0===E){p=!0;break}if((M-=E)<=0)break}switch(m){case"top":g=b-h;break;case"bottom":g=_-d+h;break;default:var I=t.current.scrollTop;b<I?v="top":_>I+d&&(v="bottom")}null!==g&&a(g),g!==l.lastTop&&(p=!0)}p&&f(Object(Gn.a)(Object(Gn.a)({},l),{},{times:l.times+1,targetAlign:v,lastTop:g}))}else 0}),[l,t.current]),function(t){if(null!==t&&void 0!==t){if(ji.cancel(c.current),"number"===typeof t)a(t);else if(t&&"object"===Object(Kn.a)(t)){var n,r=t.align;n="index"in t?t.index:e.findIndex((function(e){return i(e)===t.key}));var o=t.offset;f({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else s()}}(F,z,T,a,k,(function(){return A(!0)}),tt,jt);M.useImperativeHandle(e,(function(){return{getScrollInfo:wt,scrollTo:function(t){var e;(e=t)&&"object"===Object(Kn.a)(e)&&("left"in e||"top"in e)?(void 0!==t.left&&X(Mt(t.left)),At(t.top)):At(t)}}})),Hr((function(){if(_){var t=z.slice(at,st+1);_(t,z)}}),[at,st,z]);var Tt=function(t,e,n,r){var i=kr(M.useMemo((function(){return[new Map,[]]}),[t,n.id,r]),2),o=i[0],a=i[1];return function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,c=o.get(i),u=o.get(s);if(void 0===c||void 0===u)for(var l=t.length,f=a.length;f<l;f+=1){var h,d=t[f],p=e(d);o.set(p,f);var v=null!==(h=n.get(p))&&void 0!==h?h:r;if(a[f]=(a[f-1]||0)+v,p===i&&(c=f),p===s&&(u=f),void 0!==c&&void 0!==u)break}return{top:a[c-1]||0,bottom:a[u]}}}(z,k,T,a),Dt=null===x||void 0===x?void 0:x({start:at,end:st,virtual:N,offsetX:G,offsetY:ct,rtl:R,getSize:Tt}),Pt=function(t,e,n,r,i,o,a){var s=a.getKey;return t.slice(e,n+1).map((function(t,n){var a=o(t,e+n,{style:{width:r}}),c=s(t);return M.createElement(JS,{key:c,setRef:function(e){return i(t,e)}},a)}))}(z,at,st,v,j,f,$),Lt=null;o&&(Lt=Object(Gn.a)(Object(Vn.a)({},c?"height":"maxHeight",o),uC),P&&(Lt.overflowY="hidden",v&&(Lt.overflowX="hidden"),Z&&(Lt.pointerEvents="none")));var Nt={};return R&&(Nt.dir="rtl"),M.createElement("div",Object(Nn.a)({style:Object(Gn.a)(Object(Gn.a)({},u),{},{position:"relative"}),className:B},Nt,O),M.createElement(ZS,{onResize:function(t){ft({width:t.width||t.offsetWidth,height:t.height||t.offsetHeight})}},M.createElement(m,{className:"".concat(r,"-holder"),style:Lt,ref:F,onScroll:function(t){var e=t.currentTarget.scrollTop;e!==W&&tt(e),null===y||void 0===y||y(t),St()},onMouseEnter:jt},M.createElement(QS,{prefixCls:r,height:ot,offsetX:G,offsetY:ct,scrollWidth:v,onInnerResize:A,ref:H,innerProps:w,rtl:R,extra:Dt},Pt))),N&&ot>o&&M.createElement(oC,{ref:ht,prefixCls:r,scrollOffset:W,scrollRange:ot,rtl:R,onScroll:Ct,onStartMove:Q,onStopMove:J,spinSize:vt,containerSize:lt.height,style:null===S||void 0===S?void 0:S.verticalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.verticalScrollBarThumb}),N&&v>lt.width&&M.createElement(oC,{ref:dt,prefixCls:r,scrollOffset:G,scrollRange:v,rtl:R,onScroll:Ct,onStartMove:Q,onStopMove:J,spinSize:pt,containerSize:lt.width,horizontal:!0,style:null===S||void 0===S?void 0:S.horizontalScrollBar,thumbStyle:null===S||void 0===S?void 0:S.horizontalScrollBarThumb}))}var fC=M.forwardRef(lC);fC.displayName="List";var hC=fC;var dC=["disabled","title","children","style","className"];function pC(t){return"string"===typeof t||"number"===typeof t}var vC=function(t,e){var n=M.useContext($w),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,s=n.mode,c=n.searchValue,u=n.toggleOpen,l=n.notFoundContent,f=n.onPopupScroll,h=M.useContext(AS),d=h.maxCount,p=h.flattenOptions,v=h.onActiveValue,g=h.defaultActiveFirstOption,m=h.onSelect,y=h.menuItemSelectedIcon,b=h.rawValues,_=h.fieldNames,w=h.virtual,x=h.direction,S=h.listHeight,O=h.listItemHeight,k=h.optionRender,E="".concat(r,"-item"),I=Tr((function(){return p}),[o,p],(function(t,e){return e[0]&&t[1]!==e[1]})),j=M.useRef(null),A=M.useMemo((function(){return a&&ES(d)&&(null===b||void 0===b?void 0:b.size)>=d}),[a,d,null===b||void 0===b?void 0:b.size]),T=function(t){t.preventDefault()},D=function(t){var e;null===(e=j.current)||void 0===e||e.scrollTo("number"===typeof t?{index:t}:t)},P=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=I.length,r=0;r<n;r+=1){var i=(t+r*e+n)%n,o=I[i]||{},a=o.group,s=o.data;if(!a&&(null===s||void 0===s||!s.disabled)&&!A)return i}return-1},L=kr(M.useState((function(){return P(0)})),2),N=L[0],R=L[1],B=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R(t);var n={source:e?"keyboard":"mouse"},r=I[t];r?v(r.value,t,n):v(null,-1,n)};Object(M.useEffect)((function(){B(!1!==g?P(0):-1)}),[I.length,c]);var z=M.useCallback((function(t){return b.has(t)&&"combobox"!==s}),[s,er(b).toString(),b.size]);Object(M.useEffect)((function(){var t,e=setTimeout((function(){if(!a&&o&&1===b.size){var t=Array.from(b)[0],e=I.findIndex((function(e){return e.data.value===t}));-1!==e&&(B(e),D(e))}}));o&&(null===(t=j.current)||void 0===t||t.scrollTo(void 0));return function(){return clearTimeout(e)}}),[o,c]);var F=function(t){void 0!==t&&m(t,{selected:!b.has(t)}),a||u(!1)};if(M.useImperativeHandle(e,(function(){return{onKeyDown:function(t){var e=t.which,n=t.ctrlKey;switch(e){case ri.N:case ri.P:case ri.UP:case ri.DOWN:var r=0;if(e===ri.UP?r=-1:e===ri.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(e===ri.N?r=1:e===ri.P&&(r=-1)),0!==r){var i=P(N+r,r);D(i),B(i,!0)}break;case ri.ENTER:var a,s=I[N];!s||null!==s&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.disabled||A?F(void 0):F(s.value),o&&t.preventDefault();break;case ri.ESC:u(!1),o&&t.stopPropagation()}},onKeyUp:function(){},scrollTo:function(t){D(t)}}})),0===I.length)return M.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(E,"-empty"),onMouseDown:T},l);var H=Object.keys(_).map((function(t){return _[t]})),U=function(t){return t.label};function W(t,e){return{role:t.group?"presentation":"option",id:"".concat(i,"_list_").concat(e)}}var Y=function(t){var e=I[t];if(!e)return null;var n=e.data||{},r=n.value,i=e.group,o=ir(n,!0),a=U(e);return e?M.createElement("div",Object(Nn.a)({"aria-label":"string"!==typeof a||i?null:a},o,{key:t},W(e,t),{"aria-selected":z(r)}),r):null},V={role:"listbox",id:"".concat(i,"_list")};return M.createElement(M.Fragment,null,w&&M.createElement("div",Object(Nn.a)({},V,{style:{height:0,width:0,overflow:"hidden"}}),Y(N-1),Y(N),Y(N+1)),M.createElement(hC,{itemKey:"key",ref:j,data:I,height:S,itemHeight:O,fullHeight:!1,onMouseDown:T,onScroll:f,virtual:w,direction:x,innerProps:w?null:V},(function(t,e){var n=t.group,r=t.groupOption,i=t.data,o=t.label,a=t.value,s=i.key;if(n){var c,u=null!==(c=i.title)&&void 0!==c?c:pC(o)?o.toString():void 0;return M.createElement("div",{className:C()(E,"".concat(E,"-group"),i.className),title:u},void 0!==o?o:s)}var l=i.disabled,f=i.title,h=(i.children,i.style),d=i.className,p=function(t,e){var n=Object(Gn.a)({},t);return Array.isArray(e)&&e.forEach((function(t){delete n[t]})),n}(Object(Xn.a)(i,dC),H),v=z(a),g=l||!v&&A,m="".concat(E,"-option"),b=C()(E,m,d,Object(Vn.a)(Object(Vn.a)(Object(Vn.a)(Object(Vn.a)({},"".concat(m,"-grouped"),r),"".concat(m,"-active"),N===e&&!g),"".concat(m,"-disabled"),g),"".concat(m,"-selected"),v)),_=U(t),x=!y||"function"===typeof y||v,S="number"===typeof _?_:_||a,O=pC(S)?S.toString():void 0;return void 0!==f&&(O=f),M.createElement("div",Object(Nn.a)({},ir(p),w?{}:W(t,e),{"aria-selected":v,className:b,title:O,onMouseMove:function(){N===e||g||B(e)},onClick:function(){g||F(a)},style:h}),M.createElement("div",{className:"".concat(m,"-content")},"function"===typeof k?k(t,{index:e}):S),M.isValidElement(y)||v,x&&M.createElement(Jw,{className:"".concat(E,"-option-state"),customizeIcon:y,customizeIconProps:{value:a,disabled:g,isSelected:v}},v?"\u2713":null))})))};var gC=M.forwardRef(vC);function mC(t,e){return jx(t).join("").toUpperCase().includes(e)}var yC=0,bC=Object(jr.a)();function _C(t){var e=kr(M.useState(),2),n=e[0],r=e[1];return M.useEffect((function(){r("rc_select_".concat(function(){var t;return bC?(t=yC,yC+=1):t="TEST_OR_SSR",t}()))}),[]),t||n}var wC=["children","value"],xC=["children"];function SC(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,a=Object(Xn.a)(r,wC);return Object(Gn.a)({key:n,value:void 0!==o?o:n,children:i},a)}function CC(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qa(t).map((function(t,n){if(!M.isValidElement(t)||!t.type)return null;var r=t,i=r.type.isSelectOptGroup,o=r.key,a=r.props,s=a.children,c=Object(Xn.a)(a,xC);return e||!i?SC(t):Object(Gn.a)(Object(Gn.a)({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},c),{},{options:CC(s)})})).filter((function(t){return t}))}var MC=function(t,e,n,r,i){return M.useMemo((function(){var o=t;!t&&(o=CC(e));var a=new Map,s=new Map,c=function(t,e,n){n&&"string"===typeof n&&t.set(e[n],e)};return function t(e){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<e.length;u+=1){var l=e[u];!l[n.options]||o?(a.set(l[n.value],l),c(s,l,n.label),c(s,l,r),c(s,l,i)):t(l[n.options],!0)}}(o),{options:o,valueOptions:a,labelOptions:s}}),[t,e,n,r,i])};function OC(t){var e=M.useRef();return e.current=t,M.useCallback((function(){return e.current.apply(e,arguments)}),[])}var kC=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],EC=["inputValue"];var IC=M.forwardRef((function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=void 0===i?"rc-select":i,a=t.backfill,s=t.fieldNames,c=t.inputValue,u=t.searchValue,l=t.onSearch,f=t.autoClearSearchValue,h=void 0===f||f,d=t.onSelect,p=t.onDeselect,v=t.dropdownMatchSelectWidth,g=void 0===v||v,m=t.filterOption,y=t.filterSort,b=t.optionFilterProp,_=t.optionLabelProp,w=t.options,x=t.optionRender,S=t.children,C=t.defaultActiveFirstOption,O=t.menuItemSelectedIcon,k=t.virtual,E=t.direction,I=t.listHeight,j=void 0===I?200:I,A=t.listItemHeight,T=void 0===A?20:A,D=t.labelRender,P=t.value,L=t.defaultValue,N=t.labelInValue,R=t.onChange,B=t.maxCount,z=Object(Xn.a)(t,kC),F=_C(n),H=LS(r),U=!(w||!S),W=M.useMemo((function(){return(void 0!==m||"combobox"!==r)&&m}),[m,r]),Y=M.useMemo((function(){return IS(s,U)}),[JSON.stringify(s),U]),V=kr(us("",{value:void 0!==u?u:c,postState:function(t){return t||""}}),2),G=V[0],X=V[1],K=MC(w,S,Y,b,_),Z=K.valueOptions,q=K.labelOptions,Q=K.options,J=M.useCallback((function(t){return jx(t).map((function(t){var e,n,r,i,o,a;(function(t){return!t||"object"!==Object(Kn.a)(t)})(t)?e=t:(r=t.key,n=t.label,e=null!==(a=t.value)&&void 0!==a?a:r);var s,c=Z.get(e);c&&(void 0===n&&(n=null===c||void 0===c?void 0:c[_||Y.label]),void 0===r&&(r=null!==(s=null===c||void 0===c?void 0:c.key)&&void 0!==s?s:e),i=null===c||void 0===c?void 0:c.disabled,o=null===c||void 0===c?void 0:c.title);return{label:n,value:e,key:r,disabled:i,title:o}}))}),[Y,_,Z]),$=kr(us(L,{value:P}),2),tt=$[0],et=$[1],nt=kr(function(t,e){var n=M.useRef({values:new Map,options:new Map});return[M.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=t.map((function(t){var e;return void 0===t.label?Object(Gn.a)(Object(Gn.a)({},t),{},{label:null===(e=i.get(t.value))||void 0===e?void 0:e.label}):t})),s=new Map,c=new Map;return a.forEach((function(t){s.set(t.value,t),c.set(t.value,e.get(t.value)||o.get(t.value))})),n.current.values=s,n.current.options=c,a}),[t,e]),M.useCallback((function(t){return e.get(t)||n.current.options.get(t)}),[e])]}(M.useMemo((function(){var t,e=J(H&&null===tt?[]:tt);return"combobox"===r&&function(t){return!t&&0!==t}(null===(t=e[0])||void 0===t?void 0:t.value)?[]:e}),[tt,J,r,H]),Z),2),rt=nt[0],it=nt[1],ot=M.useMemo((function(){if(!r&&1===rt.length){var t=rt[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return rt.map((function(t){var e;return Object(Gn.a)(Object(Gn.a)({},t),{},{label:null!==(e="function"===typeof D?D(t):t.label)&&void 0!==e?e:t.value})}))}),[r,rt,D]),at=M.useMemo((function(){return new Set(rt.map((function(t){return t.value})))}),[rt]);M.useEffect((function(){if("combobox"===r){var t,e=null===(t=rt[0])||void 0===t?void 0:t.value;X(function(t){return void 0!==t&&null!==t}(e)?String(e):"")}}),[rt]);var st=OC((function(t,e){var n=null!==e&&void 0!==e?e:t;return Object(Vn.a)(Object(Vn.a)({},Y.value,t),Y.label,n)})),ct=function(t,e,n,r,i){return M.useMemo((function(){if(!n||!1===r)return t;var o=e.options,a=e.label,s=e.value,c=[],u="function"===typeof r,l=n.toUpperCase(),f=u?r:function(t,e){return i?mC(e[i],l):e[o]?mC(e["children"!==a?a:"label"],l):mC(e[s],l)},h=u?function(t){return jS(t)}:function(t){return t};return t.forEach((function(t){if(t[o])if(f(n,h(t)))c.push(t);else{var e=t[o].filter((function(t){return f(n,h(t))}));e.length&&c.push(Object(Gn.a)(Object(Gn.a)({},t),{},Object(Vn.a)({},o,e)))}else f(n,h(t))&&c.push(t)})),c}),[t,r,i,n,e])}(M.useMemo((function(){if("tags"!==r)return Q;var t=er(Q);return er(rt).sort((function(t,e){return t.value<e.value?-1:1})).forEach((function(e){var n=e.value;(function(t){return Z.has(t)})(n)||t.push(st(n,e.label))})),t}),[st,Q,Z,rt,r]),Y,G,W,b),ut=M.useMemo((function(){return"tags"!==r||!G||ct.some((function(t){return t[b||"value"]===G}))||ct.some((function(t){return t[Y.value]===G}))?ct:[st(G)].concat(er(ct))}),[st,b,r,ct,G,Y]),lt=M.useMemo((function(){return y?er(ut).sort((function(t,e){return y(t,e)})):ut}),[ut,y]),ft=M.useMemo((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=IS(n,!1),a=o.label,s=o.value,c=o.options,u=o.groupLabel;function l(t,e){Array.isArray(t)&&t.forEach((function(t){if(e||!(c in t)){var n=t[s];i.push({key:kS(t,i.length),groupOption:e,data:t,label:t[a],value:n})}else{var o=t[u];void 0===o&&r&&(o=t.label),i.push({key:kS(t,i.length),group:!0,data:t,label:o}),l(t[c],!0)}}))}return l(t,!1),i}(lt,{fieldNames:Y,childrenAsData:U})}),[lt,Y,U]),ht=function(t){var e=J(t);if(et(e),R&&(e.length!==rt.length||e.some((function(t,e){var n;return(null===(n=rt[e])||void 0===n?void 0:n.value)!==(null===t||void 0===t?void 0:t.value)})))){var n=N?e:e.map((function(t){return t.value})),r=e.map((function(t){return jS(it(t.value))}));R(H?n:n[0],H?r:r[0])}},dt=kr(M.useState(null),2),pt=dt[0],vt=dt[1],gt=kr(M.useState(0),2),mt=gt[0],yt=gt[1],bt=void 0!==C?C:"combobox"!==r,_t=M.useCallback((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;yt(e),a&&"combobox"===r&&null!==t&&"keyboard"===o&&vt(String(t))}),[a,r]),wt=function(t,e,n){var r=function(){var e,n=it(t);return[N?{label:null===n||void 0===n?void 0:n[Y.label],value:t,key:null!==(e=null===n||void 0===n?void 0:n.key)&&void 0!==e?e:t}:t,jS(n)]};if(e&&d){var i=kr(r(),2),o=i[0],a=i[1];d(o,a)}else if(!e&&p&&"clear"!==n){var s=kr(r(),2),c=s[0],u=s[1];p(c,u)}},xt=OC((function(t,e){var n,i=!H||e.selected;n=i?H?[].concat(er(rt),[t]):[t]:rt.filter((function(e){return e.value!==t})),ht(n),wt(t,i),"combobox"===r?vt(""):LS&&!h||(X(""),vt(""))})),St=M.useMemo((function(){var t=!1!==k&&!1!==g;return Object(Gn.a)(Object(Gn.a)({},K),{},{flattenOptions:ft,onActiveValue:_t,defaultActiveFirstOption:bt,onSelect:xt,menuItemSelectedIcon:O,rawValues:at,fieldNames:Y,virtual:t,direction:E,listHeight:j,listItemHeight:T,childrenAsData:U,maxCount:B,optionRender:x})}),[B,K,ft,_t,bt,xt,O,at,Y,k,g,E,j,T,U,x]);return M.createElement(AS.Provider,{value:St},M.createElement(NS,Object(Nn.a)({},z,{id:F,prefixCls:o,ref:e,omitDomProps:EC,mode:r,displayValues:ot,onDisplayValuesChange:function(t,e){ht(t);var n=e.type,r=e.values;"remove"!==n&&"clear"!==n||r.forEach((function(t){wt(t.value,!1,n)}))},direction:E,searchValue:G,onSearch:function(t,e){if(X(t),vt(null),"submit"!==e.source)"blur"!==e.source&&("combobox"===r&&ht(t),null===l||void 0===l||l(t));else{var n=(t||"").trim();if(n){var i=Array.from(new Set([].concat(er(at),[n])));ht(i),wt(n,!0),X("")}}},autoClearSearchValue:h,onSearchSplit:function(t){var e=t;"tags"!==r&&(e=t.map((function(t){var e=q.get(t);return null===e||void 0===e?void 0:e.value})).filter((function(t){return void 0!==t})));var n=Array.from(new Set([].concat(er(at),er(e))));ht(n),n.forEach((function(t){wt(t,!0)}))},dropdownMatchSelectWidth:g,OptionList:gC,emptyOptions:!ft.length,activeValue:pt,activeDescendantId:"".concat(F,"_list_").concat(mt)})))}));IC.Option=FS,IC.OptGroup=BS;var jC=IC;function AC(){return(AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function TC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DC(t,e)}function DC(t,e){return(DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}M.Component;var PC=["#ffffff","#fdeeee","#ffe1b2","#ffff02","#c8f0d6","#d3e8ff","#dadbef","#fedaec","#d9d9d9","#f78da7","#ff6900","#fed670","#7bdcb5","#8ed1fc","#8c7be9","#ee94f7","#abb8c3","#e06666","#bd5b22","#fcb900","#00d084","#0693e3","#4756fe","#d041e1","#000000","#eb144c","#ac2840","#c29632","#4aa36f","#3374b1","#403ed6","#9900ef"],LC={},NC={};PC.forEach((function(t){var e=qy.a.scale(["white",t,"black"]).colors(11);LC[t+"-light"]=t,LC[t+"-dark"]=e[6]})),PC.forEach((function(t){NC["color-"+t]={color:LC[t+"-dark"]}})),PC.forEach((function(t){NC["backgroundColor-"+t]={backgroundColor:LC[t+"-light"]}}));[12,14,16,18,20,22,24,26,28,30,32,36,40,44,48,54,60].forEach((function(t){NC["fontSize-"+t]={fontSize:t}})),NC["fontFamily-msYaHei"]={fontFamily:'"Microsoft YaHei"'},NC["fontFamily-song"]={fontFamily:"SimSun, STSong"},NC["fontFamily-xinSong"]={fontFamily:"NSimSun"},NC["fontFamily-fangSong"]={fontFamily:"FangSong_GB2312, FangSong, STFangsong"},NC["fontFamily-kaiTi"]={fontFamily:"KaiTi_GB2312, KaiTi, STKaiti"},NC["fontFamily-heiTi"]={fontFamily:"SimHei, STHeiti"},NC["fontFamily-arial"]={fontFamily:"Arial"},NC["fontFamily-arialBlack"]={fontFamily:'"Arial Black"'},NC["fontFamily-timesNewRoman"]={fontFamily:'"Times New Roman"'},NC["fontFamily-courierNew"]={fontFamily:'"Courier New"'},NC["fontFamily-tahoma"]={fontFamily:"Tahoma"},NC["fontFamily-verdana"]={fontFamily:"Verdana"},NC["fontFamily-sans-serif"]={fontFamily:"sans-serif"},NC.CODE={fontFamily:'"courier", monospace',backgroundColor:"lightGray"},NC.lineThrough={textDecoration:"line-through"},NC.SUBSCRIPT={fontSize:"0.5em",verticalAlign:"sub"},NC.SUPERSCRIPT={fontSize:"0.5em",verticalAlign:"super"};[["red_less","#c00000"],["red","#ff0000"],["orange","#ffc000"],["yellow","#ffff00"],["grass","#92d050"],["green","#00b050"],["blue","#00b0f0"],["purple","#7030a0"]].forEach((function(t){var e=t[0],n=t[1];NC["color-"+e]={color:n},NC["backgroundColor-"+e]={backgroundColor:n},PC.push(n)}));M.Component;function RC(t,e){try{var n=t.getCurrentInlineStyle().toList().filter((function(t){return t.startsWith(e)}));return n&&n.size>0?n.last():void 0}catch(FM){return}}M.Component;var BC=[{key:"fontFamily-msYaHei",value:"\u5fae\u8f6f\u96c5\u9ed1"},{key:"fontFamily-song",value:"\u5b8b\u4f53"},{key:"fontFamily-xinSong",value:"\u65b0\u5b8b\u4f53"},{key:"fontFamily-fangSong",value:"\u4eff\u5b8b"},{key:"fontFamily-kaiTi",value:"\u6977\u4f53"},{key:"fontFamily-heiTi",value:"\u9ed1\u4f53"},{key:"fontFamily-arial",value:"Arial"},{key:"fontFamily-arialBlack",value:"Arial Black"},{key:"fontFamily-timesNewRoman",value:"Times New Roman"},{key:"fontFamily-courierNew",value:"Courier New"},{key:"fontFamily-tahoma",value:"Tahoma"},{key:"fontFamily-verdana",value:"Verdana"},{key:"fontFamily-sans-serif",value:"sans-serif"}],zC=(M.Component,[12,14,16,18,20,22,24,26,28,30,32,36,40,44,48,54,60]);M.Component;function FC(t){var e=t.blockType,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=function(){var n;if(!t.getEditorState)return!1;var r=t.getEditorState();return(null==(n=r.getCurrentContent().getBlockForKey(r.getSelection().getStartKey()))?void 0:n.getType())===e}()?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",AC({children:n},o,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(I.RichUtils.toggleBlockType(t.getEditorState(),e))},type:"button"})))}}FC({blockType:"header-one",children:"H1"}),FC({blockType:"header-two",children:"H2"}),FC({blockType:"header-three",children:"H3"}),FC({blockType:"header-four",children:"H4"}),FC({blockType:"header-five",children:"H5"}),FC({blockType:"header-six",children:"H6"}),M.Component;function HC(t){var e=t.style,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=RC(t.getEditorState(),e)?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",AC({children:n},o,{className:a,onClick:function(n){n.preventDefault(),t.setEditorState(I.RichUtils.toggleInlineStyle(t.getEditorState(),e))},type:"button"})))}}HC({style:"lineThrough",children:O.a.createElement("svg",{viewBox:"0 0 1024 1024","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",fill:"currentColor"},O.a.createElement("path",{d:"M334.908235 542.117647L512 78.908235 689.091765 542.117647h60.235294L542.117647 0h-60.235294L274.672941 542.117647h60.235294zM205.402353 722.823529L90.352941 1024h60.235294l115.049412-301.176471h-60.235294zM758.362353 722.823529L873.411765 1024h60.235294l-115.049412-301.176471h-60.235294z",fill:"#4D4D4D"}),O.a.createElement("path",{d:"M90.352941 602.352941h843.294118v60.235294H90.352941z",fill:"#05AFC8"}))}),M.Component,M.Component,FC({blockType:"blockquote",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),FC({blockType:"code-block",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),FC({blockType:"ordered-list-item",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),FC({blockType:"unordered-list-item",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))});function UC(t){var e=t.alignment,n=t.children;return function(t){var r=t.theme,i=t.buttonProps,o=void 0===i?{}:i,a=function(){var n=t.getEditorState(),r=t.getEditorState().getCurrentContent().getBlockForKey(n.getSelection().getStartKey()).getData().get("textAlignment")||"justify";return e===r}()?$(r.button,r.active):r.button;return O.a.createElement("div",{className:r.buttonWrapper,onMouseDown:function(t){t.preventDefault()}},O.a.createElement("button",AC({children:n},o,{className:a,onClick:function(n){if(t.getEditorState){n.preventDefault();var r=t.getEditorState(),i=t.getEditorState().getCurrentContent(),o=t.getEditorState().getSelection(),a=Object(Tt.getSelectedBlocksList)(r),s=r;a.forEach((function(t){var n=t.getType();if("code-block"!==n&&"atomic"!==n){var a=I.Modifier.setBlockData(i,o,t.getData().set("textAlignment",e));s=I.EditorState.push(r,a,"change-block-data")}})),t.setEditorState(s)}},type:"button"})))}}var WC=UC({alignment:"center",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),YC=UC({alignment:"justify",children:O.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},O.a.createElement("path",{d:"M128 149.33366667h768V234.66666667H128v-85.333z m0 640h768V874.66666667H128v-85.333z m0-213.334h768v85.334H128v-85.334zM128 362.66666667h768v85.333H128V362.66666667z"}))}),VC=UC({alignment:"left",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),GC=UC({alignment:"right",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),XC=HC({style:"BOLD",children:O.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M697.6 480c32-32 51.2-83.2 51.2-134.4v-6.4c0-108.8-89.6-192-198.4-192H262.4c-12.8 0-25.6 12.8-25.6 25.6v678.4c0 19.2 12.8 32 32 32h320c115.2 0 211.2-96 211.2-211.2v-12.8c-6.4-76.8-44.8-140.8-102.4-179.2zM326.4 236.8h224c57.6 0 102.4 44.8 102.4 102.4v6.4c0 57.6-44.8 102.4-102.4 102.4H326.4V236.8z m371.2 428.8c0 64-51.2 115.2-115.2 115.2h-256V544H576c64 0 115.2 51.2 115.2 115.2v6.4z"}))}),KC=(HC({style:"CODE",children:O.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),O.a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),HC({style:"ITALIC",children:O.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M800 160H364.8c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h179.2l-153.6 544H230.4c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h435.2c6.4 0 6.4-6.4 6.4-6.4v-64c0-6.4-6.4-6.4-6.4-6.4h-192l153.6-544h166.4c6.4 0 6.4-6.4 6.4-6.4v-64c6.4 0 0-6.4 0-6.4z"}))})),ZC=(HC({style:"SUBSCRIPT",children:O.a.createElement("div",null,"x",O.a.createElement("sub",null,"2"))}),HC({style:"SUPERSCRIPT",children:O.a.createElement("div",null,"x",O.a.createElement("sup",null,"2"))}),HC({style:"UNDERLINE",children:O.a.createElement("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("path",{d:"M825.6 806.4H198.4c-6.4 0-6.4 6.4-6.4 6.4v64c0 6.4 6.4 6.4 6.4 6.4h627.2c6.4 0 6.4-6.4 6.4-6.4v-64c0-6.4-6.4-6.4-6.4-6.4zM512 729.6c70.4 0 134.4-25.6 185.6-76.8 51.2-51.2 76.8-115.2 76.8-185.6V153.6c0-6.4-6.4-12.8-12.8-12.8H704c-6.4 0-12.8 6.4-12.8 12.8v313.6c0 96-76.8 179.2-179.2 179.2S332.8 563.2 332.8 467.2V153.6c0-6.4-6.4-12.8-12.8-12.8h-57.6c-6.4 0-12.8 6.4-12.8 12.8v313.6c0 70.4 25.6 134.4 76.8 185.6s115.2 76.8 185.6 76.8z"}))}));function qC(){return(qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function QC(t,e){return(QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var JC=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderAlignmentButtons=function(t){var e=t.buttonProps,n=void 0===e?[]:e,r=qC({},t,{buttonProps:n[0]}),i=qC({},t,{buttonProps:n[1]}),o=qC({},t,{buttonProps:n[2]}),a=qC({},t,{buttonProps:n[3]});return O.a.createElement(O.a.Fragment,null,O.a.createElement(YC,r),O.a.createElement(VC,i),O.a.createElement(WC,o),O.a.createElement(GC,a))},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,QC(e,n),r.prototype.render=function(){var t=this.props,e=t.store,n=t.theme,r={buttonProps:t.buttonProps,theme:n,getEditorState:e.getItem("getEditorState"),setEditorState:e.getItem("setEditorState")};return this.renderAlignmentButtons(r)},r}(O.a.Component),$C={alignmentStyles:{draftLeft:"d3glz6k",draftRight:"dke0p9a",draftCenter:"d10hnkai",draftJustify:"d1dckq6a"}},tM=Math.floor,eM=Math.random;var nM=function(t,e){return t+tM(eM()*(e-t+1))},rM=parseFloat,iM=Math.min,oM=Math.random;var aM=function(t,e,n){if(n&&"boolean"!=typeof n&&Ko(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Ny(t),void 0===e?(e=t,t=0):e=Ny(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=oM();return iM(t+i*(e-t+rM("1e-"+((i+"").length-1))),e)}return nM(t,e)};function sM(){return(sM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function cM(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var uM={video:"v1419uk5"},lM=["body","headers","method"],fM=(null==_r?void 0:_r.oResource)||Object({NODE_ENV:"production"}).REACT_APP_ORESOURCE||"https://tst-ccnu.ai-augmented.com/api/jx-oresource",hM=function t(e,n){return!(!n||!Object(Gt.a)(e))||!!At(e)&&(e=e.replace(/\s/g,"").replace(/\n|\r/,""),/^\{(.*?)\}$/.test(e)?/"(.*?)":(.*?)/g.test(e):!!/^\[(.*?)\]$/.test(e)&&e.replace(/^\[/,"").replace(/\]$/,"").replace(/},{/g,"}\n{").split(/\n/).map((function(e){return t(e)})).reduce((function(t,e){return!!e})))},dM=function(){var t={},e=localStorage.getItem("lrs_headers");if(e){var n;if(hM(e))t=null!=(n=JSON.parse(e))?n:{}}else{var r=jn(window,"Toolkits.onGetLrsHeader");r&&r((function(t){hM(t)&&localStorage.setItem("lrs_headers",t)}))}return t};function pM(t,e,n){var r=t;return e&&(r+="?"+Cr.a.stringify(e)),function(t,e){var n=e.body,r=void 0===n?void 0:n,i=e.headers,o=void 0===i?{}:i,a=e.method,s=void 0===a?"GET":a,c=cM(e,lM);return xr()(t,sM({headers:sM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+localStorage.getItem("access_token")},o,dM()),method:s,body:r},c)).then((function(t){return 200===t.status?t.json():new Error})).then((function(t){return t}))}(r,{method:"GET",headers:n})}var vM=["block","blockProps","blockStyleFn","className","contentState","customStyleFn","customStyleMap","decorator","forceSelection","offsetKey","preventScroll","selection","theme","tree"],gM=O.a.forwardRef((function(t,e){t.block;var n=t.blockProps;t.blockStyleFn;var r=t.className;t.contentState,t.customStyleFn,t.customStyleMap,t.decorator,t.forceSelection;var i=t.offsetKey;t.preventScroll,t.selection;var o=t.theme,a=void 0===o?{}:o;t.tree;var s=cM(t,vM),c=Object(M.useState)("player-"+i+"-"+aM(0,10))[0],u=Object(M.useState)(!1),l=u[0],f=u[1],h=$(a.video,r,"prism-player",{fullscreen:l}),d=null;return Object(M.useEffect)((function(){return function t(){pM(fM+"/vod/video/play_auth/"+n.videoId,{is_public:1}).then((function(e){var r=e.data,i=r.play_auth,o=r.video_id,a=r.status;!d&&i&&o&&"Normal"===a?((d=window.Aliplayer({id:c,width:"100%",height:"100%",autoplay:!1,encryptType:1,preload:!0,useH5Prism:!0,vid:n.videoId,playauth:i,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}]})).on("requestFullScreen",(function(){return f(!0)})),d.on("cancelFullScreen",(function(){return f(!1)}))):za((function(){return t()}),5e3)}))}(),function(){d&&(d.dispose(),d=null)}}),[n.videoId]),O.a.createElement("div",sM({},s,{id:c,className:h,ref:e}),!d&&O.a.createElement("div",{className:"trans"},"\u8f6c\u7801\u4e2d"))})),mM=n(1329),yM=n.n(mM);function bM(t){return"code-block"===t.getType()}function _M(t){return t.getData?t.getData().get("syntax"):null}function wM(t){return O.a.createElement("span",{className:"prism-token token "+t.type},t.children)}var xM="cpciw8t",SM=new(function(){function t(){var t=this;this.highlighted={},this.getDecorations=function(e){var n,r,i,o=0,a=0,s=bM,c=_M,u=e.getKey(),l=e.getText(),f=Array(l.length).fill(null),h=t.highlighted;if(h[u]={},!s(e))return Ln.default.List(f);var d=c(e)||"javascript";if(null==d)return Ln.default.List(f);var p=yM.a.languages[d],v=yM.a.tokenize(l,p);function g(t,e,n){if("string"!==typeof e){r="tok"+a,a+=1,i=u+"-"+r,h[u][r]=e,function(t,e,n,r){for(var i=e;i<n;i++)t[i]=r}(t,n,n+e.length,i);for(var o=n,s=0;s<e.content.length;s++){var c=e.content[s];g(t,c,o),o+=c.length}}}for(var m=0;m<v.length;m++)g(f,n=v[m],o),o+=n.length;return Ln.default.List(f)},this.getPropsForKey=function(e){var n=e.split("-"),r=n[0],i=n[1],o=t.highlighted[r][i];return{type:null==o?void 0:o.type}}}return t.prototype.getComponentForKey=function(){return wM},t}()),CM=n(1273),MM=n(159),OM=n(1265),kM=O.a.createElement("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},O.a.createElement("path",{d:"M460.8 563.2v307.2a102.4 102.4 0 0 1-102.4 102.4H153.6a102.4 102.4 0 0 1-102.4-102.4v-204.8a102.4 102.4 0 0 1 102.4-102.4h307.2z m409.6 0a102.4 102.4 0 0 1 102.4 102.4v204.8a102.4 102.4 0 0 1-102.4 102.4h-204.8a102.4 102.4 0 0 1-102.4-102.4v-307.2h307.2zM358.4 665.6H153.6v204.8h204.8v-204.8z m512 0h-204.8v204.8h204.8v-204.8zM358.4 51.2a102.4 102.4 0 0 1 102.4 102.4v307.2H153.6a102.4 102.4 0 0 1-102.4-102.4V153.6a102.4 102.4 0 0 1 102.4-102.4h204.8z m563.2 0a51.2 51.2 0 0 1 50.8416 45.2096L972.8 102.4v307.2a51.2 51.2 0 0 1-102.0416 5.9904L870.4 409.6V225.9456l-174.7968 174.848a51.2 51.2 0 1 1-72.3968-72.3968L797.952 153.6H614.4a51.2 51.2 0 0 1-50.8416-45.2096L563.2 102.4a51.2 51.2 0 0 1 45.2096-50.8416L614.4 51.2h307.2zM358.4 153.6H153.6v204.8h204.8V153.6z"}));function EM(t){return(EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var IM=["href"],jM=["className","ref","style"];function AM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function TM(t){var e=function(t,e){if("object"!=EM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EM(e)?e:e+""}function DM(t,e,n){return e=PM(e),function(t,e){if(e&&("object"===EM(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],PM(t).constructor):e.apply(t,n))}function PM(t){return(PM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LM(t,e){return(LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function NM(){return(NM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function RM(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BM(){var t,e=function(t){void 0===t&&(t={});var e=ht({isEdit:!0,isVisible:!1}),n=t.theme,r=void 0===n?Ft:n;return{initialize:function(t){var n=t.getProps,r=t.getReadOnly,i=t.getEditorState,o=t.setEditorState;e.updateItem("getProps",n),e.updateItem("getReadOnly",r),e.updateItem("getEditorState",i),e.updateItem("setEditorState",o)},decorator:Nt({store:e}),blockRendererFn:function(t,e){var n=e.getEditorState,r=e.setEditorState,i=t.getEntityAt(0),o=n().getCurrentContent();return{props:{alignment:(i?o.getEntity(i).getData():{}).alignment||"default",setAlignment:Ht(t,{getEditorState:n,setEditorState:r})}}},AlignmentTool:function(){return O.a.createElement(zt,{store:e,theme:r})}}}(),n=lt(),r=X(n.decorator,e.decorator),i=function(t){void 0===t&&(t={});var e=ht(),n=t.theme,r=void 0===n?$C:n,i=function(t){var e,n="left",r=t.getData().get("textAlignment");return r&&(n=r),(e=n).charAt(0).toUpperCase()+e.slice(1)};return{initialize:function(t){var n=t.getEditorState,r=t.setEditorState;e.updateItem("getEditorState",n),e.updateItem("setEditorState",r)},blockStyleFn:function(t,e){var n=e.getEditorState,o="draft"+i(t);if(!t.getText()){var a=n().getCurrentContent().getBlockBefore(t.getKey());a&&(o="draft"+i(a))}return r.alignmentStyles[o]},TextAlignment:function(t){return O.a.createElement(JC,qC({},t,{store:e,theme:qC({},t.theme,r)}))}}}(),o=function(){var t=ht();return{initialize:function(e){var n=e.getProps,r=e.getReadOnly,i=e.setEditorState,o=e.getEditorState;t.updateItem("getProps",n),t.updateItem("getReadOnly",r),t.updateItem("setEditorState",i),t.updateItem("getEditorState",o)},blockRendererFn:function(t,e){var n=e.getEditorState;if("atomic"===t.getType()){var r=n().getCurrentContent(),i=t.getEntityAt(0);if(!i)return null;var o=r.getEntity(i).getType();return"UploadPlaceholder"===o||"PLACEHOLDER"===o?{component:Uo,editable:!1,props:ao({},r.getEntity(i).getData())}:null}return null},handlePastedFiles:function(t,e){return Fo(t,e),"not-handled"},AttachmentButton:function(e){return O.a.createElement(No,ao({},e,{store:t}))},RecordButton:function(e){return O.a.createElement(Ho,ao({},e,{store:t,theme:ao({},e.theme,Wo)}))}}}(),a=function(t){void 0===t&&(t={});var e=t.theme?t.theme:pa,n=t.audioComponent||da;t.decorator&&(n=t.decorator(n));var r=function(t){return O.a.createElement(n,ia({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),i=e.get("data");if("AUDIO"===n||"audio"===n){var o=i.quote_id;return{component:r,editable:!1,props:{src:ua+"/cloud/file_url/"+o}}}return null}return null}}}(),s={handleBeforeInput:function(t,e,n,r){var i=r.getProps,o=r.setEditorState,a=i(),s=a.maxLength,c=a.sumLength,u=e.getCurrentContent(),l=e.getSelection();if(!l.isCollapsed()){var f=I.Modifier.replaceText(u,l,t),h=I.EditorState.push(e,f,"insert-characters");return o(I.EditorState.forceSelection(h,f.getSelectionAfter())),"handled"}return c&&c(e.getCurrentContent().getPlainText("").length),s&&e.getCurrentContent().getPlainText("").length>=s?"handled":"not-handled"},handlePastedText:function(t,e,n,r){var i=r.getProps,o=r.setEditorState,a=i(),s=a.maxLength,c=a.sumLength,u=n.getCurrentContent(),l=n.getSelection(),f=n.getCurrentContent().getPlainText("");if(!l.isCollapsed()){var h=I.Modifier.replaceText(u,l,t),d=I.EditorState.push(n,h,"insert-characters");if(d.getCurrentContent().getPlainText("").length<=s)return o(I.EditorState.forceSelection(d,h.getSelectionAfter())),"handled"}if(c&&c(n.getCurrentContent().getPlainText("").length),s&&f.length+t.length>=s){var p=I.Modifier.insertText(n.getCurrentContent(),n.getSelection(),t.substring(0,s-f.length)),v=I.EditorState.push(n,p,"insert-characters");return o(I.EditorState.forceSelection(v,p.getSelectionAfter())),"handled"}return"not-handled"}},c=function(t){void 0===t&&(t={});var e=t.theme?t.theme:ba,n=t.diskComponent||ya;t.decorator&&(n=t.decorator(n));var r=function(t){return O.a.createElement(n,va({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),i=e.get("data");if("DISK"===n||"disk"===n){var o=i.name,a=i.quote_id;return{component:r,editable:!1,props:{filename:o,src:_a+"/cloud/file_access/"+a,quote_id:a}}}return null}return null}}}(),u=function(t){void 0===t&&(t={});var e=t.theme?t.theme:Ea,n=t.imageComponent||ka;t.decorator&&(n=t.decorator(n));var r=function(t){return O.a.createElement(n,xa({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),i=e.get("src");return"IMAGE"===n||"image"===n?{component:r,editable:!1,props:{src:i}}:null}return null}}}({decorator:r}),l=function(t){void 0===t&&(t={});var e=t.theme?t.theme:Wa,n=t.htmlComponent||Ua;t.decorator&&(n=t.decorator(n));var r=function(t){return O.a.createElement(n,Fa({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),i=e.get("data");return"HTML"===n||"html"===n?{component:r,editable:!1,props:{src:i.htmlContent}}:null}return null}}}(),f=function(t){void 0===t&&(t={});var e=t,n=e.component,r=e.theme,i=void 0===r?Ka:r,o=e.target,a=void 0===o?"_self":o,s=e.rel,c=void 0===s?"noreferrer noopener":s;return{decorators:[{strategy:Xa,component:function(t){return O.a.createElement(Ga,Ya({},t,{theme:i,target:a,rel:c,component:n}))}}]}}({component:function(t){var e=t.href,n=RM(t,IM),r=x()(window,"Toolkits.onOpenWebview");return O.a.createElement("a",NM({},n,{href:"javascript:void(0)",onClick:function(){r&&r(e,"")}}))}}),h=function(t){void 0===t&&(t={});var e=ht({isVisible:!1}),n=t.theme,r=void 0===n?ic:n,i=function(t){var e=t.blockProps.teX;return O.a.createElement(Za.BlockMath,{math:String.raw(uc||(uc=rc(["",""])),e)})};return{initialize:function(t){var n=t.getReadOnly,r=t.getEditorState,i=t.setEditorState;e.updateItem("getReadOnly",n),e.updateItem("getEditorState",r),e.updateItem("setEditorState",i)},blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("mathjax"),r=e.get("teX");return n?{component:i,editable:!1,props:{teX:r}}:null}return null},decorators:[{strategy:vc,component:function(t){return O.a.createElement(pc,tc({},t,{store:e,theme:r}))}}],FormulaButton:function(t){return O.a.createElement(lc,tc({},t,{store:e}))},FormulaEdit:function(){return O.a.createElement(fc,{store:e,theme:r})}}}(),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ht(),n=t.theme?t.theme:bm,r=t.mindmapComponent||nm;t.decorator&&(r=t.decorator(r));var i=function(t){return O.a.createElement(r,_m({},t,{theme:n}))},o=function(t){return O.a.createElement(ym,_m({},t,{store:e}))};return{initialize:function(t){var n=t.getProps,r=t.getReadOnly,i=t.getEditorState,o=t.setEditorState;e.updateItem("getProps",n),e.updateItem("getReadOnly",r),e.updateItem("getEditorState",i),e.updateItem("setEditorState",o)},blockRendererFn:function(t,e){e.getEditorState;if("atomic"===t.getType()){var n=t.getData(),r=n.get("type"),o=n.get("data");return"MINDMAP"===r||"mindmap"===r?{component:i,editable:!1,props:{data:o}}:null}return null},MindmapButton:o}}(),p=function(t){void 0===t&&(t={});var e=ht(),n=t.theme,r=void 0===n?Ot:n;return{initialize:function(t){var n=t.getEditorState,r=t.setEditorState;e.updateItem("getEditorState",n),e.updateItem("setEditorState",r)},onChange:function(t){return e.updateItem("selection",t.getSelection()),t},Toolbar:function(t){return O.a.createElement(Ct,xt({},t,{store:e,theme:r}))}}}(),v=function(t){void 0===t&&(t={});var e=t.theme?t.theme:uM,n=t.videoComponent||gM;t.decorator&&(n=t.decorator(n));var r=function(t){return O.a.createElement(n,sM({},t,{theme:e}))};return{blockRendererFn:function(t){if("atomic"===t.getType()){var e=t.getData(),n=e.get("type"),i=e.get("data");return"VIDEO"===n||"video"===n?{component:r,editable:!1,props:{videoId:i.video_id}}:null}return null}}}(),g={decorators:[SM],blockStyleFn:function(t){switch(t.getType()){case"code-block":return xM}return null}},m=function(t){var e,n=t.theme?t.theme:Am,r=t.stickers,i=t.selectButtonContent?t.selectButtonContent:"\u263a",o=!1!==t.attachRemoveButton;return{blockRendererFn:(e=function(t){return O.a.createElement(km,wm({},t,{attachRemoveButton:o,stickers:r,theme:n}))},function(t,n){var r=n.getEditorState,i=n.setEditorState;if("sticker"===t.getType())return{component:e,props:{onRemove:function(t){i(Mm(r(),t))}}}}),onChange:Om,add:Cm,remove:Mm,blockRenderMap:Object(Ln.Map)({sticker:{element:"div"}}),StickerSelect:function(t){return O.a.createElement(jm,wm({},t,{selectButtonContent:i,stickers:r,theme:n}))}}}({stickers:null!==(t=window.xyDraftStickerSource)&&void 0!==t?t:Object(MM.a)()}),y=e.AlignmentTool,b=o.AttachmentButton,_=o.RecordButton;return{plugins:[e,o,a,s,c,n,u,f,h,d,m,i,p,v,g,l],AlignmentTool:y,AttachmentButton:b,FormulaButton:h.FormulaButton,FormulaEdit:h.FormulaEdit,RecordButton:_,StickerSelect:m.StickerSelect,Toolbar:p.Toolbar}}var zM=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=DM(this,e,[t])).focus=function(){n.refEditor&&n.refEditor.focus()},n.handleBlockEdit=function(t,e,r){var i=t.toJS(),o=i.type,a=i.data,s=void 0===a?{}:a,c=i.src;switch(o){case"IMAGE":if(y()(null===s||void 0===s?void 0:s.quote_id)){var u,l=(null!==(u=Object(MM.d)(c))&&void 0!==u?u:{}).quote_id;if(y()(l))return void console.warn("\u8fdb\u5165\u56fe\u50cf\u7f16\u8f91\u5931\u8d25\uff0c\u4e22\u5931\u56fe\u50cf\u8d44\u6e90id");s.id=l,s.name=l}n.setState({editImageVisible:!0,editImageInfo:s,editImageBlockCb:function(t){return r(t,e,"src")}});break;default:console.warn("unhandled block double click,",o)}},n.handleChangeImage=function(t){(0,n.state.editImageBlockCb)(t.src),n.setState({editImageVisible:!1})},n.handleOnChange=function(t){var e=n.props.onChange;l()(Object(I.convertToRaw)(t.getCurrentContent()),Object(I.convertToRaw)(n.state.editorState.getCurrentContent()))?n.setState({editorState:t}):(n.setState({editorState:t}),c()(e)&&e(t))},n.handleOnClick=function(t){t.preventDefault(),n.setState({advMode:!n.state.advMode})},n.InitPlugin=BM(),n.state={advMode:!1,editorState:y()(t.value)?I.EditorState.createEmpty():OM.a.autoConvertFormulas(Object(MM.b)(t.value)),value:y()(t.value)?void 0:n.props.value,editImageVisible:!1,editImageInfo:{},editImageBlockCb:_.a},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}(e,t),n=e,o=[{key:"getDerivedStateFromProps",value:function(t,e){return t.readOnly||void 0!==e.value||g()(t.value)||p()(t.value)?!t.readOnly||g()(t.value)||p()(t.value)||l()(t.value,e.value)?null:{editorState:h()(t.value,"_immutable")?t.value:Object(MM.b)(t.value),value:t.value}:{editorState:h()(t.value,"_immutable")?t.value:I.EditorState.moveSelectionToEnd(Object(MM.b)(t.value)),value:t.value}}}],(r=[{key:"IsEmpty",value:function(t){var e=this.props.onEmpty,n=t.getCurrentContent().getPlainText(),r=Object(I.convertToRaw)(t.getCurrentContent()).entityMap;y()(n)&&y()(r)?e(!0):e(!1)}},{key:"render",value:function(){var t=this,e=a()(this.props,["onChange"]),n=e.className,r=e.ref,o=e.style,s=RM(e,jM),c=this.state,u=c.advMode,l=c.editorState,f=this.InitPlugin,h=f.plugins,d=f.AlignmentTool,p=f.AttachmentButton,v=f.RecordButton,g=f.Toolbar;return this.IsEmpty(l),O.a.createElement("div",{className:C()("draft_editor",{draft_editor_fullscreen:u||s.noteMode},n),ref:r,style:o},O.a.createElement(G,NM({},s,{customStyleMap:NC,editorState:l,plugins:h,ref:function(e){return t.refEditor=e},onChange:this.handleOnChange,onBlockEditClick:this.handleBlockEdit,onWarnMessage:function(t){return i.a.fail(t)}})),O.a.createElement(d,null),O.a.createElement("div",{className:C()({hide:!s.noteMode&&!u})},O.a.createElement(g,null,(function(t){return O.a.createElement("div",null,!s.disableUpload&&O.a.createElement(O.a.Fragment,null,O.a.createElement(p,t),O.a.createElement(v,t),O.a.createElement(Mt,null)),O.a.createElement(XC,t),O.a.createElement(KC,t),O.a.createElement(ZC,t))}))),O.a.createElement("button",{className:C()({hide:s.readOnly||s.noteMode}),onClick:this.handleOnClick},kM),O.a.createElement(CM.a,{fileInfo:this.state.editImageInfo,visible:this.state.editImageVisible,onClose:function(){return t.setState({editImageVisible:!1})},onOk:this.handleChangeImage}))}}])&&AM(n.prototype,r),o&&AM(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(O.a.Component);zM.defaultProps={noteMode:!1,disableUpload:!1,readOnly:!1,value:void 0,onChange:_.a,onEmpty:_.a},zM.propTypes={noteMode:E.a.bool,readOnly:E.a.bool,disableUpload:E.a.bool,value:E.a.oneOfType([E.a.object,E.a.string]),onChange:E.a.func,onEmpty:E.a.func}},1210:function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},1211:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},1212:function(t,e,n){"use strict";(function(t){var r=n(1180),i=n(1279);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"===typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,s=a&&"object"==o(t)&&t&&!t.nodeType&&t,c=s&&s.exports===a?r.a.Buffer:void 0,u=(c?c.isBuffer:void 0)||i.a;e.a=u}).call(this,n(1211)(t))},1214:function(t,e,n){"use strict";var r=n(1186),i=n(1210),o=n(1184),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(t){return Object(o.a)(t)&&Object(i.a)(t.length)&&!!a[Object(r.a)(t)]};var c=function(t){return function(e){return t(e)}},u=n(1280),l=u.a&&u.a.isTypedArray,f=l?c(l):s;e.a=f},1215:function(t,e,n){var r=n(670),i=n(673);t.exports=function(t,e){return t&&r(t,i(e))}},1217:function(t,e,n){var r=n(114),i=n(353),o=n(93),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},1218:function(t,e,n){"use strict";n(343),n(1330)},1219:function(t,e){t.exports=function(){}},1220:function(t,e,n){var r=n(55),i=n(1348),o=n(358),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c,u,l,f,h,d,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=c,r=u;return c=u=void 0,p=e,f=t.apply(r,n)}function b(t){return p=t,h=setTimeout(w,e),v?y(t):f}function _(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-p>=l}function w(){var t=i();if(_(t))return x(t);h=setTimeout(w,function(t){var n=e-(t-d);return g?s(n,l-(t-p)):n}(t))}function x(t){return h=void 0,m&&c?y(t):(c=u=void 0,f)}function S(){var t=i(),n=_(t);if(c=arguments,u=this,d=t,n){if(void 0===h)return b(d);if(g)return clearTimeout(h),h=setTimeout(w,e),y(d)}return void 0===h&&(h=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=d=u=h=void 0},S.flush=function(){return void 0===h?f:x(i())},S}},1222:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,n=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,r=[],i=0;i<e;i++)r[i>>>2]|=t[i]<<24-i%4*8;n.call(this,r,e)}else n.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1223:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray,r=e.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return n.create(r,2*e)}},r.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var a=i(e[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o++)r[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return n.create(r,2*e)}}}(),t.enc.Utf16},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1224:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray;e.enc.Base64url={stringify:function(t,e){void 0===e&&(e=!0);var n=t.words,r=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<r;c++)o.push(i.charAt(s>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(t,e){void 0===e&&(e=!0);var r=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var c=t.indexOf(s);-1!==c&&(r=c)}return function(t,e,r){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,c=r[t.charCodeAt(a)]>>>6-a%4*2,u=s|c;i[o>>>2]|=u<<24-o%4*8,o++}return n.create(i,o)}(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),t.enc.Base64url},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1225:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.WordArray,r=e.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=i._createHelper(o),e.HmacSHA224=i._createHmacHelper(o)}(),t.SHA224},"object"===s(e)?t.exports=e=a(n(1170),n(1187)):(i=[n(1170),n(1187)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1226:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.x64,r=n.Word,i=n.WordArray,o=e.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),t.SHA384},"object"===s(e)?t.exports=e=a(n(1170),n(1183),n(1203)):(i=[n(1170),n(1183),n(1203)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1227:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.x64.Word,s=n.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,h=0;h<7;h++){if(1&i){var d=(1<<h)-1;d<32?f^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var t=0;t<25;t++)f[t]=a.create()}();var h=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(E=n[i]).high^=a,E.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,v=0;v<5;v++)d^=(E=n[h+5*v]).high,p^=E.low;var g=f[h];g.high=d,g.low=p}for(h=0;h<5;h++){var m=f[(h+4)%5],y=f[(h+1)%5],b=y.high,_=y.low;for(d=m.high^(b<<1|_>>>31),p=m.low^(_<<1|b>>>31),v=0;v<5;v++)(E=n[h+5*v]).high^=d,E.low^=p}for(var w=1;w<25;w++){var x=(E=n[w]).high,S=E.low,C=c[w];C<32?(d=x<<C|S>>>32-C,p=S<<C|x>>>32-C):(d=S<<C-32|x>>>64-C,p=x<<C-32|S>>>64-C);var M=f[u[w]];M.high=d,M.low=p}var O=f[0],k=n[0];for(O.high=k.high,O.low=k.low,h=0;h<5;h++)for(v=0;v<5;v++){var E=n[w=h+5*v],I=f[w],j=f[(h+1)%5+5*v],A=f[(h+2)%5+5*v];E.high=I.high^~j.high&A.high,E.low=I.low^~j.low&A.low}E=n[0];var T=l[s];E.high^=T.high,E.low^=T.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],h=f.high,d=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(h)}return new i.init(u,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});n.SHA3=o._createHelper(h),n.HmacSHA3=o._createHmacHelper(h)}(Math),t.SHA3},"object"===s(e)?t.exports=e=a(n(1170),n(1183)):(i=[n(1170),n(1183)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1228:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,_,w,x,S,C,M,O,k,E=this._hash.words,I=f.words,j=h.words,A=s.words,T=c.words,D=u.words,P=l.words;for(x=o=E[0],S=a=E[1],C=d=E[2],M=_=E[3],O=w=E[4],n=0;n<80;n+=1)k=o+t[e+A[n]]|0,k+=n<16?p(a,d,_)+I[0]:n<32?v(a,d,_)+I[1]:n<48?g(a,d,_)+I[2]:n<64?m(a,d,_)+I[3]:y(a,d,_)+I[4],k=(k=b(k|=0,D[n]))+w|0,o=w,w=_,_=b(d,10),d=a,a=k,k=x+t[e+T[n]]|0,k+=n<16?y(S,C,M)+j[0]:n<32?m(S,C,M)+j[1]:n<48?g(S,C,M)+j[2]:n<64?v(S,C,M)+j[3]:p(S,C,M)+j[4],k=(k=b(k|=0,P[n]))+O|0,x=O,O=M,M=b(C,10),C=S,S=k;k=E[1]+d+M|0,E[1]=E[2]+_+O|0,E[2]=E[3]+w+x|0,E[3]=E[4]+o+S|0,E[4]=E[0]+a+C|0,E[0]=k},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function v(t,e,n){return t&e|~t&n}function g(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function b(t,e){return t<<e|t>>>32-e}n.RIPEMD160=o._createHelper(d),n.HmacRIPEMD160=o._createHmacHelper(d)}(Math),t.RIPEMD160},"object"===s(e)?t.exports=e=a(n(1170)):(i=[n(1170)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1229:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,a=o.SHA256,s=o.HMAC,c=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:25e4}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=s.create(n.hasher,t),o=i.create(),a=i.create([1]),c=o.words,u=a.words,l=n.keySize,f=n.iterations;c.length<l;){var h=r.update(e).finalize(a);r.reset();for(var d=h.words,p=d.length,v=h,g=1;g<f;g++){v=r.finalize(v),r.reset();for(var m=v.words,y=0;y<p;y++)d[y]^=m[y]}o.concat(h),u[0]++}return o.sigBytes=4*l,o}});e.PBKDF2=function(t,e,n){return c.create(n).compute(t,e)}}(),t.PBKDF2},"object"===s(e)?t.exports=e=a(n(1170),n(1187),n(1188)):(i=[n(1170),n(1187),n(1188)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1230:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function n(t,e,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i,r),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);n.call(this,t,e,i,r),this._prevBlock=o}}),e}(),t.mode.CFB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1231:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}});return e.Decryptor=n,e}(),t.mode.CTR},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1232:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function n(t){if(255===(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var r=e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=n(t[0]))&&(t[1]=n(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)t[e+c]^=s[c]}});return e.Decryptor=r,e}(),t.mode.CTRGladman},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1233:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}});return e.Decryptor=n,e}(),t.mode.OFB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1234:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.mode.ECB},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1235:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1236:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.Iso10126={pad:function(e,n){var r=4*n,i=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1237:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1238:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},t.pad.ZeroPadding},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1239:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1240:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(e){var n=t,r=n.lib.CipherParams,i=n.enc.Hex;n.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return r.create({ciphertext:e})}}}(),t.format.Hex},"object"===s(e)?t.exports=e=a(n(1170),n(1172)):(i=[n(1170),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1241:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var v=t[n],g=t[v],m=t[g],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*m^65537*g^257*v^16843008*n,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=v^t[t[t[m^v]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=e[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^h[i[u>>>8&255]]^d[i[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,f,h,d,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],f=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<c;p++){var v=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&h]^n[d++],g=r[l>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&u]^n[d++],m=r[f>>>24]^i[h>>>16&255]^o[u>>>8&255]^a[255&l]^n[d++],y=r[h>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^n[d++];u=v,l=g,f=m,h=y}v=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[d++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^n[d++],m=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],y=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++],t[e]=v,t[e+1]=g,t[e+2]=m,t[e+3]=y},keySize:8});e.AES=n._createHelper(v)}(),t.AES},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1242:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function d(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}e.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=f.createEncryptor(r.create(e)),this._des2=f.createEncryptor(r.create(n)),this._des3=f.createEncryptor(r.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),t.TripleDES},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1243:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,i=r.RC4=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=e[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}e.RC4=n._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});e.RC4Drop=n._createHelper(a)}(),t.RC4},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1244:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.Rabbit=n.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=h,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=n._createHelper(s)}(),t.Rabbit},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1245:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.RabbitLegacy=n.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(r[0]^=u,r[1]^=f,r[2]^=l,r[3]^=h,r[4]^=u,r[5]^=f,r[6]^=l,r[7]^=h,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=n._createHelper(s)}(),t.RabbitLegacy},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1246:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],s={pbox:[],sbox:[]};function c(t,e){var n=e>>24&255,r=e>>16&255,i=e>>8&255,o=255&e,a=t.sbox[0][n]+t.sbox[1][r];return a^=t.sbox[2][i],a+=t.sbox[3][o]}function u(t,e,n){for(var r,o=e,a=n,s=0;s<i;++s)r=o^=t.pbox[s],o=a=c(t,o)^a,a=r;return r=o,o=a,a=r,a^=t.pbox[i],{left:o^=t.pbox[17],right:a}}var l=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4;!function(t,e,n){for(var r=0;r<4;r++){t.sbox[r]=[];for(var i=0;i<256;i++)t.sbox[r][i]=a[r][i]}for(var s=0,c=0;c<18;c++)t.pbox[c]=o[c]^e[s],++s>=n&&(s=0);for(var l=0,f=0,h=0,d=0;d<18;d+=2)l=(h=u(t,l,f)).left,f=h.right,t.pbox[d]=l,t.pbox[d+1]=f;for(var p=0;p<4;p++)for(var v=0;v<256;v+=2)l=(h=u(t,l,f)).left,f=h.right,t.sbox[p][v]=l,t.sbox[p][v+1]=f}(s,e,n)}},encryptBlock:function(t,e){var n=u(s,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},decryptBlock:function(t,e){var n=function(t,e,n){for(var r,i=e,o=n,a=17;a>1;--a)r=i^=t.pbox[a],i=o=c(t,i)^o,o=r;return r=i,i=o,o=r,o^=t.pbox[1],{left:i^=t.pbox[0],right:o}}(s,t[e],t[e+1]);t[e]=n.left,t[e+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=n._createHelper(l)}(),t.Blowfish},"object"===s(e)?t.exports=e=a(n(1170),n(1176),n(1177),n(1173),n(1172)):(i=[n(1170),n(1176),n(1177),n(1173),n(1172)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1247:function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==("undefined"===typeof t?"undefined":n(t))&&t&&t.Object===Object&&t;e.a=r}).call(this,n(53))},1249:function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},1250:function(t,e,n){"use strict";var r=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},i=n(1206),o=n(1179),a=n(1212),s=n(1195),c=n(1214),u=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(o.a)(t),l=!n&&Object(i.a)(t),f=!n&&!l&&Object(a.a)(t),h=!n&&!l&&!f&&Object(c.a)(t),d=n||l||f||h,p=d?r(t.length,String):[],v=p.length;for(var g in t)!e&&!u.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||Object(s.a)(g,v))||p.push(g);return p}},1251:function(t,e,n){(function(t){var n,r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,o=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=33)}([function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(t[r]=n[r]);return t}},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Array}},function(t,e,n){"use strict";var r=n(1),i=n(6),o=n(7);t.exports=function(t,e,n){r(t)?i(t,e,n):o(t,e,n)}},function(t,e,n){"use strict";t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";var r=n(22),i=n(2),o=n(6),a=n(7),s=n(37),c=0,u={getLength:function(t){var e=0;return a(t,(function(){e+=1})),e},map:function(t,e,n){var r=[];return i(t,(function(){r.push(e.apply(n||null,arguments))})),r},filter:function(t,e,n){var r=[];return o(t,(function(t){e.apply(n||null,arguments)&&r.push(t)})),r},generateId:function(){return c+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}};t.exports=u},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e,n){var i,o;if(n=n||0,!r(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(o=e.length,i=n;n>=0&&i<o;i+=1)if(e[i]===t)return i;return-1}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=0,i=t.length;for(n=n||null;r<i&&!1!==e.call(n,t[r],r,t);r+=1);}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}},function(t,e,n){"use strict";var r=n(39),i=n(13),o=n(41),a=n(3),s=n(9),c=n(19),u=n(4);function l(t,e){var n=u.generateId();t=t||{},a(e)&&(e=s.appendHTMLElement("div")),r(e,"tui-view-"+n),this.id=n,this.container=e,this.childs=new c((function(t){return t.id})),this.parent=null}l.prototype.addChild=function(t,e){e&&e.call(t,this),t.parent=this,this.childs.add(t)},l.prototype.removeChild=function(t,e){var n=o(t)?this.childs.items[t]:t;e&&e.call(n,this),this.childs.remove(n.id)},l.prototype.render=function(){this.childs.each((function(t){t.render()}))},l.prototype.recursive=function(t,e){i(t)&&(e||t(this),this.childs.each((function(e){e.recursive(t)})))},l.prototype.resize=function(){for(var t=Array.prototype.slice.call(arguments),e=this.parent;e;)i(e._onResize)&&e._onResize.apply(e,t),e=e.parent},l.prototype._beforeDestroy=function(){},l.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},l.prototype.destroy=function(t){this.childs&&(this.childs.each((function(t){t.destroy(!0),t._destroy()})),this.childs.clear()),t||this._destroy()},l.prototype.getViewBound=function(){var t=this.container.getBoundingClientRect();return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}},t.exports=l},function(t,e,n){"use strict";var r={appendHTMLElement:function(t,e,n){var r=document.createElement(t);return r.className=n||"",e?e.appendChild(r):document.body.appendChild(r),r}};t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n(20),o=n(11),a=n(21),s=n(1),c=n(13),u=n(2),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(t){r(t.prototype,f.prototype)},f.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},f.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},f.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},f.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(t){var e,n;i(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},f.prototype._forgetContext=function(t){var e,n;i(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},f.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},f.prototype.on=function(t,e,n){var r=this;o(t)?(t=t.split(l),u(t,(function(t){r._bindEvent(t,e,n)}))):a(t)&&(n=e,u(t,(function(t,e){r.on(e,t,n)})))},f.prototype.once=function(t,e,n){var r=this;if(a(t))return n=e,void u(t,(function(t,e){r.once(e,t,n)}));this.on(t,(function i(){e.apply(n,arguments),r.off(t,i,n)}),n)},f.prototype._spliceMatches=function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n;r+=1)!0===e(t[r])&&(t.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},f.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var i=t===r.handler,o=e===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(t,e){var n=this,r=c(e),i=n._matchHandler(e);t=t.split(l),u(t,(function(t){var e=n._safeEvent(t);r?n._spliceMatches(e,i):(u(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},f.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);u(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},f.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?u(t,(function(t,e){r.off(e,t)})):o(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):c(e)?(n=this._matchHandlerAndContext(e,t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},f.prototype.off=function(t,e){o(t)?this._offByEventName(t,e):arguments.length?c(t)?this._offByHandler(t):a(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},f.prototype.fire=function(t){this.invoke.apply(this,arguments)},f.prototype.invoke=function(t){var e,n,r,i;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(!1===(i=e[r]).handler.apply(i.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(t){return this.getListenerLength(t)>0},f.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=f},function(t,e,n){"use strict";t.exports=function(t){return"string"===typeof t||t instanceof String}},function(t,e,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(t,e){var n="",r=0;if((t+"").length>e)return t+"";for(;r<e-1;r+=1)n+="0";return(n+t).slice(-1*e)},isValidRGB:function(t){return r.test(t)},hexToRGB:function(t){return!!i.isValidRGB(t)&&(t=t.substring(1),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)])},rgbToHEX:function(t,e,n){var r="#"+i.leadingZero(t.toString(16),2)+i.leadingZero(e.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(r)&&r},rgbToHSV:function(t,e,n){var r,i,o,a,s,c;if(t/=255,e/=255,n/=255,s=r=Math.max(t,e,n),c=r-(i=Math.min(t,e,n)),a=0===r?0:c/r,r===i)o=0;else{switch(r){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*s)]},hsvToRGB:function(t,e,n){var r,i,o,a,s,c,u,l;if(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e)),n=Math.max(0,Math.min(100,n)),n/=100,0===(e/=100))return r=i=o=n,[Math.round(255*r),Math.round(255*i),Math.round(255*o)];switch(c=n*(1-e),u=n*(1-e*(s=(t/=60)-(a=Math.floor(t)))),l=n*(1-e*(1-s)),a){case 0:r=n,i=l,o=c;break;case 1:r=u,i=n,o=c;break;case 2:r=c,i=n,o=l;break;case 3:r=c,i=u,o=n;break;case 4:r=l,i=c,o=n;break;default:r=n,i=c,o=u}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}};t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Function}},function(t,e,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(t,e,n,r){function a(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),function(t,e,n,r){var a=o(t,e),s=!1;i(a,(function(t){return t.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(t,e,n,a)}t.exports=function(t,e,n,o){r(e)?i(e.split(/\s+/g),(function(e){a(t,e,n,o)})):i(e,(function(e,r){a(t,r,e,n)}))}},function(t,e,n){"use strict";t.exports=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){"use strict";t.exports=function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}},function(t,e,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(t,e,n){var r,a=o(t,e);n?(i(a,(function(i,o){return n!==i.handler||(s(t,e,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(t,e,n.wrappedHandler)})),a.splice(0,a.length))}function s(t,e,n){"removeEventListener"in t?t.removeEventListener(e,n):"detachEvent"in t&&t.detachEvent("on"+e,n)}t.exports=function(t,e,n){r(e)?i(e.split(/\s+/g),(function(e){a(t,e,n)})):i(e,(function(e,n){a(t,n,e)}))}},function(t,e,n){"use strict";var r=n(50);t.exports=function(t,e){var n=r(e.prototype);n.constructor=t,t.prototype=n}},function(t,e,n){"use strict";var r=n(6),i=n(7),o=n(0),a=n(1),s=n(20),c=n(13),u=n(21),l=n(4),f=Array.prototype.slice;function h(t){this.items={},this.length=0,c(t)&&(this.getItemID=t)}h.and=function(t){var e;return t=f.call(arguments),e=t.length,function(n){for(var r=0;r<e;r+=1)if(!t[r].call(null,n))return!1;return!0}},h.or=function(t){var e;return t=f.call(arguments),e=t.length,function(n){for(var r=1,i=t[0].call(null,n);r<e;r+=1)i=i||t[r].call(null,n);return i}},h.merge=function(t){var e={},n=new h(t.getItemID);return r(arguments,(function(t){o(e,t.items)})),n.items=e,n.length=l.getLength(n.items),n},h.prototype.getItemID=function(t){return t._id+""},h.prototype.add=function(t){var e,n;arguments.length>1?r(f.call(arguments),(function(t){this.add(t)}),this):(e=this.getItemID(t),(n=this.items)[e]||(this.length+=1),n[e]=t)},h.prototype.remove=function(t){var e,n,r=[];return this.length?arguments.length>1?r=l.map(f.call(arguments),(function(t){return this.remove(t)}),this):(e=this.items,u(t)&&(t=this.getItemID(t)),e[t]?(this.length-=1,n=e[t],delete e[t],n):r):r},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(t){var e,n;return!!this.length&&(e=c(t),n=!1,e?this.each((function(e){return!0!==t(e)||(n=!0,!1)})):(t=u(t)?this.getItemID(t):t,n=s(this.items[t])),n)},h.prototype.doWhenHas=function(t,e,n){var r=this.items[t];s(r)&&e.call(n||this,r)},h.prototype.find=function(t){var e=new h;return this.hasOwnProperty("getItemID")&&(e.getItemID=this.getItemID),this.each((function(n){!0===t(n)&&e.add(n)})),e},h.prototype.groupBy=function(t,e){var n,i,o={},s=c(t),u=this.getItemID;if(a(t)){if(r(t,(function(t){o[t+""]=new h(u)})),!e)return o;t=e,s=!0}return this.each((function(e){s?i=t(e):(i=e[t],c(i)&&(i=i.apply(e))),(n=o[i])||(n=o[i]=new h(u)),n.add(e)})),o},h.prototype.single=function(){var t;return this.each((function(e){return t=e,!1}),this),t},h.prototype.sort=function(t){var e=[];return this.each((function(t){e.push(t)})),c(t)&&(e=e.sort(t)),e},h.prototype.each=function(t,e){i(this.items,t,e||this)},h.prototype.toArray=function(){return this.length?l.map(this.items,(function(t){return t})):[]},t.exports=h},function(t,e,n){"use strict";var r=n(3),i=n(36);t.exports=function(t){return!r(t)&&!i(t)}},function(t,e,n){"use strict";t.exports=function(t){return t===Object(t)}},function(t,e,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!==typeof window&&window.navigator&&function(){var t,e,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,c=/Edge\/(\d+)\./,u={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},l={Microsoft_Internet_Explorer:function(){var t=o.match(a);t?(r.msie=!0,r.version=parseFloat(t[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(o))r.msie=!0,r.version=11,n=!0;else if(c.exec(o))r.edge=!0,r.version=o.match(c)[1],n=!0;else for(t in u)if(u.hasOwnProperty(t)&&(e=o.match(u[t]))&&e.length>1){r[t]=n=!0,r.version=parseFloat(e[1]||0);break}n||(r.others=!0)}};l[i]&&l[i]()}(),t.exports=r},function(t,e,n){"use strict";var r=n(3);t.exports=function(t){return t&&t.className?r(t.className.baseVal)?t.className:t.className.baseVal:""}},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(42),o=n(44),a=n(47),s=n(28),c=n(17),u=n(14),l=n(15),f=n(0);function h(t,e){u(e,"mousedown",this._onMouseDown,this),this.options=f({distance:10},t),this.container=e,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){c(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(t){var n=this.container;t?(i(n),u(window,"dragstart",l),u(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(o(n),c(window,"dragstart",l),c(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(t){return{target:s(t),originEvent:t}},h.prototype._onMouseDown=function(t){0===a(t)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(t),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(t){var e=this.options.distance;l(t),this._isMoved=!0,this._distance<e?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(t)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(t){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(t));this.fire("click",this._getEventData(t))},r.mixin(h),t.exports=h}).call(this,n(25))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===("undefined"===typeof window?"undefined":a(window))&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t,e){var n,r=t._feEventKey;return r||(r=t._feEventKey={}),(n=r[e])||(n=r[e]=[]),n}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=document.documentElement.style;for(e=0,n=t.length;e<n;e+=1)if(t[e]in r)return t[e];return!1}},function(t,e,n){"use strict";t.exports=function(t){return t.target||t.srcElement}},function(t,e,n){"use strict";var r=n(10),i=n(28),o=n(17),a=n(14),s=n(30),c=n(0),u=n(18),l=n(9),f=n(12),h=n(8),d=n(51);function p(t,e){this.options=c({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},t),e=l.appendHTMLElement("div",e,this.options.cssPrefix+"palette-container"),h.call(this,t,e)}u(p,h),p.prototype._onClick=function(t){var e=this.options,n=i(t),r={};if(s(n,e.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);s(n,e.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(t){var e=this.options,n=i(t),r={};s(n,e.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(t){var e,n=this.options,r=this.container,i=t?a:o;i(r,"click",this._onClick,this),(e=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&i(e,"change",this._onChange,this)},p.prototype.render=function(t){var e,n=this.options;this._toggleEvent(!1),e=d({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:t,isValidRGB:f.isValidRGB,getItemClass:function(t){return t?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(e){return e===t?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=e,this._toggleEvent(!0)},r.mixin(p),t.exports=p},function(t,e,n){"use strict";var r=n(5),i=n(23);t.exports=function(t,e){var n;return t.classList?t.classList.contains(e):(n=i(t).split(/\s+/),r(e,n)>-1)}},function(t,e,n){"use strict";var r=n(10),i=n(53),o=n(54),a=n(30),s=n(0),c=n(18),u=n(9),l=n(32),f=n(12),h=n(8),d=n(24),p=n(57);function v(t,e){(e=u.appendHTMLElement("div",e,t.cssPrefix+"slider-container")).style.display="none",h.call(this,t,e),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},t),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new d({distance:0},e),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}c(v,h),v.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},v.prototype.toggle=function(t){this.container.style.display=t?"block":"none"},v.prototype.isVisible=function(){return"block"===this.container.style.display},v.prototype.render=function(t){var e,n,r=this.container,i=this.options,o=p.layout;f.isValidRGB(t)&&(o=(o=(o=(o=o.replace(/{{slider}}/,p.slider)).replace(/{{huebar}}/,p.huebar)).replace(/{{cssPrefix}}/g,i.cssPrefix)).replace(/{{id}}/g,i.id),this.container.innerHTML=o,this.sliderSvgElement=r.querySelector("."+i.cssPrefix+"svg-slider"),this.huebarSvgElement=r.querySelector("."+i.cssPrefix+"svg-huebar"),this.sliderHandleElement=r.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+i.cssPrefix+"slider-basecolor"),e=f.hexToRGB(t),n=f.rgbToHSV.apply(null,e),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},v.prototype._setColorSliderPosMax=function(){var t=this.sliderSvgElement.getClientRects()[0];t&&(this.colorSliderPosLimitRange[1]=t.height-10)},v.prototype._moveColorSliderHandle=function(t,e,n){var r,i=this.sliderHandleElement;e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),l.setTranslateXY(i,t,e),r=e>50?"white":"black",l.setStrokeColor(i,r),n||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveSaturationAndValue=function(t,e,n){var r,i,o,a;t=t||0,e=e||0,r=Math.abs(this.colorSliderPosLimitRange[0]),o=t*(i=this.colorSliderPosLimitRange[1])/100-r,a=i-e*i/100-r,this._moveColorSliderHandle(o,a,n)},v.prototype._moveColorSliderByPosition=function(t,e){var n=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(t+n,e+n)},v.prototype.getSaturationAndValue=function(){var t=Math.abs(this.colorSliderPosLimitRange[0]),e=t+this.colorSliderPosLimitRange[1],n=l.getTranslateXY(this.sliderHandleElement);return[(n[1]+t)/e*100,100-(n[0]+t)/e*100]},v.prototype._setHueBarPosMax=function(){var t=this.huebarSvgElement.getClientRects()[0];t&&(this.huebarPosLimitRange[1]=t.height-7)},v.prototype._moveHueHandle=function(t,e){var n,r,i=this.huebarHandleElement,o=this.baseColorElement;t=Math.max(this.huebarPosLimitRange[0],t),t=Math.min(this.huebarPosLimitRange[1],t),l.setTranslateY(i,t),n=f.hsvToRGB(this.getHue(),100,100),r=f.rgbToHEX.apply(null,n),l.setGradientColorStop(o,r),e||this.fire("_selectColor",{color:f.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveHue=function(t,e){var n,r;n=((r=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(t=t||0)/359.99-r,this._moveHueHandle(n,e)},v.prototype._moveHueByPosition=function(t){var e=this.huebarPosLimitRange[0];this._moveHueHandle(t+e)},v.prototype.getHue=function(){var t,e,n=this.huebarHandleElement,r=l.getTranslateXY(n);return e=(t=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],359.99*(r[0]+t)/e},v.prototype.getHSV=function(){var t=this.getSaturationAndValue();return[this.getHue()].concat(t)},v.prototype.getRGB=function(){return f.hsvToRGB.apply(null,this.getHSV())},v.prototype._prepareColorSliderForMouseEvent=function(t){var e=this.options,n=o(t.target,"."+e.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:a(n,e.cssPrefix+"slider-left"),parentElement:n}},v.prototype._onClick=function(t){var e=this._prepareColorSliderForMouseEvent(t),n=i(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},v.prototype._onDragStart=function(t){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(t)},v.prototype._onDrag=function(t){var e=this._dragDataCache,n=i(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},v.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(v),t.exports=v},function(t,e,n){"use strict";var r=n(4).isOldBrowser,i=/[\.\-0-9]+/g,o={getTranslateXY:function(t){var e;return r?(e=t.style,[parseFloat(e.top),parseFloat(e.left)]):(e=t.getAttribute("transform"))?(e=e.match(i),[parseFloat(e[1]),parseFloat(e[0])]):[0,0]},setTranslateXY:function(t,e,n){r?(t.style.left=e+"px",t.style.top=n+"px"):t.setAttribute("transform","translate("+e+","+n+")")},setTranslateY:function(t,e){r?t.style.top=e+"px":t.setAttribute("transform","translate(-6,"+e+")")},setStrokeColor:function(t,e){r?t.strokecolor=e:t.setAttribute("stroke",e)},setGradientColorStop:function(t,e){r?t.color=e:t.setAttribute("stop-color",e)}};t.exports=o},function(t,e,n){n(34),t.exports=n(35)},function(t,e,n){},function(t,e,n){"use strict";var r={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return null===t}},function(t,e,n){"use strict";var r=n(3),i=n(38);t.exports=function(t,e){var n=location.hostname,o="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){var n=document.createElement("img"),i="";return r(e,(function(t,e){i+="&"+e+"="+t})),i=i.substring(1),n.src=t+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(23),a=n(40);t.exports=function(t){var e,n=Array.prototype.slice.call(arguments,1),s=t.classList,c=[];s?r(n,(function(e){t.classList.add(e)})):((e=o(t))&&(n=[].concat(e.split(/\s+/),n)),r(n,(function(t){i(t,c)<0&&c.push(t)})),a(t,c))}},function(t,e,n){"use strict";var r=n(1),i=n(3);t.exports=function(t,e){e=(e=r(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(t.className.baseVal)?t.className=e:t.className.baseVal=e}},function(t,e,n){"use strict";t.exports=function(t){return"number"===typeof t||t instanceof Number}},function(t,e,n){"use strict";var r=n(14),i=n(15),o=n(43),a=n(27),s="onselectstart"in document,c=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),s?r(t,"selectstart",i):(t=t===document?document.documentElement:t,o(t,"prevUserSelect",t.style[c]),t.style[c]="none")}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e,n){t.dataset?t.dataset[e]=n:t.setAttribute("data-"+r(e),n)}},function(t,e,n){"use strict";var r=n(17),i=n(15),o=n(45),a=n(46),s=n(27),c="onselectstart"in document,u=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),c?r(t,"selectstart",i):((t=t===document?document.documentElement:t).style[u]=o(t,"prevUserSelect")||"auto",a(t,"prevUserSelect"))}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){return t.dataset?t.dataset[e]:t.getAttribute("data-"+r(e))}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){t.dataset?delete t.dataset[e]:t.removeAttribute("data-"+r(e))}},function(t,e,n){"use strict";var r=n(22),i=n(5),o=["0","1","3","5","7"],a=["2","6"],s=["4"];t.exports=function(t){return r.msie&&r.version<=8?function(t){var e=String(t.button);return i(e,o)>-1?0:i(e,a)>-1?2:i(e,s)>-1?1:null}(t):t.button}},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(4),a=n(12),s=n(49),c=n(29),u=n(31),l=0;function f(t){var e;if(!(this instanceof f))return new f(t);if(!(t=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:l+=1,usageStatistics:!0},t)).container)throw new Error("ColorPicker(): need container option.");e=this.layout=new s(t,t.container),this.palette=new c(t,e.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new u(t,e.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),e.addChild(this.palette),e.addChild(this.slider),this.render(t.color),t.usageStatistics&&o.sendHostName()}f.prototype._onSelectColorInPalette=function(t){var e=t.color,n=this.options;a.isValidRGB(e)||""===e?(this.fire("selectColor",{color:e,origin:"palette"}),n.color!==e&&(n.color=e,this.render(e))):this.render()},f.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},f.prototype._onSelectColorInSlider=function(t){var e=t.color,n=this.options;this.fire("selectColor",{color:e,origin:"slider"}),n.color!==e&&(n.color=e,this.palette.render(e))},f.prototype.setColor=function(t){if(!a.isValidRGB(t))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=t,this.render(t)},f.prototype.getColor=function(){return this.options.color},f.prototype.toggle=function(t){this.layout.container.style.display=t?"block":"none"},f.prototype.render=function(t){this.layout.render(t||this.options.color)},f.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(f),t.exports=f},function(t,e,n){"use strict";var r=n(0),i=n(18),o=n(9),a=n(8);function s(t,e){this.options=r({cssPrefix:"tui-colorpicker-"},t),e=o.appendHTMLElement("div",e,this.options.cssPrefix+"container"),a.call(this,t,e),this.render()}i(s,a),s.prototype.render=function(t){this.recursive((function(e){e.render(t)}),!0)},t.exports=s},function(t,e,n){"use strict";t.exports=function(t){function e(){}return e.prototype=t,new e}},function(t,e,n){"use strict";var r=n(52);t.exports=function(t){var e=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(e,t)}},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(1),a=n(11),s=n(0),c=/{{\s?|\s?}}/g,u=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,l=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,d=/^["']\w+["']$/,p=/"|'/g,v=/^-?\d+\.?\d*$/,g={if:function(t,e,n){var r=function(t,e){var n=[t],r=[],o=0,a=0;return i(e,(function(t,i){0===t.indexOf("if")?o+=1:"/if"===t?o-=1:o||0!==t.indexOf("elseif")&&"else"!==t||(n.push("else"===t?["true"]:t.split(" ").slice(1)),r.push(e.slice(a,i)),a=i+1)})),r.push(e.slice(a)),{exps:n,sourcesInsideIf:r}}(t,e),o=!1,a="";return i(r.exps,(function(t,e){return(o=_(t,n))&&(a=w(r.sourcesInsideIf[e],n)),!o})),a},each:function(t,e,n){var r=_(t,n),a=o(r)?"@index":"@key",c={},u="";return i(r,(function(t,r){c[a]=r,c["@this"]=t,s(n,c),u+=w(e.slice(),n)})),u},with:function(t,e,n){var i=r("as",t),o=t[i+1],a=_(t.slice(0,i),n),c={};return c[o]=a,w(e,s(n,c))||""}},m=3==="a".split(/a/).length?function(t,e){return t.split(e)}:function(t,e){var n,r,i=[],o=0;for(e.global||(e=new RegExp(e,"g")),n=e.exec(t);null!==n;)r=n.index,i.push(t.slice(o,r)),o=r+n[0].length,n=e.exec(t);return i.push(t.slice(o)),i};function y(t,e){var n,r=e[t];return"true"===t?r=!0:"false"===t?r=!1:d.test(t)?r=t.replace(p,""):u.test(t)?r=y((n=t.split(l))[0],e)[y(n[1],e)]:f.test(t)?r=y((n=t.split(h))[0],e)[n[1]]:v.test(t)&&(r=parseFloat(t)),r}function b(t,e,n){for(var r,i=g[t],o=1,s=2,c=e[s];o&&a(c);)0===c.indexOf(t)?o+=1:0===c.indexOf("/"+t)&&(o-=1,r=s),c=e[s+=2];if(o)throw Error(t+" needs {{/"+t+"}} expression.");return e[0]=i(e[0].split(" ").slice(1),function(t,e,n){var r=t.splice(e+1,n-e);return r.pop(),r}(e,0,r),n),e}function _(t,e){var n=y(t[0],e);return n instanceof Function?function(t,e,n){var r=[];return i(e,(function(t){r.push(y(t,n))})),t.apply(null,r)}(n,t.slice(1),e):n}function w(t,e){for(var n,r,i,o=1,s=t[o];a(s);)r=(n=s.split(" "))[0],g[r]?(i=b(r,t.splice(o,t.length-o),e),t=t.concat(i)):t[o]=_(n,e),s=t[o+=2];return t.join("")}t.exports=function(t,e){return w(m(t,c),e)}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){var n,i=r(t),o=i?t[0]:t.clientX,a=i?t[1]:t.clientY;return e?[o-(n=e.getBoundingClientRect()).left-e.clientLeft,a-n.top-e.clientTop]:[o,a]}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t,e){var n=t.parentNode;if(r(t,e))return t;for(;n&&n!==document;){if(r(n,e))return n;n=n.parentNode}return null}},function(t,e,n){"use strict";var r=n(5),i=n(56),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return r(this,i(e.querySelectorAll(t)))>-1};t.exports=function(t,e){return a.call(t,e)}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],r(t,(function(t){e.push(t)}))}return e}},function(t,e,n){"use strict";(function(e){var r=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),o=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),c=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&e.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.exports={layout:i,slider:r?a:o,huebar:r?c:s}}).call(this,n(25))}])},"object"===a(e)&&"object"===a(t)?t.exports=o():(r=[],void 0===(i="function"===typeof(n=o)?n.apply(e,r):n)||(t.exports=i))}).call(this,n(157)(t))},1252:function(t,e,n){(function(t){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,a=function(t,e){return i={},n.m=r=[function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(1);function o(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getStartKey(),i=e.getEndKey(),o=n.getBlockMap();return o.toSeq().skipUntil((function(t,e){return e===r})).takeUntil((function(t,e){return e===i})).concat([[i,o.get(i)]])}function a(t){return o(t).toList()}function c(t){if(t)return a(t).get(0)}function u(t){if(t){var e=c(t),n=t.getCurrentContent().getBlockMap().toSeq().toList(),r=0;if(n.forEach((function(t,n){t.get("key")===e.get("key")&&(r=n-1)})),-1<r)return n.get(r)}}function l(t){return t?t.getCurrentContent().getBlockMap().toList():new i.List}function f(t){var e=a(t);if(!e.some((function(t){return t.type!==e.get(0).type})))return e.get(0).type}function h(t){var e=r.RichUtils.tryToRemoveBlockStyle(t);return e?r.EditorState.push(t,e,"change-block-type"):t}function d(t){var e="",n=t.getSelection(),r=n.getAnchorOffset(),i=n.getFocusOffset(),o=a(t);if(0<o.size){if(n.getIsBackward()){var s=r;r=i,i=s}for(var c=0;c<o.size;c+=1){var u=0===c?r:0,l=c===o.size-1?i:o.get(c).getText().length;e+=o.get(c).getText().slice(u,l)}}return e}function p(t){var e=t.getCurrentContent(),n=t.getSelection(),i=r.Modifier.removeRange(e,n,"forward"),o=i.getSelectionAfter(),a=i.getBlockForKey(o.getStartKey());return i=r.Modifier.insertText(i,o,"\n",a.getInlineStyleAt(o.getStartOffset()),null),r.EditorState.push(t,i,"insert-fragment")}function v(t){var e=r.Modifier.splitBlock(t.getCurrentContent(),t.getSelection());return h(r.EditorState.push(t,e,"split-block"))}function g(t){var e=t.getCurrentContent().getBlockMap().toList(),n=t.getSelection().merge({anchorKey:e.first().get("key"),anchorOffset:0,focusKey:e.last().get("key"),focusOffset:e.last().getLength()}),i=r.Modifier.removeRange(t.getCurrentContent(),n,"forward");return r.EditorState.push(t,i,"remove-range")}function m(t,e){var n=r.Modifier.setBlockData(t.getCurrentContent(),t.getSelection(),e);return r.EditorState.push(t,n,"change-block-data")}function y(t){var e=new i.Map({}),n=a(t);if(n&&0<n.size)for(var r=function(t){var r=n.get(t).getData();if(!r||0===r.size)return e=e.clear(),"break";if(0===t)e=r;else if(e.forEach((function(t,n){r.get(n)&&r.get(n)===t||(e=e.delete(n))})),0===e.size)return e=e.clear(),"break"},o=0;o<n.size&&"break"!==r(o);o+=1);return e}var b=Object(i.Map)({code:{element:"pre"}}),_=r.DefaultDraftBlockRenderMap.merge(b);function w(t){if(t){var e=t.getType();return"unordered-list-item"===e||"ordered-list-item"===e}return!1}function x(t,e,n){var i,a=t.getSelection();i=a.getIsBackward()?a.getFocusKey():a.getAnchorKey();var s=t.getCurrentContent(),c=s.getBlockForKey(i),u=c.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;var l=s.getBlockBefore(i);if(!l)return t;if(l.getType()!==u)return t;var f=c.getDepth();if(1===e&&f===n)return t;var h,d,p,v,g,m,y,b=Math.min(l.getDepth()+1,n),_=(d=e,p=b,v=(h=t).getSelection(),m=(g=h.getCurrentContent()).getBlockMap(),y=o(h).map((function(t){var e=t.getDepth()+d;return e=Math.max(0,Math.min(e,p)),t.set("depth",e)})),m=m.merge(y),g.merge({blockMap:m,selectionBefore:v,selectionAfter:v}));return r.EditorState.push(t,_,"adjust-depth")}function S(t,e){var n;return 13===(n=e).which&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))?t.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(t):p(t):function(t){var e=t.getSelection();if(e.isCollapsed()){var n=t.getCurrentContent(),r=e.getStartKey(),i=n.getBlockForKey(r);if(!w(i)&&"unstyled"!==i.getType()&&i.getLength()===e.getStartOffset())return v(t);if(w(i)&&0===i.getLength()){var o=i.getDepth();if(0===o)return h(t);if(0<o)return x(t,-1,o)}}}(t)}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){return(O="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}function k(t){var e=t.getSelection();if(e.isCollapsed()){var n={},r=t.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(t){n[t]=0<=r.indexOf(t)})),n}var i=e.getStartOffset(),o=e.getEndOffset(),s=a(t);if(0<s.size){var c=function(){for(var t={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},e=0;e<s.size;e+=1){var n=0===e?i:0,r=e===s.size-1?o:s.get(e).getText().length;n===r&&0===n?(n=1,r=2):n===r&&--n;for(var a=function(n){var r=s.get(e).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(e){t[e]=t[e]&&r.get(e)===e}))},c=n;c<r;c+=1)a(c)}return{v:t}}();if("object"===O(c))return c.v}return{}}function E(t){var e,n=t.getSelection(),r=n.getStartOffset(),i=n.getEndOffset();r===i&&0===r?i=1:r===i&&--r;for(var o=c(t),a=r;a<i;a+=1){var s=o.getEntityAt(a);if(!s){e=void 0;break}if(a===r)e=s;else if(e!==s){e=void 0;break}}return e}function I(t,e){var n,r=c(t);return r.findEntityRanges((function(t){return t.get("entity")===e}),(function(t,e){n={start:t,end:e,text:r.get("text").slice(t,e)}})),n}function j(t,e,n){T[t]["".concat(t.toLowerCase(),"-").concat(n)]=M({},"".concat(e),n)}function A(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},T.color,{},T.bgcolor,{},T.fontSize,{},T.fontFamily,{CODE:T.CODE,SUPERSCRIPT:T.SUPERSCRIPT,SUBSCRIPT:T.SUBSCRIPT})}var T={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}};function D(t,e,n){var i=t.getSelection(),o=Object.keys(T[e]).reduce((function(t,e){return r.Modifier.removeInlineStyle(t,i,e)}),t.getCurrentContent()),a=r.EditorState.push(t,o,"changeinline-style"),s=t.getCurrentInlineStyle();if(i.isCollapsed()&&(a=s.reduce((function(t,e){return r.RichUtils.toggleInlineStyle(t,e)}),a)),"SUPERSCRIPT"===e||"SUBSCRIPT"==e)s.has(n)||(a=r.RichUtils.toggleInlineStyle(a,n));else{var c="bgcolor"===e?"backgroundColor":e;s.has("".concat(c,"-").concat(n))||(a=r.RichUtils.toggleInlineStyle(a,"".concat(e.toLowerCase(),"-").concat(n)),j(e,c,n))}return a}function P(t){t&&t.getCurrentContent().getBlockMap().map((function(t){return t.get("characterList")})).toList().flatten().forEach((function(t){t&&0===t.indexOf("color-")?j("color","color",t.substr(6)):t&&0===t.indexOf("bgcolor-")?j("bgcolor","backgroundColor",t.substr(8)):t&&0===t.indexOf("fontsize-")?j("fontSize","fontSize",+t.substr(9)):t&&0===t.indexOf("fontfamily-")&&j("fontFamily","fontFamily",t.substr(11))}))}function L(t,e,n){var r=t.getInlineStyleAt(n).toList().filter((function(t){return t.startsWith(e.toLowerCase())}));if(r&&0<r.size)return r.get(0)}function N(t,e){if(t&&e&&0<e.length){var n=function(){var n=t.getSelection(),r={};if(n.isCollapsed())return e.forEach((function(e){r[e]=function(t,e){var n=t.getCurrentInlineStyle().toList().filter((function(t){return t.startsWith(e.toLowerCase())}));if(n&&0<n.size)return n.get(0)}(t,e)})),{v:r};var i=n.getStartOffset(),o=n.getEndOffset(),s=a(t);if(0<s.size){for(var c=function(t){var n=0===t?i:0,a=t===s.size-1?o:s.get(t).getText().length;n===a&&0===n?(n=1,a=2):n===a&&--n;for(var c=function(i){i===n?e.forEach((function(e){r[e]=L(s.get(t),e,i)})):e.forEach((function(e){r[e]&&r[e]!==L(s.get(t),e,i)&&(r[e]=void 0)}))},u=n;u<a;u+=1)c(u)},u=0;u<s.size;u+=1)c(u);return{v:r}}}();if("object"===O(n))return n.v}return{}}function R(t){var e=t.getCurrentInlineStyle(),n=t.getCurrentContent();return e.forEach((function(e){n=r.Modifier.removeInlineStyle(n,t.getSelection(),e)})),r.EditorState.push(t,n,"change-inline-style")}n.d(e,"isListBlock",(function(){return w})),n.d(e,"changeDepth",(function(){return x})),n.d(e,"handleNewLine",(function(){return S})),n.d(e,"getEntityRange",(function(){return I})),n.d(e,"getCustomStyleMap",(function(){return A})),n.d(e,"toggleCustomInlineStyle",(function(){return D})),n.d(e,"getSelectionEntity",(function(){return E})),n.d(e,"extractInlineStyle",(function(){return P})),n.d(e,"removeAllInlineStyles",(function(){return R})),n.d(e,"getSelectionInlineStyle",(function(){return k})),n.d(e,"getSelectionCustomInlineStyle",(function(){return N})),n.d(e,"getSelectedBlocksMap",(function(){return o})),n.d(e,"getSelectedBlocksList",(function(){return a})),n.d(e,"getSelectedBlock",(function(){return c})),n.d(e,"getBlockBeforeSelectedBlock",(function(){return u})),n.d(e,"getAllBlocks",(function(){return l})),n.d(e,"getSelectedBlocksType",(function(){return f})),n.d(e,"removeSelectedBlocksStyle",(function(){return h})),n.d(e,"getSelectionText",(function(){return d})),n.d(e,"addLineBreakRemovingSelection",(function(){return p})),n.d(e,"insertNewUnstyledBlock",(function(){return v})),n.d(e,"clearEditorContent",(function(){return g})),n.d(e,"setBlockData",(function(){return m})),n.d(e,"getSelectedBlocksMetadata",(function(){return y})),n.d(e,"blockRenderMap",(function(){return _}))}],n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==s(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2);function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r,i},"object"==s(e)&&"object"==s(t)?t.exports=a(n(20),n(4)):(i=[n(20),n(4)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))}).call(this,n(157)(t))},1253:function(t,e,n){"use strict";t.exports=n(1296)},1256:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};e.getComponentLocale=function(t,e,n,r){var i={};if(e&&e.antLocale&&e.antLocale[n])i=e.antLocale[n];else{var a=r();i=a.default||a}var s=(0,o.default)({},i);t.locale&&(s=(0,o.default)({},s,t.locale),t.locale.lang&&(s.lang=(0,o.default)({},i.lang,t.locale.lang)));return s},e.getLocaleCode=function(t){var e=t.antLocale&&t.antLocale.locale;if(t.antLocale&&t.antLocale.exist&&!e)return"zh-cn";return e}},1257:function(t,e,n){"use strict";var r=function(){};t.exports=r},1258:function(t,e,n){var r=n(351);t.exports=function(t,e){return r(t,e)}},1262:function(t,e,n){var r=n(186),i=n(675),o=n(1267),a=n(211),s=n(212),c=n(1285),u=n(672),l=n(668),f=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=a(e,t),u||(u=e.length>1),e})),s(t,l(t),n),u&&(n=i(n,7,c));for(var f=e.length;f--;)o(n,e[f]);return n}));t.exports=f},1263:function(t,e,n){"use strict";n(662),n(1331)},1264:function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(3)),i=o(n(1363));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},1265:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(1189),i=n(20);function o(t,e){void 0===e&&(e="\r\n");var n=[],r=t.getCurrentContent();return r.getBlocksAsArray().forEach((function(t){n.push(function(t,e){if("atomic"===e.getType()){var n=e.getData().get("type"),r=a[n];return r||"["+n+"]"}var o=[];e.findEntityRanges((function(e){var n=e.getEntity();return null!==n&&"INLINETEX"===t.getEntity(n).getType()}),(function(t,n){var r=e.getEntityAt(t);o.push({key:r,start:t,end:n})}));var s=e.getText();o.length>0&&(o=o.reverse()).forEach((function(t){try{var e=i.Entity.get(t.key).getData().teX;e&&e.length>0&&(s=s.substring(0,t.start)+"$$ "+e+" $$"+s.substring(t.end))}catch(n){}}));return s}(r,t))})),n.filter((function(t){return t.length>0})).join(e)}var a={IMAGE:"\ud83d\udcf7",AUDIO:"\ud83c\udfb5",VIDEO:"\ud83c\udfa5",DISK:"\ud83d\udcce"};function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){for(var e,n=[],r=/\$\$(.+?)\$\$/g;null!==(e=r.exec(t));)n.push({start:e.index,end:e.index+e[0].length,text:e[1]});return n}var l="INSERT",f="REPLACE";function h(t,e,n,r,o,a){void 0===e&&(e=l),void 0===r&&(r=""),void 0===o&&(o=0),void 0===a&&(a=0);var s,c=t.getCurrentContent(),u=t.getSelection(),h=0,d=0,p=c.createEntity("INLINETEX","IMMUTABLE",{teX:""+n}).getLastCreatedEntityKey();switch(e){case l:var v=i.Modifier.removeRange(c,u,"backward"),g=v.getSelectionAfter();s=i.Modifier.insertText(v,g," ",void 0,p),h=g.getAnchorOffset(),d=c.getBlockForKey(g.getAnchorKey()).getLength();break;case f:var m=i.SelectionState.createEmpty(r).merge({anchorOffset:o,focusOffset:a});s=i.Modifier.replaceText(c,m,""===n?"":" ",c.getBlockForKey(r).getInlineStyleAt(o),""===n?void 0:p),h=a,d=c.getBlockForKey(m.getAnchorKey()).getLength();break;default:throw new Error('Unidentified value of "mode"')}h===d&&(s=i.Modifier.insertText(s,s.getSelectionAfter()," ")),0===h&&0===d&&(s=i.Modifier.insertText(s,u," "));var y=i.EditorState.push(t,s,"apply-entity");return i.EditorState.forceSelection(y,s.getSelectionAfter())}var d={toPlainText:o,isEditorState:function(t){try{if(t&&t.getImmutable&&"function"===typeof t.getImmutable){var e=t.getImmutable();if(e&&"function"===typeof e.toJS)return!0}}catch(n){return!1}return!1},toJson:function(t){return JSON.stringify(Object(i.convertToRaw)(t.getCurrentContent()))},hasValuableContent:function(t){if(o(t).trim().length>0)return!0;for(var e,n=t.getCurrentContent(),a=c(n.getBlocksAsArray());!(e=a()).done;){var s=e.value;if(s.type&&"atomic"===s.type)return!0}var u=Object(i.convertToRaw)(n);return Object(r.a)(null==u?void 0:u.entityMap).length>0},findFormulas:u,addFormula:h,autoConvertFormulas:function(t){var e=t;return t.getCurrentContent().getBlocksAsArray().forEach((function(t){if("atomic"===t.getType());else{var n=t.getKey(),r=u(t.getText());if(r.length>0)for(var o=r.length-1;o>=0;o--){var a=r[o];e=h(e=i.EditorState.acceptSelection(e,new i.SelectionState({anchorKey:n,anchorOffset:a.start,focusKey:n,focusOffset:a.end,isBackward:!1})),l,a.text)}}})),e}}},1267:function(t,e,n){var r=n(211),i=n(1278),o=n(1284),a=n(189);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},1270:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){if(""===e||"application/octet-stream"===e)switch(t.split(".").pop().toLowerCase()){case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"ppt":return"application/vnd.ms-powerpoint";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";default:return}}},1272:function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function r(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}var s={exports:{}};!function(t){"undefined"!==typeof window&&function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),i=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,s,c,u,l,f,h,d;if(!(e=t.match(a)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),s=!!e[4],c=t.slice(e[0].length),u=s?atob(c):decodeURIComponent(c),l=new ArrayBuffer(u.length),f=new Uint8Array(l),h=0;h<u.length;h+=1)f[h]=u.charCodeAt(h);return r?new Blob([i?f:l],{type:n}):((d=new o).append(l),d.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,r){var i=this;setTimeout((function(){r&&n.toDataURL&&s?t(s(i.toDataURL(e,r))):t(i.mozGetAsFile("blob",e))}))}:n.toDataURL&&s&&(n.msToBlob?n.toBlob=function(t,e,r){var i=this;setTimeout((function(){(e&&"image/png"!==e||r)&&n.toDataURL&&s?t(s(i.toDataURL(e,r))):t(i.msToBlob(e))}))}:n.toBlob=function(t,e,n){var r=this;setTimeout((function(){t(s(r.toDataURL(e,n)))}))})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)}(s);var c=s.exports,u={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},l="undefined"!==typeof window&&"undefined"!==typeof window.document?window:{},f=function(t){return t>0&&t<1/0},h=Array.prototype.slice;function d(t){return Array.from?Array.from(t):h.call(t)}var p=/^image\/.+$/;function v(t){return p.test(t)}var g=String.fromCharCode,m=l.btoa;function y(t,e){for(var n=[],r=new Uint8Array(t);r.length>0;)n.push(g.apply(null,d(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(m(n.join("")))}function b(t){var e,n=new DataView(t);try{var r,i,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s+=1}if(i){var c=i+10;if("Exif"===function(t,e,n){var r,i="";for(n+=e,r=e;r<n;r+=1)i+=g(t.getUint8(r));return i}(n,i+4,4)){var u=n.getUint16(c);if(((r=18761===u)||19789===u)&&42===n.getUint16(c+2,r)){var l=n.getUint32(c+4,r);l>=8&&(o=c+l)}}}if(o){var f,h,d=n.getUint16(o,r);for(h=0;h<d;h+=1)if(f=o+12*h+2,274===n.getUint16(f,r)){f+=8,e=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(p){e=1}return e}var _=/\.\d*(?:0|9){12}\d*$/;function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return _.test(t)?Math.round(t*e)/e:t}function x(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=f(r),a=f(n);if(o&&a){var s=n*e;("contain"===i||"none"===i)&&s>r||"cover"===i&&s<r?n=r/e:r=n*e}else o?n=r/e:a&&(r=n*e);return{width:r,height:n}}var S=l.ArrayBuffer,C=l.FileReader,M=l.URL||l.webkitURL,O=/\.\w+$/,k=l.Compressor;return function(){function t(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=n,this.exif=[],this.image=new Image,this.options=e(e({},u),r),this.aborted=!1,this.result=null,this.init()}var r,o,a;return r=t,a=[{key:"noConflict",value:function(){return window.Compressor=k,t}},{key:"setDefaults",value:function(t){i(u,t)}}],(o=[{key:"init",value:function(){var t=this,e=this.file,n=this.options;if(r=e,"undefined"!==typeof Blob&&(r instanceof Blob||"[object Blob]"===Object.prototype.toString.call(r))){var r,o=e.type;if(v(o))if(M&&C){S||(n.checkOrientation=!1,n.retainExif=!1);var a="image/jpeg"===o,s=a&&n.checkOrientation,c=a&&n.retainExif;if(!M||s||c){var u=new C;this.reader=u,u.onload=function(n){var r=n.target.result,a={},u=1;s&&(u=b(r))>1&&i(a,function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(u)),c&&(t.exif=function(t){for(var e=d(new Uint8Array(t)),n=e.length,r=[],i=0;i+3<n;){var o=e[i],a=e[i+1];if(255===o&&218===a)break;if(255===o&&216===a)i+=2;else{var s=i+(256*e[i+2]+e[i+3])+2,c=e.slice(i,s);r.push(c),i=s}}return r.reduce((function(t,e){return 255===e[0]&&225===e[1]?t.concat(e):t}),[])}(r)),a.url=s||c?!M||u>1?y(r,o):M.createObjectURL(e):r,t.load(a)},u.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){t.reader=null},s||c?u.readAsArrayBuffer(e):u.readAsDataURL(e)}else this.load({url:M.createObjectURL(e)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var n=this,r=this.file,i=this.image;i.onload=function(){n.draw(e(e({},t),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){n.fail(new Error("Aborted to load the image."))},i.onerror=function(){n.fail(new Error("Failed to load the image."))},l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=r.name,i.src=t.url}},{key:"draw",value:function(t){var e=this,n=t.naturalWidth,r=t.naturalHeight,i=t.rotate,o=void 0===i?0:i,a=t.scaleX,s=void 0===a?1:a,u=t.scaleY,l=void 0===u?1:u,h=this.file,p=this.image,g=this.options,m=document.createElement("canvas"),b=m.getContext("2d"),_=Math.abs(o)%180===90,S=("contain"===g.resize||"cover"===g.resize)&&f(g.width)&&f(g.height),M=Math.max(g.maxWidth,0)||1/0,O=Math.max(g.maxHeight,0)||1/0,k=Math.max(g.minWidth,0)||0,E=Math.max(g.minHeight,0)||0,I=n/r,j=g.width,A=g.height;if(_){var T=[O,M];M=T[0],O=T[1];var D=[E,k];k=D[0],E=D[1];var P=[A,j];j=P[0],A=P[1]}S&&(I=j/A);var L=x({aspectRatio:I,width:M,height:O},"contain");M=L.width,O=L.height;var N=x({aspectRatio:I,width:k,height:E},"cover");if(k=N.width,E=N.height,S){var R=x({aspectRatio:I,width:j,height:A},g.resize);j=R.width,A=R.height}else{var B=x({aspectRatio:I,width:j,height:A}),z=B.width;j=void 0===z?n:z;var F=B.height;A=void 0===F?r:F}var H=-(j=Math.floor(w(Math.min(Math.max(j,k),M))))/2,U=-(A=Math.floor(w(Math.min(Math.max(A,E),O))))/2,W=j,Y=A,V=[];if(S){var G,X,K,Z,q=x({aspectRatio:I,width:n,height:r},{contain:"cover",cover:"contain"}[g.resize]);K=q.width,Z=q.height,G=(n-K)/2,X=(r-Z)/2,V.push(G,X,K,Z)}if(V.push(H,U,W,Y),_){var Q=[A,j];j=Q[0],A=Q[1]}m.width=j,m.height=A,v(g.mimeType)||(g.mimeType=h.type);var J="transparent";h.size>g.convertSize&&g.convertTypes.indexOf(g.mimeType)>=0&&(g.mimeType="image/jpeg");var $="image/jpeg"===g.mimeType;if($&&(J="#fff"),b.fillStyle=J,b.fillRect(0,0,j,A),g.beforeDraw&&g.beforeDraw.call(this,b,m),!this.aborted&&(b.save(),b.translate(j/2,A/2),b.rotate(o*Math.PI/180),b.scale(s,l),b.drawImage.apply(b,[p].concat(V)),b.restore(),g.drew&&g.drew.call(this,b,m),!this.aborted)){var tt=function(t){if(!e.aborted){var i=function(t){return e.done({naturalWidth:n,naturalHeight:r,result:t})};if(t&&$&&g.retainExif&&e.exif&&e.exif.length>0){var o=function(t){return i(c(y(function(t,e){var n=d(new Uint8Array(t));if(255!==n[2]||224!==n[3])return t;var r=256*n[4]+n[5],i=[255,216].concat(e,n.slice(4+r));return new Uint8Array(i)}(t,e.exif),g.mimeType)))};if(t.arrayBuffer)t.arrayBuffer().then(o).catch((function(){e.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}));else{var a=new C;e.reader=a,a.onload=function(t){var e=t.target;o(e.result)},a.onabort=function(){e.fail(new Error("Aborted to read the compressed image with FileReader."))},a.onerror=function(){e.fail(new Error("Failed to read the compressed image with FileReader."))},a.onloadend=function(){e.reader=null},a.readAsArrayBuffer(t)}}else i(t)}};m.toBlob?m.toBlob(tt,g.mimeType,g.quality):tt(c(m.toDataURL(g.mimeType,g.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,n=t.naturalHeight,r=t.result,i=this.file,o=this.image,a=this.options;if(M&&0===o.src.indexOf("blob:")&&M.revokeObjectURL(o.src),r)if(a.strict&&!a.retainExif&&r.size>i.size&&a.mimeType===i.type&&!(a.width>e||a.height>n||a.minWidth>e||a.minHeight>n||a.maxWidth<e||a.maxHeight<n))r=i;else{var s=new Date;r.lastModified=s.getTime(),r.lastModifiedDate=s,r.name=i.name,r.name&&r.type!==i.type&&(r.name=r.name.replace(O,function(t){var e=v(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}(r.type)))}else r=i;this.result=r,a.success&&a.success.call(this,r)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&n(r.prototype,o),a&&n(r,a),Object.defineProperty(r,"prototype",{writable:!1}),t}()},"object"===a(e)&&"undefined"!==typeof t?t.exports=o():void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},1273:function(t,e,n){"use strict";n.d(e,"a",(function(){return et}));n(1287),n(184);var r=n(99),i=n.n(r),o=n(1219),a=n.n(o),s=n(3),c=n.n(s),u=n(13),l=n.n(u),f=n(1288),h=n.n(f);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}function b(t,e,n){return e=_(e),function(t,e){if(e&&("object"===d(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],_(t).constructor):e.apply(t,n))}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){var t;g(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=b(this,e,[].concat(r))).rootEl=c.a.createRef(),t.imageEditorInst=null,t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.imageEditorInst=new h.a(this.rootEl.current,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props)),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(t){return this.bindEventHandlers(this.props,t),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(t,e){var n=this;Object.keys(t).filter(this.isEventHandlerKeys).forEach((function(r){var i=r[2].toLowerCase()+r.slice(3);e&&e[r]!==t[r]&&n.imageEditorInst.off(i),n.imageEditorInst.on(i,t[r])}))}},{key:"unbindEventHandlers",value:function(){var t=this;Object.keys(this.props).filter(this.isEventHandlerKeys).forEach((function(e){var n=e[2].toLowerCase()+e.slice(3);t.imageEditorInst.off(n)}))}},{key:"isEventHandlerKeys",value:function(t){return/on[A-Z][a-zA-Z]+/.test(t)}},{key:"render",value:function(){return c.a.createElement("div",{ref:this.rootEl})}}])&&m(n.prototype,r),i&&m(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(c.a.Component),S=(n(65),n(22)),C=n.n(S),M=n(160),O=n.n(M),k=n(9),E=n.n(k),I=n(265),j=n.n(I),A=n(352),T=n.n(A),D=n(1),P=n.n(D),L=n(2),N=n(1270);function R(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}var B=function(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){n.append(e,t.data[e])})),n.append(t.rename||"file",t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e){var n="cannot post ".concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method="post",r.url=t.action,r}(t,e),R(e));t.onSuccess(R(e),e)},e.open(t.method||"post",t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};for(var i in null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),r)r.hasOwnProperty(i)&&null!==r[i]&&e.setRequestHeader(i,r[i]);return e.send(n),{abort:function(){e.abort()}}},z=n(79);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){H=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:M(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(j([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=y.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==F(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function M(e,n,r){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(F(e)+" is not iterable")}return m.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function U(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}var W={"common.bisize.display":"none","header.display":"none","loadButton.display":"none","downloadButton.display":"none","menu.normalIcon.color":"#ccc","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#8a8a8a","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#ccc","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#858585","submenu.normalLabel.color":"#858585","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"1px solid #ccc","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter"},Y={ZoomIn:"\u653e\u5927",ZoomOut:"\u7f29\u5c0f",Hand:"\u624b\u638c",History:"\u5386\u53f2",Resize:"\u8c03\u6574\u5bbd\u9ad8",Crop:"\u88c1\u526a",DeleteAll:"\u5168\u90e8\u5220\u9664",Delete:"\u5220\u9664",Undo:"\u64a4\u9500",Redo:"\u53cd\u64a4\u9500",Reset:"\u91cd\u7f6e",Flip:"\u955c\u50cf",Rotate:"\u65cb\u8f6c",Draw:"\u753b",Shape:"\u5f62\u72b6\u6807\u6ce8",Icon:"\u56fe\u6807\u6807\u6ce8",Text:"\u6587\u5b57\u6807\u6ce8",Mask:"\u906e\u7f69",Filter:"\u6ee4\u955c",Bold:"\u52a0\u7c97",Italic:"\u659c\u4f53",Underline:"\u4e0b\u5212\u7ebf",Left:"\u5de6\u5bf9\u9f50",Center:"\u5c45\u4e2d",Right:"\u53f3\u5bf9\u9f50",Color:"\u989c\u8272","Text size":"\u5b57\u4f53\u5927\u5c0f",Custom:"\u81ea\u5b9a\u4e49",Square:"\u6b63\u65b9\u5f62",Apply:"\u5e94\u7528",Cancel:"\u53d6\u6d88","Flip X":"X \u8f74","Flip Y":"Y \u8f74",Range:"\u533a\u95f4",Stroke:"\u63cf\u8fb9",Fill:"\u586b\u5145",Circle:"\u5706",Triangle:"\u4e09\u89d2",Rectangle:"\u77e9\u5f62",Free:"\u66f2\u7ebf",Straight:"\u76f4\u7ebf",Arrow:"\u7bad\u5934","Arrow-2":"\u7bad\u59342","Arrow-3":"\u7bad\u59343","Star-1":"\u661f\u661f1","Star-2":"\u661f\u661f2",Polygon:"\u591a\u8fb9\u5f62",Location:"\u5b9a\u4f4d",Heart:"\u5fc3\u5f62",Bubble:"\u6c14\u6ce1","Custom icon":"\u81ea\u5b9a\u4e49\u56fe\u6807","Load Mask Image":"\u52a0\u8f7d\u8499\u5c42\u56fe\u7247",Grayscale:"\u7070\u5ea6",Blur:"\u6a21\u7cca",Sharpen:"\u9510\u5316",Emboss:"\u6d6e\u96d5","Remove White":"\u9664\u53bb\u767d\u8272",Distance:"\u8ddd\u79bb",Brightness:"\u4eae\u5ea6",Noise:"\u566a\u97f3","Color Filter":"\u5f69\u8272\u6ee4\u955c",Sepia:"\u68d5\u8272",Sepia2:"\u68d5\u82722",Invert:"\u8d1f\u7247",Pixelate:"\u50cf\u7d20\u5316",Threshold:"\u9608\u503c",Tint:"\u8272\u8c03",Multiply:"\u6b63\u7247\u53e0\u5e95",Blend:"\u6df7\u5408\u8272",Width:"\u5bbd\u5ea6",Height:"\u9ad8\u5ea6","Lock Aspect Ratio":"\u9501\u5b9a\u5bbd\u9ad8\u6bd4\u4f8b",Download:"\u4e0b\u8f7d\u56fe\u7247"};function V(t){return"".concat(L.d,"/cloud/file_access/").concat(t,"?random=").concat((new Date).getTime())}var G=function(){var t,e=(t=H().mark((function t(e,n,r){var i,o,a,s,c,u,l,f;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="rc-upload-".concat(+new Date),o="image_rec_".concat(P()().format("YYYYMMDD_HHmmss"),".png"),t.prev=2,t.next=5,Object(L.i)("".concat(L.d,"/cloud/bucket")).then((function(t){return t.data.aliyun_oss_host}));case 5:return a=t.sent,t.next=8,Object(L.j)("".concat(L.d,"/disk/files"),{uploadId:i,filename:o,file_size:e.size,is_statistics:n});case 8:null!==(s=t.sent)&&void 0!==s&&s.success?(c=s.data,c=T()(c.multipart,["x:id","x:user_id","key","OSSAccessKeyId","policy","signature","callback","x-oss-content-type"]),(u=Object(N.a)(o,e.type))&&j()(c,"x-oss-content-type",u),B({action:a,filename:o,file:e,data:c,onProgress:function(t){},onSuccess:r,onError:function(t,e){}})):70006===(null===s||void 0===s?void 0:s.code)&&(l=E()(s,"extra.total"),f=O()(l)?Object(z.b)(l,"B",1):"",C.a.fail("\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u5df2\u8d85\u4e0a\u9650".concat(f,"\uff0c\u8bf7\u5220\u9664\u65e0\u7528\u6587\u4ef6"))),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){U(o,r,i,a,s,"next",t)}function s(t){U(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}(),X=n(1192);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function Q(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}function J(t,e,n){return e=$(e),function(t,e){if(e&&("object"===K(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],$(t).constructor):e.apply(t,n))}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var et=function(t){function e(){var t;Z(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=J(this,e,[].concat(r))).state={showEditBar:!0},t.handleEditBarChange=function(){var e=t.state.showEditBar;t.setState({showEditBar:!e},(function(){e?document.querySelectorAll(".tui-image-editor-submenu").forEach((function(t){t.style.display="none"})):document.querySelectorAll(".tui-image-editor-submenu").forEach((function(t){t.style.display="grid"}))}))},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this,e=this.props,n=e.visible,r=e.onClose,o=e.onOk,a=e.fileInfo,s=e.watermark,u=void 0===s?null:s,l=e.isStatistics;return c.a.createElement(i.a,{className:"edit-image-modal",visible:n,footer:[{text:"\u4fdd\u5b58",onPress:function(){if(t.imgEditorRef){var e=t.imgEditorRef.imageEditorInst;e?function(t,e){var n=t.getCanvasSize(),r=n.width,i=void 0===r?0:r,o=n.height,a=void 0===o?0:o,s=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));if(!e)return new Promise((function(e){e(t)}));if(i&&a){var c=.02*s+10,u=null,l=null;return t.addShape("rect",{fill:"#FFA500",stroke:"",strokeWidth:2,width:100,height:c,left:i-50-4,top:c/2+2,isRegular:!1,opacity:.8}).then((function(n){return u=n.id,t.addText(e,{styles:{fill:"#fff",fontSize:.02*s,fontWeight:"bold",opacity:1},position:{x:i-100+4,y:c/4}})})).then((function(e){var n=e.width+15;return l=e.id,t.changeShape(u,{width:n},!0)})).then((function(e){var n=t.getObjectProperties(l,["width"]).width;return t.getObjectProperties(u,["height"]).height,t.setObjectPosition(l,{x:i-n-8,y:4})})).then((function(){var e=t.getObjectProperties(u,["width","height"]),n=e.width;return e.height,t.setObjectPosition(u,{x:i-n/2,y:c/2})})).then((function(){return t.addShape("rect",{fill:"transparent",stroke:"#FF4040",strokeWidth:2})})).finally((function(){t.discardSelection()}))}}(e,u).then((function(){var t=function(t){var e,n,r,i,o="";for(e=t.replace(/data:(image\/.+);base64,/,(function(t,e){return o=e,""})),i=(e=atob(e)).length,n=new Uint8Array(i),r=0;r<i;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:o})}(null===e||void 0===e?void 0:e.toDataURL());G(t,l,(function(t){if(t.success){var e=t.data,n=(void 0===e?{}:e).id;o({quote_id:n,src:V(n)})}})).then(null)})):console.warn("\u56fe\u7247\u7f16\u8f91\u5668\u51fa\u4e86\u70b9\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}}},{text:"\u53d6\u6d88",onPress:function(){return r()}}]},c.a.createElement(x,{includeUI:{loadImage:{path:V(a.quote_id||a.id),name:a.name||a.filename},menu:["crop","rotate","draw","shape","icon","text"],initMenu:"draw",menuBarPosition:"top",locale:Y,theme:W},cssMaxWidth:window.innerWidth-10,usageStatistics:!1,ref:function(e){return t.imgEditorRef=e}}),c.a.createElement("div",{className:"edit-bar-control",onClick:this.handleEditBarChange},c.a.createElement(X.a,{type:this.state.showEditBar?"icon-down1":"icon-up1"})))}}])&&q(n.prototype,r),o&&q(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(c.a.Component);et.defaultProps={visible:!1,isStatistics:!0,onClose:a.a,onOk:a.a,fileInfo:{}},et.propTypes={visible:l.a.bool,isStatistics:l.a.bool,onClose:l.a.func,onOk:l.a.func,fileInfo:l.a.object}},1275:function(t,e,n){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){return t},"object"===s(e)?t.exports=e=a(n(1170),n(1183),n(1222),n(1223),n(1176),n(1224),n(1177),n(1202),n(1187),n(1225),n(1203),n(1226),n(1227),n(1228),n(1188),n(1229),n(1173),n(1172),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246)):(i=[n(1170),n(1183),n(1222),n(1223),n(1176),n(1224),n(1177),n(1202),n(1187),n(1225),n(1203),n(1226),n(1227),n(1228),n(1188),n(1229),n(1173),n(1172),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},1276:function(t,e){},1278:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},1279:function(t,e,n){"use strict";e.a=function(){return!1}},1280:function(t,e,n){"use strict";(function(t){var r=n(1247);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"===typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,a=o&&"object"==i(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o&&r.a.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();e.a=c}).call(this,n(1211)(t))},1284:function(t,e,n){var r=n(213),i=n(667);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},1285:function(t,e,n){var r=n(1217);t.exports=function(t){return r(t)?void 0:t}},1286:function(t,e,n){},1287:function(t,e,n){},1288:function(t,e,n){(function(t,r,i){var o,a,s,c;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}self,c=function(e){return function(){var n={2777:function(e,n,r){var i,o=o||{version:"4.6.0"};if(n.fabric=o,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?o.document=document:o.document=document.implementation.createHTMLDocument(""),o.window=window;else{var a=new(r(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;o.document=a.document,o.jsdomImplForWrapper=r(6759).implForWrapper,o.nodeCanvas=r(6272).Canvas,o.window=a,DOMParser=o.window.DOMParser}function s(t,e){var n=t.canvas,r=e.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1);var o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}function c(t,e){var n=e.targetCanvas.getContext("2d"),r=e.destinationWidth,i=e.destinationHeight,o=r*i*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,r,i,t.RGBA,t.UNSIGNED_BYTE,a);var c=new ImageData(s,r,i);n.putImageData(c,0,0)}o.isTouchSupported="ontouchstart"in o.window||"ontouchstart"in o.document||o.window&&o.window.navigator&&o.window.navigator.maxTouchPoints>0,o.isLikelyNode="undefined"!==typeof t&&"undefined"===typeof window,o.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],o.DPI=96,o.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",o.commaWsp="(?:\\s+,?\\s*|,\\s*)",o.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,o.reNonWord=/[ \n\.,;!\?\-]/,o.fontPaths={},o.iMatrix=[1,0,0,1,0,0],o.svgNS="http://www.w3.org/2000/svg",o.perfLimitSizeTotal=2097152,o.maxCacheSideLimit=4096,o.minCacheSideLimit=256,o.charWidthsCache={},o.textureSize=2048,o.disableStyleCopyPaste=!1,o.enableGLFiltering=!0,o.devicePixelRatio=o.window.devicePixelRatio||o.window.webkitDevicePixelRatio||o.window.mozDevicePixelRatio||1,o.browserShadowBlurConstant=1,o.arcToSegmentsCache={},o.boundsOfCurveCache={},o.cachesBoundsOfCurve=!0,o.forceGLPutImageData=!1,o.initFilterBackend=function(){return o.enableGLFiltering&&o.isWebglSupported&&o.isWebglSupported(o.textureSize)?(console.log("max texture size: "+o.maxTextureSize),new o.WebglFilterBackend({tileSize:o.textureSize})):o.Canvas2dFilterBackend?new o.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=o),function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:o.util.array.fill(n,!1)}}function e(t,e){var n=function(){e.apply(this,arguments),this.off(t,n)}.bind(this);this.on(t,n)}o.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var n=this.__eventListeners[t];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,e||{});return this.__eventListeners[t]=n.filter((function(t){return!1!==t})),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,n){if(1===arguments.length)for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this},off:function(e,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===u(arguments[0]))for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this}}}(),o.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,n){var r=this._objects;return n?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(t=e.indexOf(arguments[r]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);return this},getObjects:function(t){return"undefined"===typeof t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"===typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},o.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof o.Gradient||this.set(e,new o.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof o.Pattern?n&&n():this.set(e,new o.Pattern(t,n))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===u(t)?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,n=Math.atan2,r=Math.pow,i=Math.PI/180,a=Math.PI/2;o.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/a){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*i},radiansToDegrees:function(t){return t/i},rotatePoint:function(t,e,n){var r=new o.Point(t.x-e.x,t.y-e.y),i=o.util.rotateVector(r,n);return new o.Point(i.x,i.y).addEquals(e)},rotateVector:function(t,e){var n=o.util.sin(e),r=o.util.cos(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}},transformPoint:function(t,e,n){return n?new o.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new o.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var n=0;n<t.length;n++)t[n]=o.util.transformPoint(t[n],e);var r=[t[0].x,t[1].x,t[2].x,t[3].x],i=o.util.array.min(r),a=o.util.array.max(r)-i,s=[t[0].y,t[1].y,t[2].y,t[3].y],c=o.util.array.min(s);return{left:i,top:c,width:a,height:o.util.array.max(s)-c}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=o.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=o.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*o.DPI/25.4;case"cm":return r*o.DPI/2.54;case"in":return r*o.DPI;case"pt":return r*o.DPI/72;case"pc":return r*o.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=o.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),o.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(e){if(!e)return o;var n,r=e.split("."),i=r.length,a=t||o.window;for(n=0;n<i;++n)a=a[r[n]];return a},loadImage:function(t,e,n,r){if(t){var i=o.util.createImage(),a=function(){e&&e.call(n,i,!1),i=i.onload=i.onerror=null};i.onload=a,i.onerror=function(){o.log("Error loading "+i.src),e&&e.call(n,null,!0),i=i.onload=i.onerror=null},0!==t.indexOf("data")&&void 0!==r&&null!==r&&(i.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(i.onload=null,o.util.loadImageInDom(i,a)),i.src=t}else e&&e.call(n,t)},loadImageInDom:function(t,e){var n=o.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(t),o.document.querySelector("body").appendChild(n),t.onload=function(){e(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(t,e,n,r){var i=[],a=0,s=(t=t||[]).length;function c(){++a===s&&e&&e(i.filter((function(t){return t})))}s?t.forEach((function(t,e){t&&t.type?o.util.getKlass(t.type,n).fromObject(t,(function(n,o){o||(i[e]=n),r&&r(t,n,o),c()})):c()})):e&&e(i)},enlivenPatterns:function(t,e){function n(){++i===a&&e&&e(r)}var r=[],i=0,a=(t=t||[]).length;a?t.forEach((function(t,e){t&&t.source?new o.Pattern(t,(function(t){r[e]=t,n()})):(r[e]=t,n())})):e&&e(r)},groupSVGElements:function(t,e,n){var r;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new o.Group(t,e),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in t&&(e[n[r]]=t[n[r]])},drawDashedLine:function(t,r,i,o,a,s){var c=o-r,u=a-i,l=e(c*c+u*u),f=n(u,c),h=s.length,d=0,p=!0;for(t.save(),t.translate(r,i),t.moveTo(0,0),t.rotate(f),r=0;l>r;)(r+=s[d++%h])>l&&(r=l),t[p?"lineTo":"moveTo"](r,0),p=!p;t.restore()},createCanvasElement:function(){return o.document.createElement("canvas")},copyCanvasElement:function(t){var e=o.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,n){return t.toDataURL("image/"+e,n)},createImage:function(){return o.document.createElement("img")},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var o=n(t[1],t[0]),a=r(t[0],2)+r(t[1],2),s=e(a),c=(t[0]*t[3]-t[2]*t[1])/s,u=n(t[0]*t[2]+t[1]*t[3],a);return{angle:o/i,scaleX:s,scaleY:c,skewX:u/i,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return o.iMatrix.concat();var e=o.util.degreesToRadians(t.angle),n=o.util.cos(e),r=o.util.sin(e);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(t){var e="undefined"===typeof t.scaleX?1:t.scaleX,n="undefined"===typeof t.scaleY?1:t.scaleY,r=[t.flipX?-e:e,0,0,t.flipY?-n:n,0,0],i=o.util.multiplyTransformMatrices,a=o.util.degreesToRadians;return t.skewX&&(r=i(r,[1,0,Math.tan(a(t.skewX)),1],!0)),t.skewY&&(r=i(r,[1,Math.tan(a(t.skewY)),0,1],!0)),r},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],n=o.util.multiplyTransformMatrices;return t.angle&&(e=n(e,o.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=n(e,o.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,n,r){r>0&&(e>r?e-=r:e=0,n>r?n-=r:n=0);var i,o=!0,a=t.getImageData(e,n,2*r||1,2*r||1),s=a.data.length;for(i=3;i<s&&!1!==(o=a.data[i]<=0);i+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",r=t.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(e=n,n="meet"):r.length&&(e=r.pop())),{meetOrSlice:n,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?o.charWidthsCache[t]&&delete o.charWidthsCache[t]:o.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),r=Math.floor(e/n);return{x:Math.floor(n),y:r}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return o.util.toFixed(t,o.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var n=o.util.invertTransform(e),r=o.util.multiplyTransformMatrices(n,t.calcOwnMatrix());o.util.applyTransformToObject(t,r)},addTransformToObject:function(t,e){o.util.applyTransformToObject(t,o.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var n=o.util.qrDecompose(e),r=new o.Point(n.translateX,n.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",n.scaleX),t.set("scaleY",n.scaleY),t.skewX=n.skewX,t.skewY=n.skewY,t.angle=n.angle,t.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(t,e,n){var r=t/2,i=e/2,a=[{x:-r,y:-i},{x:r,y:-i},{x:-r,y:i},{x:r,y:i}],s=o.util.calcDimensionsMatrix(n),c=o.util.makeBoundingBoxFromPoints(a,s);return{x:c.width,y:c.height}}}}(n),function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(t,e,n,r,i,a,s,c,u,l,f){var h=o.util.cos(t),d=o.util.sin(t),p=o.util.cos(e),v=o.util.sin(e),g=n*i*p-r*a*v+s,m=r*i*p+n*a*v+c;return["C",l+u*(-n*i*d-r*a*h),f+u*(-r*i*d+n*a*h),g+u*(n*i*v+r*a*p),m+u*(r*i*v-n*a*p),g,m]}function i(t,e,n,i,s,c,u){var l=Math.PI,f=u*l/180,h=o.util.sin(f),d=o.util.cos(f),p=0,v=0,g=-d*t*.5-h*e*.5,m=-d*e*.5+h*t*.5,y=(n=Math.abs(n))*n,b=(i=Math.abs(i))*i,_=m*m,w=g*g,x=y*b-y*_-b*w,S=0;if(x<0){var C=Math.sqrt(1-x/(y*b));n*=C,i*=C}else S=(s===c?-1:1)*Math.sqrt(x/(y*_+b*w));var M=S*n*m/i,O=-S*i*g/n,k=d*M-h*O+.5*t,E=h*M+d*O+.5*e,I=a(1,0,(g-M)/n,(m-O)/i),j=a((g-M)/n,(m-O)/i,(-g-M)/n,(-m-O)/i);0===c&&j>0?j-=2*l:1===c&&j<0&&(j+=2*l);for(var A=Math.ceil(Math.abs(j/l*2)),T=[],D=j/A,P=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),L=I+D,N=0;N<A;N++)T[N]=r(I,L,d,h,n,i,k,E,P,p,v),p=T[N][5],v=T[N][6],I=L,L+=D;return T}function a(t,e,n,r){var i=Math.atan2(e,t),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function s(e,n,r,i,a,s,c,u){var l;if(o.cachesBoundsOfCurve&&(l=t.call(arguments),o.boundsOfCurveCache[l]))return o.boundsOfCurveCache[l];var f,h,d,p,v,g,m,y,b=Math.sqrt,_=Math.min,w=Math.max,x=Math.abs,S=[],C=[[],[]];h=6*e-12*r+6*a,f=-3*e+9*r-9*a+3*c,d=3*r-3*e;for(var M=0;M<2;++M)if(M>0&&(h=6*n-12*i+6*s,f=-3*n+9*i-9*s+3*u,d=3*i-3*n),x(f)<1e-12){if(x(h)<1e-12)continue;0<(p=-d/h)&&p<1&&S.push(p)}else(m=h*h-4*d*f)<0||(0<(v=(-h+(y=b(m)))/(2*f))&&v<1&&S.push(v),0<(g=(-h-y)/(2*f))&&g<1&&S.push(g));for(var O,k,E,I=S.length,j=I;I--;)O=(E=1-(p=S[I]))*E*E*e+3*E*E*p*r+3*E*p*p*a+p*p*p*c,C[0][I]=O,k=E*E*E*n+3*E*E*p*i+3*E*p*p*s+p*p*p*u,C[1][I]=k;C[0][j]=e,C[1][j]=n,C[0][j+1]=c,C[1][j+1]=u;var A=[{x:_.apply(null,C[0]),y:_.apply(null,C[1])},{x:w.apply(null,C[0]),y:w.apply(null,C[1])}];return o.cachesBoundsOfCurve&&(o.boundsOfCurveCache[l]=A),A}function c(t,e,n){for(var r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=i(n[6]-t,n[7]-e,r,o,s,c,a),l=0,f=u.length;l<f;l++)u[l][1]+=t,u[l][2]+=e,u[l][3]+=t,u[l][4]+=e,u[l][5]+=t,u[l][6]+=e;return u}function u(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}function l(t,e,n,r,i,o,a,s){return function(c){var u,l=(u=c)*u*u,f=function(t){return 3*t*t*(1-t)}(c),h=function(t){return 3*t*(1-t)*(1-t)}(c),d=function(t){return(1-t)*(1-t)*(1-t)}(c);return{x:a*l+i*f+n*h+t*d,y:s*l+o*f+r*h+e*d}}}function f(t,e,n,r,i,o,a,s){return function(c){var u=1-c,l=3*u*u*(n-t)+6*u*c*(i-n)+3*c*c*(a-i),f=3*u*u*(r-e)+6*u*c*(o-r)+3*c*c*(s-o);return Math.atan2(f,l)}}function h(t,e,n,r,i,o){return function(a){var s,c=(s=a)*s,u=function(t){return 2*t*(1-t)}(a),l=function(t){return(1-t)*(1-t)}(a);return{x:i*c+n*u+t*l,y:o*c+r*u+e*l}}}function d(t,e,n,r,i,o){return function(a){var s=1-a,c=2*s*(n-t)+2*a*(i-n),u=2*s*(r-e)+2*a*(o-r);return Math.atan2(u,c)}}function p(t,e,n){var r,i,o={x:e,y:n},a=0;for(i=1;i<=100;i+=1)r=t(i/100),a+=u(o.x,o.y,r.x,r.y),o=r;return a}function v(t,e){for(var n,r,i,o=0,a=0,s=t.iterator,c={x:t.x,y:t.y},l=.01,f=t.angleFinder;a<e&&o<=1&&l>1e-4;)n=s(o),i=o,(r=u(c.x,c.y,n.x,n.y))+a>e?o-=l/=2:(c=n,o+=l,a+=r);return n.angle=f(i),n}function g(t){for(var e,n,r,i,o=0,a=t.length,s=0,c=0,v=0,g=0,m=[],y=0;y<a;y++){switch(r={x:s,y:c,command:(e=t[y])[0]},e[0]){case"M":r.length=0,v=s=e[1],g=c=e[2];break;case"L":r.length=u(s,c,e[1],e[2]),s=e[1],c=e[2];break;case"C":n=l(s,c,e[1],e[2],e[3],e[4],e[5],e[6]),i=f(s,c,e[1],e[2],e[3],e[4],e[5],e[6]),r.iterator=n,r.angleFinder=i,r.length=p(n,s,c),s=e[5],c=e[6];break;case"Q":n=h(s,c,e[1],e[2],e[3],e[4]),i=d(s,c,e[1],e[2],e[3],e[4]),r.iterator=n,r.angleFinder=i,r.length=p(n,s,c),s=e[3],c=e[4];break;case"Z":case"z":r.destX=v,r.destY=g,r.length=u(s,c,v,g),s=v,c=g}o+=r.length,m.push(r)}return m.push({length:o,x:s,y:c}),m}o.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},o.util.parsePath=function(t){var r,i,a,s,c,u=[],l=[],f=o.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",d="("+h+")"+o.commaWsp,p="([01])"+o.commaWsp+"?",v=new RegExp(d+"?"+d+"?"+d+p+p+d+"?("+h+")","g");if(!t||!t.match)return u;for(var g,m=0,y=(c=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;m<y;m++){s=(r=c[m]).slice(1).trim(),l.length=0;var b=r.charAt(0);if(g=[b],"a"===b.toLowerCase())for(var _;_=v.exec(s);)for(var w=1;w<_.length;w++)l.push(_[w]);else for(;a=f.exec(s);)l.push(a[0]);w=0;for(var x=l.length;w<x;w++)i=parseFloat(l[w]),isNaN(i)||g.push(i);var S=e[b.toLowerCase()],C=n[b]||b;if(g.length-1>S)for(var M=1,O=g.length;M<O;M+=S)u.push([b].concat(g.slice(M,M+S))),b=C;else u.push(g)}return u},o.util.makePathSimpler=function(t){var e,n,r,i,o,a,s=0,u=0,l=t.length,f=0,h=0,d=[];for(n=0;n<l;++n){switch(r=!1,(e=t[n].slice(0))[0]){case"l":e[0]="L",e[1]+=s,e[2]+=u;case"L":s=e[1],u=e[2];break;case"h":e[1]+=s;case"H":e[0]="L",e[2]=u,s=e[1];break;case"v":e[1]+=u;case"V":e[0]="L",u=e[1],e[1]=s,e[2]=u;break;case"m":e[0]="M",e[1]+=s,e[2]+=u;case"M":s=e[1],u=e[2],f=e[1],h=e[2];break;case"c":e[0]="C",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u,e[5]+=s,e[6]+=u;case"C":o=e[3],a=e[4],s=e[5],u=e[6];break;case"s":e[0]="S",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u;case"S":"C"===i?(o=2*s-o,a=2*u-a):(o=s,a=u),s=e[3],u=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=o,e[2]=a,o=e[3],a=e[4];break;case"q":e[0]="Q",e[1]+=s,e[2]+=u,e[3]+=s,e[4]+=u;case"Q":o=e[1],a=e[2],s=e[3],u=e[4];break;case"t":e[0]="T",e[1]+=s,e[2]+=u;case"T":"Q"===i?(o=2*s-o,a=2*u-a):(o=s,a=u),e[0]="Q",s=e[1],u=e[2],e[1]=o,e[2]=a,e[3]=s,e[4]=u;break;case"a":e[0]="A",e[6]+=s,e[7]+=u;case"A":r=!0,d=d.concat(c(s,u,e)),s=e[6],u=e[7];break;case"z":case"Z":s=f,u=h}r||d.push(e),i=e[0]}return d},o.util.getSmoothPathFromPoints=function(t,e){var n,r=[],i=new o.Point(t[0].x,t[0].y),a=new o.Point(t[1].x,t[1].y),s=t.length,c=1,u=0,l=s>2;for(e=e||0,l&&(c=t[2].x<a.x?-1:t[2].x===a.x?0:1,u=t[2].y<a.y?-1:t[2].y===a.y?0:1),r.push(["M",i.x-c*e,i.y-u*e]),n=1;n<s;n++){if(!i.eq(a)){var f=i.midPointFrom(a);r.push(["Q",i.x,i.y,f.x,f.y])}i=t[n],n+1<t.length&&(a=t[n+1])}return l&&(c=i.x>t[n-2].x?1:i.x===t[n-2].x?0:-1,u=i.y>t[n-2].y?1:i.y===t[n-2].y?0:-1),r.push(["L",i.x+c*e,i.y+u*e]),r},o.util.getPathSegmentsInfo=g,o.util.getBoundsOfCurve=s,o.util.getPointOnPath=function(t,e,n){n||(n=g(t));for(var r=0;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;var i,a=n[r],s=e/a.length,c=a.command,u=t[r];switch(c){case"M":return{x:a.x,y:a.y,angle:0};case"Z":case"z":return(i=new o.Point(a.x,a.y).lerp(new o.Point(a.destX,a.destY),s)).angle=Math.atan2(a.destY-a.y,a.destX-a.x),i;case"L":return(i=new o.Point(a.x,a.y).lerp(new o.Point(u[1],u[2]),s)).angle=Math.atan2(u[2]-a.y,u[1]-a.x),i;case"C":case"Q":return v(a,e)}},o.util.transformPath=function(t,e,n){return n&&(e=o.util.multiplyTransformMatrices(e,[1,0,0,1,-n.x,-n.y])),t.map((function(t){for(var n=t.slice(0),r={},i=1;i<t.length-1;i+=2)r.x=t[i],r.y=t[i+1],r=o.util.transformPoint(r,e),n[i]=r.x,n[i+1]=r.y;return n}))},o.util.fromArcToBeizers=c,o.util.getBoundsOfArc=function(t,e,n,r,o,a,c,u,l){for(var f,h=0,d=0,p=[],v=i(u-t,l-e,n,r,a,c,o),g=0,m=v.length;g<m;g++)f=s(h,d,v[g][1],v[g][2],v[g][3],v[g][4],v[g][5],v[g][6]),p.push({x:f[0].x+t,y:f[0].y+e}),p.push({x:f[1].x+t,y:f[1].y+e}),h=v[g][5],d=v[g][6];return p},o.util.drawArc=function(t,e,n,r){c(e,n,r=r.slice(0).unshift("X")).forEach((function(e){t.bezierCurveTo.apply(t,e.slice(1))}))}}(),function(){var t=Array.prototype.slice;function e(t,e,n){if(t&&0!==t.length){var r=t.length-1,i=e?t[r][e]:t[r];if(e)for(;r--;)n(t[r][e],i)&&(i=t[r][e]);else for(;r--;)n(t[r],i)&&(i=t[r]);return i}}o.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(e,n){for(var r=t.call(arguments,2),i=[],o=0,a=e.length;o<a;o++)i[o]=r.length?e[o][n].apply(e[o],r):e[o][n].call(e[o]);return i},min:function(t,n){return e(t,n,(function(t,e){return t<e}))},max:function(t,n){return e(t,n,(function(t,e){return t>=e}))}}}(),function(){function t(e,n,r){if(r)if(!o.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var i=0,a=n.length;i<a;i++)e[i]=t({},n[i],r)}else if(n&&"object"===u(n))for(var s in n)"canvas"===s||"group"===s?e[s]=null:n.hasOwnProperty(s)&&(e[s]=t({},n[s],r));else e=n;else for(var s in n)e[s]=n[s];return e}o.util.object={extend:t,clone:function(e,n){return t({},e,n)}},o.util.object.extend(o.util,o.Observable)}(),function(){function t(t,e){var n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var i=t.charCodeAt(e-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}o.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var n,r=0,i=[];for(r=0;r<e.length;r++)!1!==(n=t(e,r))&&i.push(n);return i}}}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var i in e)i in t.prototype&&"function"===typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?t.prototype[i]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return i}}(i):t.prototype[i]=e[i],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function i(){}function a(e){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[e];if(r[e]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}o.util.createClass=function(){var n=null,o=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof o[0]&&(n=o.shift()),s.superclass=n,s.subclasses=[],n&&(i.prototype=n.prototype,s.prototype=new i,n.subclasses.push(s));for(var c=0,u=o.length;c<u;c++)r(s,o[c],n);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),function(){var t=!!o.document.createElement("div").attachEvent,e=["touchstart","touchmove","touchend"];o.util.addListener=function(e,n,r,i){e&&e.addEventListener(n,r,!t&&i)},o.util.removeListener=function(e,n,r,i){e&&e.removeEventListener(n,r,!t&&i)},o.util.getPointer=function(t){var e=t.target,n=o.util.getScrollLeftTop(e),r=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:r.clientX+n.left,y:r.clientY+n.top}},o.util.isTouchEvent=function(t){return e.indexOf(t.type)>-1||"touch"===t.pointerType}}(),function(){var t=o.document.createElement("div"),e="string"===typeof t.style.opacity,n="string"===typeof t.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,i=function(t){return t};e?i=function(t,e){return t.style.opacity=e,t}:n&&(i=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(r,e)):n.filter+=" alpha(opacity="+100*e+")",t}),o.util.setStyle=function(t,e){var n=t.style;if(!n)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?i(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?i(t,e[r]):n["float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r]=e[r];return t}}(),function(){var t,e,n=Array.prototype.slice,r=function(t){return n.call(t,0)};try{t=r(o.document.childNodes)instanceof Array}catch(s){}function i(t,e){var n=o.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function a(t){for(var e=0,n=0,r=o.document.documentElement,i=o.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===o.document?(e=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:n}}t||(r=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e}),e=o.document.defaultView&&o.document.defaultView.getComputedStyle?function(t,e){var n=o.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){var t=o.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";o.util.makeElementUnselectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=o.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t},o.util.makeElementSelectable=function(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}}(),o.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},o.util.getById=function(t){return"string"===typeof t?o.document.getElementById(t):t},o.util.toArray=r,o.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},o.util.makeElement=i,o.util.wrapElement=function(t,e,n){return"string"===typeof e&&(e=i(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},o.util.getScrollLeftTop=a,o.util.getElementOffset=function(t){var n,r,i=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},c={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return s;for(var u in c)s[c[u]]+=parseInt(e(t,u),10)||0;return n=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),r=a(t),{left:o.left+r.left-(n.clientLeft||0)+s.left,top:o.top+r.top-(n.clientTop||0)+s.top}},o.util.getNodeCanvas=function(t){var e=o.jsdomImplForWrapper(t);return e._canvas||e._image},o.util.cleanUpJsdomNode=function(t){if(o.isLikelyNode){var e=o.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}o.util.request=function(e,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",i=n.onComplete||function(){},a=new o.window.XMLHttpRequest,s=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(i(a),a.onreadystatechange=t)},"GET"===r&&(s=null,"string"===typeof n.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,n.parameters))),a.open(r,e,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),o.log=console.log,o.warn=console.warn,function(){function t(){return!1}function e(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e}var n=o.window.requestAnimationFrame||o.window.webkitRequestAnimationFrame||o.window.mozRequestAnimationFrame||o.window.oRequestAnimationFrame||o.window.msRequestAnimationFrame||function(t){return o.window.setTimeout(t,1e3/60)},r=o.window.cancelAnimationFrame||o.window.clearTimeout;function i(){return n.apply(o.window,arguments)}o.util.animate=function(n){var r=!1;return i((function(o){n||(n={});var a,s=o||+new Date,c=n.duration||500,u=s+c,l=n.onChange||t,f=n.abort||t,h=n.onComplete||t,d=n.easing||e,p="startValue"in n?n.startValue:0,v="endValue"in n?n.endValue:100,g=n.byValue||v-p;n.onStart&&n.onStart(),function t(e){var n=(a=e||+new Date)>u?c:a-s,o=n/c,m=d(n,p,g,c),y=Math.abs((m-p)/g);if(!r){if(!f(m,y,o))return a>u?(l(v,1,1),void h(v,1,1)):(l(m,y,o),void i(t));h(v,1,1)}}(s)})),function(){r=!0}},o.util.requestAnimFrame=i,o.util.cancelAnimFrame=function(){return r.apply(o.window,arguments)}}(),function(){function t(t,e,n){var r="rgba("+parseInt(t[0]+n*(e[0]-t[0]),10)+","+parseInt(t[1]+n*(e[1]-t[1]),10)+","+parseInt(t[2]+n*(e[2]-t[2]),10);return r+=","+(t&&e?parseFloat(t[3]+n*(e[3]-t[3])):1),r+=")"}o.util.animateColor=function(e,n,r,i){var a=new o.Color(e).getSource(),s=new o.Color(n).getSource(),c=i.onComplete,u=i.onChange;return i=i||{},o.util.animate(o.util.object.extend(i,{duration:r||500,startValue:a,endValue:s,byValue:s,easing:function(e,n,r,o){return t(n,r,i.colorEasing?i.colorEasing(e,o):1-Math.cos(e/o*(Math.PI/2)))},onComplete:function(e,n,r){if(c)return c(t(s,s,0),n,r)},onChange:function(e,n,r){if(u){if(Array.isArray(e))return u(t(e,e,0),n,r);u(e,n,r)}}}))}}(),function(){function t(t,e,n,r){return t<Math.abs(e)?(t=e,r=n/4):r=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:r}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,i){return n-r(i-t,0,n,i)+e}function r(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}o.util.ease={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,r,i,o){var a=0;return 0===n?r:1===(n/=o)?r+i:(a||(a=.3*o),-e(t(i,i,a,1.70158),n,o)+r)},easeOutElastic:function(e,n,r,i){var o=0;if(0===e)return n;if(1===(e/=i))return n+r;o||(o=.3*i);var a=t(r,r,o,1.70158);return a.a*Math.pow(2,-10*e)*Math.sin((e*i-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,r,i,o){var a=0;if(0===n)return r;if(2===(n/=o/2))return r+i;a||(a=o*(.3*1.5));var s=t(i,i,a,1.70158);return n<1?-.5*e(s,n,o)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(t,e,i,o){return t<o/2?.5*n(2*t,0,i,o)+e:.5*r(2*t-o,0,i,o)+.5*i+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i=e.util.toFixed,o=e.util.parseUnit,a=e.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},c={stroke:"strokeOpacity",fill:"fillOpacity"};function u(t){return t in s?s[t]:t}function l(t,n,r,i){var s,c="[object Array]"===Object.prototype.toString.call(n);if("fill"!==t&&"stroke"!==t||"none"!==n){if("strokeUniform"===t)return"non-scaling-stroke"===n;if("strokeDashArray"===t)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)n=r&&r.transformMatrix?a(r.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n);else if("visible"===t)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===t)n=parseFloat(n),r&&"undefined"!==typeof r.opacity&&(n*=r.opacity);else if("textAnchor"===t)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===t)s=o(n,i)/i*1e3;else if("paintFirst"===t){var u=n.indexOf("fill"),l=n.indexOf("stroke");n="fill",(u>-1&&l>-1&&l<u||-1===u&&l>-1)&&(n="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return n;if("imageSmoothing"===t)return"optimizeQuality"===n;s=c?n.map(o):o(n,i)}}else n="";return!c&&isNaN(s)?n:s}function f(t){return new RegExp("^("+t.join("|")+")\\b","i")}function h(t,e){var n,r,i,o,a=[];for(i=0,o=e.length;i<o;i++)n=e[i],r=t.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(r));return a}function d(t,e){var n,r=!0;return(n=p(t,e.pop()))&&e.length&&(r=function(t,e){for(var n,r=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(n=e.pop()),t=t.parentNode,r=p(t,n);return 0===e.length}(t,e)),n&&r&&0===e.length}function p(t,e){var n,r,i=t.nodeName,o=t.getAttribute("class"),a=t.getAttribute("id");if(n=new RegExp("^"+i,"i"),e=e.replace(n,""),a&&e.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),o&&e.length)for(r=(o=o.split(" ")).length;r--;)n=new RegExp("\\."+o[r]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function v(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var r,i,o,a=t.getElementsByTagName("*");for(i=0,o=a.length;i<o;i++)if(e===(r=a[i]).getAttribute("id"))return r}e.svgValidTagNamesRegEx=f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=f(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=f(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,n,r){t[r]=Math.tan(e.util.degreesToRadians(n[0]))}var n=e.iMatrix,r=e.reNum,i=e.commaWsp,o="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",a=new RegExp("^\\s*(?:(?:"+o+"(?:"+i+"*"+o+")*)?)\\s*$"),s=new RegExp(o,"g");return function(r){var i=n.concat(),c=[];if(!r||r&&!a.test(r))return i;r.replace(s,(function(r){var a=new RegExp(o).exec(r).filter((function(t){return!!t})),s=a[1],u=a.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(i,u);break;case"rotate":u[0]=e.util.degreesToRadians(u[0]),function(t,n){var r=e.util.cos(n[0]),i=e.util.sin(n[0]),o=0,a=0;3===n.length&&(o=n[1],a=n[2]),t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=o-(r*o-i*a),t[5]=a-(i*o+r*a)}(i,u);break;case"scale":!function(t,e){var n=e[0],r=2===e.length?e[1]:e[0];t[0]=n,t[3]=r}(i,u);break;case"skewX":t(i,u,2);break;case"skewY":t(i,u,1);break;case"matrix":i=u}c.push(i.concat()),i=n.concat()}));for(var u=c[0];c.length>1;)c.shift(),u=e.util.multiplyTransformMatrices(u,c[0]);return u}}();var g=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function m(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var n,r,i,a,s,c,u=t.getAttribute("viewBox"),l=1,f=1,h=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,v=t.getAttribute("y")||0,m=t.getAttribute("preserveAspectRatio")||"",y=!u||!(u=u.match(g)),b=!h||!d||"100%"===h||"100%"===d,_=y&&b,w={},x="",S=0,C=0;if(w.width=0,w.height=0,w.toBeParsed=_,y&&(p||v)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(x=" translate("+o(p)+" "+o(v)+") ",s=(t.getAttribute("transform")||"")+x,t.setAttribute("transform",s),t.removeAttribute("x"),t.removeAttribute("y")),_)return w;if(y)return w.width=o(h),w.height=o(d),w;if(n=-parseFloat(u[1]),r=-parseFloat(u[2]),i=parseFloat(u[3]),a=parseFloat(u[4]),w.minX=n,w.minY=r,w.viewBoxWidth=i,w.viewBoxHeight=a,b?(w.width=i,w.height=a):(w.width=o(h),w.height=o(d),l=w.width/i,f=w.height/a),"none"!==(m=e.util.parsePreserveAspectRatioAttribute(m)).alignX&&("meet"===m.meetOrSlice&&(f=l=l>f?f:l),"slice"===m.meetOrSlice&&(f=l=l>f?l:f),S=w.width-i*l,C=w.height-a*l,"Mid"===m.alignX&&(S/=2),"Mid"===m.alignY&&(C/=2),"Min"===m.alignX&&(S=0),"Min"===m.alignY&&(C=0)),1===l&&1===f&&0===n&&0===r&&0===p&&0===v)return w;if((p||v)&&"#document"!==t.parentNode.nodeName&&(x=" translate("+o(p)+" "+o(v)+") "),s=x+" matrix("+l+" 0 0 "+f+" "+(n*l+S)+" "+(r*f+C)+") ","svg"===t.nodeName){for(c=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)c.appendChild(t.firstChild);t.appendChild(c)}else(c=t).removeAttribute("x"),c.removeAttribute("y"),s=c.getAttribute("transform")+s;return c.setAttribute("transform",s),w}function y(t,e){var n=v(t,e.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&y(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var r=n.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,n,i,o){if(t){!function(t){for(var n=h(t,["use","svg:use"]),r=0;n.length&&r<n.length;){var i=n[r],o=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===o)return;var a,s,c,u,l=o.substr(1),f=i.getAttribute("x")||0,d=i.getAttribute("y")||0,p=v(t,l).cloneNode(!0),g=(p.getAttribute("transform")||"")+" translate("+f+", "+d+")",y=n.length,b=e.svgNS;if(m(p),/^svg$/i.test(p.nodeName)){var _=p.ownerDocument.createElementNS(b,"g");for(s=0,u=(c=p.attributes).length;s<u;s++)a=c.item(s),_.setAttributeNS(b,a.nodeName,a.nodeValue);for(;p.firstChild;)_.appendChild(p.firstChild);p=_}for(s=0,u=(c=i.attributes).length;s<u;s++)"x"!==(a=c.item(s)).nodeName&&"y"!==a.nodeName&&"xlink:href"!==a.nodeName&&"href"!==a.nodeName&&("transform"===a.nodeName?g=a.nodeValue+" "+g:p.setAttribute(a.nodeName,a.nodeValue));p.setAttribute("transform",g),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),i.parentNode.replaceChild(p,i),n.length===y&&r++}}(t);var a,s,c=e.Object.__uid++,u=m(t),l=e.util.toArray(t.getElementsByTagName("*"));if(u.crossOrigin=o&&o.crossOrigin,u.svgUid=c,0===l.length&&e.isLikelyNode){var f=[];for(a=0,s=(l=t.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)f[a]=l[a];l=f}var d=l.filter((function(t){return m(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)n&&n([],{});else{var p={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var n=t.getAttribute("id");p[n]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[c]=e.getGradientDefs(t),e.cssRules[c]=e.getCSSRules(t),e.clipPaths[c]=p,e.parseElements(d,(function(t,r){n&&(n(t,u,r,l),delete e.gradientDefs[c],delete e.cssRules[c],delete e.clipPaths[c])}),r(u),i,o)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(b);if(n){var r=n[1],i=n[3],a=n[4],s=n[5],c=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(e.fontSize=o(a)),c&&(e.fontFamily=c),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n=h(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(e=n[r]).getAttribute("xlink:href")&&y(t,e),i[e.getAttribute("id")]=e;return i},parseAttributes:function(t,r,a){if(t){var s,f,h,p={};"undefined"===typeof a&&(a=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(p=e.parseAttributes(t.parentNode,r,a));var v=r.reduce((function(e,n){return(s=t.getAttribute(n))&&(e[n]=s),e}),{}),g=n(function(t,n){var r={};for(var i in e.cssRules[n])if(d(t,i.split(" ")))for(var o in e.cssRules[n][i])r[o]=e.cssRules[n][i][o];return r}(t,a),e.parseStyleAttribute(t));v=n(v,g),g["clip-path"]&&t.setAttribute("clip-path",g["clip-path"]),f=h=p.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,v["font-size"]&&(v["font-size"]=f=o(v["font-size"],h));var m,y,b={};for(var _ in v)y=l(m=u(_),v[_],p,f),b[m]=y;b&&b.font&&e.parseFontDeclaration(b.font,b);var w=n(p,b);return e.svgValidParentsRegEx.test(t.nodeName)?w:function(t){for(var n in c)if("undefined"!==typeof t[c[n]]&&""!==t[n]){if("undefined"===typeof t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var r=new e.Color(t[n]);t[n]=r.setAlpha(i(r.getAlpha()*t[c[n]],2)).toRgba()}}return t}(w)}},parseElements:function(t,n,r,i,o){new e.ElementsParser(t,n,r,i,o).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"===typeof n?function(t,e){var n,r;t.replace(/;\s*$/,"").split(";").forEach((function(t){var i=t.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),e[n]=r}))}(n,e):function(t,e){var n,r;for(var i in t)"undefined"!==typeof t[i]&&(n=i.toLowerCase(),r=t[i],e[n]=r)}(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,r=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){var n,r,i=t.getElementsByTagName("style"),o={};for(n=0,r=i.length;n<r;n++){var a=i[n].textContent;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=s.length;n<r;n++){var c=s[n].split(/\s*:\s*/),u=c[0],l=c[1];a[u]=l}(t=i[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?e.util.object.extend(o[t],a):o[t]=e.util.object.clone(a))}))}))}return o},loadSVGFromURL:function(t,n,r,i){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;if(!o||!o.documentElement)return n&&n(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,r,i){n&&n(t,e,r,i)}),r,i)}})},loadSVGFromString:function(t,n,r,i){var o=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(o.documentElement,(function(t,e,r,i){n(t,e,r,i)}),r,i)}})}(n),o.ElementsParser=function(t,e,n,r,i,o){this.elements=t,this.callback=e,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(i=o.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},i.createObjects=function(){var t=this;this.elements.forEach((function(e,n){e.setAttribute("svgUid",t.svgUid),t.createObject(e,n)}))},i.findTag=function(t){return o[o.util.string.capitalize(t.tagName.replace("svg:",""))]},i.createObject=function(t,e){var n=this.findTag(t);if(n&&n.fromElement)try{n.fromElement(t,this.createCallback(e,t),this.options)}catch(r){o.log(r)}else this.checkIfDone()},i.createCallback=function(t,e){var n=this;return function(r){var i;n.resolveGradient(r,e,"fill"),n.resolveGradient(r,e,"stroke"),r instanceof o.Image&&r._originalElement&&(i=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(i),n.resolveClipPath(r,e),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},i.extractPropertyDefinition=function(t,e,n){var r=t[e],i=this.regexUrl;if(i.test(r)){i.lastIndex=0;var a=i.exec(r)[1];return i.lastIndex=0,o[n][this.svgUid][a]}},i.resolveGradient=function(t,e,n){var r=this.extractPropertyDefinition(t,n,"gradientDefs");if(r){var i=e.getAttribute(n+"-opacity"),a=o.Gradient.fromElement(r,t,i,this.options);t.set(n,a)}},i.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},i.resolveClipPath=function(t,e){var n,r,i,a,s=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(s){i=[],r=o.util.invertTransform(t.calcTransformMatrix());for(var c=s[0].parentNode,u=e;u.parentNode&&u.getAttribute("clip-path")!==t.clipPath;)u=u.parentNode;u.parentNode.appendChild(c);for(var l=0;l<s.length;l++)n=s[l],this.findTag(n).fromElement(n,this.createClipPathCallback(t,i),this.options);s=1===i.length?i[0]:new o.Group(i),a=o.util.multiplyTransformMatrices(r,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,u);var f=o.util.qrDecompose(a);s.flipX=!1,s.flipY=!1,s.set("scaleX",f.scaleX),s.set("scaleY",f.scaleY),s.angle=f.angle,s.skewX=f.skewX,s.skewY=0,s.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),t.clipPath=s}else delete t.clipPath},i.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,r,i,o){var a,s=(o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x),c=(r.x-t.x)*(t.y-i.y)-(r.y-t.y)*(t.x-i.x),u=(o.y-i.y)*(r.x-t.x)-(o.x-i.x)*(r.y-t.y);if(0!==u){var l=s/u,f=c/u;0<=l&&l<=1&&0<=f&&f<=1?(a=new n("Intersection")).appendPoint(new e.Point(t.x+l*(r.x-t.x),t.y+l*(r.y-t.y))):a=new n}else a=new n(0===s||0===c?"Coincident":"Parallel");return a},e.Intersection.intersectLinePolygon=function(t,e,r){var i,o,a,s,c=new n,u=r.length;for(s=0;s<u;s++)i=r[s],o=r[(s+1)%u],a=n.intersectLineLine(t,e,i,o),c.appendPoints(a.points);return c.points.length>0&&(c.status="Intersection"),c},e.Intersection.intersectPolygonPolygon=function(t,e){var r,i=new n,o=t.length;for(r=0;r<o;r++){var a=t[r],s=t[(r+1)%o],c=n.intersectLinePolygon(a,s,e);i.appendPoints(c.points)}return i.points.length>0&&(i.status="Intersection"),i},e.Intersection.intersectPolygonRectangle=function(t,r,i){var o=r.min(i),a=r.max(i),s=new e.Point(a.x,o.y),c=new e.Point(o.x,a.y),u=n.intersectLinePolygon(o,s,t),l=n.intersectLinePolygon(s,a,t),f=n.intersectLinePolygon(a,c,t),h=n.intersectLinePolygon(c,o,t),d=new n;return d.appendPoints(u.points),d.appendPoints(l.points),d.appendPoints(f.points),d.appendPoints(h.points),d.points.length>0&&(d.status="Intersection"),d})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,r){t/=255,n/=255,r/=255;var i,o,a,s=e.util.array.max([t,n,r]),c=e.util.array.min([t,n,r]);if(a=(s+c)/2,s===c)i=o=0;else{var u=s-c;switch(o=a>.5?u/(2-s-c):u/(s+c),s){case t:i=(n-r)/u+(n<r?6:0);break;case n:i=(r-t)/u+2;break;case r:i=(t-n)/u+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,r=this.getSource();return t=1===(t=r[0].toString(16)).length?"0"+t:t,e=1===(e=r[1].toString(16)).length?"0"+e:e,n=1===(n=r[2].toString(16)).length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(t){t instanceof n||(t=new n(t));var e,r=[],i=this.getAlpha(),o=this.getSource(),a=t.getSource();for(e=0;e<3;e++)r.push(Math.round(.5*o[e]+.5*a[e]));return r[3]=i,this.setSource(r),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var r=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),i=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var i,o,a,s=(parseFloat(e[1])%360+360)%360/360,c=parseFloat(e[2])/(/%$/.test(e[2])?100:1),u=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===c)i=o=a=u;else{var l=u<=.5?u*(c+1):u+c-u*c,f=2*u-l;i=r(f,l,s+1/3),o=r(f,l,s),a=r(f,l,s-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*a),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),r=3===e.length||4===e.length,i=8===e.length||4===e.length,o=r?e.charAt(0)+e.charAt(0):e.substring(0,2),a=r?e.charAt(1)+e.charAt(1):e.substring(2,4),s=r?e.charAt(2)+e.charAt(2):e.substring(4,6),c=i?r?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],i={},o="left",a="top",s={top:"bottom",bottom:a,left:"right",right:o,center:"center"},c=e.util.radiansToDegrees,u=Math.sign||function(t){return(t>0)-(t<0)||+t};function l(t,e){var n=t.angle+c(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function f(t,n){var r=n.transform.target,i=r.canvas,o=e.util.object.clone(n);o.target=r,i&&i.fire("object:"+t,o),r.fire(t,n)}function h(t,e){var n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function d(t){return"center"===t.originX&&"center"===t.originY}function p(t,e,n){var r=t.lockScalingX,i=t.lockScalingY;return!(!r||!i)||!(e||!r&&!i||!n)||!(!r||"x"!==e)||!(!i||"y"!==e)}function v(t,e,n,r){return{e:t,transform:e,pointer:{x:n,y:r}}}function g(t){return function(e,n,r,i){var o=n.target,a=o.getCenterPoint(),s=o.translateToOriginPoint(a,n.originX,n.originY),c=t(e,n,r,i);return o.setPositionByOrigin(s,n.originX,n.originY),c}}function m(t,e){return function(n,r,i,o){var a=e(n,r,i,o);return a&&f(t,v(n,r,i,o)),a}}function y(t,n,r,i,o){var a=t.target,s=a.controls[t.corner],c=a.canvas.getZoom(),u=a.padding/c,l=a.toLocalPoint(new e.Point(i,o),n,r);return l.x>=u&&(l.x-=u),l.x<=-u&&(l.x+=u),l.y>=u&&(l.y-=u),l.y<=u&&(l.y+=u),l.x-=s.offsetX,l.y-=s.offsetY,l}function b(t){return t.flipX!==t.flipY}function _(t,e,n,r,i){if(0!==t[e]){var o=i/t._getTransformedDimensions()[r]*t[n];t.set(n,o)}}function w(t,e,n,r){var i,s=e.target,u=s._getTransformedDimensions(0,s.skewY),l=y(e,e.originX,e.originY,n,r),f=Math.abs(2*l.x)-u.x,h=s.skewX;f<2?i=0:(i=c(Math.atan2(f/s.scaleX,u.y/s.scaleY)),e.originX===o&&"bottom"===e.originY&&(i=-i),"right"===e.originX&&e.originY===a&&(i=-i),b(s)&&(i=-i));var d=h!==i;if(d){var p=s._getTransformedDimensions().y;s.set("skewX",i),_(s,"skewY","scaleY","y",p)}return d}function x(t,e,n,r){var i,s=e.target,u=s._getTransformedDimensions(s.skewX,0),l=y(e,e.originX,e.originY,n,r),f=Math.abs(2*l.y)-u.y,h=s.skewY;f<2?i=0:(i=c(Math.atan2(f/s.scaleY,u.x/s.scaleX)),e.originX===o&&"bottom"===e.originY&&(i=-i),"right"===e.originX&&e.originY===a&&(i=-i),b(s)&&(i=-i));var d=h!==i;if(d){var p=s._getTransformedDimensions().x;s.set("skewY",i),_(s,"skewX","scaleX","x",p)}return d}function S(t,e,n,r,i){i=i||{};var o,a,c,l,f,v,g=e.target,m=g.lockScalingX,b=g.lockScalingY,_=i.by,w=h(t,g),x=p(g,_,w),S=e.gestureScale;if(x)return!1;if(S)a=e.scaleX*S,c=e.scaleY*S;else{if(o=y(e,e.originX,e.originY,n,r),f="y"!==_?u(o.x):1,v="x"!==_?u(o.y):1,e.signX||(e.signX=f),e.signY||(e.signY=v),g.lockScalingFlip&&(e.signX!==f||e.signY!==v))return!1;if(l=g._getTransformedDimensions(),w&&!_){var C=Math.abs(o.x)+Math.abs(o.y),M=e.original,O=C/(Math.abs(l.x*M.scaleX/g.scaleX)+Math.abs(l.y*M.scaleY/g.scaleY));a=M.scaleX*O,c=M.scaleY*O}else a=Math.abs(o.x*g.scaleX/l.x),c=Math.abs(o.y*g.scaleY/l.y);d(e)&&(a*=2,c*=2),e.signX!==f&&"y"!==_&&(e.originX=s[e.originX],a*=-1,e.signX=f),e.signY!==v&&"x"!==_&&(e.originY=s[e.originY],c*=-1,e.signY=v)}var k=g.scaleX,E=g.scaleY;return _?("x"===_&&g.set("scaleX",a),"y"===_&&g.set("scaleY",c)):(!m&&g.set("scaleX",a),!b&&g.set("scaleY",c)),k!==g.scaleX||E!==g.scaleY}i.scaleCursorStyleHandler=function(t,e,r){var i=h(t,r),o="";if(0!==e.x&&0===e.y?o="x":0===e.x&&0!==e.y&&(o="y"),p(r,o,i))return"not-allowed";var a=l(r,e);return n[a]+"-resize"},i.skewCursorStyleHandler=function(t,e,n){if(0!==e.x&&n.lockSkewingY)return"not-allowed";if(0!==e.y&&n.lockSkewingX)return"not-allowed";var i=l(n,e)%4;return r[i]+"-resize"},i.scaleSkewCursorStyleHandler=function(t,e,n){return t[n.canvas.altActionKey]?i.skewCursorStyleHandler(t,e,n):i.scaleCursorStyleHandler(t,e,n)},i.rotationWithSnapping=m("rotating",g((function(t,e,n,r){var i=e,o=i.target,a=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY);if(o.lockRotation)return!1;var s,u=Math.atan2(i.ey-a.y,i.ex-a.x),l=Math.atan2(r-a.y,n-a.x),f=c(l-u+i.theta);if(o.snapAngle>0){var h=o.snapAngle,d=o.snapThreshold||h,p=Math.ceil(f/h)*h,v=Math.floor(f/h)*h;Math.abs(f-v)<d?f=v:Math.abs(f-p)<d&&(f=p)}return f<0&&(f=360+f),f%=360,s=o.angle!==f,o.angle=f,s}))),i.scalingEqually=m("scaling",g((function(t,e,n,r){return S(t,e,n,r)}))),i.scalingX=m("scaling",g((function(t,e,n,r){return S(t,e,n,r,{by:"x"})}))),i.scalingY=m("scaling",g((function(t,e,n,r){return S(t,e,n,r,{by:"y"})}))),i.scalingYOrSkewingX=function(t,e,n,r){return t[e.target.canvas.altActionKey]?i.skewHandlerX(t,e,n,r):i.scalingY(t,e,n,r)},i.scalingXOrSkewingY=function(t,e,n,r){return t[e.target.canvas.altActionKey]?i.skewHandlerY(t,e,n,r):i.scalingX(t,e,n,r)},i.changeWidth=m("resizing",g((function(t,e,n,r){var i=e.target,o=y(e,e.originX,e.originY,n,r),a=i.strokeWidth/(i.strokeUniform?i.scaleX:1),s=d(e)?2:1,c=i.width,u=Math.abs(o.x*s/i.scaleX)-a;return i.set("width",Math.max(u,0)),c!==u}))),i.skewHandlerX=function(t,e,n,r){var i,s=e.target,c=s.skewX,u=e.originY;return!s.lockSkewingX&&(0===c?i=y(e,"center","center",n,r).x>0?o:"right":(c>0&&(i=u===a?o:"right"),c<0&&(i=u===a?"right":o),b(s)&&(i=i===o?"right":o)),e.originX=i,m("skewing",g(w))(t,e,n,r))},i.skewHandlerY=function(t,e,n,r){var i,s=e.target,c=s.skewY,u=e.originX;return!s.lockSkewingY&&(0===c?i=y(e,"center","center",n,r).y>0?a:"bottom":(c>0&&(i=u===o?a:"bottom"),c<0&&(i=u===o?"bottom":a),b(s)&&(i=i===a?"bottom":a)),e.originY=i,m("skewing",g(x))(t,e,n,r))},i.dragHandler=function(t,e,n,r){var i=e.target,o=n-e.offsetX,a=r-e.offsetY,s=!i.get("lockMovementX")&&i.left!==o,c=!i.get("lockMovementY")&&i.top!==a;return s&&i.set("left",o),c&&i.set("top",a),(s||c)&&f("moving",v(t,e,n,r)),s||c},i.scaleOrSkewActionName=function(t,e,n){var r=t[n.canvas.altActionKey];return 0===e.x?r?"skewX":"scaleY":0===e.y?r?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(t,e,n){return n.lockRotation?"not-allowed":e.cursorStyle},i.fireEvent=f,i.wrapWithFixedAnchor=g,i.wrapWithFireEvent=m,i.getLocalPoint=y,e.controlsUtils=i}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.degreesToRadians,r=e.controlsUtils;r.renderCircleControl=function(t,e,n,r,i){r=r||{};var o,a=this.sizeX||r.cornerSize||i.cornerSize,s=this.sizeY||r.cornerSize||i.cornerSize,c="undefined"!==typeof r.transparentCorners?r.transparentCorners:i.transparentCorners,u=c?"stroke":"fill",l=!c&&(r.cornerStrokeColor||i.cornerStrokeColor),f=e,h=n;t.save(),t.fillStyle=r.cornerColor||i.cornerColor,t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor,a>s?(o=a,t.scale(1,s/a),h=n*a/s):s>a?(o=s,t.scale(a/s,1),f=e*s/a):o=a,t.lineWidth=1,t.beginPath(),t.arc(f,h,o/2,0,2*Math.PI,!1),t[u](),l&&t.stroke(),t.restore()},r.renderSquareControl=function(t,e,r,i,o){i=i||{};var a=this.sizeX||i.cornerSize||o.cornerSize,s=this.sizeY||i.cornerSize||o.cornerSize,c="undefined"!==typeof i.transparentCorners?i.transparentCorners:o.transparentCorners,u=c?"stroke":"fill",l=!c&&(i.cornerStrokeColor||o.cornerStrokeColor),f=a/2,h=s/2;t.save(),t.fillStyle=i.cornerColor||o.cornerColor,t.strokeStyle=i.cornerStrokeColor||o.cornerStrokeColor,t.lineWidth=1,t.translate(e,r),t.rotate(n(o.angle)),t[u+"Rect"](-f,-h,a,s),l&&t.strokeRect(-f,-h,a,s),t.restore()}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var n=t._controlsVisibility;return n&&"undefined"!==typeof n[e]?n[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,n){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},n)},calcCornerCoords:function(t,n,r,i,o){var a,s,c,u,l=o?this.touchSizeX:this.sizeX,f=o?this.touchSizeY:this.sizeY;if(l&&f&&l!==f){var h=Math.atan2(f,l),d=Math.sqrt(l*l+f*f)/2,p=h-e.util.degreesToRadians(t),v=Math.PI/2-h-e.util.degreesToRadians(t);a=d*e.util.cos(p),s=d*e.util.sin(p),c=d*e.util.cos(v),u=d*e.util.sin(v)}else d=.7071067812*(l&&f?l:n),p=e.util.degreesToRadians(45-t),a=c=d*e.util.cos(p),s=u=d*e.util.sin(p);return{tl:{x:r-u,y:i-c},tr:{x:r+a,y:i-s},bl:{x:r-a,y:i+s},br:{x:r+u,y:i+c}}},render:function(t,n,r,i,o){switch((i=i||{}).cornerStyle||o.cornerStyle){case"circle":e.controlsUtils.renderCircleControl.call(this,t,n,r,i,o);break;default:e.controlsUtils.renderSquareControl.call(this,t,n,r,i,o)}}}}(n),function(){function t(t,e){var n,r,i,a,s=t.getAttribute("style"),c=t.getAttribute("offset")||0;if(c=(c=parseFloat(c)/(/%$/.test(c)?100:1))<0?0:c>1?1:c,s){var u=s.split(/\s*;\s*/);for(""===u[u.length-1]&&u.pop(),a=u.length;a--;){var l=u[a].split(/\s*:\s*/),f=l[0].trim(),h=l[1].trim();"stop-color"===f?n=h:"stop-opacity"===f&&(i=h)}}return n||(n=t.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=t.getAttribute("stop-opacity")),r=(n=new o.Color(n)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=r*e,{offset:c,color:n.toRgb(),opacity:i}}var e=o.util.object.clone;o.Gradient=o.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,n=this;Object.keys(t).forEach((function(e){n[e]=t[e]})),this.id?this.id+="_"+o.Object.__uid++:this.id=o.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var n=new o.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return o.util.populateWithProperties(this,e,t),e},toSVG:function(t,n){var r,i,a,s,c=e(this.coords,!0),u=(n=n||{},e(this.colorStops,!0)),l=c.r1>c.r2,f=this.gradientTransform?this.gradientTransform.concat():o.iMatrix.concat(),h=-this.offsetX,d=-this.offsetY,p=!!n.additionalTransform,v="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(u.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===v?(h/=t.width,d/=t.height):(h+=t.width/2,d+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(h-=t.pathOffset.x,d-=t.pathOffset.y),f[4]-=h,f[5]-=d,s='id="SVGID_'+this.id+'" gradientUnits="'+v+'"',s+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+o.util.matrixToSVG(f)+'" ',"linear"===this.type?a=["<linearGradient ",s,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",s,' cx="',l?c.x1:c.x2,'" cy="',l?c.y1:c.y2,'" r="',l?c.r1:c.r2,'" fx="',l?c.x2:c.x1,'" fy="',l?c.y2:c.y1,'">\n']),"radial"===this.type){if(l)for((u=u.concat()).reverse(),r=0,i=u.length;r<i;r++)u[r].offset=1-u[r].offset;var g=Math.min(c.r1,c.r2);if(g>0){var m=g/Math.max(c.r1,c.r2);for(r=0,i=u.length;r<i;r++)u[r].offset+=m*(1-u[r].offset)}}for(r=0,i=u.length;r<i;r++){var y=u[r];a.push("<stop ",'offset="',100*y.offset+"%",'" style="stop-color:',y.color,"undefined"!==typeof y.opacity?";stop-opacity: "+y.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(t){var e,n,r,i=o.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(e=t.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,s=this.colorStops[n].opacity,c=this.colorStops[n].offset;"undefined"!==typeof s&&(a=new o.Color(a).setAlpha(s).toRgba()),e.addColorStop(c,a)}return e}}}),o.util.object.extend(o.Gradient,{fromElement:function(e,n,r,i){var a=parseFloat(r)/(/%$/.test(r)?100:1);a=a<0?0:a>1?1:a,isNaN(a)&&(a=1);var s,c,u,l,f=e.getElementsByTagName("stop"),h="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",d=e.getAttribute("gradientTransform")||"",p=[],v=0,g=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(s="linear",c=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(s="radial",c=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),u=f.length;u--;)p.push(t(f[u],a));return l=o.parseTransformAttribute(d),function(t,e,n,r){var i,o;Object.keys(e).forEach((function(t){"Infinity"===(i=e[t])?o=1:"-Infinity"===i?o=0:(o=parseFloat(e[t],10),"string"===typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(o*=.01,"pixels"===r&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=n.viewBoxWidth||n.width),"y1"!==t&&"y2"!==t||(o*=n.viewBoxHeight||n.height)))),e[t]=o}))}(0,c,i,h),"pixels"===h&&(v=-n.left,g=-n.top),new o.Gradient({id:e.getAttribute("id"),type:s,coords:c,colorStops:p,gradientUnits:h,gradientTransform:l,offsetX:v,offsetY:g})}})}(),function(){"use strict";var t=o.util.toFixed;o.Pattern=o.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=o.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else{var n=this;this.source=o.util.createImage(),o.util.loadImage(t.source,(function(t,r){n.source=t,e&&e(n,r)}),null,this.crossOrigin)}},toObject:function(e){var n,r,i=o.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?n=this.source.src:"object"===u(this.source)&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,i),offsetY:t(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},o.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,n=e.width/t.width,r=e.height/t.height,i=this.offsetX/t.width,o=this.offsetY/t.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,o&&(r+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),e.src?a=e.src:e.toDataURL&&(a=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var n in"string"===typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,i=40,o=e.Object.NUM_FRACTION_DIGITS,a=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),s=new e.Color(this.color);return t.width&&t.height&&(r=100*n((Math.abs(a.x)+this.blur)/t.width,o)+20,i=100*n((Math.abs(a.y)+this.blur)/t.height,o)+20),t.flipX&&(a.x*=-1),t.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==n[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(n),function(){"use strict";if(o.StaticCanvas)o.warn("fabric.StaticCanvas is already defined.");else{var t=o.util.object.extend,e=o.util.getElementOffset,n=o.util.removeFromArray,r=o.util.toFixed,i=o.util.transformPoint,a=o.util.invertTransform,s=o.util.getNodeCanvas,c=o.util.createCanvasElement,u=new Error("Could not initialize `canvas` element");o.StaticCanvas=o.util.createClass(o.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:o.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==o.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?o.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=o.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,n){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),n.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,n,r){return"string"===typeof e?o.util.loadImage(e,(function(e,i){if(e){var a=new o.Image(e,r);this[t]=a,a.canvas=this}n&&n(e,i)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),n&&n(e,!1)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(){var t=c();if(!t)throw u;if(t.style||(t.style={}),"undefined"===typeof t.getContext)throw u;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=o.util.getById(t)||this._createCanvasElement(),o.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var r in e=e||{},t)n=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),n+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n,r,i=this._activeObject,o=this.backgroundImage,a=this.overlayImage;for(this.viewportTransform=t,n=0,r=this._objects.length;n<r;n++)(e=this._objects[n]).group||e.setCoords(!0);return i&&i.setCoords(),o&&o.setCoords(!0),a&&a.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var n=t,r=this.viewportTransform.slice(0);t=i(t,a(this.viewportTransform)),r[0]=e,r[3]=e;var o=i(t,r);return r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new o.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new o.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=o.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,n=this.height,r=a(this.viewportTransform);return t.tl=i({x:0,y:0},r),t.br=i({x:e,y:n},r),t.tr=new o.Point(t.br.x,t.tl.y),t.bl=new o.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(o.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),o.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,n=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"],r=this[e+"Image"],i=this.viewportTransform,o=this[e+"Vpt"];if(n||r){if(n){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=n.toLive?n.toLive(t,this):n,o&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&t.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.fill(),t.restore()}r&&(t.save(),o&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new o.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new o.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new o.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new o.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new o.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=a(this.viewportTransform);return i({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r=this.clipPath,i={version:o.version,objects:this._toObjects(e,n)};return r&&!r.excludeFromExport&&(i.clipPath=this._toObject(this.clipPath,e,n)),t(i,this.__serializeBgOverlay(e,n)),o.util.populateWithProperties(this,i,n),i},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(n){return this._toObject(n,t,e)}),this)},_toObject:function(t,e,n){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var i=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=r),i},__serializeBgOverlay:function(t,e){var n={},r=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(n.background=o.toObject(e)):o&&(n.background=o),a&&a.toObject?a.excludeFromExport||(n.overlay=a.toObject(e)):a&&(n.overlay=a),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i=e.width||this.width,a=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',c=o.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+r(-n[4]/n[0],c)+" "+r(-n[5]/n[3],c)+" "+r(this.width/n[0],c)+" "+r(this.height/n[3],c)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',a,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",o.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+o.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var n=t[e+"Color"];if(n&&n.toLive){var r=t[e+"Vpt"],i=t.viewportTransform,a={width:t.width/(r?i[0]:1),height:t.height/(r?i[3]:1)};return n.toSVG(a,{additionalTransform:r?o.util.matrixToSVG(i):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,n,r,i,a,s,c,u="",l={},f=o.fontPaths,h=[];for(this._objects.forEach((function t(e){h.push(e),e._objects&&e._objects.forEach(t)})),s=0,c=h.length;s<c;s++)if(e=(t=h[s]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&f[e]&&(l[e]=!0,t.styles))for(i in n=t.styles)for(a in r=n[i])!l[e=r[a].fontFamily]&&f[e]&&(l[e]=!0);for(var d in l)u+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",f[d],"');\n","\t\t}\n"].join("");return u&&(u=['\t<style type="text/css">',"<![CDATA[\n",u,"]]>","</style>\n"].join("")),u},_setSVGObjects:function(t,e){var n,r,i,o=this._objects;for(r=0,i=o.length;r<i;r++)(n=o[r]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e+"Color"],r=this.viewportTransform,i=this.width,a=this.height;if(n)if(n.toLive){var s=n.repeat,c=o.util.invertTransform(r),u=this[e+"Vpt"]?o.util.matrixToSVG(c):"";t.push('<rect transform="'+u+" translate(",i/2,",",a/2,')"',' x="',n.offsetX-i/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:i,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,i,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(i=o._objects).length;e--;)r=i[e],n(this._objects,r),this._objects.unshift(r);else n(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,r,i,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(i=o._objects,e=0;e<i.length;e++)r=i[e],n(this._objects,r),this._objects.push(r);else n(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var r,i,o,a,s,c=this._activeObject,u=0;if(t===c&&"activeSelection"===t.type)for(s=c._objects,r=0;r<s.length;r++)i=s[r],(o=this._objects.indexOf(i))>0+u&&(a=o-1,n(this._objects,i),this._objects.splice(a,0,i)),u++;else 0!==(o=this._objects.indexOf(t))&&(a=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,n){var r,i;if(n){for(r=e,i=e-1;i>=0;--i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,i,o,a,s,c=this._activeObject,u=0;if(t===c&&"activeSelection"===t.type)for(r=(s=c._objects).length;r--;)i=s[r],(o=this._objects.indexOf(i))<this._objects.length-1-u&&(a=o+1,n(this._objects,i),this._objects.splice(a,0,i)),u++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(a=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,n){var r,i,o;if(n){for(r=e,i=e+1,o=this._objects.length;i<o;++i)if(t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t)){r=i;break}}else r=e+1;return r},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(o.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),o.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(o.StaticCanvas.prototype,o.Observable),t(o.StaticCanvas.prototype,o.Collection),t(o.StaticCanvas.prototype,o.DataURLExporter),t(o.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=c();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"setLineDash":return"undefined"!==typeof n.setLineDash;default:return null}}}),o.StaticCanvas.prototype.toJSON=o.StaticCanvas.prototype.toObject,o.isLikelyNode&&(o.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},o.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),o.BaseBrush=o.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,n=t.contextTop,r=t.getZoom();t&&t._isRetinaScaling()&&(r*=o.devicePixelRatio),n.shadowColor=e.color,n.shadowBlur=e.blur*r,n.shadowOffsetX=e.offsetX*r,n.shadowOffsetY=e.offsetY*r}},needsFullRender:function(){return new o.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),o.PencilBrush=o.util.createClass(o.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,n){var r=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new o.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new o.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,r=this._points[0],i=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===i.x&&r.y===i.y){var a=this.width/1e3;r=new o.Point(r.x,r.y),i=new o.Point(i.x,i.y),r.x-=a,i.x+=a}for(n.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(n,r,i),r=this._points[t],i=this._points[t+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return o.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===o.util.joinPath(t)},createPath:function(t){var e=new o.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new o.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var n,r=this.canvas.getZoom(),i=Math.pow(e/r,2),o=t.length-1,a=t[0],s=[a];for(n=1;n<o-1;n++)Math.pow(a.x-t[n].x,2)+Math.pow(a.y-t[n].y,2)>=i&&(a=t[n],s.push(a));return s.push(t[o]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),o.CircleBrush=o.util.createClass(o.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,e),n.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),t=0,e=r.length;t<e;t++)this.dot(n,r[t]);n.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var i=this.points[t],a=new o.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(a.shadow=new o.Shadow(this.shadow)),r.push(a)}var s=new o.Group(r);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(t){var e=new o.Point(t.x,t.y),n=o.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new o.Color(this.color).setAlpha(o.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),o.SprayBrush=o.util.createClass(o.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],a=0,s=i.length;a<s;a++){var c=new o.Rect({width:i[a].width,height:i[a].width,left:i[a].x+1,top:i[a].y+1,originX:"center",originY:"center",fill:this.color});e.push(c)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new o.Group(e);this.shadow&&u.set("shadow",new o.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,n,r,i={};for(n=0,r=t.length;n<r;n++)i[e=t[n].left+""+t[n].top]||(i[e]=t[n]);var o=[];for(e in i)o.push(i[e]);return o},render:function(t){var e,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),e=0,n=t.length;e<n;e++){var i=t[e];"undefined"!==typeof i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var t,e,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);n.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,n,r,i,a=this.width/2;for(i=0;i<this.density;i++){e=o.util.getRandomInt(t.x-a,t.x+a),n=o.util.getRandomInt(t.y-a,t.y+a),r=this.dotWidthVariance?o.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new o.Point(e,n);s.width=r,this.randomOpacity&&(s.opacity=o.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),o.PatternBrush=o.util.createClass(o.PencilBrush,{getPatternSrc:function(){var t=o.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new o.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=o.util.getPointer,e=o.util.degreesToRadians,n=o.util.isTouchEvent;for(var r in o.Canvas=o.util.createClass(o.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=o.PencilBrush&&new o.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){e=[],n=[];for(var i=0,o=this._objects.length;i<o;i++)t=this._objects[i],-1===r.indexOf(t)?e.push(t):n.push(t);r.length>1&&(this._activeObject._objects=n),e.push.apply(e,n)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=o.util.invertTransform(n),i=this.restorePointerVpt(e);return o.util.transformPoint(i,r)},isTargetTransparent:function(t,e,n){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:n}),i=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),a=Math.max(t.cacheTranslationY+r.y*t.zoomY,0);return o.util.isTransparent(t._cacheContext,Math.round(i),Math.round(a),this.targetFindTolerance)}var s=this.contextCache,c=t.selectionBackgroundColor,u=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),t.render(s),s.restore(),t.selectionBackgroundColor=c,o.util.isTransparent(s,e,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var n=this.getActiveObjects(),r=this._activeObject;return!e||e&&r&&n.length>1&&-1===n.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t,e,n){var r;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?r=this.centeredScaling||t.centeredScaling:"rotate"===e&&(r=this.centeredRotation||t.centeredRotation),r?!n:n},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n,r){if(!e||!t)return"drag";var i=r.controls[e];return i.getActionName(n,i,r)},_setupCurrentTransform:function(t,n,r){if(n){var i=this.getPointer(t),a=n.__corner,s=n.controls[a],c=r&&a?s.getActionHandler(t,n,s):o.controlsUtils.dragHandler,u=this._getActionFromCorner(r,a,t,n),l=this._getOriginFromCorner(n,a),f=t[this.centeredKey],h={target:n,action:u,actionHandler:c,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:l.x,originY:l.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:e(n.angle),width:n.width*n.scaleX,shiftKey:t.shiftKey,altKey:f,original:o.util.saveObjectTransform(n)};this._shouldCenterTransform(n,u,f)&&(h.originX="center",h.originY="center"),h.original.originX=l.x,h.original.originY=l.y,this._currentTransform=h,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,n=new o.Point(e.ex,e.ey),r=o.util.transformPoint(n,this.viewportTransform),i=new o.Point(e.ex+e.left,e.ey+e.top),a=o.util.transformPoint(i,this.viewportTransform),s=Math.min(r.x,a.x),c=Math.min(r.y,a.y),u=Math.max(r.x,a.x),l=Math.max(r.y,a.y),f=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(s,c,u-s,l-c)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,s+=f,c+=f,u-=f,l-=f,o.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(s,c,u-s,l-c))},findTarget:function(t,e){if(!this.skipTargetFind){var r,i,o=this.getPointer(t,!0),a=this._activeObject,s=this.getActiveObjects(),c=n(t),u=s.length>1&&!e||1===s.length;if(this.targets=[],u&&a._findTargetCorner(o,c))return a;if(s.length>1&&!e&&a===this._searchPossibleTargets([a],o))return a;if(1===s.length&&a===this._searchPossibleTargets([a],o)){if(!this.preserveObjectStacking)return a;r=a,i=this.targets,this.targets=[]}var l=this._searchPossibleTargets(this._objects,o);return t[this.altSelectionKey]&&l&&r&&l!==r&&(l=r,this.targets=i),l}},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,n.x,n.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,r,i=t.length;i--;){var a=t[i],s=a.group?this._normalizePointer(a.group,e):e;if(this._checkTarget(s,a,e)){(n=t[i]).subTargetCheck&&n instanceof o.Group&&(r=this._searchPossibleTargets(n._objects,e))&&this.targets.push(r);break}}return n},restorePointerVpt:function(t){return o.util.transformPoint(t,o.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=t(e),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,c=a.height||0;s&&c||("top"in a&&"bottom"in a&&(c=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var u=this.getRetinaScaling();return 1!==u&&(i.x/=u,i.y/=u),r=0===s||0===c?{width:1,height:1}:{width:o.width/s,height:o.height/c},{x:i.x*r.width,y:i.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),o.util.addClass(n,"upper-canvas "+t),this.wrapperEl.appendChild(n),this._copyCanvasStyle(e,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=o.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),o.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),o.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,n=this.height||t.height;o.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=n,o.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var n=!1,r=this.getActiveObjects(),i=[],o=[];t.forEach((function(t){-1===r.indexOf(t)&&(n=!0,t.fire("deselected",{e:e,target:t}),o.push(t))})),r.forEach((function(r){-1===t.indexOf(r)&&(n=!0,r.fire("selected",{e:e,target:r}),i.push(r))})),t.length>0&&r.length>0?n&&this.fire("selection:updated",{e:e,selected:i,deselected:o,updated:i[0]||o[0],target:this._activeObject}):r.length>0?this.fire("selection:created",{e:e,selected:i,target:this._activeObject}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:o})},setActiveObject:function(t,e){var n=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(n,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e:e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var n=this._activeObject;if(n){if(n.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),n=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:n,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){o.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,o.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(t),i=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,r),i},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){e[n]=t[n]})),o.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,r)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),o.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),o.StaticCanvas)"prototype"!==r&&(o.Canvas[r]=o.StaticCanvas[r])}(),function(){var t=o.util.addListener,e=o.util.removeListener,n={passive:!1};function r(t,e){return t.button&&t.button===e-1}o.util.object.extend(o.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var r=this.upperCanvasEl,i=this._getEventPrefix();t(o.window,"resize",this._onResize),t(r,i+"down",this._onMouseDown),t(r,i+"move",this._onMouseMove,n),t(r,i+"out",this._onMouseOut),t(r,i+"enter",this._onMouseEnter),t(r,"wheel",this._onMouseWheel),t(r,"contextmenu",this._onContextMenu),t(r,"dblclick",this._onDoubleClick),t(r,"dragover",this._onDragOver),t(r,"dragenter",this._onDragEnter),t(r,"dragleave",this._onDragLeave),t(r,"drop",this._onDrop),this.enablePointerEvents||t(r,"touchstart",this._onTouchStart,n),"undefined"!==typeof eventjs&&e in eventjs&&(eventjs[e](r,"gesture",this._onGesture),eventjs[e](r,"drag",this._onDrag),eventjs[e](r,"orientation",this._onOrientationChange),eventjs[e](r,"shake",this._onShake),eventjs[e](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(o.document,t+"up",this._onMouseUp),e(o.document,"touchend",this._onTouchEnd,n),e(o.document,t+"move",this._onMouseMove,n),e(o.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:e,e:t}),r&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();t(o.document,"touchend",this._onTouchEnd,n),t(o.document,"touchmove",this._onMouseMove,n),e(i,a+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();e(i,a+"move",this._onMouseMove,n),t(o.document,a+"up",this._onMouseUp),t(o.document,a+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var i=this._getEventPrefix();e(o.document,"touchend",this._onTouchEnd,n),e(o.document,"touchmove",this._onMouseMove,n);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,i+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(r)&&(e(o.document,a+"up",this._onMouseUp),e(o.document,a+"move",this._onMouseMove,n),t(i,a+"move",this._onMouseMove,n))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!==!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,n=this._currentTransform,i=this._groupSelector,a=!1,s=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),r(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,s);else{if(r(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(n&&(this._finalizeCurrentTransform(t),a=n.actionPerformed),!s){var c=e===this._activeObject;this._maybeGroupObjects(t),a||(a=this._shouldRender(e)||!c&&e===this._activeObject)}if(e){if(e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),a=!0;else{var u=e._findTargetCorner(this.getPointer(t,!0),o.util.isTouchEvent(t)),l=e.controls[u],f=l&&l.getMouseUpHandler(t,e,l);if(f){var h=this.getPointer(t);f(t,n,h.x,h.y)}}e.isMoving=!1}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),a?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(t,e){var n=this.findTarget(e),r=this.targets,i={e:e,target:n,subTargets:r};if(this.fire(t,i),n&&n.fire(t,i),!r)return n;for(var o=0;o<r.length;o++)r[o].fire(t,i);return n},_handleEvent:function(t,e,n,r){var i=this._target,o=this.targets||[],a={e:t,target:i,subTargets:o,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(a.currentTarget=this.findTarget(t),a.currentSubTargets=this.targets),this.fire("mouse:"+e,a),i&&i.fire("mouse"+e,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e,n=this._currentTransform,r=n.target,i={e:t,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(e=this._addEventOptions(i,n),this._fire(e,i)),this._fire("modified",i))},_addEventOptions:function(t,e){var n,r;switch(e.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return t.by=r,n},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(r(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(r(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(e),a=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):a&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var c=e._findTargetCorner(this.getPointer(t,!0),o.util.isTouchEvent(t));if(e.__corner=c,e===this._activeObject&&(c||!a)){this._setupCurrentTransform(t,e,s);var u=e.controls[c],l=(n=this.getPointer(t),u&&u.getMouseDownHandler(t,e,u));l&&l(t,this._currentTransform,n.x,n.y)}}this._handleEvent(t,"down"),(i||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,n;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var r=this._groupSelector;r?(n=this._absolutePointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],e,{oldTarget:r[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],e,{oldTarget:r[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,n){var r,i,o,a=n.oldTarget,s=a!==t,c=n.canvasEvtIn,u=n.canvasEvtOut;s&&(r={e:e,target:t,previousTarget:a},i={e:e,target:a,nextTarget:t}),o=t&&s,a&&s&&(u&&this.fire(u,i),a.fire(n.evtOut,i)),o&&(c&&this.fire(c,r),t.fire(n.evtIn,r))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._performTransformAction(t,n,e),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,n){var r=n.x,i=n.y,o=e.action,a=!1,s=e.actionHandler;s&&(a=s(t,e,r,i)),"drag"===o&&a&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:o.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));i?this.setCursor(this.getCornerCursor(i,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){n=t.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,e,n){var r=e.controls[t];return r.cursorStyleHandler(n,r,e)}})}(),function(){var t=Math.min,e=Math.max;o.util.object.extend(o.Canvas.prototype,{_shouldGroup:function(t,e){var n=this._activeObject;return n&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(n!==e||"activeSelection"===n.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var n=this._activeObject;n.__corner||(e!==n||(e=this.findTarget(t,!0))&&e.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var n=this._activeObject,r=n._objects.slice(0);n.contains(t)?(n.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),e)):(n.addWithUpdate(t),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,e)},_createActiveSelection:function(t,e){var n=this.getActiveObjects(),r=this._createGroup(t);this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents(n,e)},_createGroup:function(t){var e=this._objects,n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new o.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(t){var e,n=this._collectObjects(t);1===n.length?this.setActiveObject(n[0],t):n.length>1&&(e=new o.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(n){for(var r,i=[],a=this._groupSelector.ex,s=this._groupSelector.ey,c=a+this._groupSelector.left,u=s+this._groupSelector.top,l=new o.Point(t(a,c),t(s,u)),f=new o.Point(e(a,c),e(s,u)),h=!this.selectionFullyContained,d=a===c&&s===u,p=this._objects.length;p--&&!((r=this._objects[p])&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(l,f,!0)||r.isContainedWithinRect(l,f,!0)||h&&r.containsPoint(l,null,!0)||h&&r.containsPoint(f,null,!0))&&(i.push(r),d)););return i.length>1&&(i=i.filter((function(t){return!t.onSelect({e:n})}))),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),o.util.object.extend(o.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(r,t);return o.util.toDataURL(i,e,n)},toCanvasElement:function(t,e){t=t||1;var n=((e=e||{}).width||this.width)*t,r=(e.height||this.height)*t,i=this.getZoom(),a=this.width,s=this.height,c=i*t,u=this.viewportTransform,l=(u[4]-(e.left||0))*t,f=(u[5]-(e.top||0))*t,h=this.interactive,d=[c,0,0,c,l,f],p=this.enableRetinaScaling,v=o.util.createCanvasElement(),g=this.contextTop;return v.width=n,v.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(v.getContext("2d"),this._objects),this.viewportTransform=u,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=p,this.contextTop=g,v}}),o.util.object.extend(o.StaticCanvas.prototype,{loadFromJSON:function(t,e,n){if(t){var r="string"===typeof t?JSON.parse(t):o.util.object.clone(t),i=this,a=r.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(t){i.clear(),i._setBgOverlay(r,(function(){a?i._enlivenObjects([a],(function(n){i.clipPath=n[0],i.__setupCanvas.call(i,r,t,s,e)})):i.__setupCanvas.call(i,r,t,s,e)}))}),n),this}},__setupCanvas:function(t,e,n,r){var i=this;e.forEach((function(t,e){i.insertAt(t,e)})),this.renderOnAddRemove=n,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),r&&r()},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,r),this.__setBgOverlay("overlayImage",t.overlayImage,n,r),this.__setBgOverlay("backgroundColor",t.background,n,r),this.__setBgOverlay("overlayColor",t.overlay,n,r)}else e&&e()},__setBgOverlay:function(t,e,n,r){var i=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?o.util.enlivenObjects([e],(function(e){i[t]=e[0],n[t]=!0,r&&r()})):this["set"+o.util.string.capitalize(t,!0)](e,(function(){n[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,n){t&&0!==t.length?o.util.enlivenObjects(t,(function(t){e&&e(t)}),null,n):e&&e([])},_toDataURL:function(t,e){this.clone((function(n){e(n.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,n){this.clone((function(r){n(r.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(n,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=o.util.createCanvasElement();e.width=this.width,e.height=this.height;var n=new o.Canvas(e);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),t&&t(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i=e.util.toFixed,o=e.util.string.capitalize,a=e.util.degreesToRadians,s=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:s,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,r=t.width,i=t.height,o=e.maxCacheSideLimit,a=e.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=n)return r<a&&(t.width=a),i<a&&(t.height=a),t;var s=r/i,c=e.util.limitDimsByArea(s,n),u=e.util.capValue,l=u(a,c.x,o),f=u(a,c.y,o);return r>l&&(t.zoomX/=r/l,t.width=l,t.capped=!0),i>f&&(t.zoomY/=i/f,t.height=f,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),n=e.x*t.scaleX/this.scaleX,r=e.y*t.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:t.scaleX,zoomY:t.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var n=t._currentTransform.target,r=t._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var i,o,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),c=e.minCacheSideLimit,u=s.width,l=s.height,f=s.zoomX,h=s.zoomY,d=u!==this.cacheWidth||l!==this.cacheHeight,p=this.zoomX!==f||this.zoomY!==h,v=d||p,g=0,m=0,y=!1;if(d){var b=this._cacheCanvas.width,_=this._cacheCanvas.height,w=u>b||l>_;y=w||(u<.9*b||l<.9*_)&&b>c&&_>c,w&&!s.capped&&(u>c||l>c)&&(g=.1*u,m=.1*l)}return this instanceof e.Text&&this.path&&(v=!0,y=!0,g+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!v&&(y?(a.width=Math.ceil(u+g),a.height=Math.ceil(l+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),i=s.x/2,o=s.y/2,this.cacheTranslationX=Math.round(a.width/2-i)+i,this.cacheTranslationY=Math.round(a.height/2-o)+o,this.cacheWidth=u,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(f,h),this.zoomX=f,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(r.clipPath=this.clipPath.toObject(t),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype;return n.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===n[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,n=t.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();e*=r*i,n*=r*i}return{scaleX:e,scaleY:n}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,n){var r="scaleX"===t||"scaleY"===t,i=this[t]!==n,o=!1;return r&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,i&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==u(this.shadow))||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var n=this.clipPath;if(t.save(),n.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",n.absolutePositioned){var r=e.util.invertTransform(this.calcTransformMatrix());t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},drawObject:function(t,e){var n=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t),this.fill=n,this.stroke=r},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var n=e.fill;n&&(n.toLive?(t.fillStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=n)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,n){var r,i,o,s=this.getViewportTransform(),c=this.calcTransformMatrix();i="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,c=e.util.multiplyTransformMatrices(s,c),r=e.util.qrDecompose(c),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),t.rotate(a(r.angle)),n.forActiveSelection||this.group?i&&this.drawBordersInGroup(t,r,n):i&&this.drawBorders(t,n),o&&this.drawControls(t,n),t.restore()},_setShadow:function(t){if(this.shadow){var n,r=this.shadow,i=this.canvas,o=i&&i.viewportTransform[0]||1,a=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(o*=e.devicePixelRatio,a*=e.devicePixelRatio),t.shadowColor=r.color,t.shadowBlur=r.blur*e.browserShadowBlurConstant*(o+a)*(n.scaleX+n.scaleY)/4,t.shadowOffsetX=r.offsetX*o*n.scaleX,t.shadowOffsetY=r.offsetY*a*n.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,i=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,r,i):t.transform(1,0,0,1,r,i),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=i.x/this.scaleX/a,c=i.y/this.scaleY/a;o.width=s,o.height=c,(r=o.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,c),r.lineTo(0,c),r.closePath(),r.translate(s/2,c/2),r.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(t),r.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),t.strokeStyle=r.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=e.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(n,"center","center")},clone:function(t,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,t):e.Object._fromObject("Object",r,t)},cloneAsImage:function(t,n){var r=this.toCanvasElement(n);return t&&t(new e.Image(r)),this},toCanvasElement:function(t){t||(t={});var n=e.util,r=n.saveObjectTransform(this),i=this.group,o=this.shadow,a=Math.abs,s=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&n.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var c,u,l,f,h=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,v={x:0,y:0};p&&(u=p.blur,c=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),v.x=2*Math.round(a(p.offsetX)+u)*a(c.scaleX),v.y=2*Math.round(a(p.offsetY)+u)*a(c.scaleY)),l=d.width+v.x,f=d.height+v.y,h.width=Math.ceil(l),h.height=Math.ceil(f);var g=new e.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(g.width/2,g.height/2),"center","center");var m=this.canvas;g.add(this);var y=g.toCanvasElement(s||1,t);return this.shadow=o,this.set("canvas",m),i&&(this.group=i),this.set(r).setCoords(),g._objects=[],g.dispose(),g=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var r=new e.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,i,a(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,i,o){var a=e[t];n=r(n,!0),e.util.enlivenPatterns([n.fill,n.stroke],(function(t){"undefined"!==typeof t[0]&&(n.fill=t[0]),"undefined"!==typeof t[1]&&(n.stroke=t[1]),e.util.enlivenObjects([n.clipPath],(function(t){n.clipPath=t[0];var e=o?new a(n[o],n):new a(n);i&&i(e)}))}))},e.Object.__uid=0)}(n),function(){var t=o.util.degreesToRadians,e={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};o.util.object.extend(o.Object.prototype,{translateToGivenOrigin:function(t,r,i,a,s){var c,u,l,f=t.x,h=t.y;return"string"===typeof r?r=e[r]:r-=.5,"string"===typeof a?a=e[a]:a-=.5,"string"===typeof i?i=n[i]:i-=.5,"string"===typeof s?s=n[s]:s-=.5,u=s-i,((c=a-r)||u)&&(l=this._getTransformedDimensions(),f=t.x+c*l.x,h=t.y+u*l.y),new o.Point(f,h)},translateToCenterPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,n,r,"center","center");return this.angle?o.util.rotatePoint(i,e,t(this.angle)):i},translateToOriginPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,"center","center",n,r);return this.angle?o.util.rotatePoint(i,e,t(this.angle)):i},getCenterPoint:function(){var t=new o.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,r){var i,a,s=this.getCenterPoint();return i="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(s,"center","center",n,r):new o.Point(this.left,this.top),a=new o.Point(e.x,e.y),this.angle&&(a=o.util.rotatePoint(a,s,-t(this.angle))),a.subtractEquals(i)},setPositionByOrigin:function(t,e,n){var r=this.translateToCenterPoint(t,e,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,i,a=t(this.angle),s=this.getScaledWidth(),c=o.util.cos(a)*s,u=o.util.sin(a)*s;r="string"===typeof this.originX?e[this.originX]:this.originX-.5,i="string"===typeof n?e[n]:n-.5,this.left+=c*(i-r),this.top+=u*(i-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var t=o.util,e=t.degreesToRadians,n=t.multiplyTransformMatrices,r=t.transformPoint;t.object.extend(o.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return n=this._getCoords(t,e),[new o.Point(n.tl.x,n.tl.y),new o.Point(n.tr.x,n.tr.y),new o.Point(n.br.x,n.br.y),new o.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(t,e,n,r){var i=this.getCoords(n,r);return"Intersection"===o.Intersection.intersectPolygonRectangle(i,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===o.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var r=this.getCoords(e,n),i=e?t.aCoords:t.lineCoords,o=0,a=t._getImageLines(i);o<4;o++)if(!t.containsPoint(r[o],a))return!1;return!0},isContainedWithinRect:function(t,e,n,r){var i=this.getBoundingRect(n,r);return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t,e,n,r){var i=this._getCoords(n,r),o=(e=e||this._getImageLines(i),this._findCrossPoints(t,e));return 0!==o&&o%2===1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some((function(t){return t.x<=n.x&&t.x>=e.x&&t.y<=n.y&&t.y>=e.y}))||!!this.intersectsWithRect(e,n,!0,t)||this._containsCenterOfCanvas(e,n,t)},_containsCenterOfCanvas:function(t,e,n){var r={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,n,!0,t)||this.getCoords(!0,t).every((function(t){return(t.x>=n.x||t.x<=e.x)&&(t.y>=n.y||t.y<=e.y)}))&&this._containsCenterOfCanvas(e,n,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,r,i,o=0;for(var a in e)if(!((i=e[a]).o.y<t.y&&i.d.y<t.y)&&!(i.o.y>=t.y&&i.d.y>=t.y)&&(i.o.x===i.d.x&&i.o.x>=t.x?r=i.o.x:(n=(i.d.y-i.o.y)/(i.d.x-i.o.x),r=-(t.y-0*t.x-(i.o.y-n*i.o.x))/(0-n)),r>=t.x&&(o+=1),2===o))break;return o},getBoundingRect:function(e,n){var r=this.getCoords(e,n);return t.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var n=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/n)},scaleToHeight:function(t,e){var n=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/n)},calcCoords:function(t){return t?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),i=this.padding,o=e(this.angle),a=t.cos(o)*i,s=t.sin(o)*i,c=a+s,u=a-s,l=this.calcACoords(),f={tl:r(l.tl,n),tr:r(l.tr,n),bl:r(l.bl,n),br:r(l.br,n)};return i&&(f.tl.x-=u,f.tl.y-=c,f.tr.x+=c,f.tr.y-=u,f.bl.x-=c,f.bl.y+=u,f.br.x+=u,f.br.y+=c),f},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),r=this.getViewportTransform(),i=n(r,e),o=n(i,t),a=(o=n(o,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl((function(t,e,n){s[e]=t.positionHandler(a,o,n)})),s},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=n(e,t),o=this._getTransformedDimensions(),a=o.x/2,s=o.y/2;return{tl:r({x:-a,y:-s},i),tr:r({x:a,y:-s},i),bl:r({x:-a,y:s},i),br:r({x:a,y:s},i)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var r=this.transformMatrixKey(t),i=this.matrixCache||(this.matrixCache={});return i.key===r?i.value:(this.group&&(e=n(this.group.calcTransformMatrix(!1),e)),i.key=r,i.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===e)return n.value;var r=this._calcTranslateMatrix(),i={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=e,n.value=t.composeMatrix(i),n.value},_calcDimensionsTransformMatrix:function(e,n,r){return t.calcDimensionsMatrix({skewX:e,skewY:n,scaleX:this.scaleX*(r&&this.flipX?-1:1),scaleY:this.scaleY*(r&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,n){"undefined"===typeof e&&(e=this.skewX),"undefined"===typeof n&&(n=this.skewY);var r,i,o,a=0===e&&0===n;if(this.strokeUniform?(i=this.width,o=this.height):(i=(r=this._getNonTransformedDimensions()).x,o=r.y),a)return this._finalizeDimensions(i*this.scaleX,o*this.scaleY);var s=t.sizeAfterTransform(i,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:n});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return r(e,t,!0).scalarAdd(2*this.padding)}})}(),o.util.object.extend(o.Object.prototype,{sendToBack:function(){return this.group?o.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?o.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?o.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?o.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?o.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new o.Color(e),r=t+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=t+"-opacity: "+i.toString()+"; "),r}return t+": none; "}var e=o.util.toFixed;o.util.object.extend(o.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u="undefined"!==typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",f=e?"":this.getSvgFilter(),h=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",c,"; ",h,"fill-rule: ",n,"; ","opacity: ",u,";",f,l].join("")},getSvgSpanStyles:function(e,n){var r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",i=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",o=(r=r,e.fontSize?"font-size: "+e.fontSize+"px; ":""),a=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",s=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",c=e.fill?t("fill",e.fill):"",u=e.stroke?t("stroke",e.stroke):"",l=this.getSvgTextDecoration(e);return l&&(l="text-decoration: "+l+"; "),[u,i,r,o,a,s,l,c,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var n=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+o.util.matrixToSVG(n)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var n=o.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,n),'" y="',e(-this.height/2,n),'" width="',e(this.width,n),'" height="',e(this.height,n),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var n=(e=e||{}).reviver,r=e.additionalTransform||"",i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=i,n?n(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var n,r,i=(e=e||{}).noStyle,a=e.reviver,s=i?"":'style="'+this.getSvgStyles()+'" ',c=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=u&&u.absolutePositioned,h=this.stroke,d=this.fill,p=this.shadow,v=[],g=t.indexOf("COMMON_PARTS"),m=e.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+o.Object.__uid++,r='<clipPath id="'+u.clipPathId+'" >\n'+u.toClipPathSVG(a)+"</clipPath>\n"),f&&v.push("<g ",c,this.getSvgCommons()," >\n"),v.push("<g ",this.getSvgTransform(!1),f?"":c+this.getSvgCommons()," >\n"),n=[s,l,i?"":this.addPaintOrder()," ",m?'transform="'+m+'" ':""].join(""),t[g]=n,d&&d.toLive&&v.push(d.toSVG(this)),h&&h.toLive&&v.push(h.toSVG(this)),p&&v.push(p.toSVG(this)),u&&v.push(r),v.push(t.join("")),v.push("</g>\n"),f&&v.push("</g>\n"),a?a(v.join("")):v.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=o.util.object.extend;function e(e,n,r){var i={};r.forEach((function(t){i[t]=e[t]})),t(e[n],i,!0)}o.util.object.extend(o.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,n,r){if(e===n)return!0;if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!t(e[i],n[i]))return!1;return!0}if(e&&"object"===u(e)){var a,s=Object.keys(e);if(!n||"object"!==u(n)||!r&&s.length!==Object.keys(n).length)return!1;for(i=0,o=s.length;i<o;i++)if("canvas"!==(a=s[i])&&"group"!==a&&!t(e[a],n[a]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var n=t&&t.propertySet||"stateProperties",r="_"+n;return this[r]?(e(this,r,this[n]),t&&t.stateProperties&&e(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=o.util.degreesToRadians;o.util.object.extend(o.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,i,o=t.x,a=t.y,s=Object.keys(this.oCoords),c=s.length-1;for(this.__corner=0;c>=0;c--)if(i=s[c],this.isControlVisible(i)&&(r=this._getImageLines(e?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(n=this._findCrossPoints({x:o,y:a},r))&&n%2===1))return this.__corner=i,i;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var n=this.controls[e];t[e].corner=n.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,i=n.x+r,o=n.y+r,a="undefined"!==typeof e.hasControls?e.hasControls:this.hasControls,s=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-i/2,-o/2,i,o),a&&(t.beginPath(),this.forEachControl((function(e,n,r){e.withConnection&&e.getVisibility(r,n)&&(s=!0,t.moveTo(e.x*i,e.y*o),t.lineTo(e.x*i+e.offsetX,e.y*o+e.offsetY))})),s&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,n){n=n||{};var r=o.util.sizeAfterTransform(this.width,this.height,e),i=this.strokeWidth,a=this.strokeUniform,s=this.borderScaleFactor,c=r.x+i*(a?this.canvas.getZoom():e.scaleX)+s,u=r.y+i*(a?this.canvas.getZoom():e.scaleY)+s;return t.save(),this._setLineDash(t,n.borderDashArray||this.borderDashArray),t.strokeStyle=n.borderColor||this.borderColor,t.strokeRect(-c/2,-u/2,c,u),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var n,r,i=this.canvas.getRetinaScaling();return t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(i,a,s){r=s.oCoords[a],i.getVisibility(s,a)&&(n&&(r=o.util.transformPoint(r,n)),i.render(t,r.x,r.y,e,s))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),o.util.object.extend(o.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,a=this;return o.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),a.requestRenderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,a=this;return o.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),a.requestRenderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var n=function(){},r=(e=e||{}).onComplete||n,i=e.onChange||n,a=this;return o.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),a.requestRenderAll(),i()},onComplete:function(){a.remove(t),r()}}),this}}),o.util.object.extend(o.Object.prototype,{animate:function(){if(arguments[0]&&"object"===u(arguments[0])){var t,e,n=[];for(t in arguments[0])n.push(t);for(var r=0,i=n.length;r<i;r++)t=n[r],e=r!==i-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,r){var i,a=this;e=e.toString(),n=n?o.util.object.clone(n):{},~t.indexOf(".")&&(i=t.split("."));var s=a.colorProperties.indexOf(t)>-1||i&&a.colorProperties.indexOf(i[1])>-1,c=i?this.get(i[0])[i[1]]:this.get(t);"from"in n||(n.from=c),s||(e=~e.indexOf("=")?c+parseFloat(e.replace("=","")):parseFloat(e));var u={startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(t,e,r){return n.abort.call(a,t,e,r)},onChange:function(e,o,s){i?a[i[0]][i[1]]=e:a.set(t,e),r||n.onChange&&n.onChange(e,o,s)},onComplete:function(t,e,i){r||(a.setCoords(),n.onComplete&&n.onComplete(t,e,i))}};return s?o.util.animateColor(u.startValue,u.endValue,u.duration,u):o.util.animate(u)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function o(t,e){var n=t.origin,r=t.axis1,i=t.axis2,o=t.dimension,a=e.nearest,s=e.center,c=e.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case c:return Math.max(this.get(r),this.get(i))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof i[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var n=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,r=e*this.height*.5;return{x1:n,x2:t*this.width*-.5,y1:r,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,r,i){i=i||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),a=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];r(new e.Line(a,n(o,i)))},e.Line.fromObject=function(t,n){var i=r(t,!0);i.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",i,(function(t){delete t.points,n&&n(t)}),"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=e.util.cos(this.startAngle)*this.radius,o=e.util.sin(this.startAngle)*this.radius,a=e.util.cos(this.endAngle)*this.radius,s=e.util.sin(this.endAngle)*this.radius,c=r>n?"1":"0";t=['<path d="M '+i+" "+o," A "+this.radius+" "+this.radius," 0 ",+c+" 1"," "+a+" "+s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){var r,i=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new e.Circle(i))},e.Circle.fromObject=function(t,n){e.Object._fromObject("Circle",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,n){return e.Object._fromObject("Triangle",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,n,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new e.Ellipse(r))},e.Ellipse.fromObject=function(t,n){e.Object._fromObject("Ellipse",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,o=-this.width/2,a=-this.height/2,s=0!==e||0!==n,c=.4477152502;t.beginPath(),t.moveTo(o+e,a),t.lineTo(o+r-e,a),s&&t.bezierCurveTo(o+r-c*e,a,o+r,a+c*n,o+r,a+n),t.lineTo(o+r,a+i-n),s&&t.bezierCurveTo(o+r,a+i-c*n,o+r-c*e,a+i,o+r-e,a+i),t.lineTo(o+e,a+i),s&&t.bezierCurveTo(o+c*e,a+i,o,a+i-c*n,o,a+i-n),t.lineTo(o,a+n),s&&t.bezierCurveTo(o,a+c*n,o+c*e,a,o+e,a),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r,i){if(!t)return r(null);i=i||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var a=new e.Rect(n(i?e.util.object.clone(i):{},o));a.visible=a.visible&&a.width>0&&a.height>0,r(a)},e.Rect.fromObject=function(t,n){return e.Object._fromObject("Rect",t,n)})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,i=e.util.array.max,o=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,n=this._calcDimensions(t);this.width=n.width,this.height=n.height,t.fromSVG||(e=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof t.left&&(this.left=t.fromSVG?n.left:e.x),"undefined"===typeof t.top&&(this.top=t.fromSVG?n.top:e.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x")||0,n=r(t,"y")||0;return{left:e,top:n,width:(i(t,"x")||0)-e,height:(i(t,"y")||0)-n}},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],n=this.pathOffset.x,r=this.pathOffset.y,i=e.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)t.push(o(this.points[a].x-n,i),",",o(this.points[a].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-i);for(var o=0;o<n;o++)e=this.points[o],t.lineTo(e.x-r,e.y-i);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(r,i,o){if(!r)return i(null);o||(o={});var a=e.parsePointsAttribute(r.getAttribute("points")),s=e.parseAttributes(r,e[t].ATTRIBUTE_NAMES);s.fromSVG=!0,i(new e[t](a,n(s,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,n){return e.Object._fromObject("Polyline",t,n,"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,n){e.Object._fromObject("Polygon",t,n,"points")})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max,i=e.util.object.extend,o=Object.prototype.toString,a=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,n){n=n||{},this.callSuper("initialize",n),t||(t=[]);var r="[object Array]"===o.call(t);this.path=e.util.makePathSimpler(r?t:e.util.parsePath(t)),this.path&&e.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(t){var e,n=0,r=0,i=0,o=0,a=0,s=0,c=-this.pathOffset.x,u=-this.pathOffset.y;t.beginPath();for(var l=0,f=this.path.length;l<f;++l)switch((e=this.path[l])[0]){case"L":i=e[1],o=e[2],t.lineTo(i+c,o+u);break;case"M":n=i=e[1],r=o=e[2],t.moveTo(i+c,o+u);break;case"C":i=e[5],o=e[6],a=e[3],s=e[4],t.bezierCurveTo(e[1]+c,e[2]+u,a+c,s+u,i+c,o+u);break;case"Q":t.quadraticCurveTo(e[1]+c,e[2]+u,e[3]+c,e[4]+u),i=e[3],o=e[4],a=e[1],s=e[2];break;case"z":case"Z":i=n,o=r,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return i(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,t)+", "+a(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,i,o=[],a=[],s=0,c=0,u=0,l=0,f=0,h=this.path.length;f<h;++f){switch((t=this.path[f])[0]){case"L":u=t[1],l=t[2],i=[];break;case"M":s=u=t[1],c=l=t[2],i=[];break;case"C":i=e.util.getBoundsOfCurve(u,l,t[1],t[2],t[3],t[4],t[5],t[6]),u=t[5],l=t[6];break;case"Q":i=e.util.getBoundsOfCurve(u,l,t[1],t[2],t[1],t[2],t[3],t[4]),u=t[3],l=t[4];break;case"z":case"Z":u=s,l=c}i.forEach((function(t){o.push(t.x),a.push(t.y)})),o.push(u),a.push(l)}var d=n(o)||0,p=n(a)||0;return{left:d,top:p,width:(r(o)||0)-d,height:(r(a)||0)-p}}}),e.Path.fromObject=function(t,n){if("string"===typeof t.sourcePath){var r=t.sourcePath;e.loadSVGFromURL(r,(function(e){var r=e[0];r.setOptions(t),n&&n(r)}))}else e.Object._fromObject("Path",t,n,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,r){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new e.Path(o.d,i(o,r)))})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var n=t.left,r=t.top;t.set({left:n-e.x,top:r-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var n=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(n&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,n);if("canvas"===t)for(;r--;)this._objects[r]._set(t,n);e.Object.prototype._set.call(this,t,n)},toObject:function(t){var n=this.includeDefaultValues,r=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var r=e.includeDefaultValues;e.includeDefaultValues=n;var i=e.toObject(t);return e.includeDefaultValues=r,i})),i=e.Object.prototype.toObject.call(this,t);return i.objects=r,i},toDatalessObject:function(t){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=i;var r=e.toDatalessObject(t);return e.includeDefaultValues=n,r}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=n,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(n){e.util.addTransformToObject(n,t),delete n.group,n.setCoords()})),this},realizeTransform:function(t,n){return e.util.addTransformToObject(t,n),t},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new e.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),t.forEach((function(t){t.group=i,t.dirty=!0,n.add(t)})),i.canvas=n,i._objects=t,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0)})),this},_calcBounds:function(t){for(var e,n,r,i,o=[],a=[],s=["tr","br","bl","tl"],c=0,u=this._objects.length,l=s.length;c<u;++c){for(r=(e=this._objects[c]).calcACoords(),i=0;i<l;i++)n=s[i],o.push(r[n].x),a.push(r[n].y);e.aCoords=r}this._getBounds(o,a,t)},_getBounds:function(t,i,o){var a=new e.Point(n(t),n(i)),s=new e.Point(r(t),r(i)),c=a.y||0,u=a.x||0,l=s.x-a.x||0,f=s.y-a.y||0;this.width=l,this.height=f,o||this.setPositionByOrigin({x:u,y:c},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)e.push("\t\t",this._objects[n].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],n=0,r=this._objects.length;n<r;n++)e.push("\t",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,n){var r=t.objects,i=e.util.object.clone(t,!0);delete i.objects,"string"!==typeof r?e.util.enlivenObjects(r,(function(r){e.util.enlivenObjects([t.clipPath],(function(i){var o=e.util.object.clone(t,!0);o.clipPath=i[0],delete o.objects,n&&n(new e.Group(r,o,!0))}))})):e.loadSVGFromURL(r,(function(o){var a=e.util.groupSVGElements(o,t,r);a.set(i),n&&n(a)}))})}(n),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,n){n=n||{},this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var n=e.Object.prototype.toObject.call(this),r=new e.Group([]);if(delete n.type,r.set(n),t.forEach((function(t){t.canvas.remove(t),t.group=r})),r._objects=t,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(t,n);t.restore()}}),e.ActiveSelection.fromObject=function(t,n){e.util.enlivenObjects(t.objects,(function(r){delete t.objects,n&&n(new e.ActiveSelection(r,t,!0))}))})}(n),function(t){"use strict";var e=o.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?o.warn("fabric.Image is already defined."):(o.Image=o.util.createClass(o.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:o.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:o.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+o.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=o.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){o.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},toObject:function(t){var n=[];this.filters.forEach((function(t){t&&n.push(t.toObject())}));var r=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],n=[],r=this._element,i=-this.width/2,a=-this.height/2,s="",c="";if(!r)return[];if(this.hasCrop()){var u=o.Object.__uid++;e.push('<clipPath id="imageCrop_'+u+'">\n','\t<rect x="'+i+'" y="'+a+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',a-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,c,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var l=this.fill;this.fill=null,t=["\t<rect ",'x="',i,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=l}return e="fill"!==this.paintFirst?e.concat(t,n):e.concat(n,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,n){return o.util.loadImage(t,(function(t,r){this.setElement(t,n),this._setWidthHeight(),e&&e(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,i=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&i>e)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=i);o.filterBackend||(o.filterBackend=o.initFilterBackend());var s=o.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,u=a.width,l=a.height;s.width=u,s.height=l,this._element=s,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=i,o.filterBackend.applyFilters([t],a,u,l,this._element,c),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var i=o.util.createCanvasElement();i.width=n,i.height=r,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return o.filterBackend||(o.filterBackend=o.initFilterBackend()),o.filterBackend.applyFilters(t,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){o.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){o.util.setImageSmoothing(t,this.imageSmoothing),o.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var n=this._filterScalingX,r=this._filterScalingY,i=this.width,o=this.height,a=Math.min,s=Math.max,c=s(this.cropX,0),u=s(this.cropY,0),l=e.naturalWidth||e.width,f=e.naturalHeight||e.height,h=c*n,d=u*r,p=a(i*n,l-h),v=a(o*r,f-d),g=-i/2,m=-o/2,y=a(i,l/n-c),b=a(o,f/r-u);e&&t.drawImage(e,h,d,p,v,g,m,y,b)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(o.util.getById(t),e),o.util.addClass(this.getElement(),o.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?o.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=o.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,i=1,a=1,s=0,c=0,u=0,l=0,f=this.width,h=this.height,d={width:f,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(i=f/n,a=h/r):("meet"===e.meetOrSlice&&(t=(f-n*(i=a=o.util.findScaleToFit(this._element,d)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(h-r*a)/2,"Min"===e.alignY&&(c=-t),"Max"===e.alignY&&(c=t)),"slice"===e.meetOrSlice&&(t=n-f/(i=a=o.util.findScaleToCover(this._element,d)),"Mid"===e.alignX&&(u=t/2),"Max"===e.alignX&&(u=t),t=r-h/a,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),n=f/i,r=h/a)),{width:n,height:r,scaleX:i,scaleY:a,offsetLeft:s,offsetTop:c,cropX:u,cropY:l}}}),o.Image.CSS_CANVAS="canvas-img",o.Image.prototype.getSvgSrc=o.Image.prototype.getSrc,o.Image.fromObject=function(t,e){var n=o.util.object.clone(t);o.util.loadImage(n.src,(function(t,r){r?e&&e(null,!0):o.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],o.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],o.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var i=new o.Image(t,n);e(i,!1)}))}))}))}),null,n.crossOrigin)},o.Image.fromURL=function(t,e,n){o.util.loadImage(t,(function(t,r){e&&e(new o.Image(t,n),r)}),null,n&&n.crossOrigin)},o.Image.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),o.Image.fromElement=function(t,n,r){var i=o.parseAttributes(t,o.Image.ATTRIBUTE_NAMES);o.Image.fromURL(i["xlink:href"],n,e(r?o.util.object.clone(r):{},i))})}(n),o.util.object.extend(o.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,r=t.onChange||e,i=this;return o.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){i.rotate(t),r()},onComplete:function(){i.setCoords(),n()}}),this}}),o.util.object.extend(o.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var n="precision "+e+" float;\nvoid main(){}",r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,n),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}o.isWebglSupported=function(e){if(o.isLikelyNode)return!1;e=e||o.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),i=!1;if(r){o.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),i=o.maxTextureSize>=e;for(var a=["highp","mediump","lowp"],s=0;s<3;s++)if(t(r,a[s])){o.webGlPrecision=a[s];break}}return this.isSupported=i,i},o.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(p){n=!1}var i="undefined"!==typeof ArrayBuffer,a="undefined"!==typeof Uint8ClampedArray;if(r&&n&&i&&a){var u=o.util.createCanvasElement(),l=new ArrayBuffer(t*e*4);if(o.forceGLPutImageData)return this.imageBuffer=l,void(this.copyGLTo2D=c);var f,h,d={imageBuffer:l,destinationWidth:t,destinationHeight:e,targetCanvas:u};u.width=t,u.height=e,f=window.performance.now(),s.call(d,this.gl,d),h=window.performance.now()-f,f=window.performance.now(),c.call(d,this.gl,d),h>window.performance.now()-f?(this.imageBuffer=l,this.copyGLTo2D=c):this.copyGLTo2D=s}},createWebGLCanvas:function(t,e){var n=o.util.createCanvasElement();n.width=t,n.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",r);i||(i=n.getContext("experimental-webgl",r)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(t,e,n,r,i,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,e));var c={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!a&&e),targetTexture:this.createTexture(s,n,r),originalTexture:a||this.createTexture(s,n,r,!a&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},u=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,u),t.forEach((function(t){t&&t.applyTo(c)})),function(t){var e=t.targetCanvas,n=e.width,r=e.height,i=t.destinationWidth,o=t.destinationHeight;n===i&&r===o||(e.width=i,e.height=o)}(c),this.copyGLTo2D(s,c),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(c.sourceTexture),s.deleteTexture(c.targetTexture),s.deleteFramebuffer(u),i.getContext("2d").setTransform(1,0,0,1,0,0),c},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,n,r){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),i},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var n=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=n,n},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var n=t.getExtension("WEBGL_debug_renderer_info");if(n){var r=t.getParameter(n.UNMASKED_RENDERER_WEBGL),i=t.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),i&&(e.vendor=i.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}o.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,n,r,i){var o=i.getContext("2d");o.drawImage(e,0,0,n,r);var a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:e,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(a)})),a.imageData.width===n&&a.imageData.height===r||(i.width=a.imageData.width,i.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),o.Image=o.Image||{},o.Image.filters=o.Image.filters||{},o.Image.filters.BaseFilter=o.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,n){e=e||this.fragmentSource,n=n||this.vertexSource,"highp"!==o.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+o.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(i));var a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(a));var s=this.getAttributeLocations(t,a),c=this.getUniformLocations(t,a)||{};return c.uStepW=t.getUniformLocation(a,"uStepW"),c.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:c}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,n){var r=e.aPosition,i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,n,r=t.context;t.passes>1?(e=t.destinationWidth,n=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===n||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=o.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var n=e[t].length;n--;)if(this[t][n]!==e[t][n])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,n=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),o.Image.filters.BaseFilter.fromObject=function(t,e){var n=new o.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,n,r,i,o,a=t.imageData.data,s=a.length,c=this.matrix,u=this.colorsOnly;for(o=0;o<s;o+=4)e=a[o],n=a[o+1],r=a[o+2],u?(a[o]=e*c[0]+n*c[1]+r*c[2]+255*c[4],a[o+1]=e*c[5]+n*c[6]+r*c[7]+255*c[9],a[o+2]=e*c[10]+n*c[11]+r*c[12]+255*c[14]):(i=a[o+3],a[o]=e*c[0]+n*c[1]+r*c[2]+i*c[3]+255*c[4],a[o+1]=e*c[5]+n*c[6]+r*c[7]+i*c[8]+255*c[9],a[o+2]=e*c[10]+n*c[11]+r*c[12]+i*c[13]+255*c[14],a[o+3]=e*c[15]+n*c[16]+r*c[17]+i*c[18]+255*c[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,i)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,n=t.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(e=0;e<r;e+=4)n[e]=n[e]+i,n[e+1]=n[e+1]+i,n[e+2]=n[e+2]+i}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),n=this.type+"_"+e+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return t.programCache.hasOwnProperty(n)||(t.programCache[n]=this.createProgram(t.context,r)),t.programCache[n]},applyTo2d:function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p=t.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,_=p.height,w=t.ctx.createImageData(b,_),x=w.data,S=this.opaque?1:0;for(f=0;f<_;f++)for(l=0;l<b;l++){for(o=4*(f*b+l),e=0,n=0,r=0,i=0,d=0;d<m;d++)for(h=0;h<m;h++)a=l+h-y,(s=f+d-y)<0||s>=_||a<0||a>=b||(c=4*(s*b+a),u=g[d*m+h],e+=v[c]*u,n+=v[c+1]*u,r+=v[c+2]*u,S||(i+=v[c+3]*u));x[o]=e,x[o+1]=n,x[o+2]=r,x[o+3]=S?v[o+3]:i}t.imageData=w},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,n,r=t.imageData.data,i=r.length,o=this.mode;for(e=0;e<i;e+=4)"average"===o?n=(r[e]+r[e+1]+r[e+2])/3:"lightness"===o?n=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===o&&(n=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=n,r[e+1]=n,r[e+2]=n},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var n=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,n)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,n=t.imageData.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,n,r=t.imageData.data,i=r.length,o=this.noise;for(e=0,i=r.length;e<i;e+=4)n=(.5-Math.random())*o,r[e]+=n,r[e+1]+=n,r[e+2]+=n}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,n,r,i,o,a,s,c,u,l,f,h=t.imageData,d=h.data,p=h.height,v=h.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<v;r+=this.blocksize)for(i=d[e=4*n*v+4*r],o=d[e+1],a=d[e+2],s=d[e+3],l=Math.min(n+this.blocksize,p),f=Math.min(r+this.blocksize,v),c=n;c<l;c++)for(u=r;u<f;u++)d[e=4*c*v+4*u]=i,d[e+1]=o,d[e+2]=a,d[e+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.RemoveColor=i(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var n,r,i,o,a=t.imageData.data,s=255*this.distance,c=new e.Color(this.color).getSource(),u=[c[0]-s,c[1]-s,c[2]-s],l=[c[0]+s,c[1]+s,c[2]+s];for(n=0;n<a.length;n+=4)r=a[n],i=a[n+1],o=a[n+2],r>u[0]&&i>u[1]&&o>u[2]&&r<l[0]&&i<l[1]&&o<l[2]&&(a[n+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,n){var r=new e.Color(this.color).getSource(),i=parseFloat(this.distance),o=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],a=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];t.uniform4fv(n.uLow,o),t.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)n[o]=r(n.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric,n=e.Image.filters,r=e.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,n=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(n)||(e=this.buildSource(this.mode),t.programCache[n]=this.createProgram(t.context,e)),t.programCache[n]},applyTo2d:function(t){var n,r,i,o,a,s,c,u=t.imageData.data,l=u.length,f=1-this.alpha;n=(c=new e.Color(this.color).getSource())[0]*this.alpha,r=c[1]*this.alpha,i=c[2]*this.alpha;for(var h=0;h<l;h+=4)switch(o=u[h],a=u[h+1],s=u[h+2],this.mode){case"multiply":u[h]=o*n/255,u[h+1]=a*r/255,u[h+2]=s*i/255;break;case"screen":u[h]=255-(255-o)*(255-n)/255,u[h+1]=255-(255-a)*(255-r)/255,u[h+2]=255-(255-s)*(255-i)/255;break;case"add":u[h]=o+n,u[h+1]=a+r,u[h+2]=s+i;break;case"diff":case"difference":u[h]=Math.abs(o-n),u[h+1]=Math.abs(a-r),u[h+2]=Math.abs(s-i);break;case"subtract":u[h]=o-n,u[h+1]=a-r,u[h+2]=s-i;break;case"darken":u[h]=Math.min(o,n),u[h+1]=Math.min(a,r),u[h+2]=Math.min(s,i);break;case"lighten":u[h]=Math.max(o,n),u[h+1]=Math.max(a,r),u[h+2]=Math.max(s,i);break;case"overlay":u[h]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,u[h+1]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,u[h+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":u[h]=n+o-2*n*o/255,u[h+1]=r+a-2*r*a/255,u[h+2]=i+s-2*i*s/255;break;case"tint":u[h]=n+o*f,u[h+1]=r+a*f,u[h+2]=i+s*f}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,n){var r=new e.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric,n=e.Image.filters,r=e.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,n)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,n=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]},applyTo2d:function(t){var n,r,i,o,a,s,c,u,l,f,h,d=t.imageData,p=t.filterBackend.resources,v=d.data,g=v.length,m=d.width,y=d.height,b=this.image;p.blendImage||(p.blendImage=e.util.createCanvasElement()),f=(l=p.blendImage).getContext("2d"),l.width!==m||l.height!==y?(l.width=m,l.height=y):f.clearRect(0,0,m,y),f.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),f.drawImage(b._element,0,0,m,y),h=f.getImageData(0,0,m,y).data;for(var _=0;_<g;_+=4)switch(a=v[_],s=v[_+1],c=v[_+2],u=v[_+3],n=h[_],r=h[_+1],i=h[_+2],o=h[_+3],this.mode){case"multiply":v[_]=a*n/255,v[_+1]=s*r/255,v[_+2]=c*i/255,v[_+3]=u*o/255;break;case"mask":v[_+3]=o}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,n){e.Image.fromObject(t.image,(function(r){var i=e.util.object.clone(t);i.image=r,n(new e.Image.filters.BlendImage(i))}))}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,a=Math.round,s=Math.sin,c=Math.ceil,u=e.Image.filters,l=e.util.createClass;u.Resize=l(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),n=this.type+"_"+e;if(!t.programCache.hasOwnProperty(n)){var r=this.generateShader(e);t.programCache[n]=this.createProgram(t.context,r)}return t.programCache[n]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=t(i*e);return r},generateShader:function(t){for(var e=new Array(t),n=this.fragmentSourceTOP,r=1;r<=t;r++)e[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+t+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",e.forEach((function(t,e){n+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",n+="  sum += 2.0 * uTaps["+e+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var n=(e*=Math.PI)/t;return s(e)/e*s(n)/n}},applyTo2d:function(t){var e=t.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,o=e.width,s=e.height,c=a(o*n),u=a(s*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(t,o,s,c,u):"hermite"===this.resizeType?i=this.hermiteFastResize(t,o,s,c,u):"bilinear"===this.resizeType?i=this.bilinearFiltering(t,o,s,c,u):"lanczos"===this.resizeType&&(i=this.lanczosResize(t,o,s,c,u)),t.imageData=i},sliceByTwo:function(t,n,i,o,a){var s,c,u=t.imageData,l=!1,f=!1,h=.5*n,d=.5*i,p=e.filterBackend.resources,v=0,g=0,m=n,y=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((s=p.sliceByTwo).width<1.5*n||s.height<i)&&(s.width=1.5*n,s.height=i),(c=s.getContext("2d")).clearRect(0,0,1.5*n,i),c.putImageData(u,0,0),o=r(o),a=r(a);!l||!f;)n=h,i=d,o<r(.5*h)?h=r(.5*h):(h=o,l=!0),a<r(.5*d)?d=r(.5*d):(d=a,f=!0),c.drawImage(s,v,g,n,i,m,y,h,d),v=m,g=y,y+=d;return c.getImageData(v,g,o,a)},lanczosResize:function(t,e,a,s,u){var l=t.imageData.data,f=t.ctx.createImageData(s,u),h=f.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,v=this.rcpScaleY,g=2/this.rcpScaleX,m=2/this.rcpScaleY,y=c(p*this.lanczosLobes/2),b=c(v*this.lanczosLobes/2),_={},w={},x={};return function t(c){var S,C,M,O,k,E,I,j,A,T,D;for(w.x=(c+.5)*p,x.x=r(w.x),S=0;S<u;S++){for(w.y=(S+.5)*v,x.y=r(w.y),k=0,E=0,I=0,j=0,A=0,C=x.x-y;C<=x.x+y;C++)if(!(C<0||C>=e)){T=r(1e3*o(C-w.x)),_[T]||(_[T]={});for(var P=x.y-b;P<=x.y+b;P++)P<0||P>=a||(D=r(1e3*o(P-w.y)),_[T][D]||(_[T][D]=d(i(n(T*g,2)+n(D*m,2))/1e3)),(M=_[T][D])>0&&(k+=M,E+=M*l[O=4*(P*e+C)],I+=M*l[O+1],j+=M*l[O+2],A+=M*l[O+3]))}h[O=4*(S*s+c)]=E/k,h[O+1]=I/k,h[O+2]=j/k,h[O+3]=A/k}return++c<s?t(c):f}(0)},bilinearFiltering:function(t,e,n,i,o){var a,s,c,u,l,f,h,d,p,v=0,g=this.rcpScaleX,m=this.rcpScaleY,y=4*(e-1),b=t.imageData.data,_=t.ctx.createImageData(i,o),w=_.data;for(c=0;c<o;c++)for(u=0;u<i;u++)for(l=g*u-(a=r(g*u)),f=m*c-(s=r(m*c)),p=4*(s*e+a),h=0;h<4;h++)d=b[p+h]*(1-l)*(1-f)+b[p+4+h]*l*(1-f)+b[p+y+h]*f*(1-l)+b[p+y+4+h]*l*f,w[v++]=d;return _},hermiteFastResize:function(t,e,n,a,s){for(var u=this.rcpScaleX,l=this.rcpScaleY,f=c(u/2),h=c(l/2),d=t.imageData.data,p=t.ctx.createImageData(a,s),v=p.data,g=0;g<s;g++)for(var m=0;m<a;m++){for(var y=4*(m+g*a),b=0,_=0,w=0,x=0,S=0,C=0,M=0,O=(g+.5)*l,k=r(g*l);k<(g+1)*l;k++)for(var E=o(O-(k+.5))/h,I=(m+.5)*u,j=E*E,A=r(m*u);A<(m+1)*u;A++){var T=o(I-(A+.5))/f,D=i(j+T*T);D>1&&D<-1||(b=2*D*D*D-3*D*D+1)>0&&(M+=b*d[3+(T=4*(A+k*e))],w+=b,d[T+3]<255&&(b=b*d[T+3]/250),x+=b*d[T],S+=b*d[T+1],C+=b*d[T+2],_+=b)}v[y]=x/_,v[y+1]=S/_,v[y+2]=C/_,v[y+3]=M/w}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,n=t.imageData.data,r=n.length,i=Math.floor(255*this.contrast),o=259*(i+255)/(255*(259-i));for(e=0;e<r;e+=4)n[e]=o*(n[e]-128)+128,n[e+1]=o*(n[e+1]-128)+128,n[e+2]=o*(n[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,n,r=t.imageData.data,i=r.length,o=-this.saturation;for(e=0;e<i;e+=4)n=Math.max(r[e],r[e+1],r[e+2]),r[e]+=n!==r[e]?(n-r[e])*o:0,r[e+1]+=n!==r[e+1]?(n-r[e+1])*o:0,r[e+2]+=n!==r[e+2]?(n-r[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Vibrance=r(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,n,r,i,o=t.imageData.data,a=o.length,s=-this.vibrance;for(e=0;e<a;e+=4)n=Math.max(o[e],o[e+1],o[e+2]),r=(o[e]+o[e+1]+o[e+2])/3,i=2*Math.abs(n-r)/255*s,o[e]+=n!==o[e]?(n-o[e])*i:0,o[e+1]+=n!==o[e+1]?(n-o[e+1])*i:0,o[e+2]+=n!==o[e+2]?(n-o[e+2])*i:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var n,r,i=t.filterBackend.resources,o=t.imageData.width,a=t.imageData.height;i.blurLayer1||(i.blurLayer1=e.util.createCanvasElement(),i.blurLayer2=e.util.createCanvasElement()),n=i.blurLayer1,r=i.blurLayer2,n.width===o&&n.height===a||(r.width=n.width=o,r.height=n.height=a);var s,c,u,l,f=n.getContext("2d"),h=r.getContext("2d"),d=.06*this.blur*.5;for(f.putImageData(t.imageData,0,0),h.clearRect(0,0,o,a),l=-15;l<=15;l++)u=d*(c=l/15)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(n,u,s),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(l=-15;l<=15;l++)u=d*(c=l/15)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(n,s,u),f.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);t.ctx.drawImage(n,0,0);var p=t.ctx.getImageData(0,0,n.width,n.height);return f.globalAlpha=1,f.clearRect(0,0,n.width,n.height),p},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var n=this.chooseRightDelta();t.uniform2fv(e.delta,n)},chooseRightDelta:function(){var t,e=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),n.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,n=t.imageData.data,r=this.gamma,i=n.length,o=1/r[0],a=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,i=256;e<i;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,a),this.bVals[e]=255*Math.pow(e/255,s);for(e=0,i=n.length;e<i;e+=4)n[e]=this.rVals[n[e]],n[e+1]=this.gVals[n[e+1]],n[e+2]=this.bVals[n[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,n){var r=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),i=new e.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,n=e.util.cos(t),r=e.util.sin(t),i=Math.sqrt(1/3)*r,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=1/3*o-i,this.matrix[2]=1/3*o+i,this.matrix[5]=1/3*o+i,this.matrix[6]=n+1/3*o,this.matrix[7]=1/3*o-i,this.matrix[10]=1/3*o-i,this.matrix[11]=1/3*o+i,this.matrix[12]=n+1/3*o},isNeutralState:function(t){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(n),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(r),cacheProperties:e.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,n,r,i,o,a,s=0,c=this._textLines.length;s<c;s++)if(("justify"===this.textAlign||s!==c-1&&!this.isEndOfWrapping(s))&&(r=0,i=this._textLines[s],(e=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,t=(this.width-e)/n;for(var u=0,l=i.length;u<=l;u++)o=this.__charBounds[s][u],this._reSpaceAndTab.test(i[u])?(o.width+=t,o.kernedWidth+=t,o.left+=r,r+=t):o.left+=r}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,n){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,n)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,n=this._textLines.length;e<n;e++){var r=this.getLineWidth(e);r>t&&(t=r)}return t},_renderTextLine:function(t,e,n,r,i,o){this._renderChars(t,e,n,r,i,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,n,r,i,o,a,s,c=t.fillStyle,u=this._getLeftOffset(),l=this._getTopOffset(),f=0,h=0,d=this.path,p=0,v=this._textLines.length;p<v;p++)if(e=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),h=0,f=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,m=r.length;g<m;g++)o=this.__charBounds[p][g],a=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),d?(t.save(),t.translate(o.renderLeft,o.renderTop),t.rotate(o.angle),t.fillStyle=a,a&&t.fillRect(-o.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),o.width,e/this.lineHeight),t.restore()):a!==i?(s=u+n+f,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=i,i&&t.fillRect(s,l,h,e/this.lineHeight),f=o.left,h=o.width,i=a):h+=o.kernedWidth;a&&!d&&(s=u+n+f,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=a,t.fillRect(s,l,h,e/this.lineHeight)),l+=e}else l+=e;t.fillStyle=c,this._removeShadow(t)}},getFontCache:function(t){var n=t.fontFamily.toLowerCase();e.charWidthsCache[n]||(e.charWidthsCache[n]={});var r=e.charWidthsCache[n],i=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_measureChar:function(t,e,n,r){var i,o,a,s,c=this.getFontCache(e),u=n+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(r),f=e.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==c[n]&&(a=c[n]),void 0!==c[t]&&(s=i=c[t]),l&&void 0!==c[u]&&(s=(o=c[u])-a),void 0===i||void 0===a||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,e,!0)}return void 0===i&&(s=i=h.measureText(t).width,c[t]=i),void 0===a&&l&&n&&(a=h.measureText(n).width,c[n]=a),l&&void 0===o&&(o=h.measureText(u).width,c[u]=o,s=o-a),{width:i*f,kernedWidth:s*f}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var n,r,i,o,a,s,c=0,u=this._textLines[t],l=new Array(u.length),f=0,h=this.path,d="right"===this.pathSide;for(this.__charBounds[t]=l,n=0;n<u.length;n++)r=u[n],o=this._getGraphemeBox(r,t,n,i),l[n]=o,c+=o.kernedWidth,i=r;if(l[n]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(s=h.segmentsInfo[h.segmentsInfo.length-1].length,(a=e.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,a.y+=h.pathOffset.y,this.textAlign){case"left":f=d?s-c:0;break;case"center":f=(s-c)/2;break;case"right":f=d?0:s-c}for(f+=this.pathStartOffset*(d?-1:1),n=d?u.length-1:0;d?n>=0:n<u.length;d?n--:n++)o=l[n],f>s?f%=s:f<0&&(f+=s),this._setGraphemeOnPath(f,o,a),f+=o.kernedWidth}return{width:c,numOfSpaces:0}},_setGraphemeOnPath:function(t,n,r){var i=t+n.kernedWidth/2,o=this.path,a=e.util.getPointOnPath(o.path,i,o.segmentsInfo);n.renderLeft=a.x-r.x,n.renderTop=a.y-r.y,n.angle=a.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,n,r,i){var o,a=this.getCompleteStyleDeclaration(e,n),s=r?this.getCompleteStyleDeclaration(e,n-1):{},c=this._measureChar(t,a,r,s),u=c.kernedWidth,l=c.width;0!==this.charSpacing&&(l+=o=this._getWidthOfCharSpacing(),u+=o);var f={width:l,left:0,height:a.fontSize,kernedWidth:u,deltaY:a.deltaY};if(n>0&&!i){var h=this.__charBounds[e][n-1];f.left=h.left+h.width+c.kernedWidth-c.width}return f},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],n=this.getHeightOfChar(t,0),r=1,i=e.length;r<i;r++)n=Math.max(this.getHeightOfChar(t,r),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,n=0,r=this._textLines.length;n<r;n++)t=this.getHeightOfLine(n),e+=n===r-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=0,a=this._textLines.length;o<a;o++){var s=this.getHeightOfLine(o),c=s/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],r+u,i+n+c,o),n+=s}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,n,r,i,o){var a,s,c,u,l,f=this.getHeightOfLine(o),h=-1!==this.textAlign.indexOf("justify"),d="",p=0,v=this.path,g=!h&&0===this.charSpacing&&this.isEmptyStyles(o)&&!v,m="ltr"===this.direction,y="ltr"===this.direction?1:-1;if(e.save(),i-=f*this._fontSizeFraction/this.lineHeight,g)return e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?"left":"right",this._renderChar(t,e,o,0,n.join(""),r,i,f),void e.restore();for(var b=0,_=n.length-1;b<=_;b++)u=b===_||this.charSpacing||v,d+=n[b],c=this.__charBounds[o][b],0===p?(r+=y*(c.kernedWidth-c.width),p+=c.width):p+=c.kernedWidth,h&&!u&&this._reSpaceAndTab.test(n[b])&&(u=!0),u||(a=a||this.getCompleteStyleDeclaration(o,b),s=this.getCompleteStyleDeclaration(o,b+1),u=this._hasStyleChanged(a,s)),u&&(v?(e.save(),e.translate(c.renderLeft,c.renderTop),e.rotate(c.angle),this._renderChar(t,e,o,b,d,-p/2,0,f),e.restore()):(l=r,e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?"left":"right",this._renderChar(t,e,o,b,d,l,i,f)),d="",a=s,r+=y*p,p=0);e.restore()},_applyPatternGradientTransformText:function(t){var n,r=e.util.createCanvasElement(),i=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return r.width=i,r.height=o,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(i,0),n.lineTo(i,o),n.lineTo(0,o),n.closePath(),n.translate(i/2,o/2),n.fillStyle=t.toLive(n),this._applyPatternGradientTransform(n,t),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(t,e,n){var r,i;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,i=-this.height/2,t.translate(r,i),t[e]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(t[e]=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,n,r,i,o,a){var s,c,u=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),f="fillText"===t&&l.fill,h="strokeText"===t&&l.stroke&&l.strokeWidth;(h||f)&&(e.save(),f&&(s=this._setFillStyles(e,l)),h&&(c=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),u&&u.textBackgroundColor&&this._removeShadow(e),u&&u.deltaY&&(a+=u.deltaY),f&&e.fillText(i,o-s.offsetX,a-s.offsetY),h&&e.strokeText(i,o-c.offsetX,a-c.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,n){var r=this.get2DCursorLocation(t,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:i*n.size,deltaY:o+i*n.baseline};return this.setSelectionStyles(a,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),n=this.width-e,r=this.textAlign,i=this.direction,o=0,a=this.isEndOfWrapping(t);return"justify"===r||"justify-center"===r&&!a||"justify-right"===r&&!a||"justify-left"===r&&!a?0:("center"===r&&(o=n/2),"right"===r&&(o=n),"justify-center"===r&&(o=n/2),"justify-right"===r&&(o=n),"rtl"===i&&(o-=n),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,n){var r=this._getStyleDeclaration(t,e);return r&&"undefined"!==typeof r[n]?r[n]:this[n]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y=this._getLeftOffset(),b=this._getTopOffset(),_=this.path,w=this._getWidthOfCharSpacing(),x=this.offsets[e],S=0,C=this._textLines.length;S<C;S++)if(n=this.getHeightOfLine(S),this[e]||this.styleHas(e,S)){c=this._textLines[S],v=n/this.lineHeight,o=this._getLineLeftOffset(S),f=0,h=0,u=this.getValueOfPropertyAt(S,0,e),m=this.getValueOfPropertyAt(S,0,"fill"),l=b+v*(1-this._fontSizeFraction),r=this.getHeightOfChar(S,0),a=this.getValueOfPropertyAt(S,0,"deltaY");for(var M=0,O=c.length;M<O;M++)if(d=this.__charBounds[S][M],p=this.getValueOfPropertyAt(S,M,e),g=this.getValueOfPropertyAt(S,M,"fill"),i=this.getHeightOfChar(S,M),s=this.getValueOfPropertyAt(S,M,"deltaY"),_&&p&&g)t.save(),t.fillStyle=m,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,x*i+s,d.kernedWidth,this.fontSize/15),t.restore();else if((p!==u||g!==m||i!==r||s!==a)&&h>0){var k=y+o+f;"rtl"===this.direction&&(k=this.width-k-h),u&&m&&(t.fillStyle=m,t.fillRect(k,l+x*r+a,h,this.fontSize/15)),f=d.left,h=d.width,u=p,m=g,r=i,a=s}else h+=d.kernedWidth;k=y+o+f,"rtl"===this.direction&&(k=this.width-k-h),t.fillStyle=g,p&&g&&t.fillRect(k,l+x*r+a,h-w,this.fontSize/15),b+=n}else b+=n;this._removeShadow(t)}},_getFontDeclaration:function(t,n){var r=t||this,i=this.fontFamily,o=e.Text.genericFonts.indexOf(i.toLowerCase())>-1,a=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||o?r.fontFamily:'"'+r.fontFamily+'"';return[e.isLikelyNode?r.fontWeight:r.fontStyle,e.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",a].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var n=t.split(this._reNewline),r=new Array(n.length),i=["\n"],o=[],a=0;a<n.length;a++)r[a]=e.util.string.graphemeSplit(n[a]),o=o.concat(r[a],i);return o.pop(),{_unwrappedLines:r,lines:n,graphemeText:o,graphemeLines:r}},toObject:function(t){var e=r.concat(t),i=this.callSuper("toObject",e);return i.styles=n(this.styles,!0),i.path&&(i.path=this.path.toObject()),i},set:function(t,e){this.callSuper("set",t,e);var n=!1,r=!1;if("object"===u(t))for(var i in t)"path"===i&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(i),r=r||"path"===i;else n=-1!==this._dimensionAffectingProps.indexOf(t),r="path"===t;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,r,i){if(!t)return r(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((i=e.util.object.extend(i?n(i):{},o)).top=i.top||0,i.left=i.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var c="";"textContent"in t?c=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(c=t.firstChild.data),c=c.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var u=i.strokeWidth;i.strokeWidth=0;var l=new e.Text(c,i),f=l.getScaledHeight()/l.height,h=((l.height+l.strokeWidth)*l.lineHeight-l.height)*f,d=l.getScaledHeight()+h,p=0;"center"===a&&(p=l.getScaledWidth()/2),"right"===a&&(p=l.getScaledWidth()),l.set({left:l.left-p,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:"undefined"!==typeof u?u:1}),r(l)},e.Text.fromObject=function(t,r){var i=n(t),o=t.path;return delete i.path,e.Object._fromObject("Text",i,(function(t){o?e.Object._fromObject("Path",o,(function(e){t.set("path",e),r(t)}),"path"):r(t)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(n),o.util.object.extend(o.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if("undefined"!==typeof t&&!this.styles[t])return!0;var e="undefined"===typeof t?this.styles:{line:this.styles[t]};for(var n in e)for(var r in e[n])for(var i in e[n][r])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if("undefined"!==typeof e&&!this.styles[e])return!1;var n="undefined"===typeof e?this.styles:{0:this.styles[e]};for(var r in n)for(var i in n[r])if("undefined"!==typeof n[r][i][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,n,r=this.styles,i=0,o=!0,a=0;for(var s in r){for(var c in e=0,r[s]){var u;i++,(u=r[s][c]).hasOwnProperty(t)?(n?u[t]!==n&&(o=!1):n=u[t],u[t]===this[t]&&delete u[t]):o=!1,0!==Object.keys(u).length?e++:delete r[s][c]}0===e&&delete r[s]}for(var l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&i===a&&(this[t]=n,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,n,r,i=this.styles;for(n in i){for(r in e=i[n])delete e[r][t],0===Object.keys(e[r]).length&&delete e[r];0===Object.keys(e).length&&delete i[n]}}},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),o.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},get2DCursorLocation:function(t,e){"undefined"===typeof t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(t<=n[i].length)return{lineIndex:i,charIndex:t};t-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<t?n[i-1].length:t}},getSelectionStyles:function(t,e,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof e&&(e=this.selectionEnd||t);for(var r=[],i=t;i<e;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(t,e){var n=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(t,e,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||e);for(var r=e;r<n;r++)this._extendStyles(r,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var n=this.styles&&this.styles[t];return n?n[e]:null},getCompleteStyleDeclaration:function(t,e){for(var n,r=this._getStyleDeclaration(t,e)||{},i={},o=0;o<this._styleProperties.length;o++)i[n=this._styleProperties[o]]="undefined"===typeof r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}o.IText=o.util.createClass(o.Text,o.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},_getCursorBoundaries:function(t){"undefined"===typeof t&&(t=this.selectionStart);var e=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t);return{left:e,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,n,r,i,o=0,a=0,s=this.get2DCursorLocation(t);r=s.charIndex,n=s.lineIndex;for(var c=0;c<n;c++)o+=this.getHeightOfLine(c);e=this._getLineLeftOffset(n);var u=this.__charBounds[n][r];return u&&(a=u.left),0!==this.charSpacing&&r===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),i={top:o,left:e+(a>0?a:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,c=t.topOffset,u=this.getValueOfPropertyAt(r,i,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,c+t.top+u,s,o)},renderSelection:function(t,e){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(r),s=o.lineIndex,c=a.lineIndex,u=o.charIndex<0?0:o.charIndex,l=a.charIndex<0?0:a.charIndex,f=s;f<=c;f++){var h,d=this._getLineLeftOffset(f)||0,p=this.getHeightOfLine(f),v=0,g=0;if(f===s&&(v=this.__charBounds[s][u].left),f>=s&&f<c)g=i&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===c)if(0===l)g=this.__charBounds[c][l].left;else{var m=this._getWidthOfCharSpacing();g=this.__charBounds[c][l-1].left+this.__charBounds[c][l-1].width-m}h=p,(this.lineHeight<1||f===c&&this.lineHeight>1)&&(p/=this.lineHeight);var y=t.left+d+v,b=g-v,_=p,w=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,w=p):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),e.fillRect(y,t.top+t.topOffset+w,b,_),t.topOffset+=h}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),o.IText.fromObject=function(e,n){if(t(e),e.styles)for(var r in e.styles)for(var i in e.styles[r])t(e.styles[r][i]);o.Object._fromObject("IText",e,n,"text")}}(),function(){var t=o.util.object.clone;o.util.object.extend(o.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],o.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){i.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},searchWordBoundary:function(t,e){for(var n=this._text,r=this._reSpace.test(n[t])?t-1:t,i=n[r],a=o.reNonWord;!a.test(i)&&r>0&&r<n.length;)i=n[r+=e];return a.test(i)&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==r||n!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,n){var r=n.slice(0,t),i=o.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:i,selectionEnd:i};var a=n.slice(t,e);return{selectionStart:i,selectionEnd:i+o.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(t,e,n){var r=n.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=n.lineIndex,i=n.charIndex,a=this.getValueOfPropertyAt(r,i,"fontSize")*this.lineHeight,s=e.leftOffset,c=this.calcTransformMatrix(),u={x:e.left+s,y:e.top+e.topOffset+a},l=this.canvas.getRetinaScaling(),f=this.canvas.upperCanvasEl,h=f.width/l,d=f.height/l,p=h-a,v=d-a,g=f.clientWidth/h,m=f.clientHeight/d;return u=o.util.transformPoint(u,c),(u=o.util.transformPoint(u,this.canvas.viewportTransform)).x*=g,u.y*=m,u.x<0&&(u.x=0),u.x>p&&(u.x=p),u.y<0&&(u.y=0),u.y>v&&(u.y=v),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var n,r,i=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),a=i.lineIndex,s=i.charIndex,c=o.lineIndex,u=o.charIndex;if(a!==c){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[c])for(n=u;n<this._unwrappedTextLines[c].length;n++)(r=this.styles[c][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-u]=r);for(n=a+1;n<=c;n++)delete this.styles[n];this.shiftLineStyles(c,a-c)}else if(this.styles[a]){r=this.styles[a];var l,f,h=u-s;for(n=s;n<u;n++)delete r[n];for(f in this.styles[a])(l=parseInt(f,10))>=u&&(r[l-h]=r[f],delete r[f])}},shiftLineStyles:function(e,n){var r=t(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>e&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,n,r,i){var o,a={},s=!1,c=this._unwrappedTextLines[e].length===n;for(var u in r||(r=1),this.shiftLineStyles(e,r),this.styles[e]&&(o=this.styles[e][0===n?n:n-1]),this.styles[e]){var l=parseInt(u,10);l>=n&&(s=!0,a[l-n]=this.styles[e][u],c&&0===n||delete this.styles[e][u])}var f=!1;for(s&&!c&&(this.styles[e+r]=a,f=!0),f&&r--;r>0;)i&&i[r-1]?this.styles[e+r]={0:t(i[r-1])}:o?this.styles[e+r]={0:t(o)}:delete this.styles[e+r],r--;this._forceClearCache=!0},insertCharStyleObject:function(e,n,r,i){this.styles||(this.styles={});var o=this.styles[e],a=o?t(o):{};for(var s in r||(r=1),a){var c=parseInt(s,10);c>=n&&(o[c+r]=a[c],a[c-r]||delete o[c])}if(this._forceClearCache=!0,i)for(;r--;)Object.keys(i[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=t(i[r]));else if(o)for(var u=o[n?n-1:1];u&&r--;)this.styles[e][n+r]=t(u)},insertNewStyleBlock:function(t,e,n){for(var r=this.get2DCursorLocation(e,!0),i=[0],o=0,a=0;a<t.length;a++)"\n"===t[a]?i[++o]=0:i[o]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),o&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],o),a=1;a<o;a++)i[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,i[a],n):n&&(this.styles[r.lineIndex+a][0]=n[0]),n=n&&n.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,i[a],n)},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),o.util.object.extend(o.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,n=this.getLocalPointer(t),r=0,i=0,o=0,a=0,s=0,c=0,u=this._textLines.length;c<u&&o<=n.y;c++)o+=this.getHeightOfLine(c)*this.scaleY,s=c,c>0&&(a+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));i=this._getLineLeftOffset(s)*this.scaleX,e=this._textLines[s],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+i);for(var l=0,f=e.length;l<f&&(r=i,(i+=this.__charBounds[s][l].kernedWidth*this.scaleX)<=n.x);l++)a++;return this._getNewSelectionStartFromOffset(n,r,i,a,f)},_getNewSelectionStartFromOffset:function(t,e,n,r,i){var o=t.x-e,a=n-t.x,s=r+(a>o||a<0?0:1);return this.flipX&&(s=i-s),s>this._text.length&&(s=this._text.length),s}}),o.util.object.extend(o.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=o.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):o.document.body.appendChild(this.hiddenTextarea),o.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),o.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),o.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),o.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),o.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),o.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),o.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),o.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),o.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(o.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var n,r,i,a,s,c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,l=c.length,f=l-u,h=this.selectionStart,d=this.selectionEnd,p=h!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>v.selectionStart;p?(n=this._text.slice(h,d),f+=d-h):l<u&&(n=g?this._text.slice(d+f,d):this._text.slice(h,h-f)),r=c.slice(v.selectionEnd-f,v.selectionEnd),n&&n.length&&(r.length&&(i=this.getSelectionStyles(h,h+1,!1),i=r.map((function(){return i[0]}))),p?(a=h,s=d):g?(a=d-n.length,s=d):(a=d,s=d+n.length),this.removeStyleFromTo(a,s)),r.length&&(e&&r.join("")===o.copiedText&&!o.disableStyleCopyPaste&&(i=o.copiedTextStyle),this.insertNewStyleBlock(r,h,i)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(o.copiedText=this.getSelectedText(),o.disableStyleCopyPaste?o.copiedTextStyle=null:o.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||o.window.clipboardData},_getWidthBeforeCursor:function(t,e){var n,r=this._getLineLeftOffset(t);return e>0&&(r+=(n=this.__charBounds[t][e-1]).left+n.width),r},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+s+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||t.metaKey||33===t.keyCode)return-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),c=this._textLines[i].slice(0,o),u=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-c.length+(1-u)},_getIndexOnLine:function(t,e){for(var n,r,i=this._textLines[t],o=this._getLineLeftOffset(t),a=0,s=0,c=i.length;s<c;s++)if((o+=n=this.__charBounds[t][s].width)>e){r=!0;var u=o-n,l=o,f=Math.abs(u-e);a=Math.abs(l-e)<f?s:s-1;break}return r||(a=i.length-1),a},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var r;if(t.altKey)r=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[e])}if(void 0!==u(r)&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?n+="Shift":n+="outShift",this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){"undefined"===typeof e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var i=o.util.string.graphemeSplit(t);this.insertNewStyleBlock(i,n,e),this._text=[].concat(this._text.slice(0,n),i,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=o.util.toFixed,e=/  +/g;o.util.object.extend(o.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var n,r=[],i=[],o=t;this._setSVGBg(i);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(i,a,e+n,o),this._setSVGTextLineText(r,a,e+n,o),o+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(n,r,i,a){var s=n!==n.trim()||n.match(e),c=this.getSvgSpanStyles(r,s),u=c?'style="'+c+'"':"",l=r.deltaY,f="",h=o.Object.NUM_FRACTION_DIGITS;return l&&(f=' dy="'+t(l,h)+'" '),['<tspan x="',t(i,h),'" y="',t(a,h),'" ',f,u,">",o.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,n,r){var i,o,a,s,c,u=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),f="",h=0,d=this._textLines[e];r+=u*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,v=d.length-1;p<=v;p++)c=p===v||this.charSpacing,f+=d[p],a=this.__charBounds[e][p],0===h?(n+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,l&&!c&&this._reSpaceAndTab.test(d[p])&&(c=!0),c||(i=i||this.getCompleteStyleDeclaration(e,p),o=this.getCompleteStyleDeclaration(e,p+1),c=this._hasStyleChangedForSvg(i,o)),c&&(s=this._getStyleDeclaration(e,p)||{},t.push(this._createTextCharSpan(f,s,n,r)),f="",i=o,n+=h,h=0)},_pushTextBgRect:function(e,n,r,i,a,s){var c=o.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(n),' x="',t(r,c),'" y="',t(i,c),'" width="',t(a,c),'" height="',t(s,c),'"></rect>\n')},_setSVGTextLineBg:function(t,e,n,r){for(var i,o,a=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight,c=0,u=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),f=0,h=a.length;f<h;f++)i=this.__charBounds[e][f],(o=this.getValueOfPropertyAt(e,f,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,n+u,r,c,s),u=i.left,c=i.width,l=o):c+=i.kernedWidth;o&&this._pushTextBgRect(t,o,n+u,r,c,s)},_getFillAttributes:function(t){var e=t&&"string"===typeof t?new o.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,n=0,r=0;r<t;r++)n+=this.getHeightOfLine(r);return e=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return o.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,n=0,r=0,i={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[r]&&o>0?(n=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:e,offset:n},r+=t.graphemeLines[o].length,n+=t.graphemeLines[o].length;return i},styleHas:function(t,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return e.Text.prototype.styleHas.call(this,t,n)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,n,r=0,i=!1,o=this._styleMap[t],a=this._styleMap[t+1];for(var s in o&&(t=o.line,r=o.offset),a&&(i=a.line===t,e=a.offset),n="undefined"===typeof t?this.styles:{line:this.styles[t]})for(var c in n[s])if(c>=r&&(!i||c<e))for(var u in n[s][c])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];if(!n)return null;t=n.line,e=n.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,n){var r=this._styleMap[t];t=r.line,e=r.offset+e,this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];t=n.line,e=n.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var n,r=[];for(this.isWrapping=!0,n=0;n<t.length;n++)r=r.concat(this._wrapLine(t[n],n,e));return this.isWrapping=!1,r},_measureWord:function(t,e,n){var r,i=0;n=n||0;for(var o=0,a=t.length;o<a;o++)i+=this._getGraphemeBox(t[o],e,o+n,r,!0).kernedWidth,r=t[o];return i},_wrapLine:function(t,n,r,i){var o=0,a=this.splitByGrapheme,s=[],c=[],u=a?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",f=0,h=a?"":" ",d=0,p=0,v=0,g=!0,m=this._getWidthOfCharSpacing();i=i||0,0===u.length&&u.push([]),r-=i;for(var y=0;y<u.length;y++)l=a?u[y]:e.util.string.graphemeSplit(u[y]),d=this._measureWord(l,n,f),f+=l.length,(o+=p+d-m)>r&&!g?(s.push(c),c=[],o=d,g=!0):o+=m,g||a||c.push(h),c=c.concat(l),p=a?0:this._measureWord([h],n,f),f++,g=!1,d>v&&(v=d);return y&&s.push(c),v+i>this.dynamicMinWidth&&(this.dynamicMinWidth=v-m+i),s},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var n=e.Text.prototype._splitTextIntoLines.call(this,t),r=this._wrapText(n.lines,this.width),i=new Array(r.length),o=0;o<r.length;o++)i[o]=r[o].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,n){return e.Object._fromObject("Textbox",t,n,"text")}}(n),function(){var t=o.controlsUtils,e=t.scaleSkewCursorStyleHandler,n=t.scaleCursorStyleHandler,r=t.scalingEqually,i=t.scalingYOrSkewingX,a=t.scalingXOrSkewingY,s=t.scaleOrSkewActionName,c=o.Object.prototype.controls;if(c.ml=new o.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:a,getActionName:s}),c.mr=new o.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:a,getActionName:s}),c.mb=new o.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:i,getActionName:s}),c.mt=new o.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:i,getActionName:s}),c.tl=new o.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),c.tr=new o.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),c.bl=new o.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),c.br=new o.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),c.mtr=new o.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),o.Textbox){var u=o.Textbox.prototype.controls={};u.mtr=c.mtr,u.tr=c.tr,u.br=c.br,u.tl=c.tl,u.bl=c.bl,u.mt=c.mt,u.mb=c.mb,u.mr=new o.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),u.ml=new o.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},3053:function(t,e,n){"use strict";var r=n(602);t.exports=function(t,e,n){var i,o;if(n=n||0,!r(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(o=e.length,i=n;n>=0&&i<o;i+=1)if(e[i]===t)return i;return-1}},8592:function(t,e,n){"use strict";var r=n(602),i=n(6092),o=n(5573);t.exports=function(t,e,n){r(t)?i(t,e,n):o(t,e,n)}},6092:function(t){"use strict";t.exports=function(t,e,n){var r=0,i=t.length;for(n=n||null;r<i&&!1!==e.call(n,t[r],r,t);r+=1);}},5573:function(t){"use strict";t.exports=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}},9052:function(t,e,n){"use strict";var r=n(961),i=n(9886),o=n(2560),a=n(5393),s=n(602),c=n(5183),u=n(8592),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(t){r(t.prototype,f.prototype)},f.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},f.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},f.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},f.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(t){var e,n;i(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},f.prototype._forgetContext=function(t){var e,n;i(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},f.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},f.prototype.on=function(t,e,n){var r=this;o(t)?(t=t.split(l),u(t,(function(t){r._bindEvent(t,e,n)}))):a(t)&&(n=e,u(t,(function(t,e){r.on(e,t,n)})))},f.prototype.once=function(t,e,n){var r=this;if(a(t))return n=e,void u(t,(function(t,e){r.once(e,t,n)}));this.on(t,(function i(){e.apply(n,arguments),r.off(t,i,n)}),n)},f.prototype._spliceMatches=function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n;r+=1)!0===e(t[r])&&(t.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},f.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var i=t===r.handler,o=e===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(t,e){var n=this,r=c(e),i=n._matchHandler(e);t=t.split(l),u(t,(function(t){var e=n._safeEvent(t);r?n._spliceMatches(e,i):(u(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},f.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);u(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},f.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?u(t,(function(t,e){r.off(e,t)})):o(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):c(e)?(n=this._matchHandlerAndContext(e,t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),u(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},f.prototype.off=function(t,e){o(t)?this._offByEventName(t,e):arguments.length?c(t)?this._offByHandler(t):a(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},f.prototype.fire=function(t){this.invoke.apply(this,arguments)},f.prototype.invoke=function(t){var e,n,r,i;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(!1===(i=e[r]).handler.apply(i.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(t){return this.getListenerLength(t)>0},f.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=f},961:function(t){"use strict";t.exports=function(t,e){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(t[r]=n[r]);return t}},1610:function(t,e,n){"use strict";var r=n(1603),i=n(3778);t.exports=function(t,e){for(var n=arguments,o=n[0],a=1,s=n.length;a<s;a+=1){if(r(o)||i(o))return;o=o[n[a]]}return o}},4564:function(t,e,n){"use strict";var r=n(5573);t.exports=function(t,e){var n=document.createElement("img"),i="";return r(e,(function(t,e){i+="&"+e+"="+t})),i=i.substring(1),n.src=t+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},4729:function(t,e,n){"use strict";var r=n(1603),i=n(4564);t.exports=function(t,e){var n=location.hostname,o="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))}},602:function(t){"use strict";t.exports=function(t){return t instanceof Array}},9886:function(t,e,n){"use strict";var r=n(1603),i=n(3778);t.exports=function(t){return!r(t)&&!i(t)}},5183:function(t){"use strict";t.exports=function(t){return t instanceof Function}},3778:function(t){"use strict";t.exports=function(t){return null===t}},5393:function(t){"use strict";t.exports=function(t){return t===Object(t)}},2560:function(t){"use strict";t.exports=function(t){return"string"===typeof t||t instanceof String}},1603:function(t){"use strict";t.exports=function(t){return void 0===t}},1801:function(t){var e={rect:1,circle:2,triangle:1},n={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function r(t,e,n){var r=t.x,i=t.y,o=e.x,a=e.y,s=n*Math.PI/180;return{originX:r>(o-r)*Math.cos(s)-(a-i)*Math.sin(s)+r?"right":"left",originY:i>(o-r)*Math.sin(s)+(a-i)*Math.cos(s)+i?"bottom":"top"}}t.exports={setOrigins:function(t){var e=t.getPointByOrigin("left","top"),n=t.getPointByOrigin("right","top"),r=t.getPointByOrigin("right","bottom"),i=t.getPointByOrigin("left","bottom");t.origins={lt:e,rt:n,rb:r,lb:i}},resize:function(t,i,o){(function(t){return"center"===t.originX&&"center"===t.originY})(t)&&(function(t,e){var n=e.getPointByOrigin("center","center"),i=r(n,t,-e.angle),o=i.originX,a=i.originY,s=e.getPointByOrigin(o,a),c=e.left-(n.x-s.x),u=e.top-(n.y-s.y);e.set({originX:o,originY:a,left:c,top:u}),e.setCoords()}(i,t),function(t){var e=t.originX,n=t.originY,r=e.substring(0,1)+n.substring(0,1);t.startPoint=t.origins[r]}(t)),o?function(t){var e=t.type,r=t.scaleX,i=t.scaleY,o=n[e],a=t[o.w]*r,s=t[o.h]*i;if(t.isRegular){var c=Math.max(r,i);a=t[o.w]*c,s=t[o.h]*c}var u={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};u[o.w]=a,u[o.h]=s,t.set(u)}(t):function(t,r){var i=r.type,o=r.strokeWidth,a=r.startPoint,s=e[i],c=n[i],u=!("triangle"!==r.type),l={},f=Math.abs(a.x-t.x)/s,h=Math.abs(a.y-t.y)/s;f>o&&(f-=o/s),h>o&&(h-=o/s),r.isRegular&&(f=h=Math.max(f,h),u&&(h=Math.sqrt(3)/2*f)),l[c.w]=f,l[c.h]=h,r.set(l)}(i,t),function(t,e){var n=e.startPoint,i=r(n,t,-e.angle),o=i.originX,a=i.originY;e.setPositionByOrigin(n,o,a),e.setCoords()}(i,t)},adjustOriginToCenter:function(t){var e=t.getPointByOrigin("center","center"),n=t.originX,r=t.originY,i=t.getPointByOrigin(n,r),o=t.left+(e.x-i.x),a=t.top+(e.y-i.y);t.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:o,top:a}),t.setCoords()}}},7129:function(t,e,n){var r=n(3822);t.exports=r},6250:function(t,e,n){var r=n(1434);t.exports=r},1347:function(t,e,n){var r=n(7710);t.exports=r},5992:function(t,e,n){var r=n(4486);t.exports=r},9633:function(t,e,n){var r=n(2926);t.exports=r},6843:function(t,e,n){var r=n(4741);t.exports=r},7528:function(t,e,n){var r=n(4963);t.exports=r},5271:function(t,e,n){var r=n(7820);t.exports=r},9373:function(t,e,n){var r=n(8980);t.exports=r},7443:function(t,e,n){var r=n(6672);t.exports=r},9821:function(t,e,n){var r=n(2285);n(9031),t.exports=r},8008:function(t,e,n){var r=n(8535);t.exports=r},164:function(t,e,n){var r=n(6042);t.exports=r},2221:function(t,e,n){n(5454),n(9173);var r=n(7545);t.exports=r.Array.from},5078:function(t,e,n){n(8118);var r=n(7545);t.exports=r.Array.isArray},6135:function(t,e,n){n(9106);var r=n(5607);t.exports=r("Array").concat},9510:function(t,e,n){n(1710);var r=n(5607);t.exports=r("Array").fill},3971:function(t,e,n){n(3436);var r=n(5607);t.exports=r("Array").filter},98:function(t,e,n){n(9823);var r=n(5607);t.exports=r("Array").forEach},2089:function(t,e,n){n(2276);var r=n(5607);t.exports=r("Array").indexOf},6209:function(t,e,n){n(3838);var r=n(5607);t.exports=r("Array").map},7077:function(t,e,n){n(6382);var r=n(5607);t.exports=r("Array").push},2671:function(t,e,n){n(5818);var r=n(5607);t.exports=r("Array").slice},1375:function(t,e,n){n(2178);var r=n(5607);t.exports=r("Array").splice},3528:function(t,e,n){n(665);var r=n(5607);t.exports=r("Function").bind},5739:function(t,e,n){n(8939),n(5454);var r=n(8703);t.exports=r},278:function(t,e,n){var r=n(8902),i=n(3528),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},1484:function(t,e,n){var r=n(8902),i=n(6135),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},7731:function(t,e,n){var r=n(8902),i=n(9510),o=Array.prototype;t.exports=function(t){var e=t.fill;return t===o||r(o,t)&&e===o.fill?i:e}},3669:function(t,e,n){var r=n(8902),i=n(3971),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},2604:function(t,e,n){var r=n(8902),i=n(2089),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},263:function(t,e,n){var r=n(8902),i=n(6209),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},3590:function(t,e,n){var r=n(8902),i=n(7077),o=Array.prototype;t.exports=function(t){var e=t.push;return t===o||r(o,t)&&e===o.push?i:e}},7663:function(t,e,n){var r=n(8902),i=n(2671),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},5063:function(t,e,n){var r=n(8902),i=n(1375),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||r(o,t)&&e===o.splice?i:e}},6813:function(t,e,n){var r=n(8902),i=n(3842),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},6285:function(t,e,n){n(2666);var r=n(7545);t.exports=r.Number.parseInt},3213:function(t,e,n){n(3113);var r=n(7545).Object;t.exports=function(t,e){return r.create(t,e)}},3512:function(t,e,n){n(297);var r=n(7545).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},8168:function(t,e,n){n(9234);var r=n(7545);t.exports=r.Object.getPrototypeOf},8651:function(t,e,n){n(2647);var r=n(7545);t.exports=r.Object.keys},3083:function(t,e,n){n(3222);var r=n(7545);t.exports=r.Object.setPrototypeOf},2987:function(t,e,n){n(4859);var r=n(7545);t.exports=r.parseFloat},2239:function(t,e,n){n(5706);var r=n(7545);t.exports=r.parseInt},3154:function(t,e,n){n(4242),n(8939),n(6663),n(9021),n(7884),n(8885),n(1868),n(5454);var r=n(7545);t.exports=r.Promise},6577:function(t,e,n){n(5397);var r=n(7545);t.exports=r.Reflect.construct},3842:function(t,e,n){n(957);var r=n(5607);t.exports=r("String").trim},5008:function(t,e,n){n(9106),n(6663),n(6187),n(9781),n(492),n(6681),n(9594),n(3665),n(9017),n(1250),n(9786),n(503),n(6565),n(9322),n(3610),n(6886),n(3514),n(8671),n(8556),n(1367);var r=n(7545);t.exports=r.Symbol},994:function(t,e,n){n(8939),n(6663),n(5454),n(3665);var r=n(9207);t.exports=r.f("iterator")},290:function(t,e,n){n(2432),n(3610);var r=n(9207);t.exports=r.f("toPrimitive")},2708:function(t,e,n){var r=n(7129);t.exports=r},8541:function(t,e,n){var r=n(6250);t.exports=r},7020:function(t,e,n){var r=n(1347);t.exports=r},3685:function(t,e,n){var r=n(5992);t.exports=r},2607:function(t,e,n){var r=n(9633);t.exports=r},1626:function(t,e,n){var r=n(6843);t.exports=r},7021:function(t,e,n){var r=n(7528);t.exports=r},229:function(t,e,n){var r=n(5271);t.exports=r},7994:function(t,e,n){var r=n(9373);t.exports=r},5796:function(t,e,n){var r=n(7443);t.exports=r},2185:function(t,e,n){var r=n(9821);n(177),n(2725),n(1806),n(6658),n(4212),n(8658),n(1875),n(4592),n(6680),t.exports=r},9982:function(t,e,n){var r=n(8008);t.exports=r},8241:function(t,e,n){var r=n(164);t.exports=r},6235:function(t,e,n){var r=n(6447),i=n(9288),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},1404:function(t,e,n){var r=n(2091),i=n(9288),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a constructor")}},7757:function(t,e,n){var r=n(6447),i=String,o=TypeError;t.exports=function(t){if("object"==u(t)||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},7423:function(t){t.exports=function(){}},6961:function(t,e,n){var r=n(8902),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},1138:function(t,e,n){var r=n(5744),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},2724:function(t,e,n){"use strict";var r=n(1795),i=n(7739),o=n(4104);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)e[s++]=t;return e}},7397:function(t,e,n){"use strict";var r=n(454).forEach,i=n(424)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},841:function(t,e,n){"use strict";var r=n(8043),i=n(8922),o=n(1795),a=n(1635),s=n(6109),c=n(2091),u=n(4104),l=n(9361),f=n(1669),h=n(8703),d=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,b,_,w,x,S=h(e),C=0;if(!S||this===d&&s(S))for(m=u(e),y=n?new this(m):d(m);m>C;C++)x=g?v(e[C],C):e[C],l(y,C,x);else for(w=(_=f(e,S)).next,y=n?new this:[];!(b=i(w,_)).done;C++)x=g?a(_,v,[b.value,C],!0):b.value,l(y,C,x);return y.length=C,y}},8180:function(t,e,n){var r=n(101),i=n(7739),o=n(4104),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},454:function(t,e,n){var r=n(8043),i=n(4120),o=n(2202),a=n(1795),s=n(4104),c=n(1321),u=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,v,g,m){for(var y,b,_=a(p),w=o(_),x=r(v,g),S=s(w),C=0,M=m||c,O=e?M(p,S):n||h?M(p,0):void 0;S>C;C++)if((d||C in w)&&(b=x(y=w[C],C,_),t))if(e)O[C]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return C;case 2:u(O,y)}else switch(t){case 4:return!1;case 7:u(O,y)}return f?-1:i||l?l:O}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},242:function(t,e,n){var r=n(6192),i=n(8182),o=n(4218),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},424:function(t,e,n){"use strict";var r=n(6192);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},5072:function(t,e,n){"use strict";var r=n(69),i=n(4770),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1923:function(t,e,n){var r=n(7739),i=n(4104),o=n(9361),a=Array,s=Math.max;t.exports=function(t,e,n){for(var c=i(t),u=r(e,c),l=r(void 0===n?c:n,c),f=a(s(l-u,0)),h=0;u<l;u++,h++)o(f,h,t[u]);return f.length=h,f}},3096:function(t,e,n){var r=n(4120);t.exports=r([].slice)},6614:function(t,e,n){var r=n(1923),i=Math.floor,o=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=function t(e,n){var s=e.length,c=i(s/2);return s<8?o(e,n):a(e,t(r(e,0,c),n),t(r(e,c),n),n)}},3712:function(t,e,n){var r=n(4770),i=n(2091),o=n(5744),a=n(8182)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===s||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},1321:function(t,e,n){var r=n(3712);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1635:function(t,e,n){var r=n(1138),i=n(6639);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(a){i(t,"throw",a)}}},9770:function(t,e,n){var r=n(8182)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(s){}return n}},9272:function(t,e,n){var r=n(4120),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},4696:function(t,e,n){var r=n(3471),i=n(6447),o=n(9272),a=n(8182)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=s(t),a))?n:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},7987:function(t,e,n){var r=n(4500),i=n(3011),o=n(5141),a=n(2760);t.exports=function(t,e,n){for(var s=i(e),c=a.f,u=o.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||c(t,f,u(e,f))}}},4635:function(t,e,n){var r=n(6192);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7271:function(t){t.exports=function(t,e){return{value:t,done:e}}},8711:function(t,e,n){var r=n(69),i=n(2760),o=n(774);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},774:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9361:function(t,e,n){"use strict";var r=n(77),i=n(2760),o=n(774);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},4008:function(t,e,n){var r=n(2760);t.exports=function(t,e,n){return r.f(t,e,n)}},9362:function(t,e,n){var r=n(8711);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},5090:function(t,e,n){var r=n(9362);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},5098:function(t,e,n){var r=n(8576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9970:function(t,e,n){"use strict";var r=n(9288),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw i("Cannot delete property "+r(e)+" of "+r(t))}},69:function(t,e,n){var r=n(6192);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8382:function(t){var e="object"==("undefined"===typeof document?"undefined":u(document))&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},7449:function(t,e,n){var r=n(8576),i=n(5744),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},9425:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7365:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(t,e,n){var r=n(659),i=n(8189);t.exports=!r&&!i&&"object"==("undefined"===typeof window?"undefined":u(window))&&"object"==("undefined"===typeof document?"undefined":u(document))},2807:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},659:function(t){t.exports="object"==("undefined"===typeof Deno?"undefined":u(Deno))&&Deno&&"object"==u(Deno.version)},9347:function(t,e,n){var r=n(8989);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},9536:function(t,e,n){var r=n(8989);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},8189:function(t,e,n){var i=n(9272);t.exports="undefined"!=typeof r&&"process"==i(r)},5914:function(t,e,n){var r=n(8989);t.exports=/web0s(?!.*chrome)/i.test(r)},8989:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4218:function(t,e,n){var r,i,o=n(8576),a=n(8989),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},5607:function(t,e,n){var r=n(7545);t.exports=function(t){return r[t+"Prototype"]}},2952:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4503:function(t,e,n){var r=n(4120),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},8266:function(t,e,n){var r=n(8711),i=n(4503),o=n(274),a=Error.captureStackTrace;t.exports=function(t,e,n,s){o&&(a?a(t,e):r(t,"stack",i(n,s)))}},274:function(t,e,n){var r=n(6192),i=n(774);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},3085:function(t,e,n){"use strict";var r=n(8576),i=n(6298),o=n(4914),a=n(6447),s=n(5141).f,c=n(9245),l=n(7545),f=n(8043),h=n(8711),d=n(4500),p=function(t){var e=function e(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,v,g,m,y,b,_,w,x=t.target,S=t.global,C=t.stat,M=t.proto,O=S?r:C?r[x]:(r[x]||{}).prototype,k=S?l:l[x]||h(l,x,{})[x],E=k.prototype;for(g in e)i=!(n=c(S?g:x+(C?".":"#")+g,t.forced))&&O&&d(O,g),y=k[g],i&&(b=t.dontCallGetSet?(w=s(O,g))&&w.value:O[g]),m=i&&b?b:e[g],i&&u(y)==u(m)||(_=t.bind&&i?f(m,r):t.wrap&&i?p(m):M&&a(m)?o(m):m,(t.sham||m&&m.sham||y&&y.sham)&&h(_,"sham",!0),h(k,g,_),M&&(d(l,v=x+"Prototype")||h(l,v,{}),h(l[v],g,m),t.real&&E&&(n||!E[g])&&h(E,g,m)))}},6192:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},6298:function(t,e,n){var r=n(2784),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==("undefined"===typeof Reflect?"undefined":u(Reflect))&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},8043:function(t,e,n){var r=n(4914),i=n(6235),o=n(2784),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},2784:function(t,e,n){var r=n(6192);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6782:function(t,e,n){"use strict";var r=n(4120),i=n(6235),o=n(5744),a=n(4500),s=n(3096),c=n(2784),u=Function,l=r([].concat),f=r([].join),h={},d=function(t,e,n){if(!a(h,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";h[e]=u("C,a","return new C("+f(r,",")+")")}return h[e](t,n)};t.exports=c?u.bind:function(t){var e=i(this),n=e.prototype,r=s(arguments,1),a=function(){var n=l(r,s(arguments));return this instanceof a?d(e,n.length,n):e.apply(t,n)};return o(n)&&(a.prototype=n),a}},8922:function(t,e,n){var r=n(2784),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},2282:function(t,e,n){var r=n(69),i=n(4500),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},6419:function(t,e,n){var r=n(4120),i=n(6235);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},4914:function(t,e,n){var r=n(9272),i=n(4120);t.exports=function(t){if("Function"===r(t))return i(t)}},4120:function(t,e,n){var r=n(2784),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},150:function(t,e,n){var r=n(7545),i=n(8576),o=n(6447),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},8703:function(t,e,n){var r=n(4696),i=n(5037),o=n(5646),a=n(7771),s=n(8182)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},1669:function(t,e,n){var r=n(8922),i=n(6235),o=n(1138),a=n(9288),s=n(8703),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw c(a(t)+" is not iterable")}},9202:function(t,e,n){var r=n(4120),i=n(4770),o=n(6447),a=n(9272),s=n(4845),c=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var u=t[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!=a(u)&&"String"!=a(u)||c(n,s(u))}var l=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var r=0;r<l;r++)if(n[r]===t)return e}}}},5037:function(t,e,n){var r=n(6235),i=n(5646);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},8576:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"===typeof globalThis?"undefined":u(globalThis))&&globalThis)||r("object"==("undefined"===typeof window?"undefined":u(window))&&window)||r("object"==("undefined"===typeof self?"undefined":u(self))&&self)||r("object"==u(n.g)&&n.g)||function(){return this}()||this||Function("return this")()},4500:function(t,e,n){var r=n(4120),i=n(1795),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},4535:function(t){t.exports={}},3681:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(n){}}},7403:function(t,e,n){var r=n(150);t.exports=r("document","documentElement")},188:function(t,e,n){var r=n(69),i=n(6192),o=n(7449);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2202:function(t,e,n){var r=n(4120),i=n(6192),o=n(9272),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},9516:function(t,e,n){var r=n(4120),i=n(6447),o=n(6434),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},273:function(t,e,n){var r=n(5744),i=n(8711);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},3326:function(t,e,n){var r,i,o,a=n(5278),s=n(8576),c=n(5744),u=n(8711),l=n(4500),f=n(6434),h=n(9766),d=n(4535),p=s.TypeError,v=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw p("Object already initialized");return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var m=h("state");d[m]=!0,r=function(t,e){if(l(t,m))throw p("Object already initialized");return e.facade=t,u(t,m,e),e},i=function(t){return l(t,m)?t[m]:{}},o=function(t){return l(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw p("Incompatible receiver, "+t+" required");return n}}}},6109:function(t,e,n){var r=n(8182),i=n(7771),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4770:function(t,e,n){var r=n(9272);t.exports=Array.isArray||function(t){return"Array"==r(t)}},6447:function(t,e,n){var r=n(8382),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},2091:function(t,e,n){var r=n(4120),i=n(6192),o=n(6447),a=n(4696),s=n(150),c=n(9516),u=function(){},l=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(u),v=function(t){if(!o(t))return!1;try{return f(u,l,t),!0}catch(e){return!1}},g=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,c(t))}catch(e){return!0}};g.sham=!0,t.exports=!f||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},9245:function(t,e,n){var r=n(6192),i=n(6447),o=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n==l||n!=u&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5646:function(t){t.exports=function(t){return null===t||void 0===t}},5744:function(t,e,n){var r=n(6447),i=n(8382),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==u(t)?null!==t:r(t)||t===o}:function(t){return"object"==u(t)?null!==t:r(t)}},5546:function(t){t.exports=!0},3236:function(t,e,n){var r=n(150),i=n(6447),o=n(8902),a=n(615),s=Object;t.exports=a?function(t){return"symbol"==u(t)}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},3442:function(t,e,n){var r=n(8043),i=n(8922),o=n(1138),a=n(9288),s=n(6109),c=n(4104),l=n(8902),f=n(1669),h=n(8703),d=n(6639),p=TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,n){var m,y,b,_,w,x,S,C=n&&n.that,M=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),I=r(e,C),j=function(t){return m&&d(m,"normal",t),new v(!0,t)},A=function(t){return M?(o(t),E?I(t[0],t[1],j):I(t[0],t[1])):E?I(t,j):I(t)};if(O)m=t.iterator;else if(k)m=t;else{if(!(y=h(t)))throw p(a(t)+" is not iterable");if(s(y)){for(b=0,_=c(t);_>b;b++)if((w=A(t[b]))&&l(g,w))return w;return new v(!1)}m=f(t,y)}for(x=O?t.next:m.next;!(S=i(x,m)).done;){try{w=A(S.value)}catch(T){d(m,"throw",T)}if("object"==u(w)&&w&&l(g,w))return w}return new v(!1)}},6639:function(t,e,n){var r=n(8922),i=n(1138),o=n(5037);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){s=!0,a=c}if("throw"===e)throw n;if(s)throw a;return i(a),n}},5695:function(t,e,n){"use strict";var r=n(4413).IteratorPrototype,i=n(2853),o=n(774),a=n(1284),s=n(7771),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),a(t,l,!1,!0),s[l]=c,t}},5297:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(5546),a=n(2282),s=n(6447),c=n(5695),u=n(9341),l=n(4469),f=n(1284),h=n(8711),d=n(9362),p=n(8182),v=n(7771),g=n(4413),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,_=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x=function(){return this};t.exports=function(t,e,n,a,p,g,S){c(n,e,a);var C,M,O,k=function(t){if(t===p&&T)return T;if(!_&&t in j)return j[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",I=!1,j=t.prototype,A=j[w]||j["@@iterator"]||p&&j[p],T=!_&&A||k(p),D="Array"==e&&j.entries||A;if(D&&(C=u(D.call(new t)))!==Object.prototype&&C.next&&(o||u(C)===b||(l?l(C,b):s(C[w])||d(C,w,x)),f(C,E,!0,!0),o&&(v[E]=x)),m&&"values"==p&&A&&"values"!==A.name&&(!o&&y?h(j,"name","values"):(I=!0,T=function(){return i(A,this)})),p)if(M={values:k("values"),keys:g?T:k("keys"),entries:k("entries")},S)for(O in M)(_||I||!(O in j))&&d(j,O,M[O]);else r({target:e,proto:!0,forced:_||I},M);return o&&!S||j[w]===T||d(j,w,T,{name:p}),v[e]=T,M}},4413:function(t,e,n){"use strict";var r,i,o,a=n(6192),s=n(6447),c=n(5744),u=n(2853),l=n(9341),f=n(9362),h=n(8182),d=n(5546),p=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:d&&(r=u(r)),s(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},7771:function(t){t.exports={}},4104:function(t,e,n){var r=n(8445);t.exports=function(t){return r(t.length)}},7679:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2950:function(t,e,n){var r,i,o,a,s,c=n(8576),u=n(8043),l=n(5141).f,f=n(7160).set,h=n(6412),d=n(9536),p=n(9347),v=n(5914),g=n(8189),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,b=c.process,_=c.Promise,w=l(c,"queueMicrotask"),x=w&&w.value;if(!x){var S=new h,C=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(n){throw S.head&&r(),n}t&&t.enter()};d||g||v||!m||!y?!p&&_&&_.resolve?((a=_.resolve(void 0)).constructor=_,s=u(a.then,a),r=function(){s(C)}):g?r=function(){b.nextTick(C)}:(f=u(f,c),r=function(){f(C)}):(i=!0,o=y.createTextNode(""),new m(C).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),x=function(t){S.head||r(),S.add(t)}}t.exports=x},9438:function(t,e,n){"use strict";var r=n(6235),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},6016:function(t,e,n){var r=n(4845);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},15:function(t,e,n){var r=n(8576),i=n(6192),o=n(4120),a=n(4845),s=n(4277).trim,c=n(1450),u=o("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(c+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));t.exports=d?function(t){var e=s(a(t)),n=l(e);return 0===n&&"-"==u(e,0)?-0:n}:l},2558:function(t,e,n){var r=n(8576),i=n(6192),o=n(4120),a=n(4845),s=n(4277).trim,c=n(1450),u=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=o(h.exec),p=8!==u(c+"08")||22!==u(c+"0x16")||f&&!i((function(){u(Object(f))}));t.exports=p?function(t,e){var n=s(a(t));return u(n,e>>>0||(d(h,n)?16:10))}:u},2503:function(t,e,n){"use strict";var r=n(69),i=n(4120),o=n(8922),a=n(6192),s=n(7653),c=n(4750),u=n(6007),l=n(1795),f=n(2202),h=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||"abcdefghijklmnopqrst"!=s(h({},e)).join("")}))?function(t,e){for(var n=l(t),i=arguments.length,a=1,h=c.f,d=u.f;i>a;)for(var v,g=f(arguments[a++]),m=h?p(s(g),h(g)):s(g),y=m.length,b=0;y>b;)v=m[b++],r&&!o(d,g,v)||(n[v]=g[v]);return n}:h},2853:function(t,e,n){var r,i=n(1138),o=n(1187),a=n(2952),s=n(4535),c=n(7403),u=n(7449),l=n(9766),f=l("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var t,e=u("iframe");return e.style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F}():p(r);for(var t=a.length;t--;)delete v.prototype[a[t]];return v()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[f]=t):n=v(),void 0===e?n:o.f(n,e)}},1187:function(t,e,n){var r=n(69),i=n(9600),o=n(2760),a=n(1138),s=n(101),c=n(7653);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=c(e),u=i.length,l=0;u>l;)o.f(t,n=i[l++],r[n]);return t}},2760:function(t,e,n){var r=n(69),i=n(188),o=n(9600),a=n(1138),s=n(77),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=l(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5141:function(t,e,n){var r=n(69),i=n(8922),o=n(6007),a=n(774),s=n(101),c=n(77),u=n(4500),l=n(188),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=c(e),l)try{return f(t,e)}catch(n){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},4052:function(t,e,n){var r=n(9272),i=n(101),o=n(2092).f,a=n(1923),s="object"==("undefined"===typeof window?"undefined":u(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return o(t)}catch(e){return a(s)}}(t):o(i(t))}},2092:function(t,e,n){var r=n(7934),i=n(2952).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},4750:function(t,e){e.f=Object.getOwnPropertySymbols},9341:function(t,e,n){var r=n(4500),i=n(6447),o=n(1795),a=n(9766),s=n(4635),c=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},8902:function(t,e,n){var r=n(4120);t.exports=r({}.isPrototypeOf)},7934:function(t,e,n){var r=n(4120),i=n(4500),o=n(101),a=n(8180).indexOf,s=n(4535),c=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;e.length>u;)i(r,n=e[u++])&&(~a(l,n)||c(l,n));return l}},7653:function(t,e,n){var r=n(7934),i=n(2952);t.exports=Object.keys||function(t){return r(t,i)}},6007:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4469:function(t,e,n){var r=n(6419),i=n(1138),o=n(7757);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},158:function(t,e,n){"use strict";var r=n(3471),i=n(4696);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},380:function(t,e,n){var r=n(8922),i=n(6447),o=n(5744),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3011:function(t,e,n){var r=n(150),i=n(4120),o=n(2092),a=n(4750),s=n(1138),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?c(e,n(t)):e}},7545:function(t){t.exports={}},892:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},511:function(t,e,n){var r=n(8576),i=n(5813),o=n(6447),a=n(9245),s=n(9516),c=n(8182),u=n(2957),l=n(659),f=n(5546),h=n(4218),d=i&&i.prototype,p=c("species"),v=!1,g=o(r.PromiseRejectionEvent),m=a("Promise",(function(){var t=s(i),e=t!==String(i);if(!e&&66===h)return!0;if(f&&(!d.catch||!d.finally))return!0;if(!h||h<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(u||l)&&!g}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},5813:function(t,e,n){var r=n(8576);t.exports=r.Promise},9126:function(t,e,n){var r=n(1138),i=n(5744),o=n(9438);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2775:function(t,e,n){var r=n(5813),i=n(9770),o=n(511).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},6412:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},3209:function(t,e,n){var r=n(5646),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},3755:function(t,e,n){"use strict";var r=n(8576),i=n(6298),o=n(6447),a=n(2807),s=n(8989),c=n(3096),u=n(7822),l=r.Function,f=/MSIE .\./.test(s)||a&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return f?function(r,a){var s=u(arguments.length,1)>n,f=o(r)?r:l(r),h=s?c(arguments,n):[],d=s?function(){i(f,this,h)}:f;return e?t(d,a):t(d)}:t}},3656:function(t,e,n){"use strict";var r=n(150),i=n(4008),o=n(8182),a=n(69),s=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},1284:function(t,e,n){var r=n(3471),i=n(2760).f,o=n(8711),a=n(4500),s=n(158),c=n(8182)("toStringTag");t.exports=function(t,e,n,u){if(t){var l=n?t:t.prototype;a(l,c)||i(l,c,{configurable:!0,value:e}),u&&!r&&o(l,"toString",s)}}},9766:function(t,e,n){var r=n(8717),i=n(2759),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},6434:function(t,e,n){var r=n(8576),i=n(5098),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},8717:function(t,e,n){var r=n(5546),i=n(6434);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},4743:function(t,e,n){var r=n(1138),i=n(1404),o=n(5646),a=n(8182)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||o(n=r(s)[a])?e:i(n)}},863:function(t,e,n){var r=n(4120),i=n(1941),o=n(4845),a=n(3209),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(t){return function(e,n){var r,l,f=o(a(e)),h=i(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=c(f,h))<55296||r>56319||h+1===d||(l=c(f,h+1))<56320||l>57343?t?s(f,h):r:t?u(f,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},7977:function(t,e,n){var r=n(4120),i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=RangeError,c=r(o.exec),u=Math.floor,l=String.fromCharCode,f=r("".charCodeAt),h=r([].join),d=r([].push),p=r("".replace),v=r("".split),g=r("".toLowerCase),m=function(t){return t+22+75*(t<26)},y=function(t,e,n){var r=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),r+=36;return u(r+36*t/(t+38))},b=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=f(t,n++);if(i>=55296&&i<=56319&&n<r){var o=f(t,n++);56320==(64512&o)?d(e,((1023&i)<<10)+(1023&o)+65536):(d(e,i),n--)}else d(e,i)}return e}(t)).length,o=128,c=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&d(r,l(n));var v=r.length,g=v;for(v&&d(r,"-");g<i;){var b=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<b&&(b=n);var _=g+1;if(b-o>u((2147483647-c)/_))throw s(a);for(c+=(b-o)*_,o=b,e=0;e<t.length;e++){if((n=t[e])<o&&++c>2147483647)throw s(a);if(n==o){for(var w=c,x=36;;){var S=x<=p?1:x>=p+26?26:x-p;if(w<S)break;var C=w-S,M=36-S;d(r,l(m(S+C%M))),w=u(C/M),x+=36}d(r,l(m(w))),p=y(c,_,g==v),c=0,g++}}c++,o++}return h(r,"")};t.exports=function(t){var e,n,r=[],a=v(p(g(t),o,"."),".");for(e=0;e<a.length;e++)n=a[e],d(r,c(i,n)?"xn--"+b(n):n);return h(r,".")}},6815:function(t,e,n){var r=n(2282).PROPER,i=n(6192),o=n(1450);t.exports=function(t){return i((function(){return!!o[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||r&&o[t].name!==t}))}},4277:function(t,e,n){var r=n(4120),i=n(3209),o=n(4845),a=n(1450),s=r("".replace),c=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,u,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},6770:function(t,e,n){var r=n(4218),i=n(6192),o=n(8576).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3407:function(t,e,n){var r=n(8922),i=n(150),o=n(8182),a=n(9362);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},31:function(t,e,n){var r=n(6770);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},7160:function(t,e,n){var r,i,o,a,s=n(8576),c=n(6298),u=n(8043),l=n(6447),f=n(4500),h=n(6192),d=n(7403),p=n(3096),v=n(7449),g=n(7822),m=n(9536),y=n(8189),b=s.setImmediate,_=s.clearImmediate,w=s.process,x=s.Dispatch,S=s.Function,C=s.MessageChannel,M=s.String,O=0,k={};h((function(){r=s.location}));var E=function(t){if(f(k,t)){var e=k[t];delete k[t],e()}},I=function(t){return function(){E(t)}},j=function(t){E(t.data)},A=function(t){s.postMessage(M(t),r.protocol+"//"+r.host)};b&&_||(b=function(t){g(arguments.length,1);var e=l(t)?t:S(t),n=p(arguments,1);return k[++O]=function(){c(e,void 0,n)},i(O),O},_=function(t){delete k[t]},y?i=function(t){w.nextTick(I(t))}:x&&x.now?i=function(t){x.now(I(t))}:C&&!m?(a=(o=new C).port2,o.port1.onmessage=j,i=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(A)?(i=A,s.addEventListener("message",j,!1)):i="onreadystatechange"in v("script")?function(t){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),E(t)}}:function(t){setTimeout(I(t),0)}),t.exports={set:b,clear:_}},7739:function(t,e,n){var r=n(1941),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},101:function(t,e,n){var r=n(2202),i=n(3209);t.exports=function(t){return r(i(t))}},1941:function(t,e,n){var r=n(7679);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8445:function(t,e,n){var r=n(1941),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},1795:function(t,e,n){var r=n(3209),i=Object;t.exports=function(t){return i(r(t))}},7888:function(t,e,n){var r=n(8922),i=n(5744),o=n(3236),a=n(5037),s=n(380),c=n(8182),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},77:function(t,e,n){var r=n(7888),i=n(3236);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},3471:function(t,e,n){var r={};r[n(8182)("toStringTag")]="z",t.exports="[object z]"===String(r)},4845:function(t,e,n){var r=n(4696),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},9288:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},2759:function(t,e,n){var r=n(4120),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},8552:function(t,e,n){var r=n(6192),i=n(8182),o=n(69),a=n(5546),s=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),a&&!t.toJSON||!e.size&&(a||!o)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},615:function(t,e,n){var r=n(6770);t.exports=r&&!Symbol.sham&&"symbol"==u(Symbol.iterator)},9600:function(t,e,n){var r=n(69),i=n(6192);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7822:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},5278:function(t,e,n){var r=n(8576),i=n(6447),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8332:function(t,e,n){var r=n(7545),i=n(4500),o=n(9207),a=n(2760).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},9207:function(t,e,n){var r=n(8182);e.f=r},8182:function(t,e,n){var r=n(8576),i=n(8717),o=n(4500),a=n(2759),s=n(6770),c=n(615),u=r.Symbol,l=i("wks"),f=c?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(u,t)?u[t]:f("Symbol."+t)),l[t]}},1450:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},3820:function(t,e,n){"use strict";var r=n(3085),i=n(8902),o=n(9341),a=n(4469),s=n(7987),c=n(2853),u=n(8711),l=n(774),f=n(273),h=n(8266),d=n(3442),p=n(6016),v=n(8182)("toStringTag"),g=Error,m=[].push,y=function(t,e){var n,r=i(b,this);a?n=a(g(),r?o(this):b):(n=r?this:c(b),u(n,v,"Error")),void 0!==e&&u(n,"message",p(e)),h(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var s=[];return d(t,m,{that:s}),u(n,"errors",s),n};a?a(y,g):s(y,g,{name:!0});var b=y.prototype=c(g.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},4242:function(t,e,n){n(3820)},9106:function(t,e,n){"use strict";var r=n(3085),i=n(6192),o=n(4770),a=n(5744),s=n(1795),c=n(4104),u=n(9425),l=n(9361),f=n(1321),h=n(242),d=n(8182),p=n(4218),v=d("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(t){var e,n,r,i,o,a=s(this),h=f(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?a:arguments[e]))for(i=c(o),u(d+i),n=0;n<i;n++,d++)n in o&&l(h,d,o[n]);else u(d+1),l(h,d++,o);return h.length=d,h}})},1710:function(t,e,n){var r=n(3085),i=n(2724),o=n(7423);r({target:"Array",proto:!0},{fill:i}),o("fill")},3436:function(t,e,n){"use strict";var r=n(3085),i=n(454).filter;r({target:"Array",proto:!0,forced:!n(242)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9823:function(t,e,n){"use strict";var r=n(3085),i=n(7397);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},9173:function(t,e,n){var r=n(3085),i=n(841);r({target:"Array",stat:!0,forced:!n(9770)((function(t){Array.from(t)}))},{from:i})},2276:function(t,e,n){"use strict";var r=n(3085),i=n(4914),o=n(8180).indexOf,a=n(424),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,t,e)||0:o(this,t,e)}})},8118:function(t,e,n){n(3085)({target:"Array",stat:!0},{isArray:n(4770)})},8939:function(t,e,n){"use strict";var r=n(101),i=n(7423),o=n(7771),a=n(3326),s=n(2760).f,c=n(5297),u=n(7271),l=n(5546),f=n(69),h=a.set,d=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){h(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(v){}},3838:function(t,e,n){"use strict";var r=n(3085),i=n(454).map;r({target:"Array",proto:!0,forced:!n(242)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},6382:function(t,e,n){"use strict";var r=n(3085),i=n(1795),o=n(4104),a=n(5072),s=n(9425);r({target:"Array",proto:!0,arity:1,forced:n(6192)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),n=o(e),r=arguments.length;s(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return a(e,n),n}})},5818:function(t,e,n){"use strict";var r=n(3085),i=n(4770),o=n(2091),a=n(5744),s=n(7739),c=n(4104),u=n(101),l=n(9361),f=n(8182),h=n(242),d=n(3096),p=h("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,h=u(this),p=c(h),y=s(t,p),b=s(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return d(h,y,b);for(r=new(void 0===n?g:n)(m(b-y,0)),f=0;y<b;y++,f++)y in h&&l(r,f,h[y]);return r.length=f,r}})},2178:function(t,e,n){"use strict";var r=n(3085),i=n(1795),o=n(7739),a=n(1941),s=n(4104),c=n(5072),u=n(9425),l=n(1321),f=n(9361),h=n(9970),d=n(242)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,d,g,m,y,b=i(this),_=s(b),w=o(t,_),x=arguments.length;for(0===x?n=r=0:1===x?(n=0,r=_-w):(n=x-2,r=v(p(a(e),0),_-w)),u(_+n-r),d=l(b,r),g=0;g<r;g++)(m=w+g)in b&&f(d,g,b[m]);if(d.length=r,n<r){for(g=w;g<_-r;g++)y=g+n,(m=g+r)in b?b[y]=b[m]:h(b,y);for(g=_;g>_-r+n;g--)h(b,g-1)}else if(n>r)for(g=_-r;g>w;g--)y=g+n-1,(m=g+r-1)in b?b[y]=b[m]:h(b,y);for(g=0;g<n;g++)b[g+w]=arguments[g+2];return c(b,_-r+n),d}})},2432:function(){},665:function(t,e,n){var r=n(3085),i=n(6782);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},9704:function(t,e,n){var r=n(3085),i=n(150),o=n(6298),a=n(8922),s=n(4120),c=n(6192),u=n(6447),l=n(3236),f=n(3096),h=n(9202),d=n(6770),p=String,v=i("JSON","stringify"),g=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),_=s(1..toString),w=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!d||c((function(){var t=i("Symbol")();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))})),M=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),O=function(t,e){var n=f(arguments),r=h(e);if(u(r)||void 0!==t&&!l(t))return n[1]=function(t,e){if(u(r)&&(e=a(r,this,p(t),e)),!l(e))return e},o(v,null,n)},k=function(t,e,n){var r=m(n,e-1),i=m(n,e+1);return g(x,t)&&!g(S,i)||g(S,t)&&!g(x,r)?"\\u"+_(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:C||M},{stringify:function(t,e,n){var r=f(arguments),i=o(C?O:v,null,r);return M&&"string"==typeof i?b(i,w,k):i}})},8671:function(t,e,n){var r=n(8576);n(1284)(r.JSON,"JSON",!0)},8556:function(){},2666:function(t,e,n){var r=n(3085),i=n(2558);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},3113:function(t,e,n){n(3085)({target:"Object",stat:!0,sham:!n(69)},{create:n(2853)})},297:function(t,e,n){var r=n(3085),i=n(69),o=n(2760).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},7895:function(t,e,n){var r=n(3085),i=n(6770),o=n(6192),a=n(4750),s=n(1795);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},9234:function(t,e,n){var r=n(3085),i=n(6192),o=n(1795),a=n(9341),s=n(4635);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},2647:function(t,e,n){var r=n(3085),i=n(1795),o=n(7653);r({target:"Object",stat:!0,forced:n(6192)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},3222:function(t,e,n){n(3085)({target:"Object",stat:!0},{setPrototypeOf:n(4469)})},6663:function(){},4859:function(t,e,n){var r=n(3085),i=n(15);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},5706:function(t,e,n){var r=n(3085),i=n(2558);r({global:!0,forced:parseInt!=i},{parseInt:i})},7884:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s((function(){var n=o(e.resolve),a=[],s=0,u=1;c(t,(function(t){var o=s++,c=!1;u++,i(n,e,t).then((function(t){c||(c=!0,a[o]={status:"fulfilled",value:t},--u||r(a))}),(function(t){c||(c=!0,a[o]={status:"rejected",reason:t},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},9701:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s((function(){var n=o(e.resolve),a=[],s=0,l=1;c(t,(function(t){var o=s++,c=!1;l++,i(n,e,t).then((function(t){c||(c=!0,a[o]=t,--l||r(a))}),u)})),--l||r(a)}));return l.error&&u(l.value),n.promise}})},8885:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(6235),a=n(150),s=n(9438),c=n(892),u=n(3442),l=n(2775);r({target:"Promise",stat:!0,forced:l},{any:function(t){var e=this,n=a("AggregateError"),r=s.f(e),l=r.resolve,f=r.reject,h=c((function(){var r=o(e.resolve),a=[],s=0,c=1,h=!1;u(t,(function(t){var o=s++,u=!1;c++,i(r,e,t).then((function(t){u||h||(h=!0,l(t))}),(function(t){u||h||(u=!0,a[o]=t,--c||f(new n(a,"No one promise resolved")))}))})),--c||f(new n(a,"No one promise resolved"))}));return h.error&&f(h.value),r.promise}})},4025:function(t,e,n){"use strict";var r=n(3085),i=n(5546),o=n(511).CONSTRUCTOR,a=n(5813),s=n(150),c=n(6447),u=n(9362),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(a)){var f=s("Promise").prototype.catch;l.catch!==f&&u(l,"catch",f,{unsafe:!0})}},268:function(t,e,n){"use strict";var r,i,o,a=n(3085),s=n(5546),c=n(8189),u=n(8576),l=n(8922),f=n(9362),h=n(4469),d=n(1284),p=n(3656),v=n(6235),g=n(6447),m=n(5744),y=n(6961),b=n(4743),_=n(7160).set,w=n(2950),x=n(3681),S=n(892),C=n(6412),M=n(3326),O=n(5813),k=n(511),E=n(9438),I=k.CONSTRUCTOR,j=k.REJECTION_EVENT,A=k.SUBCLASSING,T=M.getterFor("Promise"),D=M.set,P=O&&O.prototype,L=O,N=P,R=u.TypeError,B=u.document,z=u.process,F=E.f,H=F,U=!!(B&&B.createEvent&&u.dispatchEvent),W=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},Y=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&Z(e),e.rejection=1),!0===s?n=o:(f&&f.enter(),n=s(o),f&&(f.exit(),i=!0)),n===t.promise?u(R("Promise-chain cycle")):(r=W(n))?l(r,n,c,u):c(n)):u(o)}catch(h){f&&!i&&f.exit(),u(h)}},V=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)Y(n,t);t.notified=!1,e&&!t.rejection&&X(t)})))},G=function(t,e,n){var r,i;U?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!j&&(i=u["on"+t])?i(r):"unhandledrejection"===t&&x("Unhandled promise rejection",n)},X=function(t){l(_,u,(function(){var e,n=t.facade,r=t.value;if(K(t)&&(e=S((function(){c?z.emit("unhandledRejection",r,n):G("unhandledrejection",n,r)})),t.rejection=c||K(t)?2:1,e.error))throw e.value}))},K=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){l(_,u,(function(){var e=t.facade;c?z.emit("rejectionHandled",e):G("rejectionhandled",e,t.value)}))},q=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,V(t,!0))},J=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw R("Promise can't be resolved itself");var i=W(n);i?w((function(){var r={done:!1};try{l(i,n,q(t,r,e),q(Q,r,e))}catch(o){Q(r,o,e)}})):(e.value=n,e.state=1,V(e,!1))}catch(o){Q({done:!1},o,e)}}};if(I&&(N=(L=function(t){y(this,N),v(t),l(r,this);var e=T(this);try{t(q(J,e),q(Q,e))}catch(n){Q(e,n)}}).prototype,(r=function(t){D(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=f(N,"then",(function(t,e){var n=T(this),r=F(b(this,L));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=c?z.domain:void 0,0==n.state?n.reactions.add(r):w((function(){Y(r,n)})),r.promise})),i=function(){var t=new r,e=T(t);this.promise=t,this.resolve=q(J,e),this.reject=q(Q,e)},E.f=F=function(t){return t===L||void 0===t?new i(t):H(t)},!s&&g(O)&&P!==Object.prototype)){o=P.then,A||f(P,"then",(function(t,e){var n=this;return new L((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete P.constructor}catch($){}h&&h(P,N)}a({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:L}),d(L,"Promise",!1,!0),p("Promise")},1868:function(t,e,n){"use strict";var r=n(3085),i=n(5546),o=n(5813),a=n(6192),s=n(150),c=n(6447),u=n(4743),l=n(9126),f=n(9362),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var d=s("Promise").prototype.finally;h.finally!==d&&f(h,"finally",d,{unsafe:!0})}},9021:function(t,e,n){n(268),n(9701),n(4025),n(7196),n(5873),n(2931)},7196:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(6235),a=n(9438),s=n(892),c=n(3442);r({target:"Promise",stat:!0,forced:n(2775)},{race:function(t){var e=this,n=a.f(e),r=n.reject,u=s((function(){var a=o(e.resolve);c(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},5873:function(t,e,n){"use strict";var r=n(3085),i=n(8922),o=n(9438);r({target:"Promise",stat:!0,forced:n(511).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},2931:function(t,e,n){"use strict";var r=n(3085),i=n(150),o=n(5546),a=n(5813),s=n(511).CONSTRUCTOR,c=n(9126),u=i("Promise"),l=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return c(l&&this===u?a:this,t)}})},5397:function(t,e,n){var r=n(3085),i=n(150),o=n(6298),a=n(6782),s=n(1404),c=n(1138),u=n(5744),l=n(2853),f=n(6192),h=i("Reflect","construct"),d=Object.prototype,p=[].push,v=f((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),g=!f((function(){h((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){s(t),c(e);var n=arguments.length<3?t:s(arguments[2]);if(g&&!v)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=l(u(i)?i:d),m=o(t,f,e);return u(m)?m:f}})},1367:function(){},5454:function(t,e,n){"use strict";var r=n(863).charAt,i=n(4845),o=n(3326),a=n(5297),s=n(7271),c=o.set,u=o.getterFor("String Iterator");a(String,"String",(function(t){c(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},957:function(t,e,n){"use strict";var r=n(3085),i=n(4277).trim;r({target:"String",proto:!0,forced:n(6815)("trim")},{trim:function(){return i(this)}})},9781:function(t,e,n){n(8332)("asyncIterator")},9351:function(t,e,n){"use strict";var r=n(3085),i=n(8576),o=n(8922),a=n(4120),s=n(5546),c=n(69),u=n(6770),l=n(6192),f=n(4500),h=n(8902),d=n(1138),p=n(101),v=n(77),g=n(4845),m=n(774),y=n(2853),b=n(7653),_=n(2092),w=n(4052),x=n(4750),S=n(5141),C=n(2760),M=n(1187),O=n(6007),k=n(9362),E=n(4008),I=n(8717),j=n(9766),A=n(4535),T=n(2759),D=n(8182),P=n(9207),L=n(8332),N=n(3407),R=n(1284),B=n(3326),z=n(454).forEach,F=j("hidden"),H=B.set,U=B.getterFor("Symbol"),W=Object.prototype,Y=i.Symbol,V=Y&&Y.prototype,G=i.TypeError,X=i.QObject,K=S.f,Z=C.f,q=w.f,Q=O.f,J=a([].push),$=I("symbols"),tt=I("op-symbols"),et=I("wks"),nt=!X||!X.prototype||!X.prototype.findChild,rt=c&&l((function(){return 7!=y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(W,e);r&&delete W[e],Z(t,e,n),r&&t!==W&&Z(W,e,r)}:Z,it=function(t,e){var n=$[t]=y(V);return H(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},ot=function(t,e,n){t===W&&ot(tt,e,n),d(t);var r=v(e);return d(n),f($,r)?(n.enumerable?(f(t,F)&&t[F][r]&&(t[F][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,F)||Z(t,F,m(1,{})),t[F][r]=!0),rt(t,r,n)):Z(t,r,n)},at=function(t,e){d(t);var n=p(e),r=b(n).concat(lt(n));return z(r,(function(e){c&&!o(st,n,e)||ot(t,e,n[e])})),t},st=function(t){var e=v(t),n=o(Q,this,e);return!(this===W&&f($,e)&&!f(tt,e))&&(!(n||!f(this,e)||!f($,e)||f(this,F)&&this[F][e])||n)},ct=function(t,e){var n=p(t),r=v(e);if(n!==W||!f($,r)||f(tt,r)){var i=K(n,r);return!i||!f($,r)||f(n,F)&&n[F][r]||(i.enumerable=!0),i}},ut=function(t){var e=q(p(t)),n=[];return z(e,(function(t){f($,t)||f(A,t)||J(n,t)})),n},lt=function(t){var e=t===W,n=q(e?tt:p(t)),r=[];return z(n,(function(t){!f($,t)||e&&!f(W,t)||J(r,$[t])})),r};u||(k(V=(Y=function(){if(h(V,this))throw G("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=T(t),n=function t(n){this===W&&o(t,tt,n),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),rt(this,e,m(1,n))};return c&&nt&&rt(W,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return U(this).tag})),k(Y,"withoutSetter",(function(t){return it(T(t),t)})),O.f=st,C.f=ot,M.f=at,S.f=ct,_.f=w.f=ut,x.f=lt,P.f=function(t){return it(D(t),t)},c&&(E(V,"description",{configurable:!0,get:function(){return U(this).description}}),s||k(W,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),z(b(et),(function(t){L(t)})),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?y(t):at(y(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ut}),N(),R(Y,"Symbol"),A[F]=!0},492:function(){},9148:function(t,e,n){var r=n(3085),i=n(150),o=n(4500),a=n(4845),s=n(8717),c=n(31),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(o(u,e))return u[e];var n=i("Symbol")(e);return u[e]=n,l[n]=e,n}})},6681:function(t,e,n){n(8332)("hasInstance")},9594:function(t,e,n){n(8332)("isConcatSpreadable")},3665:function(t,e,n){n(8332)("iterator")},6187:function(t,e,n){n(9351),n(9148),n(5991),n(9704),n(7895)},5991:function(t,e,n){var r=n(3085),i=n(4500),o=n(3236),a=n(9288),s=n(8717),c=n(31),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw TypeError(a(t)+" is not a symbol");if(i(u,t))return u[t]}})},1250:function(t,e,n){n(8332)("matchAll")},9017:function(t,e,n){n(8332)("match")},9786:function(t,e,n){n(8332)("replace")},503:function(t,e,n){n(8332)("search")},6565:function(t,e,n){n(8332)("species")},9322:function(t,e,n){n(8332)("split")},3610:function(t,e,n){var r=n(8332),i=n(3407);r("toPrimitive"),i()},6886:function(t,e,n){var r=n(150),i=n(8332),o=n(1284);i("toStringTag"),o(r("Symbol"),"Symbol")},3514:function(t,e,n){n(8332)("unscopables")},177:function(t,e,n){n(8332)("asyncDispose")},9031:function(t,e,n){n(8332)("dispose")},2725:function(t,e,n){var r=n(3085),i=n(150),o=n(4120),a=i("Symbol"),s=a.keyFor,c=o(a.prototype.valueOf);r({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==s(c(t))}catch(e){return!1}}})},1806:function(t,e,n){for(var r=n(3085),i=n(8717),o=n(150),a=n(4120),s=n(3236),c=n(8182),u=o("Symbol"),l=u.isWellKnown,f=o("Object","getOwnPropertyNames"),h=a(u.prototype.valueOf),d=i("wks"),p=0,v=f(u),g=v.length;p<g;p++)try{var m=v[p];s(u[m])&&c(m)}catch(y){}r({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(l&&l(t))return!0;try{for(var e=h(t),n=0,r=f(d),i=r.length;n<i;n++)if(d[r[n]]==e)return!0}catch(y){}return!1}})},6658:function(t,e,n){n(8332)("matcher")},4212:function(t,e,n){n(8332)("metadataKey")},1875:function(t,e,n){n(8332)("metadata")},8658:function(t,e,n){n(8332)("observable")},4592:function(t,e,n){n(8332)("patternMatch")},6680:function(t,e,n){n(8332)("replaceAll")},162:function(t,e,n){n(8939);var r=n(7365),i=n(8576),o=n(4696),a=n(8711),s=n(7771),c=n(8182)("toStringTag");for(var u in r){var l=i[u],f=l&&l.prototype;f&&o(f)!==c&&a(f,c,u),s[u]=s.Array}},7408:function(t,e,n){var r=n(3085),i=n(8576),o=n(3755)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},683:function(t,e,n){var r=n(3085),i=n(8576),o=n(3755)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},2906:function(t,e,n){n(7408),n(683)},7054:function(t,e,n){"use strict";n(8939);var r=n(3085),i=n(8576),o=n(8922),a=n(4120),s=n(69),c=n(8552),u=n(9362),l=n(4008),f=n(5090),h=n(1284),d=n(5695),p=n(3326),v=n(6961),g=n(6447),m=n(4500),y=n(8043),b=n(4696),_=n(1138),w=n(5744),x=n(4845),S=n(2853),C=n(774),M=n(1669),O=n(8703),k=n(7822),E=n(8182),I=n(6614),j=E("iterator"),A=p.set,T=p.getterFor("URLSearchParams"),D=p.getterFor("URLSearchParamsIterator"),P=Object.getOwnPropertyDescriptor,L=function(t){if(!s)return i[t];var e=P(i,t);return e&&e.value},N=L("fetch"),R=L("Request"),B=L("Headers"),z=R&&R.prototype,F=B&&B.prototype,H=i.RegExp,U=i.TypeError,W=i.decodeURIComponent,Y=i.encodeURIComponent,V=a("".charAt),G=a([].join),X=a([].push),K=a("".replace),Z=a([].shift),q=a([].splice),Q=a("".split),J=a("".slice),$=/\+/g,tt=Array(4),et=function(t){return tt[t-1]||(tt[t-1]=H("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return W(t)}catch(e){return t}},rt=function(t){var e=K(t,$," "),n=4;try{return W(e)}catch(r){for(;n;)e=K(e,et(n--),nt);return e}},it=/[!'()~]|%20/g,ot={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},at=function(t){return ot[t]},st=function(t){return K(Y(t),it,at)},ct=d((function(t,e){A(this,{type:"URLSearchParamsIterator",iterator:M(T(t).entries),kind:e})}),"Iterator",(function(){var t=D(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===V(t,0)?J(t,1):t:x(t)))};ut.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,a,s,c,u=O(t);if(u)for(n=(e=M(t,u)).next;!(r=o(n,e)).done;){if(a=(i=M(_(r.value))).next,(s=o(a,i)).done||(c=o(a,i)).done||!o(a,i).done)throw U("Expected sequence with length 2");X(this.entries,{key:x(s.value),value:x(c.value)})}else for(var l in t)m(t,l)&&X(this.entries,{key:l,value:x(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=Q(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=Q(e,"="),X(this.entries,{key:rt(Z(n)),value:rt(G(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],X(n,st(t.key)+"="+st(t.value));return G(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){v(this,ft);var t=arguments.length>0?arguments[0]:void 0,e=A(this,new ut(t));s||(this.length=e.entries.length)},ft=lt.prototype;if(f(ft,{append:function(t,e){k(arguments.length,2);var n=T(this);X(n.entries,{key:x(t),value:x(e)}),s||this.length++,n.updateURL()},delete:function(t){k(arguments.length,1);for(var e=T(this),n=e.entries,r=x(t),i=0;i<n.length;)n[i].key===r?q(n,i,1):i++;s||(this.length=n.length),e.updateURL()},get:function(t){k(arguments.length,1);for(var e=T(this).entries,n=x(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){k(arguments.length,1);for(var e=T(this).entries,n=x(t),r=[],i=0;i<e.length;i++)e[i].key===n&&X(r,e[i].value);return r},has:function(t){k(arguments.length,1);for(var e=T(this).entries,n=x(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){k(arguments.length,1);for(var n,r=T(this),i=r.entries,o=!1,a=x(t),c=x(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?q(i,u--,1):(o=!0,n.value=c));o||X(i,{key:a,value:c}),s||(this.length=i.length),r.updateURL()},sort:function(){var t=T(this);I(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=T(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),u(ft,j,ft.entries,{name:"entries"}),u(ft,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),s&&l(ft,"size",{get:function(){return T(this).entries.length},configurable:!0,enumerable:!0}),h(lt,"URLSearchParams"),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:lt}),!c&&g(B)){var ht=a(F.has),dt=a(F.set),pt=function(t){if(w(t)){var e,n=t.body;if("URLSearchParams"===b(n))return e=t.headers?new B(t.headers):new B,ht(e,"content-type")||dt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(t,{body:C(0,x(n)),headers:C(0,e)})}return t};if(g(N)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return N(t,arguments.length>1?pt(arguments[1]):{})}}),g(R)){var vt=function(t){return v(this,z),new R(t,arguments.length>1?pt(arguments[1]):{})};z.constructor=vt,vt.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:lt,getState:T}},9336:function(t,e,n){n(7054)},7441:function(){},9856:function(t,e,n){var r=n(3085),i=n(150),o=n(6192),a=n(7822),s=n(4845),c=n(8552),u=i("URL");r({target:"URL",stat:!0,forced:!(c&&o((function(){u.canParse()})))},{canParse:function(t){var e=a(arguments.length,1),n=s(t),r=e<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return!!new u(n,r)}catch(i){return!1}}})},5352:function(t,e,n){"use strict";n(5454);var r,i=n(3085),o=n(69),a=n(8552),s=n(8576),c=n(8043),l=n(4120),f=n(9362),h=n(4008),d=n(6961),p=n(4500),v=n(2503),g=n(841),m=n(1923),y=n(863).codeAt,b=n(7977),_=n(4845),w=n(1284),x=n(7822),S=n(7054),C=n(3326),M=C.set,O=C.getterFor("URL"),k=S.URLSearchParams,E=S.getState,I=s.URL,j=s.TypeError,A=s.parseInt,T=Math.floor,D=Math.pow,P=l("".charAt),L=l(/./.exec),N=l([].join),R=l(1..toString),B=l([].pop),z=l([].push),F=l("".replace),H=l([].shift),U=l("".split),W=l("".slice),Y=l("".toLowerCase),V=l([].unshift),G=/[a-z]/i,X=/[\d+-.a-z]/i,K=/\d/,Z=/^0x/i,q=/^[0-7]+$/,Q=/^\d+$/,J=/^[\da-f]+$/i,$=/[\0\t\n\r #%/:<>?@[\\\]^|]/,tt=/[\0\t\n\r #/:<>?@[\\\]^|]/,et=/^[\u0000-\u0020]+/,nt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,rt=/[\t\n\r]/g,it=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)V(e,t%256),t=T(t/256);return N(e,".")}if("object"==u(t)){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=R(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},ot={},at=v({},ot,{" ":1,'"':1,"<":1,">":1,"`":1}),st=v({},at,{"#":1,"?":1,"{":1,"}":1}),ct=v({},st,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ut=function(t,e){var n=y(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},lt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var n;return 2==t.length&&L(G,P(t,0))&&(":"==(n=P(t,1))||!e&&"|"==n)},ht=function(t){var e;return t.length>1&&ft(W(t,0,2))&&(2==t.length||"/"===(e=P(t,2))||"\\"===e||"?"===e||"#"===e)},dt=function(t){return"."===t||"%2e"===Y(t)},pt={},vt={},gt={},mt={},yt={},bt={},_t={},wt={},xt={},St={},Ct={},Mt={},Ot={},kt={},Et={},It={},jt={},At={},Tt={},Dt={},Pt={},Lt=function t(e,n,r){var i,o,a,s=_(e);if(n){if(o=this.parse(s))throw j(o);this.searchParams=null}else{if(void 0!==r&&(i=new t(r,!0)),o=this.parse(s,null,i))throw j(o);(a=E(new k)).bindURL(this),this.searchParams=a}};Lt.prototype={type:"URL",parse:function(t,e,n){var i,o,a,s,c,u=this,l=e||pt,f=0,h="",d=!1,v=!1,y=!1;for(t=_(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=F(t,et,""),t=F(t,nt,"$1")),t=F(t,rt,""),i=g(t);f<=i.length;){switch(o=i[f],l){case pt:if(!o||!L(G,o)){if(e)return"Invalid scheme";l=gt;continue}h+=Y(o),l=vt;break;case vt:if(o&&(L(X,o)||"+"==o||"-"==o||"."==o))h+=Y(o);else{if(":"!=o){if(e)return"Invalid scheme";h="",l=gt,f=0;continue}if(e&&(u.isSpecial()!=p(lt,h)||"file"==h&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=h,e)return void(u.isSpecial()&&lt[u.scheme]==u.port&&(u.port=null));h="","file"==u.scheme?l=kt:u.isSpecial()&&n&&n.scheme==u.scheme?l=mt:u.isSpecial()?l=wt:"/"==i[f+1]?(l=yt,f++):(u.cannotBeABaseURL=!0,z(u.path,""),l=Tt)}break;case gt:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=m(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Pt;break}l="file"==n.scheme?kt:bt;continue;case mt:if("/"!=o||"/"!=i[f+1]){l=bt;continue}l=xt,f++;break;case yt:if("/"==o){l=St;break}l=At;continue;case bt:if(u.scheme=n.scheme,o==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())l=_t;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query="",l=Dt;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.path.length--,l=At;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query,u.fragment="",l=Pt}break;case _t:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=At;continue}l=St}else l=xt;break;case wt:if(l=xt,"/"!=o||"/"!=P(h,f+1))continue;f++;break;case xt:if("/"!=o&&"\\"!=o){l=St;continue}break;case St:if("@"==o){d&&(h="%40"+h),d=!0,a=g(h);for(var b=0;b<a.length;b++){var w=a[b];if(":"!=w||y){var x=ut(w,ct);y?u.password+=x:u.username+=x}else y=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(d&&""==h)return"Invalid authority";f-=g(h).length+1,h="",l=Ct}else h+=o;break;case Ct:case Mt:if(e&&"file"==u.scheme){l=It;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==h)return"Invalid host";if(e&&""==h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h))return s;if(h="",l=jt,e)return;continue}"["==o?v=!0:"]"==o&&(v=!1),h+=o}else{if(""==h)return"Invalid host";if(s=u.parseHost(h))return s;if(h="",l=Ot,e==Mt)return}break;case Ot:if(!L(K,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||e){if(""!=h){var S=A(h,10);if(S>65535)return"Invalid port";u.port=u.isSpecial()&&S===lt[u.scheme]?null:S,h=""}if(e)return;l=jt;continue}return"Invalid port"}h+=o;break;case kt:if(u.scheme="file","/"==o||"\\"==o)l=Et;else{if(!n||"file"!=n.scheme){l=At;continue}if(o==r)u.host=n.host,u.path=m(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=m(n.path),u.query="",l=Dt;else{if("#"!=o){ht(N(m(i,f),""))||(u.host=n.host,u.path=m(n.path),u.shortenPath()),l=At;continue}u.host=n.host,u.path=m(n.path),u.query=n.query,u.fragment="",l=Pt}}break;case Et:if("/"==o||"\\"==o){l=It;break}n&&"file"==n.scheme&&!ht(N(m(i,f),""))&&(ft(n.path[0],!0)?z(u.path,n.path[0]):u.host=n.host),l=At;continue;case It:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&ft(h))l=At;else if(""==h){if(u.host="",e)return;l=jt}else{if(s=u.parseHost(h))return s;if("localhost"==u.host&&(u.host=""),e)return;h="",l=jt}continue}h+=o;break;case jt:if(u.isSpecial()){if(l=At,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=r&&(l=At,"/"!=o))continue}else u.fragment="",l=Pt;else u.query="",l=Dt;break;case At:if(o==r||"/"==o||"\\"==o&&u.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(c=Y(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||z(u.path,"")):dt(h)?"/"==o||"\\"==o&&u.isSpecial()||z(u.path,""):("file"==u.scheme&&!u.path.length&&ft(h)&&(u.host&&(u.host=""),h=P(h,0)+":"),z(u.path,h)),h="","file"==u.scheme&&(o==r||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)H(u.path);"?"==o?(u.query="",l=Dt):"#"==o&&(u.fragment="",l=Pt)}else h+=ut(o,st);break;case Tt:"?"==o?(u.query="",l=Dt):"#"==o?(u.fragment="",l=Pt):o!=r&&(u.path[0]+=ut(o,ot));break;case Dt:e||"#"!=o?o!=r&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":ut(o,ot)):(u.fragment="",l=Pt);break;case Pt:o!=r&&(u.fragment+=ut(o,at))}f++}},parseHost:function(t){var e,n,r;if("["==P(t,0)){if("]"!=P(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return P(t,f)};if(":"==h()){if(":"!=P(t,1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&L(J,h());)e=16*e+A(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!L(K,h()))return;for(;L(K,h());){if(o=A(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(W(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=b(t),L($,t))return"Invalid host";if(null===(e=function(t){var e,n,r,i,o,a,s,c=U(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(o=10,i.length>1&&"0"==P(i,0)&&(o=L(Z,i)?16:8,i=W(i,8==o?1:2)),""===i)a=0;else{if(!L(10==o?Q:8==o?q:J,i))return t;a=A(i,o)}z(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=D(256,5-e))return null}else if(a>255)return null;for(s=B(n),r=0;r<n.length;r++)s+=n[r]*D(256,3-r);return s}(t)))return"Invalid host";this.host=e}else{if(L(tt,t))return"Invalid host";for(e="",n=g(t),r=0;r<n.length;r++)e+=ut(n[r],ot);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(lt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",t.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=it(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw j(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Nt(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+it(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_(t)+":",pt)},getUsername:function(){return this.username},setUsername:function(t){var e=g(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ut(e[n],ct)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ut(e[n],ct)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?it(t):it(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ct)},getHostname:function(){var t=this.host;return null===t?"":it(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Mt)},getPort:function(){var t=this.port;return null===t?"":_(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=_(t))?this.port=null:this.parse(t,Ot))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+N(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,jt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=_(t))?this.query=null:("?"==P(t,0)&&(t=W(t,1)),this.query="",this.parse(t,Dt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=_(t))?("#"==P(t,0)&&(t=W(t,1)),this.fragment="",this.parse(t,Pt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Nt=function(t){var e=d(this,Rt),n=x(arguments.length,1)>1?arguments[1]:void 0,r=M(e,new Lt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Rt=Nt.prototype,Bt=function(t,e){return{get:function(){return O(this)[t]()},set:e&&function(t){return O(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(h(Rt,"href",Bt("serialize","setHref")),h(Rt,"origin",Bt("getOrigin")),h(Rt,"protocol",Bt("getProtocol","setProtocol")),h(Rt,"username",Bt("getUsername","setUsername")),h(Rt,"password",Bt("getPassword","setPassword")),h(Rt,"host",Bt("getHost","setHost")),h(Rt,"hostname",Bt("getHostname","setHostname")),h(Rt,"port",Bt("getPort","setPort")),h(Rt,"pathname",Bt("getPathname","setPathname")),h(Rt,"search",Bt("getSearch","setSearch")),h(Rt,"searchParams",Bt("getSearchParams")),h(Rt,"hash",Bt("getHash","setHash"))),f(Rt,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),f(Rt,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),I){var zt=I.createObjectURL,Ft=I.revokeObjectURL;zt&&f(Nt,"createObjectURL",c(zt,I)),Ft&&f(Nt,"revokeObjectURL",c(Ft,I))}w(Nt,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Nt})},4948:function(t,e,n){n(5352)},9801:function(){},3822:function(t,e,n){var r=n(2221);t.exports=r},1434:function(t,e,n){var r=n(5078);t.exports=r},6899:function(t,e,n){var r=n(98);t.exports=r},7710:function(t,e,n){var r=n(5739);n(162),t.exports=r},4486:function(t,e,n){var r=n(278);t.exports=r},4877:function(t,e,n){var r=n(1484);t.exports=r},7178:function(t,e,n){var r=n(7731);t.exports=r},5603:function(t,e,n){var r=n(3669);t.exports=r},1206:function(t,e,n){n(162);var r=n(4696),i=n(4500),o=n(8902),a=n(6899),s=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===s||o(s,t)&&e===s.forEach||i(c,r(t))?a:e}},6174:function(t,e,n){var r=n(2604);t.exports=r},57:function(t,e,n){var r=n(263);t.exports=r},2926:function(t,e,n){var r=n(3590);t.exports=r},4741:function(t,e,n){var r=n(7663);t.exports=r},8368:function(t,e,n){var r=n(5063);t.exports=r},3739:function(t,e,n){var r=n(6813);t.exports=r},172:function(t,e,n){var r=n(6285);t.exports=r},4963:function(t,e,n){var r=n(3213);t.exports=r},7820:function(t,e,n){var r=n(3512);t.exports=r},8980:function(t,e,n){var r=n(8168);t.exports=r},5636:function(t,e,n){var r=n(8651);t.exports=r},6672:function(t,e,n){var r=n(3083);t.exports=r},5059:function(t,e,n){var r=n(2987);t.exports=r},3969:function(t,e,n){var r=n(2239);t.exports=r},6618:function(t,e,n){var r=n(3154);n(162),t.exports=r},5279:function(t,e,n){var r=n(6577);t.exports=r},9562:function(t,e,n){n(2906);var r=n(7545);t.exports=r.setTimeout},2285:function(t,e,n){var r=n(5008);n(162),t.exports=r},8535:function(t,e,n){var r=n(994);n(162),t.exports=r},6042:function(t,e,n){var r=n(290);t.exports=r},652:function(t,e,n){var r=n(5668);t.exports=r},5668:function(t,e,n){n(4948),n(9856),n(9801),n(9336),n(7441);var r=n(7545);t.exports=r.URL},4858:function(t){"use strict";t.exports=e},4960:function(){},6759:function(){},6272:function(){},7456:function(t,e,n){t.exports=n(4486)},192:function(t,e,n){t.exports=n(4877)},9805:function(t,e,n){t.exports=n(7178)},453:function(t,e,n){t.exports=n(5603)},1463:function(t,e,n){t.exports=n(1206)},3188:function(t,e,n){t.exports=n(6174)},4903:function(t,e,n){t.exports=n(57)},1488:function(t,e,n){t.exports=n(4741)},3963:function(t,e,n){t.exports=n(8368)},6087:function(t,e,n){t.exports=n(3739)},934:function(t,e,n){t.exports=n(172)},4644:function(t,e,n){t.exports=n(4963)},7961:function(t,e,n){t.exports=n(7820)},2921:function(t,e,n){t.exports=n(5636)},1092:function(t,e,n){t.exports=n(5059)},9521:function(t,e,n){t.exports=n(3969)},2583:function(t,e,n){t.exports=n(6618)},3662:function(t,e,n){t.exports=n(5279)},3305:function(t,e,n){t.exports=n(9562)},6736:function(t,e,n){t.exports=n(652)}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t].call(r.exports,r,r.exports,o),r.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"===("undefined"===typeof globalThis?"undefined":u(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===("undefined"===typeof window?"undefined":u(window)))return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var a={};return function(){"use strict";o.d(a,{default:function(){return Bs}});var t=o(6087),e=o.n(t),n=o(3188),r=o.n(n),i=o(3963),s=o.n(i),c=o(7961),u=o.n(c),l=o(1488),f=o.n(l),h=o(4644),d=o.n(h),p=o(3305),v=o.n(p);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var n=t.Element.prototype,i=Object,o=e()(String.prototype)||function(){return this.replace(/^\s+|\s+$/g,"")},a=r()(Array.prototype)||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},f=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},h=f.prototype=[],d=function(){return new f(this)};if(c.prototype=Error.prototype,h.item=function(t){return this[t]||null},h.contains=function(t){return~l(this,t+"")},h.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{t=e[n]+"",~l(this,t)||(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},h.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(t=n[r]+"",e=l(this,t);~e;){var a;s()(a=this).call(a,e,1),o=!0,e=l(this,t)}}while(++r<i);o&&this._updateClassName()},h.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},h.replace=function(t,e){var n,r=l(t+"");~r&&(s()(n=this).call(n,r,1,e),this._updateClassName())},h.toString=function(){return this.join(" ")},u()){var p={get:d,enumerable:!0,configurable:!0};try{u()(n,"classList",p)}catch(v){void 0!==v.number&&-2146823252!==v.number||(p.enumerable=!1,u()(n,"classList",p))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)===!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=r()(n).call(n,t+"");~i&&(n=f()(n).call(n,i),this.remove.apply(this,n),this.add(e),this.add.apply(this,f()(n).call(n,1)))}),t=null}()),function(){if("undefined"!==typeof window&&window.addEventListener){var t,e,n,r=d()(null),i=function(){clearTimeout(e),e=v()(t,100)},o=function(){},a=function(t){function e(t){var e;return void 0!==t.protocol?e=t:(e=document.createElement("a")).href=t,e.protocol.replace(/:/g,"")+e.host}var n,r,i;return window.XMLHttpRequest&&(n=new XMLHttpRequest,r=e(location),i=e(t),n=void 0===n.withCredentials&&""!==i&&i!==r?XDomainRequest||void 0:XMLHttpRequest),n},s="http://www.w3.org/1999/xlink";t=function(){var t,e,n,c,u,l,f,h,d,p,g=0;function m(){0===(g-=1)&&(o(),function(){var t;window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),window.MutationObserver?((t=new MutationObserver(i)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{t.disconnect(),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",i,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",i,!1),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)})}())}function y(t){return function(){!0!==r[t.base]&&(t.useEl.setAttributeNS(s,"xlink:href","#"+t.hash),t.useEl.hasAttribute("href")&&t.useEl.setAttribute("href","#"+t.hash))}}function b(t){return function(){var e,n=document.body,r=document.createElement("x");t.onload=null,r.innerHTML=t.responseText,(e=r.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",n.insertBefore(e,n.firstChild)),m()}}function _(t){return function(){t.onerror=null,t.ontimeout=null,m()}}for(o(),d=document.getElementsByTagName("use"),u=0;u<d.length;u+=1){try{e=d[u].getBoundingClientRect()}catch(w){e=!1}t=(h=(c=d[u].getAttribute("href")||d[u].getAttributeNS(s,"href")||d[u].getAttribute("xlink:href"))&&c.split?c.split("#"):["",""])[0],n=h[1],l=e&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom,e&&0===e.width&&0===e.height&&!l?(d[u].hasAttribute("href")&&d[u].setAttributeNS(s,"xlink:href",c),t.length&&(!0!==(p=r[t])&&v()(y({useEl:d[u],base:t,hash:n}),0),void 0===p&&void 0!==(f=a(t))&&(p=new f,r[t]=p,p.onload=b(p),p.onerror=_(p),p.ontimeout=_(p),p.open("GET",t),p.send(),g+=1))):l?t.length&&r[t]&&v()(y({useEl:d[u],base:t,hash:n}),0):void 0===r[t]?r[t]=!0:r[t].onload&&(r[t].abort(),delete r[t].onload,r[t]=!0)}d="",g+=1,m()},n=function(){window.removeEventListener("load",n,!1),e=v()(t,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}();var g=o(8541);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=o(2185),b=o(7020),_=o(2708),w=o(1626);function x(t,e){var n;if(t){if("string"===typeof t)return m(t,e);var r=w(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?_(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function S(t){return function(t){if(g(t))return m(t)}(t)||function(t){if("undefined"!==typeof y&&null!=b(t)||null!=t["@@iterator"])return _(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=o(229),M=o(9982);function O(t){return(O="function"==typeof y&&"symbol"==typeof M?function(t){return typeof t}:function(t){return t&&"function"==typeof y&&t.constructor===y&&t!==y.prototype?"symbol":typeof t})(t)}var k=o(8241);function E(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[k];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===O(e)?e:String(e)}function I(t,e,n){return(e=E(e))in t?C(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),C(t,E(r.key),r)}}function T(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),C(t,"prototype",{writable:!1}),t}var D=o(7456),P=o.n(D),L=o(192),N=o.n(L),R=o(2583),B=o.n(R),z=o(6736),F=o.n(z),H=o(2777),U=o(961),W=o.n(U),Y=o(1603),V=o.n(Y),G=o(8592),X=o.n(G),K=o(9052),Z=o.n(K),q=o(2560),Q=o.n(q),J=o(2921),$=o.n(J),tt=o(2607);function et(t,e){return function(t){if(g(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof y&&b(t)||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(tt(s).call(s,r.value),s.length!==e);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||x(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nt,rt=o(9521),it=o.n(rt),ot=o(1463),at=o.n(ot),st=o(9805),ct=o.n(st),ut=o(4729),lt=o.n(ut),ft=o(1610),ht=o.n(ft),dt=o(3053),pt=o.n(dt),vt=["zoomIn","zoomOut","hand"],gt=["history","undo","redo","reset"],mt=N()(nt=[]).call(nt,gt),yt="filter",bt="color",_t=["rect","circle","triangle"],wt="cropzone",xt="vintage",St="sepia2",Ct="removeColor",Mt="colorFilter",Ot="removeWhite",kt="blendColor",Et="blend",It=Fn("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),jt={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},At="clearObjects",Tt="loadImage",Dt="flip",Pt="rotate",Lt="addObject",Nt="removeObject",Rt="applyFilter",Bt="removeFilter",zt="addIcon",Ft="changeIconColor",Ht="addShape",Ut="changeShape",Wt="addText",Yt="changeText",Vt="changeTextStyle",Gt="addImageObject",Xt="resizeCanvasDimension",Kt="setObjectProperties",Zt="setObjectPosition",qt="changeSelection",Qt="resize",Jt="objectActivated",$t="objectMoved",te="objectScaled",ee="objectRotated",ne="objectAdded",re="objectModified",ie="textEditing",oe="textChanged",ae="iconCreateResize",se="iconCreateEnd",ce="addText",ue="addObject",le="addObjectAfter",fe="mousedown",he="redoStackChanged",de="undoStackChanged",pe="selectionCleared",ve="selectionCreated",ge="executeCommand",me="afterUndo",ye="afterRedo",be="zoomChanged",_e="handStarted",we="handStopped",xe="keydown",Se="keyup",Ce="inputBoxEditingStarted",Me="inputBoxEditingStopped",Oe="focus",ke="blur",Ee=".tui-colorpicker-palette-hex",Ie="Load",je="Mask",Ae="Mask",Te="Crop",De="Resize",Pe="Filter",Le="Filter",Ne="Shape",Re="Icon",Be="Text",ze="Text",Fe="Delete",He="Delete",Ue=Fn("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),We="text",Ye="crop",Ve="resize",Ge="shape",Xe="zoom",Ke="normal",Ze="zoom",qe="hand",Qe=90,Je=89,$e=67,tn=86,en=16,nn=46,rn=40,on=38,an=32,sn=48,cn=57,un={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},ln="The object is already added.",fn="The flipX and flipY setting values are not changed.",hn="Invalid parameters.",dn="The executing command state is locked.",pn="The background image is empty.",vn="Invalid image loaded.",gn="The object is not in canvas.",mn="The promise of redo command is reject.",yn="The promise of undo command is reject.",bn="Unsupported operation.",_n="Unsupported object type.",wn={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},xn={realTimeEvent:!0,min:-360,max:360,value:0},Sn={min:5,max:30,value:12},Cn={realTimeEvent:!0,min:2,max:300,value:3},Mn={realTimeEvent:!0,min:10,max:100,value:24},On={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},kn=0,En=0,In=.5,jn=.5,An={realTimeEvent:!0,min:32},Tn="tui-image-editor-",Dn=Math.min,Pn=Math.max,Ln=!1,Nn=0;function Rn(t){return t.__fe_id||(Nn+=1,t.__fe_id=Nn),t.__fe_id}function Bn(t){return"function"===typeof t}function zn(t,e,n){if(e>n){var r=[n,e];e=r[0],n=r[1]}return Pn(e,Dn(t,n))}function Fn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return X()(n,(function(e){t[e]=e})),t}function Hn(t,e){var n,r={},i=e.length,o=0;for(o=0;o<i;o+=1)r[n=e[o]]=t[n];return r}function Un(t){return it()(t,10)}function Wn(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()}))}function Yn(){return!!(window.File&&window.FileList&&window.FileReader)}function Vn(t,e){var n,r,i,o;4===t.length&&(t=N()(o="".concat(t)).call(o,f()(t).call(t,1,4)));var a=it()(f()(t).call(t,1,3),16),s=it()(f()(t).call(t,3,5),16),c=it()(f()(t).call(t,5,7),16),u=e||1;return N()(n=N()(r=N()(i="rgba(".concat(a,", ")).call(i,s,", ")).call(r,c,", ")).call(n,u,")")}function Gn(t){X()(t,(function(e,n){t[n]=null}))}function Xn(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===n.charAt(0)?N()(e=".".concat(Tn).concat(r)).call(e,f()(n).call(n,1)):N()(t="".concat(Tn).concat(r)).call(t,n)}function Kn(t,e){t.customProps=t.customProps||{},W()(t.customProps,e)}function Zn(t,e){var n={};return Q()(e)&&(e=[e]),X()(e,(function(e){n[e]=t.customProps[e]})),n}function qn(t,e){return r()(t).call(t,e)>=0}function Qn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ht()(t,"type")||bt}function Jn(t){var e=ct()(t);return(void 0===e?{}:e).source?yt:bt}function $n(t){return pt()(t.get("type"),_t)>=0}function tr(t){if(qn(_t,t))return"Shape";switch(t){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return nr(t)}}function er(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useAlpha,i=void 0===r||r,o=n.mode,a=xt,s=Ct,c=kt,u=St,l=Mt,f=Ot,h=Et;switch(t){case a:e=u;break;case s:e=i?l:f;break;case c:e="add"===o?h:o;break;default:e=t}return nr(e)}function nr(t){return t.replace(/[a-z]/,(function(t){return t.toUpperCase()}))}var rr=Fn("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),ir="Should implement a method: ",or="Should set a component name",ar={UN_IMPLEMENTATION:function(t){return ir+t},NO_COMPONENT_NAME:function(){return or}},sr={types:W()({},rr),create:function(t){t=t.toLowerCase();for(var e=ar[t],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,r)}},cr=sr.create,ur=sr.types,lr=function(){function t(e,n){j(this,t),this.name=e.name,this.args=n,this.execute=e.execute,this.undo=e.undo,this.executeCallback=e.executeCallback||null,this.undoCallback=e.undoCallback||null,this.undoData={}}return T(t,[{key:"execute",value:function(){throw new Error(cr(ur.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(cr(ur.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return $()(this.undoData).length>0}},{key:"setUndoData",value:function(t,e,n){return e&&(t=e),n?e||(e=t):(W()(this.undoData,t),e=null),e}},{key:"setExecuteCallback",value:function(t){return this.executeCallback=t,this}},{key:"setUndoCallback",value:function(t){return this.undoCallback=t,this}}]),t}(),fr={},hr={create:function(t){var e=fr[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new lr(e,r)}return null},register:function(t){fr[t.name]=t}},dr=function(){function t(){j(this,t),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return T(t,[{key:"_invokeExecution",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var r=t.args;return r||(r=[]),t.execute.apply(t,S(r)).then((function(r){return e._isSilent||(e.pushUndoStack(t),e.fire(n?ye:ge,t)),e.unlock(),Bn(t.executeCallback)&&t.executeCallback(r),r})).catch((function(t){return e.unlock(),B().reject(t)}))}},{key:"_invokeUndo",value:function(t){var e=this;this.lock();var n=t.args;return n||(n=[]),t.undo.apply(t,S(n)).then((function(n){return e.pushRedoStack(t),e.fire(me,t),e.unlock(),Bn(t.undoCallback)&&t.undoCallback(n),n})).catch((function(t){return e.unlock(),B().reject(t)}))}},{key:"_fireRedoStackChanged",value:function(){this.fire(he,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(de,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var t=this;this._isSilent=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.execute.apply(this,N()(n).call(n,[this._isSilent])).then((function(){t._isSilent=!1}))}},{key:"execute",value:function(){var t=this;if(this._isLocked)return B().reject(dn);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];return Q()(i)&&(i=hr.create.apply(hr,n)),this._invokeExecution(i).then((function(e){return t.clearRedoStack(),e}))}},{key:"undo",value:function(){var t,e,n=this._undoStack.pop(),r="";(n&&this._isLocked&&(this.pushUndoStack(n,!0),n=null),n)?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),t=this._invokeUndo(n)):(r=yn,this._isLocked&&(r=N()(e="".concat(r," Because ")).call(e,dn)),t=B().reject(r));return t}},{key:"redo",value:function(){var t,e,n=this._redoStack.pop(),r="";(n&&this._isLocked&&(this.pushRedoStack(n,!0),n=null),n)?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),t=this._invokeExecution(n,!0)):(r=mn,this._isLocked&&(r=N()(e="".concat(r," Because ")).call(e,dn)),t=B().reject(r));return t}},{key:"pushUndoStack",value:function(t,e){this._undoStack.push(t),e||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(t,e){this._redoStack.push(t),e||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),t}();Z().mixin(dr);var pr=dr,vr=o(1092),gr=o.n(vr),mr=o(4903),yr=o.n(mr),br={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},_r=function(){function t(e){j(this,t),this.styles=this._changeToObject(W()({},br,e)),function(t,e){var n=et(document.getElementsByTagName("head"),1)[0],r=document.createElement("link"),i=encodeURIComponent(t);e&&(r.id=e),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","data:text/css;charset=UTF-8,".concat(i)),n.appendChild(r)}(this._styleMaker()),this._loadDefaultSvgIcon()}return T(t,[{key:"getStyle",value:function(t){var e=null,n=t.replace(/\..+$/,""),r=this.styles[t];switch(t){case"common.bi":e=this.styles[t].image;break;case"menu.icon":e={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")],hover:this.styles["".concat(n,".hoverIcon")],disabled:this.styles["".concat(n,".disabledIcon")]};break;case"submenu.icon":e={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")]};break;case"submenu.label":e={active:this._makeCssText(this.styles["".concat(n,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(n,".normalLabel")])};break;case"submenu.partition":e={vertical:this._makeCssText(W()({},r,{borderLeft:"1px solid ".concat(r.color)})),horizontal:this._makeCssText(W()({},r,{borderBottom:"1px solid ".concat(r.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":r.backgroundColor=r.color,e=this._makeCssText(r);break;default:e=this._makeCssText(r)}return e}},{key:"_styleMaker",value:function(){var t=this.getStyle("submenu.label"),e=this.getStyle("submenu.partition");return function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y,b,_,w,x,S,C,M,O,k,E,I,j=t.subMenuLabelActive,A=t.subMenuLabelNormal,T=t.subMenuRangeTitle,D=t.submenuPartitionVertical,P=t.submenuPartitionHorizontal,L=t.submenuCheckbox,R=t.submenuRangePointer,B=t.submenuRangeValue,z=t.submenuColorpickerTitle,F=t.submenuColorpickerButton,H=t.submenuRangeBar,U=t.submenuRangeSubbar,W=t.submenuDisabledRangePointer,Y=t.submenuDisabledRangeBar,V=t.submenuDisabledRangeSubbar,G=t.submenuIconSize,X=t.menuIconSize,K=t.biSize,Z=t.menuIconStyle,q=t.submenuIconStyle;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c=N()(u=N()(l=N()(f=N()(h=N()(d=N()(p=N()(v=N()(g=N()(m=N()(y=N()(b=N()(_=N()(w=N()(x=N()(S=N()(C=N()(M=N()(O=N()(k=N()(E=N()(I='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(j,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(I,A,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(E,T,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(k,D,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(O,P,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(M,L,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(C,R,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(S,H,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(x,U,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(w,W,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(_,V,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(b,Y,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(y,B,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(m,z,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(g,F,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(v,X,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(p,G,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(d,K,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(h,Z.normal.color,";\n        stroke: ")).call(f,Z.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,Z.active.color,";\n        stroke: ")).call(u,Z.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(c,Z.hover.color,";\n        stroke: ")).call(s,Z.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(a,Z.disabled.color,";\n        stroke: ")).call(o,Z.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(i,q.normal.color,";\n        stroke: ")).call(r,q.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(n,q.active.color,";\n        stroke: ")).call(e,q.active.color,";\n    }\n")}({subMenuLabelActive:t.active,subMenuLabelNormal:t.normal,submenuPartitionVertical:e.vertical,submenuPartitionHorizontal:e.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(t){var e={};return X()(t,(function(t,n){var r=et(n.match(/^(.+)\.([a-z]+)$/i),3),i=r[1],o=r[2];e[i]||(e[i]={}),e[i][o]=t})),e}},{key:"_makeCssText",value:function(t){var e=this,n=[];return X()(t,(function(t,i){var o,a;r()(o=["backgroundImage"]).call(o,i)>-1&&"none"!==t&&(t="url(".concat(t,")")),n.push(N()(a="".concat(e._toUnderScore(i),": ")).call(a,t))})),n.join(";")}},{key:"_toUnderScore",value:function(t){return t.replace(/([A-Z])/g,(function(t,e){return"-".concat(e.toLowerCase())}))}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var t=new DOMParser,e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGRpc3BsYXk9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPg0KPHN5bWJvbCBpZD0iaWMtYXBwbHkiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWNhbmNlbCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik02IDZsMTIgMTJNMTggNkw2IDE4Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiAvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTQgMGgxdjIwYTEgMSAwIDAgMS0xLTFWMHpNMjAgMTdoLTFWNWgxdjEyem0wIDJ2NWgtMXYtNWgxeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+DQo8L3N5bWJvbD4NCjwhLS0gVGhpcyBpY29uIG1hZGUgYnkgUGl4ZWwgcGVyZmVjdCBmcm9tIHd3dy5mbGF0aWNvbi5jb20gLS0+DQo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguOTg4MjgxIDMuMDExNzE5IEMgMTguODAwNzgxIDIuODI0MjE5IDE4LjUgMi44MjQyMTkgMTguMzEyNSAzLjAxMTcxOSBMIDExLjYyMTA5NCA5LjcwNzAzMSBDIDExLjQyOTY4OCA5Ljg5NDUzMSAxMS40Mjk2ODggMTAuMTk1MzEyIDExLjYyMTA5NCAxMC4zNzg5MDYgQyAxMS43MTA5MzggMTAuNDcyNjU2IDExLjgzNTkzOCAxMC41MTk1MzEgMTEuOTU3MDMxIDEwLjUxOTUzMSBDIDEyLjA3ODEyNSAxMC41MTk1MzEgMTIuMjAzMTI1IDEwLjQ3MjY1NiAxMi4yOTI5NjkgMTAuMzc4OTA2IEwgMTguOTg4MjgxIDMuNjg3NSBDIDE5LjE3NTc4MSAzLjUgMTkuMTc1NzgxIDMuMTk5MjE5IDE4Ljk4ODI4MSAzLjAxMTcxOSBaIE0gMTguOTg4MjgxIDMuMDExNzE5ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4NCiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4LjY1MjM0NCAyLjg2NzE4OCBMIDEyLjkxNDA2MiAyLjg2NzE4OCBDIDEyLjY1MjM0NCAyLjg2NzE4OCAxMi40Mzc1IDMuMDgyMDMxIDEyLjQzNzUgMy4zNDc2NTYgQyAxMi40Mzc1IDMuNjEzMjgxIDEyLjY1MjM0NCAzLjgyODEyNSAxMi45MTQwNjIgMy44MjgxMjUgTCAxOC42NTIzNDQgMy44MjgxMjUgQyAxOC45MTc5NjkgMy44MjgxMjUgMTkuMTMyODEyIDMuNjEzMjgxIDE5LjEzMjgxMiAzLjM0NzY1NiBDIDE5LjEzMjgxMiAzLjA4MjAzMSAxOC45MTc5NjkgMi44NjcxODggMTguNjUyMzQ0IDIuODY3MTg4IFogTSAxOC42NTIzNDQgMi44NjcxODggIi8+DQogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAxMC4zNzg5MDYgMTEuNjIxMDk0IEMgMTAuMTk1MzEyIDExLjQzMzU5NCA5Ljg5MDYyNSAxMS40MzM1OTQgOS43MDMxMjUgMTEuNjIxMDk0IEwgMy4wMDc4MTIgMTguMzE2NDA2IEMgMi44MjAzMTIgMTguNSAyLjgyMDMxMiAxOC44MDQ2ODggMy4wMDc4MTIgMTguOTkyMTg4IEMgMy4xMDU0NjkgMTkuMDg1OTM4IDMuMjI2NTYyIDE5LjEzMjgxMiAzLjM0NzY1NiAxOS4xMzI4MTIgQyAzLjQ2ODc1IDE5LjEzMjgxMiAzLjU4OTg0NCAxOS4wODU5MzggMy42ODM1OTQgMTguOTkyMTg4IEwgMTAuMzc4OTA2IDEyLjI5Njg3NSBDIDEwLjU2NjQwNiAxMi4xMDkzNzUgMTAuNTY2NDA2IDExLjgwNDY4OCAxMC4zNzg5MDYgMTEuNjIxMDk0IFogTSAxMC4zNzg5MDYgMTEuNjIxMDk0ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPg0KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gOS4wODU5MzggMTguMTcxODc1IEwgMy4zNDc2NTYgMTguMTcxODc1IEMgMy4wODIwMzEgMTguMTcxODc1IDIuODY3MTg4IDE4LjM4NjcxOSAyLjg2NzE4OCAxOC42NTIzNDQgQyAyLjg2NzE4OCAxOC45MTc5NjkgMy4wODIwMzEgMTkuMTMyODEyIDMuMzQ3NjU2IDE5LjEzMjgxMiBMIDkuMDg1OTM4IDE5LjEzMjgxMiBDIDkuMzQ3NjU2IDE5LjEzMjgxMiA5LjU2MjUgMTguOTE3OTY5IDkuNTYyNSAxOC42NTIzNDQgQyA5LjU2MjUgMTguMzg2NzE5IDkuMzQ3NjU2IDE4LjE3MTg3NSA5LjA4NTkzOCAxOC4xNzE4NzUgWiBNIDkuMDg1OTM4IDE4LjE3MTg3NSAiLz4NCiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDIwLjU2MjUgMCBMIDEuNDM3NSAwIEMgMC42NDQ1MzEgMCAwIDAuNjQ0NTMxIDAgMS40Mzc1IEwgMCAyMC41NjI1IEMgMCAyMS4zNTU0NjkgMC42NDQ1MzEgMjIgMS40Mzc1IDIyIEwgMjAuNTYyNSAyMiBDIDIxLjM1NTQ2OSAyMiAyMiAyMS4zNTU0NjkgMjIgMjAuNTYyNSBMIDIyIDEuNDM3NSBDIDIyIDAuNjQ0NTMxIDIxLjM1NTQ2OSAwIDIwLjU2MjUgMCBaIE0gMjEuMDQyOTY5IDIwLjU2MjUgQyAyMS4wNDI5NjkgMjAuODI4MTI1IDIwLjgyODEyNSAyMS4wNDI5NjkgMjAuNTYyNSAyMS4wNDI5NjkgTCAxLjQzNzUgMjEuMDQyOTY5IEMgMS4xNzE4NzUgMjEuMDQyOTY5IDAuOTU3MDMxIDIwLjgyODEyNSAwLjk1NzAzMSAyMC41NjI1IEwgMC45NTcwMzEgMS40Mzc1IEMgMC45NTcwMzEgMS4xNzE4NzUgMS4xNzE4NzUgMC45NTcwMzEgMS40Mzc1IDAuOTU3MDMxIEwgMjAuNTYyNSAwLjk1NzAzMSBDIDIwLjgyODEyNSAwLjk1NzAzMSAyMS4wNDI5NjkgMS4xNzE4NzUgMjEuMDQyOTY5IDEuNDM3NSBaIE0gMjEuMDQyOTY5IDIwLjU2MjUgIi8+DQo8L3N5bWJvbD4NCjwhLS0gIC0tPg0KPHN5bWJvbCBpZD0iaWMtZGVsZXRlLWFsbCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMCAzaDIzdjFIMHpNMTEuMjg2IDIxSDguNzE0TDggMjNIN2wxLTIuOFYyMGguMDcxTDkuNSAxNmgxbDEuNDI5IDRIMTJ2LjJsMSAyLjhoLTFsLS43MTQtMnptLS4zNTctMUwxMCAxNy40IDkuMDcxIDIwaDEuODU4ek0yMCAyMmgzdjFoLTR2LTdoMXY2em0tNSAwaDN2MWgtNHYtN2gxdjZ6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0zIDZ2MTZoMTdWNmgxdjE2YTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xVjZoMXpNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMCAzaDIzdjFIMHpNOCAxMGgxdjZIOHYtNnptMyAwaDF2NmgtMXYtNnptMyAwaDF2NmgtMXYtNnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZHJhdy1mcmVlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMC45MjlDMi41OTQgMTAuOTc2IDQuMzIzIDYgNy42ODYgNmM1Ljg3MiAwIDIuNTI0IDE5IDcuNjk3IDE5czEuODktMTQuOTI5IDYuNDE0LTE0LjkyOSAxLjM1NyAxMC44NTggNS4xMyAxMC44NThjMS44MDIgMCAyLjY1Ny0yLjI2MiAyLjU2Ni02Ljc4NiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1kcmF3LWxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMiAxNS41aDI4Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMi41IDIxLjVINWMuMjQ1IDAgLjQ4LS4wNTguNjkxLS4xNjhsLjEyNC0uMDY1LjE0LjAxYy40MjkuMDI4Ljg1LS4xMjcgMS4xNi0uNDM3TDIyLjU1IDUuNDA1YS41LjUgMCAwIDAgMC0uNzA3bC0zLjI0Ni0zLjI0NWEuNS41IDAgMCAwLS43MDcgMEwzLjE2MiAxNi44ODhhMS40OTUgMS40OTUgMCAwIDAtLjQzNyAxLjE1NWwuMDEuMTQtLjA2NS4xMjNjLS4xMTEuMjEyLS4xNy40NDgtLjE3LjY5NHYyLjV6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xMiA3djFIMlY3aDEwem02IDBoNHYxaC00Vjd6TTEyIDE2djFoMTB2LTFIMTJ6bS02IDBIMnYxaDR2LTF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNOC41IDIwYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6TTE1LjUgMTFhMy41IDMuNSAwIDEgMSAwLTcgMy41IDMuNSAwIDAgMSAwIDd6bTAtMWEyLjUgMi41IDAgMSAwIDAtNSAyLjUgMi41IDAgMCAwIDAgNXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtZmxpcC1yZXNldCIgdmlld0JveD0iMCAwIDMxIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMSAwSDB2MzJoMzF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMjQgNWwzLjUgMy41TDI0IDEyTTcgMjBsLTMuNSAzLjVMNyAyNyIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzIgMzJIMFYwaDMyeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE3IDMyaC0xVjBoMXpNMjcuMTY3IDExbC41IDNoLTEuMDNsLS41NDYtM2gxLjA3NnptLS41LTNoLTEuMTIyTDI1IDVoLTVWNGg1LjE1M2ExIDEgMCAwIDEgLjk4Ni44MzZMMjYuNjY3IDh6bTEuNSA5bC41IDNoLS45NGwtLjU0NS0zaC45ODV6bTEgNmwuNjM5IDMuODM2QTEgMSAwIDAgMSAyOC44MTkgMjhIMjZ2LTFoM2wtLjcyNi00aC44OTR6TTIzIDI4aC0zdi0xaDN2MXpNMTMgNHYxSDdMMyAyN2gxMHYxSDMuMThhMSAxIDAgMCAxLS45ODYtMS4xNjRsMy42NjYtMjJBMSAxIDAgMCAxIDYuODQ3IDRIMTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWZsaXAteSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0wIDB2MzJoMzJWMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWZsaXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPg0KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTExIDBoMXYyNGgtMXpNMTkgMjF2LTFoMnYtMmgxdjJhMSAxIDAgMCAxLTEgMWgtMnptLTIgMGgtM3YtMWgzdjF6bTUtNWgtMXYtM2gxdjN6bTAtNWgtMVY4aDF2M3ptMC01aC0xVjRoLTJWM2gyYTEgMSAwIDAgMSAxIDF2MnptLTUtM3YxaC0zVjNoM3pNOSAzdjFIMnYxNmg3djFIMmExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMWg3eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMEgyNFYyNEgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc0MCAtMTYpIHRyYW5zbGF0ZSg1NDcgOCkgdHJhbnNsYXRlKDE5MyA4KSIvPg0KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTEyLjUgMUMxOC4yOTkgMSAyMyA1LjcwMSAyMyAxMS41UzE4LjI5OSAyMiAxMi41IDIyYy01LjI5IDAtOS42NjUtMy45MTEtMTAuMzk0LTguOTk5aDEuMDEyQzMuODM4IDE3LjUzNCA3Ljc2NCAyMSAxMi41IDIxYzUuMjQ3IDAgOS41LTQuMjUzIDkuNS05LjVTMTcuNzQ3IDIgMTIuNSAyQzguNDkgMiA1LjA2IDQuNDg1IDMuNjY2IDhIM2g0djFIMlY0aDF2My4wMjJDNC42OCAzLjQ2MiA4LjMwMyAxIDEyLjUgMXptLjUgNWwtLjAwMSA1LjI5MSAyLjUzNyAyLjUzNy0uNzA4LjcwOEwxMi4yOTIgMTJIMTJWNmgxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc0MCAtMTYpIHRyYW5zbGF0ZSg1NDcgOCkgdHJhbnNsYXRlKDE5MyA4KSIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNoZWNrIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMiA5SDEyVjEwSDJ6TTkgMmMuNTEzIDAgLjkzNi4zODYuOTkzLjg4M0wxMCAzSDNWMmg2ek0yIDNIMFYyaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPg0KICAgIDwvZz4NCjwvc3ltYm9sPg0KPCEtLSBUaGlzIGljb24gbWFkZSBieSBQaXhlbCBwZXJmZWN0IGZyb20gd3d3LmZsYXRpY29uLmNvbSAtLT4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktcmVzaXplIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS40OTIxODggMS41MDc4MTIgQyA5LjM5ODQzOCAxLjQxNDA2MiA5LjI1IDEuNDE0MDYyIDkuMTU2MjUgMS41MDc4MTIgTCA1LjgxMjUgNC44NTE1NjIgQyA1LjcxNDg0NCA0Ljk0NTMxMiA1LjcxNDg0NCA1LjA5NzY1NiA1LjgxMjUgNS4xODc1IEMgNS44NTU0NjkgNS4yMzQzNzUgNS45MTc5NjkgNS4yNTc4MTIgNS45NzY1NjIgNS4yNTc4MTIgQyA2LjAzOTA2MiA1LjI1NzgxMiA2LjEwMTU2MiA1LjIzNDM3NSA2LjE0ODQzOCA1LjE4NzUgTCA5LjQ5MjE4OCAxLjg0Mzc1IEMgOS41ODU5MzggMS43NSA5LjU4NTkzOCAxLjYwMTU2MiA5LjQ5MjE4OCAxLjUwNzgxMiBaIE0gOS40OTIxODggMS41MDc4MTIgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBDIDkuMTk1MzEyIDEuNDMzNTk0IDkuMDg1OTM4IDEuNTM5MDYyIDkuMDg1OTM4IDEuNjcxODc1IEwgOS4wODU5MzggNC41NDI5NjkgQyA5LjA4NTkzOCA0LjY3MTg3NSA5LjE5NTMxMiA0Ljc4MTI1IDkuMzI4MTI1IDQuNzgxMjUgQyA5LjQ2MDkzOCA0Ljc4MTI1IDkuNTY2NDA2IDQuNjcxODc1IDkuNTY2NDA2IDQuNTQyOTY5IEwgOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA1LjE4NzUgNS44MTI1IEMgNS4wOTc2NTYgNS43MTg3NSA0Ljk0NTMxMiA1LjcxODc1IDQuODUxNTYyIDUuODEyNSBMIDEuNTAzOTA2IDkuMTU2MjUgQyAxLjQxMDE1NiA5LjI1IDEuNDEwMTU2IDkuNDAyMzQ0IDEuNTAzOTA2IDkuNDk2MDk0IEMgMS41NTQ2ODggOS41NDI5NjkgMS42MTMyODEgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgQyAxLjczNDM3NSA5LjU2NjQwNiAxLjc5Njg3NSA5LjU0Mjk2OSAxLjg0Mzc1IDkuNDk2MDk0IEwgNS4xODc1IDYuMTQ4NDM4IEMgNS4yODEyNSA2LjA1NDY4OCA1LjI4MTI1IDUuOTAyMzQ0IDUuMTg3NSA1LjgxMjUgWiBNIDUuMTg3NSA1LjgxMjUgIi8+DQogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxLjY3MTg3NSA2LjIxODc1IEMgMS41MzkwNjIgNi4yMTg3NSAxLjQzMzU5NCA2LjMyODEyNSAxLjQzMzU5NCA2LjQ1NzAzMSBMIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgQyAxLjgwNDY4OCA5LjU2NjQwNiAxLjkxNDA2MiA5LjQ2MDkzOCAxLjkxNDA2MiA5LjMyODEyNSBMIDEuOTE0MDYyIDYuNDU3MDMxIEMgMS45MTQwNjIgNi4zMjgxMjUgMS44MDQ2ODggNi4yMTg3NSAxLjY3MTg3NSA2LjIxODc1IFogTSAxLjY3MTg3NSA2LjIxODc1ICIvPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPg0KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMTAuMjgxMjUgMCBMIDAuNzE4NzUgMCBDIDAuMzIwMzEyIDAgMCAwLjMyMDMxMiAwIDAuNzE4NzUgTCAwIDEwLjI4MTI1IEMgMCAxMC42Nzk2ODggMC4zMjAzMTIgMTEgMC43MTg3NSAxMSBMIDEwLjI4MTI1IDExIEMgMTAuNjc5Njg4IDExIDExIDEwLjY3OTY4OCAxMSAxMC4yODEyNSBMIDExIDAuNzE4NzUgQyAxMSAwLjMyMDMxMiAxMC42Nzk2ODggMCAxMC4yODEyNSAwIFogTSAxMC41MjM0MzggMTAuMjgxMjUgQyAxMC41MjM0MzggMTAuNDE0MDYyIDEwLjQxNDA2MiAxMC41MjM0MzggMTAuMjgxMjUgMTAuNTIzNDM4IEwgMC43MTg3NSAxMC41MjM0MzggQyAwLjU4NTkzOCAxMC41MjM0MzggMC40NzY1NjIgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjI4MTI1IEwgMC40NzY1NjIgMC43MTg3NSBDIDAuNDc2NTYyIDAuNTg1OTM4IDAuNTg1OTM4IDAuNDc2NTYyIDAuNzE4NzUgMC40NzY1NjIgTCAxMC4yODEyNSAwLjQ3NjU2MiBDIDEwLjQxNDA2MiAwLjQ3NjU2MiAxMC41MjM0MzggMC41ODU5MzggMTAuNTIzNDM4IDAuNzE4NzUgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSAiLz4NCiAgPC9nPg0KPC9zeW1ib2w+DQo8IS0tICAtLT4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAxSDEyVjEzSDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2IC04MDQpIHRyYW5zbGF0ZSgxNTYgODAzKSIvPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM0MzQzNDMiIGQ9Ik05LjYyMiAxLjU4NGwxLjgzNSAxLjY1OC04LjMxIDguNDA3TC41IDEyLjVWMTFsOS4xMjItOS40MTZ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2IC04MDQpIHRyYW5zbGF0ZSgxNTYgODAzKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiA+DQogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEyIDh2MUg5VjhoM3pNNyA5SDBWOGg3djF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSBtYXRyaXgoLTEgMCAwIDEgMTIgMCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTggMWMxLjEwNSAwIDIgLjg5NSAyIDJzLS44OTUgMi0yIDItMi0uODk1LTItMiAuODk1LTIgMi0yem0wIDFjLS41NTIgMC0xIC40NDgtMSAxcy40NDggMSAxIDEgMS0uNDQ4IDEtMS0uNDQ4LTEtMS0xek00IDdjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWZsaXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwOCAtODA0KSB0cmFuc2xhdGUoMTA4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYgMEw3IDAgNyAxMiA2IDEyek0xMSAxMFY5aDF2MS41YzAgLjI3Ni0uMjI0LjUtLjUuNUgxMHYtMWgxek01IDF2MUgxdjhoNHYxSC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNXYtOWMwLS4yNzYuMjI0LS41LjUtLjVINXptNyA1djJoLTFWNmgxem0wLTN2MmgtMVYzaDF6TTkgMXYxSDdWMWgyem0yLjUgMGMuMjc2IDAgLjUuMjI0LjUuNVYyaC0yVjFoMS41ek05IDExSDd2LTFoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwOCAtODA0KSB0cmFuc2xhdGUoMTA4IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjA0IC04MDQpIHRyYW5zbGF0ZSgyMDQgODA0KSIvPg0KICAgICAgICA8cGF0aCBzdHJva2U9IiM0MzQzNDMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjEiIGQ9Ik02IDkuNTY4TDIuNjAxIDExIDIuOTc1IDcuNDY3IDAuNSA0LjgyIDQuMTMgNC4wNjggNiAxIDcuODcgNC4wNjggMTEuNSA0LjgyIDkuMDI1IDcuNDY3IDkuMzk5IDExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwNCAtODA0KSB0cmFuc2xhdGUoMjA0IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjUyIC04MDQpIHRyYW5zbGF0ZSgyNTIgODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6Ii8+DQogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4NCiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMS41IDBjLjI3NiAwIC41LjIyNC41LjV2MTFjMCAuMjc2LS4yMjQuNS0uNS41SC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYuNUMwIC4yMjQuMjI0IDAgLjUgMGgxMXpNMTEgMUgxdjEwaDEwVjF6Ii8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktcm90YXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxkZWZzPg0KICAgICAgICA8cGF0aCBpZD0icmZuNHJ5bGZmYSIgZD0iTTcgMTJjLS4zMzUgMC0uNjYzLS4wMjUtLjk4My0uMDc0QzMuMTcxIDExLjQ5MiAxIDkuMjA1IDEgNi40NDRjMC0xLjM2My41MzQtMi42MTMgMS40MTUtMy41OCIvPg0KICAgICAgICA8bWFzayBpZD0iNmY5Z24yZHlzYiIgd2lkdGg9IjYiIGhlaWdodD0iOS4xMzYiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPg0KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4NCiAgICAgICAgPC9tYXNrPg0KICAgIDwvZGVmcz4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMyIC04MDQpIHRyYW5zbGF0ZSgxMzIgODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwLjVIMTJWMTIuNUgweiIvPg0KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPg0KICAgICAgICAgICAgPHVzZSBzdHJva2U9IiM0MzQzNDMiIHN0cm9rZS1kYXNoYXJyYXk9IjIgMS4yNSIgc3Ryb2tlLXdpZHRoPSIxIiBtYXNrPSJ1cmwoIzZmOWduMmR5c2IpIiB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIvPg0KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQuMjc5IDBMNiAxLjc1IDQuMjUgMy41NzEgMy41NDMgMi44NjQgNC41ODYgMS43NSAzLjU3MiAwLjcwN3oiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDkuNTQzIDApIi8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4NCiAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4MCAtODA0KSB0cmFuc2xhdGUoMTgwIDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+DQogICAgICAgIDxwYXRoIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNNC41IDAuNUw4LjUgNy42MTEgMC41IDcuNjExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4MCAtODA0KSB0cmFuc2xhdGUoMTgwIDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktdGV4dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPg0KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMiAxaDhjLjU1MiAwIDEgLjQ0OCAxIDFIMWMwLS41NTIuNDQ4LTEgMS0xeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgMUgyVjNIMXpNMTAgMUgxMVYzSDEwek01LjUgMUw2LjUgMSA2LjUgMTEgNS41IDExeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjQgLTgwNSkgdHJhbnNsYXRlKDMyNCA4MDUpIi8+DQogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgMkw1IDIgNSAzIDEgM3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjQgLTgwNSkgdHJhbnNsYXRlKDMyNCA4MDUpIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPg0KICAgICAgICAgICAgPHBhdGggZD0iTTIgOWg4VjFoMXY4LjVjMCAuMjc2LS4yMjQuNS0uNS41aC05Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYxaDF2OHpNMCAwSDEyVjFIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIHRyYW5zbGF0ZSgwIDIpIi8+DQogICAgICAgICAgICA8cGF0aCBkPSJNNCAzSDVWN0g0ek03IDNIOFY3SDd6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzAwIC04MDQpIHRyYW5zbGF0ZSgzMDAgODA0KSB0cmFuc2xhdGUoMCAyKSIvPg0KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZ3JvdXAiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6Ii8+DQogICAgICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSA5djJoMXYxSC41Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVY5aDF6bTExIDF2MS41YzAgLjI3Ni0uMjI0LjUtLjUuNUg5di0xaDJ2LTFoMXptLTQgMXYxSDZ2LTFoMnptLTMgMHYxSDN2LTFoMnptNy00djJoLTFWN2gxek0xIDZ2MkgwVjZoMXptMTEtMnYyaC0xVjRoMXpNMSAzdjJIMFYzaDF6bTEwLjUtM2MuMjc2IDAgLjUuMjI0LjUuNVYzaC0xVjFoLTFWMGgxLjV6TTYgMHYxSDRWMGgyem0zIDB2MUg3VjBoMnpNMCAuNUMwIC4yMjQuMjI0IDAgLjUgMEgzdjFIMXYxSDBWLjV6TTkuNSA0Yy4yNzYgMCAuNS4yMjQuNS41djVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVY4LjM1NWMuMzE3LjA5NC42NTIuMTQ1IDEgLjE0NVY5aDRWNWgtLjVjMC0uMzQ4LS4wNS0uNjgzLS4xNDUtMUg5LjV6Ii8+DQogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1hcnJvdy0yIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjEuNzkzIDE4LjVIMi41di01aDE4LjkzNWwtNy42LThoNS44NzJsMTAuNSAxMC41LTEwLjUgMTAuNWgtNS45MTRsOC04eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTMiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0yNS4yODggMTYuNDJMMTQuMjA4IDI3LjVINi43OTJsMTEuMjkxLTExLjI5MUw2LjgyNiA0LjVoNy4zODFsMTEuNjYxIDExLjY2MS0uNTguMjU4eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93IiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAxMS41djloMTh2NS4yOTNMMzAuMjkzIDE2IDIwLjUgNi4yMDdWMTEuNWgtMTh6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24tYnViYmxlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjIuMjA3IDI0LjVMMTYuNSAzMC4yMDdWMjQuNUg4QTYuNSA2LjUgMCAwIDEgMS41IDE4VjlBNi41IDYuNSAwIDAgMSA4IDIuNWgxNkE2LjUgNi41IDAgMCAxIDMwLjUgOXY5YTYuNSA2LjUgMCAwIDEtNi41IDYuNWgtMS43OTN6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24taGVhcnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbC1ydWxlPSJub256ZXJvIiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xNS45OTYgMzAuNjc1bDEuOTgxLTEuNzljNy44OTgtNy4xNzcgMTAuMzY1LTkuNzE4IDEyLjEzNS0xMy4wMTIuOTIyLTEuNzE2IDEuMzc3LTMuMzcgMS4zNzctNS4wNzYgMC00LjY1LTMuNjQ3LTguMjk3LTguMjk3LTguMjk3LTIuMzMgMC00Ljg2IDEuNTI3LTYuODE3IDMuODI0bC0uMzguNDQ3LS4zODEtLjQ0N0MxMy42NTggNC4wMjcgMTEuMTI2IDIuNSA4Ljc5NyAyLjUgNC4xNDcgMi41LjUgNi4xNDcuNSAxMC43OTdjMCAxLjcxNC40NiAzLjM3NSAxLjM4OSA1LjA5OCAxLjc3NSAzLjI4OCA0LjI2IDUuODQzIDEyLjEyMyAxMi45NzRsMS45ODQgMS44MDZ6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWljb24tbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE3LjMxNCAxOC44NjdsMS45NTEtMi41MyA0IDUuMTg0aC0xN2w2LjUtOC44NCA0LjU0OSA2LjE4NnoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjIgNmwzLjUtMy41TDI5IDYiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2NhdGlvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xNiAzMS4yOEMyMy42NzUgMjMuMzAyIDI3LjUgMTcuMTgxIDI3LjUgMTNjMC02LjM1MS01LjE0OS0xMS41LTExLjUtMTEuNVM0LjUgNi42NDkgNC41IDEzYzAgNC4xODEgMy44MjUgMTAuMzAyIDExLjUgMTguMjh6Ii8+DQogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtaWNvbi1wb2x5Z29uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLXN0YXItMiIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uLXN0YXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1pY29uIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtbWFzay1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjAxIDRhMTEuNzk4IDExLjc5OCAwIDAgMCAwIDFIM3YyNGgyNFYxNC45ODZhOC43MzggOC43MzggMCAwIDAgMSAwVjI5YTEgMSAwIDAgMS0xIDFIM2ExIDEgMCAwIDEtMS0xVjVhMSAxIDAgMCAxIDEtMWgxNS4wMXpNMTUgMjNhNiA2IDAgMSAxIDAtMTIgNiA2IDAgMCAxIDAgMTJ6bTAtMWE1IDUgMCAxIDAgMC0xMCA1IDUgMCAwIDAgMCAxMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1tYXNrIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxaDIwYTEgMSAwIDAgMSAxIDF2MjBhMSAxIDAgMCAxLTEgMUgyYTEgMSAwIDAgMS0xLTFWMmExIDEgMCAwIDEgMS0xem0wIDF2MjBoMjBWMkgyeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIG9wYWNpdHk9Ii41IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIC8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjEgNkg5YTYgNiAwIDEgMCAwIDEyaDEydjFIOUE3IDcgMCAwIDEgOSA1aDEydjF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtcmVzZXQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgMTN2LTFhNyA3IDAgMCAxIDctN2gxM3YxaC0xdjVoMXYxYTcgNyAwIDAgMS03IDdIMnYtMWgxdi01SDJ6bTctN2E2IDYgMCAwIDAtNiA2djZoMTJhNiA2IDAgMCAwIDYtNlY2SDl6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDhNNSAxNmwtMi41IDIuNUw1IDIxIi8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jbG9ja3dpc2UiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjkgMTdoLS45MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMi02LjYyOCAwLTEyLTUuMzczLTEyLTEyQzQuMDc2IDEwLjM5OCA5LjQwNyA1LjA0MSAxNiA1VjRDOC44MiA0IDMgOS44MiAzIDE3czUuODIgMTMgMTMgMTMgMTMtNS44MiAxMy0xM3oiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTYgNGg0djFoLTR6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTMgMTdoLjkyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyIDYuNjI4IDAgMTItNS4zNzMgMTItMTIgMC02LjYwMi01LjMzMS0xMS45Ni0xMS45MjQtMTJWNGM3LjE4IDAgMTMgNS44MiAxMyAxM3MtNS44MiAxMy0xMyAxM1MzIDI0LjE4IDMgMTd6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMiA0aDR2MWgtNHoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtcm90YXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik04LjM0OSAyMi4yNTRhMTAuMDAyIDEwLjAwMiAwIDAgMS0yLjc3OC0xLjcxOWwuNjUtLjc2YTkuMDAyIDkuMDAyIDAgMCAwIDIuNDk1IDEuNTQ4bC0uMzY3LjkzMXptMi44NzMuNzA0bC4wNzgtLjk5N2E5IDkgMCAxIDAtLjU1Ny0xNy44NTJsLS4xNC0uOTlBMTAuMDc2IDEwLjA3NiAwIDAgMSAxMi4xNDUgM2M1LjUyMyAwIDEwIDQuNDc3IDEwIDEwcy00LjQ3NyAxMC0xMCAxMGMtLjMxMiAwLS42Mi0uMDE0LS45MjQtLjA0MnptLTcuNTU2LTQuNjU1YTkuOTQyIDkuOTQyIDAgMCAxLTEuMjUzLTIuOTk2bC45NzMtLjIzNGE4Ljk0OCA4Ljk0OCAwIDAgMCAxLjEyNCAyLjY5M2wtLjg0NC41Mzd6bS0xLjUwMi01LjkxQTkuOTQ5IDkuOTQ5IDAgMCAxIDIuODggOS4yM2wuOTI1LjM4MmE4Ljk1NCA4Ljk1NCAwIDAgMC0uNjQ0IDIuODQ0bC0uOTk4LS4wNjJ6bTIuMjEtNS42ODZjLjY4Ny0uODQ4IDEuNTEtMS41OCAyLjQzNi0yLjE2NmwuNTIzLjg1MmE5LjA0OCA5LjA0OCAwIDAgMC0yLjE4OCAxLjk1bC0uNzcxLS42MzZ6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTMgMWwtMi41IDIuNUwxMyA2Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXNoYXBlLWNpcmNsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNC41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtc2hhcGUtcmVjdGFuZ2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxyZWN0IHdpZHRoPSIyNyIgaGVpZ2h0PSIyNyIgeD0iMi41IiB5PSIyLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgcng9IjEiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtc2hhcGUtdHJpYW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTYgMi41bDE1LjUgMjdILjV6Ii8+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLXNoYXBlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTE0LjcwNiA4SDIxYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMUg5YTEgMSAwIDAgMS0xLTF2LTRoMXY0aDEyVjloLTUuNzA2bC0uNTg4LTF6Ii8+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWNlbnRlciIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek04IDEyaDE2djFIOHpNMiAxOWgyOHYxSDJ6TTggMjZoMTZ2MUg4eiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiA1aDI4djFIMnpNMiAxMmgxNnYxSDJ6TTIgMTloMjh2MUgyek0yIDI2aDE2djFIMnoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1yaWdodCIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1ib2xkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPg0KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTcgMmgydjJIN3pNNyAyOGgydjJIN3oiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTkgM3YxMmg5YTYgNiAwIDEgMCAwLTEySDl6TTkgMTV2MTRoMTBhNyA3IDAgMCAwIDAtMTRIOXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dC1pdGFsaWMiIHZpZXdCb3g9IjAgMCAzMiAzMiI+DQogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy10ZXh0LXVuZGVybGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik04IDJ2MTRhOCA4IDAgMSAwIDE2IDBWMmgxdjE0YTkgOSAwIDAgMS0xOCAwVjJoMXpNMyAyOWgyNnYxSDN6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNSAyaDV2MUg1ek0yMiAyaDV2MWgtNXoiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdGV4dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDNoMTVhMSAxIDAgMCAxIDEgMUgzYTEgMSAwIDAgMSAxLTF6TTMgNGgxdjFIM3pNMTkgNGgxdjFoLTF6Ii8+DQogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPg0KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEwIDIwaDN2MWgtM3oiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8cGF0aCBkPSJNMjQgMEgwdjI0aDI0eiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4NCiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0zIDZoMTJhNiA2IDAgMSAxIDAgMTJIM3YxaDEyYTcgNyAwIDAgMCAwLTE0SDN2MXoiLz4NCiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWMtem9vbS1pbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+DQogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjgyOCAxNS44MjhIMTkuODI4VjIyLjgyOEgxOC44Mjh6IiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMTkuMzI4IDE5LjMyOCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTEwIDdIMTFWMTRIMTB6Ii8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8c3ltYm9sIGlkPSJpYy16b29tLW91dCIgdmlld0JveD0iMCAwIDI0IDI0Ij4NCiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYzIC0yOTApIHRyYW5zbGF0ZSgyNjMgMjkwKSI+DQogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTE4LjgyOCAxNS44MjhIMTkuODI4VjIyLjgyOEgxOC44Mjh6IiB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMTkuMzI4IDE5LjMyOCkiLz4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4NCiAgICA8L2c+DQo8L3N5bWJvbD4NCjxzeW1ib2wgaWQ9ImljLWhhbmQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+DQogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4NCiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNOC42NzIgMy4zNmMxLjMyOCAwIDIuMTE0Ljc4IDIuMjkgMS44NjlsLjAxNC4xMDEuMDIzLjAwNnYxLjA0MmwtLjYzOC0uMTg1Yy0uMTg3LS4wNTUtLjMyMy0uMjExLS4zNTQtLjM5OUwxMCA1LjcxM2MwLS44MjUtLjQyLTEuMzUzLTEuMzI4LTEuMzUzQzcuNjk1IDQuMzYgNyA1LjA0MSA3IDUuNzEzdjcuOTQxYzAgLjQzOS0uNTI0LjY2NS0uODQzLjM2NGwtMS44NjgtMS43NjFjLS41OTUtLjUyOC0xLjMxNi0uNjE3LTEuOTE4LS4yMTYtLjUyMi4zNDgtLjU2MiAxLjIwMy0uMTggMS44TDcuNzM4IDIyaDExLjAxM2wuMjg1LS41MThjMS4yNDctMi4zMjYgMS44OTctNC4yNTkgMS45Ni01Ljc4NWwuMDA0LS4yMzlWOC4wMzVjMC0uNjU2LS41LTEuMTctMS0xLjE3LS41MDMgMC0xIC40NTYtMSAxLjE3IDAgLjMzMy0uMzIuNTczLS42NC40OEwxOCA4LjQxVjcuMzY4bC4wODYuMDI2LjA0Mi0uMTM2Yy4yNzktLjgwNS45NzgtMS4zMzIgMS43MzgtMS4zODhMMjAgNS44NjVjMS4wNTcgMCAyIC45NjcgMiAyLjE3djcuNDIzYzAgMS45MjktLjg0NSA0LjM1Mi0yLjUyMSA3LjI5LS4wOS4xNTYtLjI1NS4yNTItLjQzNS4yNTJINy40NzRjLS4xNjYgMC0uMzIxLS4wODItLjQxNC0uMjE5bC01LjcwNC04LjM5Yy0uNjUzLTEuMDE5LS41ODQtMi40ODYuNDYtMy4xODIgMS0uNjY2IDIuMjE2LS41MTYgMy4xNDguMzFMNiAxMi40OTVWNS43MTNjMC0xLjE4IDEuMDU4LTIuMjYzIDIuNDktMi4zNDh6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjk3IC0yOTApIHRyYW5zbGF0ZSgyOTcgMjkwKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMi41IDEuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTUgNHY3LjIyaC0xVjRjMC0uODI4LS42NzItMS41LTEuNS0xLjUtLjc4IDAtMS40Mi41OTUtMS40OTMgMS4zNTZMMTEgNHY3LjIyaC0xVjRjMC0xLjM4IDEuMTItMi41IDIuNS0yLjV6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjk3IC0yOTApIHRyYW5zbGF0ZSgyOTcgMjkwKSIvPg0KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+DQogICAgPC9nPg0KPC9zeW1ib2w+DQo8L2RlZnM+DQo8L3N2Zz4NCg==".replace(/data:image\/svg\+xml;base64,/,""),n=t.parseFromString(atob(e),"text/xml");document.body.appendChild(n.documentElement)}}},{key:"_makeIconClassName",value:function(t,e){var n=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],r=n.path,i=n.name;return r&&i?t:"".concat(t," use-default")}},{key:"_makeSvgIconPrefix",value:function(t,e){var n,r=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],i=r.path,o=r.name;return i&&o?N()(n="".concat(i,"#")).call(n,o,"-"):"#"}},{key:"_makeSvgItem",value:function(t,e,n){var r=this;return yr()(t).call(t,(function(t){var i,o,a=r._makeSvgIconPrefix(t,n),s=r._toUnderScore(e),c=r._makeIconClassName(t,n);return N()(i=N()(o='<use xlink:href="'.concat(a,"ic-")).call(o,s,'" class="')).call(i,c,'"/>')})).join("")}},{key:"makeMenSvgIconSet",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return N()(n='<svg class="svg_ic-'.concat(r?"submenu":"menu",'">')).call(n,this._makeSvgItem(t,e,r),"</svg>")}}]),t}(),wr=o(3662),xr=o.n(wr),Sr=o(7021),Cr=o(5796),Mr=o(3685);function Or(t,e){var n;return(Or=Cr?Mr(n=Cr).call(n):function(t,e){return t.__proto__=e,t})(t,e)}function kr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Sr(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),C(t,"prototype",{writable:!1}),e&&Or(t,e)}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ir(t,e){if(e&&("object"===O(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}var jr=o(7994);function Ar(t){var e;return(Ar=Cr?Mr(e=jr).call(e):function(t){return t.__proto__||jr(t)})(t)}var Tr=o(6092),Dr=o.n(Tr),Pr=o(4858),Lr=o.n(Pr),Nr=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Rr=function(){function t(e,n){var r=n.defaultColor,i=void 0===r?"#7e7e7e":r,o=n.toggleDirection,a=void 0===o?"up":o,s=n.usageStatistics;j(this,t),this.colorpickerElement=e,this.usageStatistics=s,this._show=!1,this._colorpickerElement=e,this._toggleDirection=a,this._makePickerButtonElement(i),this._makePickerLayerElement(e,e.getAttribute("title")),this._color=i,this.picker=Lr().create({container:this.pickerElement,preset:Nr,color:i,usageStatistics:this.usageStatistics}),this._addEvent()}return T(t,[{key:"destroy",value:function(){var t=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",X()(this,(function(e,n){t[n]=null}))}},{key:"color",get:function(){return this._color},set:function(t){Q()(t)&&(this._color=t,this._changeColorElement(t))}},{key:"_changeColorElement",value:function(t){t?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=t):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(t){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",t?this.colorElement.style.backgroundColor=t:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(t,e){var n=document.createElement("label"),r=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=e,r.className="triangle",r.innerHTML=e,this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(r),t.appendChild(this.pickerControl),t.appendChild(this.colorElement),t.appendChild(n)}},{key:"_addEvent",value:function(){var t,e=this;this.picker.on("selectColor",(function(t){e._changeColorElement(t.color),e._color=t.color,e.fire("change",t.color)})),this.eventHandler={pickerToggle:P()(t=this._pickerToggleEventHandler).call(t,this),pickerHide:function(){return e.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(t){var e=t.target,n=e&&this._isElementInColorPickerControl(e);(!n||n&&this._isPaletteButton(e))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),t.stopPropagation()}},{key:"_isPaletteButton",value:function(t){return"tui-colorpicker-palette-button"===t.className}},{key:"_isElementInColorPickerControl",value:function(t){for(var e=t;e!==document.body&&e;){if(e===this.pickerControl)return!0;e=e.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var t=this.pickerControl.style;t.top="calc(100vh / 2 - 53px",t.left="calc(100vw / 2 - 96px)"}}]),t}();Z().mixin(Rr);var Br=Rr,zr=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Fr=function(){function t(e){var n,r,i,o,a,s,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(this,t),this._value=u.value||0,this.rangeElement=e.slider,this.rangeInputElement=e.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=u.min||0,this._max=u.max||100,this._useDecimal=u.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=u.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:P()(n=this._startChangingSlide).call(n,this),stopChangingSlide:P()(r=this._stopChangingSlide).call(r,this),changeSlide:P()(i=this._changeSlide).call(i,this),changeSlideFinally:P()(o=this._changeSlideFinally).call(o,this),changeInput:P()(a=this._changeInput).call(a,this),changeInputFinally:P()(s=this._changeValueWithInput).call(s,this,!0),changeInputWithArrow:P()(c=this._changeValueWithInputKeyEvent).call(c,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=u.value,this.trigger("change")}return T(t,[{key:"destroy",value:function(){var t=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",X()(this,(function(e,n){t[n]=null}))}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(t){var e=((t=this._useDecimal?t:Un(t))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<e&&(e=this.rangeWidth),this.pointer.style.left="".concat(e,"px"),this.subbar.style.right="".concat(this.rangeWidth-e,"px"),this._value=t,this.rangeInputElement&&(this.rangeInputElement.value=t)}},{key:"trigger",value:function(t){this.fire(t,this._value)}},{key:"_getRangeWidth",value:function(){var t=function(t){return Un(window.getComputedStyle(t,null).width)};return t(this.rangeElement)-t(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(t){var e,n=t.keyCode,i=t.target;if(!(r()(e=[on,rn]).call(e,n)<0)){var o=Number(i.value);if(!((o=this._valueUpDownForKeyEvent(o,n))<this._min||o>this._max)){var a=zn(o,this._min,this.max);this.value=a,this.fire("change",a,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(t,e){var n=this._useDecimal?.1:1;return e===on?t+=n:e===rn&&(t-=n),t}},{key:"_changeInput",value:function(t){var e=this;clearTimeout(this._userInputTimer);var n=t.keyCode;n<sn||n>cn?t.preventDefault():this._userInputTimer=v()((function(){e._inputSetValue(t.target.value)}),350)}},{key:"_inputSetValue",value:function(t){var e=this._useDecimal?Number(t):Un(t);e=zn(e,this._min,this.max),this.value=e,this.fire("change",e,!0)}},{key:"_changeValueWithInput",value:function(t,e){var n,i=e.keyCode,o=e.target;if(!(r()(n=[on,rn]).call(n,i)>=0)){var a=this._filterForInputText(o.value),s=!a||isNaN(a);o.value=a,s||this._inputSetValue(a)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("touchstart",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("touchstart",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(t){var e=t.targetTouches[0].screenX-this.firstPosition,n=this.firstLeft+e;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left="".concat(n,"px"),this.subbar.style.right="".concat(this.rangeWidth-n,"px");var r=n/this.rangeWidth,i=this._absMax*r+this._min,o=this._useDecimal?i:Un(i);this.value!==o&&(this.value=o,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(t){if(t.stopPropagation(),"tui-image-editor-range"===t.target.className){var e=t.offsetX/this.rangeWidth,n=this._absMax*e+this._min;this.pointer.style.left="".concat(e*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-e)*this.rangeWidth,"px"),this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(t){this.firstPosition=t.targetTouches[0].screenX,this.firstLeft=Un(this.pointer.style.left)||0,document.addEventListener("touchmove",this.eventHandler.changeSlide),document.addEventListener("touchend",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("touchmove",this.eventHandler.changeSlide),document.removeEventListener("touchend",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(t){return t.replace(zr,"$1$2$3")}}]),t}();Z().mixin(Fr);var Hr=Fr,Ur=function(){function t(e,n){var r=n.locale,i=n.name,o=n.makeSvgIcon,a=n.menuBarPosition,s=n.templateHtml,c=n.usageStatistics;j(this,t),this.subMenuElement=e,this.menuBarPosition=a,this.toggleDirection="top"===a?"down":"up",this.colorPickerControls=[],this.usageStatistics=c,this.eventHandler={},this._makeSubMenuElement({locale:r,name:i,makeSvgIcon:o,templateHtml:s})}return T(t,[{key:"selector",value:function(t){return this.subMenuElement.querySelector(t)}},{key:"colorPickerChangeShow",value:function(t){var e;at()(e=this.colorPickerControls).call(e,(function(e){t!==e&&e.hide()}))}},{key:"getButtonType",value:function(t,e){return t.className.match(RegExp("(".concat(e.join("|"),")")))[0]}},{key:"changeClass",value:function(t,e,n){t.classList.remove(e),t.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(t){var e=t.locale,n=t.name,r=t.iconStyle,i=t.makeSvgIcon,o=t.templateHtml,a=document.createElement("div");a.className="tui-image-editor-menu-".concat(n),a.innerHTML=o({locale:e,iconStyle:r,makeSvgIcon:i}),this.subMenuElement.appendChild(a)}},{key:"_onStartEditingInputBox",value:function(){this.fire(Ce)}},{key:"_onStopEditingInputBox",value:function(){this.fire(Me)}}]),t}();Z().mixin(Ur);var Wr=Ur,Yr=function(t){var e,n,r,i,o,a,s,c,u=t.locale,l=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(l(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(c,u.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(s,l(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(a,u.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(o,l(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(i,u.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(r,u.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(n,u.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,u.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Vr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Gr={stroke:"#ff4040",fill:"",strokeWidth:3},Xr=function(t){kr(n,t);var e=Vr(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"shape",makeSvgIcon:a,menuBarPosition:s,templateHtml:Yr,usageStatistics:c})).type=null,i.options=Gr,i._els={shapeSelectButton:i.selector(".tie-shape-button"),shapeColorButton:i.selector(".tie-shape-color-button"),strokeRange:new Hr({slider:i.selector(".tie-stroke-range"),input:i.selector(".tie-stroke-range-value")},Cn),fillColorpicker:new Br(i.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),strokeColorpicker:new Br(i.selector(".tie-color-stroke"),{defaultColor:"#ff4040",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerControls.push(i._els.fillColorpicker),i.colorPickerControls.push(i._els.strokeColorpicker),i.colorPickerInputBoxes=[],i.colorPickerInputBoxes.push(i._els.fillColorpicker.colorpickerElement.querySelector(Ee)),i.colorPickerInputBoxes.push(i._els.strokeColorpicker.colorpickerElement.querySelector(Ee)),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i,o,a,s=this;this.eventHandler.shapeTypeSelected=P()(e=this._changeShapeHandler).call(e,this),this.actions=t,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",P()(n=this._changeStrokeRangeHandler).call(n,this)),this._els.fillColorpicker.on("change",P()(r=this._changeFillColorHandler).call(r,this)),this._els.strokeColorpicker.on("change",P()(i=this._changeStrokeColorHandler).call(i,this)),this._els.fillColorpicker.on("changeShow",P()(o=this.colorPickerChangeShow).call(o,this)),this._els.strokeColorpicker.on("changeShow",P()(a=this.colorPickerChangeShow).call(a,this)),Dr()(this.colorPickerInputBoxes,(function(t){var e,n;t.addEventListener(Oe,P()(e=s._onStartEditingInputBox).call(e,s)),t.addEventListener(ke,P()(n=s._onStopEditingInputBox).call(n,s))}),this)}},{key:"_removeEvent",value:function(){var t=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Dr()(this.colorPickerInputBoxes,(function(e){var n,r;e.removeEventListener(Oe,P()(n=t._onStartEditingInputBox).call(n,t)),e.removeEventListener(ke,P()(r=t._onStopEditingInputBox).call(r,t))}),this)}},{key:"setShapeStatus",value:function(t){var e=t.strokeWidth,n=t.strokeColor,r=t.fillColor;this._els.strokeRange.value=e,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=r,this.options.stroke=n,this.options.fill=r,this.options.strokeWidth=e,this.actions.setDrawingShape(this.type,{strokeWidth:e})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(t){var e=t;e<=0&&(e=Cn.max),this._els.strokeRange.max=e}},{key:"setStrokeValue",value:function(t){this._els.strokeRange.value=t,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(e,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,t.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(t,e){this.options.strokeWidth=Un(t),this.actions.changeShape({strokeWidth:t},!e),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(t){t=t||"transparent",this.options.fill=t,this.actions.changeShape({fill:t})}},{key:"_changeStrokeColorHandler",value:function(t){t=t||"transparent",this.options.stroke=t,this.actions.changeShape({stroke:t})}}]),n}(Wr),Kr=function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y=t.locale,b=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c=N()(u=N()(l=N()(f=N()(h=N()(d=N()(p=N()(v=N()(g=N()(m='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(b(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(m,y.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(g,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(v,y.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(p,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(d,y.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(h,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(f,y.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(l,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(u,y.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(c,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(s,y.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(a,b(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(o,y.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,b(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,y.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,b(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,y.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Zr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var qr=function(t){kr(n,t);var e=Zr(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"crop",makeSvgIcon:a,menuBarPosition:s,templateHtml:Kr,usageStatistics:c})).status="active",i._els={apply:i.selector(".tie-crop-button .apply"),cancel:i.selector(".tie-crop-button .cancel"),preset:i.selector(".tie-crop-preset-button")},i.defaultPresetButton=i._els.preset.querySelector(".preset-none"),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i=P()(e=this._applyEventHandler).call(e,this),o=P()(n=this._cancelEventHandler).call(n,this),a=P()(r=this._cropzonePresetEventHandler).call(r,this);this.eventHandler={apply:i,cancel:o,cropzonePreset:a},this.actions=t,this._els.apply.addEventListener("click",i),this._els.cancel.addEventListener("click",o),this._els.preset.addEventListener("click",a)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button.preset");if(e){var n=et(e.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(e),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;X()(this._els.preset.querySelectorAll(".preset"),(function(t){t.classList.remove("active")})),t&&t.classList.add("active")}}]),n}(Wr),Qr=function(t){var e,n,r,i,o,a,s=t.locale,c=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(s.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(a,s.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(o,s.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,c(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,s.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,c(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,s.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Jr(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var $r=function(t){kr(n,t);var e=Jr(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"resize",makeSvgIcon:a,menuBarPosition:s,templateHtml:Qr,usageStatistics:c})).status="active",i._lockState=!1,i._originalDimensions=null,i._els={widthRange:new Hr({slider:i.selector(".tie-width-range"),input:i.selector(".tie-width-range-value")},An),heightRange:new Hr({slider:i.selector(".tie-height-range"),input:i.selector(".tie-height-range-value")},An),lockAspectRatio:i.selector(".tie-lock-aspect-ratio"),apply:i.selector(".tie-resize-button .apply"),cancel:i.selector(".tie-resize-button .cancel")},i}return T(n,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var t=this.actions.getCurrentDimensions();this._originalDimensions=t,this.setWidthValue(t.width),this.setHeightValue(t.height),this.setLimit({minWidth:An.min,minHeight:An.min,maxWidth:t.width,maxHeight:t.height})}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(t){this._els.widthRange.min=this.calcMinValue(t.minWidth),this._els.heightRange.min=this.calcMinValue(t.minHeight),this._els.widthRange.max=this.calcMaxValue(t.maxWidth),this._els.heightRange.max=this.calcMaxValue(t.maxHeight)}},{key:"calcMaxValue",value:function(t){return t<=0&&(t=An.max),t}},{key:"calcMinValue",value:function(t){return t<=0&&(t=An.min),t}},{key:"setWidthValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=t,e&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=t,e&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i,o;this._els.widthRange.on("change",P()(e=this._changeWidthRangeHandler).call(e,this)),this._els.heightRange.on("change",P()(n=this._changeHeightRangeHandler).call(n,this)),this._els.lockAspectRatio.addEventListener("change",P()(r=this._changeLockAspectRatio).call(r,this));var a=P()(i=this._applyEventHandler).call(i,this),s=P()(o=this._cancelEventHandler).call(o,this);this.eventHandler={apply:a,cancel:s},this.actions=t,this._els.apply.addEventListener("click",a),this._els.cancel.addEventListener("click",s)}},{key:"_changeWidthRangeHandler",value:function(t){this.actions.preview("width",Un(t),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(t){this.actions.preview("height",Un(t),this._lockState)}},{key:"_changeLockAspectRatio",value:function(t){this._lockState=t.target.checked,this.actions.lockAspectRatio(this._lockState)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),n}(Wr),ti=function(t){var e,n,r,i,o,a=t.locale,s=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(s(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(o,a.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(i,s(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(r,a.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(n,s(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(e,a.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function ei(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var ni=function(t){kr(n,t);var e=ei(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"flip",makeSvgIcon:a,menuBarPosition:s,templateHtml:ti,usageStatistics:c})).flipStatus=!1,i._els={flipButton:i.selector(".tie-flip-button")},i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e;this.eventHandler.changeFlip=P()(e=this._changeFlip).call(e,this),this._actions=t,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(t){var e=this,n=t.target.closest(".tui-image-editor-button");if(n){var r=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===r)return;this._actions.flip(r).then((function(t){var n=e._els.flipButton.classList;e.flipStatus=!1,n.remove("resetFlip"),X()(["flipX","flipY"],(function(r){n.remove(r),t[r]&&(n.add(r),n.add("resetFlip"),e.flipStatus=!0)}))}))}}}]),n}(Wr),ri=function(t){var e,n,r=t.locale,i=t.makeSvgIcon;return N()(e=N()(n='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(i(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(n,i(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,r.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function ii(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var oi=function(t){kr(n,t);var e=ii(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"rotate",makeSvgIcon:a,menuBarPosition:s,templateHtml:ri,usageStatistics:c}))._value=0,i._els={rotateButton:i.selector(".tie-rotate-button"),rotateRange:new Hr({slider:i.selector(".tie-rotate-range"),input:i.selector(".tie-rotate-range-value")},xn)},i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Gn(this)}},{key:"setRangeBarAngle",value:function(t,e){var n=e;"rotate"===t&&(n=it()(this._els.rotateRange.value,10)+e),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(t){this._els.rotateRange.value=t}},{key:"addEvent",value:function(t){var e,n;this.eventHandler.rotationAngleChanged=P()(e=this._changeRotateForButton).call(e,this),this.actions=t,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",P()(n=this._changeRotateForRange).call(n,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(t,e){var n=Un(t);this.actions.setAngle(n,!e),this._value=n}},{key:"_changeRotateForButton",value:function(t){var e=t.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(e){var r={clockwise:30,counterclockwise:-30}[this.getButtonType(e,["counterclockwise","clockwise"])],i=it()(n,10)+r;i>=-360&&i<=360&&this.actions.rotate(r)}}}]),n}(Wr),ai=function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p=t.locale,v=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c=N()(u=N()(l=N()(f=N()(h=N()(d='\n    <div>\n        <ul class="tui-image-editor-submenu-item">\n            <li class="tie-text-effect-button">\n                <div class="tui-image-editor-button bold">\n                    <div>\n                        '.concat(v(["normal","active"],"text-bold",!0),"\n                    </div>\n                    <label> ")).call(d,p.localize("Bold"),' </label>\n                </div>\n                <div class="tui-image-editor-button italic">\n                    <div>\n                        ')).call(h,v(["normal","active"],"text-italic",!0),"\n                    </div>\n                    <label> ")).call(f,p.localize("Italic"),' </label>\n                </div>\n                <div class="tui-image-editor-button underline">\n                    <div>\n                        ')).call(l,v(["normal","active"],"text-underline",!0),"\n                    </div>\n                    <label> ")).call(u,p.localize("Underline"),' </label>\n                </div>\n            </li>\n            <li class="tui-image-editor-partition">\n                <div></div>\n            </li>\n            <li class="tie-text-align-button">\n                <div class="tui-image-editor-button left">\n                    <div>\n                        ')).call(c,v(["normal","active"],"text-align-left",!0),"\n                    </div>\n                    <label> ")).call(s,p.localize("Left"),' </label>\n                </div>\n                <div class="tui-image-editor-button center">\n                    <div>\n                        ')).call(a,v(["normal","active"],"text-align-center",!0),"\n                    </div>\n                    <label> ")).call(o,p.localize("Center"),' </label>\n                </div>\n                <div class="tui-image-editor-button right">\n                    <div>\n                        ')).call(i,v(["normal","active"],"text-align-right",!0),"\n                    </div>\n                    <label> ")).call(r,p.localize("Right"),' </label>\n                </div>\n            </li>\n            <li class="tui-image-editor-partition only-left-right">\n                <div></div>\n            </li>\n        </ul>\n        <ul class="tui-image-editor-submenu-item">\n            <li>\n                <div class="tie-text-color" title="')).call(n,p.localize("Color"),'"></div>\n            </li>\n            <li class="tui-image-editor-partition">\n                <div></div>\n            </li>\n            <li class="tui-image-editor-range-wrap">\n                <label class="range">')).call(e,p.localize("Text size"),'</label>\n                <div class="tie-text-range"></div>\n                <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n            </li>\n        </ul>\n    </div>\n')};function si(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var ci=function(t){kr(n,t);var e=si(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"text",makeSvgIcon:a,menuBarPosition:s,templateHtml:ai,usageStatistics:c})).effect={bold:!1,italic:!1,underline:!1},i.align="tie-text-align-left",i._els={textEffectButton:i.selector(".tie-text-effect-button"),textAlignButton:i.selector(".tie-text-align-button"),textColorpicker:new Br(i.selector(".tie-text-color"),{defaultColor:"#ff4040",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),textRange:new Hr({slider:i.selector(".tie-text-range"),input:i.selector(".tie-text-range-value")},Mn)},i.colorPickerInputBox=i._els.textColorpicker.colorpickerElement.querySelector(Ee),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i,o,a,s=P()(e=this._setTextEffectHandler).call(e,this),c=P()(n=this._setTextAlignHandler).call(n,this);this.eventHandler={setTextEffect:s,setTextAlign:c},this.actions=t,this._els.textEffectButton.addEventListener("click",s),this._els.textAlignButton.addEventListener("click",c),this._els.textRange.on("change",P()(r=this._changeTextRnageHandler).call(r,this)),this._els.textColorpicker.on("change",P()(i=this._changeColorHandler).call(i,this)),this.colorPickerInputBox.addEventListener(Oe,P()(o=this._onStartEditingInputBox).call(o,this)),this.colorPickerInputBox.addEventListener(ke,P()(a=this._onStopEditingInputBox).call(a,this))}},{key:"_removeEvent",value:function(){var t,e,n=this.eventHandler,r=n.setTextEffect,i=n.setTextAlign;this._els.textEffectButton.removeEventListener("click",r),this._els.textAlignButton.removeEventListener("click",i),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(Oe,P()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(ke,P()(e=this._onStopEditingInputBox).call(e,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(t){this._els.textColorpicker.color=t}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(t){this._els.textRange.value=t}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ct()(t),n=t.fontSize,r=t.fontStyle,i=t.fontWeight,o=t.textDecoration,a=t.textAlign;this.textColor=e,this.fontSize=n,this.setEffectState("italic",r),this.setEffectState("bold",i),this.setEffectState("underline",o),this.setAlignState("tie-text-align-".concat(a))}},{key:"setEffectState",value:function(t,e){var n="italic"===e||"bold"===e||"underline"===e,r=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(t));this.effect[t]=n,r.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(t){var e=this._els.textAlignButton;e.classList.remove(this.align),e.classList.add(t),this.align=t}},{key:"_setTextEffectHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=et(e.className.match(/(bold|italic|underline)/),1)[0],r={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],e.classList.toggle("active"),this.actions.changeTextStyle(r)}}},{key:"_setTextAlignHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=this.getButtonType(e,["left","center","right"]),r="tie-text-align-".concat(n);t.currentTarget.classList.remove(this.align),this.align!==r&&t.currentTarget.classList.add(r),this.actions.changeTextStyle({textAlign:n}),this.align=r}}},{key:"_changeTextRnageHandler",value:function(t,e){this.actions.changeTextStyle({fontSize:t},!e)}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeTextStyle({fill:t})}}]),n}(Wr),ui=function(t){var e,n,r,i=t.locale,o=t.makeSvgIcon;return N()(e=N()(n=N()(r='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(o(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(r,i.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,o(["normal","active"],"apply"),"\n                <label>\n                    ")).call(e,i.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function li(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var fi=function(t){kr(n,t);var e=li(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"mask",makeSvgIcon:a,menuBarPosition:s,templateHtml:ui,usageStatistics:c}))._els={applyButton:i.selector(".tie-mask-apply"),maskImageButton:i.selector(".tie-mask-image-file")},i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r=P()(e=this._loadMaskFile).call(e,this),i=P()(n=this._applyMask).call(n,this);this.eventHandler={loadMaskFile:r,applyMask:i},this.actions=t,this._els.maskImageButton.addEventListener("change",r),this._els.applyButton.addEventListener("click",i)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(t){var e;Yn()||alert("This browser does not support file-api");var n=et(t.target.files,1)[0];n&&(e=F().createObjectURL(n),this.actions.loadImageFromURL(e,n),this._els.applyButton.classList.add("active"))}}]),n}(Wr),hi=function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y,b=t.locale,_=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c=N()(u=N()(l=N()(f=N()(h=N()(d=N()(p=N()(v=N()(g=N()(m=N()(y='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(_(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(y,b.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(m,_(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(g,b.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(v,_(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(p,b.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(d,_(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(h,b.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(f,_(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(l,b.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(u,_(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(c,b.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(s,_(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(a,b.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(o,_(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(i,b.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(r,_(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(n,b.localize("Bubble"),'\n                </label>\n            </div>\n            \n            <div class="tui-image-editor-partition" style="display: inline-block">\n                <div></div>\n            </div>\n            \n            <div class="tie-icon-color" title="')).call(e,b.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function di(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var pi=function(t){kr(n,t);var e=di(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"icon",makeSvgIcon:a,menuBarPosition:s,templateHtml:hi,usageStatistics:c})).iconType=null,i._iconMap={},i._els={registerIconButton:i.selector(".tie-icon-image-file"),addIconButton:i.selector(".tie-icon-add-button"),iconColorpicker:new Br(i.selector(".tie-icon-color"),{defaultColor:"#ff4040",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerInputBox=i._els.iconColorpicker.colorpickerElement.querySelector(Ee),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i,o,a=P()(e=this._registerIconHandler).call(e,this),s=P()(n=this._addIconHandler).call(n,this);this.eventHandler={registerIcon:a,addIcon:s},this.actions=t,this._els.iconColorpicker.on("change",P()(r=this._changeColorHandler).call(r,this)),this._els.addIconButton.addEventListener("click",s),this.colorPickerInputBox.addEventListener(Oe,P()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(ke,P()(o=this._onStopEditingInputBox).call(o,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.iconColorpicker.off(),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(Oe,P()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(ke,P()(e=this._onStopEditingInputBox).call(e,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var t=this;X()(wn,(function(e,n){t.actions.registerDefaultIcons(n,e)}))}},{key:"setIconPickerColor",value:function(t){this._els.iconColorpicker.color=t}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeColor(t)}},{key:"_addIconHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=e.getAttribute("data-icontype"),r=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,r),this.iconType=n)}}},{key:"_registerIconHandler",value:function(t){var e;Yn||alert("This browser does not support file-api");var n=et(t.target.files,1)[0];n&&(e=F().createObjectURL(n),this.actions.registerCustomIcon(e,n))}}]),n}(Wr),vi=function(t){var e,n,r,i,o,a=t.locale,s=t.makeSvgIcon;return N()(e=N()(n=N()(r=N()(i=N()(o='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(s(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(o,a.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(i,s(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(r,a.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(n,a.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,a.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function gi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var mi=function(t){kr(n,t);var e=gi(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon,s=r.menuBarPosition,c=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"draw",makeSvgIcon:a,menuBarPosition:s,templateHtml:vi,usageStatistics:c}))._els={lineSelectButton:i.selector(".tie-draw-line-select-button"),drawColorPicker:new Br(i.selector(".tie-draw-color"),{defaultColor:"#ff0000",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),drawRange:new Hr({slider:i.selector(".tie-draw-range"),input:i.selector(".tie-draw-range-value")},Sn)},i.type=null,i.color=i._els.drawColorPicker.color,i.width=i._els.drawRange.value,i.colorPickerInputBox=i._els.drawColorPicker.colorpickerElement.querySelector(Ee),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Gn(this)}},{key:"addEvent",value:function(t){var e,n,r,i,o;this.eventHandler.changeDrawType=P()(e=this._changeDrawType).call(e,this),this.actions=t,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",P()(n=this._changeDrawColor).call(n,this)),this._els.drawRange.on("change",P()(r=this._changeDrawRange).call(r,this)),this.colorPickerInputBox.addEventListener(Oe,P()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(ke,P()(o=this._onStopEditingInputBox).call(o,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(Oe,P()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(ke,P()(e=this._onStopEditingInputBox).call(e,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Vn(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var n=this.getButtonType(e,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(t){this.color=t||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(t){this.width=t,this.type?this.setDrawMode():this.changeStartMode()}}]),n}(Wr),yi=o(9886),bi=o.n(yi),_i=function(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m=t.locale;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c=N()(u=N()(l=N()(f=N()(h=N()(d=N()(p=N()(v=N()(g='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(m.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(g,m.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(v,m.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(p,m.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(d,m.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(h,m.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(f,m.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(l,m.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(u,m.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(c,m.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(s,m.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(a,m.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(o,m.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(i,m.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(r,m.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(n,m.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(e,m.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function wi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var xi=["add","diff","subtract","multiply","screen","lighten","darken"],Si=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],Ci={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Mi=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Oi=["filterBlendColor","filterMultiplyColor","filterTintColor"],ki=function(t){kr(n,t);var e=wi(n);function n(t,r){var i,o=r.locale,a=r.menuBarPosition,s=r.usageStatistics;return j(this,n),(i=e.call(this,t,{locale:o,name:"filter",menuBarPosition:a,templateHtml:_i,usageStatistics:s})).selectBoxShow=!1,i.checkedMap={},i._makeControlElement(),i}return T(n,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Gn(this)}},{key:"_removeEvent",value:function(){var t,e=this;X()(Si,(function(t){var n=e.selector(".tie-".concat(t)),r=Wn(t);n.removeEventListener("change",e.eventHandler[r])})),X()(N()(t=[]).call(t,Mi,Oi),(function(t){e._els[t].off()})),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Dr()(this.colorPickerInputBoxes,(function(t){var n,r;t.removeEventListener(Oe,P()(n=e._onStartEditingInputBox).call(n,e)),t.removeEventListener(ke,P()(r=e._onStopEditingInputBox).call(r,e))}),this)}},{key:"_destroyToolInstance",value:function(){var t,e=this;X()(N()(t=[]).call(t,Mi,Oi),(function(t){e._els[t].destroy()}))}},{key:"addEvent",value:function(t){var e,n,r,i=this,o=t.applyFilter,a=function(t){var e;return P()(e=i._changeFilterState).call(e,i,o,t)},s=function(t){return function(e,n){return i._changeFilterState(o,t,n)}};this.eventHandler={changeBlendFilter:a("blend"),blandTypeClick:function(t){return t.stopPropagation()}},X()(Si,(function(t){var e=i.selector(".tie-".concat(t)),n=Wn(t);i.checkedMap[n]=e,i.eventHandler[n]=a(n),e.addEventListener("change",i.eventHandler[n])})),this._els.removewhiteDistanceRange.on("change",s("removeWhite")),this._els.colorfilterThresholdRange.on("change",s("colorFilter")),this._els.pixelateRange.on("change",s("pixelate")),this._els.noiseRange.on("change",s("noise")),this._els.brightnessRange.on("change",s("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",a("multiply")),this._els.filterTintColor.on("change",a("tint")),this._els.tintOpacity.on("change",s("tint")),this._els.filterMultiplyColor.on("changeShow",P()(e=this.colorPickerChangeShow).call(e,this)),this._els.filterTintColor.on("changeShow",P()(n=this.colorPickerChangeShow).call(n,this)),this._els.filterBlendColor.on("changeShow",P()(r=this.colorPickerChangeShow).call(r,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Dr()(this.colorPickerInputBoxes,(function(t){var e,n;t.addEventListener(Oe,P()(e=i._onStartEditingInputBox).call(e,i)),t.addEventListener(ke,P()(n=i._onStopEditingInputBox).call(n,i))}),this)}},{key:"setFilterState",value:function(t){var e=t.type,n=t.options,r=t.action,i=this._getFilterNameFromOptions(e,n),o="remove"===r;o||this._setFilterState(i,n),this.checkedMap[i].checked=!o}},{key:"initFilterCheckBoxState",value:function(){X()(this.checkedMap,(function(t){t.checked=!1}),this)}},{key:"_setFilterState",value:function(t,e){"colorFilter"===t?this._els.colorfilterThresholdRange.value=e.distance:"removeWhite"===t?this._els.removewhiteDistanceRange.value=e.distance:"pixelate"===t?this._els.pixelateRange.value=e.blocksize:"brightness"===t?this._els.brightnessRange.value=e.brightness:"noise"===t?this._els.noiseRange.value=e.noise:"tint"===t?(this._els.tintOpacity.value=e.alpha,this._els.filterTintColor.color=e.color):"blend"===t?this._els.filterBlendColor.color=e.color:"multiply"===t&&(this._els.filterMultiplyColor.color=e.color)}},{key:"_getFilterNameFromOptions",value:function(t,e){var n=t;return"removeColor"===t?n=bi()(e.useAlpha)?"removeWhite":"colorFilter":"blendColor"===t&&(n={add:"blend",multiply:"multiply",tint:"tint"}[e.mode]),n}},{key:"_changeFilterState",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.checkedMap[e].checked,i=Ci[e],o=this.checkedMap[e].closest(".tui-image-editor-checkbox-group");o&&(r?o.classList.remove("tui-image-editor-disabled"):o.classList.add("tui-image-editor-disabled")),t(r,i,this._getFilterOption(e),!n)}},{key:"_getFilterOption",value:function(t){var e={};switch(t){case"removeWhite":e.color="#FFFFFF",e.useAlpha=!1,e.distance=gr()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":e.color="#FFFFFF",e.distance=gr()(this._els.colorfilterThresholdRange.value);break;case"pixelate":e.blocksize=Un(this._els.pixelateRange.value);break;case"noise":e.noise=Un(this._els.noiseRange.value);break;case"brightness":e.brightness=gr()(this._els.brightnessRange.value);break;case"blend":e.mode="add",e.color=this._els.filterBlendColor.color,e.mode=this._els.blendType.value;break;case"multiply":e.mode="multiply",e.color=this._els.filterMultiplyColor.color;break;case"tint":e.mode="tint",e.color=this._els.filterTintColor.color,e.alpha=this._els.tintOpacity.value;break;case"blur":e.blur=this._els.blurRange.value}return e}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Hr({slider:this.selector(".tie-removewhite-distance-range")},On.removewhiteDistanceRange),brightnessRange:new Hr({slider:this.selector(".tie-brightness-range")},On.brightnessRange),noiseRange:new Hr({slider:this.selector(".tie-noise-range")},On.noiseRange),pixelateRange:new Hr({slider:this.selector(".tie-pixelate-range")},On.pixelateRange),colorfilterThresholdRange:new Hr({slider:this.selector(".tie-colorfilter-threshold-range")},On.colorfilterThresholdRange),filterTintColor:new Br(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Br(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Br(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:On.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(Ee)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(Ee)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(Ee))}},{key:"_pickerWithRange",value:function(t){var e=document.createElement("div"),n=document.createElement("label"),r=document.createElement("div");return r.id="tie-filter-tint-opacity",n.innerHTML="Opacity",e.appendChild(n),e.appendChild(r),t.appendChild(e),t.style.height="130px",new Hr({slider:r},On.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(t){var e=document.createElement("div"),n=document.createElement("select"),r=document.createElement("ul");return e.className="tui-image-editor-selectlist-wrap",r.className="tui-image-editor-selectlist",e.appendChild(n),e.appendChild(r),this._makeSelectOptionList(n),t.appendChild(e),t.style.height="130px",this._drawSelectOptionList(n,r),this._pickerWithSelectboxForAddEvent(n,r),n}},{key:"_drawSelectOptionList",value:function(t,e){var n=t.querySelectorAll("option");X()(n,(function(t){var n=document.createElement("li");n.innerHTML=t.innerHTML,n.setAttribute("data-item",t.value),e.appendChild(n)}))}},{key:"_pickerWithSelectboxForAddEvent",value:function(t,e){var n=this;e.addEventListener("click",(function(r){var i=r.target.getAttribute("data-item"),o=document.createEvent("HTMLEvents");t.querySelector('[value="'.concat(i,'"]')).selected=!0,o.initEvent("change",!0,!0),t.dispatchEvent(o),n.selectBoxShow=!1,e.style.display="none"})),t.addEventListener("mousedown",(function(r){r.preventDefault(),n.selectBoxShow=!n.selectBoxShow,e.style.display=n.selectBoxShow?"block":"none",e.setAttribute("data-selectitem",t.value),e.querySelector("[data-item='".concat(t.value,"']")).classList.add("active")}))}},{key:"_makeSelectOptionList",value:function(t){X()(xi,(function(e){var n=document.createElement("option");n.setAttribute("value",e),n.innerHTML=e.replace(/^[a-z]/,(function(t){return t.toUpperCase()})),t.appendChild(n)}))}}]),n}(Wr),Ei=o(934),Ii=o.n(Ei);function ji(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Ai=function(t){kr(n,t);var e=ji(n);function n(t,r){var i,o=r.locale,a=r.makeSvgIcon;return j(this,n),i=e.call(this,t,{name:"history"}),t.classList.add("enabled"),i.locale=o,i.makeSvgIcon=a,i._eventHandler={},i._historyIndex=i.getListLength(),i}return T(n,[{key:"add",value:function(t){var e=t.name,n=t.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var r=function(t){var e,n,r,i=t.locale,o=t.makeSvgIcon,a=t.name,s=t.detail;return N()(e=N()(n=N()(r='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(o(["normal","active"],"history-".concat(a.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(r,i.localize(a),"\n            ")).call(n,s?"(".concat(i.localize(s),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(e,o(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:e,detail:n}),i=this.makeListItemElement(r);this.pushListItemElement(i),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var t=this;this._eventHandler.history=function(e){return t._clickHistoryItem(e)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(t){var e=t.target.closest(".".concat("history-item"));if(e){var n=Ii()(e.getAttribute("data-index"),10);if(n!==this._historyIndex){var r=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(r):this._actions.redo(r)}}}},{key:"_selectItem",value:function(t){for(var e=0;e<this.getListLength();e+=1)this.removeClass(e,"selected-item"),this.removeClass(e,"disabled-item"),e>t&&this.addClass(e,"disabled-item");this.addClass(t,"selected-item")}},{key:"destroy",value:function(){this.removeEvent(),Gn(this)}},{key:"addEvent",value:function(t){this._actions=t,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),n}(function(){function t(e,n){var r=n.name;j(this,t),this.name=r,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),e.appendChild(this.panelElement)}return T(t,[{key:"_makePanelElement",value:function(){var t=document.createElement("div");return t.className="tie-panel-".concat(this.name),t}},{key:"_makeListElement",value:function(){var t=document.createElement("ol");return t.className="".concat(this.name,"-list"),t}},{key:"makeListItemElement",value:function(t){var e=document.createElement("li");return e.innerHTML=t,e.className="".concat(this.name,"-item"),e.setAttribute("data-index",this.items.length),e}},{key:"pushListItemElement",value:function(t){this.listElement.appendChild(t),this.listElement.scrollTop+=t.offsetHeight,this.items.push(t)}},{key:"deleteListItemElement",value:function(t,e){for(var n=this.items,r=t;r<e;r+=1)this.listElement.removeChild(n[r]);s()(n).call(n,t,e-t+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(t,e){this.items[t]&&this.items[t].classList.add(e)}},{key:"removeClass",value:function(t,e){this.items[t]&&this.items[t].classList.remove(e)}},{key:"toggleClass",value:function(t,e){this.items[t]&&this.items[t].classList.toggle(e)}}]),t}()),Ti=function(){function t(e){j(this,t),this._locale=e}return T(t,[{key:"localize",value:function(t){return this._locale[t]||t}}]),t}(),Di={Shape:Xr,Crop:qr,Resize:$r,Flip:ni,Rotate:oi,Text:ci,Mask:fi,Icon:pi,Draw:mi,Filter:ki},Pi="zoomIn",Li="hand",Ni=function(){function t(e,n,r){j(this,t),this.options=this._initializeOption(n),this._actions=r,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new Ti(this.options.locale),this.theme=new _r(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(e),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return T(t,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Gn(this)}},{key:"setUiDefaultSelectionStyle",value:function(t){return W()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},t)}},{key:"resizeEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uiSize,n=t.imageSize,r=void 0===n?this.imageSize:n;r!==this.imageSize&&(this.imageSize=r),e&&this._setUiSize(e);var i=this._getCanvasMaxDimension(),o=i.width,a=i.height,s=this._editorElement.style,c=this.options.menuBarPosition;s.height="".concat(a,"px"),s.width="".concat(o,"px"),this._setEditorPosition(c),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var u=this._selectedElement.classList;"top"===c&&this._selectedElement.offsetWidth<"1300"?u.add("tui-image-editor-top-optimization"):u.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(t){this._buttonElements[t].classList.toggle("on"),t===Pi?this._buttonElements[Li].classList.remove("on"):this._buttonElements[Pi].classList.remove("on")}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[Pi].classList.remove("on")}},{key:"changeHandButtonStatus",value:function(t){this._buttonElements[Li].classList[t?"add":"remove"]("on")}},{key:"changeHelpButtonEnabled",value:function(t,e){this._buttonElements[t].classList[e?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(t){return W()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},t)}},{key:"_setUiSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,e=this._selectedElement.style;e.width=t.width,e.height=t.height}},{key:"_makeSubMenu",value:function(){var t=this;X()(this.options.menu,(function(e){var n,r=Di[e.replace(/^[a-z]/,(function(t){return t.toUpperCase()}))];t._makeMenuElement(e),t._buttonElements[e]=t._menuBarElement.querySelector(".tie-btn-".concat(e)),t[e]=new r(t._subMenuElement,{locale:t._locale,makeSvgIcon:P()(n=t.theme.makeMenSvgIconSet).call(n,t.theme),menuBarPosition:t.options.menuBarPosition,usageStatistics:t.options.usageStatistics})}))}},{key:"_attachHistoryEvent",value:function(){var t,e,n;this.on(ge,P()(t=this._addHistory).call(t,this)),this.on(me,P()(e=this._selectPrevHistory).call(e,this)),this.on(ye,P()(n=this._selectNextHistory).call(n,this))}},{key:"_attachZoomEvent",value:function(){var t=this;this.on(_e,(function(){t.offZoomInButtonStatus(),t.changeHandButtonStatus(!0)})),this.on(we,(function(){return t.changeHandButtonStatus(!1)}))}},{key:"_makeUiElement",value:function(t){var e,n;n=t.nodeType?t:document.querySelector(t);var r,i=(r=n,function(t){return r.querySelector(t)});n.classList.add("tui-image-editor-container"),n.innerHTML=function(t){var e,n,r,i,o,a,s=t.locale,c=t.biImage,u=t.loadButtonStyle,l=t.downloadButtonStyle,f=t.menuBarPosition;return N()(e=N()(n=N()(r=N()(i=N()(o='\n    <ul class="tui-image-editor-help-menu '.concat((a=f,"top"===a?"bottom":"left"===a?"right":"right"===a?"left":"top"),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(o,c,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(i,u,'">\n                ')).call(r,s.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(n,l,'">\n                ')).call(e,s.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(t){var e,n,r,i,o,a,s,c=t.locale,u=t.biImage,l=t.commonStyle,f=t.headerStyle,h=t.loadButtonStyle,d=t.downloadButtonStyle,p=t.submenuStyle;return N()(e=N()(n=N()(r=N()(i=N()(o=N()(a=N()(s='\n    <div class="tui-image-editor-main-container" style="'.concat(l,'">\n        <div class="tui-image-editor-header" style="')).call(s,f,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(a,u,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(o,h,'">\n                    ')).call(i,c.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(r,d,'">\n                    ')).call(n,c.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(e,p,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=n,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=i(".tui-image-editor-main"),this._editorElementWrap=i(".tui-image-editor-wrap"),this._editorElement=i(".tui-image-editor"),this._helpMenuBarElement=i(".tui-image-editor-help-menu"),this._menuBarElement=i(".tui-image-editor-menu"),this._subMenuElement=i(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Ai(this._buttonElements.history,{locale:this._locale,makeSvgIcon:P()(e=this.theme.makeMenSvgIconSet).call(e,this.theme)})}},{key:"_activateZoomMenus",value:function(){var t=this;X()(vt,(function(e){t.changeHelpButtonEnabled(e,!0)}))}},{key:"_makeHelpMenuWithPartition",value:function(){return S(gt)}},{key:"_addHelpMenus",value:function(){var t=this,e=this._makeHelpMenuWithPartition();X()(e,(function(e){e?(t._makeMenuElement(e,["normal","disabled","hover"],"help"),t._buttonElements[e]=t._helpMenuBarElement.querySelector(".tie-btn-".concat(e))):t._makeMenuPartitionElement()}))}},{key:"_makeMenuPartitionElement",value:function(){var t=document.createElement("li"),e=document.createElement("div");t.className=Xn("item"),e.className=Xn("icpartition"),t.appendChild(e),this._helpMenuBarElement.appendChild(t)}},{key:"_makeMenuElement",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",o=document.createElement("li"),a=this.theme.makeMenSvgIconSet(r,t);this._addTooltipAttribute(o,t),o.className=N()(e=N()(n="tie-btn-".concat(t," ")).call(n,Xn("item")," ")).call(e,i),o.innerHTML=a,"normal"===i?this._menuBarElement.appendChild(o):this._helpMenuBarElement.appendChild(o)}},{key:"_addHelpActionEvent",value:function(){var t=this;X()(mt,(function(e){t.eventHandler[e]=function(n){return t._actions.main[e](n)},t._buttonElements[e].addEventListener("click",t.eventHandler[e])}))}},{key:"_removeHelpActionEvent",value:function(){var t=this;X()(mt,(function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e])}))}},{key:"_addHistory",value:function(t){if(!function(t){return"string"===typeof t?Tt===t:Tt===t.name}(t)){var e="string"===typeof t?{name:t}:function(t){var e,n,r,i=Dt,o=Pt,a=Wt,s=Rt,c=Bt,u=Ut,l=Ft,h=Vt,d=At,p=Gt,v=Nt,g=Qt,m=t.name,y=t.args;switch(m){case i:r={name:m,detail:"reset"===y[1]?y[1]:f()(e=y[1]).call(e,4)};break;case o:r={name:m,detail:y[2]};break;case s:r={name:Pe,detail:er(y[1],y[2])};break;case c:r={name:Le,detail:"Remove"};break;case u:r={name:Ne,detail:"Change"};break;case l:r={name:Re,detail:"Change"};break;case h:r={name:ze,detail:"Change"};break;case v:r={name:Fe,detail:y[2]};break;case d:r={name:He,detail:"All"};break;case p:r={name:Ae,detail:"Add"};break;case a:r={name:Be};break;case g:r={name:De,detail:N()(n="".concat(~~y[1].width,"x")).call(n,~~y[1].height)};break;default:r={name:m}}return"mask"===y[1]&&(r={name:je,detail:"Apply"}),r}(t);this._historyMenu.add(e)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(t){t.target.closest(".".concat("tie-panel-history"))||this._buttonElements.history.classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(t,e){t.setAttribute("tooltip-content",this._locale.localize(e.replace(/^[a-z]/g,(function(t){return t.toUpperCase()}))))}},{key:"_addDownloadEvent",value:function(){var t=this;this.eventHandler.download=function(){return t._actions.main.download()},X()(this._buttonElements.download,(function(e){e.addEventListener("click",t.eventHandler.download)}))}},{key:"_removeDownloadEvent",value:function(){var t=this;X()(this._buttonElements.download,(function(e){e.removeEventListener("click",t.eventHandler.download)}))}},{key:"_addLoadEvent",value:function(){var t=this;this.eventHandler.loadImage=function(e){return t._actions.main.load(e.target.files[0])},X()(this._buttonElements.load,(function(e){e.addEventListener("change",t.eventHandler.loadImage)}))}},{key:"_removeLoadEvent",value:function(){var t=this;X()(this._buttonElements.load,(function(e){e.removeEventListener("change",t.eventHandler.loadImage)}))}},{key:"_addMainMenuEvent",value:function(t){var e=this;this.eventHandler[t]=function(){return e.changeMenu(t)},this._buttonElements[t].addEventListener("click",this.eventHandler[t])}},{key:"_addSubMenuEvent",value:function(t){var e=this;this[t].addEvent(this._actions[t]),this[t].on(Ce,(function(){return e.fire(Ce)})),this[t].on(Me,(function(){return e.fire(Me)}))}},{key:"_addMenuEvent",value:function(){var t=this;X()(this.options.menu,(function(e){t._addMainMenuEvent(e),t._addSubMenuEvent(e)}))}},{key:"_removeMainMenuEvent",value:function(){var t=this;X()(this.options.menu,(function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e]),t[e].off(Ce),t[e].off(Me)}))}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var t=this;X()(this.options.menu,(function(e){t[e].destroy()})),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var t=this,e=this._getLoadImage();e.path&&this._actions.main.initLoadImage(e.path,e.name).then((function(){t.activeMenuEvent()})),this._addLoadEvent();var n=document.createElement("div");n.className=Xn("grid-visual"),n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(t,e,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(t,e,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===t&&e?this.submenu=null:(this._buttonElements[t].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(t)),this.submenu=t,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(t)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var t=this._editorContainerElement.style,e=t.maxWidth,n=t.maxHeight;return{width:gr()(e),height:gr()(n)}}},{key:"_setEditorPosition",value:function(t){var e=this._getCanvasMaxDimension(),n=e.width,r=e.height,i=this._editorElement.style,o=0,a=0;this.submenu&&("bottom"===t?o=r>this._editorElementWrap.scrollHeight-150?(r-this._editorElementWrap.scrollHeight)/2:-75:"top"===t?o=r>this._editorElementWrap.offsetHeight-150?75-(r-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===t?a=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===t&&(a=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),i.top="".concat(o,"px"),i.left="".concat(a,"px")}}]),t}();Z().mixin(Ni);var Ri=Ni,Bi=o(453),zi=o.n(Bi),Fi=function(){function t(){j(this,t),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return T(t,[{key:"imageToSVG",value:function(t,e,n){var r=this;n=this.checkoptions(n),this.loadImage(t,(function(t){e(r.imagedataToSVG(r.getImgdata(t),n))}),n)}},{key:"imagedataToSVG",value:function(t,e){e=this.checkoptions(e);var n=this.imagedataToTracedata(t,e);return this.getsvgstring(n,e)}},{key:"imageToTracedata",value:function(t,e,n){var r=this;n=this.checkoptions(n),this.loadImage(t,(function(t){e(r.imagedataToTracedata(r.getImgdata(t),n))}),n)}},{key:"imagedataToTracedata",value:function(t,e){e=this.checkoptions(e);var n,r=this.colorquantization(t,e);if(0===e.layering){n={layers:[],palette:r.palette,width:r.array[0].length-2,height:r.array.length-2};for(var i=0;i<r.palette.length;i+=1){var o=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(r,i),e.pathomit),e),e.ltres,e.qtres);n.layers.push(o)}}else{var a=this.layering(r);e.layercontainerid&&this.drawLayers(a,this.specpalette,e.scale,e.layercontainerid);var s=this.batchpathscan(a,e.pathomit),c=this.batchinternodes(s,e);n={layers:this.batchtracelayers(c,e.ltres,e.qtres),palette:r.palette,width:t.width,height:t.height}}return n}},{key:"checkoptions",value:function(t){"string"===typeof(t=t||{})&&(t=t.toLowerCase(),t=this.optionpresets[t]?this.optionpresets[t]:{});for(var e=$()(this.optionpresets.default),n=0;n<e.length;n+=1)t.hasOwnProperty(e[n])||(t[e[n]]=this.optionpresets.default[e[n]]);return t}},{key:"colorquantization",value:function(t,e){var n,r,i,o,a,s,c,u,l=[],f=0,h=[],d=t.width*t.height;for(a=0;a<t.height+2;a+=1)for(l[a]=[],o=0;o<t.width+2;o+=1)l[a][o]=-1;for(u=e.pal?e.pal:0===e.colorsampling?this.generatepalette(e.numberofcolors):1===e.colorsampling?this.samplepalette(e.numberofcolors,t):this.samplepalette2(e.numberofcolors,t),e.blurradius>0&&(t=this.blur(t,e.blurradius,e.blurdelta)),c=0;c<e.colorquantcycles;c+=1){if(c>0)for(s=0;s<u.length;s+=1)h[s].n>0&&(u[s]={r:Math.floor(h[s].r/h[s].n),g:Math.floor(h[s].g/h[s].n),b:Math.floor(h[s].b/h[s].n),a:Math.floor(h[s].a/h[s].n)}),h[s].n/d<e.mincolorratio&&c<e.colorquantcycles-1&&(u[s]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(o=0;o<u.length;o+=1)h[o]={r:0,g:0,b:0,a:0,n:0};for(a=0;a<t.height;a+=1)for(o=0;o<t.width;o+=1){for(f=4*(a*t.width+o),i=0,r=1024,s=0;s<u.length;s+=1)(n=Math.abs(u[s].r-t.data[f])+Math.abs(u[s].g-t.data[f+1])+Math.abs(u[s].b-t.data[f+2])+Math.abs(u[s].a-t.data[f+3]))<r&&(r=n,i=s);h[i].r+=t.data[f],h[i].g+=t.data[f+1],h[i].b+=t.data[f+2],h[i].a+=t.data[f+3],h[i].n+=1,l[a+1][o+1]=i}}return{array:l,palette:u}}},{key:"samplepalette",value:function(t,e){for(var n,r=[],i=0;i<t;i+=1)n=4*Math.floor(Math.random()*e.data.length/4),r.push({r:e.data[n],g:e.data[n+1],b:e.data[n+2],a:e.data[n+3]});return r}},{key:"samplepalette2",value:function(t,e){for(var n,r=[],i=Math.ceil(Math.sqrt(t)),o=Math.ceil(t/i),a=e.width/(i+1),s=e.height/(o+1),c=0;c<o;c+=1)for(var u=0;u<i&&r.length!==t;u+=1)n=4*Math.floor((c+1)*s*e.width+(u+1)*a),r.push({r:e.data[n],g:e.data[n+1],b:e.data[n+2],a:e.data[n+3]});return r}},{key:"generatepalette",value:function(t){var e,n,r,i=[];if(t<8)for(var o=Math.floor(255/(t-1)),a=0;a<t;a+=1)i.push({r:a*o,g:a*o,b:a*o,a:255});else{var s=Math.floor(Math.pow(t,1/3)),c=Math.floor(255/(s-1)),u=t-s*s*s;for(e=0;e<s;e+=1)for(n=0;n<s;n+=1)for(r=0;r<s;r+=1)i.push({r:e*c,g:n*c,b:r*c,a:255});for(e=0;e<u;e+=1)i.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return i}},{key:"layering",value:function(t){var e,n,r,i,o,a,s,c,u,l,f,h=[],d=0,p=t.array.length,v=t.array[0].length;for(f=0;f<t.palette.length;f+=1)for(h[f]=[],l=0;l<p;l+=1)for(h[f][l]=[],u=0;u<v;u+=1)h[f][l][u]=0;for(l=1;l<p-1;l+=1)for(u=1;u<v-1;u+=1)d=t.array[l][u],e=t.array[l-1][u-1]===d?1:0,n=t.array[l-1][u]===d?1:0,r=t.array[l-1][u+1]===d?1:0,i=t.array[l][u-1]===d?1:0,o=t.array[l][u+1]===d?1:0,a=t.array[l+1][u-1]===d?1:0,s=t.array[l+1][u]===d?1:0,c=t.array[l+1][u+1]===d?1:0,h[d][l+1][u+1]=1+2*o+4*c+8*s,i||(h[d][l+1][u]=2+4*s+8*a),n||(h[d][l][u+1]=0+2*r+4*o+8),e||(h[d][l][u]=0+2*n+4+8*i);return h}},{key:"layeringstep",value:function(t,e){var n,r,i=[],o=t.array.length,a=t.array[0].length;for(r=0;r<o;r+=1)for(i[r]=[],n=0;n<a;n+=1)i[r][n]=0;for(r=1;r<o;r+=1)for(n=1;n<a;n+=1)i[r][n]=(t.array[r-1][n-1]===e?1:0)+(t.array[r-1][n]===e?2:0)+(t.array[r][n-1]===e?8:0)+(t.array[r][n]===e?4:0);return i}},{key:"pathscan",value:function(t,e){for(var n,r=[],i=0,o=0,a=0,s=0,c=t[0].length,u=t.length,l=0,f=!0,h=!1,d=0;d<u;d+=1)for(var p=0;p<c;p+=1)if(4===t[d][p]||11===t[d][p])for(a=p,s=d,r[i]={},r[i].points=[],r[i].boundingbox=[a,s,a,s],r[i].holechildren=[],f=!1,o=0,h=11===t[d][p],l=1;!f;){if(r[i].points[o]={},r[i].points[o].x=a-1,r[i].points[o].y=s-1,r[i].points[o].t=t[s][a],a-1<r[i].boundingbox[0]&&(r[i].boundingbox[0]=a-1),a-1>r[i].boundingbox[2]&&(r[i].boundingbox[2]=a-1),s-1<r[i].boundingbox[1]&&(r[i].boundingbox[1]=s-1),s-1>r[i].boundingbox[3]&&(r[i].boundingbox[3]=s-1),n=this.pathscan_combined_lookup[t[s][a]][l],t[s][a]=n[0],l=n[1],a+=n[2],s+=n[3],a-1===r[i].points[0].x&&s-1===r[i].points[0].y)if(f=!0,r[i].points.length<e)r.pop();else{if(r[i].isholepath=!!h,h){for(var v=0,g=[-1,-1,c+1,u+1],m=0;m<i;m++)!r[m].isholepath&&this.boundingboxincludes(r[m].boundingbox,r[i].boundingbox)&&this.boundingboxincludes(g,r[m].boundingbox)&&(v=m,g=r[m].boundingbox);r[v].holechildren.push(i)}i+=1}o+=1}return r}},{key:"boundingboxincludes",value:function(t,e){return t[0]<e[0]&&t[1]<e[1]&&t[2]>e[2]&&t[3]>e[3]}},{key:"batchpathscan",value:function(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.pathscan(t[r],e));return n}},{key:"internodes",value:function(t,e){var n,r,i=[],o=0,a=0,s=0,c=0,u=0;for(n=0;n<t.length;n+=1)for(i[n]={},i[n].points=[],i[n].boundingbox=t[n].boundingbox,i[n].holechildren=t[n].holechildren,i[n].isholepath=t[n].isholepath,o=t[n].points.length,r=0;r<o;r+=1)a=(r+1)%o,s=(r+2)%o,c=(r-1+o)%o,u=(r-2+o)%o,e.rightangleenhance&&this.testrightangle(t[n],u,c,r,a,s)&&(i[n].points.length>0&&(i[n].points[i[n].points.length-1].linesegment=this.getdirection(i[n].points[i[n].points.length-1].x,i[n].points[i[n].points.length-1].y,t[n].points[r].x,t[n].points[r].y)),i[n].points.push({x:t[n].points[r].x,y:t[n].points[r].y,linesegment:this.getdirection(t[n].points[r].x,t[n].points[r].y,(t[n].points[r].x+t[n].points[a].x)/2,(t[n].points[r].y+t[n].points[a].y)/2)})),i[n].points.push({x:(t[n].points[r].x+t[n].points[a].x)/2,y:(t[n].points[r].y+t[n].points[a].y)/2,linesegment:this.getdirection((t[n].points[r].x+t[n].points[a].x)/2,(t[n].points[r].y+t[n].points[a].y)/2,(t[n].points[a].x+t[n].points[s].x)/2,(t[n].points[a].y+t[n].points[s].y)/2)});return i}},{key:"testrightangle",value:function(t,e,n,r,i,o){return t.points[r].x===t.points[e].x&&t.points[r].x===t.points[n].x&&t.points[r].y===t.points[i].y&&t.points[r].y===t.points[o].y||t.points[r].y===t.points[e].y&&t.points[r].y===t.points[n].y&&t.points[r].x===t.points[i].x&&t.points[r].x===t.points[o].x}},{key:"getdirection",value:function(t,e,n,r){return t<n?e<r?1:e>r?7:0:t>n?e<r?3:e>r?5:4:e<r?2:e>r?6:8}},{key:"batchinternodes",value:function(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.internodes(t[r],e));return n}},{key:"tracepath",value:function(t,e,n){var r,i,o,a=0,s={segments:[]};for(s.boundingbox=t.boundingbox,s.holechildren=t.holechildren,s.isholepath=t.isholepath;a<t.points.length;){var c;for(r=t.points[a].linesegment,i=-1,o=a+1;(t.points[o].linesegment===r||t.points[o].linesegment===i||-1===i)&&o<t.points.length-1;)t.points[o].linesegment!==r&&-1===i&&(i=t.points[o].linesegment),o+=1;o===t.points.length-1&&(o=0),s.segments=N()(c=s.segments).call(c,this.fitseq(t,e,n,a,o)),a=o>0?o:t.points.length}return s}},{key:"fitseq",value:function(t,e,n,r,i){var o;if(i>t.points.length||i<0)return[];var a,s,c,u=r,l=0,f=!0,h=i-r;h<0&&(h+=t.points.length);for(var d,p=(t.points[i].x-t.points[r].x)/h,v=(t.points[i].y-t.points[r].y)/h,g=(r+1)%t.points.length;g!=i;)(d=g-r)<0&&(d+=t.points.length),a=t.points[r].x+p*d,s=t.points[r].y+v*d,(c=(t.points[g].x-a)*(t.points[g].x-a)+(t.points[g].y-s)*(t.points[g].y-s))>e&&(f=!1),c>l&&(u=g,l=c),g=(g+1)%t.points.length;if(f)return[{type:"L",x1:t.points[r].x,y1:t.points[r].y,x2:t.points[i].x,y2:t.points[i].y}];var m=u;f=!0,l=0;var y=(m-r)/h,b=(1-y)*(1-y),_=2*(1-y)*y,w=y*y,x=(b*t.points[r].x+w*t.points[i].x-t.points[m].x)/-_,S=(b*t.points[r].y+w*t.points[i].y-t.points[m].y)/-_;for(g=r+1;g!=i;)_=2*(1-(y=(g-r)/h))*y,w=y*y,a=(b=(1-y)*(1-y))*t.points[r].x+_*x+w*t.points[i].x,s=b*t.points[r].y+_*S+w*t.points[i].y,(c=(t.points[g].x-a)*(t.points[g].x-a)+(t.points[g].y-s)*(t.points[g].y-s))>n&&(f=!1),c>l&&(u=g,l=c),g=(g+1)%t.points.length;if(f)return[{type:"Q",x1:t.points[r].x,y1:t.points[r].y,x2:x,y2:S,x3:t.points[i].x,y3:t.points[i].y}];var C=m;return N()(o=this.fitseq(t,e,n,r,C)).call(o,this.fitseq(t,e,n,C,i))}},{key:"batchtracepaths",value:function(t,e,n){var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(this.tracepath(t[i],e,n));return r}},{key:"batchtracelayers",value:function(t,e,n){var r=[];for(var i in t)t.hasOwnProperty(i)&&(r[i]=this.batchtracepaths(t[i],e,n));return r}},{key:"roundtodec",value:function(t,e){return Number(t.toFixed(e))}},{key:"svgpathstring",value:function(t,e,n,r){var i,o,a,s=t.layers[e],c=s[n],u="";if(r.linefilter&&c.segments.length<3)return u;if(u=N()(i="<path ".concat(r.desc?N()(o='desc="l '.concat(e," p ")).call(o,n,'" '):"")).call(i,this.tosvgcolorstr(t.palette[e],r),'d="'),-1===r.roundcoords){var l;for(u+=N()(l="M ".concat(c.segments[0].x1*r.scale," ")).call(l,c.segments[0].y1*r.scale," "),a=0;a<c.segments.length;a++){var f,h,d;u+=N()(f=N()(h="".concat(c.segments[a].type," ")).call(h,c.segments[a].x2*r.scale," ")).call(f,c.segments[a].y2*r.scale," "),c.segments[a].hasOwnProperty("x3")&&(u+=N()(d="".concat(c.segments[a].x3*r.scale," ")).call(d,c.segments[a].y3*r.scale," "))}u+="Z "}else{var p;for(u+=N()(p="M ".concat(this.roundtodec(c.segments[0].x1*r.scale,r.roundcoords)," ")).call(p,this.roundtodec(c.segments[0].y1*r.scale,r.roundcoords)," "),a=0;a<c.segments.length;a++){var v,g,m;u+=N()(v=N()(g="".concat(c.segments[a].type," ")).call(g,this.roundtodec(c.segments[a].x2*r.scale,r.roundcoords)," ")).call(v,this.roundtodec(c.segments[a].y2*r.scale,r.roundcoords)," "),c.segments[a].hasOwnProperty("x3")&&(u+=N()(m="".concat(this.roundtodec(c.segments[a].x3*r.scale,r.roundcoords)," ")).call(m,this.roundtodec(c.segments[a].y3*r.scale,r.roundcoords)," "))}u+="Z "}for(var y=0;y<c.holechildren.length;y++){var b,_,w,x,S=s[c.holechildren[y]];if(-1===r.roundcoords)for(S.segments[S.segments.length-1].hasOwnProperty("x3")?u+=N()(b="M ".concat(S.segments[S.segments.length-1].x3*r.scale," ")).call(b,S.segments[S.segments.length-1].y3*r.scale," "):u+=N()(_="M ".concat(S.segments[S.segments.length-1].x2*r.scale," ")).call(_,S.segments[S.segments.length-1].y2*r.scale," "),a=S.segments.length-1;a>=0;a--){var C,M;u+="".concat(S.segments[a].type," "),S.segments[a].hasOwnProperty("x3")&&(u+=N()(M="".concat(S.segments[a].x2*r.scale," ")).call(M,S.segments[a].y2*r.scale," ")),u+=N()(C="".concat(S.segments[a].x1*r.scale," ")).call(C,S.segments[a].y1*r.scale," ")}else for(S.segments[S.segments.length-1].hasOwnProperty("x3")?u+=N()(w="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x3*r.scale)," ")).call(w,this.roundtodec(S.segments[S.segments.length-1].y3*r.scale)," "):u+=N()(x="M ".concat(this.roundtodec(S.segments[S.segments.length-1].x2*r.scale)," ")).call(x,this.roundtodec(S.segments[S.segments.length-1].y2*r.scale)," "),a=S.segments.length-1;a>=0;a--){var O,k;u+="".concat(S.segments[a].type," "),S.segments[a].hasOwnProperty("x3")&&(u+=N()(k="".concat(this.roundtodec(S.segments[a].x2*r.scale)," ")).call(k,this.roundtodec(S.segments[a].y2*r.scale)," ")),u+=N()(O="".concat(this.roundtodec(S.segments[a].x1*r.scale)," ")).call(O,this.roundtodec(S.segments[a].y1*r.scale)," ")}u+="Z "}if(u+='" />',r.lcpr||r.qcpr){for(a=0;a<c.segments.length;a++){var E,I,j,A,T,D,P,L,R,B,z,F,H,U,W,Y,V;c.segments[a].hasOwnProperty("x3")&&r.qcpr&&(u+=N()(E=N()(I=N()(j='<circle cx="'.concat(c.segments[a].x2*r.scale,'" cy="')).call(j,c.segments[a].y2*r.scale,'" r="')).call(I,r.qcpr,'" fill="cyan" stroke-width="')).call(E,.2*r.qcpr,'" stroke="black" />'),u+=N()(A=N()(T=N()(D='<circle cx="'.concat(c.segments[a].x3*r.scale,'" cy="')).call(D,c.segments[a].y3*r.scale,'" r="')).call(T,r.qcpr,'" fill="white" stroke-width="')).call(A,.2*r.qcpr,'" stroke="black" />'),u+=N()(P=N()(L=N()(R=N()(B='<line x1="'.concat(c.segments[a].x1*r.scale,'" y1="')).call(B,c.segments[a].y1*r.scale,'" x2="')).call(R,c.segments[a].x2*r.scale,'" y2="')).call(L,c.segments[a].y2*r.scale,'" stroke-width="')).call(P,.2*r.qcpr,'" stroke="cyan" />'),u+=N()(z=N()(F=N()(H=N()(U='<line x1="'.concat(c.segments[a].x2*r.scale,'" y1="')).call(U,c.segments[a].y2*r.scale,'" x2="')).call(H,c.segments[a].x3*r.scale,'" y2="')).call(F,c.segments[a].y3*r.scale,'" stroke-width="')).call(z,.2*r.qcpr,'" stroke="cyan" />')),!c.segments[a].hasOwnProperty("x3")&&r.lcpr&&(u+=N()(W=N()(Y=N()(V='<circle cx="'.concat(c.segments[a].x2*r.scale,'" cy="')).call(V,c.segments[a].y2*r.scale,'" r="')).call(Y,r.lcpr,'" fill="white" stroke-width="')).call(W,.2*r.lcpr,'" stroke="black" />'))}for(y=0;y<c.holechildren.length;y++)for(S=s[c.holechildren[y]],a=0;a<S.segments.length;a++){var G,X,K,Z,q,Q,J,$,tt,et,nt,rt,it,ot,at,st,ct;S.segments[a].hasOwnProperty("x3")&&r.qcpr&&(u+=N()(G=N()(X=N()(K='<circle cx="'.concat(S.segments[a].x2*r.scale,'" cy="')).call(K,S.segments[a].y2*r.scale,'" r="')).call(X,r.qcpr,'" fill="cyan" stroke-width="')).call(G,.2*r.qcpr,'" stroke="black" />'),u+=N()(Z=N()(q=N()(Q='<circle cx="'.concat(S.segments[a].x3*r.scale,'" cy="')).call(Q,S.segments[a].y3*r.scale,'" r="')).call(q,r.qcpr,'" fill="white" stroke-width="')).call(Z,.2*r.qcpr,'" stroke="black" />'),u+=N()(J=N()($=N()(tt=N()(et='<line x1="'.concat(S.segments[a].x1*r.scale,'" y1="')).call(et,S.segments[a].y1*r.scale,'" x2="')).call(tt,S.segments[a].x2*r.scale,'" y2="')).call($,S.segments[a].y2*r.scale,'" stroke-width="')).call(J,.2*r.qcpr,'" stroke="cyan" />'),u+=N()(nt=N()(rt=N()(it=N()(ot='<line x1="'.concat(S.segments[a].x2*r.scale,'" y1="')).call(ot,S.segments[a].y2*r.scale,'" x2="')).call(it,S.segments[a].x3*r.scale,'" y2="')).call(rt,S.segments[a].y3*r.scale,'" stroke-width="')).call(nt,.2*r.qcpr,'" stroke="cyan" />')),!S.segments[a].hasOwnProperty("x3")&&r.lcpr&&(u+=N()(at=N()(st=N()(ct='<circle cx="'.concat(S.segments[a].x2*r.scale,'" cy="')).call(ct,S.segments[a].y2*r.scale,'" r="')).call(st,r.lcpr,'" fill="white" stroke-width="')).call(at,.2*r.lcpr,'" stroke="black" />'))}}return u}},{key:"getsvgstring",value:function(t,e){var n,r,i;e=this.checkoptions(e);for(var o=t.width*e.scale,a=t.height*e.scale,s=N()(n="<svg ".concat(e.viewbox?N()(r='viewBox="0 0 '.concat(o," ")).call(r,a,'" '):N()(i='width="'.concat(o,'" height="')).call(i,a,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(n,this.versionnumber,'" >'),c=0;c<t.layers.length;c+=1)for(var u=0;u<t.layers[c].length;u+=1)t.layers[c][u].isholepath||(s+=this.svgpathstring(t,c,u,e));return s+="</svg>"}},{key:"compareNumbers",value:function(t,e){return t-e}},{key:"torgbastr",value:function(t){var e,n,r;return N()(e=N()(n=N()(r="rgba(".concat(t.r,",")).call(r,t.g,",")).call(n,t.b,",")).call(e,t.a,")")}},{key:"tosvgcolorstr",value:function(t,e){var n,r,i,o,a,s,c;return N()(n=N()(r=N()(i=N()(o=N()(a=N()(s=N()(c='fill="rgb('.concat(t.r,",")).call(c,t.g,",")).call(s,t.b,')" stroke="rgb(')).call(a,t.r,",")).call(o,t.g,",")).call(i,t.b,')" stroke-width="')).call(r,e.strokewidth,'" opacity="')).call(n,t.a/255,'" ')}},{key:"appendSVGString",value:function(t,e){var n;e?(n=document.getElementById(e))||((n=document.createElement("div")).id=e,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=t}},{key:"blur",value:function(t,e,n){var r,i,o,a,s,c,u,l,f,h={width:t.width,height:t.height,data:[]};if((e=Math.floor(e))<1)return t;e>5&&(e=5),(n=Math.abs(n))>1024&&(n=1024);var d=this.gks[e-1];for(i=0;i<t.height;i++)for(r=0;r<t.width;r++){for(s=0,c=0,u=0,l=0,f=0,o=-e;o<e+1;o++)r+o>0&&r+o<t.width&&(a=4*(i*t.width+r+o),s+=t.data[a]*d[o+e],c+=t.data[a+1]*d[o+e],u+=t.data[a+2]*d[o+e],l+=t.data[a+3]*d[o+e],f+=d[o+e]);a=4*(i*t.width+r),h.data[a]=Math.floor(s/f),h.data[a+1]=Math.floor(c/f),h.data[a+2]=Math.floor(u/f),h.data[a+3]=Math.floor(l/f)}var p=new Uint8ClampedArray(h.data);for(i=0;i<t.height;i++)for(r=0;r<t.width;r++){for(s=0,c=0,u=0,l=0,f=0,o=-e;o<e+1;o++)i+o>0&&i+o<t.height&&(s+=p[a=4*((i+o)*t.width+r)]*d[o+e],c+=p[a+1]*d[o+e],u+=p[a+2]*d[o+e],l+=p[a+3]*d[o+e],f+=d[o+e]);a=4*(i*t.width+r),h.data[a]=Math.floor(s/f),h.data[a+1]=Math.floor(c/f),h.data[a+2]=Math.floor(u/f),h.data[a+3]=Math.floor(l/f)}for(i=0;i<t.height;i++)for(r=0;r<t.width;r++)a=4*(i*t.width+r),Math.abs(h.data[a]-t.data[a])+Math.abs(h.data[a+1]-t.data[a+1])+Math.abs(h.data[a+2]-t.data[a+2])+Math.abs(h.data[a+3]-t.data[a+3])>n&&(h.data[a]=t.data[a],h.data[a+1]=t.data[a+1],h.data[a+2]=t.data[a+2],h.data[a+3]=t.data[a+3]);return h}},{key:"loadImage",value:function(t,e,n){var r=new Image;n&&n.corsenabled&&(r.crossOrigin="Anonymous"),r.src=t,r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),e(t)}}},{key:"getImgdata",value:function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)}},{key:"drawLayers",value:function(t,e,n,r){var i,o,a,s,c,u;for(c in n=n||1,r?(u=document.getElementById(r))||((u=document.createElement("div")).id=r,document.body.appendChild(u)):(u=document.createElement("div"),document.body.appendChild(u)),t)if(t.hasOwnProperty(c)){i=t[c][0].length,o=t[c].length;var l=document.createElement("canvas");l.width=i*n,l.height=o*n;var f=l.getContext("2d");for(s=0;s<o;s+=1)for(a=0;a<i;a+=1)f.fillStyle=this.torgbastr(e[t[c][s][a]%e.length]),f.fillRect(a*n,s*n,n,n);u.appendChild(l)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),t}(),Hi={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var t=this,e=function(){"crop"===t.ui.submenu&&(t.stopDrawingMode(),t.ui.changeMenu("crop"))},n=function(e){var n,r;return n=e,"rotate"===t.ui.submenu&&t.ui.rotate.setRangeBarAngle("setAngle",n),r=e,"filter"===t.ui.submenu&&zi()(t.ui).setFilterState(r),e},r=function(){zi()(t.ui)&&zi()(t.ui).initFilterCheckBoxState()};return W()({initLoadImage:function(n,r){return t.loadImageFromURL(n,r).then((function(r){e(),t.ui.initializeImgUrl=n,t.ui.resizeEditor({imageSize:r}),t.clearUndoStack(),t._invoker.fire(ge,Ie)}))},undo:function(){t.isEmptyUndoStack()||(e(),t.deactivateAll(),t.undo().then(n))},redo:function(){t.isEmptyRedoStack()||(e(),t.deactivateAll(),t.redo().then(n))},reset:function(){e(),t.loadImageFromURL(t.ui.initializeImgUrl,"resetImage").then((function(n){e(),r(),t.ui.resizeEditor({imageSize:n}),t.clearUndoStack(),t._initHistory()}))},delete:function(){t.ui.changeHelpButtonEnabled("delete",!1),e(),t.removeActiveObject(),t.activeObjectId=null},deleteAll:function(){e(),t.clearObjects(),t.ui.changeHelpButtonEnabled("delete",!1),t.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){Yn()||alert("This browser does not support file-api"),t.ui.initializeImgUrl=F().createObjectURL(n),t.loadImageFromFile(n).then((function(n){e(),r(),t.clearUndoStack(),t.ui.activeMenuEvent(),t.ui.resizeEditor({imageSize:n}),t._clearHistory(),t._invoker.fire(ge,Ie)})).catch((function(t){return B().reject(t)}))},download:function(){var e,n,r=t.toDataURL(),i=t.getImageName();Yn()&&window.saveAs?(n=(e=function(t){var e,n,r,i="";e=t.replace(/data:(image\/.+);base64,/,(function(t,e){return i=e,""}));var o=(e=atob(e)).length;for(n=new Uint8Array(o),r=0;r<o;r+=1)n[r]=e.charCodeAt(r);return new Blob([n],{type:i})}(r)).type.split("/")[1],i.split(".").pop()!==n&&(i+=".".concat(n)),saveAs(e,i)):window.open().document.body.innerHTML="<img src='".concat(r,"'>")},history:function(e){t.ui.toggleHistoryMenu(e)},zoomIn:function(){t.ui.toggleZoomButtonStatus("zoomIn"),t.deactivateAll(),function(){var e=t._graphics.getZoomMode();t.stopDrawingMode(),e!==Ze?(t.startDrawingMode(Ue.ZOOM),t._graphics.startZoomInMode()):t._graphics.endZoomInMode()}()},zoomOut:function(){t._graphics.zoomOut()},hand:function(){t.ui.offZoomInButtonStatus(),t.ui.toggleZoomButtonStatus("hand"),t.deactivateAll(),function(){var e=t._graphics.getZoomMode();t.stopDrawingMode(),e!==qe?(t.startDrawingMode(Ue.ZOOM),t._graphics.startHandMode()):t._graphics.endHandMode()}()}},this._commonAction())},_iconAction:function(){var t=this;return W()({changeColor:function(e){t.activeObjectId&&t.changeIconColor(t.activeObjectId,e)},addIcon:function(e,n){t.startDrawingMode("ICON"),t.setDrawingIcon(e,n)},cancelAddIcon:function(){t.ui.icon.clearIconType(),t.changeSelectableAll(!0),t.changeCursor("default"),t.stopDrawingMode()},registerDefaultIcons:function(e,n){var r={};r[e]=n,t.registerIcons(r)},registerCustomIcon:function(e,n){(new Fi).imageToSVG(e,(function(e){var r=et(e.match(/path[^>]*d="([^"]*)"/),2)[1],i={};i[n.name]=r,t.registerIcons(i),t.addIcon(n.name,{left:100,top:100})}),Fi.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var t=this;return W()({setDrawMode:function(e,n){t.stopDrawingMode(),"free"===e?t.startDrawingMode("FREE_DRAWING",n):t.startDrawingMode("LINE_DRAWING",n)},setColor:function(e){t.setBrush({color:e})}},this._commonAction())},_maskAction:function(){var t=this;return W()({loadImageFromURL:function(e,n){return t.loadImageFromURL(t.toDataURL(),"FilterImage").then((function(){t.addImageObject(e).then((function(){F().revokeObjectURL(n)})),t._invoker.fire(ge,je)}))},applyFilter:function(){t.applyFilter("mask",{maskObjId:t.activeObjectId})}},this._commonAction())},_textAction:function(){var t=this;return W()({changeTextStyle:function(e,n){t.activeObjectId&&t.changeTextStyle(t.activeObjectId,e,n)}},this._commonAction())},_rotateAction:function(){var t=this;return W()({rotate:function(e,n){t.rotate(e,n),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("rotate",e)},setAngle:function(e,n){t.setAngle(e,n),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("setAngle",e)}},this._commonAction())},_shapeAction:function(){var t=this;return W()({changeShape:function(e,n){t.activeObjectId&&t.changeShape(t.activeObjectId,e,n)},setDrawingShape:function(e){t.setDrawingShape(e)}},this._commonAction())},_cropAction:function(){var t=this;return W()({crop:function(){var e=t.getCropzoneRect();e&&!function(t){var e=t.left,n=t.top,r=t.width,i=t.height;return e===kn&&n===En&&r===In&&i===jn}(e)&&t.crop(e).then((function(){t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("crop"),t._invoker.fire(ge,Te)})).catch((function(t){return B().reject(t)}))},cancel:function(){t.stopDrawingMode(),t.ui.changeMenu("crop")},preset:function(e){switch(e){case"preset-square":t.setCropzoneRect(1);break;case"preset-3-2":t.setCropzoneRect(1.5);break;case"preset-4-3":t.setCropzoneRect(4/3);break;case"preset-5-4":t.setCropzoneRect(5/4);break;case"preset-7-5":t.setCropzoneRect(1.4);break;case"preset-16-9":t.setCropzoneRect(16/9);break;default:t.setCropzoneRect(),t.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var t=this;return W()({getCurrentDimensions:function(){return t._graphics.getCurrentDimensions()},preview:function(e,n,r){var i=t._graphics.getCurrentDimensions(),o=function(){return i.width/i.height},a={};switch(e){case"width":a.width=n,a.height=r?n/o():i.height;break;case"height":a.height=n,a.width=r?n*o():i.width;break;default:a=i}t._graphics.resize(a).then((function(){t.ui.resizeEditor()})),r&&(t.ui.resize.setWidthValue(a.width),t.ui.resize.setHeightValue(a.height))},resize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=t._graphics.getCurrentDimensions()),t.resize(e).then((function(){t._graphics.setOriginalDimensions(e),t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize")})).catch((function(t){return B().reject(t)}))},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t._graphics.getOriginalDimensions();t.ui.resize.setWidthValue(n.width,!0),t.ui.resize.setHeightValue(n.height,!0),t._graphics.resize(n).then((function(){e||(t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize"))}))}},this._commonAction())},_flipAction:function(){var t=this;return W()({flip:function(e){return t[e]()}},this._commonAction())},_filterAction:function(){var t=this;return W()({applyFilter:function(e,n,r,i){e?t.applyFilter(n,r,i):t.hasFilter(n)&&t.removeFilter(n)}},this._commonAction())},setReAction:function(){var t=this;this.on({undoStackChanged:function(e){e?(t.ui.changeHelpButtonEnabled("undo",!0),t.ui.changeHelpButtonEnabled("reset",!0)):(t.ui.changeHelpButtonEnabled("undo",!1),t.ui.changeHelpButtonEnabled("reset",!1)),t.ui.resizeEditor()},redoStackChanged:function(e){e?t.ui.changeHelpButtonEnabled("redo",!0):t.ui.changeHelpButtonEnabled("redo",!1),t.ui.resizeEditor()},objectActivated:function(e){var n,i;t.activeObjectId=e.id,"cropzone"===e.type?t.ui.crop.changeApplyButtonStatus(!0):r()(n=["rect","circle","triangle"]).call(n,e.type)>-1?(t.stopDrawingMode(),"shape"!==t.ui.submenu&&t.ui.changeMenu("shape",!1,!1),t.ui.shape.setShapeStatus({strokeColor:e.stroke,strokeWidth:e.strokeWidth,fillColor:ct()(e)}),t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height))):"path"===e.type||"line"===e.type?"draw"!==t.ui.submenu&&(t.ui.changeMenu("draw",!1,!1),t.ui.draw.changeStandbyMode()):r()(i=["i-text","text"]).call(i,e.type)>-1?("text"!==t.ui.submenu&&t.ui.changeMenu("text",!1,!1),t.ui.text.setTextStyleStateOnAction(e)):"icon"===e.type&&(t.stopDrawingMode(),"icon"!==t.ui.submenu&&t.ui.changeMenu("icon",!1,!1),t.ui.icon.setIconPickerColor(ct()(e)))},addText:function(e){var n=t.ui.text,r=n.textColor,i=n.fontSize,o=n.fontStyle,a=n.fontWeight,s=n.underline;t.addText("Double Click",{position:e.originPosition,styles:{fill:r,fontSize:i,fontFamily:"Noto Sans",fontStyle:o,fontWeight:a,underline:s}}).then((function(){t.changeCursor("default")}))},addObjectAfter:function(e){var n;"icon"===e.type?t.ui.icon.changeStandbyMode():r()(n=["rect","circle","triangle"]).call(n,e.type)>-1&&(t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height)),t.ui.shape.changeStandbyMode())},objectScaled:function(e){var n,i;if(r()(n=["i-text","text"]).call(n,e.type)>-1)t.ui.text.fontSize=Un(e.fontSize);else if(r()(i=["rect","circle","triangle"]).call(i,e.type)>=0){var o=e.width,a=e.height,s=t.ui.shape.getStrokeValue();o<s&&t.ui.shape.setStrokeValue(o),a<s&&t.ui.shape.setStrokeValue(a)}},selectionCleared:function(){t.activeObjectId=null,"text"===t.ui.submenu?t.changeCursor("text"):qn(["draw","crop","resize"],t.ui.submenu)||t.stopDrawingMode()}})},_historyAction:function(){var t=this;return{undo:function(e){return t.undo(e)},redo:function(e){return t.redo(e)}}},_commonAction:function(){var t,e,n,r,i=this,o=Ue.TEXT,a=Ue.CROPPER,s=Ue.SHAPE,c=Ue.ZOOM,u=Ue.RESIZE;return{modeChange:function(t){switch(t){case We:i._changeActivateMode(o);break;case Ye:i.startDrawingMode(a);break;case Ge:i._changeActivateMode(s),i.setDrawingShape(i.ui.shape.type,i.ui.shape.options);break;case Xe:i.startDrawingMode(c);break;case Ve:i.startDrawingMode(u)}},deactivateAll:P()(t=this.deactivateAll).call(t,this),changeSelectableAll:P()(e=this.changeSelectableAll).call(e,this),discardSelection:P()(n=this.discardSelection).call(n,this),stopDrawingMode:P()(r=this.stopDrawingMode).call(r,this)}},mixin:function(t){W()(t.prototype,this)}},Ui=o(602),Wi=o.n(Ui),Yi=o(5573),Vi=o.n(Yi),Gi=function(){function t(e,n){j(this,t),this.name=e,this.graphics=n}return T(t,[{key:"fire",value:function(){for(var t=this.graphics,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.graphics.fire.apply(t,n)}},{key:"setCanvasImage",value:function(t,e){this.graphics.setCanvasImage(t,e)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(t,e){this.graphics.setImageProperties(t,e)}},{key:"setCanvasCssDimension",value:function(t){this.graphics.setCanvasCssDimension(t)}},{key:"setCanvasBackstoreDimension",value:function(t){this.graphics.setCanvasBackstoreDimension(t)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),t}();function Xi(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Ki={padding:0,crossOrigin:"Anonymous"},Zi=function(t){kr(n,t);var e=Xi(n);function n(t){return j(this,n),e.call(this,It.IMAGE_LOADER,t)}return T(n,[{key:"load",value:function(t,e){var n,r=this;if(t||e)n=this._setBackgroundImage(e).then((function(e){return r.setCanvasImage(t,e),r.adjustCanvasDimension(),e}));else{var i=this.getCanvas();i.backgroundImage=null,i.renderAll(),n=new(B())((function(t){r.setCanvasImage("",null),t()}))}return n}},{key:"_setBackgroundImage",value:function(t){var e=this;return t?new(B())((function(n,r){var i=e.getCanvas();i.setBackgroundImage(t,(function(){var t=i.backgroundImage;t&&t.getElement()?n(t):r(vn)}),Ki)})):B().reject(pn)}}]),n}(Gi),qi=["tl","tr","mt","ml","mr","mb","bl","br"],Qi=function(){};function Ji(t,e){return t>e?"width":"height"}var $i=H.fabric.util.createClass(H.fabric.Rect,{initialize:function(t,e,n){(e=W()(e,n)).type="cropzone",this.callSuper("initialize",e),this._addEventHandler(),this.canvas=t,this.options=e},canvasEventDelegation:function(t){var e,n="unregistered";return this.canvasEventTrigger[t]!==Qi?n="registered":r()(e=[$t,te]).call(e,t)<0&&(n="none"),n},canvasEventRegister:function(t,e){this.canvasEventTrigger[t]=e},_addEventHandler:function(){var t,e,n,r,i;this.canvasEventTrigger=(I(t={},$t,Qi),I(t,te,Qi),t),this.on({moving:P()(e=this._onMoving).call(e,this),scaling:P()(n=this._onScaling).call(n,this)}),H.fabric.util.addListener(document,"keydown",P()(r=this._onKeyDown).call(r,this)),H.fabric.util.addListener(document,"keyup",P()(i=this._onKeyUp).call(i,this))},_renderCropzone:function(t){var e=this.flipX?-1:1,n=this.flipY?-1:1,r=e/this.scaleX,i=n/this.scaleY;t.scale(r,i),this._fillOuterRect(t,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(t),this._strokeBorder(t,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(t,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(t,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),t.scale(1/r,1/i)},_render:function(t){this.callSuper("_render",t),this._renderCropzone(t)},_fillOuterRect:function(t,e){var n=this._getCoordinates(),r=n.x,i=n.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(r[0]-1,i[0]-1),t.lineTo(r[3]+1,i[0]-1),t.lineTo(r[3]+1,i[3]+1),t.lineTo(r[0]-1,i[3]+1),t.lineTo(r[0]-1,i[0]-1),t.closePath(),t.moveTo(r[1],i[1]),t.lineTo(r[1],i[2]),t.lineTo(r[2],i[2]),t.lineTo(r[2],i[1]),t.lineTo(r[1],i[1]),t.closePath(),ct()(t).call(t),t.restore()},_fillInnerRect:function(t){var e=this._getCoordinates(),n=e.x,r=e.y,i=this._caculateInnerPosition(n,(n[2]-n[1])/3),o=this._caculateInnerPosition(r,(r[2]-r[1])/3);t.save(),t.strokeStyle="rgba(255, 255, 255, 0.7)",t.lineWidth=this.options.lineWidth,t.beginPath(),t.moveTo(i[0],o[1]),t.lineTo(i[3],o[1]),t.moveTo(i[0],o[2]),t.lineTo(i[3],o[2]),t.moveTo(i[1],o[0]),t.lineTo(i[1],o[3]),t.moveTo(i[2],o[0]),t.lineTo(i[2],o[3]),t.stroke(),t.closePath(),t.restore()},_caculateInnerPosition:function(t,e){var n=[];return n[0]=t[1],n[1]=t[1]+e,n[2]=t[1]+2*e,n[3]=t[2],n},_getCoordinates:function(){var t,e,n=this.canvas,r=this.width,i=this.height,o=this.left,a=this.top,s=r/2,c=i/2,u=n.getHeight(),l=n.getWidth();return{x:yr()(t=[-(s+o),-s,s,s+(l-o-r)]).call(t,Math.ceil),y:yr()(e=[-(c+a),-c,c,c+(u-a-i)]).call(e,Math.ceil)}},_strokeBorder:function(t,e,n){var r=n.lineDashWidth,i=n.lineDashOffset,o=n.lineWidth,a=this.width/2,s=this.height/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([r,r]),i&&(t.lineDashOffset=i),o&&(t.lineWidth=o),t.beginPath(),t.moveTo(-a,-s),t.lineTo(a,-s),t.lineTo(a,s),t.lineTo(-a,s),t.lineTo(-a,-s),t.stroke(),t.restore()},_onMoving:function(){var t=this.height,e=this.width,n=this.left,r=this.top,i=this.canvas.getWidth()-e,o=this.canvas.getHeight()-t;this.left=zn(n,0,i),this.top=zn(r,0,o),this.canvasEventTrigger[$t](this)},_onScaling:function(t){var e=t.transform.corner,n=this.canvas.getPointer(t.e),r=this._calcScalingSizeFromPointer(n,e);this.scale(1).set(r),this.canvasEventTrigger[te](this)},_calcScalingSizeFromPointer:function(t,e){return function(t){return r()(qi).call(qi,t)>=0}(e)&&this._resizeCropZone(t,e)},adjustRatioCropzoneSize:function(t){var e=t.width,n=t.height,r=t.leftMaker,i=t.topMaker,o=t.maxWidth,a=t.maxHeight,s=t.scaleTo;if(e=o?zn(e,1,o):e,n=a?zn(n,1,a):n,!this.presetRatio)return this._withShiftKey&&(e>n?n=e:n>e&&(e=n)),{width:e,height:n,left:r(e),top:i(n)};"width"===s?n=e/this.presetRatio:e=n*this.presetRatio;var c=Math.min(o/e,a/n);if(c<=1){var u,l=et(yr()(u=[e,n]).call(u,(function(t){return t*c})),2);e=l[0],n=l[1]}return{width:e,height:n,left:r(e),top:i(n)}},_getCropzoneRectInfo:function(){var t=this.canvas,e=t.width,n=t.height,r=this.getBoundingRect(!1,!0),i=r.top,o=r.left,a=r.width,s=r.height;return{rectTop:i,rectLeft:o,rectWidth:a,rectHeight:s,rectRight:o+a,rectBottom:i+s,canvasWidth:e,canvasHeight:n}},_resizeCropZone:function(t,e){var n=t.x,r=t.y,i=this._getCropzoneRectInfo(),o=i.rectWidth,a=i.rectHeight,s=i.rectTop,c=i.rectLeft,u=i.rectBottom,l=i.rectRight,f=i.canvasWidth,h=i.canvasHeight,d={tl:{width:l-n,height:u-r,leftMaker:function(t){return l-t},topMaker:function(t){return u-t},maxWidth:l,maxHeight:u,scaleTo:Ji(c-n,s-r)},tr:{width:n-c,height:u-r,leftMaker:function(){return c},topMaker:function(t){return u-t},maxWidth:f-c,maxHeight:u,scaleTo:Ji(n-l,s-r)},mt:{width:o,height:u-r,leftMaker:function(){return c},topMaker:function(t){return u-t},maxWidth:f-c,maxHeight:u,scaleTo:"height"},ml:{width:l-n,height:a,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:"width"},mr:{width:n-c,height:a,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:"width"},mb:{width:o,height:r-s,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:"height"},bl:{width:l-n,height:r-s,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:Ji(c-n,r-u)},br:{width:n-c,height:r-s,leftMaker:function(){return c},topMaker:function(){return s},maxWidth:f-c,maxHeight:h-s,scaleTo:Ji(n-l,r-u)}};return this.adjustRatioCropzoneSize(d[e])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(t){t.keyCode===en&&(this._withShiftKey=!0)},_onKeyUp:function(t){t.keyCode===en&&(this._withShiftKey=!1)}});function to(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var eo={presetRatio:null,top:-10,left:-10,height:1,width:1},no=function(t){kr(n,t);var e=to(n);function n(t){var r,i,o,a,s,c;return j(this,n),(c=e.call(this,It.CROPPER,t))._cropzone=null,c._startX=null,c._startY=null,c._withShiftKey=!1,c._listeners={keydown:P()(r=c._onKeyDown).call(r,Er(c)),keyup:P()(i=c._onKeyUp).call(i,Er(c)),mousedown:P()(o=c._onFabricMouseDown).call(o,Er(c)),mousemove:P()(a=c._onFabricMouseMove).call(a,Er(c)),mouseup:P()(s=c._onFabricMouseUp).call(s,Er(c))},c}return T(n,[{key:"start",value:function(){if(!this._cropzone){var t=this.getCanvas();t.forEachObject((function(t){t.evented=!1})),this._cropzone=new $i(t,W()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},jt,this.graphics.cropSelectionStyle)),t.discardActiveObject(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.selection=!1,t.defaultCursor="crosshair",H.fabric.util.addListener(document,"keydown",this._listeners.keydown),H.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var t=this.getCanvas(),e=this._cropzone;e&&(t.remove(e),t.selection=!0,t.defaultCursor="default",t.off("mouse:down",this._listeners.mousedown),t.forEachObject((function(t){t.evented=!0})),this._cropzone=null,H.fabric.util.removeListener(document,"keydown",this._listeners.keydown),H.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(t){this._cropzone&&this._cropzone.set({visible:t})}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas();if(!t.target){e.selection=!1;var n=e.getPointer(t.e);this._startX=n.x,this._startY=n.y,e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e),r=n.x,i=n.y,o=this._cropzone;Math.abs(r-this._startX)+Math.abs(i-this._startY)>10&&(e.remove(o),o.set(this._calcRectDimensionFromPoint(r,i,o.presetRatio)),e.add(o),e.setActiveObject(o))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getCanvas(),i=r.getWidth(),o=r.getHeight(),a=this._startX,s=this._startY,c=zn(t,0,a),u=zn(e,0,s),l=zn(t,a,i)-c,f=zn(e,s,o)-u;return this._withShiftKey&&!n?(l>f?f=l:f>l&&(l=f),a>=t&&(c=a-l),s>=e&&(u=s-f)):n&&(f=l/n,a>=t&&(c=zn(a-l,0,i)),s>=e&&(u=zn(s-f,0,o)),u+f>o&&(l=(f=o-u)*n,a>=t&&(c=zn(a-l,0,i)),s>=e&&(u=zn(s-f,0,o)))),{left:c,top:u,width:l,height:f}}},{key:"_onFabricMouseUp",value:function(){var t=this._cropzone,e=this._listeners,n=this.getCanvas();n.setActiveObject(t),n.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})}},{key:"getCroppedImageData",value:function(t){var e=this.getCanvas(),n=e.contains(this._cropzone);if(!t)return null;n&&e.remove(this._cropzone);var r={imageName:this.getImageName(),url:e.toDataURL(t)};return n&&e.add(this._cropzone),r}},{key:"getCropzoneRect",value:function(){var t=this._cropzone;return t.isValid()?{left:t.left,top:t.top,width:t.width,height:t.height}:null}},{key:"setCropzoneRect",value:function(t){var e=this.getCanvas(),n=this._cropzone;e.discardActiveObject(),e.selection=!1,e.remove(n),n.set(t?this._getPresetPropertiesForCropSize(t):eo),e.add(n),e.selection=!0,t&&e.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(t){var e,n,r=this.getCanvas(),i=r.getWidth(),o=r.getHeight(),a=i>=o?i:o,s=function(t,e){return t>e?e/t:1},c=a*t,u=a,l=s(c,i),f=et(yr()(e=[c,u]).call(e,(function(t){return t*l})),2);c=f[0];var h=s(u=f[1],o),d=et(yr()(n=[c,u]).call(n,(function(t){return Number((t*h).toFixed(2))})),2);return c=d[0],{presetRatio:t,top:(o-(u=d[1]))/2,left:(i-c)/2,width:c,height:u}}},{key:"_onKeyDown",value:function(t){t.keyCode===en&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(t){t.keyCode===en&&(this._withShiftKey=!1)}}]),n}(Gi);function ro(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var io=function(t){kr(n,t);var e=ro(n);function n(t){return j(this,n),e.call(this,It.FLIP,t)}return T(n,[{key:"getCurrentSetting",value:function(){var t=this.getCanvasImage();return{flipX:t.flipX,flipY:t.flipY}}},{key:"set",value:function(t){var e=this.getCurrentSetting(),n=e.flipX!==t.flipX,r=e.flipY!==t.flipY;return n||r?(W()(e,t),this.setImageProperties(e,!0),this._invertAngle(n,r),this._flipObjects(n,r),B().resolve({flipX:e.flipX,flipY:e.flipY,angle:this.getCanvasImage().angle})):B().reject(fn)}},{key:"_invertAngle",value:function(t,e){var n=this.getCanvasImage(),r=n.angle;t&&(r*=-1),e&&(r*=-1),n.rotate(gr()(r)).setCoords()}},{key:"_flipObjects",value:function(t,e){var n=this.getCanvas();t&&n.forEachObject((function(t){t.set({angle:gr()(-1*t.angle),flipX:!t.flipX,left:n.width-t.left}).setCoords()})),e&&n.forEachObject((function(t){t.set({angle:gr()(-1*t.angle),flipY:!t.flipY,top:n.height-t.top}).setCoords()})),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var t=this.getCurrentSetting();return this.set({flipX:!t.flipX,flipY:t.flipY})}},{key:"flipY",value:function(){var t=this.getCurrentSetting();return this.set({flipX:t.flipX,flipY:!t.flipY})}}]),n}(Gi);function oo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var ao=function(t){kr(n,t);var e=oo(n);function n(t){return j(this,n),e.call(this,It.ROTATION,t)}return T(n,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(t){var e=this.getCurrentAngle()%360;t%=360;var n=this.getCanvasImage(),r=n.getCenterPoint();n.set({angle:t}).setCoords(),this.adjustCanvasDimension();var i=n.getCenterPoint();return this._rotateForEachObject(r,i,t-e),B().resolve(t)}},{key:"_rotateForEachObject",value:function(t,e,n){var r=this.getCanvas(),i=t.x-e.x,o=t.y-e.y;r.forEachObject((function(e){var r=e.getCenterPoint(),a=H.fabric.util.degreesToRadians(n),s=H.fabric.util.rotatePoint(r,t,a);e.set({left:s.x-i,top:s.y-o,angle:(e.angle+n)%360}),e.setCoords()})),r.renderAll()}},{key:"rotate",value:function(t){var e=this.getCurrentAngle();return this.setAngle(e+t)}}]),n}(Gi);function so(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var co=function(t){kr(n,t);var e=so(n);function n(t){var r;return j(this,n),(r=e.call(this,It.FREE_DRAWING,t)).width=12,r.oColor=new H.fabric.Color("rgba(0, 0, 0, 0.5)"),r}return T(n,[{key:"start",value:function(t){this.getCanvas().isDrawingMode=!0,this.setBrush(t)}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this.width=t.width||this.width,t.color&&(this.oColor=new H.fabric.Color(t.color)),e.width=this.width,e.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),n}(Gi),uo=H.fabric.util.createClass(H.fabric.Line,{type:"line",initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",t,e),this.arrowType=e.arrowType},_render:function(t){var e=this.calcLinePoints(),n={fromX:e.x1,fromY:e.y1,toX:e.x2,toY:e.y2};this.ctx=t,t.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(t)},_renderBasicLinePath:function(t){var e=t.fromX,n=t.fromY,r=t.toX,i=t.toY;this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.lineTo(r,i)},_drawDecoratorPath:function(t){this._drawDecoratorPathType("head",t),this._drawDecoratorPathType("tail",t)},_drawDecoratorPathType:function(t,e){switch(this.arrowType[t]){case"triangle":this._drawTrianglePath(t,e);break;case"chevron":this._drawChevronPath(t,e)}},_drawTrianglePath:function(t,e){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(t,e,n),this.ctx.closePath()},_drawChevronPath:function(t,e,n){var r=this,i=e.fromX,o=e.fromY,a=e.toX,s=e.toY,c=this.ctx;n||(n=2.7*this.ctx.lineWidth);var u=et("head"===t?[i,o]:[a,s],2),l=u[0],f=u[1],h=et("head"===t?[a,s]:[i,o],2),d=h[0],p=h[1],v=180*Math.atan2(p-f,d-l)/Math.PI,g=function(t){return r.getRotatePosition(n,t,{x:l,y:f})};c.moveTo.apply(c,S(g(v+30))),c.lineTo(l,f),c.lineTo.apply(c,S(g(v-30)))},getRotatePosition:function(t,e,n){var r=e*Math.PI/180,i=n.x,o=n.y;return[t*Math.cos(r)+i,t*Math.sin(r)+o]}});function lo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var fo=function(t){kr(n,t);var e=lo(n);function n(t){var r,i,o,a;return j(this,n),(a=e.call(this,It.LINE,t))._width=12,a._oColor=new H.fabric.Color("rgba(0, 0, 0, 0.5)"),a._listeners={mousedown:P()(r=a._onFabricMouseDown).call(r,Er(a)),mousemove:P()(i=a._onFabricMouseMove).call(i,Er(a)),mouseup:P()(o=a._onFabricMouseUp).call(o,Er(a))},a}return T(n,[{key:"setHeadOption",value:function(t){var e=t.arrowType,n=void 0===e?{head:null,tail:null}:e;this._arrowType=n}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,this.setHeadOption(t),this.setBrush(t),e.forEachObject((function(t){t.set({evented:!1})})),e.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,t.color&&(this._oColor=new H.fabric.Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()}},{key:"end",value:function(){var t=this.getCanvas();t.defaultCursor="default",t.selection=!0,t.forEachObject((function(t){t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e),r=n.x,i=n.y,o=[r,i,r,i];this._line=new uo(o,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(un),e.add(this._line),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(ue,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),n=e.getPointer(t.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),e.renderAll()}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(ne,this._createLineEventObjectProperties()),this._line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var t=this.graphics.createObjectProperties(this._line),e=this._line,n=e.x1,r=e.x2,i=e.y1,o=e.y2;return W()({},t,{startPosition:{x:n,y:i},endPosition:{x:r,y:o}})}}]),n}(Gi);function ho(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var po={fill:"#000000",left:0,top:0},vo={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},go=function(t){kr(n,t);var e=ho(n);function n(t){var r,i,o,a,s,c;return j(this,n),(c=e.call(this,It.TEXT,t))._defaultStyles=po,c._isSelected=!1,c._selectedObj={},c._editingObj={},c._listeners={mousedown:P()(r=c._onFabricMouseDown).call(r,Er(c)),select:P()(i=c._onFabricSelect).call(i,Er(c)),selectClear:P()(o=c._onFabricSelectClear).call(o,Er(c)),scaling:P()(a=c._onFabricScaling).call(a,Er(c)),textChanged:P()(s=c._onFabricTextChanged).call(s,Er(c))},c._textarea=null,c._ratio=1,c._lastClickTime=(new Date).getTime(),c._editingObjInfos={},c.isPrevEditing=!1,c}return T(n,[{key:"start",value:function(){var t=this,e=this.getCanvas();e.selection=!1,e.defaultCursor="text",e.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),e.forEachObject((function(e){"i-text"===e.type&&t.adjustOriginPosition(e,"start")})),this.setCanvasRatio()}},{key:"end",value:function(){var t=this,e=this.getCanvas();e.selection=!0,e.defaultCursor="default",e.forEachObject((function(n){"i-text"===n.type&&(""===n.text?e.remove(n):t.adjustOriginPosition(n,"end"))})),e.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(t,e){var n="center",r="center";"start"===e&&(n="left",r="top");var i=t.getPointByOrigin(n,r),o=i.x,a=i.y;t.set({left:o,top:a,originX:n,originY:r}),t.setCoords()}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r){var i,o=n.getCanvas(),a=null,s=un,c=n._defaultStyles;n._setInitPos(e.position),e.styles&&(c=W()(c,e.styles)),bi()(e.autofocus)||(e.autofocus=!0),a=new H.fabric.IText(t,c),s=W()({},s,{originX:"left",originY:"top"}),a.set(s),a.on({mouseup:P()(i=n._onFabricMouseUp).call(i,n)}),o.add(a),e.autofocus&&(a.enterEditing(),a.selectAll()),o.getActiveObject()||o.setActiveObject(a),n.isPrevEditing=!0,r(n.graphics.createObjectProperties(a))}))}},{key:"change",value:function(t,e){var n=this;return new(B())((function(r){t.set("text",e),n.getCanvas().renderAll(),r()}))}},{key:"setStyle",value:function(t,e){var n=this;return new(B())((function(r){X()(e,(function(n,r){t[r]===n&&"fontSize"!==r&&(e[r]=vo[r]||"")}),n),"textDecoration"in e&&W()(e,n._getTextDecorationAdaptObject(e.textDecoration)),t.set(e),n.getCanvas().renderAll(),r()}))}},{key:"getText",value:function(t){return t.text}},{key:"setSelectedInfo",value:function(t,e){this._selectedObj=t,this._isSelected=e}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var t=this.getCanvasElement(),e=it()(t.style.maxWidth,10),n=t.width;this._ratio=n/e}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(t){return{underline:"underline"===t,linethrough:"line-through"===t,overline:"overline"===t}}},{key:"_setInitPos",value:function(t){t=t||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=t.x,this._defaultStyles.top=t.y}},{key:"_onInput",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,n=this._textarea.style;n.width="".concat(Math.ceil(e.width/t),"px"),n.height="".concat(Math.ceil(e.height/t),"px")}},{key:"_onKeyDown",value:function(){var t=this,e=this.getCanvasRatio(),n=this._editingObj,r=this._textarea.style;v()((function(){n.text(t._textarea.value),r.width="".concat(Math.ceil(n.width/e),"px"),r.height="".concat(Math.ceil(n.height/e),"px")}),0)}},{key:"_onBlur",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,n=this._editingObjInfos,r=this._textarea.value,i=e.width/t-n.width/t,o=e.height/t-n.height/t;if(1===t&&(i/=2,o/=2),this._textarea.style.display="none",e.set({left:n.left+i,top:n.top+o}),r.length){this.getCanvas().add(e);var a={id:Rn(e),type:e.type,text:r};this.fire(oe,a)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(t){var e=t.target;e.fontSize=e.fontSize*e.scaleY,e.scaleX=1,e.scaleY=1}},{key:"_onFabricTextChanged",value:function(t){this.fire(oe,t.target)}},{key:"_onFabricSelectClear",value:function(t){var e=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(t.target,!1),e&&""===e.text&&this.getCanvas().remove(e)}},{key:"_onFabricSelect",value:function(t){this.isPrevEditing=!0,this.setSelectedInfo(t.target,!0)}},{key:"_onFabricMouseDown",value:function(t){var e=t.target;e&&!e.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(t))}},{key:"_fireAddText",value:function(t){var e=t.target,n=t.e||{},r=this.getCanvas().getPointer(n);e||this.fire(ce,{originPosition:{x:r.x,y:r.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(t){var e=t.target,n=(new Date).getTime();this._isDoubleClick(n)&&!e.isEditing&&e.enterEditing(),e.isEditing&&this.fire(ie),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(t){return t-this._lastClickTime<500}}]),n}(Gi);function mo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var yo={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},bo=function(t){kr(n,t);var e=mo(n);function n(t){var r,i,o,a;return j(this,n),(a=e.call(this,It.ICON,t))._oColor="#000000",a._pathMap=yo,a._type=null,a._iconColor=null,a._handlers={mousedown:P()(r=a._onFabricMouseDown).call(r,Er(a)),mousemove:P()(i=a._onFabricMouseMove).call(i,Er(a)),mouseup:P()(o=a._onFabricMouseUp).call(o,Er(a))},a}return T(n,[{key:"setStates",value:function(t,e){this._type=t,this._iconColor=e}},{key:"start",value:function(){var t=this.getCanvas();t.selection=!1,t.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var t=this.getCanvas();t.selection=!0,t.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r,i){var o=n.getCanvas(),a=n._pathMap[t],s=un,c=a?n._createIcon(a):null;n._icon=c,c||i(hn),c.set(W()({type:"icon",fill:n._oColor},s,e,n.graphics.controlStyle)),o.add(c).setActiveObject(c),r(n.graphics.createObjectProperties(c))}))}},{key:"registerPaths",value:function(t){var e=this;X()(t,(function(t,n){e._pathMap[n]=t}),this)}},{key:"setColor",value:function(t,e){this._oColor=t,e&&"icon"===e.get("type")&&(e.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(t){return ct()(t)}},{key:"_createIcon",value:function(t){return new H.fabric.Path(t)}},{key:"_onFabricMouseDown",value:function(t){var e=this,n=this.getCanvas();this._startPoint=n.getPointer(t.e);var r=this._startPoint,i=r.x,o=r.y;this.add(this._type,{left:i,top:o,fill:this._iconColor}).then((function(){e.fire(ue,e.graphics.createObjectProperties(e._icon)),n.on("mouse:move",e._handlers.mousemove),n.on("mouse:up",e._handlers.mouseup)}))}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas();if(this._icon){var n=e.getPointer(t.e),r=(n.x-this._startPoint.x)/this._icon.width,i=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*r),scaleY:Math.abs(2*i)}),this._icon.setCoords(),e.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(ne,this.graphics.createObjectProperties(this._icon)),this._icon=null,t.off("mouse:down",this._handlers.mousedown),t.off("mouse:move",this._handlers.mousemove),t.off("mouse:up",this._handlers.mouseup)}}]),n}(Gi),_o=H.fabric.util.createClass(H.fabric.Image.filters.BlendImage,{applyTo:function(t){if(this.mask){var e=t.canvasEl,n=e.width,r=e.height,i=this._createCanvasOfMask(n,r),o=e.getContext("2d"),a=i.getContext("2d"),s=o.getImageData(0,0,n,r);this._drawMask(a,e,o),this._mapData(a,s,n,r),t.imageData=s}},_createCanvasOfMask:function(t,e){var n=H.fabric.util.createCanvasElement();return n.width=t,n.height=e,n},_drawMask:function(t){var e=this.mask,n=e.getElement(),r=e.angle,i=e.left,o=e.scaleX,a=e.scaleY,s=e.top;t.save(),t.translate(i,s),t.rotate(r*Math.PI/180),t.scale(o,a),t.drawImage(n,-n.width/2,-n.height/2),t.restore()},_mapData:function(t,e,n,r){for(var i=e.data,o=e.height,a=i,s=e.width*o*4,c=t.getImageData(0,0,n,r).data,u=0;u<s;u+=4)a[u+3]=c[u]}}),wo=H.fabric.util.createClass(H.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),xo=H.fabric.util.createClass(H.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),So=H.fabric.util.createClass(H.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(t){t||(t={}),this.color=t.color||"#FFFFFF",this.threshold=t.threshold||45,this.x=t.x||null,this.y=t.y||null},applyTo:function(t){var e,n,r=t.canvasEl,i=r.getContext("2d"),o=i.getImageData(0,0,r.width,r.height),a=o.data,s=this.threshold,c=H.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(c=this._getColor(o,this.x,this.y)),e=0,n=a.length;e<n;e+=4)this._isOutsideThreshold(a[e],c[0],s)||this._isOutsideThreshold(a[e+1],c[1],s)||this._isOutsideThreshold(a[e+2],c[2],s)||(a[e]=a[e+1]=a[e+2]=a[e+3]=0);i.putImageData(o,0,0)},_isOutsideThreshold:function(t,e,n){var r=t-e;return Math.abs(r)>n},_getColor:function(t,e,n){var r=[0,0,0,0],i=t.data,o=4*(t.width*n+e);return r[0]=i[o],r[1]=i[o+1],r[2]=i[o+2],r[3]=i[o+3],r}});function Co(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Mo=H.fabric.Image.filters;Mo.Mask=_o,Mo.Sharpen=wo,Mo.Emboss=xo,Mo.ColorFilter=So;var Oo=function(t){kr(n,t);var e=Co(n);function n(t){return j(this,n),e.call(this,It.FILTER,t)}return T(n,[{key:"add",value:function(t,e){var n=this;return new(B())((function(r,i){var o=n._getSourceImage(),a=n.getCanvas(),s=n._getFilter(o,t);s||(s=n._createFilter(o,t,e)),s||i(hn),n._changeFilterValues(s,e),n._apply(o,(function(){a.renderAll(),r({type:t,action:"add",options:e})}))}))}},{key:"remove",value:function(t){var e=this;return new(B())((function(n,r){var i=e._getSourceImage(),o=e.getCanvas(),a=e.getOptions(t);i.filters.length||r(bn),e._removeFilter(i,t),e._apply(i,(function(){o.renderAll(),n({type:t,action:"remove",options:a})}))}))}},{key:"hasFilter",value:function(t){return!!this._getFilter(this._getSourceImage(),t)}},{key:"getOptions",value:function(t){var e=this._getSourceImage(),n=this._getFilter(e,t);return n?W()({},n.options):null}},{key:"_changeFilterValues",value:function(t,e){X()(e,(function(e,n){V()(t[n])||(t[n]=e)})),X()(t.options,(function(n,r){V()(e[r])||(t.options[r]=e[r])}))}},{key:"_apply",value:function(t,e){t.filters.push(),t.applyFilters()&&e()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(t,e,n){var r,i=this._getFabricFilterType(e),o=H.fabric.Image.filters[i];return o&&((r=new o(n)).options=n,t.filters.push(r)),r}},{key:"_getFilter",value:function(t,e){var n=null;if(t){var r,i,o=this._getFabricFilterType(e),a=t.filters.length;for(i=0;i<a;i+=1)if((r=t.filters[i]).type===o){n=r;break}}return n}},{key:"_removeFilter",value:function(t,e){var n,r=this._getFabricFilterType(e);t.filters=zi()(n=t.filters).call(n,(function(t){return t.type!==r}))}},{key:"_getFabricFilterType",value:function(t){return t.charAt(0).toUpperCase()+f()(t).call(t,1)}}]),n}(Gi),ko=o(1801),Eo=o.n(ko),Io={pixelate:"blocksize",blur:"blur"},jo={x:"width",y:"height"},Ao=function(t){var e,n={};return at()(e=$()(t)).call(e,(function(e){n[t[e]]=e})),n}(Io),To=null;function Do(t){return et(Zn(t,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function Po(t){var e=t.angle,n=t.flipX,r=t.flipY,i=Do(t),o=function(t){var e=et(Bo(t),4),n=e[0],r=n.x,i=n.y,o=e[1],a=o.x,s=o.y,c=e[2],u=c.x,l=c.y,f=e[3],h=f.x,d=f.y,p=Math.min(r,a,u,h),v=Math.min(i,s,l,d),g=Math.max(r,a,u,h),m=Math.max(i,s,l,d);return{left:p,top:v,right:g,bottom:m,width:g-p,height:m-v}}(t),a=o.right,s=o.bottom,c=o.width,u=o.height,l=(c-t.width)/2,f=(u-t.height)/2,h=t.left-t.width/2-l,d=t.top-t.height/2-f,p=c/2-l,v=u/2-f,g=Math.max(c,u)+Math.max(l,f),m=function(t){var e=t.shapeObj,n=t.left,r=t.top,i=t.width,o=t.height,a=t.cropX,s=t.cropY,c=t.flipX,u=t.flipY,l=t.right,f=t.bottom,h=function(t,n,r,i){return function(t){var e=t.type,n=t.shapeObj,r=t.outDistance,i=t.left,o=t.top,a=t.flipX,s=t.flipY,c=Bo(n),u=function(t,e,n){var r=0,i=0;X()(e,(function(e,n){e[t]<r&&(r=e[t],i=n)}));var o=et(n[i],2),a=o[0],s=o[1];return{startPointIndex:i,endPointIndex1:a,endPointIndex2:s}}(e,c,[[1,2],[0,3],[0,3],[1,2]]),l=function(t,e,n){var r,i=n.startPointIndex,o=n.endPointIndex1,a=n.endPointIndex2,s="x"===t?180:270;return yr()(r=[o,a]).call(r,(function(t){var n=e[i],r=e[t],o=n.y-r.y,a=n.x-r.x;return 180*Math.atan2(o,a)/Math.PI-s}))}(e,c,u),f=u.startPointIndex,h=function(t){var e=t.outDistance,n=t.startPointIndex,r=t.flipX,i=t.flipY,o=t.reatAngles,a=e*Math.cos(o[0]*Math.PI/180),s=e*Math.cos(o[1]*Math.PI/180),c=2===n||3===n,u={top:c?a:s,left:c?s:a};return function(t,e,n){return(!e&&n||!e&&!n)&&0===t||(e&&n||e&&!n)&&1===t||(!e&&!n||!e&&n)&&2===t||(e&&!n||e&&n)&&3===t}(n,r,i)&&(u.left=-1*u.left),function(t,e,n){return(e&&!n||!e&&!n)&&0===t||(!e&&!n||e&&!n)&&1===t||(e&&n||!e&&n)&&2===t||(!e&&n||e&&n)&&3===t}(n,r,i)&&(u.top=-1*u.top),u}({outDistance:r,startPointIndex:f,flipX:a,flipY:s,reatAngles:l});return[i+h.left,o+h.top]}({type:t,outDistance:n,shapeObj:e,flipX:c,flipY:u,left:r,top:i})},d=i,p=o,v=et(function(t,e){var n=e.left,r=e.top,i=e.width,o=e.height,a=e.cropX,s=e.cropY,c={width:i,height:o};return X()(["x","y"],(function(e){var i="x"===e?a:s,o=c[jo[e]],u=To[jo[e]];if(o>u){var l=(o-u)/2;c[jo[e]]=u;var f=et(t(e,l,n,r),2);n=f[0],r=f[1]}if(i<0){var h=et(t(e,i,n,r),2);n=h[0],r=h[1]}})),[n,r,c.width,c.height]}(h,{left:n,top:r,width:i,height:o,cropX:a,cropY:s}),4);n=v[0],r=v[1],i=v[2],o=v[3];var g=et(function(t,e){var n=e.left,r=e.top,i=e.insideCanvasRealImageWidth,o=e.insideCanvasRealImageHeight,a=e.right,s=e.bottom,c=e.cropX,u=e.cropY,l=e.originalWidth,f=e.originalHeight,h=i,d=o,p=To,v=p.width,g=p.height;a>v&&c>0&&(h=l-Math.abs(a-v)),s>g&&u>0&&(d=f-Math.abs(s-g));var m={x:(i-h)/2,y:(o-d)/2};return X()(["x","y"],(function(e){var i=m[e];if(i>0){var o=et(t(e,i,n,r),2);n=o[0],r=o[1]}})),[n,r,h,d]}(h,{left:n,top:r,insideCanvasRealImageWidth:i,insideCanvasRealImageHeight:o,right:l,bottom:f,cropX:a,cropY:s,originalWidth:d,originalHeight:p}),4);return n=g[0],r=g[1],i=g[2],o=g[3],[n,r,i,o]}({shapeObj:t,left:p,top:v,width:c,height:u,cropX:h,cropY:d,flipX:n,flipY:r,right:a,bottom:s}),y=et(m,4);p=y[0],v=y[1],c=y[2],u=y[3],i.set({angle:n===r?-e:e,left:p,top:v,width:c,height:u,cropX:h,cropY:d,flipX:n,flipY:r}),Kn(i,{fillImageMaxSize:g})}function Lo(t){var e;return yr()(e=t.filters).call(e,(function(t){var e=et($()(t),1)[0];return I({},Ao[e],t[e])}))}function No(t,e,n){var r=zo(Ro(t),t.angle,e);n.add(r);var i={fill:new H.fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return Kn(i,{patternSourceCanvas:n}),i}function Ro(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return To&&!e||(To=t.toCanvasElement()),To}function Bo(t){return[t.getPointByOrigin("left","top"),t.getPointByOrigin("right","top"),t.getPointByOrigin("left","bottom"),t.getPointByOrigin("right","bottom")]}function zo(t,e,n){var r,i=new H.fabric.Image(t);return X()(W().apply(void 0,N()(r=[{}]).call(r,S(n))),(function(t,e){var n,r=(n=e).charAt(0).toUpperCase()+f()(n).call(n,1),o=new H.fabric.Image.filters[r](I({},Io[e],t));i.filters.push(o)})),i.applyFilters(),Kn(i,{originalAngle:e,fillImageMaxSize:Math.max(i.width,i.height)}),Eo().adjustOriginToCenter(i),i}function Fo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Ho=W()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function Uo(t,e,n){var r=ct()(t),i=Qn(ct()(t)),o=r;r.color&&(o=r.color);var a=null;if("filter"===i){var s=n();a=No(e,zi()(r),s)}else a={fill:o};return W()({},t,a)}var Wo=function(t){kr(n,t);var e=Fo(n);function n(t){var r,i,o,a,s,c;return j(this,n),(c=e.call(this,It.SHAPE,t))._shapeObj=null,c._type="rect",c._options=W()({},Ho),c._isSelected=!1,c._startPoint={},c._withShiftKey=!1,c._handlers={mousedown:P()(r=c._onFabricMouseDown).call(r,Er(c)),mousemove:P()(i=c._onFabricMouseMove).call(i,Er(c)),mouseup:P()(o=c._onFabricMouseUp).call(o,Er(c)),keydown:P()(a=c._onKeyDown).call(a,Er(c)),keyup:P()(s=c._onKeyUp).call(s,Er(c))},c}return T(n,[{key:"start",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="crosshair",t.selection=!1,t.uniformScaling=!0,t.on({"mouse:down":this._handlers.mousedown}),H.fabric.util.addListener(document,"keydown",this._handlers.keydown),H.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="default",t.selection=!0,t.uniformScaling=!1,t.off({"mouse:down":this._handlers.mousedown}),H.fabric.util.removeListener(document,"keydown",this._handlers.keydown),H.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(t,e){this._type=t,e&&(this._options=W()(this._options,e))}},{key:"add",value:function(t,e){var n=this;return new(B())((function(r){var i=n.getCanvas(),o=n._extendOptions(e),a=n._createInstance(t,o),s=n.graphics.createObjectProperties(a);n._bindEventOnShape(a),i.add(a).setActiveObject(a),n._resetPositionFillFilter(a),r(s)}))}},{key:"change",value:function(t,e){var n=this;return new(B())((function(r,i){$n(t)||i(_n);var o="filter"===Qn(ct()(e)),a=n.graphics,s=a.canvasImage,c=a.createStaticCanvas;t.set(o?Uo(e,s,c):e),o&&n._resetPositionFillFilter(t),n.getCanvas().renderAll(),r()}))}},{key:"makeFillPropertyForUserEvent",value:function(t){var e=Jn(t),n={};if(e===yt){var r=Lo(Do(t));n.type=e,n.filter=r}else n.type=bt,n.color=ct()(t)||"transparent";return n}},{key:"processForCopiedObject",value:function(t,e){if(this._bindEventOnShape(t),"filter"===Jn(t)){var n=Lo(Do(e)),r=this.graphics.createStaticCanvas();t.set(No(this.graphics.canvasImage,n,r)),this._resetPositionFillFilter(t)}}},{key:"_createInstance",value:function(t,e){var n;switch(t){case"rect":n=new H.fabric.Rect(e);break;case"circle":n=new H.fabric.Ellipse(W()({type:"circle"},e));break;case"triangle":n=new H.fabric.Triangle(e);break;default:n={}}return n}},{key:"_extendOptions",value:function(t){var e=un,n=this.graphics,r=n.canvasImage,i=n.createStaticCanvas;return Uo(t=W()({},Ho,this._options,e,t),r,i)}},{key:"_bindEventOnShape",value:function(t){var e=this,n=this.getCanvas();t.on({added:function(){e._shapeObj=this,Eo().setOrigins(e._shapeObj)},selected:function(){e._isSelected=!0,e._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",Eo().setOrigins(e._shapeObj)},deselected:function(){e._isSelected=!1,e._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var t=e._shapeObj;Eo().adjustOriginToCenter(t),Eo().setOrigins(t)},modifiedInGroup:function(n){e._fillFilterRePositionInGroupSelection(t,n)},moving:function(){e._resetPositionFillFilter(this)},rotating:function(){e._resetPositionFillFilter(this)},scaling:function(t){var r=n.getPointer(t.e),i=e._shapeObj;n.setCursor("crosshair"),Eo().resize(i,r,!0),e._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(t){if(t.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var e=this.getCanvas();this._startPoint=e.getPointer(t.e),e.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this,n=this.getCanvas(),r=n.getPointer(t.e),i=this._startPoint.x,o=this._startPoint.y,a=i-r.x,s=o-r.y,c=this._shapeObj;c?(this._shapeObj.set({isRegular:this._withShiftKey}),Eo().resize(c,r),n.renderAll(),this._resetPositionFillFilter(c)):this.add(this._type,{left:i,top:o,width:a,height:s}).then((function(t){e.fire(ue,t)}))}},{key:"_onFabricMouseUp",value:function(){var t=this,e=this.getCanvas(),n=this._startPoint.x,r=this._startPoint.y,i=this._shapeObj;i?i&&(Eo().adjustOriginToCenter(i),this.fire(ne,this.graphics.createObjectProperties(i))):this.add(this._type,{left:n,top:r,width:20,height:20}).then((function(e){t.fire(ue,e)})),e.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(t){t.keyCode===en&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(t){t.keyCode===en&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(t){if("filter"===Jn(t)){var e=Zn(t,"patternSourceCanvas").patternSourceCanvas,n=Zn(Do(t),"originalAngle").originalAngle;this.graphics.canvasImage.angle!==n&&function(t,e){var n=Zn(t,"patternSourceCanvas").patternSourceCanvas,r=et(n.getObjects(),1)[0],i=Lo(r);n.remove(r);var o=zo(Ro(e,!0),e.angle,i);n.add(o)}(t,this.graphics.canvasImage);var r=t.originX,i=t.originY;Eo().adjustOriginToCenter(t),t.width*=t.scaleX,t.height*=t.scaleY,t.rx*=t.scaleX,t.ry*=t.scaleY,t.scaleX=1,t.scaleY=1,Po(t),function(t,e){var n=e.originX,r=e.originY,i=t.getPointByOrigin(n,r),o=i.x,a=i.y;t.set({left:o,top:a,originX:n,originY:r}),t.setCoords()}(t,{originX:r,originY:i}),function(t){var e=Zn(et(t.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;e=Math.max(1,e),t.setDimensions({width:e,height:e}),t.renderAll()}(e)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(t,e){1===e.scaleX&&1===e.scaleY||e.addWithUpdate();var n=t.angle,r=t.left,i=t.top;H.fabric.util.addTransformToObject(t,e.calcTransformMatrix()),this._resetPositionFillFilter(t),t.set({angle:n,left:r,top:i})}}]),n}(Gi);function Yo(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Vo={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},Go=.0045,Xo=.003,Ko=.003,Zo=.0066,qo=.0044,Qo=.003,Jo=be,$o=ce,ta=ie,ea=re,na=xe,ra=Se,ia=_e,oa=we,aa=function(t){kr(n,t);var e=Yo(n);function n(t){var r,i,o,a,s,c,u,l,f,h,d,p,v;j(this,n),(v=e.call(this,It.ZOOM,t)).zoomArea=null,v._startPoint=null,v._centerPoints=[],v.zoomLevel=1,v.zoomMode=Ke,v._listeners={startZoom:P()(r=v._onMouseDownWithZoomMode).call(r,Er(v)),moveZoom:P()(i=v._onMouseMoveWithZoomMode).call(i,Er(v)),stopZoom:P()(o=v._onMouseUpWithZoomMode).call(o,Er(v)),startHand:P()(a=v._onMouseDownWithHandMode).call(a,Er(v)),moveHand:P()(s=v._onMouseMoveWithHandMode).call(s,Er(v)),stopHand:P()(c=v._onMouseUpWithHandMode).call(c,Er(v)),zoomChanged:P()(u=v._changeScrollState).call(u,Er(v)),keydown:P()(l=v._startHandModeWithSpaceBar).call(l,Er(v)),keyup:P()(f=v._endHandModeWithSpaceBar).call(f,Er(v))};var g=v.getCanvas();return v.aspectRatio=g.width/g.height,v._verticalScroll=new H.fabric.Rect(Vo),v._horizontalScroll=new H.fabric.Rect(Vo),g.on(Jo,v._listeners.zoomChanged),v.graphics.on($o,P()(h=v._startTextEditingHandler).call(h,Er(v))),v.graphics.on(ta,P()(d=v._startTextEditingHandler).call(d,Er(v))),v.graphics.on(ea,P()(p=v._stopTextEditingHandler).call(p,Er(v))),v}return T(n,[{key:"attachKeyboardZoomEvents",value:function(){H.fabric.util.addListener(document,na,this._listeners.keydown),H.fabric.util.addListener(document,ra,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){H.fabric.util.removeListener(document,na,this._listeners.keydown),H.fabric.util.removeListener(document,ra,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(t){this.withSpace||this.isTextEditing||t.keyCode===an&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(t){t.keyCode===an&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Ze;var t=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new H.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),t.discardActiveObject(),t.add(this.zoomArea),t.on("mouse:down",this._listeners.startZoom),t.selection=!1,t.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Ke;var t=this.getCanvas(),e=this._listeners,n=e.startZoom,r=e.moveZoom,i=e.stopZoom;t.selection=!0,t.defaultCursor="auto",t.off({"mouse:down":n,"mouse:move":r,"mouse:up":i}),this._changeObjectsEventedState(!0),t.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=qe;var t=this.getCanvas();this._changeObjectsEventedState(!1),t.discardActiveObject(),t.off("mouse:down",this._listeners.startHand),t.on("mouse:down",this._listeners.startHand),t.selection=!1,t.defaultCursor="grab",t.fire(ia)}},{key:"endHandMode",value:function(){this.zoomMode=Ke;var t=this.getCanvas();this._changeObjectsEventedState(!0),t.off("mouse:down",this._listeners.startHand),t.selection=!0,t.defaultCursor="auto",this._startHandPoint=null,t.fire(oa)}},{key:"_onMouseDownWithZoomMode",value:function(t){var e=t.target,n=t.e;if(!e){var r=this.getCanvas();r.selection=!1,this._startPoint=r.getPointer(n),this.zoomArea.set({width:0,height:0});var i=this._listeners,o=i.moveZoom,a=i.stopZoom;r.on({"mouse:move":o,"mouse:up":a})}}},{key:"_onMouseMoveWithZoomMode",value:function(t){var e=t.e,n=this.getCanvas(),r=n.getPointer(e),i=r.x,o=r.y,a=this.zoomArea,s=this._startPoint;Math.abs(i-s.x)+Math.abs(o-s.y)>10&&(n.remove(a),a.set(this._calcRectDimensionFromPoint(i,o)),n.add(a))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var n=this.getCanvas(),r=n.getWidth(),i=n.getHeight(),o=this._startPoint,a=o.x,s=o.y,c=Math.min,u=c(a,t),l=c(s,e);return{left:u,top:l,width:zn(t,a,r)-u,height:zn(e,s,i)-l}}},{key:"_onMouseUpWithZoomMode",value:function(){var t=this.zoomLevel,e=this.zoomArea,n=this._listeners,r=n.moveZoom,i=n.stopZoom,o=this.getCanvas(),a=this._getCenterPoint(),s=a.x,c=a.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:s,y:c,prevZoomLevel:t,zoomLevel:t+1}),t+=1,o.zoomToPoint({x:s,y:c},t),this._fireZoomChanged(o,t),this.zoomLevel=t),o.off({"mouse:move":r,"mouse:up":i}),o.remove(e),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var t=this.zoomArea,e=t.left,n=t.top,r=t.width,i=t.height,o=this._startPoint,a=o.x,s=o.y,c=this.aspectRatio;return r<10&&i<10?{x:a,y:s}:r>i?{x:e+c*i/2,y:n+i/2}:{x:e+r/2,y:n+r/c/2}}},{key:"zoom",value:function(t){for(var e=t.x,n=t.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,i=this.getCanvas(),o=this._centerPoints,a=o.length-1;a>=0&&!(o[a].zoomLevel<r);a-=1){var s=o.pop(),c=s.x,u=s.y,l=s.prevZoomLevel;i.zoomToPoint({x:c,y:u},l),this.zoomLevel=l}i.zoomToPoint({x:e,y:n},r),this._isDefaultZoomLevel(r)||this._centerPoints.push({x:e,y:n,zoomLevel:r,prevZoomLevel:this.zoomLevel}),this.zoomLevel=r,this._fireZoomChanged(i,r)}},{key:"zoomOut",value:function(){var t=this._centerPoints;if(t.length){var e=this.getCanvas(),n=t.pop(),r=n.x,i=n.y,o=n.prevZoomLevel;this._isDefaultZoomLevel(o)?e.setViewportTransform([1,0,0,1,0,0]):e.zoomToPoint({x:r,y:i},o),this.zoomLevel=o,this._fireZoomChanged(e,this.zoomLevel)}}},{key:"resetZoom",value:function(){var t=this.getCanvas();t.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(t,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(t){var e=t.x,n=t.y,r=this._centerPoints;if(r.length){var i=this.getCanvas(),o=this.zoomLevel,a=r.pop(),s=a.x,c=a.y,u=a.prevZoomLevel,l=s-e,f=c-n;i.zoomToPoint({x:s,y:c},u),i.zoomToPoint({x:l,y:f},o),r.push({x:l,y:f,prevZoomLevel:u,zoomLevel:o}),this._fireZoomChanged(i,o)}}},{key:"_onMouseDownWithHandMode",value:function(t){var e=t.target,n=t.e;if(!e){var r=this.getCanvas();if(!(this.zoomLevel<=1)){r.selection=!1,this._startHandPoint=r.getPointer(n);var i=this._listeners,o=i.moveHand,a=i.stopHand;r.on({"mouse:move":o,"mouse:up":a})}}}},{key:"_onMouseMoveWithHandMode",value:function(t){var e=t.e,n=this.getCanvas().getPointer(e),r=n.x,i=n.y,o=r-this._startHandPoint.x,a=i-this._startHandPoint.y;this._movePointOfZoom({x:o,y:a})}},{key:"_onMouseUpWithHandMode",value:function(){var t=this.getCanvas(),e=this._listeners,n=e.moveHand,r=e.stopHand;t.off({"mouse:move":n,"mouse:up":r}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(t){var e=t.viewport,n=t.zoomLevel,r=this.getCanvas();if(r.remove(this._verticalScroll),r.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var i=r.width,o=r.height,a=e.tl,s=e.tr,c=e.bl,u=s.x-a.x,l=c.y-a.y,f=u*u/i,h=l*Zo,d=zn(a.x+a.x/i*u,a.x,s.x-f),p=l*qo,v=l*Qo;this._horizontalScroll.set({left:d,top:c.y-h-p,width:f,height:h,rx:v,ry:v});var g=u*Go,m=l*l/o,y=zn(a.y+a.y/o*l,s.y,c.y-m),b=u*Xo,_=u*Ko;this._verticalScroll.set({left:s.x-g-b,top:y,width:g,height:m,rx:_,ry:_}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getCanvas();e.forEachObject((function(e){e.evented=t}))}},{key:"_addScrollBar",value:function(){var t=this,e=this.getCanvas();e.add(this._horizontalScroll),e.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=v()((function(){e.remove(t._horizontalScroll),e.remove(t._verticalScroll)}),3e3)}},{key:"_isDefaultZoomLevel",value:function(t){return 1===t}},{key:"_fireZoomChanged",value:function(t,e){t.fire(Jo,{viewport:t.calcViewportBoundaries(),zoomLevel:e})}},{key:"mode",get:function(){return this.zoomMode}}]),n}(Gi),sa=sr.create,ca=sr.types,ua=function(){function t(e){j(this,t),this.name=e}return T(t,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(sa(ca.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(sa(ca.UN_IMPLEMENTATION,"stop"))}}]),t}();function la(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var fa=function(t){kr(n,t);var e=la(n);function n(){return j(this,n),e.call(this,Ue.CROPPER)}return T(n,[{key:"start",value:function(t){t.getComponent(It.CROPPER).start()}},{key:"end",value:function(t){t.getComponent(It.CROPPER).end()}}]),n}(ua);function ha(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var da=function(t){kr(n,t);var e=ha(n);function n(){return j(this,n),e.call(this,Ue.FREE_DRAWING)}return T(n,[{key:"start",value:function(t,e){t.getComponent(It.FREE_DRAWING).start(e)}},{key:"end",value:function(t){t.getComponent(It.FREE_DRAWING).end()}}]),n}(ua);function pa(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var va=function(t){kr(n,t);var e=pa(n);function n(){return j(this,n),e.call(this,Ue.LINE_DRAWING)}return T(n,[{key:"start",value:function(t,e){t.getComponent(It.LINE).start(e)}},{key:"end",value:function(t){t.getComponent(It.LINE).end()}}]),n}(ua);function ga(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var ma=function(t){kr(n,t);var e=ga(n);function n(){return j(this,n),e.call(this,Ue.SHAPE)}return T(n,[{key:"start",value:function(t){t.getComponent(It.SHAPE).start()}},{key:"end",value:function(t){t.getComponent(It.SHAPE).end()}}]),n}(ua);function ya(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var ba=function(t){kr(n,t);var e=ya(n);function n(){return j(this,n),e.call(this,Ue.TEXT)}return T(n,[{key:"start",value:function(t){t.getComponent(It.TEXT).start()}},{key:"end",value:function(t){t.getComponent(It.TEXT).end()}}]),n}(ua);function _a(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var wa=function(t){kr(n,t);var e=_a(n);function n(){return j(this,n),e.call(this,Ue.ICON)}return T(n,[{key:"start",value:function(t){t.getComponent(It.ICON).start()}},{key:"end",value:function(t){t.getComponent(It.ICON).end()}}]),n}(ua);function xa(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Sa=function(t){kr(n,t);var e=xa(n);function n(){return j(this,n),e.call(this,Ue.ZOOM)}return T(n,[{key:"start",value:function(t){t.getComponent(It.ZOOM).start()}},{key:"end",value:function(t){t.getComponent(It.ZOOM).end()}}]),n}(ua),Ca=null;function Ma(t){Ca=t}function Oa(t,e){var n;return"activeSelection"===t.type?yr()(n=t.getObjects()).call(n,(function(n){var r=n.angle,i=n.left,o=n.top,a=n.scaleX,s=n.scaleY,c=n.width,u=n.height;H.fabric.util.addTransformToObject(n,t.calcTransformMatrix());var l=e(n);return n.set({angle:r,left:i,top:o,width:c,height:u,scaleX:a,scaleY:s}),l})):[e(t)]}function ka(t,e,n){return n?{id:t,width:e.width,height:e.height,top:e.top,left:e.left,angle:e.angle,scaleX:e.scaleX,scaleY:e.scaleY}:W()({id:t},e)}function Ea(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Ia=function(t){kr(n,t);var e=Ea(n);function n(t){var r;return j(this,n),(r=e.call(this,It.RESIZE,t))._dimensions=null,r._originalDimensions=null,r}return T(n,[{key:"getCurrentDimensions",value:function(){var t=this.getCanvasImage();if(!this._dimensions&&t){var e=t.width,n=t.height;this._dimensions={width:e,height:n}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(t){this._originalDimensions=t}},{key:"resize",value:function(t){var e=this.getCanvasImage(),n=e.width,r=e.height,i=e.scaleX,o=e.scaleY,a=t.width,s=t.height,c={scaleX:a?a/n:i,scaleY:s?s/r:o};return i===c.scaleX&&o===c.scaleY||(e.set(c).setCoords(),this._dimensions={width:e.width*e.scaleX,height:e.height*e.scaleY}),this.adjustCanvasDimensionBase(),B().resolve()}},{key:"start",value:function(){var t=this.getCurrentDimensions();this.setOriginalDimensions(t)}},{key:"end",value:function(){}}]),n}(Gi);function ja(t){var e=function(){if("undefined"===typeof Reflect||!xr())return!1;if(xr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(xr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var i=Ar(this).constructor;n=xr()(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}var Aa=function(t){kr(n,t);var e=ja(n);function n(){return j(this,n),e.call(this,Ue.RESIZE)}return T(n,[{key:"start",value:function(t){t.getComponent(It.RESIZE).start()}},{key:"end",value:function(t){t.getComponent(It.RESIZE).end()}}]),n}(ua),Ta={cssOnly:!0},Da={backstoreOnly:!0},Pa=function(){function t(e){var n,r,i,o,a,s,c,u,l,f,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=d.cssMaxWidth,v=d.cssMaxHeight;j(this,t),this.canvasImage=null,this.cssMaxWidth=p||1e3,this.cssMaxHeight=v||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Ue.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:P()(n=this._onMouseDown).call(n,this),onObjectAdded:P()(r=this._onObjectAdded).call(r,this),onObjectRemoved:P()(i=this._onObjectRemoved).call(i,this),onObjectMoved:P()(o=this._onObjectMoved).call(o,this),onObjectScaled:P()(a=this._onObjectScaled).call(a,this),onObjectModified:P()(s=this._onObjectModified).call(s,this),onObjectRotated:P()(c=this._onObjectRotated).call(c,this),onObjectSelected:P()(u=this._onObjectSelected).call(u,this),onPathCreated:P()(l=this._onPathCreated).call(l,this),onSelectionCleared:P()(f=this._onSelectionCleared).call(f,this),onSelectionCreated:P()(h=this._onSelectionCreated).call(h,this)},this._setObjectCachingToFalse(),this._setCanvasElement(e),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return T(t,[{key:"destroy",value:function(){var t=this._canvas.wrapperEl;this._canvas.clear(),t.parentNode.removeChild(t),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(It.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(It.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(t){var e,n=[];Wi()(t)?n=t:n.push(t),(e=this._canvas).add.apply(e,S(n))}},{key:"contains",value:function(t){return this._canvas.contains(t)}},{key:"getObjects",value:function(){var t;return f()(t=this._canvas.getObjects()).call(t)}},{key:"getObject",value:function(t){return this._objects[t]}},{key:"remove",value:function(t){this._canvas.remove(t)}},{key:"removeAll",value:function(t){var e,n=this._canvas,r=f()(e=n.getObjects()).call(e);return n.remove.apply(n,S(this._canvas.getObjects())),t&&n.clear(),r}},{key:"removeObjectById",value:function(t){var e=[],n=this._canvas,r=this.getObject(t);return r&&r.isType("group")&&!r.isEmpty()?(n.discardActiveObject(),r.forEachObject((function(t){e.push(t),n.remove(t)}))):n.contains(r)&&(e.push(r),n.remove(r)),e}},{key:"getObjectId",value:function(t){var e=null;for(e in this._objects)if(this._objects.hasOwnProperty(e)&&t===this._objects[e])return e;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var t=this.getActiveObject(),e=t.type,n=t.left,r=t.top;if("activeSelection"===e){var i=new H.fabric.Group(S(t.getObjects()),{left:n,top:r});return this._addFabricObject(i)}return this.getObjectId(t)}},{key:"isReadyRemoveObject",value:function(){var t=this.getActiveObject();return t&&!t.isEditing}},{key:"getActiveObjects",value:function(){var t=this._canvas._activeObject;return t&&"activeSelection"===t.type?t:null}},{key:"getActiveSelectionFromObjects",value:function(t){var e=this.getCanvas();return new H.fabric.ActiveSelection(t,{canvas:e})}},{key:"setActiveObject",value:function(t){this._canvas.setActiveObject(t)}},{key:"setCropSelectionStyle",value:function(t){this.cropSelectionStyle=t}},{key:"getComponent",value:function(t){return this._componentMap[t]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(t,e){if(this._isSameDrawingMode(t))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(t);return n&&n.start&&(n.start(this,e),this._drawingMode=t),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Ue.NORMAL)){var t=this._getDrawingModeInstance(this.getDrawingMode());t&&t.end&&t.end(this),this._drawingMode=Ue.NORMAL}}},{key:"zoom",value:function(t,e){var n=t.x,r=t.y,i=this.getComponent(It.ZOOM);i.zoom({x:n,y:r},e)}},{key:"getZoomMode",value:function(){return this.getComponent(It.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(It.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(It.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(It.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(It.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(It.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(It.ZOOM).resetZoom()}},{key:"toDataURL",value:function(t){var e=this.getComponent(It.CROPPER);e.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(t);return e.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(t,e){e&&Rn(e),this.imageName=t,this.canvasImage=e}},{key:"setCssMaxDimension",value:function(t){this.cssMaxWidth=t.width||this.cssMaxWidth,this.cssMaxHeight=t.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=this.canvasImage);var e=t.getBoundingRect(),n=e.width,r=e.height,i=this._calcMaxDimension(n,r);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(i.width,"px"),"max-height":"".concat(i.height,"px")}),this.setCanvasBackstoreDimension({width:n,height:r}),this._canvas.centerObject(t)}},{key:"setCanvasCssDimension",value:function(t){this._canvas.setDimensions(t,Ta)}},{key:"setCanvasBackstoreDimension",value:function(t){this._canvas.setDimensions(t,Da)}},{key:"setImageProperties",value:function(t,e){var n=this.canvasImage;n&&(n.set(t).setCoords(),e&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(t){var e,n=this,r=P()(e=this._callbackAfterLoadingImageObject).call(e,this);return new(B())((function(e){H.fabric.Image.fromURL(t,(function(t){r(t),e(n.createObjectProperties(t))}),{crossOrigin:"Anonymous"})}))}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(It.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this.getComponent(It.CROPPER).setCropzoneRect(t)}},{key:"getCroppedImageData",value:function(t){return this.getComponent(It.CROPPER).getCroppedImageData(t)}},{key:"setBrush",value:function(t){var e=this._drawingMode,n=It.FREE_DRAWING;e===Ue.LINE_DRAWING&&(n=It.LINE),this.getComponent(n).setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this.getComponent(It.SHAPE).setStates(t,e)}},{key:"setIconStyle",value:function(t,e){this.getComponent(It.ICON).setStates(t,e)}},{key:"registerPaths",value:function(t){this.getComponent(It.ICON).registerPaths(t)}},{key:"changeCursor",value:function(t){var e=this.getCanvas();e.defaultCursor=t,e.renderAll()}},{key:"hasFilter",value:function(t){return this.getComponent(It.FILTER).hasFilter(t)}},{key:"setSelectionStyle",value:function(t){W()(un,t)}},{key:"setObjectProperties",value:function(t,e){var n=this.getObject(t),r=W()({},e);return n.set(r),n.setCoords(),this.getCanvas().renderAll(),r}},{key:"getObjectProperties",value:function(t,e){var n=this.getObject(t),r={};return Q()(e)?r[e]=n[e]:Wi()(e)?Dr()(e,(function(t){r[t]=n[t]})):Vi()(e,(function(t,e){r[e]=n[e]})),r}},{key:"getObjectPosition",value:function(t,e,n){var r=this.getObject(t);return r?r.getPointByOrigin(e,n):null}},{key:"setObjectPosition",value:function(t,e){var n=this.getObject(t),r=e.x,i=e.y,o=e.originX,a=e.originY;if(!n)return!1;var s=n.getPointByOrigin(o,a),c=n.getPointByOrigin("center","center"),u=c.x-s.x,l=c.y-s.y;return n.set({left:r+u,top:i+l}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var t=this.getCanvasImage();return{width:t?t.width:0,height:t?t.height:0}}},{key:"createStaticCanvas",value:function(){var t=new H.fabric.StaticCanvas;return t.set({enableRetinaScaling:!1}),t}},{key:"_getDrawingModeInstance",value:function(t){return this._drawingModeMap[t]}},{key:"_setObjectCachingToFalse",value:function(){H.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(t){var e,n;"CANVAS"!==(e=t.nodeType?t:document.querySelector(t)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),e.appendChild(n)),this._canvas=new H.fabric.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new fa),this._register(this._drawingModeMap,new da),this._register(this._drawingModeMap,new va),this._register(this._drawingModeMap,new ma),this._register(this._drawingModeMap,new ba),this._register(this._drawingModeMap,new wa),this._register(this._drawingModeMap,new Sa),this._register(this._drawingModeMap,new Aa)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new Zi(this)),this._register(this._componentMap,new no(this)),this._register(this._componentMap,new io(this)),this._register(this._componentMap,new ao(this)),this._register(this._componentMap,new co(this)),this._register(this._componentMap,new fo(this)),this._register(this._componentMap,new go(this)),this._register(this._componentMap,new bo(this)),this._register(this._componentMap,new Oo(this)),this._register(this._componentMap,new Wo(this)),this._register(this._componentMap,new aa(this)),this._register(this._componentMap,new Ia(this))}},{key:"_register",value:function(t,e){t[e.getName()]=e}},{key:"_isSameDrawingMode",value:function(t){return this.getDrawingMode()===t}},{key:"_calcMaxDimension",value:function(t,e){var n=this.cssMaxWidth/t,r=this.cssMaxHeight/e,i=Math.min(t,this.cssMaxWidth),o=Math.min(e,this.cssMaxHeight);return n<1&&n<r?(i=t*n,o=e*n):r<1&&r<n&&(i=t*r,o=e*r),{width:Math.floor(i),height:Math.floor(o)}}},{key:"_callbackAfterLoadingImageObject",value:function(t){var e=this.getCanvasImage().getCenterPoint();t.set(un),t.set({left:e.x,top:e.y,crossOrigin:"Anonymous"}),this.getCanvas().add(t).setActiveObject(t)}},{key:"_attachCanvasEvents",value:function(){var t=this._canvas,e=this._handler;t.on({"mouse:down":e.onMouseDown,"object:added":e.onObjectAdded,"object:removed":e.onObjectRemoved,"object:moving":e.onObjectMoved,"object:scaling":e.onObjectScaled,"object:modified":e.onObjectModified,"object:rotating":e.onObjectRotated,"path:created":e.onPathCreated,"selection:cleared":e.onSelectionCleared,"selection:created":e.onSelectionCreated,"selection:updated":e.onObjectSelected})}},{key:"_onMouseDown",value:function(t){var e=this,n=t.e,r=t.target,i=this._canvas.getPointer(n);if(r){var o=r.type;Ma(Oa(r,(function(t){return ka(e.getObjectId(t),t,"activeSelection"===o)})))}this.fire(fe,n,i)}},{key:"_onObjectAdded",value:function(t){var e=t.target;e.isType("cropzone")||this._addFabricObject(e)}},{key:"_onObjectRemoved",value:function(t){var e=t.target;this._removeFabricObject(Rn(e))}},{key:"_onObjectMoved",value:function(t){var e=this;this._lazyFire($t,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_onObjectScaled",value:function(t){var e=this;this._lazyFire(te,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_onObjectModified",value:function(t){var e=t.target;if("activeSelection"===e.type){var n=e.getObjects();at()(n).call(n,(function(t){return t.fire("modifiedInGroup",e)}))}this.fire(re,e,this.getObjectId(e))}},{key:"_onObjectRotated",value:function(t){var e=this;this._lazyFire(ee,(function(t){return e.createObjectProperties(t)}),t.target)}},{key:"_lazyFire",value:function(t,e,n){var r=this,i=n&&n.canvasEventDelegation?n.canvasEventDelegation(t):"none";"unregistered"===i&&n.canvasEventRegister(t,(function(n){r.fire(t,e(n))})),"none"===i&&this.fire(t,e(n))}},{key:"_onObjectSelected",value:function(t){var e=t.target,n=this.createObjectProperties(e);this.fire(Jt,n)}},{key:"_onPathCreated",value:function(t){var e=t.path.getCenterPoint(),n=e.x,r=e.y;t.path.set(W()({left:n,top:r},un));var i=this.createObjectProperties(t.path);this.fire(ue,i)}},{key:"_onSelectionCleared",value:function(){this.fire(pe)}},{key:"_onSelectionCreated",value:function(t){var e=t.target,n=this.createObjectProperties(e);this.fire(Jt,n),this.fire(ve,t.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(t){this._canvas.forEachObject((function(e){e.selectable=t,e.hoverCursor=t?"move":"crosshair"}))}},{key:"createObjectProperties",value:function(t){var e={id:Rn(t),type:t.type};if(W()(e,Hn(t,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),qn(["i-text","text"],t.type))W()(e,this._createTextProperties(t,e));else if(qn(["rect","triangle","circle"],t.type)){var n=this.getComponent(It.SHAPE);W()(e,{fill:n.makeFillPropertyForUserEvent(t)})}return e}},{key:"_createTextProperties",value:function(t){var e={};return W()(e,Hn(t,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),e}},{key:"_addFabricObject",value:function(t){var e=Rn(t);return this._objects[e]=t,e}},{key:"_removeFabricObject",value:function(t){delete this._objects[t]}},{key:"resetTargetObjectForCopyPaste",value:function(){var t=this.getActiveObject();t&&(this.targetObjectForCopyPaste=t)}},{key:"pasteObject",value:function(){var t=this;if(!this.targetObjectForCopyPaste)return B().resolve([]);var e=this.targetObjectForCopyPaste,n="activeSelection"===e.type?e.getObjects():[e],r=null;return this.discardSelection(),this._cloneObject(n).then((function(e){if(e.length>1)r=t.getActiveSelectionFromObjects(e);else{var n=et(e,1);r=n[0]}t.targetObjectForCopyPaste=r,t.setActiveObject(r)}))}},{key:"_cloneObject",value:function(t){var e=this,n=yr()(t).call(t,(function(t){return e._cloneObjectItem(t)}));return B().all(n)}},{key:"_cloneObjectItem",value:function(t){var e=this;return this._copyFabricObjectForPaste(t).then((function(t){var n=e.createObjectProperties(t);return e.add(t),e.fire(ue,n),t}))}},{key:"_copyFabricObjectForPaste",value:function(t){var e=this,n=function(t,e){return e?t-10:t+10};return this._copyFabricObject(t).then((function(t){var r=t.left,i=t.top,o=t.width,a=t.height,s=e.getCanvasSize(),c=s.width,u=s.height,l=r+o/2,f=i+a/2;return t.set(W()({left:n(r,l+10>c),top:n(i,f+10>u)},un)),t}))}},{key:"_copyFabricObject",value:function(t){var e=this;return new(B())((function(n){t.clone((function(r){var i=e.getComponent(It.SHAPE);$n(r)&&i.processForCopiedObject(r,t),n(r)}))}))}},{key:"getCurrentDimensions",value:function(){return this.getComponent(It.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(It.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(t){this.getComponent(It.RESIZE).setOriginalDimensions(t)}},{key:"resize",value:function(t){var e=this.getComponent(It.RESIZE);return e.resize(t)}}]),t}();Z().mixin(Pa);var La=Pa,Na=fe,Ra=$t,Ba=te,za=Jt,Fa=ee,Ha=ne,Ua=re,Wa=ce,Ya=ue,Va=ie,Ga=oe,Xa=ae,Ka=se,Za=pe,qa=ve,Qa=le,Ja=function(){function t(e,n){var r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y;if(j(this,t),n=W()({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var b=n.includeUI;b.usageStatistics=n.usageStatistics,this.ui=new Ri(e,b,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new pr,this._graphics=new La(this.ui?this.ui.getEditorArea():e,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:P()(r=this._onKeyDown).call(r,this),mousedown:P()(i=this._onMouseDown).call(i,this),objectActivated:P()(o=this._onObjectActivated).call(o,this),objectMoved:P()(a=this._onObjectMoved).call(a,this),objectScaled:P()(s=this._onObjectScaled).call(s,this),objectRotated:P()(c=this._onObjectRotated).call(c,this),objectAdded:P()(u=this._onObjectAdded).call(u,this),objectModified:P()(l=this._onObjectModified).call(l,this),createdPath:this._onCreatedPath,addText:P()(f=this._onAddText).call(f,this),addObject:P()(h=this._onAddObject).call(h,this),textEditing:P()(d=this._onTextEditing).call(d,this),textChanged:P()(p=this._onTextChanged).call(p,this),iconCreateResize:P()(v=this._onIconCreateResize).call(v,this),iconCreateEnd:P()(g=this._onIconCreateEnd).call(g,this),selectionCleared:P()(m=this._selectionCleared).call(m,this),selectionCreated:P()(y=this._selectionCreated).call(y,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(Ln||(Ln=!0,lt()("image-editor","UA-129999381-1"))),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),H.fabric.enableGLFiltering=!1}return T(t,[{key:"_attachColorPickerInputBoxEvents",value:function(){var t=this;this.ui.on(Ce,(function(){t.isColorPickerInputBoxEditing=!0})),this.ui.on(Me,(function(){t.isColorPickerInputBoxEditing=!1}))}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(Ce),this.ui.off(Me)}},{key:"_setSelectionStyle",value:function(t,e){var n=e.applyCropSelectionStyle,r=e.applyGroupSelectionStyle;t&&this._graphics.setSelectionStyle(t),n&&this._graphics.setCropSelectionStyle(t),r&&this.on("selectionCreated",(function(e){"activeSelection"===e.type&&e.set(t)}))}},{key:"_attachInvokerEvents",value:function(){var t,e,n=this,r=de,i=he,o=ge,a=me,s=ye,c=_e,u=we;if(this._invoker.on(r,P()(t=this.fire).call(t,this,r)),this._invoker.on(i,P()(e=this.fire).call(e,this,i)),this.ui){var l=this._graphics.getCanvas();this._invoker.on(o,(function(t){return n.ui.fire(o,t)})),this._invoker.on(a,(function(t){return n.ui.fire(a,t)})),this._invoker.on(s,(function(t){return n.ui.fire(s,t)})),l.on(c,(function(){return n.ui.fire(c)})),l.on(u,(function(){return n.ui.fire(u)}))}}},{key:"_attachGraphicsEvents",value:function(){var t;this._graphics.on((I(t={},Na,this._handlers.mousedown),I(t,Ra,this._handlers.objectMoved),I(t,Ba,this._handlers.objectScaled),I(t,Fa,this._handlers.objectRotated),I(t,za,this._handlers.objectActivated),I(t,Ha,this._handlers.objectAdded),I(t,Ua,this._handlers.objectModified),I(t,Wa,this._handlers.addText),I(t,Ya,this._handlers.addObject),I(t,Va,this._handlers.textEditing),I(t,Ga,this._handlers.textChanged),I(t,Xa,this._handlers.iconCreateResize),I(t,Ka,this._handlers.iconCreateEnd),I(t,Za,this._handlers.selectionCleared),I(t,qa,this._handlers.selectionCreated),t))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(t){var e=t.ctrlKey,n=t.keyCode,r=t.metaKey;(e||r)&&(n===$e?this._graphics.resetTargetObjectForCopyPaste():n===tn?(this._graphics.pasteObject(),this.clearRedoStack()):n===Qe?this.undo().catch((function(){})):n===Je&&this.redo().catch((function(){})));var i=n===nn,o=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&o&&i&&(t.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var t=this._graphics.getActiveObjectIdForRemove();this.removeObject(t)}},{key:"_onMouseDown",value:function(t,e){this.fire(fe,t,e)}},{key:"_pushAddObjectCommand",value:function(t){var e=hr.create(Lt,this._graphics,t);this._invoker.pushUndoStack(e)}},{key:"_pushModifyObjectCommand",value:function(t){var e=this,n=t.type,r=Oa(t,(function(t){return ka(e._graphics.getObjectId(t),t,"activeSelection"===n)})),i=hr.create(qt,this._graphics,r);i.execute(this._graphics,r),this._invoker.pushUndoStack(i)}},{key:"_onObjectActivated",value:function(t){this.fire(Jt,t)}},{key:"_onObjectMoved",value:function(t){this.fire($t,t)}},{key:"_onObjectScaled",value:function(t){this.fire(te,t)}},{key:"_onObjectRotated",value:function(t){this.fire(ee,t)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(At)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(t){this._graphics.changeSelectableAll(t)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(t){for(var e,n,r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=N()(e=[this._graphics]).call(e,o);return(n=this._invoker).execute.apply(n,N()(r=[t]).call(r,S(s)))}},{key:"executeSilent",value:function(t){for(var e,n,r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=N()(e=[this._graphics]).call(e,o);return(n=this._invoker).executeSilent.apply(n,N()(r=[t]).call(r,S(s)))}},{key:"undo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=B().resolve(),r=0;r<e;r+=1)n=n.then((function(){return t._invoker.undo()}));return n}},{key:"redo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=B().resolve(),r=0;r<e;r+=1)n=n.then((function(){return t._invoker.redo()}));return n}},{key:"zoom",value:function(t){var e=t.x,n=t.y,r=t.zoomLevel;this._graphics.zoom({x:e,y:n},r)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(t,e){if(!t)return B().reject(hn);var n=F().createObjectURL(t);return e=e||t.name,this.loadImageFromURL(n,e).then((function(e){return F().revokeObjectURL(t),e}))}},{key:"loadImageFromURL",value:function(t,e){return e&&t?this.execute(Tt,e,t):B().reject(hn)}},{key:"addImageObject",value:function(t){return t?this.execute(Gt,t):B().reject(hn)}},{key:"startDrawingMode",value:function(t,e){return this._graphics.startDrawingMode(t,e)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(t){var e=this._graphics.getCroppedImageData(t);return e?this.loadImageFromURL(e.url,e.imageName):B().reject(hn)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this._graphics.setCropzoneRect(t)}},{key:"_flip",value:function(t){return this.execute(Dt,t)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(t,e,n){return n?this.executeSilent(Pt,t,e):this.execute(Pt,t,e)}},{key:"rotate",value:function(t,e){return this._rotate("rotate",t,e)}},{key:"setAngle",value:function(t,e){return this._rotate("setAngle",t,e)}},{key:"setBrush",value:function(t){this._graphics.setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this._graphics.setDrawingShape(t,e)}},{key:"setDrawingIcon",value:function(t,e){this._graphics.setIconStyle(t,e)}},{key:"addShape",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(Ht,t,e)}},{key:"changeShape",value:function(t,e,n){return this[n?"executeSilent":"execute"](Ut,t,e)}},{key:"addText",value:function(t,e){return t=t||"",e=e||{},this.execute(Wt,t,e)}},{key:"changeText",value:function(t,e){return e=e||"",this.execute(Yt,t,e)}},{key:"changeTextStyle",value:function(t,e,n){return this[n?"executeSilent":"execute"](Vt,t,e)}},{key:"_changeActivateMode",value:function(t){"ICON"!==t&&this.getDrawingMode()!==t&&this.startDrawingMode(t)}},{key:"_onTextChanged",value:function(t){this.fire(oe,t)}},{key:"_onIconCreateResize",value:function(t){this.fire(ae,t)}},{key:"_onIconCreateEnd",value:function(t){this.fire(se,t)}},{key:"_onTextEditing",value:function(){this.fire(ie)}},{key:"_onAddText",value:function(t){this.fire(ce,{originPosition:t.originPosition,clientPosition:t.clientPosition})}},{key:"_onAddObject",value:function(t){var e=this._graphics.getObject(t.id);this._invoker.fire(ge,tr(e.type)),this._pushAddObjectCommand(e)}},{key:"_onObjectAdded",value:function(t){this.fire(Ha,t),this.fire(Qa,t)}},{key:"_onObjectModified",value:function(t){t.type!==wt&&(this._invoker.fire(ge,tr(t.type)),this._pushModifyObjectCommand(t))}},{key:"_selectionCleared",value:function(){this.fire(Za)}},{key:"_selectionCreated",value:function(t){this.fire(qa,t)}},{key:"registerIcons",value:function(t){this._graphics.registerPaths(t)}},{key:"changeCursor",value:function(t){this._graphics.changeCursor(t)}},{key:"addIcon",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(zt,t,e)}},{key:"changeIconColor",value:function(t,e){return this.execute(Ft,t,e)}},{key:"removeObject",value:function(t){var e=this._graphics.getObject(t).type;return this.execute(Nt,t,tr(e))}},{key:"hasFilter",value:function(t){return this._graphics.hasFilter(t)}},{key:"removeFilter",value:function(t){return this.execute(Bt,t)}},{key:"applyFilter",value:function(t,e,n){return this[n?"executeSilent":"execute"](Rt,t,e)}},{key:"toDataURL",value:function(t){return this._graphics.toDataURL(t)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(t){return t?this.execute(Xt,t):B().reject(hn)}},{key:"destroy",value:function(){var t=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),X()(this,(function(e,n){t[n]=null}),this)}},{key:"_setPositions",value:function(t){var e=this._graphics.getCenter();V()(t.left)&&(t.left=e.left),V()(t.top)&&(t.top=e.top)}},{key:"setObjectProperties",value:function(t,e){return this.execute(Kt,t,e)}},{key:"setObjectPropertiesQuietly",value:function(t,e){this._graphics.setObjectProperties(t,e)}},{key:"getObjectProperties",value:function(t,e){return this._graphics.getObject(t)?this._graphics.getObjectProperties(t,e):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(t,e,n){return this._graphics.getObjectPosition(t,e,n)}},{key:"setObjectPosition",value:function(t,e){return this.execute(Zt,t,e)}},{key:"resize",value:function(t){return this.execute(Qt,t)}}]),t}();Hi.mixin(Ja),Z().mixin(Ja);var $a=Ja,ts=It.ICON,es={name:zt,execute:function(t,e,n){var r=this;return t.getComponent(ts).add(e,n).then((function(e){return r.undoData.object=t.getObject(e.id),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(es);var ns={name:Gt,execute:function(t,e){var n=this;return t.addImageObject(e).then((function(e){return n.undoData.object=t.getObject(e.id),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(ns);var rs={name:Lt,execute:function(t,e){return new(B())((function(n,r){t.contains(e)?r(ln):(t.add(e),n(e))}))},undo:function(t,e){return new(B())((function(n,r){t.contains(e)?(t.remove(e),n(e)):r(gn)}))}};hr.register(rs);var is=It.SHAPE,os={name:Ht,execute:function(t,e,n){var r=this;return t.getComponent(is).add(e,n).then((function(e){var n=e.id;return r.undoData.object=t.getObject(n),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(os);var as=It.TEXT,ss={name:Wt,execute:function(t,e,n){var r=this,i=t.getComponent(as);if(this.undoData.object){var o=this.undoData.object;return new(B())((function(e,n){t.contains(o)?n(mn):(t.add(o),e(o))}))}return i.add(e,n).then((function(e){var n=e.id,i=t.getObject(n);return r.undoData.object=i,Ma(Oa(i,(function(){return ka(n,i,!1)}))),e}))},undo:function(t){return t.remove(this.undoData.object),B().resolve()}};hr.register(ss);var cs=It.FILTER,us=null,ls={name:Rt,execute:function(t,e,n,r){var i=t.getComponent(cs);if("mask"===e){var o=t.getObject(n.maskObjId);if(!o||!o.isType("image"))return B().reject(hn);W()(n,{mask:o}),t.remove(n.mask)}if(!this.isRedo){var a=function(t,e,n){var r={};return"mask"===t&&(r.object=n.mask),r.options=e,r}(e,i.getOptions(e),n);us=this.setUndoData(a,us,r)}return i.add(e,n)},undo:function(t,e){var n=t.getComponent(cs);if("mask"===e){var r=this.undoData.object;return t.add(r),t.setActiveObject(r),n.remove(e)}return this.undoData.options?n.add(e,this.undoData.options):n.remove(e)}};hr.register(ls);var fs=It.ICON,hs={name:Ft,execute:function(t,e,n){var r=this;return new(B())((function(i,o){var a=t.getComponent(fs),s=t.getObject(e);s||o(gn),r.undoData.object=s,r.undoData.color=a.getColor(s),a.setColor(n,s),i()}))},undo:function(t){var e=t.getComponent(fs),n=this.undoData,r=n.object,i=n.color;return e.setColor(i,r),B().resolve()}};hr.register(hs);var ds=It.SHAPE,ps=null,vs={name:Ut,execute:function(t,e,n,r){var i=t.getComponent(ds),o=t.getObject(e);if(!o)return B().reject(gn);if(!this.isRedo){var a=function(t,e){var n={object:e,options:{}};return Vi()(t,(function(t,r){n.options[r]=e[r]})),n}(n,o);ps=this.setUndoData(a,ps,r)}return i.change(o,n)},undo:function(t){var e=t.getComponent(ds),n=this.undoData,r=n.object,i=n.options;return e.change(r,i)}};hr.register(vs);var gs=It.TEXT,ms={name:Yt,execute:function(t,e,n){var r=t.getComponent(gs),i=t.getObject(e);return i?(this.undoData.object=i,this.undoData.text=r.getText(i),r.change(i,n)):B().reject(gn)},undo:function(t){var e=t.getComponent(gs),n=this.undoData,r=n.object,i=n.text;return e.change(r,i)}};hr.register(ms);var ys=It.TEXT,bs=null,_s={name:Vt,execute:function(t,e,n,r){var i=t.getComponent(ys),o=t.getObject(e);if(!o)return B().reject(gn);if(!this.isRedo){var a=function(t,e){var n={object:e,styles:{}};return Vi()(t,(function(t,r){var i=e[r];n.styles[r]=i})),n}(n,o);bs=this.setUndoData(a,bs,r)}return i.setStyle(o,n)},undo:function(t){var e=t.getComponent(ys),n=this.undoData,r=n.object,i=n.styles;return e.setStyle(r,i)}};hr.register(_s);var ws={name:At,execute:function(t){var e=this;return new(B())((function(n){e.undoData.objects=t.removeAll(),n()}))},undo:function(t){return t.add(this.undoData.objects),B().resolve()}};hr.register(ws);var xs=It.FLIP,Ss={name:Dt,execute:function(t,e){var n=t.getComponent(xs);return this.undoData.setting=n.getCurrentSetting(),n[e]()},undo:function(t){return t.getComponent(xs).set(this.undoData.setting)}};hr.register(Ss);var Cs=It.IMAGE_LOADER,Ms={name:Tt,execute:function(t,e,n){var r,i=t.getComponent(Cs),o=i.getCanvasImage(),a=o?o.width:0,s=o?o.height:0,c=zi()(r=t.removeAll(!0)).call(r,(function(t){return"cropzone"!==t.type}));return at()(c).call(c,(function(t){t.evented=!0})),this.undoData={name:i.getImageName(),image:o,objects:c},i.load(e,n).then((function(t){return{oldWidth:a,oldHeight:s,newWidth:t.width,newHeight:t.height}}))},undo:function(t){var e=t.getComponent(Cs),n=this.undoData,r=n.objects,i=n.name,o=n.image;return t.removeAll(!0),t.add(r),e.load(i,o)}};hr.register(Ms);var Os=It.FILTER,ks={name:Bt,execute:function(t,e){var n=t.getComponent(Os);return this.undoData.options=n.getOptions(e),n.remove(e)},undo:function(t,e){var n=t.getComponent(Os),r=this.undoData.options;return n.add(e,r)}};hr.register(ks);var Es={name:Nt,execute:function(t,e){var n=this;return new(B())((function(r,i){n.undoData.objects=t.removeObjectById(e),n.undoData.objects.length?r():i(gn)}))},undo:function(t){return t.add(this.undoData.objects),B().resolve()}};hr.register(Es);var Is={name:Xt,execute:function(t,e){var n=this;return new(B())((function(r){n.undoData.size={width:t.cssMaxWidth,height:t.cssMaxHeight},t.setCssMaxDimension(e),t.adjustCanvasDimension(),r()}))},undo:function(t){return t.setCssMaxDimension(this.undoData.size),t.adjustCanvasDimension(),B().resolve()}};hr.register(Is);var js=It.ROTATION,As=null,Ts={name:Pt,execute:function(t,e,n,r){var i=t.getComponent(js);if(!this.isRedo){var o=function(t){return{angle:t.getCurrentAngle()}}(i);As=this.setUndoData(o,As,r)}return i[e](n)},undo:function(t){var e=t.getComponent(js),n=et(this.args,3),r=n[1],i=n[2];return"setAngle"===r?e[r](this.undoData.angle):e.rotate(-i)}};hr.register(Ts);var Ds={name:Kt,execute:function(t,e,n){var r=this,i=t.getObject(e);return i?(this.undoData.props={},Vi()(n,(function(t,e){r.undoData.props[e]=i[e]})),t.setObjectProperties(e,n),B().resolve()):B().reject(gn)},undo:function(t,e){var n=this.undoData.props;return t.setObjectProperties(e,n),B().resolve()}};hr.register(Ds);var Ps={name:Zt,execute:function(t,e,n){return t.getObject(e)?(this.undoData.objectId=e,this.undoData.props=t.getObjectProperties(e,["left","top"]),t.setObjectPosition(e,n),t.renderAll(),B().resolve()):B().reject(gn)},undo:function(t){var e=this.undoData,n=e.objectId,r=e.props;return t.setObjectProperties(n,r),t.renderAll(),B().resolve()}};hr.register(Ps);var Ls={name:qt,execute:function(t,e){return this.isRedo?at()(e).call(e,(function(e){t.setObjectProperties(e.id,e)})):this.undoData=Ca,B().resolve()},undo:function(t){var e;return at()(e=this.undoData).call(e,(function(e){t.setObjectProperties(e.id,e)})),B().resolve()}};hr.register(Ls);var Ns=It.RESIZE,Rs={name:Qt,execute:function(t,e){var n=t.getComponent(Ns),r=n.getOriginalDimensions();return r||(r=n.getCurrentDimensions()),this.undoData.dimensions=r,n.resize(e)},undo:function(t){return t.getComponent(Ns).resize(this.undoData.dimensions)}};hr.register(Rs);var Bs=$a}(),a=a.default}()},"object"===u(e)&&"object"===u(i)?i.exports=c(n(1251)):(a=[n(1251)],void 0===(s="function"===typeof(o=c)?o.apply(e,a):o)||(i.exports=s))}).call(this,n(1289).Buffer,n(350),n(157)(t))},1289:function(t,e,n){"use strict";(function(t){var r=n(1290),i=n(1291),o=n(1292);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(t,o+h)!==u(e,h)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return U(F(e,t.length-n),t,n,r)}function w(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function S(t,e,n,r){return U(H(e),t,n,r)}function C(t,e,n,r){return U(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,u=t[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z(t[o]);return i}function j(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||A(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||A(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||A(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||A(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||A(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:F(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(53))},1290:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},1291:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+d]=255&a,d+=p,a/=256,u-=8);t[n+d-p]|=128*v}},1292:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},1293:function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:W(t)}function r(t){return c(t)?t:Y(t)}function i(t){return u(t)?t:V(t)}function o(t){return s(t)&&!l(t)?t:G(t)}function s(t){return!(!t||!t[h])}function c(t){return!(!t||!t[d])}function u(t){return!(!t||!t[p])}function l(t){return c(t)||u(t)}function f(t){return!(!t||!t[v])}e(r,n),e(i,n),e(o,n),n.isIterable=s,n.isKeyed=c,n.isIndexed=u,n.isAssociative=l,n.isOrdered=f,n.Keyed=r,n.Indexed=i,n.Set=o;var h="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",g={},m={value:!1},y={value:!1};function b(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function w(){}function x(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function M(){return!0}function O(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function k(t,e){return I(t,e,0)}function E(t,e){return I(t,e,e)}function I(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var j,A,T,D="function"===typeof Symbol&&Symbol.iterator,P=D||"@@iterator";function L(t){this.next=t}function N(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function R(){return{value:void 0,done:!0}}function B(t){return!!H(t)}function z(t){return t&&"function"===typeof t.next}function F(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(D&&t[D]||t["@@iterator"]);if("function"===typeof e)return e}function U(t){return t&&"number"===typeof t.length}function W(t){return null===t||void 0===t?J():s(t)?t.toSeq():function(t){var e=et(t)||"object"===a(t)&&new K(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null===t||void 0===t?J().toKeyedSeq():s(t)?c(t)?t.toSeq():t.fromEntrySeq():$(t)}function V(t){return null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t.toIndexedSeq():tt(t)}function G(t){return(null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t:tt(t)).toSetSeq()}function X(t){this._array=t,this.size=t.length}function K(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function Z(t){this._iterable=t,this.size=t.length||t.size}function q(t){this._iterator=t,this._iteratorCache=[]}function Q(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function J(){return j||(j=new X([]))}function $(t){var e=Array.isArray(t)?new X(t).fromEntrySeq():z(t)?new q(t).fromEntrySeq():B(t)?new Z(t).fromEntrySeq():"object"===a(t)?new K(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function tt(t){var e=et(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function et(t){return U(t)?new X(t):z(t)?new q(t):B(t)?new Z(t):void 0}function nt(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function rt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new L((function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:N(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function it(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,V(n).map((function(r,i){return t(e,r,i,n)}))):at(n)?e.call(i,r,Y(n).map((function(r,i){return t(e,r,i,n)}))):n}(e,t,"",{"":t}):ot(t)}function ot(t){return Array.isArray(t)?V(t).map(ot).toList():at(t)?Y(t).map(ot).toMap():t}function at(t){return t&&(t.constructor===Object||void 0===t.constructor)}function st(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function ct(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||c(t)!==c(e)||u(t)!==u(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(f(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&st(i[1],t)&&(n||st(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!st(e,t.get(r,g)):!st(t.get(r,g),e))return a=!1,!1}));return a&&t.size===h}function ut(t,e){if(!(this instanceof ut))return new ut(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(A)return A;A=this}}function lt(t,e){if(!t)throw new Error(e)}function ft(t,e,n){if(!(this instanceof ft))return new ft(t,e,n);if(lt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(T)return T;T=this}}function ht(){throw TypeError("Abstract")}function dt(){}function pt(){}function vt(){}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=0,L.VALUES=1,L.ENTRIES=2,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[P]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return nt(this,t,e,!0)},W.prototype.__iterator=function(t,e){return rt(this,t,e,!0)},e(Y,W),Y.prototype.toKeyedSeq=function(){return this},e(V,W),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return nt(this,t,e,!1)},V.prototype.__iterator=function(t,e){return rt(this,t,e,!1)},e(G,W),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},W.isSeq=Q,W.Keyed=Y,W.Set=G,W.Indexed=V,W.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(X,V),X.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},X.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},X.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new L((function(){return i>r?{value:void 0,done:!0}:N(t,i,n[e?r-i++:i++])}))},e(K,Y),K.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},K.prototype.has=function(t){return this._object.hasOwnProperty(t)},K.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},K.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new L((function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:N(t,a,n[a])}))},K.prototype[v]=!0,e(Z,V),Z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=F(this._iterable),r=0;if(z(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},Z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=F(this._iterable);if(!z(n))return new L(R);var r=0;return new L((function(){var e=n.next();return e.done?e:N(t,r++,e.value)}))},e(q,V),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new L((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return N(t,i,r[i++])}))},e(ut,V),ut.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ut.prototype.get=function(t,e){return this.has(t)?this._value:e},ut.prototype.includes=function(t){return st(this._value,t)},ut.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:new ut(this._value,E(e,n)-k(t,n))},ut.prototype.reverse=function(){return this},ut.prototype.indexOf=function(t){return st(this._value,t)?0:-1},ut.prototype.lastIndexOf=function(t){return st(this._value,t)?this.size:-1},ut.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ut.prototype.__iterator=function(t,e){var n=this,r=0;return new L((function(){return r<n.size?N(t,r++,n._value):{value:void 0,done:!0}}))},ut.prototype.equals=function(t){return t instanceof ut?st(this._value,t._value):ct(t)},e(ft,V),ft.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ft.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},ft.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ft.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=k(t,this.size),(e=E(e,this.size))<=t?new ft(0,0):new ft(this.get(t,this._end),this.get(e,this._end),this._step))},ft.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},ft.prototype.lastIndexOf=function(t){return this.indexOf(t)},ft.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},ft.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new L((function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:N(t,o++,a)}))},ft.prototype.equals=function(t){return t instanceof ft?this._start===t._start&&this._end===t._end&&this._step===t._step:ct(this,t)},e(ht,n),e(dt,ht),e(pt,ht),e(vt,ht),ht.Keyed=dt,ht.Indexed=pt,ht.Set=vt;var gt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function mt(t){return t>>>1&1073741824|3221225471&t}function yt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=a(t);if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return mt(n)}if("string"===e)return t.length>Ot?function(t){var e=It[t];return void 0===e&&(e=bt(t),Et===kt&&(Et=0,It={}),Et++,It[t]=e),e}(t):bt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(St&&void 0!==(e=_t.get(t)))return e;if(void 0!==(e=t[Mt]))return e;if(!xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ct,1073741824&Ct&&(Ct=0),St)_t.set(t,e);else{if(void 0!==wt&&!1===wt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(xt)Object.defineProperty(t,Mt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Mt]=e}}return e}(t);if("function"===typeof t.toString)return bt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function bt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return mt(e)}var _t,wt=Object.isExtensible,xt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),St="function"===typeof WeakMap;St&&(_t=new WeakMap);var Ct=0,Mt="__immutablehash__";"function"===typeof Symbol&&(Mt=Symbol(Mt));var Ot=16,kt=255,Et=0,It={};function jt(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function At(t){return null===t||void 0===t?Vt():Tt(t)&&!f(t)?t:Vt().withMutations((function(e){var n=r(t);jt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Tt(t){return!(!t||!t[Pt])}e(At,dt),At.prototype.toString=function(){return this.__toString("Map {","}")},At.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},At.prototype.set=function(t,e){return Gt(this,t,e)},At.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},At.prototype.remove=function(t){return Gt(this,t,g)},At.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},At.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},At.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===g,a=n.next();if(a.done){var s=o?r:e,c=i(s);return c===s?e:c}lt(o||e&&e.set,"invalid keyPath");var u=a.value,l=o?g:e.get(u,g),f=t(l,n,r,i);return f===l?e:f===g?e.remove(u):(o?Vt():e).set(u,f)}(this,qe(t),e,n);return r===g?void 0:r},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},At.prototype.merge=function(){return qt(this,void 0,arguments)},At.prototype.mergeWith=function(e){var n=t.call(arguments,1);return qt(this,e,n)},At.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},At.prototype.mergeDeep=function(){return qt(this,Qt,arguments)},At.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return qt(this,Jt(e),n)},At.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},At.prototype.sort=function(t){return xe(ze(this,t))},At.prototype.sortBy=function(t,e){return xe(ze(this,e,t))},At.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},At.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},At.prototype.asImmutable=function(){return this.__ensureOwner()},At.prototype.wasAltered=function(){return this.__altered},At.prototype.__iterator=function(t,e){return new Ht(this,t,e)},At.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},At.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},At.isMap=Tt;var Dt,Pt="@@__IMMUTABLE_MAP__@@",Lt=At.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Rt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Bt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ht(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Wt(t._root)}function Ut(t,e){return N(t,e[0],e[1])}function Wt(t,e){return{node:t,index:0,__prev:e}}function Yt(t,e,n,r){var i=Object.create(Lt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Vt(){return Dt||(Dt=Yt(0))}function Gt(t,e,n){var r,i;if(t._root){var o=b(m),a=b(y);if(r=Xt(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===g?-1:1:0)}else{if(n===g)return t;i=1,r=new Nt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Yt(i,r):Vt()}function Xt(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===g?t:(_(s),_(a),new Ft(e,r,[i,o]))}function Kt(t){return t.constructor===Ft||t.constructor===zt}function Zt(t,e,n,r,i){if(t.keyHash===r)return new zt(e,r,[t.entry,i]);var o,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Rt(e,1<<a|1<<s,a===s?[Zt(t,e,n+5,r,i)]:(o=new Ft(e,r,i),a<s?[t,o]:[o,t]))}function qt(t,e,n){for(var i=[],o=0;o<n.length;o++){var a=n[o],c=r(a);s(a)||(c=c.map((function(t){return it(t)}))),i.push(c)}return $t(t,e,i)}function Qt(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):st(t,e)?t:e}function Jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return st(e,i)?e:i}}function $t(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function te(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ee(t,e,n,r){var i=r?t:x(t);return i[e]=n,i}Lt[Pt]=!0,Lt.delete=Lt.remove,Lt.removeIn=Lt.deleteIn,Nt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(st(n,i[o][0]))return i[o][1];return r},Nt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===g,c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(_(a),(s||!f)&&_(o),!s||1!==c.length){if(!f&&!s&&c.length>=ne)return function(t,e,n,r){t||(t=new w);for(var i=new Ft(t,yt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,c,r,i);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new Nt(t,d)}},Rt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0===(o&i)?r:this.nodes[te(o&i-1)].get(t+5,e,n,r)},Rt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&i===g)return this;var f=te(u&c-1),h=this.nodes,d=l?h[f]:void 0,p=Xt(d,t,e+5,n,r,i,o,a);if(p===d)return this;if(!l&&p&&h.length>=re)return function(t,e,n,r,i){for(var o=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new Bt(t,o+1,a)}(t,h,u,s,p);if(l&&!p&&2===h.length&&Kt(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&Kt(p))return p;var v=t&&t===this.ownerID,m=l?p?u:u^c:u|c,y=l?p?ee(h,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(h,f,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}(h,f,p,v);return v?(this.bitmap=m,this.nodes=y,this):new Rt(t,m,y)},Bt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},Bt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=i===g,u=this.nodes,l=u[s];if(c&&!l)return this;var f=Xt(l,t,e+5,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<ie)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,u=e.length;s<u;s++,c<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=c,a[o++]=l)}return new Rt(t,i,a)}(t,u,h,s)}else h++;var d=t&&t===this.ownerID,p=ee(u,s,f,d);return d?(this.count=h,this.nodes=p,this):new Bt(t,h,p)},zt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(st(n,i[o][0]))return i[o][1];return r},zt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=i===g;if(n!==this.keyHash)return s?this:(_(a),_(o),Zt(this,t,e,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(_(a),(s||!f)&&_(o),s&&2===l)return new Ft(t,this.keyHash,c[1^u]);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new zt(t,this.keyHash,d)},Ft.prototype.get=function(t,e,n,r){return st(n,this.entry[0])?this.entry[1]:r},Ft.prototype.update=function(t,e,n,r,i,o,a){var s=i===g,c=st(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(_(a),s?void _(o):c?t&&t===this.ownerID?(this.entry[1]=i,this):new Ft(t,this.keyHash,[r,i]):(_(o),Zt(this,t,e,yt(r),[r,i])))},Nt.prototype.iterate=zt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Rt.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Ft.prototype.iterate=function(t,e){return t(this.entry)},e(Ht,L),Ht.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Ut(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Ut(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Ut(t,o.entry);e=this._stack=Wt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ne=8,re=16,ie=8;function oe(t){var e=ve();if(null===t||void 0===t)return e;if(ae(t))return t;var n=i(t),r=n.size;return 0===r?e:(jt(r),r>0&&r<32?pe(0,r,5,null,new ue(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ae(t){return!(!t||!t[se])}e(oe,pt),oe.of=function(){return this(arguments)},oe.prototype.toString=function(){return this.__toString("List [","]")},oe.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ye(this,t+=this._origin);return n&&n.array[31&t]}return e},oe.prototype.set=function(t,e){return function(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?be(t,e).set(0,n):be(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=b(y);return e>=we(t._capacity)?r=ge(r,t.__ownerID,0,e,n,o):i=ge(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},oe.prototype.insert=function(t,e){return this.splice(t,0,e)},oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ve()},oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){be(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},oe.prototype.pop=function(){return be(this,0,-1)},oe.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){be(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},oe.prototype.shift=function(){return be(this,1)},oe.prototype.merge=function(){return _e(this,void 0,arguments)},oe.prototype.mergeWith=function(e){var n=t.call(arguments,1);return _e(this,e,n)},oe.prototype.mergeDeep=function(){return _e(this,Qt,arguments)},oe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,Jt(e),n)},oe.prototype.setSize=function(t){return be(this,0,t)},oe.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:be(this,k(t,n),E(e,n))},oe.prototype.__iterator=function(t,e){var n=0,r=de(this,e);return new L((function(){var e=r();return e===he?{value:void 0,done:!0}:N(t,n++,e)}))},oe.prototype.__iterate=function(t,e){for(var n,r=0,i=de(this,e);(n=i())!==he&&!1!==t(n,r++,this););return r},oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},oe.isList=ae;var se="@@__IMMUTABLE_LIST__@@",ce=oe.prototype;function ue(t,e){this.array=t,this.ownerID=e}ce[se]=!0,ce.delete=ce.remove,ce.setIn=Lt.setIn,ce.deleteIn=ce.removeIn=Lt.removeIn,ce.update=Lt.update,ce.updateIn=Lt.updateIn,ce.mergeIn=Lt.mergeIn,ce.mergeDeepIn=Lt.mergeDeepIn,ce.withMutations=Lt.withMutations,ce.asMutable=Lt.asMutable,ce.asImmutable=Lt.asImmutable,ce.wasAltered=Lt.wasAltered,ue.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ue([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-5,n))===a&&o)return this}if(o&&!i)return this;var s=me(this,t);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},ue.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var a=me(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var le,fe,he={};function de(t,e){var n=t._origin,r=t._capacity,i=we(r),o=t._tail;return a(t._root,t._level,0);function a(t,s,c){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,c=a>n?0:n-a,u=r-a;return u>32&&(u=32),function(){if(c===u)return he;var t=e?--u:c++;return s&&s[t]}}(t,c):function(t,i,o){var s,c=t&&t.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>32&&(l=32),function(){for(;;){if(s){var t=s();if(t!==he)return t;s=null}if(u===l)return he;var n=e?--l:u++;s=a(c&&c[n],i-5,o+(n<<i))}}}(t,s,c)}}function pe(t,e,n,r,i,o,a){var s=Object.create(ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function ve(){return le||(le=pe(0,0,5))}function ge(t,e,n,r,i,o){var a,s=r>>>n&31,c=t&&s<t.array.length;if(!c&&void 0===i)return t;if(n>0){var u=t&&t.array[s],l=ge(u,e,n-5,r,i,o);return l===u?t:((a=me(t,e)).array[s]=l,a)}return c&&t.array[s]===i?t:(_(o),a=me(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function me(t,e){return e&&t&&e===t.ownerID?t:new ue(t?t.array.slice():[],e)}function ye(t,e){if(e>=we(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function be(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new w,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,l=0;a+l<0;)u=new ue(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=we(o),h=we(s);h>=1<<c+5;)u=new ue(u&&u.array.length?[u]:[],r),c+=5;var d=t._tail,p=h<f?ye(t,s-1):h>f?new ue([],r):d;if(d&&h>f&&a<o&&d.array.length){for(var v=u=me(u,r),g=c;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=me(v.array[m],r)}v.array[f>>>5&31]=d}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=5,u=null,p=p&&p.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;u;){var y=a>>>c&31;if(y!==h>>>c&31)break;y&&(l+=(1<<c)*y),c-=5,u=u.array[y]}u&&a>i&&(u=u.removeBefore(r,c,a-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=p,t.__hash=void 0,t.__altered=!0,t):pe(a,s,c,u,p)}function _e(t,e,n){for(var r=[],o=0,a=0;a<n.length;a++){var c=n[a],u=i(c);u.size>o&&(o=u.size),s(c)||(u=u.map((function(t){return it(t)}))),r.push(u)}return o>t.size&&(t=t.setSize(o)),$t(t,e,r)}function we(t){return t<32?0:t-1>>>5<<5}function xe(t){return null===t||void 0===t?Me():Se(t)?t:Me().withMutations((function(e){var n=r(t);jt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Se(t){return Tt(t)&&f(t)}function Ce(t,e,n,r){var i=Object.create(xe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Me(){return fe||(fe=Ce(Vt(),ve()))}function Oe(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),c=void 0!==s;if(n===g){if(!c)return t;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ce(r,i)}function ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ee(t){this._iter=t,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function je(t){this._iter=t,this.size=t.size}function Ae(t){var e=Xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ke,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new L((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Te(t,e,n){var r=Xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,g);return o===g?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new L((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return N(r,s,e.call(n,a[1],s,t),i)}))},r}function De(t,e){var n=Xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ke,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function Pe(t,e,n,r){var i=Xe(t);return r&&(i.has=function(r){var i=t.get(r,g);return i!==g&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,g);return o!==g&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,c){if(e.call(n,t,o,c))return s++,i(t,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),s=0;return new L((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(e.call(n,l,u,t))return N(i,r?u:s++,l,o)}}))},i}function Le(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),O(e,n,i))return t;var o=k(e,i),a=E(n,i);if(o!==o||a!==a)return Le(t.toSeq().cacheResult(),e,n,r);var s,c=a-o;c===c&&(s=c<0?0:c);var u=Xe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&Q(t)&&s>=0&&(u.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+o,n):n}),u.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,u=0;return t.__iterate((function(t,n){if(!c||!(c=a++<o))return u++,!1!==e(t,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,c=0;return new L((function(){for(;a++<o;)i.next();if(++c>s)return{value:void 0,done:!0};var t=i.next();return r||1===e?t:N(e,c-1,0===e?void 0:t.value[1],t)}))},u}function Ne(t,e,n,r){var i=Xe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return t.__iterate((function(t,o,u){if(!s||!(s=e.call(n,t,o,u)))return c++,i(t,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(2,o),c=!0,u=0;return new L((function(){var t,o,l;do{if((t=s.next()).done)return r||1===i?t:N(i,u++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],c&&(c=e.call(n,l,o,a))}while(c);return 2===i?t:N(i,o,l,t)}))},i}function Re(t,e){var n=c(t),i=[t].concat(e).map((function(t){return s(t)?n&&(t=r(t)):t=n?$(t):tt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&c(o)||u(t)&&u(o))return o}var a=new X(i);return n?a=a.toKeyedSeq():u(t)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),a}function Be(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=0,a=!1;return function t(c,u){var l=this;c.__iterate((function(i,c){return(!e||u<e)&&s(i)?t(i,u+1):!1===r(i,n?c:o++,l)&&(a=!0),!a}),i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),a=[],c=0;return new L((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(a.length<e)||!s(u))return n?t:N(r,c++,u,t);a.push(o),o=u.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function ze(t,e,n){e||(e=Ze);var r=c(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?Y(o):u(t)?V(o):G(o)}function Fe(t,e,n){if(e||(e=Ze),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return He(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return He(e,t,n)?n:t}))}function He(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ue(t,e,r){var i=Xe(t);return i.size=new X(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),F(i?t.reverse():t)})),a=0,s=!1;return new L((function(){var n;return s||(n=o.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:N(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function We(t,e){return Q(t)?e:t.constructor(e)}function Ye(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ve(t){return jt(t.size),S(t)}function Ge(t){return c(t)?r:u(t)?i:o}function Xe(t){return Object.create((c(t)?Y:u(t)?V:G).prototype)}function Ke(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function Ze(t,e){return t>e?1:t<e?-1:0}function qe(t){var e=F(t);if(!e){if(!U(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(n(t))}return e}function Qe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(en.bind(void 0,t))}catch(n){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=At(o)},i=r.prototype=Object.create(Je);return i.constructor=r,r}e(xe,At),xe.of=function(){return this(arguments)},xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Me()},xe.prototype.set=function(t,e){return Oe(this,t,e)},xe.prototype.remove=function(t){return Oe(this,t,g)},xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ce(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},xe.isOrderedMap=Se,xe.prototype[v]=!0,xe.prototype.delete=xe.prototype.remove,e(ke,Y),ke.prototype.get=function(t,e){return this._iter.get(t,e)},ke.prototype.has=function(t){return this._iter.has(t)},ke.prototype.valueSeq=function(){return this._iter.valueSeq()},ke.prototype.reverse=function(){var t=this,e=De(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ke.prototype.map=function(t,e){var n=this,r=Te(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},ke.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ve(this):0,function(i){return t(i,e?--n:n++,r)}),e)},ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ve(this):0;return new L((function(){var i=n.next();return i.done?i:N(t,e?--r:r++,i.value,i)}))},ke.prototype[v]=!0,e(Ee,V),Ee.prototype.includes=function(t){return this._iter.includes(t)},Ee.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ee.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new L((function(){var e=n.next();return e.done?e:N(t,r++,e.value,e)}))},e(Ie,G),Ie.prototype.has=function(t){return this._iter.includes(t)},Ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L((function(){var e=n.next();return e.done?e:N(t,e.value,e.value,e)}))},e(je,Y),je.prototype.entrySeq=function(){return this._iter.toSeq()},je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Ye(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ye(r);var i=s(r);return N(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Ee.prototype.cacheResult=ke.prototype.cacheResult=Ie.prototype.cacheResult=je.prototype.cacheResult=Ke,e(Qe,dt),Qe.prototype.toString=function(){return this.__toString(tn(this)+" {","}")},Qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=$e(this,Vt()))},Qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+tn(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:$e(this,n)},Qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:$e(this,e)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()},Qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?$e(this,e,t):(this.__ownerID=t,this._map=e,this)};var Je=Qe.prototype;function $e(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function tn(t){return t._name||t.constructor.name||"Record"}function en(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function nn(t){return null===t||void 0===t?ln():rn(t)&&!f(t)?t:ln().withMutations((function(e){var n=o(t);jt(n.size),n.forEach((function(t){return e.add(t)}))}))}function rn(t){return!(!t||!t[an])}Je.delete=Je.remove,Je.deleteIn=Je.removeIn=Lt.removeIn,Je.merge=Lt.merge,Je.mergeWith=Lt.mergeWith,Je.mergeIn=Lt.mergeIn,Je.mergeDeep=Lt.mergeDeep,Je.mergeDeepWith=Lt.mergeDeepWith,Je.mergeDeepIn=Lt.mergeDeepIn,Je.setIn=Lt.setIn,Je.update=Lt.update,Je.updateIn=Lt.updateIn,Je.withMutations=Lt.withMutations,Je.asMutable=Lt.asMutable,Je.asImmutable=Lt.asImmutable,e(nn,vt),nn.of=function(){return this(arguments)},nn.fromKeys=function(t){return this(r(t).keySeq())},nn.prototype.toString=function(){return this.__toString("Set {","}")},nn.prototype.has=function(t){return this._map.has(t)},nn.prototype.add=function(t){return cn(this,this._map.set(t,!0))},nn.prototype.remove=function(t){return cn(this,this._map.remove(t))},nn.prototype.clear=function(){return cn(this,this._map.clear())},nn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},nn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},nn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},nn.prototype.merge=function(){return this.union.apply(this,arguments)},nn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},nn.prototype.sort=function(t){return fn(ze(this,t))},nn.prototype.sortBy=function(t,e){return fn(ze(this,e,t))},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},nn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},nn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},nn.isSet=rn;var on,an="@@__IMMUTABLE_SET__@@",sn=nn.prototype;function cn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function un(t,e){var n=Object.create(sn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ln(){return on||(on=un(Vt()))}function fn(t){return null===t||void 0===t?gn():hn(t)?t:gn().withMutations((function(e){var n=o(t);jt(n.size),n.forEach((function(t){return e.add(t)}))}))}function hn(t){return rn(t)&&f(t)}sn[an]=!0,sn.delete=sn.remove,sn.mergeDeep=sn.merge,sn.mergeDeepWith=sn.mergeWith,sn.withMutations=Lt.withMutations,sn.asMutable=Lt.asMutable,sn.asImmutable=Lt.asImmutable,sn.__empty=ln,sn.__make=un,e(fn,nn),fn.of=function(){return this(arguments)},fn.fromKeys=function(t){return this(r(t).keySeq())},fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},fn.isOrderedSet=hn;var dn,pn=fn.prototype;function vn(t,e){var n=Object.create(pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return dn||(dn=vn(Me()))}function mn(t){return null===t||void 0===t?Sn():yn(t)?t:Sn().unshiftAll(t)}function yn(t){return!(!t||!t[_n])}pn[v]=!0,pn.__empty=gn,pn.__make=vn,e(mn,pt),mn.of=function(){return this(arguments)},mn.prototype.toString=function(){return this.__toString("Stack [","]")},mn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},mn.prototype.peek=function(){return this._head&&this._head.value},mn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):xn(t,e)},mn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;jt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},mn.prototype.pop=function(){return this.slice(1)},mn.prototype.unshift=function(){return this.push.apply(this,arguments)},mn.prototype.unshiftAll=function(t){return this.pushAll(t)},mn.prototype.shift=function(){return this.pop.apply(this,arguments)},mn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sn()},mn.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var n=k(t,this.size);if(E(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):xn(r,i)},mn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},mn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},mn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new L((function(){if(r){var e=r.value;return r=r.next,N(t,n++,e)}return{value:void 0,done:!0}}))},mn.isStack=yn;var bn,_n="@@__IMMUTABLE_STACK__@@",wn=mn.prototype;function xn(t,e,n,r){var i=Object.create(wn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Sn(){return bn||(bn=xn(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}wn[_n]=!0,wn.withMutations=Lt.withMutations,wn.asMutable=Lt.asMutable,wn.asImmutable=Lt.asImmutable,wn.wasAltered=Lt.wasAltered,n.Iterator=L,Cn(n,{toArray:function(){jt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new ke(this,!0)},toMap:function(){return At(this.toKeyedSeq())},toObject:function(){jt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return xe(this.toKeyedSeq())},toOrderedSet:function(){return fn(c(this)?this.valueSeq():this)},toSet:function(){return nn(c(this)?this.valueSeq():this)},toSetSeq:function(){return new Ie(this)},toSeq:function(){return u(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mn(c(this)?this.valueSeq():this)},toList:function(){return oe(c(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return We(this,Re(this,e))},includes:function(t){return this.some((function(e){return st(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){jt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return We(this,Pe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return jt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){jt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return We(this,Te(this,t,e))},reduce:function(t,e,n){var r,i;return jt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return We(this,De(this,!0))},slice:function(t,e){return We(this,Le(this,t,e,!0))},some:function(t,e){return!this.every(In(t),e)},sort:function(t){return We(this,ze(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=At().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ct(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(In(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(M)},flatMap:function(t,e){return We(this,function(t,e,n){var r=Ge(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return We(this,Be(this,t,!0))},fromEntrySeq:function(){return new je(this)},get:function(t,e){return this.find((function(e,n){return st(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=qe(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,g):g)===g)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=c(t),i=(f(t)?xe():At()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=Ge(t);return i.map((function(e){return We(t,o(e))}))}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Fe(this,t)},maxBy:function(t,e){return Fe(this,e,t)},min:function(t){return Fe(this,t?jn(t):Dn)},minBy:function(t,e){return Fe(this,e?jn(e):Dn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return We(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return We(this,Ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(In(t),e)},sortBy:function(t,e){return We(this,ze(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return We(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return We(this,function(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(2,i),s=!0;return new L((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,c=i[0],u=i[1];return e.call(n,u,c,o)?2===r?t:N(r,c,u,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(In(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),n=c(t),r=e?1:0;return function(t,e){return e=gt(e,3432918353),e=gt(e<<15|e>>>-15,461845907),e=gt(e<<13|e>>>-13,5),e=gt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=mt((e=gt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Pn(yt(t),yt(e))|0}:function(t,e){r=r+Pn(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var Mn=n.prototype;Mn[h]=!0,Mn[P]=Mn.values,Mn.__toJS=Mn.toArray,Mn.__toStringMapper=An,Mn.inspect=Mn.toSource=function(){return this.toString()},Mn.chain=Mn.flatMap,Mn.contains=Mn.includes,function(){try{Object.defineProperty(Mn,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Cn(r,{flip:function(){return We(this,Ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return st(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return st(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return We(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return We(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var On=r.prototype;function kn(t,e){return e}function En(t,e){return[e,t]}function In(t){return function(){return!t.apply(this,arguments)}}function jn(t){return function(){return-t.apply(this,arguments)}}function An(t){return"string"===typeof t?JSON.stringify(t):t}function Tn(){return x(arguments)}function Dn(t,e){return t<e?1:t>e?-1:0}function Pn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return On[d]=!0,On[P]=Mn.entries,On.__toJS=Mn.toObject,On.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+An(t)},Cn(i,{toKeyedSeq:function(){return new ke(this,!1)},filter:function(t,e){return We(this,Pe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return We(this,De(this,!1))},slice:function(t,e){return We(this,Le(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=k(t,t<0?this.count():this.size);var r=this.slice(0,t);return We(this,1===n?r:r.concat(x(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return We(this,Be(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return We(this,function(t,e){var n=Xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),a=0;return new L((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?N(n,a++,e):N(n,a++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(x(arguments)),e=Ue(this.toSeq(),V.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),We(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return We(this,Ne(this,t,e,!1))},zip:function(){var t=[this].concat(x(arguments));return We(this,Ue(this,Tn,t))},zipWith:function(t){var e=x(arguments);return e[0]=this,We(this,Ue(this,t,e))}}),i.prototype[p]=!0,i.prototype[v]=!0,Cn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Mn.includes,Cn(Y,r.prototype),Cn(V,i.prototype),Cn(G,o.prototype),Cn(dt,r.prototype),Cn(pt,i.prototype),Cn(vt,o.prototype),{Iterable:n,Seq:W,Collection:ht,Map:At,OrderedMap:xe,List:oe,Stack:mn,Set:nn,OrderedSet:fn,Record:Qe,Range:ft,Repeat:ut,is:st,fromJS:it}},"object"===a(e)&&"undefined"!==typeof t?t.exports=o():void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},1294:function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:W(t)}function r(t){return c(t)?t:Y(t)}function i(t){return u(t)?t:V(t)}function o(t){return s(t)&&!l(t)?t:G(t)}function s(t){return!(!t||!t[h])}function c(t){return!(!t||!t[d])}function u(t){return!(!t||!t[p])}function l(t){return c(t)||u(t)}function f(t){return!(!t||!t[v])}e(r,n),e(i,n),e(o,n),n.isIterable=s,n.isKeyed=c,n.isIndexed=u,n.isAssociative=l,n.isOrdered=f,n.Keyed=r,n.Indexed=i,n.Set=o;var h="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",g={},m={value:!1},y={value:!1};function b(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function w(){}function x(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function M(){return!0}function O(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function k(t,e){return I(t,e,0)}function E(t,e){return I(t,e,e)}function I(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var j,A,T,D="function"===typeof Symbol&&Symbol.iterator,P=D||"@@iterator";function L(t){this.next=t}function N(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function R(){return{value:void 0,done:!0}}function B(t){return!!H(t)}function z(t){return t&&"function"===typeof t.next}function F(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(D&&t[D]||t["@@iterator"]);if("function"===typeof e)return e}function U(t){return t&&"number"===typeof t.length}function W(t){return null===t||void 0===t?J():s(t)?t.toSeq():function(t){var e=et(t)||"object"===a(t)&&new K(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null===t||void 0===t?J().toKeyedSeq():s(t)?c(t)?t.toSeq():t.fromEntrySeq():$(t)}function V(t){return null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t.toIndexedSeq():tt(t)}function G(t){return(null===t||void 0===t?J():s(t)?c(t)?t.entrySeq():t:tt(t)).toSetSeq()}function X(t){this._array=t,this.size=t.length}function K(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function Z(t){this._iterable=t,this.size=t.length||t.size}function q(t){this._iterator=t,this._iteratorCache=[]}function Q(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function J(){return j||(j=new X([]))}function $(t){var e=Array.isArray(t)?new X(t).fromEntrySeq():z(t)?new q(t).fromEntrySeq():B(t)?new Z(t).fromEntrySeq():"object"===a(t)?new K(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function tt(t){var e=et(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function et(t){return U(t)?new X(t):z(t)?new q(t):B(t)?new Z(t):void 0}function nt(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function rt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new L((function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:N(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function it(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,V(n).map((function(r,i){return t(e,r,i,n)}))):at(n)?e.call(i,r,Y(n).map((function(r,i){return t(e,r,i,n)}))):n}(e,t,"",{"":t}):ot(t)}function ot(t){return Array.isArray(t)?V(t).map(ot).toList():at(t)?Y(t).map(ot).toMap():t}function at(t){return t&&(t.constructor===Object||void 0===t.constructor)}function st(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function ct(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||c(t)!==c(e)||u(t)!==u(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(f(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&st(i[1],t)&&(n||st(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!st(e,t.get(r,g)):!st(t.get(r,g),e))return a=!1,!1}));return a&&t.size===h}function ut(t,e){if(!(this instanceof ut))return new ut(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(A)return A;A=this}}function lt(t,e){if(!t)throw new Error(e)}function ft(t,e,n){if(!(this instanceof ft))return new ft(t,e,n);if(lt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(T)return T;T=this}}function ht(){throw TypeError("Abstract")}function dt(){}function pt(){}function vt(){}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=0,L.VALUES=1,L.ENTRIES=2,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[P]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return nt(this,t,e,!0)},W.prototype.__iterator=function(t,e){return rt(this,t,e,!0)},e(Y,W),Y.prototype.toKeyedSeq=function(){return this},e(V,W),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return nt(this,t,e,!1)},V.prototype.__iterator=function(t,e){return rt(this,t,e,!1)},e(G,W),G.of=function(){return G(arguments)},G.prototype.toSetSeq=function(){return this},W.isSeq=Q,W.Keyed=Y,W.Set=G,W.Indexed=V,W.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(X,V),X.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},X.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},X.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new L((function(){return i>r?{value:void 0,done:!0}:N(t,i,n[e?r-i++:i++])}))},e(K,Y),K.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},K.prototype.has=function(t){return this._object.hasOwnProperty(t)},K.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},K.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new L((function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:N(t,a,n[a])}))},K.prototype[v]=!0,e(Z,V),Z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=F(this._iterable),r=0;if(z(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},Z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=F(this._iterable);if(!z(n))return new L(R);var r=0;return new L((function(){var e=n.next();return e.done?e:N(t,r++,e.value)}))},e(q,V),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new L((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return N(t,i,r[i++])}))},e(ut,V),ut.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ut.prototype.get=function(t,e){return this.has(t)?this._value:e},ut.prototype.includes=function(t){return st(this._value,t)},ut.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:new ut(this._value,E(e,n)-k(t,n))},ut.prototype.reverse=function(){return this},ut.prototype.indexOf=function(t){return st(this._value,t)?0:-1},ut.prototype.lastIndexOf=function(t){return st(this._value,t)?this.size:-1},ut.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ut.prototype.__iterator=function(t,e){var n=this,r=0;return new L((function(){return r<n.size?N(t,r++,n._value):{value:void 0,done:!0}}))},ut.prototype.equals=function(t){return t instanceof ut?st(this._value,t._value):ct(t)},e(ft,V),ft.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ft.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},ft.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ft.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=k(t,this.size),(e=E(e,this.size))<=t?new ft(0,0):new ft(this.get(t,this._end),this.get(e,this._end),this._step))},ft.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},ft.prototype.lastIndexOf=function(t){return this.indexOf(t)},ft.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},ft.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new L((function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:N(t,o++,a)}))},ft.prototype.equals=function(t){return t instanceof ft?this._start===t._start&&this._end===t._end&&this._step===t._step:ct(this,t)},e(ht,n),e(dt,ht),e(pt,ht),e(vt,ht),ht.Keyed=dt,ht.Indexed=pt,ht.Set=vt;var gt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function mt(t){return t>>>1&1073741824|3221225471&t}function yt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=a(t);if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return mt(n)}if("string"===e)return t.length>Ot?function(t){var e=It[t];return void 0===e&&(e=bt(t),Et===kt&&(Et=0,It={}),Et++,It[t]=e),e}(t):bt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(St&&void 0!==(e=_t.get(t)))return e;if(void 0!==(e=t[Mt]))return e;if(!xt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ct,1073741824&Ct&&(Ct=0),St)_t.set(t,e);else{if(void 0!==wt&&!1===wt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(xt)Object.defineProperty(t,Mt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Mt]=e}}return e}(t);if("function"===typeof t.toString)return bt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function bt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return mt(e)}var _t,wt=Object.isExtensible,xt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),St="function"===typeof WeakMap;St&&(_t=new WeakMap);var Ct=0,Mt="__immutablehash__";"function"===typeof Symbol&&(Mt=Symbol(Mt));var Ot=16,kt=255,Et=0,It={};function jt(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function At(t){return null===t||void 0===t?Vt():Tt(t)&&!f(t)?t:Vt().withMutations((function(e){var n=r(t);jt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Tt(t){return!(!t||!t[Pt])}e(At,dt),At.prototype.toString=function(){return this.__toString("Map {","}")},At.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},At.prototype.set=function(t,e){return Gt(this,t,e)},At.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},At.prototype.remove=function(t){return Gt(this,t,g)},At.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},At.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},At.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===g,a=n.next();if(a.done){var s=o?r:e,c=i(s);return c===s?e:c}lt(o||e&&e.set,"invalid keyPath");var u=a.value,l=o?g:e.get(u,g),f=t(l,n,r,i);return f===l?e:f===g?e.remove(u):(o?Vt():e).set(u,f)}(this,qe(t),e,n);return r===g?void 0:r},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},At.prototype.merge=function(){return qt(this,void 0,arguments)},At.prototype.mergeWith=function(e){var n=t.call(arguments,1);return qt(this,e,n)},At.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},At.prototype.mergeDeep=function(){return qt(this,Qt,arguments)},At.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return qt(this,Jt(e),n)},At.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},At.prototype.sort=function(t){return xe(ze(this,t))},At.prototype.sortBy=function(t,e){return xe(ze(this,e,t))},At.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},At.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},At.prototype.asImmutable=function(){return this.__ensureOwner()},At.prototype.wasAltered=function(){return this.__altered},At.prototype.__iterator=function(t,e){return new Ht(this,t,e)},At.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},At.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},At.isMap=Tt;var Dt,Pt="@@__IMMUTABLE_MAP__@@",Lt=At.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Rt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Bt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ht(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Wt(t._root)}function Ut(t,e){return N(t,e[0],e[1])}function Wt(t,e){return{node:t,index:0,__prev:e}}function Yt(t,e,n,r){var i=Object.create(Lt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Vt(){return Dt||(Dt=Yt(0))}function Gt(t,e,n){var r,i;if(t._root){var o=b(m),a=b(y);if(r=Xt(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===g?-1:1:0)}else{if(n===g)return t;i=1,r=new Nt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Yt(i,r):Vt()}function Xt(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===g?t:(_(s),_(a),new Ft(e,r,[i,o]))}function Kt(t){return t.constructor===Ft||t.constructor===zt}function Zt(t,e,n,r,i){if(t.keyHash===r)return new zt(e,r,[t.entry,i]);var o,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Rt(e,1<<a|1<<s,a===s?[Zt(t,e,n+5,r,i)]:(o=new Ft(e,r,i),a<s?[t,o]:[o,t]))}function qt(t,e,n){for(var i=[],o=0;o<n.length;o++){var a=n[o],c=r(a);s(a)||(c=c.map((function(t){return it(t)}))),i.push(c)}return $t(t,e,i)}function Qt(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):st(t,e)?t:e}function Jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return st(e,i)?e:i}}function $t(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function te(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ee(t,e,n,r){var i=r?t:x(t);return i[e]=n,i}Lt[Pt]=!0,Lt.delete=Lt.remove,Lt.removeIn=Lt.deleteIn,Nt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(st(n,i[o][0]))return i[o][1];return r},Nt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===g,c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(_(a),(s||!f)&&_(o),!s||1!==c.length){if(!f&&!s&&c.length>=ne)return function(t,e,n,r){t||(t=new w);for(var i=new Ft(t,yt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,c,r,i);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new Nt(t,d)}},Rt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0===(o&i)?r:this.nodes[te(o&i-1)].get(t+5,e,n,r)},Rt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&i===g)return this;var f=te(u&c-1),h=this.nodes,d=l?h[f]:void 0,p=Xt(d,t,e+5,n,r,i,o,a);if(p===d)return this;if(!l&&p&&h.length>=re)return function(t,e,n,r,i){for(var o=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new Bt(t,o+1,a)}(t,h,u,s,p);if(l&&!p&&2===h.length&&Kt(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&Kt(p))return p;var v=t&&t===this.ownerID,m=l?p?u:u^c:u|c,y=l?p?ee(h,f,p,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(h,f,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}(h,f,p,v);return v?(this.bitmap=m,this.nodes=y,this):new Rt(t,m,y)},Bt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},Bt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=31&(0===e?n:n>>>e),c=i===g,u=this.nodes,l=u[s];if(c&&!l)return this;var f=Xt(l,t,e+5,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<ie)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,u=e.length;s<u;s++,c<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=c,a[o++]=l)}return new Rt(t,i,a)}(t,u,h,s)}else h++;var d=t&&t===this.ownerID,p=ee(u,s,f,d);return d?(this.count=h,this.nodes=p,this):new Bt(t,h,p)},zt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(st(n,i[o][0]))return i[o][1];return r},zt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=yt(r));var s=i===g;if(n!==this.keyHash)return s?this:(_(a),_(o),Zt(this,t,e,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!st(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(_(a),(s||!f)&&_(o),s&&2===l)return new Ft(t,this.keyHash,c[1^u]);var h=t&&t===this.ownerID,d=h?c:x(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new zt(t,this.keyHash,d)},Ft.prototype.get=function(t,e,n,r){return st(n,this.entry[0])?this.entry[1]:r},Ft.prototype.update=function(t,e,n,r,i,o,a){var s=i===g,c=st(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(_(a),s?void _(o):c?t&&t===this.ownerID?(this.entry[1]=i,this):new Ft(t,this.keyHash,[r,i]):(_(o),Zt(this,t,e,yt(r),[r,i])))},Nt.prototype.iterate=zt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Rt.prototype.iterate=Bt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Ft.prototype.iterate=function(t,e){return t(this.entry)},e(Ht,L),Ht.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Ut(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Ut(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Ut(t,o.entry);e=this._stack=Wt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ne=8,re=16,ie=8;function oe(t){var e=ve();if(null===t||void 0===t)return e;if(ae(t))return t;var n=i(t),r=n.size;return 0===r?e:(jt(r),r>0&&r<32?pe(0,r,5,null,new ue(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ae(t){return!(!t||!t[se])}e(oe,pt),oe.of=function(){return this(arguments)},oe.prototype.toString=function(){return this.__toString("List [","]")},oe.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ye(this,t+=this._origin);return n&&n.array[31&t]}return e},oe.prototype.set=function(t,e){return function(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?be(t,e).set(0,n):be(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=b(y);return e>=we(t._capacity)?r=ge(r,t.__ownerID,0,e,n,o):i=ge(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},oe.prototype.insert=function(t,e){return this.splice(t,0,e)},oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ve()},oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){be(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},oe.prototype.pop=function(){return be(this,0,-1)},oe.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){be(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},oe.prototype.shift=function(){return be(this,1)},oe.prototype.merge=function(){return _e(this,void 0,arguments)},oe.prototype.mergeWith=function(e){var n=t.call(arguments,1);return _e(this,e,n)},oe.prototype.mergeDeep=function(){return _e(this,Qt,arguments)},oe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,Jt(e),n)},oe.prototype.setSize=function(t){return be(this,0,t)},oe.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:be(this,k(t,n),E(e,n))},oe.prototype.__iterator=function(t,e){var n=0,r=de(this,e);return new L((function(){var e=r();return e===he?{value:void 0,done:!0}:N(t,n++,e)}))},oe.prototype.__iterate=function(t,e){for(var n,r=0,i=de(this,e);(n=i())!==he&&!1!==t(n,r++,this););return r},oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},oe.isList=ae;var se="@@__IMMUTABLE_LIST__@@",ce=oe.prototype;function ue(t,e){this.array=t,this.ownerID=e}ce[se]=!0,ce.delete=ce.remove,ce.setIn=Lt.setIn,ce.deleteIn=ce.removeIn=Lt.removeIn,ce.update=Lt.update,ce.updateIn=Lt.updateIn,ce.mergeIn=Lt.mergeIn,ce.mergeDeepIn=Lt.mergeDeepIn,ce.withMutations=Lt.withMutations,ce.asMutable=Lt.asMutable,ce.asImmutable=Lt.asImmutable,ce.wasAltered=Lt.wasAltered,ue.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ue([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-5,n))===a&&o)return this}if(o&&!i)return this;var s=me(this,t);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},ue.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var a=me(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var le,fe,he={};function de(t,e){var n=t._origin,r=t._capacity,i=we(r),o=t._tail;return a(t._root,t._level,0);function a(t,s,c){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,c=a>n?0:n-a,u=r-a;return u>32&&(u=32),function(){if(c===u)return he;var t=e?--u:c++;return s&&s[t]}}(t,c):function(t,i,o){var s,c=t&&t.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>32&&(l=32),function(){for(;;){if(s){var t=s();if(t!==he)return t;s=null}if(u===l)return he;var n=e?--l:u++;s=a(c&&c[n],i-5,o+(n<<i))}}}(t,s,c)}}function pe(t,e,n,r,i,o,a){var s=Object.create(ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function ve(){return le||(le=pe(0,0,5))}function ge(t,e,n,r,i,o){var a,s=r>>>n&31,c=t&&s<t.array.length;if(!c&&void 0===i)return t;if(n>0){var u=t&&t.array[s],l=ge(u,e,n-5,r,i,o);return l===u?t:((a=me(t,e)).array[s]=l,a)}return c&&t.array[s]===i?t:(_(o),a=me(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function me(t,e){return e&&t&&e===t.ownerID?t:new ue(t?t.array.slice():[],e)}function ye(t,e){if(e>=we(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function be(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new w,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,l=0;a+l<0;)u=new ue(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=we(o),h=we(s);h>=1<<c+5;)u=new ue(u&&u.array.length?[u]:[],r),c+=5;var d=t._tail,p=h<f?ye(t,s-1):h>f?new ue([],r):d;if(d&&h>f&&a<o&&d.array.length){for(var v=u=me(u,r),g=c;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=me(v.array[m],r)}v.array[f>>>5&31]=d}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=5,u=null,p=p&&p.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;u;){var y=a>>>c&31;if(y!==h>>>c&31)break;y&&(l+=(1<<c)*y),c-=5,u=u.array[y]}u&&a>i&&(u=u.removeBefore(r,c,a-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=p,t.__hash=void 0,t.__altered=!0,t):pe(a,s,c,u,p)}function _e(t,e,n){for(var r=[],o=0,a=0;a<n.length;a++){var c=n[a],u=i(c);u.size>o&&(o=u.size),s(c)||(u=u.map((function(t){return it(t)}))),r.push(u)}return o>t.size&&(t=t.setSize(o)),$t(t,e,r)}function we(t){return t<32?0:t-1>>>5<<5}function xe(t){return null===t||void 0===t?Me():Se(t)?t:Me().withMutations((function(e){var n=r(t);jt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Se(t){return Tt(t)&&f(t)}function Ce(t,e,n,r){var i=Object.create(xe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Me(){return fe||(fe=Ce(Vt(),ve()))}function Oe(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),c=void 0!==s;if(n===g){if(!c)return t;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ce(r,i)}function ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ee(t){this._iter=t,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function je(t){this._iter=t,this.size=t.size}function Ae(t){var e=Xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ke,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new L((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Te(t,e,n){var r=Xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,g);return o===g?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new L((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return N(r,s,e.call(n,a[1],s,t),i)}))},r}function De(t,e){var n=Xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ke,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function Pe(t,e,n,r){var i=Xe(t);return r&&(i.has=function(r){var i=t.get(r,g);return i!==g&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,g);return o!==g&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,c){if(e.call(n,t,o,c))return s++,i(t,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),s=0;return new L((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(e.call(n,l,u,t))return N(i,r?u:s++,l,o)}}))},i}function Le(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),O(e,n,i))return t;var o=k(e,i),a=E(n,i);if(o!==o||a!==a)return Le(t.toSeq().cacheResult(),e,n,r);var s,c=a-o;c===c&&(s=c<0?0:c);var u=Xe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&Q(t)&&s>=0&&(u.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+o,n):n}),u.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,c=!0,u=0;return t.__iterate((function(t,n){if(!c||!(c=a++<o))return u++,!1!==e(t,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,c=0;return new L((function(){for(;a++<o;)i.next();if(++c>s)return{value:void 0,done:!0};var t=i.next();return r||1===e?t:N(e,c-1,0===e?void 0:t.value[1],t)}))},u}function Ne(t,e,n,r){var i=Xe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return t.__iterate((function(t,o,u){if(!s||!(s=e.call(n,t,o,u)))return c++,i(t,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(2,o),c=!0,u=0;return new L((function(){var t,o,l;do{if((t=s.next()).done)return r||1===i?t:N(i,u++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],c&&(c=e.call(n,l,o,a))}while(c);return 2===i?t:N(i,o,l,t)}))},i}function Re(t,e){var n=c(t),i=[t].concat(e).map((function(t){return s(t)?n&&(t=r(t)):t=n?$(t):tt(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&c(o)||u(t)&&u(o))return o}var a=new X(i);return n?a=a.toKeyedSeq():u(t)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),a}function Be(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=0,a=!1;return function t(c,u){var l=this;c.__iterate((function(i,c){return(!e||u<e)&&s(i)?t(i,u+1):!1===r(i,n?c:o++,l)&&(a=!0),!a}),i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),a=[],c=0;return new L((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(a.length<e)||!s(u))return n?t:N(r,c++,u,t);a.push(o),o=u.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function ze(t,e,n){e||(e=Ze);var r=c(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?Y(o):u(t)?V(o):G(o)}function Fe(t,e,n){if(e||(e=Ze),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return He(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return He(e,t,n)?n:t}))}function He(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ue(t,e,r){var i=Xe(t);return i.size=new X(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),F(i?t.reverse():t)})),a=0,s=!1;return new L((function(){var n;return s||(n=o.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:N(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function We(t,e){return Q(t)?e:t.constructor(e)}function Ye(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ve(t){return jt(t.size),S(t)}function Ge(t){return c(t)?r:u(t)?i:o}function Xe(t){return Object.create((c(t)?Y:u(t)?V:G).prototype)}function Ke(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function Ze(t,e){return t>e?1:t<e?-1:0}function qe(t){var e=F(t);if(!e){if(!U(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(n(t))}return e}function Qe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(en.bind(void 0,t))}catch(n){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=At(o)},i=r.prototype=Object.create(Je);return i.constructor=r,r}e(xe,At),xe.of=function(){return this(arguments)},xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Me()},xe.prototype.set=function(t,e){return Oe(this,t,e)},xe.prototype.remove=function(t){return Oe(this,t,g)},xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ce(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},xe.isOrderedMap=Se,xe.prototype[v]=!0,xe.prototype.delete=xe.prototype.remove,e(ke,Y),ke.prototype.get=function(t,e){return this._iter.get(t,e)},ke.prototype.has=function(t){return this._iter.has(t)},ke.prototype.valueSeq=function(){return this._iter.valueSeq()},ke.prototype.reverse=function(){var t=this,e=De(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ke.prototype.map=function(t,e){var n=this,r=Te(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},ke.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ve(this):0,function(i){return t(i,e?--n:n++,r)}),e)},ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ve(this):0;return new L((function(){var i=n.next();return i.done?i:N(t,e?--r:r++,i.value,i)}))},ke.prototype[v]=!0,e(Ee,V),Ee.prototype.includes=function(t){return this._iter.includes(t)},Ee.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ee.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new L((function(){var e=n.next();return e.done?e:N(t,r++,e.value,e)}))},e(Ie,G),Ie.prototype.has=function(t){return this._iter.includes(t)},Ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L((function(){var e=n.next();return e.done?e:N(t,e.value,e.value,e)}))},e(je,Y),je.prototype.entrySeq=function(){return this._iter.toSeq()},je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Ye(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ye(r);var i=s(r);return N(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Ee.prototype.cacheResult=ke.prototype.cacheResult=Ie.prototype.cacheResult=je.prototype.cacheResult=Ke,e(Qe,dt),Qe.prototype.toString=function(){return this.__toString(tn(this)+" {","}")},Qe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Qe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Qe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=$e(this,Vt()))},Qe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+tn(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:$e(this,n)},Qe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:$e(this,e)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()},Qe.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Qe.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?$e(this,e,t):(this.__ownerID=t,this._map=e,this)};var Je=Qe.prototype;function $e(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function tn(t){return t._name||t.constructor.name||"Record"}function en(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function nn(t){return null===t||void 0===t?ln():rn(t)&&!f(t)?t:ln().withMutations((function(e){var n=o(t);jt(n.size),n.forEach((function(t){return e.add(t)}))}))}function rn(t){return!(!t||!t[an])}Je.delete=Je.remove,Je.deleteIn=Je.removeIn=Lt.removeIn,Je.merge=Lt.merge,Je.mergeWith=Lt.mergeWith,Je.mergeIn=Lt.mergeIn,Je.mergeDeep=Lt.mergeDeep,Je.mergeDeepWith=Lt.mergeDeepWith,Je.mergeDeepIn=Lt.mergeDeepIn,Je.setIn=Lt.setIn,Je.update=Lt.update,Je.updateIn=Lt.updateIn,Je.withMutations=Lt.withMutations,Je.asMutable=Lt.asMutable,Je.asImmutable=Lt.asImmutable,e(nn,vt),nn.of=function(){return this(arguments)},nn.fromKeys=function(t){return this(r(t).keySeq())},nn.prototype.toString=function(){return this.__toString("Set {","}")},nn.prototype.has=function(t){return this._map.has(t)},nn.prototype.add=function(t){return cn(this,this._map.set(t,!0))},nn.prototype.remove=function(t){return cn(this,this._map.remove(t))},nn.prototype.clear=function(){return cn(this,this._map.clear())},nn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},nn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},nn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},nn.prototype.merge=function(){return this.union.apply(this,arguments)},nn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},nn.prototype.sort=function(t){return fn(ze(this,t))},nn.prototype.sortBy=function(t,e){return fn(ze(this,e,t))},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},nn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},nn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},nn.isSet=rn;var on,an="@@__IMMUTABLE_SET__@@",sn=nn.prototype;function cn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function un(t,e){var n=Object.create(sn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ln(){return on||(on=un(Vt()))}function fn(t){return null===t||void 0===t?gn():hn(t)?t:gn().withMutations((function(e){var n=o(t);jt(n.size),n.forEach((function(t){return e.add(t)}))}))}function hn(t){return rn(t)&&f(t)}sn[an]=!0,sn.delete=sn.remove,sn.mergeDeep=sn.merge,sn.mergeDeepWith=sn.mergeWith,sn.withMutations=Lt.withMutations,sn.asMutable=Lt.asMutable,sn.asImmutable=Lt.asImmutable,sn.__empty=ln,sn.__make=un,e(fn,nn),fn.of=function(){return this(arguments)},fn.fromKeys=function(t){return this(r(t).keySeq())},fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},fn.isOrderedSet=hn;var dn,pn=fn.prototype;function vn(t,e){var n=Object.create(pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return dn||(dn=vn(Me()))}function mn(t){return null===t||void 0===t?Sn():yn(t)?t:Sn().unshiftAll(t)}function yn(t){return!(!t||!t[_n])}pn[v]=!0,pn.__empty=gn,pn.__make=vn,e(mn,pt),mn.of=function(){return this(arguments)},mn.prototype.toString=function(){return this.__toString("Stack [","]")},mn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},mn.prototype.peek=function(){return this._head&&this._head.value},mn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):xn(t,e)},mn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;jt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},mn.prototype.pop=function(){return this.slice(1)},mn.prototype.unshift=function(){return this.push.apply(this,arguments)},mn.prototype.unshiftAll=function(t){return this.pushAll(t)},mn.prototype.shift=function(){return this.pop.apply(this,arguments)},mn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sn()},mn.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var n=k(t,this.size);if(E(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):xn(r,i)},mn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},mn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},mn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new L((function(){if(r){var e=r.value;return r=r.next,N(t,n++,e)}return{value:void 0,done:!0}}))},mn.isStack=yn;var bn,_n="@@__IMMUTABLE_STACK__@@",wn=mn.prototype;function xn(t,e,n,r){var i=Object.create(wn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Sn(){return bn||(bn=xn(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}wn[_n]=!0,wn.withMutations=Lt.withMutations,wn.asMutable=Lt.asMutable,wn.asImmutable=Lt.asImmutable,wn.wasAltered=Lt.wasAltered,n.Iterator=L,Cn(n,{toArray:function(){jt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new ke(this,!0)},toMap:function(){return At(this.toKeyedSeq())},toObject:function(){jt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return xe(this.toKeyedSeq())},toOrderedSet:function(){return fn(c(this)?this.valueSeq():this)},toSet:function(){return nn(c(this)?this.valueSeq():this)},toSetSeq:function(){return new Ie(this)},toSeq:function(){return u(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mn(c(this)?this.valueSeq():this)},toList:function(){return oe(c(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return We(this,Re(this,e))},includes:function(t){return this.some((function(e){return st(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){jt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return We(this,Pe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return jt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){jt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return We(this,Te(this,t,e))},reduce:function(t,e,n){var r,i;return jt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return We(this,De(this,!0))},slice:function(t,e){return We(this,Le(this,t,e,!0))},some:function(t,e){return!this.every(In(t),e)},sort:function(t){return We(this,ze(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=At().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ct(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(In(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(M)},flatMap:function(t,e){return We(this,function(t,e,n){var r=Ge(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return We(this,Be(this,t,!0))},fromEntrySeq:function(){return new je(this)},get:function(t,e){return this.find((function(e,n){return st(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=qe(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,g):g)===g)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=c(t),i=(f(t)?xe():At()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=Ge(t);return i.map((function(e){return We(t,o(e))}))}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Fe(this,t)},maxBy:function(t,e){return Fe(this,e,t)},min:function(t){return Fe(this,t?jn(t):Dn)},minBy:function(t,e){return Fe(this,e?jn(e):Dn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return We(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return We(this,Ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(In(t),e)},sortBy:function(t,e){return We(this,ze(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return We(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return We(this,function(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(2,i),s=!0;return new L((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,c=i[0],u=i[1];return e.call(n,u,c,o)?2===r?t:N(r,c,u,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(In(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),n=c(t),r=e?1:0;return function(t,e){return e=gt(e,3432918353),e=gt(e<<15|e>>>-15,461845907),e=gt(e<<13|e>>>-13,5),e=gt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=mt((e=gt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Pn(yt(t),yt(e))|0}:function(t,e){r=r+Pn(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var Mn=n.prototype;Mn[h]=!0,Mn[P]=Mn.values,Mn.__toJS=Mn.toArray,Mn.__toStringMapper=An,Mn.inspect=Mn.toSource=function(){return this.toString()},Mn.chain=Mn.flatMap,Mn.contains=Mn.includes,function(){try{Object.defineProperty(Mn,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Cn(r,{flip:function(){return We(this,Ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return st(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return st(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return We(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return We(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var On=r.prototype;function kn(t,e){return e}function En(t,e){return[e,t]}function In(t){return function(){return!t.apply(this,arguments)}}function jn(t){return function(){return-t.apply(this,arguments)}}function An(t){return"string"===typeof t?JSON.stringify(t):t}function Tn(){return x(arguments)}function Dn(t,e){return t<e?1:t>e?-1:0}function Pn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return On[d]=!0,On[P]=Mn.entries,On.__toJS=Mn.toObject,On.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+An(t)},Cn(i,{toKeyedSeq:function(){return new ke(this,!1)},filter:function(t,e){return We(this,Pe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return We(this,De(this,!1))},slice:function(t,e){return We(this,Le(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=k(t,t<0?this.count():this.size);var r=this.slice(0,t);return We(this,1===n?r:r.concat(x(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return We(this,Be(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return We(this,function(t,e){var n=Xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),a=0;return new L((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?N(n,a++,e):N(n,a++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(x(arguments)),e=Ue(this.toSeq(),V.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),We(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return We(this,Ne(this,t,e,!1))},zip:function(){var t=[this].concat(x(arguments));return We(this,Ue(this,Tn,t))},zipWith:function(t){var e=x(arguments);return e[0]=this,We(this,Ue(this,t,e))}}),i.prototype[p]=!0,i.prototype[v]=!0,Cn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Mn.includes,Cn(Y,r.prototype),Cn(V,i.prototype),Cn(G,o.prototype),Cn(dt,r.prototype),Cn(pt,i.prototype),Cn(vt,o.prototype),{Iterable:n,Seq:W,Collection:ht,Map:At,OrderedMap:xe,List:oe,Stack:mn,Set:nn,OrderedSet:fn,Record:Qe,Range:ft,Repeat:ut,is:st,fromJS:it}},"object"===a(e)&&"undefined"!==typeof t?t.exports=o():void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},1295:function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,c=a,u=Math.PI,l={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==c(t[e])?t[e].toLowerCase():null},PI:u,TWOPI:2*u,PITHIRD:u/3,DEG2RAD:u/180,RAD2DEG:180/u},f={format:{},autodetect:[]},h=l.last,d=l.clip_rgb,p=l.type,v=f,g=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===p(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),i=!1;if(!r){i=!0,v.sorted||(v.autodetect=v.autodetect.sort((function(t,e){return e.p-t.p})),v.sorted=!0);for(var o=0,a=v.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!v.format[r])throw new Error("unknown format: "+t);var c=v.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=d(c),3===n._rgb.length&&n._rgb.push(1)};g.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var m=g,y=function t(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return new(Function.prototype.bind.apply(t.Color,[null].concat(e)))};y.Color=m,y.version="2.4.2";var b=y,_=l.unpack,w=Math.max,x=l.unpack,S=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=x(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},C=b,M=m,O=f,k=l.unpack,E=l.type,I=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-w(r/=255,w(i/=255,o/=255)),s=a<1?1/(1-a):0,c=(1-r-a)*s,u=(1-i-a)*s,l=(1-o-a)*s;return[c,u,l,a]};M.prototype.cmyk=function(){return I(this._rgb)},C.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(t,["cmyk"])))},O.format.cmyk=S,O.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=k(t,"cmyk"),"array"===E(t)&&4===t.length)return"cmyk"}});var j=l.unpack,A=l.last,T=function(t){return Math.round(100*t)/100},D=l.unpack,P=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=D(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),c=Math.max(n,r,i),u=(c+s)/2;return c===s?(o=0,a=Number.NaN):o=u<.5?(c-s)/(c+s):(c-s)/(2-c-s),n==c?a=(r-i)/(c-s):r==c?a=2+(i-n)/(c-s):i==c&&(a=4+(n-r)/(c-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,u,t[3]]:[a,o,u]},L=l.unpack,N=l.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=j(t,"hsla"),r=A(t)||"lsa";return n[0]=T(n[0]||0),n[1]=T(100*n[1])+"%",n[2]=T(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},B=P,z=Math.round,F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=L(t,"rgba"),r=N(t)||"rgb";return"hsl"==r.substr(0,3)?R(B(n),r):(n[0]=z(n[0]),n[1]=z(n[1]),n[2]=z(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},H=l.unpack,U=Math.round,W=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=H(e,"hsl"))[0],s=e[1],c=e[2];if(0===s)r=i=o=255*c;else{var u=[0,0,0],l=[0,0,0],f=c<.5?c*(1+s):c+s-c*s,h=2*c-f,d=a/360;u[0]=d+1/3,u[1]=d,u[2]=d-1/3;for(var p=0;p<3;p++)u[p]<0&&(u[p]+=1),u[p]>1&&(u[p]-=1),6*u[p]<1?l[p]=h+6*(f-h)*u[p]:2*u[p]<1?l[p]=f:3*u[p]<2?l[p]=h+(f-h)*(2/3-u[p])*6:l[p]=h;r=(t=[U(255*l[0]),U(255*l[1]),U(255*l[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},Y=W,V=f,G=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,X=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,q=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,$=function(t){var e;if(t=t.toLowerCase().trim(),V.format.named)try{return V.format.named(t)}catch(p){}if(e=t.match(G)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(X)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(K)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=J(2.55*a[s]);return a[3]=1,a}if(e=t.match(Z)){for(var c=e.slice(1,5),u=0;u<3;u++)c[u]=J(2.55*c[u]);return c[3]=+c[3],c}if(e=t.match(q)){var l=e.slice(1,4);l[1]*=.01,l[2]*=.01;var f=Y(l);return f[3]=1,f}if(e=t.match(Q)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var d=Y(h);return d[3]=+e[4],d}};$.test=function(t){return G.test(t)||X.test(t)||K.test(t)||Z.test(t)||q.test(t)||Q.test(t)};var tt=b,et=m,nt=f,rt=l.type,it=F,ot=$;et.prototype.css=function(t){return it(this._rgb,t)},tt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(et,[null].concat(t,["css"])))},nt.format.css=ot,nt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===rt(t)&&ot.test(t))return"css"}});var at=m,st=b,ct=l.unpack;f.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ct(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},st.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(at,[null].concat(t,["gl"])))},at.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var ut=l.unpack,lt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=ut(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),c=Math.max(i,o,a),u=c-s,l=100*u/255,f=s/(255-u)*100;return 0===u?n=Number.NaN:(i===c&&(n=(o-a)/u),o===c&&(n=2+(a-i)/u),a===c&&(n=4+(i-o)/u),(n*=60)<0&&(n+=360)),[n,l,f]},ft=l.unpack,ht=Math.floor,dt=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,f=(a=ft(a,"hcg"))[0],h=a[1],d=a[2];d*=255;var p=255*h;if(0===h)c=u=l=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var v=ht(f/=60),g=f-v,m=d*(1-h),y=m+p*(1-g),b=m+p*g,_=m+p;switch(v){case 0:c=(t=[_,b,m])[0],u=t[1],l=t[2];break;case 1:c=(e=[y,_,m])[0],u=e[1],l=e[2];break;case 2:c=(n=[m,_,b])[0],u=n[1],l=n[2];break;case 3:c=(r=[m,y,_])[0],u=r[1],l=r[2];break;case 4:c=(i=[b,m,_])[0],u=i[1],l=i[2];break;case 5:c=(o=[_,m,y])[0],u=o[1],l=o[2]}}return[c,u,l,a.length>3?a[3]:1]},pt=l.unpack,vt=l.type,gt=b,mt=m,yt=f,bt=lt;mt.prototype.hcg=function(){return bt(this._rgb)},gt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(mt,[null].concat(t,["hcg"])))},yt.format.hcg=dt,yt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=pt(t,"hcg"),"array"===vt(t)&&3===t.length)return"hcg"}});var _t=l.unpack,wt=l.last,xt=Math.round,St=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_t(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=wt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var c=(r=xt(r))<<16|(i=xt(i))<<8|(o=xt(o)),u="000000"+c.toString(16);u=u.substr(u.length-6);var l="0"+xt(255*a).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+u+l;case"argb":return"#"+l+u;default:return"#"+u}},Ct=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Mt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ot=function(t){if(t.match(Ct)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Mt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},kt=b,Et=m,It=l.type,jt=f,At=St;Et.prototype.hex=function(t){return At(this._rgb,t)},kt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Et,[null].concat(t,["hex"])))},jt.format.hex=Ot,jt.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===It(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Tt=l.unpack,Dt=l.TWOPI,Pt=Math.min,Lt=Math.sqrt,Nt=Math.acos,Rt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Tt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Pt(i/=255,o/=255,a/=255),c=(i+o+a)/3,u=c>0?1-s/c:0;return 0===u?n=NaN:(n=(i-o+(i-a))/2,n/=Lt((i-o)*(i-o)+(i-a)*(o-a)),n=Nt(n),a>o&&(n=Dt-n),n/=Dt),[360*n,u,c]},Bt=l.unpack,zt=l.limit,Ft=l.TWOPI,Ht=l.PITHIRD,Ut=Math.cos,Wt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Bt(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*Ut(Ft*o)/Ut(Ht-Ft*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*Ut(Ft*(o-=1/3))/Ut(Ht-Ft*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*Ut(Ft*(o-=2/3))/Ut(Ht-Ft*o))/3)),[255*(n=zt(s*n*3)),255*(r=zt(s*r*3)),255*(i=zt(s*i*3)),t.length>3?t[3]:1]},Yt=l.unpack,Vt=l.type,Gt=b,Xt=m,Kt=f,Zt=Rt;Xt.prototype.hsi=function(){return Zt(this._rgb)},Gt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xt,[null].concat(t,["hsi"])))},Kt.format.hsi=Wt,Kt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Yt(t,"hsi"),"array"===Vt(t)&&3===t.length)return"hsi"}});var qt=l.unpack,Qt=l.type,Jt=b,$t=m,te=f,ee=P;$t.prototype.hsl=function(){return ee(this._rgb)},Jt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($t,[null].concat(t,["hsl"])))},te.format.hsl=W,te.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qt(t,"hsl"),"array"===Qt(t)&&3===t.length)return"hsl"}});var ne=l.unpack,re=Math.min,ie=Math.max,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ne(t,"rgb"))[0],a=t[1],s=t[2],c=re(o,a,s),u=ie(o,a,s),l=u-c;return i=u/255,0===u?(n=Number.NaN,r=0):(r=l/u,o===u&&(n=(a-s)/l),a===u&&(n=2+(s-o)/l),s===u&&(n=4+(o-a)/l),(n*=60)<0&&(n+=360)),[n,r,i]},ae=l.unpack,se=Math.floor,ce=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var c,u,l,f=(a=ae(a,"hsv"))[0],h=a[1],d=a[2];if(d*=255,0===h)c=u=l=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=se(f/=60),v=f-p,g=d*(1-h),m=d*(1-h*v),y=d*(1-h*(1-v));switch(p){case 0:c=(t=[d,y,g])[0],u=t[1],l=t[2];break;case 1:c=(e=[m,d,g])[0],u=e[1],l=e[2];break;case 2:c=(n=[g,d,y])[0],u=n[1],l=n[2];break;case 3:c=(r=[g,m,d])[0],u=r[1],l=r[2];break;case 4:c=(i=[y,g,d])[0],u=i[1],l=i[2];break;case 5:c=(o=[d,g,m])[0],u=o[1],l=o[2]}}return[c,u,l,a.length>3?a[3]:1]},ue=l.unpack,le=l.type,fe=b,he=m,de=f,pe=oe;he.prototype.hsv=function(){return pe(this._rgb)},fe.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(he,[null].concat(t,["hsv"])))},de.format.hsv=ce,de.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ue(t,"hsv"),"array"===le(t)&&3===t.length)return"hsv"}});var ve={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ge=ve,me=l.unpack,ye=Math.pow,be=function(t){return(t/=255)<=.04045?t/12.92:ye((t+.055)/1.055,2.4)},_e=function(t){return t>ge.t3?ye(t,1/3):t/ge.t2+ge.t0},we=function(t,e,n){return t=be(t),e=be(e),n=be(n),[_e((.4124564*t+.3575761*e+.1804375*n)/ge.Xn),_e((.2126729*t+.7151522*e+.072175*n)/ge.Yn),_e((.0193339*t+.119192*e+.9503041*n)/ge.Zn)]},xe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=me(t,"rgb"),r=n[0],i=n[1],o=n[2],a=we(r,i,o),s=a[0],c=a[1],u=a[2],l=116*c-16;return[l<0?0:l,500*(s-c),200*(c-u)]},Se=ve,Ce=l.unpack,Me=Math.pow,Oe=function(t){return 255*(t<=.00304?12.92*t:1.055*Me(t,1/2.4)-.055)},ke=function(t){return t>Se.t1?t*t*t:Se.t2*(t-Se.t0)},Ee=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Ce(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Se.Yn*ke(r),n=Se.Xn*ke(n),i=Se.Zn*ke(i),[Oe(3.2404542*n-1.5371385*r-.4985314*i),Oe(-.969266*n+1.8760108*r+.041556*i),Oe(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Ie=l.unpack,je=l.type,Ae=b,Te=m,De=f,Pe=xe;Te.prototype.lab=function(){return Pe(this._rgb)},Ae.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Te,[null].concat(t,["lab"])))},De.format.lab=Ee,De.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ie(t,"lab"),"array"===je(t)&&3===t.length)return"lab"}});var Le=l.unpack,Ne=l.RAD2DEG,Re=Math.sqrt,Be=Math.atan2,ze=Math.round,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Le(t,"lab"),r=n[0],i=n[1],o=n[2],a=Re(i*i+o*o),s=(Be(o,i)*Ne+360)%360;return 0===ze(1e4*a)&&(s=Number.NaN),[r,a,s]},He=l.unpack,Ue=xe,We=Fe,Ye=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=He(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Ue(r,i,o),s=a[0],c=a[1],u=a[2];return We(s,c,u)},Ve=l.unpack,Ge=l.DEG2RAD,Xe=Math.sin,Ke=Math.cos,Ze=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ve(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,Ke(o*=Ge)*i,Xe(o)*i]},qe=l.unpack,Qe=Ze,Je=Ee,$e=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=qe(t,"lch"))[0],r=t[1],i=t[2],o=Qe(n,r,i),a=o[0],s=o[1],c=o[2],u=Je(a,s,c),l=u[0],f=u[1],h=u[2];return[l,f,h,t.length>3?t[3]:1]},tn=l.unpack,en=$e,nn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tn(t,"hcl").reverse();return en.apply(void 0,n)},rn=l.unpack,on=l.type,an=b,sn=m,cn=f,un=Ye;sn.prototype.lch=function(){return un(this._rgb)},sn.prototype.hcl=function(){return un(this._rgb).reverse()},an.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["lch"])))},an.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(sn,[null].concat(t,["hcl"])))},cn.format.lch=$e,cn.format.hcl=nn,["lch","hcl"].forEach((function(t){return cn.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=rn(e,t),"array"===on(e)&&3===e.length)return t}})}));var ln={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fn=f,hn=l.type,dn=ln,pn=Ot,vn=St;m.prototype.name=function(){for(var t=vn(this._rgb,"rgb"),e=0,n=Object.keys(dn);e<n.length;e+=1){var r=n[e];if(dn[r]===t)return r.toLowerCase()}return t},fn.format.named=function(t){if(t=t.toLowerCase(),dn[t])return pn(dn[t]);throw new Error("unknown color name: "+t)},fn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===hn(t)&&dn[t.toLowerCase()])return"named"}});var gn=l.unpack,mn=l.type,yn=function(t){if("number"==mn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},bn=b,_n=m,wn=f,xn=l.type,Sn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=gn(t,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o};_n.prototype.num=function(){return Sn(this._rgb)},bn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(_n,[null].concat(t,["num"])))},wn.format.num=yn,wn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===xn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Cn=b,Mn=m,On=f,kn=l.unpack,En=l.type,In=Math.round;Mn.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(In)},Mn.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:In(e):e}))},Cn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mn,[null].concat(t,["rgb"])))},On.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=kn(t,"rgba");return void 0===n[3]&&(n[3]=1),n},On.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=kn(t,"rgba"),"array"===En(t)&&(3===t.length||4===t.length&&"number"==En(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var jn=Math.log,An=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*jn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*jn(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*jn(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*jn(n),r=255),[e,n,r,1]},Tn=An,Dn=l.unpack,Pn=Math.round,Ln=b,Nn=m,Rn=f,Bn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=Dn(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,c=.4;s-a>c;){var u=Tn(n=.5*(s+a));u[2]/u[0]>=o/i?s=n:a=n}return Pn(n)};Nn.prototype.temp=Nn.prototype.kelvin=Nn.prototype.temperature=function(){return Bn(this._rgb)},Ln.temp=Ln.kelvin=Ln.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Nn,[null].concat(t,["temp"])))},Rn.format.temp=Rn.format.kelvin=Rn.format.temperature=An;var zn=l.unpack,Fn=Math.cbrt,Hn=Math.pow,Un=Math.sign,Wn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=zn(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[Yn(r/255),Yn(i/255),Yn(o/255)],s=a[0],c=a[1],u=a[2],l=Fn(.4122214708*s+.5363325363*c+.0514459929*u),f=Fn(.2119034982*s+.6806995451*c+.1073969566*u),h=Fn(.0883024619*s+.2817188376*c+.6299787005*u);return[.2104542553*l+.793617785*f-.0040720468*h,1.9779984951*l-2.428592205*f+.4505937099*h,.0259040371*l+.7827717662*f-.808675766*h]};function Yn(t){var e=Math.abs(t);return e<.04045?t/12.92:(Un(t)||1)*Hn((e+.055)/1.055,2.4)}var Vn=l.unpack,Gn=Math.pow,Xn=Math.sign,Kn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Vn(t,"lab"))[0],r=t[1],i=t[2],o=Gn(n+.3963377774*r+.2158037573*i,3),a=Gn(n-.1055613458*r-.0638541728*i,3),s=Gn(n-.0894841775*r-1.291485548*i,3);return[255*Zn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Zn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Zn(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function Zn(t){var e=Math.abs(t);return e>.0031308?(Xn(t)||1)*(1.055*Gn(e,1/2.4)-.055):12.92*t}var qn=l.unpack,Qn=l.type,Jn=b,$n=m,tr=f,er=Wn;$n.prototype.oklab=function(){return er(this._rgb)},Jn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply($n,[null].concat(t,["oklab"])))},tr.format.oklab=Kn,tr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qn(t,"oklab"),"array"===Qn(t)&&3===t.length)return"oklab"}});var nr=l.unpack,rr=Wn,ir=Fe,or=l.unpack,ar=Ze,sr=Kn,cr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=or(t,"lch"))[0],r=t[1],i=t[2],o=ar(n,r,i),a=o[0],s=o[1],c=o[2],u=sr(a,s,c),l=u[0],f=u[1],h=u[2];return[l,f,h,t.length>3?t[3]:1]},ur=l.unpack,lr=l.type,fr=b,hr=m,dr=f,pr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=nr(t,"rgb"),r=n[0],i=n[1],o=n[2],a=rr(r,i,o),s=a[0],c=a[1],u=a[2];return ir(s,c,u)};hr.prototype.oklch=function(){return pr(this._rgb)},fr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hr,[null].concat(t,["oklch"])))},dr.format.oklch=cr,dr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ur(t,"oklch"),"array"===lr(t)&&3===t.length)return"oklch"}});var vr=m,gr=l.type;vr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===gr(t)?e?(this._rgb[3]=t,this):new vr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1};var mr=m,yr=ve;mr.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=yr.Kn*t,new mr(e,"lab").alpha(this.alpha(),!0)},mr.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},mr.prototype.darker=mr.prototype.darken,mr.prototype.brighter=mr.prototype.brighten,m.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var br=m,_r=l.type,wr=Math.pow;br.prototype.luminance=function(t){if(void 0!==t&&"number"===_r(t)){if(0===t)return new br([0,0,0,this._rgb[3]],"rgb");if(1===t)return new br([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function e(r,i){var o=r.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?e(r,o):e(o,i)},i=(e>t?r(new br([0,0,0]),this):r(this,new br([255,255,255]))).rgb();return new br(i.concat([this._rgb[3]]))}return xr.apply(void 0,this._rgb.slice(0,3))};var xr=function(t,e,n){return.2126*(t=Sr(t))+.7152*(e=Sr(e))+.0722*(n=Sr(n))},Sr=function(t){return(t/=255)<=.03928?t/12.92:wr((t+.055)/1.055,2.4)},Cr={},Mr=m,Or=l.type,kr=Cr,Er=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(kr[o]||r.length||(o=Object.keys(kr)[0]),!kr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Or(t)&&(t=new Mr(t)),"object"!==Or(e)&&(e=new Mr(e)),kr[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},Ir=m,jr=Er;Ir.prototype.mix=Ir.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return jr.apply(void 0,[this,t,e].concat(n))};var Ar=m;Ar.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new Ar([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var Tr=m,Dr=ve;Tr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Dr.Kn*t,e[1]<0&&(e[1]=0),new Tr(e,"lch").alpha(this.alpha(),!0)},Tr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Pr=m,Lr=l.type;Pr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==Lr(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==Lr(e))throw new Error("unsupported value for Color.set");a[s]=e}var c=new Pr(a,i);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+o+" in mode "+i)}return a};var Nr=m;Cr.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new Nr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Rr=m,Br=Math.sqrt,zr=Math.pow;Cr.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,c=s[0],u=s[1],l=s[2];return new Rr(Br(zr(i,2)*(1-n)+zr(c,2)*n),Br(zr(o,2)*(1-n)+zr(u,2)*n),Br(zr(a,2)*(1-n)+zr(l,2)*n),"rgb")};var Fr=m;Cr.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new Fr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Hr=m,Ur=function(t,e,n,r){var i,o,a,s,c,u,l,f,h,d,p,v,g;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(c=(i=a)[0],l=i[1],h=i[2],u=(o=s)[0],f=o[1],d=o[2]),isNaN(c)||isNaN(u)?isNaN(c)?isNaN(u)?v=Number.NaN:(v=u,1!=h&&0!=h||"hsv"==r||(p=f)):(v=c,1!=d&&0!=d||"hsv"==r||(p=l)):v=c+n*(u>c&&u-c>180?u-(c+360):u<c&&c-u>180?u+360-c:u-c),void 0===p&&(p=l+n*(f-l)),g=h+n*(d-h),new Hr("oklch"===r?[g,p,v]:[v,p,g],r)},Wr=Ur,Yr=function(t,e,n){return Wr(t,e,n,"lch")};Cr.lch=Yr,Cr.hcl=Yr;var Vr=m;Cr.num=function(t,e,n){var r=t.num(),i=e.num();return new Vr(r+n*(i-r),"num")};var Gr=Ur;Cr.hcg=function(t,e,n){return Gr(t,e,n,"hcg")};var Xr=Ur;Cr.hsi=function(t,e,n){return Xr(t,e,n,"hsi")};var Kr=Ur;Cr.hsl=function(t,e,n){return Kr(t,e,n,"hsl")};var Zr=Ur;Cr.hsv=function(t,e,n){return Zr(t,e,n,"hsv")};var qr=m;Cr.oklab=function(t,e,n){var r=t.oklab(),i=e.oklab();return new qr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var Qr=Ur;Cr.oklch=function(t,e,n){return Qr(t,e,n,"oklch")};var Jr=m,$r=l.clip_rgb,ti=Math.pow,ei=Math.sqrt,ni=Math.PI,ri=Math.cos,ii=Math.sin,oi=Math.atan2,ai=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=ti(s[0],2)*a,r[1]+=ti(s[1],2)*a,r[2]+=ti(s[2],2)*a,r[3]+=s[3]*a}return r[0]=ei(r[0]),r[1]=ei(r[1]),r[2]=ei(r[2]),r[3]>.9999999&&(r[3]=1),new Jr($r(r))},si=b,ci=l.type,ui=Math.pow,li=function(t){var e="rgb",n=si("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,c=[],u=!1,l=0,f=1,h=!1,d={},p=!0,v=1,g=function(t){if((t=t||["#fff","#000"])&&"string"===ci(t)&&si.brewer&&si.brewer[t.toLowerCase()]&&(t=si.brewer[t.toLowerCase()]),"array"===ci(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=si(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return _(),c=t},m=function(t){return t},y=function(t){return t},b=function(t,r){var i,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;u=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):f!==l?(t-l)/(f-l):1,u=y(u),r||(u=m(u)),1!==v&&(u=ui(u,v)),u=a[0]+u*(1-a[0]-a[1]),u=Math.min(1,Math.max(0,u));var h=Math.floor(1e4*u);if(p&&d[h])i=d[h];else{if("array"===ci(c))for(var g=0;g<o.length;g++){var b=o[g];if(u<=b){i=c[g];break}if(u>=b&&g===o.length-1){i=c[g];break}if(u>b&&u<o[g+1]){u=(u-b)/(o[g+1]-b),i=si.interpolate(c[g],c[g+1],u,e);break}}else"function"===ci(c)&&(i=c(u));p&&(d[h]=i)}return i},_=function(){return d={}};g(t);var w=function(t){var e=si(b(t));return u&&e[u]?e[u]():e};return w.classes=function(t){if(null!=t){if("array"===ci(t))s=t,i=[t[0],t[t.length-1]];else{var e=si.analyze(i);s=0===t?[e.min,e.max]:si.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;l=t[0],f=t[t.length-1],o=[];var e=c.length;if(t.length===e&&l!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-l)/(f-l))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var u=t.map((function(e,n){return n/(t.length-1)})),h=t.map((function(t){return(t-l)/(f-l)}));h.every((function(t,e){return u[e]===t}))||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]);return u[e]+n*(u[e+1]-u[e])})}}return i=[l,f],w},w.mode=function(t){return arguments.length?(e=t,_(),w):e},w.range=function(t,e){return g(t),w},w.out=function(t){return u=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,_(),m=h?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,c=1,u=20;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(c-t)):(c=t,t+=.5*(s-t)),i=b(t,!0).lab()[0],a=i-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===ci(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=fi(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var u=[];if(s&&s.length>2)for(var l=1,f=s.length,h=1<=f;h?l<f:l>f;h?l++:l--)u.push(.5*(s[l-1]+s[l]));else u=i;r=u.map((function(t){return w(t)}))}return si[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=si(t),w):n},w};function fi(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var hi=m,di=li,pi=b,vi=function t(e,n,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](e,n)},gi=function(t){return function(e,n){var r=pi(n).rgb(),i=pi(e).rgb();return pi.rgb(t(r,i))}},mi=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};vi.normal=gi(mi((function(t){return t}))),vi.multiply=gi(mi((function(t,e){return t*e/255}))),vi.screen=gi(mi((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),vi.overlay=gi(mi((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),vi.darken=gi(mi((function(t,e){return t>e?e:t}))),vi.lighten=gi(mi((function(t,e){return t>e?t:e}))),vi.dodge=gi(mi((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),vi.burn=gi(mi((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var yi=vi,bi=l.type,_i=l.clip_rgb,wi=l.TWOPI,xi=Math.pow,Si=Math.sin,Ci=Math.cos,Mi=b,Oi=m,ki=Math.floor,Ei=Math.random,Ii=a,ji=Math.log,Ai=Math.pow,Ti=Math.floor,Di=Math.abs,Pi=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ii(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Ii(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return Li(n,t,e)},n},Li=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Ii(t)&&(t=Pi(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*ji(r),u=Math.LOG10E*ji(i);a.push(r);for(var l=1;l<n;l++)a.push(Ai(10,c+l/n*(u-c)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var f=1;f<n;f++){var h=(o.length-1)*f/n,d=Ti(h);if(d===h)a.push(o[d]);else{var p=h-d;a.push(o[d]*(1-p)+o[d+1]*p)}}a.push(i)}else if("k"===e.substr(0,1)){var v,g=o.length,m=new Array(g),y=new Array(n),b=!0,_=0,w=null;(w=[]).push(r);for(var x=1;x<n;x++)w.push(r+x/n*(i-r));for(w.push(i);b;){for(var S=0;S<n;S++)y[S]=0;for(var C=0;C<g;C++)for(var M=o[C],O=Number.MAX_VALUE,k=void 0,E=0;E<n;E++){var I=Di(w[E]-M);I<O&&(O=I,k=E),y[k]++,m[C]=k}for(var j=new Array(n),A=0;A<n;A++)j[A]=null;for(var T=0;T<g;T++)null===j[v=m[T]]?j[v]=o[T]:j[v]+=o[T];for(var D=0;D<n;D++)j[D]*=1/y[D];b=!1;for(var P=0;P<n;P++)if(j[P]!==w[P]){b=!0;break}w=j,++_>200&&(b=!1)}for(var L={},N=0;N<n;N++)L[N]=[];for(var R=0;R<g;R++)L[v=m[R]].push(o[R]);for(var B=[],z=0;z<n;z++)B.push(L[z][0]),B.push(L[z][L[z].length-1]);B=B.sort((function(t,e){return t-e})),a.push(B[0]);for(var F=1;F<B.length;F+=2){var H=B[F];isNaN(H)||-1!==a.indexOf(H)||a.push(H)}}return a},Ni={analyze:Pi,limits:Li},Ri=m,Bi=m,zi=Math.sqrt,Fi=Math.pow,Hi=Math.min,Ui=Math.max,Wi=Math.atan2,Yi=Math.abs,Vi=Math.cos,Gi=Math.sin,Xi=Math.exp,Ki=Math.PI,Zi=m,qi=m,Qi=b,Ji=li,$i={cool:function(){return Ji([Qi.hsl(180,1,.9),Qi.hsl(250,.7,.4)])},hot:function(){return Ji(["#000","#f00","#ff0","#fff"]).mode("rgb")}},to={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},eo=0,no=Object.keys(to);eo<no.length;eo+=1){var ro=no[eo];to[ro.toLowerCase()]=to[ro]}var io=to,oo=b;return oo.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Jr(t)})),"lrgb"===e)return ai(t,n);for(var o=t.shift(),a=o.get(e),s=[],c=0,u=0,l=0;l<a.length;l++)if(a[l]=(a[l]||0)*n[0],s.push(isNaN(a[l])?0:n[0]),"h"===e.charAt(l)&&!isNaN(a[l])){var f=a[l]/180*ni;c+=ri(f)*n[0],u+=ii(f)*n[0]}var h=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);h+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var l=i[o]/180*ni;c+=ri(l)*n[r+1],u+=ii(l)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===e.charAt(d)){for(var p=oi(u/s[d],c/s[d])/ni*180;p<0;)p+=360;for(;p>=360;)p-=360;a[d]=p}else a[d]=a[d]/s[d];return h/=r,new Jr(a,e).alpha(h>.99999?1:h,!0)},oo.bezier=function(t){var e=function(t){var e,n,r,i,o,a,s;if(2===(t=t.map((function(t){return new hi(t)}))).length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new hi(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new hi(e,"lab")};else if(4===t.length){var c;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],c=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*c[e]}));return new hi(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var u,l,f;u=t.map((function(t){return t.lab()})),f=t.length-1,l=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e}(f),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return u.reduce((function(r,i,o){return r+l[o]*Math.pow(e,f-o)*Math.pow(t,o)*i[n]}),0)}));return new hi(n,"lab")}}return i}(t);return e.scale=function(){return di(e)},e},oo.blend=yi,oo.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===bi(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var c=wi*((t+120)/360+e*s),u=xi(i[0]+o*s,r),l=(0!==a?n[0]+s*a:n)*u*(1-u)/2,f=Ci(c),h=Si(c);return Mi(_i([255*(u+l*(-.14861*f+1.78277*h)),255*(u+l*(-.29227*f-.90649*h)),255*(u+l*(1.97294*f)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===bi(n=t)?0===(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===bi(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return Mi.scale(s)},s.hue(n),s},oo.mix=oo.interpolate=Er,oo.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(ki(16*Ei()));return new Oi(t,"hex")},oo.scale=li,oo.analyze=Ni.analyze,oo.contrast=function(t,e){t=new Ri(t),e=new Ri(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},oo.deltaE=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*Ki)},a=function(t){return 2*Ki*t/360};t=new Bi(t),e=new Bi(e);var s=Array.from(t.lab()),c=s[0],u=s[1],l=s[2],f=Array.from(e.lab()),h=f[0],d=f[1],p=f[2],v=(c+h)/2,g=(zi(Fi(u,2)+Fi(l,2))+zi(Fi(d,2)+Fi(p,2)))/2,m=.5*(1-zi(Fi(g,7)/(Fi(g,7)+Fi(25,7)))),y=u*(1+m),b=d*(1+m),_=zi(Fi(y,2)+Fi(l,2)),w=zi(Fi(b,2)+Fi(p,2)),x=(_+w)/2,S=o(Wi(l,y)),C=o(Wi(p,b)),M=S>=0?S:S+360,O=C>=0?C:C+360,k=Yi(M-O)>180?(M+O+360)/2:(M+O)/2,E=1-.17*Vi(a(k-30))+.24*Vi(a(2*k))+.32*Vi(a(3*k+6))-.2*Vi(a(4*k-63)),I=O-M;I=Yi(I)<=180?I:O<=M?I+360:I-360,I=2*zi(_*w)*Gi(a(I)/2);var j=h-c,A=w-_,T=1+.015*Fi(v-50,2)/zi(20+Fi(v-50,2)),D=1+.045*x,P=1+.015*x*E,L=30*Xi(-Fi((k-275)/25,2)),N=-2*zi(Fi(x,7)/(Fi(x,7)+Fi(25,7)))*Gi(2*a(L)),R=zi(Fi(j/(n*T),2)+Fi(A/(r*D),2)+Fi(I/(i*P),2)+N*(A/(r*D))*(I/(i*P)));return Ui(0,Hi(100,R))},oo.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Zi(t),e=new Zi(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},oo.limits=Ni.limits,oo.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(qi,[null].concat(t))),!0}catch(n){return!1}},oo.scales=$i,oo.colors=ln,oo.brewer=io,oo},"object"===a(e)&&"undefined"!==typeof t?t.exports=o():void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},1296:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function b(t){if("object"===r(t)&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case s:case u:case c:case p:case v:return t;default:switch(t=t&&t.$$typeof){case h:case f:case d:case m:case g:case l:return t;default:return e}}case a:return e}}}i=Symbol.for("react.module.reference"),e.ContextConsumer=f,e.ContextProvider=l,e.Element=o,e.ForwardRef=d,e.Fragment=s,e.Lazy=m,e.Memo=g,e.Portal=a,e.Profiler=u,e.StrictMode=c,e.Suspense=p,e.SuspenseList=v,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return b(t)===f},e.isContextProvider=function(t){return b(t)===l},e.isElement=function(t){return"object"===r(t)&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return b(t)===d},e.isFragment=function(t){return b(t)===s},e.isLazy=function(t){return b(t)===m},e.isMemo=function(t){return b(t)===g},e.isPortal=function(t){return b(t)===a},e.isProfiler=function(t){return b(t)===u},e.isStrictMode=function(t){return b(t)===c},e.isSuspense=function(t){return b(t)===p},e.isSuspenseList=function(t){return b(t)===v},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===u||t===c||t===p||t===v||t===y||"object"===r(t)&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===f||t.$$typeof===d||t.$$typeof===i||void 0!==t.getModuleId)},e.typeOf=b},1297:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var r=s(n(187)),i=s(n(1215)),o=s(n(1217)),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var c=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(e,(function(e){Array.isArray(e)?t(e).map((function(t){return n.push(t)})):(0,o.default)(e)?(0,i.default)(e,(function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)})):(0,r.default)(e)&&n.push(e)})),n};e.default=c},1298:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var r=a(n(1215)),i=a(n(354)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){return t&&t.__esModule?t:{default:t}}var s=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.default&&(0,i.default)(t.default)||{};return e.map((function(e){var i=t[e];return i&&(0,r.default)(i,(function(t,e){n[e]||(n[e]={}),n[e]=o({},n[e],i[e])})),e})),n};e.default=s},1299:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var r,i=n(1215),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var s={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){var n=e[t];return n||{extend:t}}},c=e.autoprefix=function(t){var e={};return(0,o.default)(t,(function(t,n){var r={};(0,o.default)(t,(function(t,e){var n=s[e];n?r=a({},r,n(t)):r[e]=t})),e[n]=r})),e};e.default=c},1300:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var i,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),s=(i=a)&&i.__esModule?i:{default:i};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,a;c(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return i=a=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return s.default.createElement(e,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},s.default.createElement(t,o({},a.props,a.state)))},u(a,i)}return l(r,n),r}(s.default.Component)};e.default=f},1301:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var i,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),s=(i=a)&&i.__esModule?i:{default:i};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,a;c(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return i=a=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return s.default.createElement(e,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},s.default.createElement(t,o({},a.props,a.state)))},u(a,i)}return l(r,n),r}(s.default.Component)};e.default=f},1302:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var n={},r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[t]=e};return 0===t&&r("first-child"),t===e-1&&r("last-child"),(0===t||t%2===0)&&r("even"),1===Math.abs(t%2)&&r("odd"),r("nth-child",t),n}},1303:function(t,e,n){"use strict";(function(t){var r=n(1180);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"===typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,a=o&&"object"==i(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.a.Buffer:void 0,c=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(1211)(t))},1304:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,r=t.width,o=void 0===r?24:r,s=t.height,c=void 0===s?24:s,u=t.style,l=void 0===u?{}:u,f=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:c},l)},f),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},1305:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(3),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){var e=t.fill,n=void 0===e?"currentColor":e,r=t.width,o=void 0===r?24:r,s=t.height,c=void 0===s?24:s,u=t.style,l=void 0===u?{}:u,f=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:c},l)},f),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},1306:function(t,e,n){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a,s){"object"==o(e)&&"undefined"!=typeof t?t.exports=s():void 0===(i="function"===typeof(r=s)?r.call(e,n,e,t):r)||(t.exports=i)}(0,(function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",i="minute",a="hour",s="day",c="week",u="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),o=n-i<0,a=e.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:f,w:c,d:s,D:h,h:a,m:i,s:r,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",_={};_[b]=g;var w=function(t){return t instanceof M},x=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var o=e.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;_[s]=e,i=s}return!r&&i&&(b=i),i||!r&&b},S=function(t,e){if(w(t))return t.clone();var n="object"==o(e)?e:{};return n.date=t,n.args=arguments,new M(n)},C=y;C.l=x,C.i=w,C.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function o(t){this.$L=x(t.locale,null,!0),this.parse(t)}var g=o.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return S(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<S(t)},g.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,o=!!C.u(e)||e,l=C.p(t),d=function(t,e){var r=C.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return o?r:r.endOf(s)},p=function(t,e){return C.w(n.toDate()[t].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return o?d(1,0):d(31,11);case u:return o?d(1,g):d(0,g+1);case c:var b=this.$locale().weekStart||0,_=(v<b?v+7:v)-b;return d(o?m-_:m+(6-_),g);case s:case h:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var o,c=C.p(t),l="set"+(this.$u?"UTC":""),d=(o={},o[s]=l+"Date",o[h]=l+"Date",o[u]=l+"Month",o[f]=l+"FullYear",o[a]=l+"Hours",o[i]=l+"Minutes",o[r]=l+"Seconds",o[n]=l+"Milliseconds",o)[c],p=c===s?this.$D+(e-this.$W):e;if(c===u||c===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[C.p(t)]()},g.add=function(n,o){var l,h=this;n=Number(n);var d=C.p(o),p=function(t){var e=S(h);return C.w(e.date(e.date()+Math.round(t*n)),h)};if(d===u)return this.set(u,this.$M+n);if(d===f)return this.set(f,this.$y+n);if(d===s)return p(1);if(d===c)return p(7);var v=(l={},l[i]=t,l[a]=e,l[r]=1e3,l)[d]||1,g=this.$d.getTime()+n*v;return C.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},h=function(t){return C.s(o%12||12,t,"0")},p=l||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(v,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return C.s(e.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return f(n.monthsShort,s,u,3);case"MMMM":return f(u,s);case"D":return e.$D;case"DD":return C.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,c,2);case"ddd":return f(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return C.s(a,2,"0");case"s":return String(e.$s);case"ss":return C.s(e.$s,2,"0");case"SSS":return C.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,o,h){var d,p=this,v=C.p(o),g=S(n),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=function(){return C.m(p,g)};switch(v){case f:d=b()/12;break;case u:d=b();break;case l:d=b()/3;break;case c:d=(y-m)/6048e5;break;case s:d=(y-m)/864e5;break;case a:d=y/e;break;case i:d=y/t;break;case r:d=y/1e3;break;default:d=y}return h?d:C.a(d)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return _[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=x(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},o}(),O=M.prototype;return S.prototype=O,[["$ms",n],["$s",r],["$m",i],["$H",a],["$W",s],["$M",u],["$y",f],["$D",h]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,M,S),t.$i=!0),S},S.locale=x,S.isDayjs=w,S.unix=function(t){return S(1e3*t)},S.en=_[b],S.Ls=_,S.p={},S}))},1307:function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var a="object"==("undefined"===typeof window?"undefined":i(window))&&!!window.document,s=a?window:Object;!function(t,e){"use strict";var n=function(){},r=function(t){return"number"==typeof t},o=function(t){return new A(t)},a=o.LM="2024-04-09 19:15",s="https://github.com/xiangyuecn/Recorder",c="Recorder",u="getUserMedia",l="srcSampleRate",f="sampleRate",h="bitRate",d="catch",p=t[c];if(p&&p.LM==a)return p.CLog(p.i18n.$T("K8zP::\u91cd\u590d\u5bfc\u5165{1}",0,c),3);o.IsOpen=function(){var t=o.Stream;if(t){var e=(t.getTracks&&t.getTracks()||t.audioTracks||[])[0];if(e){var n=e.readyState;return"live"==n||n==e.LIVE}}return!1},o.BufferSize=4096,o.Destroy=function(){for(var t in E(c+" Destroy"),O(),v)v[t]()};var v={};o.BindDestroy=function(t,e){v[t]=e},o.Support=function(){if(!e)return!1;var t=navigator.mediaDevices||{};return t[u]||(t=navigator)[u]||(t[u]=t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia),!!t[u]&&(o.Scope=t,!!o.GetContext())},o.GetContext=function(t){if(!e)return null;var n=window.AudioContext;if(n||(n=window.webkitAudioContext),!n)return null;var r=o.Ctx;if(r&&"closed"!=r.state||(r=o.Ctx=new n,o.NewCtxs=o.NewCtxs||[],o.BindDestroy("Ctx",(function(){var t=o.Ctx;t&&t.close&&(g(t),o.Ctx=0);var e=o.NewCtxs;o.NewCtxs=[];for(var n=0;n<e.length;n++)g(e[n])}))),t&&r.close)try{r=new n,o.NewCtxs.push(r)}catch(t){E("GetContext tryNew Error",1,t)}return r},o.CloseNewCtx=function(t){if(t&&t!=o.Ctx){g(t);for(var e=o.NewCtxs||[],n=e.length,r=0;r<e.length;r++)if(e[r]==t){e.splice(r,1);break}E(B("mSxV::\u5269{1}\u4e2aGetContext\u672aclose",0,n+"-1="+e.length),e.length?3:0)}};var g=function(t){if(t&&t.close){t._isC=1;try{t.close()}catch(t){E("ctx close err",1,t)}}},m=o.ResumeCtx=function(t,e,n,r){var i=0,o=0,a=0,s=0,c="EventListener",u="ResumeCtx ",l=function(e,u){o&&f(),i||(i=1,e&&r(e,s),u&&n(s)),u&&(!t._LsSC&&t["add"+c]&&t["add"+c]("statechange",h),t._LsSC=1,a=1)},f=function(t){if(!t||!o){o=t?1:0;for(var e=["focus","mousedown","mouseup","touchstart","touchend"],n=0;n<e.length;n++)window[(t?"add":"remove")+c](e[n],h,!0)}},h=function(){var n=t.state,r=y(n);if(!i&&!e(r?++s:s))return l();r?(a&&E(u+"sc "+n,3),f(1),t.resume().then((function(){a&&E(u+"sc "+t.state),l(0,1)}))[d]((function(e){E(u+"error",1,e),y(t.state)||l(e.message||"error")}))):"closed"==n?(a&&!t._isC&&E(u+"sc "+n,1),l("ctx closed")):l(0,1)};h()},y=o.CtxSpEnd=function(t){return"suspended"==t||"interrupted"==t},b=function(t){var e=t.state,n="ctx.state="+e;return y(e)&&(n+=B("nMIy::\uff08\u6ce8\u610f\uff1actx\u4e0d\u662frunning\u72b6\u6001\uff0crec.open\u548cstart\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5728\u7528\u6237\u64cd\u4f5c(\u89e6\u6478\u3001\u70b9\u51fb\u7b49)\u65f6\u8fdb\u884c\u8c03\u7528\uff0c\u5426\u5219\u5c06\u5728rec.start\u65f6\u5c1d\u8bd5\u8fdb\u884cctx.resume\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u517c\u5bb9\u6027\u95ee\u9898(\u4ec5iOS)\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2drunningContext\u914d\u7f6e\uff09")),n},_="ConnectEnableWebM";o[_]=!0;var w="ConnectEnableWorklet";o[w]=!1;var x=function(t,e){var n=t.BufferSize||o.BufferSize,r=t.Stream,i=r._RC||r._c||o.GetContext(!0);r._c=i;var a,s,u,l=function(t){var e=r._m=i.createMediaStreamSource(r),n=i.destination,o="createMediaStreamDestination";i[o]&&(n=r._d=i[o]()),e.connect(t),t.connect(n)},h="",p=r._call,v=function(t){for(var e in p){for(var n=t.length,r=new Int16Array(n),i=0,o=0;o<n;o++){var a=Math.max(-1,Math.min(1,t[o]));a=a<0?32768*a:32767*a,r[o]=a,i+=Math.abs(a)}for(var s in p)p[s](r,i);return}},g="ScriptProcessor",y="audioWorklet",b=c+" "+y,x="RecProc",S="MediaRecorder",O=S+".WebM.PCM",k=i.createScriptProcessor||i.createJavaScriptNode,I=B("ZGlf::\u3002\u7531\u4e8e{1}\u5185\u90e81\u79d2375\u6b21\u56de\u8c03\uff0c\u5728\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u6709\u6027\u80fd\u95ee\u9898\u5bfc\u81f4\u56de\u8c03\u4e22\u5931\u5f55\u97f3\u53d8\u77ed\uff0cPC\u7aef\u65e0\u5f71\u54cd\uff0c\u6682\u4e0d\u5efa\u8bae\u5f00\u542f{1}\u3002",0,y),j=function(){s=r.isWorklet=!1,C(r),E(B("7TU0::Connect\u91c7\u7528\u8001\u7684{1}\uff0c",0,g)+R.get(B(o[w]?"JwCL::\u4f46\u5df2\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}":"VGjB::\u53ef\u8bbe\u7f6e{1}\u5c1d\u8bd5\u542f\u7528{2}",2),[c+"."+w+"=true",y])+h+I,3);var t=r._p=k.call(i,n,1,1);l(t),t.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0);v(e)}},A=function(){a=r.isWebM=!1,M(r),s=r.isWorklet=!k||o[w];var t=window.AudioWorkletNode;if(s&&i[y]&&t){var e=function(){return s&&r._na},f=r._na=function(){""!==u&&(clearTimeout(u),u=setTimeout((function(){u=0,e()&&(E(B("MxX1::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u6062\u590d\u4f7f\u7528{2}",0,y,g),3),k&&j())}),500))},p=function(){if(e()){var o=r._n=new t(i,x,{processorOptions:{bufferSize:n}});l(o),o.port.onmessage=function(t){u&&(clearTimeout(u),u=""),e()?v(t.data.val):s||E(B("XUap::{1}\u591a\u4f59\u56de\u8c03",0,y),3)},E(B("yOta::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u8001\u5f0f{3}",0,y,c+"."+w+"=false",g)+h+I,3)}},_=function(){if(e())if(i[x])p();else{var t,n,r=(n="class "+x+" extends AudioWorkletProcessor{",n+="constructor "+(t=function(t){return t.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,b)})((function(t){DEL_super(t);var e=this,n=t.processorOptions.bufferSize;e.bufferSize=n,e.buffer=new Float32Array(2*n),e.pos=0,e.port.onmessage=function(t){t.data.kill&&(e.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",t)})),n+="process "+t((function(t,e,n){var r=this,i=r.bufferSize,o=r.buffer,a=r.pos;if((t=(t[0]||[])[0]||[]).length){o.set(t,a);var s=~~((a+=t.length)/i)*i;if(s){this.port.postMessage({val:o.slice(0,s)});var c=o.subarray(s,a);(o=new Float32Array(2*i)).set(c),a=c.length,r.buffer=o}r.pos=a}return!r.kill})),n=(n+='}try{registerProcessor("'+x+'", '+x+')}catch(e){$C.error("'+b+' Reg Error",e)}').replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(n))));i[y].addModule(r).then((function(t){e()&&(i[x]=1,p(),u&&f())}))[d]((function(t){E(y+".addModule Error",1,t),e()&&j()}))}};m(i,(function(){return e()}),_,_)}else j()};!function(){var t=window[S],s="ondataavailable",l="audio/webm; codecs=pcm";a=r.isWebM=o[_];var d=t&&s in t.prototype&&t.isTypeSupported(l);if(h=d?"":B("VwPd::\uff08\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301{1}\uff09",0,O),!e||!a||!d)return A();var p=function(){return a&&r._ra},m=(r._ra=function(){""!==u&&(clearTimeout(u),u=setTimeout((function(){p()&&(E(B("vHnb::{1}\u672a\u8fd4\u56de\u4efb\u4f55\u97f3\u9891\uff0c\u964d\u7ea7\u4f7f\u7528{2}",0,S,y),3),A())}),500))},Object.assign({mimeType:l},o.ConnectWebMOptions)),b=r._r=new t(r,m),w=r._rd={sampleRate:i[f]};b[s]=function(t){var e=new FileReader;e.onloadend=function(){if(p()){var t=T(new Uint8Array(e.result),w);if(!t)return;if(-1==t)return void A();u&&(clearTimeout(u),u=""),v(t)}else a||E(B("O9P7::{1}\u591a\u4f59\u56de\u8c03",0,S),3)},e.readAsArrayBuffer(t.data)},b.start(~~(n/48)),E(B("LMEm::Connect\u91c7\u7528{1}\uff0c\u8bbe\u7f6e{2}\u53ef\u6062\u590d\u4f7f\u7528{3}\u6216\u8001\u5f0f{4}",0,O,c+"."+_+"=false",y,g))}()},S=function(t){t._na&&t._na(),t._ra&&t._ra()},C=function(t){t._na=null,t._n&&(t._n.port.postMessage({kill:!0}),t._n.disconnect(),t._n=null)},M=function(t){if(t._ra=null,t._r){try{t._r.stop()}catch(t){E("mr stop err",1,t)}t._r=null}},O=function(t){var e=(t=t||o)==o,n=t.Stream;n&&(n._m&&(n._m.disconnect(),n._m=null),!n._RC&&n._c&&o.CloseNewCtx(n._c),n._RC=null,n._c=null,n._d&&(k(n._d.stream),n._d=null),n._p&&(n._p.disconnect(),n._p.onaudioprocess=n._p=null),C(n),M(n),e&&k(n)),t.Stream=0},k=o.StopS_=function(t){for(var e=t.getTracks&&t.getTracks()||t.audioTracks||[],n=0;n<e.length;n++){var r=e[n];r.stop&&r.stop()}t.stop&&t.stop()};o.SampleData=function(t,e,n,r,i){var a="SampleData";r||(r={});var s=r.index||0,c=r.offset||0,u=r.filter;if(u&&u.fn&&u.sr!=e&&(u=null,E(B("d48C::{1}\u7684filter\u91c7\u6837\u7387\u53d8\u4e86\uff0c\u91cd\u8bbe\u6ee4\u6ce2",0,a),3)),!u){var l=3*e/4<n?0:n/2*3/4;u={fn:l?o.IIRFilter(!0,e,l):0}}u.sr=e;var f=u.fn,h=r.frameNext||[];i||(i={});var d=i.frameSize||1;i.frameType&&(d="mp3"==i.frameType?1152:1);var p=t.length;p+1<s&&E(B("tlbC::{1}\u4f3c\u4e4e\u4f20\u5165\u4e86\u672a\u91cd\u7f6echunk {2}",0,a,s+">"+p),3);for(var v=0,g=s;g<p;g++)v+=t[g].length;v=Math.max(0,v-Math.floor(c));var m=e/n;1<m?v=Math.floor(v/m):(m=1,n=e),v+=h.length;var y=new Int16Array(v),b=0;for(g=0;g<h.length;g++)y[b]=h[g],b++;for(;s<p;s++){for(var _=t[s],w=(g=c,_.length),x=f&&f.Embed,S=0,C=0,M=0,O=0,k=0,I=0;k<w;k++,I++)if(I<w&&(x?(M=_[I],O=x.b0*M+x.b1*x.x1+x.b0*x.x2-x.a1*x.y1-x.a2*x.y2,x.x2=x.x1,x.x1=M,x.y2=x.y1,x.y1=O):O=f?f(_[I]):_[I]),S=C,C=O,0!=I){var j=Math.floor(g);if(k==j){var A=S+((Math.ceil(g)<w?C:S)-S)*(g-j);32767<A?A=32767:A<-32768&&(A=-32768),y[b]=A,b++,g+=m}}else k--;c=Math.max(0,g-w)}h=null;var T=y.length%d;if(0<T){var D=2*(y.length-T);h=new Int16Array(y.buffer.slice(D)),y=new Int16Array(y.buffer.slice(0,D))}return{index:s,offset:c,filter:u,frameNext:h,sampleRate:n,data:y}},o.IIRFilter=function(t,e,n){var r=2*Math.PI*n/e,i=Math.sin(r),o=Math.cos(r),a=i/2,s=1+a,c=-2*o/s,u=(1-a)/s;if(t)var l=(1-o)/2/s,f=(1-o)/s;else l=(1+o)/2/s,f=-(1+o)/s;var h=0,d=0,p=0,v=0,g=0,m=function(t){return p=l*t+f*h+l*d-c*v-u*g,d=h,h=t,g=v,v=p};return m.Embed={x1:0,x2:0,y1:0,y2:0,b0:l,b1:f,a1:c,a2:u},m},o.PowerLevel=function(t,e){var n=t/e||0;return n<1251?Math.round(n/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(n/1e4)/Math.log(10)))))},o.PowerDBFS=function(t){var e=Math.max(.1,t||0);return e=Math.min(e,32767),e=20*Math.log(e/32767)/Math.log(10),Math.max(-100,Math.round(e))},o.CLog=function(t,e){if("object"==("undefined"===typeof console?"undefined":i(console))){var n=new Date,a=("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2)+"."+("00"+n.getMilliseconds()).substr(-3),s=this&&this.envIn&&this.envCheck&&this.id,u=["["+a+" "+c+(s?":"+s:"")+"]"+t],l=arguments,f=o.CLog,h=2,d=f.log||console.log;for(r(e)?d=1==e?f.error||console.error:3==e?f.warn||console.warn:d:h=1;h<l.length;h++)u.push(l[h]);I?d&&d("[IsLoser]"+u[0],1<u.length?u:""):d.apply(console,u)}};var E=function(){o.CLog.apply(this,arguments)},I=!0;try{I=!console.log.apply}catch(t){}var j=0;function A(t){var e=this;e.id=++j,z();var i={type:"mp3",onProcess:n};for(var o in t)i[o]=t[o];var a=(e.set=i)[h],s=i[f];(a&&!r(a)||s&&!r(s))&&e.CLog(B.G("IllegalArgs-1",[B("VtS4::{1}\u548c{2}\u5fc5\u987b\u662f\u6570\u503c",0,f,h)]),1,t),i[h]=+a||16,i[f]=+s||16e3,e.state=0,e._S=9,e.Sync={O:9,C:9}}o.Sync={O:9,C:9},o.prototype=A.prototype={CLog:E,_streamStore:function(){return this.set.sourceStream?this:o},_streamCtx:function(){var t=this._streamStore().Stream;return t&&t._c},open:function(t,r){var i=this,c=i.set,l=i._streamStore(),h=0;t=t||n;var p=function(t,e){e=!!e,i.CLog(B("5tWi::\u5f55\u97f3open\u5931\u8d25\uff1a")+t+",isUserNotAllow:"+e,1),h&&o.CloseNewCtx(h),r&&r(t,e)};i._streamTag=u;var v=function(){i.CLog("open ok, id:"+i.id+" stream:"+i._streamTag),t(),i._SO=0},g=l.Sync,m=++g.O,y=g.C;if(i._O=i._O_=m,i._SO=i._S,e){var _=i.envCheck({envName:"H5",canProcess:!0});if(_)p(B("A5bm::\u4e0d\u80fd\u5f55\u97f3\uff1a")+_);else if(c.sourceStream){if(i._streamTag="set.sourceStream",!o.GetContext())return void p(B("1iU7::\u4e0d\u652f\u6301\u6b64\u6d4f\u89c8\u5668\u4ece\u6d41\u4e2d\u83b7\u53d6\u5f55\u97f3"));O(l);var w=i.Stream=c.sourceStream;w._RC=c.runningContext,w._call={};try{x(l)}catch(t){return O(l),void p(B("BTW2::\u4ece\u6d41\u4e2d\u6253\u5f00\u5f55\u97f3\u5931\u8d25\uff1a")+t.message)}v()}else{var S=function(t,e){try{window.top.a}catch(t){return void p(B("Nclz::\u65e0\u6743\u5f55\u97f3(\u8de8\u57df\uff0c\u8bf7\u5c1d\u8bd5\u7ed9iframe\u6dfb\u52a0\u9ea6\u514b\u98ce\u8bbf\u95ee\u7b56\u7565\uff0c\u5982{1})",0,'allow="camera;microphone"'))}/Permission|Allow/i.test(t)?p(B("gyO5::\u7528\u6237\u62d2\u7edd\u4e86\u5f55\u97f3\u6743\u9650"),!0):!1===window.isSecureContext?p(B("oWNo::\u6d4f\u89c8\u5668\u7981\u6b62\u4e0d\u5b89\u5168\u9875\u9762\u5f55\u97f3\uff0c\u53ef\u5f00\u542fhttps\u89e3\u51b3")):/Found/i.test(t)?p(e+B("jBa9::\uff0c\u65e0\u53ef\u7528\u9ea6\u514b\u98ce")):p(e)};if(o.IsOpen())v();else if(o.Support()){var C=c.runningContext;C||(C=h=o.GetContext(!0));var M=function(t){setTimeout((function(){t._call={};var e=o.Stream;e&&(O(),t._call=e._call),(o.Stream=t)._c=C,t._RC=c.runningContext,function(){if(y!=g.C||!i._O){var t=B("dFm8::open\u88ab\u53d6\u6d88");return m==g.O?i.close():t=B("VtJO::open\u88ab\u4e2d\u65ad"),p(t),!0}}()||(o.IsOpen()?(e&&i.CLog(B("upb8::\u53d1\u73b0\u540c\u65f6\u591a\u6b21\u8c03\u7528open"),1),x(l,1),v()):p(B("Q1GA::\u5f55\u97f3\u529f\u80fd\u65e0\u6548\uff1a\u65e0\u97f3\u9891\u6d41")))}),100)},k=function(t){var e=t.name||t.message||t.code+":"+t;i.CLog(B("xEQR::\u8bf7\u6c42\u5f55\u97f3\u6743\u9650\u9519\u8bef"),1,t),S(e,B("bDOG::\u65e0\u6cd5\u5f55\u97f3\uff1a")+e)},E=c.audioTrackSet||{};E[f]=C[f];var I={audio:E};try{var j=o.Scope[u](I,M,k)}catch(t){i.CLog(u,3,t),I={audio:!0},j=o.Scope[u](I,M,k)}i.CLog(u+"("+JSON.stringify(I)+") "+b(C)+B("RiWe::\uff0c\u672a\u914d\u7f6enoiseSuppression\u548cechoCancellation\u65f6\u6d4f\u89c8\u5668\u53ef\u80fd\u4f1a\u81ea\u52a8\u6253\u5f00\u964d\u566a\u548c\u56de\u58f0\u6d88\u9664\uff0c\u79fb\u52a8\u7aef\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cfb\u7edf\u64ad\u653e\u97f3\u91cf\uff08\u5173\u95ed\u5f55\u97f3\u540e\u53ef\u6062\u590d\uff09\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u4e2daudioTrackSet\u914d\u7f6e")+"("+s+") LM:"+a+" UA:"+navigator.userAgent),j&&j.then&&j.then(M)[d](k)}else S("",B("COxc::\u6b64\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5f55\u97f3"))}}else p(B.G("NonBrowser-1",["open"])+B("EMJq::\uff0c\u53ef\u5c1d\u8bd5\u4f7f\u7528RecordApp\u89e3\u51b3\u65b9\u6848")+"("+s+"/tree/master/app-support-sample)")},close:function(t){t=t||n;var e=this,r=e._streamStore();e._stop();var i=" stream:"+e._streamTag,o=r.Sync;if(e._O=0,e._O_!=o.O)return e.CLog(B("hWVz::close\u88ab\u5ffd\u7565\uff08\u56e0\u4e3a\u540c\u65f6open\u4e86\u591a\u4e2arec\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u771f\u6b63close\uff09")+i,3),void t();o.C++,O(r),e.CLog("close,"+i),t()},mock:function(t,e){var n=this;return n._stop(),n.isMock=1,n.mockEnvInfo=null,n.buffers=[t],n.recSize=t.length,n._setSrcSR(e),n._streamTag="mock",n},_setSrcSR:function(t){var e=this.set,n=e[f];t<n?e[f]=t:n=0,this[l]=t,this.CLog(l+": "+t+" set."+f+": "+e[f]+(n?" "+B("UHvm::\u5ffd\u7565")+": "+n:""),n?3:0)},envCheck:function(t){var e,n=this.set,r="CPU_BE";if(e||o[r]||"function"!=typeof Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(z(r),e=B("Essp::\u4e0d\u652f\u6301{1}\u67b6\u6784",0,r)),!e){var i=n.type,a=this[i+"_envCheck"];n.takeoffEncodeChunk&&(a?t.canProcess||(e=B("7uMV::{1}\u73af\u5883\u4e0d\u652f\u6301\u5b9e\u65f6\u5904\u7406",0,t.envName)):e=B("2XBl::{1}\u7c7b\u578b\u4e0d\u652f\u6301\u8bbe\u7f6etakeoffEncodeChunk",0,i)+(this[i]?"":B("LG7e::(\u672a\u52a0\u8f7d\u7f16\u7801\u5668)"))),!e&&a&&(e=this[i+"_envCheck"](t,n))}return e||""},envStart:function(t,e){var n=this,r=n.set;if(n.isMock=t?1:0,n.mockEnvInfo=t,n.buffers=[],n.recSize=0,t&&(n._streamTag="env$"+t.envName),n.state=1,n.envInLast=0,n.envInFirst=0,n.envInFix=0,n.envInFixTs=[],n._setSrcSR(e),n.engineCtx=0,n[r.type+"_start"]){var i=n.engineCtx=n[r.type+"_start"](r);i&&(i.pcmDatas=[],i.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(t,e){var n=this,r=n.set,i=n.engineCtx;if(1==n.state){var a=n[l],s=t.length,c=o.PowerLevel(e,s),u=n.buffers,h=u.length;u.push(t);var d=u,p=h,v=Date.now(),g=Math.round(s/a*1e3);n.envInLast=v,1==n.buffers.length&&(n.envInFirst=v-g);var m=n.envInFixTs;m.splice(0,0,{t:v,d:g});for(var y=v,b=0,_=0;_<m.length;_++){var w=m[_];if(3e3<v-w.t){m.length=_;break}y=w.t,b+=w.d}var x=m[1],S=v-y;if(S/3<S-b&&(x&&1e3<S||6<=m.length)){var C=v-x.t-g;if(g/5<C){var M=!r.disableEnvInFix;if(n.CLog("["+v+"]"+R.get(B(M?"4Kfd::\u8865\u507f{1}ms":"bM5i::\u672a\u8865\u507f{1}ms",1),[C]),3),n.envInFix+=C,M){var O=new Int16Array(C*a/1e3);s+=O.length,u.push(O)}}}var k=n.recSize,E=s,I=k+E;if(n.recSize=I,i){var j=o.SampleData(u,a,r[f],i.chunkInfo);i.chunkInfo=j,I=(k=i.pcmSize)+(E=j.data.length),i.pcmSize=I,u=i.pcmDatas,h=u.length,u.push(j.data),a=j[f]}var A=Math.round(I/a*1e3),T=u.length,D=d.length,P=function(){for(var t=L?0:-E,e=null==u[0],o=h;o<T;o++){var a=u[o];null==a?e=1:(t+=a.length,i&&a.length&&n[r.type+"_encode"](i,a))}if(e&&i){o=p;for(d[0]&&(o=0);o<D;o++)d[o]=null}e&&(t=L?E:0,u[0]=null),i?i.pcmSize+=t:n.recSize+=t},L=0,N="rec.set.onProcess";try{L=r.onProcess(u,c,A,a,h,P)}catch(t){console.error(N+B("gFUF::\u56de\u8c03\u51fa\u9519\u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u9700\u4fdd\u8bc1\u4e0d\u4f1a\u629b\u5f02\u5e38"),t)}var z=Date.now()-v;if(10<z&&1e3<n.envInFirst-v&&n.CLog(N+B("2ghS::\u4f4e\u6027\u80fd\uff0c\u8017\u65f6{1}ms",0,z),3),!0===L){var F=0;for(_=h;_<T;_++)null==u[_]?F=1:u[_]=new Int16Array(0);F?n.CLog(B("ufqH::\u672a\u8fdb\u5165\u5f02\u6b65\u524d\u4e0d\u80fd\u6e05\u9664buffers"),3):i?i.pcmSize-=E:n.recSize-=E}else P()}else n.state||n.CLog("envIn at state=0",3)},start:function(){var t=this,e=1;if(t.set.sourceStream?t.Stream||(e=0):o.IsOpen()||(e=0),e){var n=t._streamCtx();if(t.CLog(B("kLDN::start \u5f00\u59cb\u5f55\u97f3\uff0c")+b(n)+" stream:"+t._streamTag),t._stop(),t.envStart(null,n[f]),t.state=3,t._SO&&t._SO+1!=t._S)t.CLog(B("Bp2y::start\u88ab\u4e2d\u65ad"),3);else{t._SO=0;var r=function(){3==t.state&&(t.state=1,t.resume())},i="AudioContext resume: ";m(n,(function(e){return e&&t.CLog(i+"wait..."),3==t.state}),(function(e){e&&t.CLog(i+n.state),r()}),(function(e){t.CLog(i+n.state+B("upkE::\uff0c\u53ef\u80fd\u65e0\u6cd5\u5f55\u97f3\uff1a")+e,1),r()}))}}else t.CLog(B("6WmN::start\u5931\u8d25\uff1a\u672aopen"),1)},pause:function(){var t=this,e=t._streamStore().Stream;t.state&&(t.state=2,t.CLog("pause"),e&&delete e._call[t.id])},resume:function(){var t=this,e=t._streamStore().Stream,n="resume(wait ctx)";if(3==t.state)t.CLog(n);else if(t.state){t.state=1,t.CLog("resume"),t.envResume(),e&&(e._call[t.id]=function(e,n){1==t.state&&t.envIn(e,n)},S(e));var r=t._streamCtx();r&&m(r,(function(e){return e&&t.CLog(n+"..."),1==t.state}),(function(i){i&&t.CLog(n+r.state),S(e)}),(function(e){t.CLog(n+r.state+"[err]"+e,1)}))}},_stop:function(t){var e=this,n=e.set;e.isMock||e._S++,e.state&&(e.pause(),e.state=0),!t&&e[n.type+"_stop"]&&(e[n.type+"_stop"](e.engineCtx),e.engineCtx=0)},stop:function(t,e,n){var r,i=this,u=i.set,h=i.envInLast-i.envInFirst,d=h&&i.buffers.length;i.CLog(B("Xq4s::stop \u548cstart\u65f6\u5dee:")+(h?h+"ms "+B("3CQP::\u8865\u507f:")+i.envInFix+"ms envIn:"+d+" fps:"+(d/h*1e3).toFixed(1):"-")+" stream:"+i._streamTag+" ("+s+") LM:"+a);var p=function(){i._stop(),n&&i.close()},v=function(t){i.CLog(B("u8JG::\u7ed3\u675f\u5f55\u97f3\u5931\u8d25\uff1a")+t,1),e&&e(t),p()},g=function(e,n,a){var s="arraybuffer",l="dataType",f="DefaultDataType",h=i[l]||o[f]||"blob",d=l+"="+h,g=e instanceof ArrayBuffer,m=0,y=g?e.byteLength:e.size;if(h==s?g||(m=1):"blob"==h?"function"!=typeof Blob?m=B.G("NonBrowser-1",[d])+B("1skY::\uff0c\u8bf7\u8bbe\u7f6e{1}",0,c+"."+f+'="'+s+'"'):(g&&(e=new Blob([e],{type:n})),e instanceof Blob||(m=1),n=e.type||n):m=B.G("NotSupport-1",[d]),i.CLog(B("Wv7l::\u7ed3\u675f\u5f55\u97f3 \u7f16\u7801\u82b1{1}ms \u97f3\u9891\u65f6\u957f{2}ms \u6587\u4ef6\u5927\u5c0f{3}b",0,Date.now()-r,a,y)+" "+d+","+n),m)v(1!=m?m:B("Vkbd::{1}\u7f16\u7801\u5668\u8fd4\u56de\u7684\u4e0d\u662f{2}",0,u.type,h)+", "+d);else{if(u.takeoffEncodeChunk)i.CLog(B("QWnr::\u542f\u7528takeoffEncodeChunk\u540estop\u8fd4\u56de\u7684blob\u957f\u5ea6\u4e3a0\u4e0d\u63d0\u4f9b\u97f3\u9891\u6570\u636e"),3);else if(y<Math.max(50,a/5))return void v(B("Sz2H::\u751f\u6210\u7684{1}\u65e0\u6548",0,u.type));t&&t(e,a,n),p()}};if(!i.isMock){var m=3==i.state;if(!i.state||m)return void v(B("wf9t::\u672a\u5f00\u59cb\u5f55\u97f3")+(m?B("Dl2c::\uff0c\u5f00\u59cb\u5f55\u97f3\u524d\u65e0\u7528\u6237\u4ea4\u4e92\u5bfc\u81f4AudioContext\u672a\u8fd0\u884c"):""))}i._stop(!0);var y=i.recSize;if(y)if(i[u.type]){if(i.isMock){var b=i.envCheck(i.mockEnvInfo||{envName:"mock",canProcess:!1});if(b)return void v(B("AxOH::\u5f55\u97f3\u9519\u8bef\uff1a")+b)}var _=i.engineCtx;if(i[u.type+"_complete"]&&_){var w=Math.round(_.pcmSize/u[f]*1e3);return r=Date.now(),void i[u.type+"_complete"](_,(function(t,e){g(t,e,w)}),v)}if(r=Date.now(),i.buffers[0]){var x=o.SampleData(i.buffers,i[l],u[f]);u[f]=x[f];var S=x.data;w=Math.round(S.length/u[f]*1e3);i.CLog(B("CxeT::\u91c7\u6837:{1} \u82b1:{2}ms",0,y+"->"+S.length,Date.now()-r)),setTimeout((function(){r=Date.now(),i[u.type](S,(function(t,e){g(t,e,w)}),(function(t){v(t)}))}))}else v(B("xkKd::\u97f3\u9891buffers\u88ab\u91ca\u653e"))}else v(B("xGuI::\u672a\u52a0\u8f7d{1}\u7f16\u7801\u5668\uff0c\u8bf7\u5c1d\u8bd5\u5230{2}\u7684src/engine\u5185\u627e\u5230{1}\u7684\u7f16\u7801\u5668\u5e76\u52a0\u8f7d",0,u.type,c));else v(B("Ltz3::\u672a\u91c7\u96c6\u5230\u5f55\u97f3"))}};var T=function(t,e){e.pos||(e.pos=[0],e.tracks={},e.bytes=[]);var n=e.tracks,r=[e.pos[0]],i=function(){e.pos[0]=r[0]},o=e.bytes.length,a=new Uint8Array(o+t.length);if(a.set(e.bytes),a.set(t,o),e.bytes=a,!e._ht){if(L(a,r),N(a,r),!D(L(a,r),[24,83,128,103]))return;for(L(a,r);r[0]<a.length;){var s=L(a,r),c=N(a,r),u=[0],l=0;if(!c)return;if(D(s,[22,84,174,107])){for(;u[0]<c.length;){var h=L(c,u),d=N(c,u),p=[0],v={channels:0,sampleRate:0};if(D(h,[174]))for(;p[0]<d.length;){var g=L(d,p),m=N(d,p),y=[0];if(D(g,[215])){var b=P(m);v.number=b,n[b]=v}else if(D(g,[131])){1==(b=P(m))?v.type="video":2==b?(v.type="audio",l||(e.track0=v),v.idx=l++):v.type="Type-"+b}else if(D(g,[134])){for(var _="",w=0;w<m.length;w++)_+=String.fromCharCode(m[w]);v.codec=_}else if(D(g,[225]))for(;y[0]<m.length;){var x=L(m,y),S=N(m,y);if(D(x,[181])){b=0;var C=new Uint8Array(S.reverse()).buffer;4==S.length?b=new Float32Array(C)[0]:8==S.length?b=new Float64Array(C)[0]:E("WebM Track !Float",1,S),v[f]=Math.round(b)}else D(x,[98,100])?v.bitDepth=P(S):D(x,[159])&&(v.channels=P(S))}}}e._ht=1,E("WebM Tracks",n),i();break}}}var M=e.track0;if(M){if(16==M.bitDepth&&/FLOAT/i.test(M.codec)&&(M.bitDepth=32,E("WebM 16->32 bit",3)),M[f]!=e[f]||32!=M.bitDepth||M.channels<1||!/(\b|_)PCM\b/i.test(M.codec))return e.bytes=[],e.bad||E("WebM Track Unexpected",3,e),-(e.bad=1);for(var O=[],k=0;r[0]<a.length;){h=L(a,r);if(!(d=N(a,r)))break;if(D(h,[163])){var I=15&d[0];if(v=n[I]){if(0===v.idx){var j=new Uint8Array(d.length-4);for(w=4;w<d.length;w++)j[w-4]=d[w];O.push(j),k+=j.length}}else E("WebM !Track"+I,1,n)}i()}if(k){var A=new Uint8Array(a.length-e.pos[0]);A.set(a.subarray(e.pos[0])),e.bytes=A,e.pos[0]=0;j=new Uint8Array(k),w=0;for(var T=0;w<O.length;w++)j.set(O[w],T),T+=O[w].length;C=new Float32Array(j.buffer);if(1<M.channels){var R=[];for(w=0;w<C.length;)R.push(C[w]),w+=M.channels;C=new Float32Array(R)}return C}}},D=function(t,e){if(!t||t.length!=e.length)return!1;if(1==t.length)return t[0]==e[0];for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},P=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+=(r<16?"0":"")+r.toString(16)}return parseInt(e,16)||0},L=function(t,e,n){var r=e[0];if(!(r>=t.length)){var i=("0000000"+t[r].toString(2)).substr(-8),o=/^(0*1)(\d*)$/.exec(i);if(o){var a=o[1].length,s=[];if(!(r+a>t.length)){for(var c=0;c<a;c++)s[c]=t[r],r++;return n&&(s[0]=parseInt(o[2]||"0",2)),e[0]=r,s}}}},N=function(t,e){var n=L(t,e,1);if(n){var r=P(n),i=e[0],o=[];if(r<2147483647){if(i+r>t.length)return;for(var a=0;a<r;a++)o[a]=t[i],i++}return e[0]=i,o}},R=o.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(t,e){var n=c+".i18n.put: ",r=t.overwrite;r=null==r||r;var i=t.lang;if(!(i=R.alias[i]||i))throw new Error(n+"set.lang?");var o=R.locales[i];o||(o={},R.locales[i]=o);for(var a,s=/^([\w\-]+):/,u=0;u<e.length;u++){var l=e[u];if(a=s.exec(l)){var f=a[1];l=l.substr(f.length+1);!r&&o[f]||(o[f]=l)}else E(n+"'key:'? "+l,3,t)}},get:function(){return R.v_G.apply(null,arguments)},v_G:function(t,e,n){e=e||[],n=n||R.lang,n=R.alias[n]||n;var r=R.locales[n],i=r&&r[t]||"";return i||"zh"==n?(R.lastLang=n,"=Empty"==i?"":i.replace(/\{(\d+)(\!?)\}/g,(function(n,r,o){return n=e[(r=+r||0)-1],(r<1||r>e.length)&&(n="{?}",E("i18n["+t+"] no {"+r+"}: "+i,3)),o?"":n}))):"en"==n?R.v_G(t,e,"zh"):R.v_G(t,e,"en")},$T:function(){return R.v_T.apply(null,arguments)},v_T:function(){for(var t,e=arguments,n="",i=[],o=0,a=c+".i18n.$T:",s=/^([\w\-]*):/,u=0;u<e.length;u++){var l=e[u];if(0==u){if(!(n=(t=s.exec(l))&&t[1]))throw new Error(a+"0 'key:'?");l=l.substr(n.length+1)}if(-1===o)i.push(l);else{if(o)throw new Error(a+" bad args");if(0===l)o=-1;else if(r(l)){if(l<1)throw new Error(a+" bad args");o=l}else{var f=1==u?"en":u?"":"zh";if((t=s.exec(l))&&(f=t[1]||f,l=l.substr(t[1].length+1)),!t||!f)throw new Error(a+u+" 'lang:'?");R.put({lang:f,overwrite:!1},[n+":"+l])}}}return n?0<o?n:R.v_G(n,i):""}},B=R.$T;B.G=R.get,B("NonBrowser-1::\u975e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u4e0d\u652f\u6301{1}",1),B("IllegalArgs-1::\u53c2\u6570\u9519\u8bef\uff1a{1}",1),B("NeedImport-2::\u8c03\u7528{1}\u9700\u8981\u5148\u5bfc\u5165{2}",2),B("NotSupport-1::\u4e0d\u652f\u6301\uff1a{1}",1),o.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var z=o.Traffic=function(t){if(e){t=t?"/"+c+"/Report/"+t:"";var n=o.TrafficImgUrl;if(n){var r=o.Traffic,i=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],a=i[1]||"http://file/",s=(i[0]||a)+t;if(0==n.indexOf("//")&&(n=/^https:/i.test(s)?"https:"+n:"http:"+n),t&&(n=n+"&cu="+encodeURIComponent(a+t)),!r[s])r[s]=1,(new Image).src=n,E("Traffic Analysis Image: "+(t||c+".TrafficImgUrl="+o.TrafficImgUrl))}}};p&&(E(B("8HO5::\u8986\u76d6\u5bfc\u5165{1}",0,c),1),p.Destroy()),t[c]=o}(s,a),void 0!==(r=function(){return s.Recorder}.call(e,n,e,t))&&(t.exports=r),"object"==i(t)&&t.exports&&(t.exports=s.Recorder)}(),function(t){var e="object"==("undefined"===typeof window?"undefined":i(window))&&!!window.document,n=(e?window:Object).Recorder;!function(t,e,n,r){"use strict";var i="48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000",o="8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, 320";t.prototype.enc_mp3={stable:!0,takeEC:"full",getTestMsg:function(){return n("Zm7L::\u91c7\u6837\u7387\u8303\u56f4\uff1a{1}\uff1b\u6bd4\u7279\u7387\u8303\u56f4\uff1a{2}\uff08\u4e0d\u540c\u6bd4\u7279\u7387\u652f\u6301\u7684\u91c7\u6837\u7387\u8303\u56f4\u4e0d\u540c\uff0c\u5c0f\u4e8e32kbps\u65f6\u91c7\u6837\u7387\u9700\u5c0f\u4e8e32000\uff09",0,i,o)}};var a,s=function(e){var r=e.bitRate,a=e.sampleRate,s=a;if(-1==(" "+o+",").indexOf(" "+r+",")&&t.CLog(n("eGB9::{1}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{2}",0,"bitRate="+r,o),3),-1==(" "+i+",").indexOf(" "+a+",")){for(var c=i.split(", "),u=[],l=0;l<c.length;l++)u.push({v:+c[l],s:Math.abs(c[l]-a)});u.sort((function(t,e){return t.s-e.s})),s=u[0].v,e.sampleRate=s,t.CLog(n("zLTa::sampleRate\u5df2\u66f4\u65b0\u4e3a{1}\uff0c\u56e0\u4e3a{2}\u4e0d\u5728mp3\u652f\u6301\u7684\u53d6\u503c\u8303\u56f4\uff1a{3}",0,s,a,i),3)}},c=function(){return n.G("NeedImport-2",["mp3.js","src/engine/mp3-engine.js"])},u=r&&"function"==typeof Worker;t.prototype.mp3=function(e,n,r){var i=this,o=i.set,a=e.length;if(t.lamejs){if(u){var l=i.mp3_start(o);if(l){if(l.isW)return i.mp3_encode(l,e),void i.mp3_complete(l,n,r,1);i.mp3_stop(l)}}s(o);var f=new t.lamejs.Mp3Encoder(1,o.sampleRate,o.bitRate),p=new Int8Array(5e5),v=0,g=0,m=0;!function t(){try{if(g<a)var i=f.encodeBuffer(e.subarray(g,g+57600));else{m=1;i=f.flush()}}catch(i){if(console.error(i),!m)try{f.flush()}catch(i){console.error(i)}return void r("MP3 Encoder: "+i.message)}var s=i.length;if(0<s){if(v+s>p.length){var c=new Int8Array(p.length+Math.max(5e5,s));c.set(p.subarray(0,v)),p=c}p.set(i,v),v+=s}if(g<a)g+=57600,setTimeout(t);else{var u=[p.buffer.slice(0,v)],l=h.fn(u,v,a,o.sampleRate);d(l,o),n(u[0]||new ArrayBuffer(0),"audio/mp3")}}()}else r(c())},t.BindDestroy("mp3Worker",(function(){a&&(t.CLog("mp3Worker Destroy"),a.terminate(),a=null)})),t.prototype.mp3_envCheck=function(e,r){var i="";return r.takeoffEncodeChunk&&(f()||(i=n("yhUs::\u5f53\u524d\u6d4f\u89c8\u5668\u7248\u672c\u592a\u4f4e\uff0c\u65e0\u6cd5\u5b9e\u65f6\u5904\u7406"))),i||t.lamejs||(i=c()),i},t.prototype.mp3_start=function(t){return f(t)};var l={id:0},f=function e(r,i){var o,c=function(t){var e=t.data,n=o.wkScope.wk_ctxs,r=o.wkScope.wk_lame,i=o.wkScope.wk_mp3TrimFix,a=n[e.id];if("init"==e.action)n[e.id]={sampleRate:e.sampleRate,bitRate:e.bitRate,takeoff:e.takeoff,pcmSize:0,memory:new Int8Array(5e5),mOffset:0,encObj:new r.Mp3Encoder(1,e.sampleRate,e.bitRate)};else if(!a)return;var s=function(t){var e=t.length;if(a.mOffset+e>a.memory.length){var n=new Int8Array(a.memory.length+Math.max(5e5,e));n.set(a.memory.subarray(0,a.mOffset)),a.memory=n}a.memory.set(t,a.mOffset),a.mOffset+=e};switch(e.action){case"stop":if(!a.isCp)try{a.encObj.flush()}catch(t){console.error(t)}a.encObj=null,delete n[e.id];break;case"encode":if(a.isCp)break;a.pcmSize+=e.pcm.length;try{var c=a.encObj.encodeBuffer(e.pcm)}catch(t){a.err=t,console.error(t)}c&&0<c.length&&(a.takeoff?p.onmessage({action:"takeoff",id:e.id,chunk:c}):s(c));break;case"complete":a.isCp=1;try{c=a.encObj.flush()}catch(t){a.err=t,console.error(t)}if(c&&0<c.length&&(a.takeoff?p.onmessage({action:"takeoff",id:e.id,chunk:c}):s(c)),a.err){p.onmessage({action:e.action,id:e.id,err:"MP3 Encoder: "+a.err.message});break}var u=[a.memory.buffer.slice(0,a.mOffset)],l=i.fn(u,a.mOffset,a.pcmSize,a.sampleRate);p.onmessage({action:e.action,id:e.id,blob:u[0]||new ArrayBuffer(0),meta:l})}},f=function(t){p.onmessage=function(e){var n=e;t&&(n=e.data);var r=l[n.id];r&&("takeoff"==n.action?r.set.takeoffEncodeChunk(new Uint8Array(n.chunk.buffer)):(r.call&&r.call(n),r.call=null))}},d=function(){var t={worker:p,set:r};return r?(t.id=++l.id,l[t.id]=t,s(r),p.postMessage({action:"init",id:t.id,sampleRate:r.sampleRate,bitRate:r.bitRate,takeoff:!!r.takeoffEncodeChunk,x:new Int16Array(5)})):p.postMessage({x:new Int16Array(5)}),t},p=a;if(i||!u)return t.CLog(n("k9PT::\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301Web Worker\uff0cmp3\u5b9e\u65f6\u7f16\u7801\u5668\u8fd0\u884c\u5728\u4e3b\u7ebf\u7a0b\u4e2d"),3),p={postMessage:function(t){c({data:t})}},o={wkScope:{wk_ctxs:{},wk_lame:t.lamejs,wk_mp3TrimFix:h}},f(),d();try{if(!p){var v=(c+"").replace(/[\w\$]+\.onmessage/g,"self.postMessage"),g=");wk_lame();self.onmessage="+(v=v.replace(/[\w\$]+\.wkScope/g,"wkScope"));g+=";var wkScope={ wk_ctxs:{},wk_lame:wk_lame",g+=",wk_mp3TrimFix:{rm:"+h.rm+",fn:"+h.fn+"} }";var m=t.lamejs.toString(),y=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",m,g],{type:"text/javascript"}));p=new Worker(y),setTimeout((function(){(window.URL||webkitURL).revokeObjectURL(y)}),1e4),f(1)}var b=d();return b.isW=1,a=p,b}catch(i){return p&&p.terminate(),console.error(i),e(r,1)}};t.prototype.mp3_stop=function(e){if(e&&e.worker){e.worker.postMessage({action:"stop",id:e.id}),e.worker=null,delete l[e.id];var r=-1;for(var i in l)r++;r&&t.CLog(n("fT6M::mp3 worker\u5269{1}\u4e2a\u672astop",0,r),3)}},t.prototype.mp3_encode=function(t,e){t&&t.worker&&t.worker.postMessage({action:"encode",id:t.id,pcm:e})},t.prototype.mp3_complete=function(t,e,r,i){var o=this;t&&t.worker?(t.call=function(n){i&&o.mp3_stop(t),n.err?r(n.err):(d(n.meta,t.set),e(n.blob,"audio/mp3"))},t.worker.postMessage({action:"complete",id:t.id})):r(n("mPxH::mp3\u7f16\u7801\u5668\u672astart"))},t.mp3ReadMeta=function(t,e){var n="undefined"!=typeof window&&window.parseInt||"undefined"!=typeof self&&self.parseInt||parseInt,r=new Uint8Array(t[0]||[]);if(r.length<4)return null;var i=function(t,e){return("0000000"+((e||r)[t]||0).toString(2)).substr(-8)},o=i(0)+i(1),a=i(2)+i(3);if(!/^1{11}/.test(o))return null;var s={"00":2.5,10:2,11:1}[o.substr(11,2)],c={"01":3}[o.substr(13,2)],u={1:[44100,48e3,32e3],2:[22050,24e3,16e3],2.5:[11025,12e3,8e3]}[s];u&&(u=u[n(a.substr(4,2),2)]);var l=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][1==s?1:0][n(a.substr(0,4),2)];if(!(s&&c&&l&&u))return null;for(var f=Math.round(8*e/l),h=1==c?384:2==c||1==s?1152:576,d=h/u*1e3,p=Math.floor(h*l/8/u*1e3),v=0,g=0,m=0;m<t.length;m++){var y=t[m];if(p+3<=(g+=y.byteLength)){var b=new Uint8Array(y);v="1"==i(y.byteLength-(g-(p+3)+1),b).charAt(6);break}}return v&&p++,{version:s,layer:c,sampleRate:u,bitRate:l,duration:f,size:e,hasPadding:v,frameSize:p,frameDurationFloat:d}};var h={rm:t.mp3ReadMeta,fn:function(t,e,n,r){var i=this.rm(t,e);if(!i)return{err:"mp3 unknown format"};var o=Math.round(n/r*1e3),a=Math.floor((i.duration-o)/i.frameDurationFloat);if(0<a){var s=a*i.frameSize-(i.hasPadding?1:0);e-=s;for(var c=0,u=[],l=0;l<t.length;l++){var f=t[l];if(s<=0)break;s>=f.byteLength?(s-=f.byteLength,u.push(f),t.splice(l,1),l--):(t[l]=f.slice(s),c=f,s=0)}if(!this.rm(t,e)){c&&(t[0]=c);for(l=0;l<u.length;l++)t.splice(l,0,u[l]);i.err="mp3 fix error: \u5df2\u8fd8\u539f\uff0c\u9519\u8bef\u539f\u56e0\u4e0d\u660e"}var h=i.trimFix={};h.remove=a,h.removeDuration=Math.round(a*i.frameDurationFloat),h.duration=Math.round(8*e/i.bitRate)}return i}},d=function(e,r){var i="MP3 Info: ";(e.sampleRate&&e.sampleRate!=r.sampleRate||e.bitRate&&e.bitRate!=r.bitRate)&&(t.CLog(i+n("uY9i::\u548c\u8bbe\u7f6e\u7684\u4e0d\u5339\u914d{1}\uff0c\u5df2\u66f4\u65b0\u6210{2}",0,"set:"+r.bitRate+"kbps "+r.sampleRate+"hz","set:"+e.bitRate+"kbps "+e.sampleRate+"hz"),3,r),r.sampleRate=e.sampleRate,r.bitRate=e.bitRate);var o=e.trimFix;o?(i+=n("iMSm::Fix\u79fb\u9664{1}\u5e27",0,o.remove)+" "+o.removeDuration+"ms -> "+o.duration+"ms",2<o.remove&&(e.err=(e.err?e.err+", ":"")+n("b9zm::\u79fb\u9664\u5e27\u6570\u8fc7\u591a"))):i+=(e.duration||"-")+"ms",e.err?t.CLog(i,1,e.err,e):t.CLog(i,e)}}(n,0,n.i18n.$T,e)}(),function(t){"use strict";function e(){var t=function(t){return Math.log(t)/Math.log(10)},n=function(t){throw new Error("abort("+t+")")};function r(t){return new Int8Array(t)}function i(t){return new Int32Array(t)}function o(t){return new Float32Array(t)}function a(t){if(1==t.length)return o(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(a(t));return n}function s(t){if(1==t.length)return i(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(s(t));return n}function c(t){if(1==t.length)return function(t){return new Int16Array(t)}(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(c(t));return n}function u(t){if(1==t.length)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var n=[],r=0;r<e;r++)n.push(u(t));return n}var l=function(t,e,n,r){if(2==arguments.length)for(var i=0;i<t.length;i++)t[i]=e;else for(i=e;i<n;i++)t[i]=r},f=function(t,e,n,r,i){for(var o=e+i;e<o;)n[r++]=t[e++]},h={};function d(t){this.ordinal=t}h.SQRT2=1.4142135623730951,h.FAST_LOG10=function(e){return t(e)},h.FAST_LOG10_X=function(e,n){return t(e)*n},d.short_block_allowed=new d(0),d.short_block_coupled=new d(1),d.short_block_dispensed=new d(2),d.short_block_forced=new d(3);var p={};function v(t){this.ordinal=t}function g(t){var e=t;this.ordinal=function(){return e}}function m(){var t=null;function e(t){this.bits=0|t}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function o(t,e,n,r,i,o){var a=.5946/e;for(t>>=1;0!=t--;)i[o++]=a>n[r++]?0:1,i[o++]=a>n[r++]?0:1}function a(e,n,r,i,o,a){var s=(e>>=1)%2;for(e>>=1;0!=e--;){var c,u,l,f,h,d,p,v;c=r[i++]*n,u=r[i++]*n,h=0|c,l=r[i++]*n,d=0|u,f=r[i++]*n,p=0|l,c+=t.adj43[h],v=0|f,u+=t.adj43[d],o[a++]=0|c,l+=t.adj43[p],o[a++]=0|u,f+=t.adj43[v],o[a++]=0|l,o[a++]=0|f}0!=s&&(h=0|(c=r[i++]*n),d=0|(u=r[i++]*n),c+=t.adj43[h],u+=t.adj43[d],o[a++]=0|c,o[a++]=0|u)}var s=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function c(t,e,r,i){var o=function(t,e,n){var r=0,i=0;do{var o=t[e++],a=t[e++];r<o&&(r=o),i<a&&(i=a)}while(e<n);return r<i&&(r=i),r}(t,e,r);switch(o){case 0:return o;case 1:return function(t,e,n,r){var i=0,o=x.ht[1].hlen;do{var a=2*t[e+0]+t[e+1];e+=2,i+=o[a]}while(e<n);return r.bits+=i,1}(t,e,r,i);case 2:case 3:return function(t,e,n,r,i){var o,a,s=0,c=x.ht[r].xlen;a=2==r?x.table23:x.table56;do{var u=t[e+0]*c+t[e+1];e+=2,s+=a[u]}while(e<n);return(o=65535&s)<(s>>=16)&&(s=o,r++),i.bits+=s,r}(t,e,r,s[o-1],i);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(t,e,n,r,i){var o=0,a=0,s=0,c=x.ht[r].xlen,u=x.ht[r].hlen,l=x.ht[r+1].hlen,f=x.ht[r+2].hlen;do{var h=t[e+0]*c+t[e+1];e+=2,o+=u[h],a+=l[h],s+=f[h]}while(e<n);var d=r;return a<o&&(o=a,d++),s<o&&(o=s,d=r+2),i.bits+=o,d}(t,e,r,s[o-1],i);default:var a,c;for(O.IXMAX_VAL<o&&n(),o-=15,a=24;a<32&&!(x.ht[a].linmax>=o);a++);for(c=a-8;c<24&&!(x.ht[c].linmax>=o);c++);return function(t,e,n,r,i,o){var a,s=65536*x.ht[r].xlen+x.ht[i].xlen,c=0;do{var u=t[e++],l=t[e++];0!=u&&(14<u&&(u=15,c+=s),u*=16),0!=l&&(14<l&&(l=15,c+=s),u+=l),c+=x.largetbl[u]}while(e<n);return(a=65535&c)<(c>>=16)&&(c=a,r=i),o.bits+=c,r}(t,e,r,c,a,i)}}function u(t,n,r,i,o,a,s,u){for(var l=n.big_values,f=2;f<A.SBMAX_l+1;f++){var h=t.scalefac_band.l[f];if(l<=h)break;var d=o[f-2]+n.count1bits;if(r.part2_3_length<=d)break;var p=new e(d),v=c(i,h,l,p);d=p.bits,r.part2_3_length<=d||(r.assign(n),r.part2_3_length=d,r.region0_count=a[f-2],r.region1_count=f-2-a[f-2],r.table_select[0]=s[f-2],r.table_select[1]=u[f-2],r.table_select[2]=v)}}this.noquant_count_bits=function(t,r,i){var o=r.l3_enc,a=Math.min(576,r.max_nonzero_coeff+2>>1<<1);for(null!=i&&(i.sfb_count1=0);1<a&&0==(o[a-1]|o[a-2]);a-=2);r.count1=a;for(var s=0,u=0;3<a;a-=4){var l;if(1<(2147483647&(o[a-1]|o[a-2]|o[a-3]|o[a-4])))break;l=2*(2*(2*o[a-4]+o[a-3])+o[a-2])+o[a-1],s+=x.t32l[l],u+=x.t33l[l]}var f=s;if(r.count1table_select=0,u<s&&(f=u,r.count1table_select=1),r.count1bits=f,0==(r.big_values=a))return f;if(r.block_type==A.SHORT_TYPE)(s=3*t.scalefac_band.s[3])>r.big_values&&(s=r.big_values),u=r.big_values;else if(r.block_type==A.NORM_TYPE){if(s=r.region0_count=t.bv_scf[a-2],u=r.region1_count=t.bv_scf[a-1],u=t.scalefac_band.l[s+u+2],s=t.scalefac_band.l[s+1],u<a){var h=new e(f);r.table_select[2]=c(o,u,a,h),f=h.bits}}else r.region0_count=7,r.region1_count=A.SBMAX_l-1-7-1,(u=a)<(s=t.scalefac_band.l[8])&&(s=u);if(s=Math.min(s,a),u=Math.min(u,a),0<s){h=new e(f);r.table_select[0]=c(o,0,s,h),f=h.bits}if(s<u){h=new e(f);r.table_select[1]=c(o,s,u,h),f=h.bits}if(2==t.use_best_huffman&&n(),null!=i&&r.block_type==A.NORM_TYPE){for(var d=0;t.scalefac_band.l[d]<r.big_values;)d++;i.sfb_count1=d}return f},this.count_bits=function(e,r,i,s){var c=i.l3_enc,u=O.IXMAX_VAL/t.IPOW20(i.global_gain);return i.xrpow_max>u?O.LARGE_BITS:(function(e,r,i,s,c){var u,f,h,d=0,p=0,v=0,g=0,m=r,y=0,b=m,_=0,w=e,x=0;for(h=null!=c&&s.global_gain==c.global_gain,f=s.block_type==A.SHORT_TYPE?38:21,u=0;u<=f;u++){var S=-1;if((h||s.block_type==A.NORM_TYPE)&&(S=s.global_gain-(s.scalefac[u]+(0!=s.preflag?t.pretab[u]:0)<<s.scalefac_scale+1)-8*s.subblock_gain[s.window[u]]),h&&c.step[u]==S)0!=p&&(a(p,i,w,x,b,_),p=0),0!=v&&n();else{var C,M=s.width[u];if(d+s.width[u]>s.max_nonzero_coeff&&(C=s.max_nonzero_coeff-d+1,l(r,s.max_nonzero_coeff,576,0),(M=C)<0&&(M=0),u=f+1),0==p&&0==v&&(b=m,_=y,w=e,x=g),null!=c&&0<c.sfb_count1&&u>=c.sfb_count1&&0<c.step[u]&&S>=c.step[u]?(0!=p&&(a(p,i,w,x,b,_),p=0,b=m,_=y,w=e,x=g),v+=M):(0!=v&&(o(v,i,w,x,b,_),v=0,b=m,_=y,w=e,x=g),p+=M),M<=0){0!=v&&n(),0!=p&&n();break}}u<=f&&(y+=s.width[u],g+=s.width[u],d+=s.width[u])}0!=p&&(a(p,i,w,x,b,_),p=0),0!=v&&n()}(r,c,t.IPOW20(i.global_gain),i,s),0!=(2&e.substep_shaping)&&n(),this.noquant_count_bits(e,i,s))},this.best_huffman_divide=function(t,n){var r=new k,o=n.l3_enc,a=i(23),s=i(23),l=i(23),f=i(23);if(n.block_type!=A.SHORT_TYPE||1!=t.mode_gr){r.assign(n),n.block_type==A.NORM_TYPE&&(function(t,n,r,i,o,a,s){for(var u=n.big_values,l=0;l<=22;l++)i[l]=O.LARGE_BITS;for(l=0;l<16;l++){var f=t.scalefac_band.l[l+1];if(u<=f)break;var h=0,d=new e(h),p=c(r,0,f,d);h=d.bits;for(var v=0;v<8;v++){var g=t.scalefac_band.l[l+v+2];if(u<=g)break;var m=h,y=c(r,f,g,d=new e(m));m=d.bits,i[l+v]>m&&(i[l+v]=m,o[l+v]=l,a[l+v]=p,s[l+v]=y)}}}(t,n,o,a,s,l,f),u(t,r,n,o,a,s,l,f));var h=r.big_values;if(!(0==h||1<(o[h-2]|o[h-1])||576<(h=n.count1+2))){r.assign(n),r.count1=h;for(var d=0,p=0;h>r.big_values;h-=4){var v=2*(2*(2*o[h-4]+o[h-3])+o[h-2])+o[h-1];d+=x.t32l[v],p+=x.t33l[v]}if(r.big_values=h,r.count1table_select=0,p<d&&(d=p,r.count1table_select=1),r.count1bits=d,r.block_type==A.NORM_TYPE)u(t,r,n,o,a,s,l,f);else{if(r.part2_3_length=d,h<(d=t.scalefac_band.l[8])&&(d=h),0<d){var g=new e(r.part2_3_length);r.table_select[0]=c(o,0,d,g),r.part2_3_length=g.bits}if(d<h){g=new e(r.part2_3_length);r.table_select[1]=c(o,d,h,g),r.part2_3_length=g.bits}n.part2_3_length>r.part2_3_length&&n.assign(r)}}}};var f=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],h=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],d=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],p=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];m.slen1_tab=d,m.slen2_tab=p,this.best_scalefac_store=function(e,n,r,i){var o,a,s,c,u=i.tt[n][r],l=0;for(o=s=0;o<u.sfbmax;o++){var v=u.width[o];for(s+=v,c=-v;c<0&&0==u.l3_enc[c+s];c++);0==c&&(u.scalefac[o]=l=-2)}if(0==u.scalefac_scale&&0==u.preflag){var g=0;for(o=0;o<u.sfbmax;o++)0<u.scalefac[o]&&(g|=u.scalefac[o]);if(0==(1&g)&&0!=g){for(o=0;o<u.sfbmax;o++)0<u.scalefac[o]&&(u.scalefac[o]>>=1);u.scalefac_scale=l=1}}if(0==u.preflag&&u.block_type!=A.SHORT_TYPE&&2==e.mode_gr){for(o=11;o<A.SBPSY_l&&!(u.scalefac[o]<t.pretab[o]&&-2!=u.scalefac[o]);o++);if(o==A.SBPSY_l){for(o=11;o<A.SBPSY_l;o++)0<u.scalefac[o]&&(u.scalefac[o]-=t.pretab[o]);u.preflag=l=1}}for(a=0;a<4;a++)i.scfsi[r][a]=0;for(2==e.mode_gr&&1==n&&i.tt[0][r].block_type!=A.SHORT_TYPE&&i.tt[1][r].block_type!=A.SHORT_TYPE&&(function(t,e){for(var n,r=e.tt[1][t],i=e.tt[0][t],o=0;o<x.scfsi_band.length-1;o++){for(n=x.scfsi_band[o];n<x.scfsi_band[o+1]&&!(i.scalefac[n]!=r.scalefac[n]&&0<=r.scalefac[n]);n++);if(n==x.scfsi_band[o+1]){for(n=x.scfsi_band[o];n<x.scfsi_band[o+1];n++)r.scalefac[n]=-1;e.scfsi[t][o]=1}}var a=0,s=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(s++,a<r.scalefac[n]&&(a=r.scalefac[n]));for(var c=0,u=0;n<A.SBPSY_l;n++)-1!=r.scalefac[n]&&(u++,c<r.scalefac[n]&&(c=r.scalefac[n]));for(o=0;o<16;o++)if(a<f[o]&&c<h[o]){var l=d[o]*s+p[o]*u;r.part2_length>l&&(r.part2_length=l,r.scalefac_compress=o)}}(r,i),l=0),o=0;o<u.sfbmax;o++)-2==u.scalefac[o]&&(u.scalefac[o]=0);0!=l&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var v=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],g=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],y=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var n,r,i,o=0,a=0,s=e.scalefac;if(e.block_type==A.SHORT_TYPE)i=v,0!=e.mixed_block_flag&&(i=g);else if(i=y,0==e.preflag){for(r=11;r<A.SBPSY_l&&!(s[r]<t.pretab[r]);r++);if(r==A.SBPSY_l)for(e.preflag=1,r=11;r<A.SBPSY_l;r++)s[r]-=t.pretab[r]}for(r=0;r<e.sfbdivide;r++)o<s[r]&&(o=s[r]);for(;r<e.sfbmax;r++)a<s[r]&&(a=s[r]);for(e.part2_length=O.LARGE_BITS,n=0;n<16;n++)o<f[n]&&a<h[n]&&e.part2_length>i[n]&&(e.part2_length=i[n],e.scalefac_compress=n);return e.part2_length==O.LARGE_BITS};var b=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,n){var r,o,a,s,c,u,l,f,h=i(4),d=n.scalefac;for(r=0!=n.preflag?2:0,l=0;l<4;l++)h[l]=0;if(n.block_type==A.SHORT_TYPE){o=1;var p=t.nr_of_sfb_block[r][o];for(a=f=0;a<4;a++)for(s=p[a]/3,l=0;l<s;l++,f++)for(c=0;c<3;c++)d[3*f+c]>h[a]&&(h[a]=d[3*f+c])}else{o=0;p=t.nr_of_sfb_block[r][o];for(a=f=0;a<4;a++)for(s=p[a],l=0;l<s;l++,f++)d[f]>h[a]&&(h[a]=d[f])}for(u=!1,a=0;a<4;a++)h[a]>b[r][a]&&(u=!0);if(!u){var v,g,m,y;for(n.sfb_partition_table=t.nr_of_sfb_block[r][o],a=0;a<4;a++)n.slen[a]=_[h[a]];switch(v=n.slen[0],g=n.slen[1],m=n.slen[2],y=n.slen[3],r){case 0:n.scalefac_compress=(5*v+g<<4)+(m<<2)+y;break;case 1:n.scalefac_compress=400+(5*v+g<<2)+m;break;case 2:n.scalefac_compress=500+3*v+g}}if(!u)for(n.part2_length=0,a=0;a<4;a++)n.part2_length+=n.slen[a]*n.sfb_partition_table[a];return u};var _=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(t){for(var e=2;e<=576;e+=2){for(var n,i=0;t.scalefac_band.l[++i]<e;);for(n=r[i][0];t.scalefac_band.l[n+1]>e;)n--;for(n<0&&(n=r[i][0]),t.bv_scf[e-2]=n,n=r[i][1];t.scalefac_band.l[n+t.bv_scf[e-2]+2]>e;)n--;n<0&&(n=r[i][1]),t.bv_scf[e-1]=n}}}function y(){}function b(){this.setModules=function(t,e,n){};var t=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];this.updateMusicCRC=function(e,n,r,i){for(var o=0;o<i;++o)e[0]=(a=n[r+o],s=(s=e[0])>>8^t[255&(s^a)]);var a,s}}function _(){var t=this,e=null,o=null;this.setModules=function(t,n,r,i){e=r,o=i};var a=null,s=0,c=0,u=0;function h(t,e,n){for(;0<n;){var r;0==u&&(u=8,c++,t.header[t.w_ptr].write_timing==s&&(f((i=t).header[i.w_ptr].buf,0,a,c,i.sideinfo_len),c+=i.sideinfo_len,s+=8*i.sideinfo_len,i.w_ptr=i.w_ptr+1&D.MAX_HEADER_BUF-1),a[c]=0),n-=r=Math.min(n,u),u-=r,a[c]|=e>>n<<u,s+=r}var i}function d(t,n){var r,i=t.internal_flags;if(8<=n&&(h(i,76,8),n-=8),8<=n&&(h(i,65,8),n-=8),8<=n&&(h(i,77,8),n-=8),8<=n&&(h(i,69,8),n-=8),32<=n){var o=e.getLameShortVersion();if(32<=n)for(r=0;r<o.length&&8<=n;++r)n-=8,h(i,o.charCodeAt(r),8)}for(;1<=n;n-=1)h(i,i.ancillary_flag,1),i.ancillary_flag^=t.disable_reservoir?0:1}function p(t,e,n){for(var r=t.header[t.h_ptr].ptr;0<n;){var i=Math.min(n,8-(7&r));n-=i,t.header[t.h_ptr].buf[r>>3]|=e>>n<<8-(7&r)-i,r+=i}t.header[t.h_ptr].ptr=r}function v(t,e){var n,r=x.ht[e.count1table_select+32],i=0,o=e.big_values,a=e.big_values;for(n=(e.count1-e.big_values)/4;0<n;--n){var s=0,c=0;0!=e.l3_enc[o+0]&&(c+=8,e.xr[a+0]<0&&s++),0!=e.l3_enc[o+1]&&(c+=4,s*=2,e.xr[a+1]<0&&s++),0!=e.l3_enc[o+2]&&(c+=2,s*=2,e.xr[a+2]<0&&s++),0!=e.l3_enc[o+3]&&(c++,s*=2,e.xr[a+3]<0&&s++),o+=4,a+=4,h(t,s+r.table[c],r.hlen[c]),i+=r.hlen[c]}return i}function g(t,e,n,r,i){var o=x.ht[e],a=0;if(0==e)return a;for(var s=n;s<r;s+=2){var c=0,u=0,l=o.xlen,f=o.xlen,d=0,p=i.l3_enc[s],v=i.l3_enc[s+1];if(0!=p&&(i.xr[s]<0&&d++,c--),15<e){if(14<p)d|=p-15<<1,u=l,p=15;if(14<v)d<<=l,d|=v-15,u+=l,v=15;f=16}0!=v&&(d<<=1,i.xr[s+1]<0&&d++,c--),p=p*f+v,u-=c,c+=o.hlen[p],h(t,o.table[p],c),h(t,d,u),a+=c+u}return a}function y(t,e){var n=3*t.scalefac_band.s[3];return n>e.big_values&&(n=e.big_values),g(t,e.table_select[0],0,n,e)+g(t,e.table_select[1],n,e.big_values,e)}function b(t,e){var n,r,i,o;n=e.big_values;var a=e.region0_count+1;return i=t.scalefac_band.l[a],a+=e.region1_count+1,n<i&&(i=n),n<(o=t.scalefac_band.l[a])&&(o=n),r=g(t,e.table_select[0],0,i,e),(r+=g(t,e.table_select[1],i,o,e))+g(t,e.table_select[2],o,n,e)}function _(){this.total=0}function w(e,r){var i,o,a,u=e.internal_flags;return u.w_ptr,-1==(a=u.h_ptr-1)&&(a=D.MAX_HEADER_BUF-1),i=u.header[a].write_timing-s,0<=(r.total=i)&&n(),i+=o=t.getframebits(e),r.total+=o,r.total%8!=0?r.total=1+r.total/8:r.total=r.total/8,r.total+=c+1,i}this.getframebits=function(t){var e,n=t.internal_flags;return e=0!=n.bitrate_index?x.bitrate_table[t.version][n.bitrate_index]:t.brate,8*(0|72e3*(t.version+1)*e/t.out_samplerate+n.padding)},this.flush_bitstream=function(t){var e,r,i=t.internal_flags,o=i.h_ptr-1;-1==o&&(o=D.MAX_HEADER_BUF-1),e=i.l3_side,(r=w(t,new _))<0||(d(t,r),i.ResvSize=0,e.main_data_begin=0,i.findReplayGain&&n(),i.findPeakSample&&n())},this.format_bitstream=function(t){var e,r=t.internal_flags;e=r.l3_side;var i=this.getframebits(t);d(t,e.resvDrain_pre),function(t,e){var r,i,o,a=t.internal_flags;if(r=a.l3_side,a.header[a.h_ptr].ptr=0,l(a.header[a.h_ptr].buf,0,a.sideinfo_len,0),t.out_samplerate<16e3?p(a,4094,12):p(a,4095,12),p(a,t.version,1),p(a,1,2),p(a,t.error_protection?0:1,1),p(a,a.bitrate_index,4),p(a,a.samplerate_index,2),p(a,a.padding,1),p(a,t.extension,1),p(a,t.mode.ordinal(),2),p(a,a.mode_ext,2),p(a,t.copyright,1),p(a,t.original,1),p(a,t.emphasis,2),t.error_protection&&p(a,0,16),1==t.version){for(p(a,r.main_data_begin,9),2==a.channels_out?p(a,r.private_bits,3):p(a,r.private_bits,5),o=0;o<a.channels_out;o++){var s;for(s=0;s<4;s++)p(a,r.scfsi[o][s],1)}for(i=0;i<2;i++)for(o=0;o<a.channels_out;o++){p(a,(c=r.tt[i][o]).part2_3_length+c.part2_length,12),p(a,c.big_values/2,9),p(a,c.global_gain,8),p(a,c.scalefac_compress,4),c.block_type!=A.NORM_TYPE?(p(a,1,1),p(a,c.block_type,2),p(a,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),p(a,c.subblock_gain[0],3),p(a,c.subblock_gain[1],3),p(a,c.subblock_gain[2],3)):(p(a,0,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),p(a,c.table_select[2],5),p(a,c.region0_count,4),p(a,c.region1_count,3)),p(a,c.preflag,1),p(a,c.scalefac_scale,1),p(a,c.count1table_select,1)}}else for(p(a,r.main_data_begin,8),p(a,r.private_bits,a.channels_out),o=i=0;o<a.channels_out;o++){var c;p(a,(c=r.tt[i][o]).part2_3_length+c.part2_length,12),p(a,c.big_values/2,9),p(a,c.global_gain,8),p(a,c.scalefac_compress,9),c.block_type!=A.NORM_TYPE?(p(a,1,1),p(a,c.block_type,2),p(a,c.mixed_block_flag,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),p(a,c.subblock_gain[0],3),p(a,c.subblock_gain[1],3),p(a,c.subblock_gain[2],3)):(p(a,0,1),14==c.table_select[0]&&(c.table_select[0]=16),p(a,c.table_select[0],5),14==c.table_select[1]&&(c.table_select[1]=16),p(a,c.table_select[1],5),14==c.table_select[2]&&(c.table_select[2]=16),p(a,c.table_select[2],5),p(a,c.region0_count,4),p(a,c.region1_count,3)),p(a,c.scalefac_scale,1),p(a,c.count1table_select,1)}t.error_protection&&n();var u=a.h_ptr;a.h_ptr=u+1&D.MAX_HEADER_BUF-1,a.header[a.h_ptr].write_timing=a.header[u].write_timing+e,a.h_ptr,a.w_ptr}(t,i);var o=8*r.sideinfo_len;if(o+=function(t){var e,n,r,i,o=0,a=t.internal_flags,s=a.l3_side;if(1==t.version)for(e=0;e<2;e++)for(n=0;n<a.channels_out;n++){var c=s.tt[e][n],u=m.slen1_tab[c.scalefac_compress],l=m.slen2_tab[c.scalefac_compress];for(r=i=0;r<c.sfbdivide;r++)-1!=c.scalefac[r]&&(h(a,c.scalefac[r],u),i+=u);for(;r<c.sfbmax;r++)-1!=c.scalefac[r]&&(h(a,c.scalefac[r],l),i+=l);c.block_type==A.SHORT_TYPE?i+=y(a,c):i+=b(a,c),o+=i+=v(a,c)}else for(n=e=0;n<a.channels_out;n++){var f,d,p=0;if(d=r=i=0,(c=s.tt[e][n]).block_type==A.SHORT_TYPE){for(;d<4;d++){var g=c.sfb_partition_table[d]/3,_=c.slen[d];for(f=0;f<g;f++,r++)h(a,Math.max(c.scalefac[3*r+0],0),_),h(a,Math.max(c.scalefac[3*r+1],0),_),h(a,Math.max(c.scalefac[3*r+2],0),_),p+=3*_}i+=y(a,c)}else{for(;d<4;d++){g=c.sfb_partition_table[d],_=c.slen[d];for(f=0;f<g;f++,r++)h(a,Math.max(c.scalefac[r],0),_),p+=_}i+=b(a,c)}o+=p+(i+=v(a,c))}return o}(t),d(t,e.resvDrain_post),o+=e.resvDrain_post,e.main_data_begin+=(i-o)/8,w(t,new _),r.ResvSize,8*e.main_data_begin!=r.ResvSize&&(r.ResvSize=8*e.main_data_begin),1e9<s){var a;for(a=0;a<D.MAX_HEADER_BUF;++a)r.header[a].write_timing-=s;s=0}return 0},this.copy_buffer=function(t,e,r,s,l){var h=c+1;if(h<=0)return 0;if(0!=s&&s<h)return-1;if(f(a,0,e,r,h),c=-1,(u=0)!=l){var d=i(1);d[0]=t.nMusicCRC,o.updateMusicCRC(d,e,r,h),t.nMusicCRC=d[0],0<h&&(t.VBR_seek_table.nBytesWritten+=h),t.decode_on_the_fly&&n()}return h},this.init_bit_stream_w=function(t){a=r(L.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,c=-1,s=u=0}}function w(t,e,n,r){this.xlen=t,this.linmax=e,this.table=n,this.hlen=r}p.MAX_VALUE=34028235e31,v.vbr_off=new v(0),v.vbr_mt=new v(1),v.vbr_rh=new v(2),v.vbr_abr=new v(3),v.vbr_mtrh=new v(4),v.vbr_default=v.vbr_mtrh,g.STEREO=new g(0),g.JOINT_STEREO=new g(1),g.DUAL_CHANNEL=new g(2),g.MONO=new g(3),g.NOT_SET=new g(4),y.STEPS_per_dB=100,y.MAX_dB=120,y.GAIN_NOT_ENOUGH_SAMPLES=-24601,y.GAIN_ANALYSIS_ERROR=0,y.GAIN_ANALYSIS_OK=1,y.INIT_GAIN_ANALYSIS_ERROR=0,y.INIT_GAIN_ANALYSIS_OK=1,y.MAX_ORDER=y.YULE_ORDER=10,y.MAX_SAMPLES_PER_WINDOW=(y.MAX_SAMP_FREQ=48e3)*(y.RMS_WINDOW_TIME_NUMERATOR=1)/(y.RMS_WINDOW_TIME_DENOMINATOR=20)+1,b.NUMTOCENTRIES=100,b.MAXFRAMESIZE=2880,_.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=1e-6*Math.abs(t):Math.abs(t-e)<=1e-6*Math.abs(e)},_.NEQ=function(t,e){return!_.EQ(t,e)};var x={};function S(t){this.bits=t}function C(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function M(t,e,n,r){this.l=i(1+A.SBMAX_l),this.s=i(1+A.SBMAX_s),this.psfb21=i(1+A.PSFB21),this.psfb12=i(1+A.PSFB12);var o=this.l,a=this.s;4==arguments.length&&(this.arrL=t,this.arrS=e,this.arr21=n,this.arr12=r,f(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),f(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),f(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),f(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function O(){var e=null,r=null,a=null;this.setModules=function(t,n,i){e=t,r=n,a=i},this.IPOW20=function(t){return g[t]};var s=2220446049250313e-31,c=O.IXMAX_VAL+2,u=O.Q_MAX,l=O.Q_MAX2;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var f=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=f,this.sfBandIndex=[new M([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new M([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var d=o(u+l+1),g=o(u),m=o(c),y=o(c);function b(t,e){var n=a.ATHformula(e,t);return n-=100,Math.pow(10,n/10+t.ATHlower)}function w(t){this.s=t}this.adj43=y,this.iteration_init=function(r){var i,o=r.internal_flags,a=o.l3_side;if(0==o.iteration_init_init){for(o.iteration_init_init=1,a.main_data_begin=0,function(e){for(var r=e.internal_flags.ATH.l,i=e.internal_flags.ATH.psfb21,o=e.internal_flags.ATH.s,a=e.internal_flags.ATH.psfb12,s=e.internal_flags,c=e.out_samplerate,u=0;u<A.SBMAX_l;u++){var l=s.scalefac_band.l[u],f=s.scalefac_band.l[u+1];r[u]=p.MAX_VALUE;for(var h=l;h<f;h++){var d=b(e,h*c/1152);r[u]=Math.min(r[u],d)}}for(u=0;u<A.PSFB21;u++){l=s.scalefac_band.psfb21[u],f=s.scalefac_band.psfb21[u+1];i[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/1152);i[u]=Math.min(i[u],d)}}for(u=0;u<A.SBMAX_s;u++){l=s.scalefac_band.s[u],f=s.scalefac_band.s[u+1];o[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/384);o[u]=Math.min(o[u],d)}o[u]*=s.scalefac_band.s[u+1]-s.scalefac_band.s[u]}for(u=0;u<A.PSFB12;u++){l=s.scalefac_band.psfb12[u],f=s.scalefac_band.psfb12[u+1];a[u]=p.MAX_VALUE;for(h=l;h<f;h++){d=b(e,h*c/384);a[u]=Math.min(a[u],d)}a[u]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}e.noATH&&n(),s.ATH.floor=10*t(b(e,-1))}(r),m[0]=0,i=1;i<c;i++)m[i]=Math.pow(i,4/3);for(i=0;i<c-1;i++)y[i]=i+1-Math.pow(.5*(m[i]+m[i+1]),.75);for(y[i]=.5,i=0;i<u;i++)g[i]=Math.pow(2,-.1875*(i-210));for(i=0;i<=u+l;i++)d[i]=Math.pow(2,.25*(i-210-l));var s,f,h,v;for(e.huffman_init(o),32<=(i=r.exp_nspsytune>>2&63)&&(i-=64),s=Math.pow(10,i/4/10),32<=(i=r.exp_nspsytune>>8&63)&&(i-=64),f=Math.pow(10,i/4/10),32<=(i=r.exp_nspsytune>>14&63)&&(i-=64),h=Math.pow(10,i/4/10),32<=(i=r.exp_nspsytune>>20&63)&&(i-=64),v=h*Math.pow(10,i/4/10),i=0;i<A.SBMAX_l;i++)_=i<=6?s:i<=13?f:i<=20?h:v,o.nsPsy.longfact[i]=_;for(i=0;i<A.SBMAX_s;i++){var _;_=i<=5?s:i<=10?f:i<=11?h:v,o.nsPsy.shortfact[i]=_}}},this.on_pe=function(t,e,o,a,s,c){var u,l,f=t.internal_flags,h=0,d=i(2),p=new S(h),v=r.ResvMaxBits(t,a,p,c),g=(h=p.bits)+v;for(D.MAX_BITS_PER_GRANULE<g&&(g=D.MAX_BITS_PER_GRANULE),l=u=0;l<f.channels_out;++l)o[l]=Math.min(D.MAX_BITS_PER_CHANNEL,h/f.channels_out),d[l]=0|o[l]*e[s][l]/700-o[l],d[l]>3*a/4&&(d[l]=3*a/4),d[l]<0&&(d[l]=0),d[l]+o[l]>D.MAX_BITS_PER_CHANNEL&&(d[l]=Math.max(0,D.MAX_BITS_PER_CHANNEL-o[l])),u+=d[l];if(v<u)for(l=0;l<f.channels_out;++l)d[l]=v*d[l]/u;for(l=0;l<f.channels_out;++l)o[l]+=d[l],v-=d[l];for(l=u=0;l<f.channels_out;++l)u+=o[l];return D.MAX_BITS_PER_GRANULE<u&&n(),g},this.athAdjust=function(t,e,n){var r=90.30873362,i=h.FAST_LOG10_X(e,10),o=t*t,a=0;return i-=n,1e-20<o&&(a=1+h.FAST_LOG10_X(o,10/r)),a<0&&(a=0),i*=a,i+=n+r-94.82444863,Math.pow(10,.1*i)},this.calc_xmin=function(t,e,r,i){var o,a=0,c=t.internal_flags,u=0,l=0,f=c.ATH,h=r.xr,d=t.VBR==v.vbr_mtrh?1:0,p=c.masking_lower;for(t.VBR!=v.vbr_mtrh&&t.VBR!=v.vbr_mt||(p=1),o=0;o<r.psy_lmax;o++){for(C=(S=t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?athAdjust(f.adjust,f.l[o],f.floor):f.adjust*f.l[o])/(b=r.width[o]),M=s,I=b>>1,E=0;E+=j=h[u]*h[u],M+=j<C?j:C,E+=T=h[++u]*h[u],M+=T<C?T:C,u++,0<--I;);if(S<E&&l++,o==A.SBPSY_l&&n(),0!=d&&(S=M),!t.ATHonly)0<(k=e.en.l[o])&&(O=E*e.thm.l[o]*p/k,0!=d&&(O*=c.nsPsy.longfact[o]),S<O&&(S=O));i[a++]=0!=d?S:S*c.nsPsy.longfact[o]}var g=575;if(r.block_type!=A.SHORT_TYPE)for(var m=576;0!=m--&&_.EQ(h[m],0);)g=m;r.max_nonzero_coeff=g;for(var y=r.sfb_smin;o<r.psymax;y++,o+=3){var b,w,x;for(x=t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?athAdjust(f.adjust,f.s[y],f.floor):f.adjust*f.s[y],b=r.width[o],w=0;w<3;w++){var S,C,M,O,k,E=0,I=b>>1;C=x/b,M=s;do{var j,T;E+=j=h[u]*h[u],M+=j<C?j:C,E+=T=h[++u]*h[u],M+=T<C?T:C,u++}while(0<--I);if(x<E&&l++,y==A.SBPSY_s&&n(),S=0!=d?M:x,!t.ATHonly&&!t.ATHshort)0<(k=e.en.s[y][w])&&(O=E*e.thm.s[y][w]*p/k,0!=d&&(O*=c.nsPsy.shortfact[y]),S<O&&(S=O));i[a++]=0!=d?S:S*c.nsPsy.shortfact[y]}t.useTemporal&&(i[a-3]>i[a-3+1]&&(i[a-3+1]+=(i[a-3]-i[a-3+1])*c.decay),i[a-3+1]>i[a-3+2]&&(i[a-3+2]+=(i[a-3+1]-i[a-3+2])*c.decay))}return l},this.calc_noise_core=function(t,e,n,r){var i=0,a=e.s,s=t.l3_enc;if(a>t.count1)for(;0!=n--;)u=t.xr[a],a++,i+=u*u,u=t.xr[a],a++,i+=u*u;else if(a>t.big_values){var c=o(2);for(c[0]=0,c[1]=r;0!=n--;)u=Math.abs(t.xr[a])-c[s[a]],a++,i+=u*u,u=Math.abs(t.xr[a])-c[s[a]],a++,i+=u*u}else for(;0!=n--;){var u;u=Math.abs(t.xr[a])-m[s[a]]*r,a++,i+=u*u,u=Math.abs(t.xr[a])-m[s[a]]*r,a++,i+=u*u}return e.s=a,i},this.calc_noise=function(t,e,n,r,i){var o,a,s=0,c=0,u=0,l=0,p=0,v=-20,g=0,m=t.scalefac,y=0;for(r.over_SSD=0,o=0;o<t.psymax;o++){var b,_=t.global_gain-(m[y++]+(0!=t.preflag?f[o]:0)<<t.scalefac_scale+1)-8*t.subblock_gain[t.window[o]],x=0;if(null!=i&&i.step[o]==_)x=i.noise[o],g+=t.width[o],n[s++]=x/e[c++],x=i.noise_log[o];else{var S,C=d[_+O.Q_MAX2];a=t.width[o]>>1,g+t.width[o]>t.max_nonzero_coeff&&(a=0<(S=t.max_nonzero_coeff-g+1)?S>>1:0);var M=new w(g);x=this.calc_noise_core(t,M,a,C),g=M.s,null!=i&&(i.step[o]=_,i.noise[o]=x),x=n[s++]=x/e[c++],x=h.FAST_LOG10(Math.max(x,1e-20)),null!=i&&(i.noise_log[o]=x)}null!=i&&(i.global_gain=t.global_gain),p+=x,0<x&&(b=Math.max(0|10*x+.5,1),r.over_SSD+=b*b,u++,l+=x),v=Math.max(v,x)}return r.over_count=u,r.tot_noise=p,r.over_noise=l,r.max_noise=v,u}}function k(){this.xr=o(576),this.l3_enc=i(576),this.scalefac=i(E.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=i(3),this.subblock_gain=i(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=i(E.SFBMAX),this.window=i(E.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=i(4),this.max_nonzero_coeff=0;var t=this;function e(t){return new Int32Array(t)}this.assign=function(n){var r;t.xr=(r=n.xr,new Float32Array(r)),t.l3_enc=e(n.l3_enc),t.scalefac=e(n.scalefac),t.xrpow_max=n.xrpow_max,t.part2_3_length=n.part2_3_length,t.big_values=n.big_values,t.count1=n.count1,t.global_gain=n.global_gain,t.scalefac_compress=n.scalefac_compress,t.block_type=n.block_type,t.mixed_block_flag=n.mixed_block_flag,t.table_select=e(n.table_select),t.subblock_gain=e(n.subblock_gain),t.region0_count=n.region0_count,t.region1_count=n.region1_count,t.preflag=n.preflag,t.scalefac_scale=n.scalefac_scale,t.count1table_select=n.count1table_select,t.part2_length=n.part2_length,t.sfb_lmax=n.sfb_lmax,t.sfb_smin=n.sfb_smin,t.psy_lmax=n.psy_lmax,t.sfbmax=n.sfbmax,t.psymax=n.psymax,t.sfbdivide=n.sfbdivide,t.width=e(n.width),t.window=e(n.window),t.count1bits=n.count1bits,t.sfb_partition_table=n.sfb_partition_table.slice(0),t.slen=e(n.slen),t.max_nonzero_coeff=n.max_nonzero_coeff}}x.t1HB=[1,1,1,0],x.t2HB=[1,2,1,3,1,1,3,2,0],x.t3HB=[3,2,1,1,1,1,3,2,0],x.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],x.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],x.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],x.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],x.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],x.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],x.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],x.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],x.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],x.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],x.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],x.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],x.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],x.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],x.t1l=[1,4,3,5],x.t2l=[1,4,7,4,5,7,6,7,8],x.t3l=[2,3,7,4,4,7,6,7,8],x.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],x.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],x.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],x.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],x.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],x.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],x.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],x.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],x.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],x.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],x.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],x.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],x.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],x.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],x.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],x.ht=[new w(0,0,null,null),new w(2,0,x.t1HB,x.t1l),new w(3,0,x.t2HB,x.t2l),new w(3,0,x.t3HB,x.t3l),new w(0,0,null,null),new w(4,0,x.t5HB,x.t5l),new w(4,0,x.t6HB,x.t6l),new w(6,0,x.t7HB,x.t7l),new w(6,0,x.t8HB,x.t8l),new w(6,0,x.t9HB,x.t9l),new w(8,0,x.t10HB,x.t10l),new w(8,0,x.t11HB,x.t11l),new w(8,0,x.t12HB,x.t12l),new w(16,0,x.t13HB,x.t13l),new w(0,0,null,x.t16_5l),new w(16,0,x.t15HB,x.t15l),new w(1,1,x.t16HB,x.t16l),new w(2,3,x.t16HB,x.t16l),new w(3,7,x.t16HB,x.t16l),new w(4,15,x.t16HB,x.t16l),new w(6,63,x.t16HB,x.t16l),new w(8,255,x.t16HB,x.t16l),new w(10,1023,x.t16HB,x.t16l),new w(13,8191,x.t16HB,x.t16l),new w(4,15,x.t24HB,x.t24l),new w(5,31,x.t24HB,x.t24l),new w(6,63,x.t24HB,x.t24l),new w(7,127,x.t24HB,x.t24l),new w(8,255,x.t24HB,x.t24l),new w(9,511,x.t24HB,x.t24l),new w(11,2047,x.t24HB,x.t24l),new w(13,8191,x.t24HB,x.t24l),new w(0,0,x.t32HB,x.t32l),new w(0,0,x.t33HB,x.t33l)],x.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],x.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],x.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],x.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],x.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],x.scfsi_band=[0,6,11,16,21],O.Q_MAX=257,O.Q_MAX2=116,O.LARGE_BITS=1e5,O.IXMAX_VAL=8206;var E={};function I(){var t,e;this.rv=null,this.qupvt=null;var r,a=new function(){this.setModules=function(t,e){}};function s(t){this.ordinal=t}function c(t){for(var e=0;e<t.sfbmax;e++)if(t.scalefac[e]+t.subblock_gain[t.window[e]]==0)return!1;return!0}function u(t,e,r,i,o){var a;switch(t){default:case 9:0<e.over_count?(a=r.over_SSD<=e.over_SSD,r.over_SSD==e.over_SSD&&(a=r.bits<e.bits)):a=r.max_noise<0&&10*r.max_noise+r.bits<=10*e.max_noise+e.bits;break;case 0:a=r.over_count<e.over_count||r.over_count==e.over_count&&r.over_noise<e.over_noise||r.over_count==e.over_count&&_.EQ(r.over_noise,e.over_noise)&&r.tot_noise<e.tot_noise;break;case 8:n();case 1:a=r.max_noise<e.max_noise;break;case 2:a=r.tot_noise<e.tot_noise;break;case 3:a=r.tot_noise<e.tot_noise&&r.max_noise<e.max_noise;break;case 4:a=r.max_noise<=0&&.2<e.max_noise||r.max_noise<=0&&e.max_noise<0&&e.max_noise>r.max_noise-.2&&r.tot_noise<e.tot_noise||r.max_noise<=0&&0<e.max_noise&&e.max_noise>r.max_noise-.2&&r.tot_noise<e.tot_noise+e.over_noise||0<r.max_noise&&-.05<e.max_noise&&e.max_noise>r.max_noise-.1&&r.tot_noise+r.over_noise<e.tot_noise+e.over_noise||0<r.max_noise&&-.1<e.max_noise&&e.max_noise>r.max_noise-.15&&r.tot_noise+r.over_noise+r.over_noise<e.tot_noise+e.over_noise+e.over_noise;break;case 5:a=r.over_noise<e.over_noise||_.EQ(r.over_noise,e.over_noise)&&r.tot_noise<e.tot_noise;break;case 6:a=r.over_noise<e.over_noise||_.EQ(r.over_noise,e.over_noise)&&(r.max_noise<e.max_noise||_.EQ(r.max_noise,e.max_noise)&&r.tot_noise<=e.tot_noise);break;case 7:a=r.over_count<e.over_count||r.over_noise<e.over_noise}return 0==e.over_count&&(a=a&&r.bits<e.bits),a}function h(t,i,o,a,s){var u=t.internal_flags;!function(t,e,r,i,o){var a,s=t.internal_flags;a=0==e.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var c=0,u=0;u<e.sfbmax;u++)c<r[u]&&(c=r[u]);var l=s.noise_shaping_amp;switch(3==l&&n(),l){case 2:break;case 1:1<c?c=Math.pow(c,.5):c*=.95;break;case 0:default:1<c?c=1:c*=.95}var f=0;for(u=0;u<e.sfbmax;u++){var h,d=e.width[u];if(f+=d,!(r[u]<c)){for(0!=(2&s.substep_shaping)&&n(),e.scalefac[u]++,h=-d;h<0;h++)i[f+h]*=a,i[f+h]>e.xrpow_max&&(e.xrpow_max=i[f+h]);if(2==s.noise_shaping_amp)return}}}(t,i,o,a);var f=c(i);return!(f||(f=2==u.mode_gr?r.scale_bitcount(i):r.scale_bitcount_lsf(u,i))&&(1<u.noise_shaping&&(l(u.pseudohalf,0),0==i.scalefac_scale?(function(t,n){for(var r=0,i=0;i<t.sfbmax;i++){var o=t.width[i],a=t.scalefac[i];if(0!=t.preflag&&(a+=e.pretab[i]),r+=o,0!=(1&a)){a++;for(var s=-o;s<0;s++)n[r+s]*=1.2968395546510096,n[r+s]>t.xrpow_max&&(t.xrpow_max=n[r+s])}t.scalefac[i]=a>>1}t.preflag=0,t.scalefac_scale=1}(i,a),f=!1):i.block_type==A.SHORT_TYPE&&0<u.subblock_gain&&(f=function(t,n,r){var i,o=n.scalefac;for(i=0;i<n.sfb_lmax;i++)if(16<=o[i])return!0;for(var a=0;a<3;a++){var s=0,c=0;for(i=n.sfb_lmax+a;i<n.sfbdivide;i+=3)s<o[i]&&(s=o[i]);for(;i<n.sfbmax;i+=3)c<o[i]&&(c=o[i]);if(!(s<16&&c<8)){if(7<=n.subblock_gain[a])return!0;n.subblock_gain[a]++;var u=t.scalefac_band.l[n.sfb_lmax];for(i=n.sfb_lmax+a;i<n.sfbmax;i+=3){var l=n.width[i],f=o[i];if(0<=(f-=4>>n.scalefac_scale))o[i]=f,u+=3*l;else{o[i]=0;var h=210+(f<<n.scalefac_scale+1);p=e.IPOW20(h),u+=l*(a+1);for(var d=-l;d<0;d++)r[u+d]*=p,r[u+d]>n.xrpow_max&&(n.xrpow_max=r[u+d]);u+=l*(3-a-1)}}var p=e.IPOW20(202);u+=n.width[i]*(a+1);for(d=-n.width[i];d<0;d++)r[u+d]*=p,r[u+d]>n.xrpow_max&&(n.xrpow_max=r[u+d])}}return!1}(u,i,a)||c(i))),f||(f=2==u.mode_gr?r.scale_bitcount(i):r.scale_bitcount_lsf(u,i)),f))}this.setModules=function(n,i,o,s){t=i,this.rv=i,e=o,this.qupvt=o,r=s,a.setModules(e,r)},this.init_xrpow=function(t,e,n){var r=0,i=0|e.max_nonzero_coeff;if(e.xrpow_max=0,l(n,i,576,0),1e-20<(r=function(t,e,n,r){for(var i=r=0;i<=n;++i){var o=Math.abs(t.xr[i]);r+=o,e[i]=Math.sqrt(o*Math.sqrt(o)),e[i]>t.xrpow_max&&(t.xrpow_max=e[i])}return r}(e,n,i,r))){var o=0;0!=(2&t.substep_shaping)&&(o=1);for(var a=0;a<e.psymax;a++)t.pseudohalf[a]=o;return!0}return l(e.l3_enc,0,576,0),!1},this.init_outer_loop=function(t,r){r.part2_3_length=0,r.big_values=0,r.count1=0,r.global_gain=210,r.scalefac_compress=0,r.table_select[0]=0,r.table_select[1]=0,r.table_select[2]=0,r.subblock_gain[0]=0,r.subblock_gain[1]=0,r.subblock_gain[2]=0,r.subblock_gain[3]=0,r.region0_count=0,r.region1_count=0,r.preflag=0,r.scalefac_scale=0,r.count1table_select=0,r.part2_length=0,r.sfb_lmax=A.SBPSY_l,r.sfb_smin=A.SBPSY_s,r.psy_lmax=t.sfb21_extra?A.SBMAX_l:A.SBPSY_l,r.psymax=r.psy_lmax,r.sfbmax=r.sfb_lmax,r.sfbdivide=11;for(var i=0;i<A.SBMAX_l;i++)r.width[i]=t.scalefac_band.l[i+1]-t.scalefac_band.l[i],r.window[i]=3;if(r.block_type==A.SHORT_TYPE){var a=o(576);r.sfb_smin=0,(r.sfb_lmax=0)!=r.mixed_block_flag&&n(),r.psymax=r.sfb_lmax+3*((t.sfb21_extra?A.SBMAX_s:A.SBPSY_s)-r.sfb_smin),r.sfbmax=r.sfb_lmax+3*(A.SBPSY_s-r.sfb_smin),r.sfbdivide=r.sfbmax-18,r.psy_lmax=r.sfb_lmax;var s=t.scalefac_band.l[r.sfb_lmax];f(r.xr,0,a,0,576);for(i=r.sfb_smin;i<A.SBMAX_s;i++)for(var c=t.scalefac_band.s[i],u=t.scalefac_band.s[i+1],h=0;h<3;h++)for(var d=c;d<u;d++)r.xr[s++]=a[3*d+h];var p=r.sfb_lmax;for(i=r.sfb_smin;i<A.SBMAX_s;i++)r.width[p]=r.width[p+1]=r.width[p+2]=t.scalefac_band.s[i+1]-t.scalefac_band.s[i],r.window[p]=0,r.window[p+1]=1,r.window[p+2]=2,p+=3}r.count1bits=0,r.sfb_partition_table=e.nr_of_sfb_block[0][0],r.slen[0]=0,r.slen[1]=0,r.slen[2]=0,r.slen[3]=0,r.max_nonzero_coeff=575,l(r.scalefac,0),function(t,n){var r=t.ATH,i=n.xr;if(n.block_type!=A.SHORT_TYPE)for(var o=!1,a=A.PSFB21-1;0<=a&&!o;a--){var s=t.scalefac_band.psfb21[a],c=t.scalefac_band.psfb21[a+1],u=e.athAdjust(r.adjust,r.psfb21[a],r.floor);1e-12<t.nsPsy.longfact[21]&&(u*=t.nsPsy.longfact[21]);for(var l=c-1;s<=l;l--){if(!(Math.abs(i[l])<u)){o=!0;break}i[l]=0}}else for(var f=0;f<3;f++)for(o=!1,a=A.PSFB12-1;0<=a&&!o;a--){c=(s=3*t.scalefac_band.s[12]+(t.scalefac_band.s[13]-t.scalefac_band.s[12])*f+(t.scalefac_band.psfb12[a]-t.scalefac_band.psfb12[0]))+(t.scalefac_band.psfb12[a+1]-t.scalefac_band.psfb12[a]);var h=e.athAdjust(r.adjust,r.psfb12[a],r.floor);1e-12<t.nsPsy.shortfact[12]&&(h*=t.nsPsy.shortfact[12]);for(l=c-1;s<=l;l--){if(!(Math.abs(i[l])<h)){o=!0;break}i[l]=0}}}(t,r)},s.BINSEARCH_NONE=new s(0),s.BINSEARCH_UP=new s(1),s.BINSEARCH_DOWN=new s(2),this.outer_loop=function(t,a,c,l,d,p){var g=t.internal_flags,m=new k,y=o(576),b=o(E.SFBMAX),_=new C,w=new function(){this.global_gain=0,this.sfb_count1=0,this.step=i(39),this.noise=o(39),this.noise_log=o(39)},x=9999999,S=!1;if(function(t,e,i,o,a){var c,u=t.CurrentStep[o],l=!1,f=t.OldValue[o],h=s.BINSEARCH_NONE;for(e.global_gain=f,i-=e.part2_length;;){var d;if(c=r.count_bits(t,a,e,null),1==u||c==i)break;i<c?(h==s.BINSEARCH_DOWN&&(l=!0),l&&(u/=2),h=s.BINSEARCH_UP,d=u):(h==s.BINSEARCH_UP&&(l=!0),l&&(u/=2),h=s.BINSEARCH_DOWN,d=-u),e.global_gain+=d,e.global_gain<0&&n(),255<e.global_gain&&n()}for(;i<c&&e.global_gain<255;)e.global_gain++,c=r.count_bits(t,a,e,null);t.CurrentStep[o]=4<=f-e.global_gain?4:2,t.OldValue[o]=e.global_gain,e.part2_3_length=c}(g,a,p,d,l),0==g.noise_shaping)return 100;e.calc_noise(a,c,b,_,w),_.bits=a.part2_3_length,m.assign(a);var M=0;for(f(l,0,y,0,576);!S;){do{var O,I=new C,j=255;if(O=0!=(2&g.substep_shaping)?20:3,g.sfb21_extra&&n(),!h(t,m,b,l))break;0!=m.scalefac_scale&&(j=254);var T=p-m.part2_length;if(T<=0)break;for(;(m.part2_3_length=r.count_bits(g,l,m,w))>T&&m.global_gain<=j;)m.global_gain++;if(m.global_gain>j)break;if(0==_.over_count){for(;(m.part2_3_length=r.count_bits(g,l,m,w))>x&&m.global_gain<=j;)m.global_gain++;if(m.global_gain>j)break}if(e.calc_noise(m,c,b,I,w),I.bits=m.part2_3_length,0!=(u(a.block_type!=A.SHORT_TYPE?t.quant_comp:t.quant_comp_short,_,I)?1:0))x=a.part2_3_length,_=I,a.assign(m),M=0,f(l,0,y,0,576);else if(0==g.full_outer_loop){if(++M>O&&0==_.over_count)break;g.noise_shaping_amp,g.noise_shaping_amp}}while(m.global_gain+m.scalefac_scale<255);3==g.noise_shaping_amp?n():S=!0}return t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh?f(y,0,l,0,576):0!=(1&g.substep_shaping)&&n(),_.over_count},this.iteration_finish_one=function(e,n,i){var o=e.l3_side,a=o.tt[n][i];r.best_scalefac_store(e,n,i,o),1==e.use_best_huffman&&r.best_huffman_divide(e,a),t.ResvAdjust(e,a)}}function j(){this.thm=new T,this.en=new T}function A(){var t=A.MPG_MD_MS_LR,e=null,r=this.psy=null,s=null;this.setModules=function(t,n,i,o){e=t,this.psy=n,r=n,s=o};var c=new function(){var t=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*h.SQRT2*.5/2384e-9,.017876148*h.SQRT2*.5/2384e-9,.003134727*h.SQRT2*.5/2384e-9,.002457142*h.SQRT2*.5/2384e-9,971317e-9*h.SQRT2*.5/2384e-9,218868e-9*h.SQRT2*.5/2384e-9,101566e-9*h.SQRT2*.5/2384e-9,13828e-9*h.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],e=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],r=e[A.SHORT_TYPE],i=e[A.SHORT_TYPE],a=e[A.SHORT_TYPE],s=e[A.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function u(e,n,r){for(var i,o,a,s=10,c=n+238-14-286,u=-15;u<0;u++){var l,f,d;l=t[s+-10],f=e[c+-224]*l,d=e[n+224]*l,l=t[s+-9],f+=e[c+-160]*l,d+=e[n+160]*l,l=t[s+-8],f+=e[c+-96]*l,d+=e[n+96]*l,l=t[s+-7],f+=e[c+-32]*l,d+=e[n+32]*l,l=t[s+-6],f+=e[c+32]*l,d+=e[n+-32]*l,l=t[s+-5],f+=e[c+96]*l,d+=e[n+-96]*l,l=t[s+-4],f+=e[c+160]*l,d+=e[n+-160]*l,l=t[s+-3],f+=e[c+224]*l,d+=e[n+-224]*l,l=t[s+-2],f+=e[n+-256]*l,d-=e[c+256]*l,l=t[s+-1],f+=e[n+-192]*l,d-=e[c+192]*l,l=t[s+0],f+=e[n+-128]*l,d-=e[c+128]*l,l=t[s+1],f+=e[n+-64]*l,d-=e[c+64]*l,l=t[s+2],f+=e[n+0]*l,d-=e[c+0]*l,l=t[s+3],f+=e[n+64]*l,d-=e[c+-64]*l,l=t[s+4],f+=e[n+128]*l,d-=e[c+-128]*l,l=t[s+5],f+=e[n+192]*l,l=(d-=e[c+-192]*l)-(f*=t[s+6]),r[30+2*u]=d+f,r[31+2*u]=t[s+7]*l,s+=18,n--,c++}d=e[n+-16]*t[s+-10],f=e[n+-32]*t[s+-2],d+=(e[n+-48]-e[n+16])*t[s+-9],f+=e[n+-96]*t[s+-1],d+=(e[n+-80]+e[n+48])*t[s+-8],f+=e[n+-160]*t[s+0],d+=(e[n+-112]-e[n+80])*t[s+-7],f+=e[n+-224]*t[s+1],d+=(e[n+-144]+e[n+112])*t[s+-6],f-=e[n+32]*t[s+2],d+=(e[n+-176]-e[n+144])*t[s+-5],f-=e[n+96]*t[s+3],d+=(e[n+-208]+e[n+176])*t[s+-4],f-=e[n+160]*t[s+4],d+=(e[n+-240]-e[n+208])*t[s+-3],i=(f-=e[n+224])-d,o=f+d,d=r[14],f=r[15]-d,r[31]=o+d,r[30]=i+f,r[15]=i-f,r[14]=o-d,a=r[28]-r[0],r[0]+=r[28],r[28]=a*t[s+-36+7],a=r[29]-r[1],r[1]+=r[29],r[29]=a*t[s+-36+7],a=r[26]-r[2],r[2]+=r[26],r[26]=a*t[s+-72+7],a=r[27]-r[3],r[3]+=r[27],r[27]=a*t[s+-72+7],a=r[24]-r[4],r[4]+=r[24],r[24]=a*t[s+-108+7],a=r[25]-r[5],r[5]+=r[25],r[25]=a*t[s+-108+7],a=r[22]-r[6],r[6]+=r[22],r[22]=a*h.SQRT2,a=r[23]-r[7],r[7]+=r[23],r[23]=a*h.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],a=r[6],r[6]=r[31]-a,r[31]=r[31]+a,a=r[7],r[7]=r[30]-a,r[30]=r[30]+a,a=r[22],r[22]=r[15]-a,r[15]=r[15]+a,a=r[23],r[23]=r[14]-a,r[14]=r[14]+a,a=r[20]-r[8],r[8]+=r[20],r[20]=a*t[s+-180+7],a=r[21]-r[9],r[9]+=r[21],r[21]=a*t[s+-180+7],a=r[18]-r[10],r[10]+=r[18],r[18]=a*t[s+-216+7],a=r[19]-r[11],r[11]+=r[19],r[19]=a*t[s+-216+7],a=r[16]-r[12],r[12]+=r[16],r[16]=a*t[s+-252+7],a=r[17]-r[13],r[13]+=r[17],r[17]=a*t[s+-252+7],a=-r[20]+r[24],r[20]+=r[24],r[24]=a*t[s+-216+7],a=-r[21]+r[25],r[21]+=r[25],r[25]=a*t[s+-216+7],a=r[4]-r[8],r[4]+=r[8],r[8]=a*t[s+-216+7],a=r[5]-r[9],r[5]+=r[9],r[9]=a*t[s+-216+7],a=r[0]-r[12],r[0]+=r[12],r[12]=a*t[s+-72+7],a=r[1]-r[13],r[1]+=r[13],r[13]=a*t[s+-72+7],a=r[16]-r[28],r[16]+=r[28],r[28]=a*t[s+-72+7],a=-r[17]+r[29],r[17]+=r[29],r[29]=a*t[s+-72+7],a=h.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=a,a=h.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=a,a=h.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=a-r[18],a=h.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=a-r[19],a=r[2],r[19]-=r[3],r[3]-=a,r[2]=r[31]-a,r[31]+=a,a=r[3],r[11]-=r[19],r[18]-=a,r[3]=r[30]-a,r[30]+=a,a=r[18],r[27]-=r[11],r[19]-=a,r[18]=r[15]-a,r[15]+=a,a=r[19],r[10]-=a,r[19]=r[14]-a,r[14]+=a,a=r[10],r[11]-=a,r[10]=r[23]-a,r[23]+=a,a=r[11],r[26]-=a,r[11]=r[22]-a,r[22]+=a,a=r[26],r[27]-=a,r[26]=r[7]-a,r[7]+=a,a=r[27],r[27]=r[6]-a,r[6]+=a,a=h.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=a,a=h.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=a,a=h.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=a,a=h.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=a,a=-h.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=a-r[8],a=-h.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=a-r[9],a=-h.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=a-r[25],a=-h.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=a-r[24],a=r[24]-r[16],r[24]=a,a=r[20]-a,r[20]=a,a=r[28]-a,r[28]=a,a=r[25]-r[17],r[25]=a,a=r[21]-a,r[21]=a,a=r[29]-a,r[29]=a,a=r[17]-r[1],r[17]=a,a=r[9]-a,r[9]=a,a=r[25]-a,r[25]=a,a=r[5]-a,r[5]=a,a=r[21]-a,r[21]=a,a=r[13]-a,r[13]=a,a=r[29]-a,r[29]=a,a=r[1]-r[0],r[1]=a,a=r[16]-a,r[16]=a,a=r[17]-a,r[17]=a,a=r[8]-a,r[8]=a,a=r[9]-a,r[9]=a,a=r[24]-a,r[24]=a,a=r[25]-a,r[25]=a,a=r[4]-a,r[4]=a,a=r[5]-a,r[5]=a,a=r[20]-a,r[20]=a,a=r[21]-a,r[21]=a,a=r[12]-a,r[12]=a,a=r[13]-a,r[13]=a,a=r[28]-a,r[28]=a,a=r[29]-a,r[29]=a,a=r[0],r[0]+=r[31],r[31]-=a,a=r[1],r[1]+=r[30],r[30]-=a,a=r[16],r[16]+=r[15],r[15]-=a,a=r[17],r[17]+=r[14],r[14]-=a,a=r[8],r[8]+=r[23],r[23]-=a,a=r[9],r[9]+=r[22],r[22]-=a,a=r[24],r[24]+=r[7],r[7]-=a,a=r[25],r[25]+=r[6],r[6]-=a,a=r[4],r[4]+=r[27],r[27]-=a,a=r[5],r[5]+=r[26],r[26]-=a,a=r[20],r[20]+=r[11],r[11]-=a,a=r[21],r[21]+=r[10],r[10]-=a,a=r[12],r[12]+=r[19],r[19]-=a,a=r[13],r[13]+=r[18],r[18]-=a,a=r[28],r[28]+=r[3],r[3]-=a,a=r[29],r[29]+=r[2],r[2]-=a}function d(t,n){for(var r=0;r<3;r++){var i,o,a,s,c,u;o=(s=t[n+6]*e[A.SHORT_TYPE][0]-t[n+15])+(i=t[n+0]*e[A.SHORT_TYPE][2]-t[n+9]),a=s-i,c=(s=t[n+15]*e[A.SHORT_TYPE][0]+t[n+6])+(i=t[n+9]*e[A.SHORT_TYPE][2]+t[n+0]),u=-s+i,i=2069978111953089e-26*(t[n+3]*e[A.SHORT_TYPE][1]-t[n+12]),s=2069978111953089e-26*(t[n+12]*e[A.SHORT_TYPE][1]+t[n+3]),t[n+0]=190752519173728e-25*o+i,t[n+15]=190752519173728e-25*-c+s,a=.8660254037844387*a*1907525191737281e-26,c=.5*c*1907525191737281e-26+s,t[n+3]=a-c,t[n+6]=a+c,o=.5*o*1907525191737281e-26-i,u=.8660254037844387*u*1907525191737281e-26,t[n+9]=o+u,t[n+12]=o-u,n++}}function p(t,e,n){var r,o,a,s,c,u,l,f,h,d,p,v,g,m,y,b,_,w;a=n[17]-n[9],c=n[15]-n[11],u=n[14]-n[12],l=n[0]+n[8],f=n[1]+n[7],h=n[2]+n[6],d=n[3]+n[5],t[e+17]=l+h-d-(f-n[4]),o=(l+h-d)*i[19]+(f-n[4]),r=(a-c-u)*i[18],t[e+5]=r+o,t[e+6]=r-o,s=(n[16]-n[10])*i[18],f=f*i[19]+n[4],r=a*i[12]+s+c*i[13]+u*i[14],o=-l*i[16]+f-h*i[17]+d*i[15],t[e+1]=r+o,t[e+2]=r-o,r=a*i[13]-s-c*i[14]+u*i[12],o=-l*i[17]+f-h*i[15]+d*i[16],t[e+9]=r+o,t[e+10]=r-o,r=a*i[14]-s+c*i[12]-u*i[13],o=l*i[15]-f+h*i[16]-d*i[17],t[e+13]=r+o,t[e+14]=r-o,p=n[8]-n[0],g=n[6]-n[2],m=n[5]-n[3],y=n[17]+n[9],b=n[16]+n[10],_=n[15]+n[11],w=n[14]+n[12],t[e+0]=y+_+w+(b+n[13]),r=(y+_+w)*i[19]-(b+n[13]),o=(p-g+m)*i[18],t[e+11]=r+o,t[e+12]=r-o,v=(n[7]-n[1])*i[18],b=n[13]-b*i[19],r=y*i[15]-b+_*i[16]+w*i[17],o=p*i[14]+v+g*i[12]+m*i[13],t[e+3]=r+o,t[e+4]=r-o,r=-y*i[17]+b-_*i[15]-w*i[16],o=p*i[13]+v-g*i[14]-m*i[12],t[e+7]=r+o,t[e+8]=r-o,r=-y*i[16]+b-_*i[17]-w*i[15],o=p*i[12]-v+g*i[13]-m*i[14],t[e+15]=r+o,t[e+16]=r-o}this.mdct_sub48=function(t,i,h){for(var v=i,g=286,m=0;m<t.channels_out;m++){for(var y=0;y<t.mode_gr;y++){for(var b,_=t.l3_side.tt[y][m],w=_.xr,x=0,S=t.sb_sample[m][1-y],C=0,M=0;M<9;M++)for(u(v,g,S[C]),u(v,g+32,S[C+1]),C+=2,g+=64,b=1;b<32;b+=2)S[C-1][b]*=-1;for(b=0;b<32;b++,x+=18){var O=_.block_type,k=t.sb_sample[m][y],E=t.sb_sample[m][1-y];if(0!=_.mixed_block_flag&&b<2&&(O=0),t.amp_filter[b]<1e-12)l(w,x+0,x+18,0);else if(t.amp_filter[b]<1&&n(),O==A.SHORT_TYPE){for(M=-3;M<0;M++){var I=e[A.SHORT_TYPE][M+3];w[x+3*M+9]=k[9+M][c[b]]*I-k[8-M][c[b]],w[x+3*M+18]=k[14-M][c[b]]*I+k[15+M][c[b]],w[x+3*M+10]=k[15+M][c[b]]*I-k[14-M][c[b]],w[x+3*M+19]=E[2-M][c[b]]*I+E[3+M][c[b]],w[x+3*M+11]=E[3+M][c[b]]*I-E[2-M][c[b]],w[x+3*M+20]=E[8-M][c[b]]*I+E[9+M][c[b]]}d(w,x)}else{var j=o(18);for(M=-9;M<0;M++){var T,D;T=e[O][M+27]*E[M+9][c[b]]+e[O][M+36]*E[8-M][c[b]],D=e[O][M+9]*k[M+9][c[b]]-e[O][M+18]*k[8-M][c[b]],j[M+9]=T-D*r[3+M+9],j[M+18]=T*r[3+M+9]+D}p(w,x,j)}if(O!=A.SHORT_TYPE&&0!=b)for(M=7;0<=M;--M){var P,L;P=w[x+M]*a[20+M]+w[x+-1-M]*s[28+M],L=w[x+M]*s[28+M]-w[x+-1-M]*a[20+M],w[x+-1-M]=P,w[x+M]=L}}}if(v=h,g=286,1==t.mode_gr)for(var N=0;N<18;N++)f(t.sb_sample[m][1][N],0,t.sb_sample[m][0][N],0,32)}}};this.lame_encode_mp3_frame=function(l,f,h,d,p,m){var y,b=u([2,2]);b[0][0]=new j,b[0][1]=new j,b[1][0]=new j,b[1][1]=new j;var _,w=u([2,2]);w[0][0]=new j,w[0][1]=new j,w[1][0]=new j,w[1][1]=new j;var x,S,C,M=[null,null],O=l.internal_flags,k=a([2,4]),E=[[0,0],[0,0]],I=[[0,0],[0,0]];if(M[0]=f,M[1]=h,0==O.lame_encode_frame_init&&function(t,e){var n,r,i=t.internal_flags;if(0==i.lame_encode_frame_init){var a,s,u=o(2014),l=o(2014);for(i.lame_encode_frame_init=1,s=a=0;a<286+576*(1+i.mode_gr);++a)a<576*i.mode_gr?(u[a]=0,2==i.channels_out&&(l[a]=0)):(u[a]=e[0][s],2==i.channels_out&&(l[a]=e[1][s]),++s);for(r=0;r<i.mode_gr;r++)for(n=0;n<i.channels_out;n++)i.l3_side.tt[r][n].block_type=A.SHORT_TYPE;c.mdct_sub48(i,u,l)}}(l,M),O.padding=0,(O.slot_lag-=O.frac_SpF)<0&&(O.slot_lag+=l.out_samplerate,O.padding=1),0!=O.psymodel){var T,D=[null,null],P=0,L=i(2);for(C=0;C<O.mode_gr;C++){for(S=0;S<O.channels_out;S++)D[S]=M[S],P=576+576*C-A.FFTOFFSET;if(l.VBR==v.vbr_mtrh||l.VBR==v.vbr_mt?n():T=r.L3psycho_anal_ns(l,D,P,C,b,w,E[C],I[C],k[C],L),0!=T)return-4;for(l.mode==g.JOINT_STEREO&&n(),S=0;S<O.channels_out;S++){var N=O.l3_side.tt[C][S];N.block_type=L[S],N.mixed_block_flag=0}}}else n();if(function(t){var e,r;if(0==t.ATH.useAdjust)return t.ATH.adjust=1;if(r=t.loudness_sq[0][0],e=t.loudness_sq[1][0],2==t.channels_out?n():(r+=r,e+=e),2==t.mode_gr&&(r=Math.max(r,e)),r*=.5,.03125<(r*=t.ATH.aaSensitivityP))1<=t.ATH.adjust?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1;else{var i=31.98*r+625e-6;t.ATH.adjust>=i?(t.ATH.adjust*=.075*i+.925,t.ATH.adjust<i&&(t.ATH.adjust=i)):t.ATH.adjustLimit>=i?t.ATH.adjust=i:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=i}}(O),c.mdct_sub48(O,M[0],M[1]),O.mode_ext=A.MPG_MD_LR_LR,l.force_ms?O.mode_ext=A.MPG_MD_MS_LR:l.mode==g.JOINT_STEREO&&n(),O.mode_ext==t?(_=w,x=I):(_=b,x=E),l.analysis&&null!=O.pinfo&&n(),l.VBR==v.vbr_off||l.VBR==v.vbr_abr){var R,B;for(R=0;R<18;R++)O.nsPsy.pefirbuf[R]=O.nsPsy.pefirbuf[R+1];for(C=B=0;C<O.mode_gr;C++)for(S=0;S<O.channels_out;S++)B+=x[C][S];for(O.nsPsy.pefirbuf[18]=B,B=O.nsPsy.pefirbuf[9],R=0;R<9;R++)B+=(O.nsPsy.pefirbuf[R]+O.nsPsy.pefirbuf[18-R])*A.fircoef[R];for(B=3350*O.mode_gr*O.channels_out/B,C=0;C<O.mode_gr;C++)for(S=0;S<O.channels_out;S++)x[C][S]*=B}return O.iteration_loop.iteration_loop(l,x,[.5,.5],_),e.format_bitstream(l),y=e.copy_buffer(O,d,p,m,1),l.bWriteVbrTag&&s.addVbrFrame(l),l.analysis&&null!=O.pinfo&&n(),function(t){var e,r;for(t.bitrate_stereoMode_Hist[t.bitrate_index][4]++,t.bitrate_stereoMode_Hist[15][4]++,2==t.channels_out&&n(),e=0;e<t.mode_gr;++e)for(r=0;r<t.channels_out;++r){var i=0|t.l3_side.tt[e][r].block_type;0!=t.l3_side.tt[e][r].mixed_block_flag&&(i=4),t.bitrate_blockType_Hist[t.bitrate_index][i]++,t.bitrate_blockType_Hist[t.bitrate_index][5]++,t.bitrate_blockType_Hist[15][i]++,t.bitrate_blockType_Hist[15][5]++}}(O),y}}function T(){this.l=o(A.SBMAX_l),this.s=a([A.SBMAX_s,3]);var t=this;this.assign=function(e){f(e.l,0,t.l,0,A.SBMAX_l);for(var n=0;n<A.SBMAX_s;n++)for(var r=0;r<3;r++)t.s[n][r]=e.s[n][r]}}function D(){function t(){this.write_timing=0,this.ptr=0,this.buf=r(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=a([2,D.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[i(4),i(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new k},this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=i(2),this.CurrentStep=i(2),this.masking_lower=0,this.bv_scf=i(576),this.pseudohalf=i(E.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*D.BPC+1),this.itime=function(t){return new Float64Array(t)}(2),this.sideinfo_len=0,this.sb_sample=a([2,2,18,A.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(D.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new M,this.minval_l=o(A.CBANDS),this.minval_s=o(A.CBANDS),this.nb_1=a([4,A.CBANDS]),this.nb_2=a([4,A.CBANDS]),this.nb_s1=a([4,A.CBANDS]),this.nb_s2=a([4,A.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=a([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(A.SBMAX_l),this.mld_s=o(A.SBMAX_s),this.bm_l=i(A.SBMAX_l),this.bo_l=i(A.SBMAX_l),this.bm_s=i(A.SBMAX_s),this.bo_s=i(A.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=s([A.CBANDS,2]),this.s3ind_s=s([A.CBANDS,2]),this.numlines_s=i(A.CBANDS),this.numlines_l=i(A.CBANDS),this.rnumlines_l=o(A.CBANDS),this.mld_cb_l=o(A.CBANDS),this.mld_cb_s=o(A.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=i(2),this.nsPsy=new function(){this.last_en_subshort=a([4,9]),this.lastAttacks=i(4),this.pefirbuf=o(19),this.longfact=o(A.SBMAX_l),this.shortfact=o(A.SBMAX_s),this.attackthre=0,this.attackthre_s=0},this.VBR_seek_table=new function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0},this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=s([16,5]),this.bitrate_blockType_Hist=s([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var e=0;e<this.en.length;e++)this.en[e]=new T;for(e=0;e<this.thm.length;e++)this.thm[e]=new T;for(e=0;e<this.header.length;e++)this.header[e]=new t}function P(){var t=new function(){var t=o(A.BLKSIZE),e=o(A.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(t,e,r){var i,o,a,s=0,c=e+(r<<=1);i=4;do{var u,l,f,d,p,v,g;for(g=i>>1,v=(p=(d=i)<<1)+d,i=p<<1,a=(o=e)+g;S=t[o+0]-t[o+d],x=t[o+0]+t[o+d],k=t[o+p]-t[o+v],M=t[o+p]+t[o+v],t[o+p]=x-M,t[o+0]=x+M,t[o+v]=S-k,t[o+d]=S+k,S=t[a+0]-t[a+d],x=t[a+0]+t[a+d],k=h.SQRT2*t[a+v],M=h.SQRT2*t[a+p],t[a+p]=x-M,t[a+0]=x+M,t[a+v]=S-k,t[a+d]=S+k,a+=i,(o+=i)<c;);for(l=n[s+0],u=n[s+1],f=1;f<g;f++){var m,y;m=1-2*u*u,y=2*u*l,o=e+f,a=e+d-f;do{var b,_,w,x,S,C,M,O,k,E;_=y*t[o+d]-m*t[a+d],b=m*t[o+d]+y*t[a+d],S=t[o+0]-b,x=t[o+0]+b,C=t[a+0]-_,w=t[a+0]+_,_=y*t[o+v]-m*t[a+v],b=m*t[o+v]+y*t[a+v],k=t[o+p]-b,M=t[o+p]+b,E=t[a+p]-_,O=t[a+p]+_,_=u*M-l*E,b=l*M+u*E,t[o+p]=x-b,t[o+0]=x+b,t[a+v]=C-_,t[a+d]=C+_,_=l*O-u*k,b=u*O+l*k,t[a+p]=w-b,t[a+0]=w+b,t[o+v]=S-_,t[o+d]=S+_,a+=i,o+=i}while(o<c);l=(m=l)*n[s+0]-u*n[s+1],u=m*n[s+1]+u*n[s+0]}s+=2}while(i<r)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(t,n,o,a,s){for(var c=0;c<3;c++){var u=A.BLKSIZE_s/2,l=65535&192*(c+1),f=A.BLKSIZE_s/8-1;do{var h,d,p,v,g,m=255&i[f<<2];d=(h=e[m]*a[o][s+m+l])-(g=e[127-m]*a[o][s+m+l+128]),h+=g,v=(p=e[m+64]*a[o][s+m+l+64])-(g=e[63-m]*a[o][s+m+l+192]),p+=g,u-=4,n[c][u+0]=h+p,n[c][u+2]=h-p,n[c][u+1]=d+v,n[c][u+3]=d-v,d=(h=e[m+1]*a[o][s+m+l+1])-(g=e[126-m]*a[o][s+m+l+129]),h+=g,v=(p=e[m+65]*a[o][s+m+l+65])-(g=e[62-m]*a[o][s+m+l+193]),p+=g,n[c][u+A.BLKSIZE_s/2+0]=h+p,n[c][u+A.BLKSIZE_s/2+2]=h-p,n[c][u+A.BLKSIZE_s/2+1]=d+v,n[c][u+A.BLKSIZE_s/2+3]=d-v}while(0<=--f);r(n[c],u,A.BLKSIZE_s/2)}},this.fft_long=function(e,n,o,a,s){var c=A.BLKSIZE/8-1,u=A.BLKSIZE/2;do{var l,f,h,d,p,v=255&i[c];f=(l=t[v]*a[o][s+v])-(p=t[v+512]*a[o][s+v+512]),l+=p,d=(h=t[v+256]*a[o][s+v+256])-(p=t[v+768]*a[o][s+v+768]),h+=p,n[0+(u-=4)]=l+h,n[u+2]=l-h,n[u+1]=f+d,n[u+3]=f-d,f=(l=t[v+1]*a[o][s+v+1])-(p=t[v+513]*a[o][s+v+513]),l+=p,d=(h=t[v+257]*a[o][s+v+257])-(p=t[v+769]*a[o][s+v+769]),h+=p,n[u+A.BLKSIZE/2+0]=l+h,n[u+A.BLKSIZE/2+2]=l-h,n[u+A.BLKSIZE/2+1]=f+d,n[u+A.BLKSIZE/2+3]=f-d}while(0<=--c);r(n,u,A.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<A.BLKSIZE;r++)t[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/A.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/A.BLKSIZE);for(r=0;r<A.BLKSIZE_s/2;r++)e[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/A.BLKSIZE_s))}},e=2.302585092994046,r=1/217621504/(A.BLKSIZE/2);function s(e,i,o,a,s,c,u,l,f,h,d){var p=e.internal_flags;f<2?(t.fft_long(p,a[s],f,h,d),t.fft_short(p,c[u],f,h,d)):2==f&&n(),i[0]=a[s+0][0],i[0]*=i[0];for(var v=A.BLKSIZE/2-1;0<=v;--v){var g=a[s+0][A.BLKSIZE/2-v],m=a[s+0][A.BLKSIZE/2+v];i[A.BLKSIZE/2-v]=.5*(g*g+m*m)}for(var y=2;0<=y;--y){o[y][0]=c[u+0][y][0],o[y][0]*=o[y][0];for(v=A.BLKSIZE_s/2-1;0<=v;--v){g=c[u+0][y][A.BLKSIZE_s/2-v],m=c[u+0][y][A.BLKSIZE_s/2+v];o[y][A.BLKSIZE_s/2-v]=.5*(g*g+m*m)}}var b=0;for(v=11;v<A.HBLKSIZE;v++)b+=i[v];p.tot_ener[f]=b,e.analysis&&n(),2==e.athaa_loudapprox&&f<2&&(p.loudness_sq[l][f]=p.loudness_sq_save[f],p.loudness_sq_save[f]=function(t,e){for(var n=0,i=0;i<A.BLKSIZE/2;++i)n+=t[i]*e.ATH.eql_w[i];return n*r}(i,p))}var c,u,f,m=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],y=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],b=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],_=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function w(t,e,n,r,i,o){var a;if(t<e){if(!(e<t*u))return t+e;a=e/t}else{if(e*u<=t)return t+e;a=t/e}if(t+=e,r+3<=6){if(c<=a)return t;var s=0|h.FAST_LOG10_X(a,16);return t*b[s]}var l,d;s=0|h.FAST_LOG10_X(a,16);return e=0!=o?i.ATH.cb_s[n]*i.ATH.adjust:i.ATH.cb_l[n]*i.ATH.adjust,t<f*e?e<t?(l=1,s<=13&&(l=_[s]),d=h.FAST_LOG10_X(t/e,10/15),t*((y[s]-l)*d+l)):13<s?t:t*_[s]:t*y[s]}function x(t,e,n,r,i){var o,a,s=0,c=0;for(o=a=0;o<A.SBMAX_s;++a,++o){for(var u=t.bo_s[o],l=t.npart_s,f=u<l?u:l;a<f;)s+=e[a],c+=n[a],a++;if(t.en[r].s[o][i]=s,t.thm[r].s[o][i]=c,l<=a){++o;break}var h=t.PSY.bo_s_weight[o],d=1-h;s=h*e[a],c=h*n[a],t.en[r].s[o][i]+=s,t.thm[r].s[o][i]+=c,s=d*e[a],c=d*n[a]}for(;o<A.SBMAX_s;++o)t.en[r].s[o][i]=0,t.thm[r].s[o][i]=0}function S(t,e,n,r){var i,o,a=0,s=0;for(i=o=0;i<A.SBMAX_l;++o,++i){for(var c=t.bo_l[i],u=t.npart_l,l=c<u?c:u;o<l;)a+=e[o],s+=n[o],o++;if(t.en[r].l[i]=a,t.thm[r].l[i]=s,u<=o){++i;break}var f=t.PSY.bo_l_weight[i],h=1-f;a=f*e[o],s=f*n[o],t.en[r].l[i]+=a,t.thm[r].l[i]+=s,a=h*e[o],s=h*n[o]}for(;i<A.SBMAX_l;++i)t.en[r].l[i]=0,t.thm[r].l[i]=0}function C(t,e,n,r,i,o){var a,s,c=t.internal_flags;for(s=a=0;s<c.npart_s;++s){for(var u=0,l=0,f=c.numlines_s[s],h=0;h<f;++h,++a){var d=e[o][a];u+=d,l<d&&(l=d)}n[s]=u}for(a=s=0;s<c.npart_s;s++){var p=c.s3ind_s[s][0],v=c.s3_ss[a++]*n[p];for(++p;p<=c.s3ind_s[s][1];)v+=c.s3_ss[a]*n[p],++a,++p;var g=2*c.nb_s1[i][s];if(r[s]=Math.min(v,g),c.blocktype_old[1&i]==A.SHORT_TYPE){g=16*c.nb_s2[i][s];var m=r[s];r[s]=Math.min(g,m)}c.nb_s2[i][s]=c.nb_s1[i][s],c.nb_s1[i][s]=v}for(;s<=A.CBANDS;++s)n[s]=0,r[s]=0}function M(t,e,n){return 1<=n?t:n<=0?e:0<e?Math.pow(t/e,n)*e:0}var O=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function k(t,n){for(var r=309.07,i=0;i<A.SBMAX_s-1;i++)for(var o=0;o<3;o++){var a=t.thm.s[i][o];if(0<a){var s=a*n,c=t.en.s[i][o];s<c&&(r+=1e10*s<c?O[i]*(10*e):O[i]*h.FAST_LOG10(c/s))}}return r}var E=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function I(t,n){for(var r=281.0575,i=0;i<A.SBMAX_l-1;i++){var o=t.thm.l[i];if(0<o){var a=o*n,s=t.en.l[i];a<s&&(r+=1e10*a<s?E[i]*(10*e):E[i]*h.FAST_LOG10(s/a))}}return r}function j(t,e,n,r,i){var o,a;for(o=a=0;o<t.npart_l;++o){var s,c=0,u=0;for(s=0;s<t.numlines_l[o];++s,++a){var l=e[a];c+=l,u<l&&(u=l)}n[o]=c,r[o]=u,i[o]=c*t.rnumlines_l[o]}}function T(t,e,n,r){var i=m.length-1,o=0,a=n[o]+n[o+1];0<a?((s=e[o])<e[o+1]&&(s=e[o+1]),i<(c=0|(a=20*(2*s-a)/(a*(t.numlines_l[o]+t.numlines_l[o+1]-1))))&&(c=i),r[o]=c):r[o]=0;for(o=1;o<t.npart_l-1;o++)if(0<(a=n[o-1]+n[o]+n[o+1])){var s,c;(s=e[o-1])<e[o]&&(s=e[o]),s<e[o+1]&&(s=e[o+1]),i<(c=0|(a=20*(3*s-a)/(a*(t.numlines_l[o-1]+t.numlines_l[o]+t.numlines_l[o+1]-1))))&&(c=i),r[o]=c}else r[o]=0;0<(a=n[o-1]+n[o])?((s=e[o-1])<e[o]&&(s=e[o]),i<(c=0|(a=20*(2*s-a)/(a*(t.numlines_l[o-1]+t.numlines_l[o]-1))))&&(c=i),r[o]=c):r[o]=0}var D=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function P(t){return t<0&&(t=0),t*=.001,13*Math.atan(.76*t)+3.5*Math.atan(t*t/56.25)}function L(t,e,n,r,a,s,c,u,l,f,h,d){var p,v=o(A.CBANDS+1),g=u/(15<d?1152:384),m=i(A.HBLKSIZE);u/=l;var y=0,b=0;for(p=0;p<A.CBANDS;p++){var _;for(I=P(u*y),v[p]=u*y,_=y;P(u*_)-I<.34&&_<=l/2;_++);for(t[p]=_-y,b=p+1;y<_;)m[y++]=p;if(l/2<y){y=l/2,++p;break}}v[p]=u*y;for(var w=0;w<d;w++){var x,S,C,M,O;C=f[w],M=f[w+1],(x=0|Math.floor(.5+h*(C-.5)))<0&&(x=0),l/2<(S=0|Math.floor(.5+h*(M-.5)))&&(S=l/2),n[w]=(m[x]+m[S])/2,e[w]=m[S];var k=g*M;c[w]=(k-v[e[w]])/(v[e[w]+1]-v[e[w]]),c[w]<0?c[w]=0:1<c[w]&&(c[w]=1),O=P(u*f[w]*h),O=Math.min(O,15.5)/15.5,s[w]=Math.pow(10,1.25*(1-Math.cos(Math.PI*O))-2.5)}for(var E=y=0;E<b;E++){var I,j,T=t[E];I=P(u*y),j=P(u*(y+T-1)),r[E]=.5*(I+j),I=P(u*(y-.5)),j=P(u*(y+T-.5)),a[E]=j-I,y+=T}return b}function N(t,e,r,i,s,c){var u,l,f,h,d,p=a([A.CBANDS,A.CBANDS]),v=0;if(c)for(var g=0;g<e;g++)for(u=0;u<e;u++){var m=(d=l=void 0,l=r[g]-r[u],f=.5<=(l*=0<=l?3:1.5)&&l<=2.5?8*((d=l-.5)*d-2*d):0,((h=15.811389+7.5*(l+=.474)-17.5*Math.sqrt(1+l*l))<=-60?0:(l=Math.exp(.2302585093*(f+h)),l/=.6609193))*i[u]);p[g][u]=m*s[g]}else n();for(g=0;g<e;g++){for(u=0;u<e&&!(0<p[g][u]);u++);for(t[g][0]=u,u=e-1;0<u&&!(0<p[g][u]);u--);t[g][1]=u,v+=t[g][1]-t[g][0]+1}var y=o(v),b=0;for(g=0;g<e;g++)for(u=t[g][0];u<=t[g][1];u++)y[b++]=p[g][u];return y}function R(t){var e=P(t);return e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function B(t,e){return t<-.3&&(t=3410),t/=1e3,t=Math.max(.1,t),3.64*Math.pow(t,-.8)-6.8*Math.exp(-.6*Math.pow(t-3.4,2))+6*Math.exp(-.15*Math.pow(t-8.7,2))+.001*(.6+.04*e)*Math.pow(t,4)}this.L3psycho_anal_ns=function(t,e,r,c,u,f,h,p,y,b){var _,O,E,P,L,N,R,B,z,F=t.internal_flags,H=a([2,A.BLKSIZE]),U=a([2,3,A.BLKSIZE_s]),W=o(A.CBANDS+1),Y=o(A.CBANDS+1),V=o(A.CBANDS+2),G=i(2),X=i(2),K=a([2,576]),Z=i(A.CBANDS+2),q=i(A.CBANDS+2);for(l(q,0),_=F.channels_out,t.mode==g.JOINT_STEREO&&(_=4),z=t.VBR==v.vbr_off?0==F.ResvMax?0:F.ResvSize/F.ResvMax*.5:t.VBR==v.vbr_rh||t.VBR==v.vbr_mtrh||t.VBR==v.vbr_mt?.6:1,O=0;O<F.channels_out;O++){var Q=e[O],J=r+576-350-21+192;for(P=0;P<576;P++){var $,tt;for($=Q[J+P+10],L=tt=0;L<9;L+=2)$+=D[L]*(Q[J+P+L]+Q[J+P+21-L]),tt+=D[L+1]*(Q[J+P+L+1]+Q[J+P+21-L-1]);K[O][P]=$+tt}u[c][O].en.assign(F.en[O]),u[c][O].thm.assign(F.thm[O]),2<_&&n()}for(O=0;O<_;O++){var et,nt=o(12),rt=[0,0,0,0],it=o(12),ot=1,at=o(A.CBANDS),st=o(A.CBANDS),ct=[0,0,0,0],ut=o(A.HBLKSIZE),lt=a([3,A.HBLKSIZE_s]);for(P=0;P<3;P++)nt[P]=F.nsPsy.last_en_subshort[O][P+6],it[P]=nt[P]/F.nsPsy.last_en_subshort[O][P+4],rt[0]+=nt[P];2==O&&n();var ft=K[1&O],ht=0;for(P=0;P<9;P++){for(var dt=ht+64,pt=1;ht<dt;ht++)pt<Math.abs(ft[ht])&&(pt=Math.abs(ft[ht]));F.nsPsy.last_en_subshort[O][P]=nt[P+3]=pt,rt[1+P/3]+=pt,pt>nt[P+3-2]?pt/=nt[P+3-2]:pt=nt[P+3-2]>10*pt?nt[P+3-2]/(10*pt):0,it[P+3]=pt}for(t.analysis&&n(),et=3==O?F.nsPsy.attackthre_s:F.nsPsy.attackthre,P=0;P<12;P++)0==ct[P/3]&&it[P]>et&&(ct[P/3]=P%3+1);for(P=1;P<4;P++)(rt[P-1]>rt[P]?rt[P-1]/rt[P]:rt[P]/rt[P-1])<1.7&&(ct[P]=0,1==P&&(ct[0]=0));for(0!=ct[0]&&0!=F.nsPsy.lastAttacks[O]&&(ct[0]=0),3!=F.nsPsy.lastAttacks[O]&&ct[0]+ct[1]+ct[2]+ct[3]==0||((ot=0)!=ct[1]&&0!=ct[0]&&(ct[1]=0),0!=ct[2]&&0!=ct[1]&&(ct[2]=0),0!=ct[3]&&0!=ct[2]&&(ct[3]=0)),O<2?X[O]=ot:n(),y[O]=F.tot_ener[O],s(t,ut,lt,H,1&O,U,1&O,c,O,e,r),j(F,ut,W,at,st),T(F,at,st,Z),B=0;B<3;B++){var vt,gt;for(C(t,lt,Y,V,O,B),x(F,Y,V,O,B),R=0;R<A.SBMAX_s;R++){if(gt=F.thm[O].s[R][B],gt*=.8,2<=ct[B]||1==ct[B+1]){var mt=0!=B?B-1:2;pt=M(F.thm[O].s[R][mt],gt,.6*z);gt=Math.min(gt,pt)}if(1==ct[B]){mt=0!=B?B-1:2,pt=M(F.thm[O].s[R][mt],gt,.3*z);gt=Math.min(gt,pt)}else if(0!=B&&3==ct[B-1]||0==B&&3==F.nsPsy.lastAttacks[O]){mt=2!=B?B+1:0,pt=M(F.thm[O].s[R][mt],gt,.3*z);gt=Math.min(gt,pt)}vt=nt[3*B+3]+nt[3*B+4]+nt[3*B+5],6*nt[3*B+5]<vt&&(gt*=.5,6*nt[3*B+4]<vt&&(gt*=.5)),F.thm[O].s[R][B]=gt}}for(F.nsPsy.lastAttacks[O]=ct[2],E=N=0;E<F.npart_l;E++){for(var yt=F.s3ind[E][0],bt=W[yt]*m[Z[yt]],_t=F.s3_ll[N++]*bt;++yt<=F.s3ind[E][1];)bt=W[yt]*m[Z[yt]],_t=w(_t,F.s3_ll[N++]*bt,yt,yt-E,F,0);_t*=.158489319246111,F.blocktype_old[1&O]==A.SHORT_TYPE?V[E]=_t:V[E]=M(Math.min(_t,Math.min(2*F.nb_1[O][E],16*F.nb_2[O][E])),_t,z),F.nb_2[O][E]=F.nb_1[O][E],F.nb_1[O][E]=_t}for(;E<=A.CBANDS;++E)W[E]=0,V[E]=0;S(F,W,V,O)}for(t.mode!=g.STEREO&&t.mode!=g.JOINT_STEREO||n(),t.mode==g.JOINT_STEREO&&n(),function(t,e,n,r){var i=t.internal_flags;t.short_blocks!=d.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var o=0;o<i.channels_out;o++)r[o]=A.NORM_TYPE,t.short_blocks==d.short_block_dispensed&&(e[o]=1),t.short_blocks==d.short_block_forced&&(e[o]=0),0!=e[o]?i.blocktype_old[o]==A.SHORT_TYPE&&(r[o]=A.STOP_TYPE):(r[o]=A.SHORT_TYPE,i.blocktype_old[o]==A.NORM_TYPE&&(i.blocktype_old[o]=A.START_TYPE),i.blocktype_old[o]==A.STOP_TYPE&&(i.blocktype_old[o]=A.SHORT_TYPE)),n[o]=i.blocktype_old[o],i.blocktype_old[o]=r[o]}(t,X,b,G),O=0;O<_;O++){var wt,xt,St,Ct=0;1<O?n():(wt=h,Ct=0,xt=b[O],St=u[c][O]),wt[Ct+O]=xt==A.SHORT_TYPE?k(St,F.masking_lower):I(St,F.masking_lower),t.analysis&&(F.pinfo.pe[c][O]=wt[Ct+O])}return 0},this.psymodel_init=function(n){var r,i=n.internal_flags,a=!0,s=13,l=0,h=0,d=-8.25,g=-4.5,m=o(A.CBANDS),y=o(A.CBANDS),b=o(A.CBANDS),_=n.out_samplerate;switch(n.experimentalZ){default:case 0:a=!0;break;case 1:a=n.VBR!=v.vbr_mtrh&&n.VBR!=v.vbr_mt;break;case 2:a=!1;break;case 3:s=8,l=-1.75,h=-.0125,d=-8.25,g=-2.25}for(i.ms_ener_ratio_old=.25,i.blocktype_old[0]=i.blocktype_old[1]=A.NORM_TYPE,r=0;r<4;++r){for(var w=0;w<A.CBANDS;++w)i.nb_1[r][w]=1e20,i.nb_2[r][w]=1e20,i.nb_s1[r][w]=i.nb_s2[r][w]=1;for(var x=0;x<A.SBMAX_l;x++)i.en[r].l[x]=1e20,i.thm[r].l[x]=1e20;for(w=0;w<3;++w){for(x=0;x<A.SBMAX_s;x++)i.en[r].s[x][w]=1e20,i.thm[r].s[x][w]=1e20;i.nsPsy.lastAttacks[r]=0}for(w=0;w<9;w++)i.nsPsy.last_en_subshort[r][w]=10}for(i.loudness_sq_save[0]=i.loudness_sq_save[1]=0,i.npart_l=L(i.numlines_l,i.bo_l,i.bm_l,m,y,i.mld_l,i.PSY.bo_l_weight,_,A.BLKSIZE,i.scalefac_band.l,A.BLKSIZE/1152,A.SBMAX_l),r=0;r<i.npart_l;r++){var S=l;m[r]>=s&&(S=h*(m[r]-s)/(24-s)+l*(24-m[r])/(24-s)),b[r]=Math.pow(10,S/10),0<i.numlines_l[r]?i.rnumlines_l[r]=1/i.numlines_l[r]:i.rnumlines_l[r]=0}i.s3_ll=N(i.s3ind,i.npart_l,m,y,b,a);var C;w=0;for(r=0;r<i.npart_l;r++){k=p.MAX_VALUE;for(var M=0;M<i.numlines_l[r];M++,w++){var O=_*w/(1e3*A.BLKSIZE);E=this.ATHformula(1e3*O,n)-20,E=Math.pow(10,.1*E),(E*=i.numlines_l[r])<k&&(k=E)}i.ATH.cb_l[r]=k,6<(k=20*m[r]/10-20)&&(k=100),k<-15&&(k=-15),k-=8,i.minval_l[r]=Math.pow(10,k/10)*i.numlines_l[r]}for(i.npart_s=L(i.numlines_s,i.bo_s,i.bm_s,m,y,i.mld_s,i.PSY.bo_s_weight,_,A.BLKSIZE_s,i.scalefac_band.s,A.BLKSIZE_s/384,A.SBMAX_s),r=w=0;r<i.npart_s;r++){var k;S=d;m[r]>=s&&(S=g*(m[r]-s)/(24-s)+d*(24-m[r])/(24-s)),b[r]=Math.pow(10,S/10),k=p.MAX_VALUE;for(M=0;M<i.numlines_s[r];M++,w++){var E;O=_*w/(1e3*A.BLKSIZE_s);E=this.ATHformula(1e3*O,n)-20,E=Math.pow(10,.1*E),(E*=i.numlines_s[r])<k&&(k=E)}i.ATH.cb_s[r]=k,k=7*m[r]/12-7,12<m[r]&&(k*=1+3.1*Math.log(1+k)),m[r]<12&&(k*=1+2.3*Math.log(1-k)),k<-15&&(k=-15),k-=8,i.minval_s[r]=Math.pow(10,k/10)*i.numlines_s[r]}i.s3_ss=N(i.s3ind_s,i.npart_s,m,y,b,a),c=Math.pow(10,9/16),u=Math.pow(10,1.5),f=Math.pow(10,1.5),t.init_fft(i),i.decay=Math.exp(-1*e/(.01*_/192)),C=3.5,0!=(2&n.exp_nspsytune)&&(C=1),0<Math.abs(n.msfix)&&(C=n.msfix),n.msfix=C;for(var I=0;I<i.npart_l;I++)i.s3ind[I][1]>i.npart_l-1&&(i.s3ind[I][1]=i.npart_l-1);var j=576*i.mode_gr/_;if(i.ATH.decay=Math.pow(10,-1.2*j),i.ATH.adjust=.01,-(i.ATH.adjustLimit=1)!=n.ATHtype){var T=n.out_samplerate/A.BLKSIZE,D=0;for(r=O=0;r<A.BLKSIZE/2;++r)O+=T,i.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(O,n)/10),D+=i.ATH.eql_w[r];for(D=1/D,r=A.BLKSIZE/2;0<=--r;)i.ATH.eql_w[r]*=D}for(I=w=0;I<i.npart_s;++I)for(r=0;r<i.numlines_s[I];++r)++w;for(I=w=0;I<i.npart_l;++I)for(r=0;r<i.numlines_l[I];++r)++w;for(r=w=0;r<i.npart_l;r++){O=_*(w+i.numlines_l[r]/2)/(1*A.BLKSIZE);i.mld_cb_l[r]=R(O),w+=i.numlines_l[r]}for(;r<A.CBANDS;++r)i.mld_cb_l[r]=1;for(r=w=0;r<i.npart_s;r++){O=_*(w+i.numlines_s[r]/2)/(1*A.BLKSIZE_s);i.mld_cb_s[r]=R(O),w+=i.numlines_s[r]}for(;r<A.CBANDS;++r)i.mld_cb_s[r]=1;return 0},this.ATHformula=function(t,e){var n;switch(e.ATHtype){case 0:n=B(t,9);break;case 1:n=B(t,-1);break;case 2:n=B(t,0);break;case 3:n=B(t,1)+6;break;case 4:n=B(t,e.ATHcurve);break;default:n=B(t,0)}return n}}function L(){var t,e,r,a,u,l=this;L.V9=410,L.V8=420,L.V7=430,L.V6=440,L.V5=450,L.V4=460,L.V3=470,L.V2=480,L.V1=490,L.V0=500,L.R3MIX=1e3,L.STANDARD=1001,L.EXTREME=1002,L.INSANE=1003,L.STANDARD_FAST=1004,L.EXTREME_FAST=1005,L.MEDIUM=1006,L.MEDIUM_FAST=1007,L.LAME_MAXMP3BUFFER=147456;var f,h,p=new P;function m(){this.lowerlimit=0}function b(t,e){this.lowpass=e}this.enc=new A,this.setModules=function(n,i,o,s,c,l,d,v,g){t=n,e=i,r=o,a=s,u=c,f=l,h=v,this.enc.setModules(e,p,a,f)};var w=4294479419;function C(t,e){var n=[new b(8,2e3),new b(16,3700),new b(24,3900),new b(32,5500),new b(40,7e3),new b(48,7500),new b(56,1e4),new b(64,11e3),new b(80,13500),new b(96,15100),new b(112,15600),new b(128,17e3),new b(160,17500),new b(192,18600),new b(224,19400),new b(256,19700),new b(320,20500)],r=l.nearestBitrateFullIndex(e);t.lowerlimit=n[r].lowpass}function M(t){var e=A.BLKSIZE+t.framesize-A.FFTOFFSET;return Math.max(e,512+t.framesize-32)}function O(){this.n_in=0,this.n_out=0}function k(t,e,r,i,o,a){var s=t.internal_flags;if(s.resample_ratio<.9999||1.0001<s.resample_ratio)n();else{a.n_out=Math.min(t.framesize,o),a.n_in=a.n_out;for(var c=0;c<a.n_out;++c)e[0][s.mf_size+c]=r[0][i+c],2==s.channels_out&&(e[1][s.mf_size+c]=r[1][i+c])}}this.lame_init=function(){var t,e,n=new function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=g.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null};return 0!=((t=n).class_id=w,e=t.internal_flags=new D,t.mode=g.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,e.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=v.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,e.VBR_min_bitrate=1,e.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,e.resample_ratio=1,e.OldValue[0]=180,e.OldValue[1]=180,e.CurrentStep[0]=4,e.CurrentStep[1]=4,e.masking_lower=1,e.nsPsy.attackthre=-1,e.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,e.mf_samples_to_encode=A.ENCDELAY+A.POSTDELAY,t.encoder_padding=0,e.mf_size=A.ENCDELAY-A.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,e.decode_on_the_fly=!1,e.findReplayGain=!1,e.findPeakSample=!1,e.RadioGain=0,e.AudiophileGain=0,e.noclipGainChange=0,e.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0)?null:(n.lame_allocated_gfp=1,n)},this.nearestBitrateFullIndex=function(t){var e=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,i=0,o=0;o=e[16],r=e[i=16],n=16;for(var a=0;a<16;a++)if(Math.max(t,e[a+1])!=t){o=e[a+1],i=a+1,r=e[a],n=a;break}return t-r<o-t?n:i},this.lame_init_params=function(t){var c,l,y=t.internal_flags;if(y.Class_ID=0,null==y.ATH&&(y.ATH=new function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=o(A.SBMAX_l),this.s=o(A.SBMAX_s),this.psfb21=o(A.PSFB21),this.psfb12=o(A.PSFB12),this.cb_l=o(A.CBANDS),this.cb_s=o(A.CBANDS),this.eql_w=o(A.BLKSIZE/2)}),null==y.PSY&&(y.PSY=new function(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(A.SBMAX_l),this.bo_s_weight=o(A.SBMAX_s)}),null==y.rgdata&&(y.rgdata=new function(){}),y.channels_in=t.num_channels,1==y.channels_in&&(t.mode=g.MONO),y.channels_out=t.mode==g.MONO?1:2,y.mode_ext=A.MPG_MD_MS_LR,t.mode==g.MONO&&(t.force_ms=!1),t.VBR==v.vbr_off&&128!=t.VBR_mean_bitrate_kbps&&0==t.brate&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==v.vbr_off||t.VBR==v.vbr_mtrh||t.VBR==v.vbr_mt||(t.free_format=!1),t.VBR==v.vbr_off&&0==t.brate&&n(),t.VBR==v.vbr_off&&0<t.compression_ratio&&n(),0!=t.out_samplerate&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),0==t.lowpassfreq){var b=16e3;switch(t.VBR){case v.vbr_off:C(_=new m,t.brate),b=_.lowerlimit;break;case v.vbr_abr:var _;C(_=new m,t.VBR_mean_bitrate_kbps),b=_.lowerlimit;break;case v.vbr_rh:n();default:n()}t.mode!=g.MONO||t.VBR!=v.vbr_off&&t.VBR!=v.vbr_abr||(b*=1.5),t.lowpassfreq=0|b}switch(0==t.out_samplerate&&n(),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==v.vbr_off&&(t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.brate)),t.VBR==v.vbr_abr&&n(),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,y.findPeakSample=!1),y.findReplayGain=t.findReplayGain,y.decode_on_the_fly=t.decode_on_the_fly,y.decode_on_the_fly&&(y.findPeakSample=!0),y.findReplayGain&&n(),y.decode_on_the_fly&&!t.decode_only&&n(),y.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*y.mode_gr,t.encoder_delay=A.ENCDELAY,y.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case v.vbr_mt:case v.vbr_rh:case v.vbr_mtrh:t.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][t.VBR_q];break;case v.vbr_abr:t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=16*t.out_samplerate*y.channels_out/(1e3*t.brate)}t.mode==g.NOT_SET&&(t.mode=g.JOINT_STEREO),0<t.highpassfreq?n():(y.highpass1=0,y.highpass2=0),0<t.lowpassfreq?(y.lowpass2=2*t.lowpassfreq,0<=t.lowpasswidth?n():y.lowpass1=2*t.lowpassfreq,y.lowpass1/=t.out_samplerate,y.lowpass2/=t.out_samplerate):n(),function(t){var e,r=t.internal_flags,i=32;if(0<r.lowpass1){for(var o=999,a=0;a<=31;a++){(u=a/31)>=r.lowpass2&&(i=Math.min(i,a)),r.lowpass1<u&&u<r.lowpass2&&(o=Math.min(o,a))}r.lowpass1=999==o?(i-.75)/31:(o-.75)/31,r.lowpass2=i/31}0<r.highpass2&&n(),0<r.highpass2&&n();for(a=0;a<32;a++){var s,c,u=a/31;r.highpass2>r.highpass1?n():s=1,c=r.lowpass2>r.lowpass1?1<(e=(u-r.lowpass1)/(r.lowpass2-r.lowpass1+1e-20))?0:e<=0?1:Math.cos(Math.PI/2*e):1,r.amp_filter[a]=s*c}}(t),y.samplerate_index=function(t,e){switch(t){case 44100:return e.version=1,0;case 48e3:return e.version=1;case 32e3:return e.version=1,2;case 22050:return e.version=0;case 24e3:return e.version=0,1;case 16e3:return e.version=0,2;case 11025:return e.version=0;case 12e3:return e.version=0,1;case 8e3:return e.version=0,2;default:return e.version=0,-1}}(t.out_samplerate,t),y.samplerate_index<0&&n(),t.VBR==v.vbr_off?t.free_format?y.bitrate_index=0:(t.brate=function(t,e,n){n<16e3&&(e=2);for(var r=x.bitrate_table[e][1],i=2;i<=14;i++)0<x.bitrate_table[e][i]&&Math.abs(x.bitrate_table[e][i]-t)<Math.abs(r-t)&&(r=x.bitrate_table[e][i]);return r}(t.brate,t.version,t.out_samplerate),y.bitrate_index=function(t,e,n){n<16e3&&(e=2);for(var r=0;r<=14;r++)if(0<x.bitrate_table[e][r]&&x.bitrate_table[e][r]==t)return r;return-1}(t.brate,t.version,t.out_samplerate),y.bitrate_index<=0&&n()):y.bitrate_index=1,t.analysis&&(t.bWriteVbrTag=!1),null!=y.pinfo&&(t.bWriteVbrTag=!1),e.init_bit_stream_w(y);for(var M,O=y.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),k=0;k<A.SBMAX_l+1;k++)y.scalefac_band.l[k]=a.sfBandIndex[O].l[k];for(k=0;k<A.PSFB21+1;k++){var I=(y.scalefac_band.l[22]-y.scalefac_band.l[21])/A.PSFB21,j=y.scalefac_band.l[21]+k*I;y.scalefac_band.psfb21[k]=j}y.scalefac_band.psfb21[A.PSFB21]=576;for(k=0;k<A.SBMAX_s+1;k++)y.scalefac_band.s[k]=a.sfBandIndex[O].s[k];for(k=0;k<A.PSFB12+1;k++){I=(y.scalefac_band.s[13]-y.scalefac_band.s[12])/A.PSFB12,j=y.scalefac_band.s[12]+k*I;y.scalefac_band.psfb12[k]=j}for(y.scalefac_band.psfb12[A.PSFB12]=192,1==t.version?y.sideinfo_len=1==y.channels_out?21:36:y.sideinfo_len=1==y.channels_out?13:21,t.error_protection&&(y.sideinfo_len+=2),l=void 0,l=(c=t).internal_flags,c.frameNum=0,c.write_id3tag_automatic&&h.id3tag_write_v2(c),l.bitrate_stereoMode_Hist=s([16,5]),l.bitrate_blockType_Hist=s([16,6]),l.PeakSample=0,c.bWriteVbrTag&&f.InitVbrTag(c),y.Class_ID=w,M=0;M<19;M++)y.nsPsy.pefirbuf[M]=700*y.mode_gr*y.channels_out;switch(-1==t.ATHtype&&(t.ATHtype=4),t.VBR){case v.vbr_mt:t.VBR=v.vbr_mtrh;case v.vbr_mtrh:null==t.useTemporal&&(t.useTemporal=!1),r.apply_preset(t,500-10*t.VBR_q,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),5<t.quality&&(t.quality=5),y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?y.sfb21_extra=!1:y.sfb21_extra=44e3<t.out_samplerate,y.iteration_loop=new VBRNewIterationLoop(u);break;case v.vbr_rh:r.apply_preset(t,500-10*t.VBR_q,0),y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?y.sfb21_extra=!1:y.sfb21_extra=44e3<t.out_samplerate,6<t.quality&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),y.iteration_loop=new VBROldIterationLoop(u);break;default:var T;y.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),(T=t.VBR)==v.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),r.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=T,y.PSY.mask_adjust=t.maskingadjust,y.PSY.mask_adjust_short=t.maskingadjust_short,T==v.vbr_off?y.iteration_loop=new function(t){var e=t;this.quantize=e,this.iteration_loop=function(t,e,r,a){var s=t.internal_flags,c=o(E.SFBMAX),u=o(576),l=i(2),f=0,h=s.l3_side,d=new S(f);this.quantize.rv.ResvFrameBegin(t,d),f=d.bits;for(var p=0;p<s.mode_gr;p++){this.quantize.qupvt.on_pe(t,e,l,f,p,p),s.mode_ext==A.MPG_MD_MS_LR&&n();for(var v=0;v<s.channels_out;v++){var g,m,y=h.tt[p][v];y.block_type!=A.SHORT_TYPE?(g=0,m=s.PSY.mask_adjust-g):(g=0,m=s.PSY.mask_adjust_short-g),s.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(s,y),this.quantize.init_xrpow(s,y,u)&&(this.quantize.qupvt.calc_xmin(t,a[p][v],y,c),this.quantize.outer_loop(t,y,c,u,v,l[v])),this.quantize.iteration_finish_one(s,p,v)}}this.quantize.rv.ResvFrameEnd(s,f)}}(u):n()}return t.VBR!=v.vbr_off&&n(),t.tune&&n(),function(t){var e=t.internal_flags;switch(t.quality){default:case 9:e.psymodel=0,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 8:t.quality=7;case 7:e.psymodel=1,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 6:case 5:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 4:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 3:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=1,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 2:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=1,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 1:case 0:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,-(e.noise_shaping_stop=1)==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0}}(t),t.athaa_type<0?y.ATH.useAdjust=3:y.ATH.useAdjust=t.athaa_type,y.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),null==t.short_blocks&&(t.short_blocks=d.short_block_allowed),t.short_blocks!=d.short_block_allowed||t.mode!=g.JOINT_STEREO&&t.mode!=g.STEREO||(t.short_blocks=d.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=1|t.exp_nspsytune,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=P.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=P.NSATTACKTHRE_S),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),null==t.useTemporal&&(t.useTemporal=!0),y.slot_lag=y.frac_SpF=0,t.VBR==v.vbr_off&&(y.slot_lag=y.frac_SpF=72e3*(t.version+1)*t.brate%t.out_samplerate|0),a.iteration_init(t),p.psymodel_init(t),0},this.lame_encode_flush=function(t,r,i,o){var a,s,u,l,f=t.internal_flags,h=c([2,1152]),d=0,p=f.mf_samples_to_encode-A.POSTDELAY,v=M(t);if(f.mf_samples_to_encode<1)return 0;for(a=0,t.in_samplerate!=t.out_samplerate&&n(),(u=t.framesize-p%t.framesize)<576&&(u+=t.framesize),t.encoder_padding=u,l=(p+u)/t.framesize;0<l&&0<=d;){var g=v-f.mf_size,m=t.frameNum;g*=t.in_samplerate,1152<(g/=t.out_samplerate)&&(g=1152),g<1&&(g=1),s=o-a,0==o&&(s=0),i+=d=this.lame_encode_buffer(t,h[0],h[1],g,r,i,s),a+=d,l-=m!=t.frameNum?1:0}return f.mf_samples_to_encode=0,d<0?d:(s=o-a,0==o&&(s=0),e.flush_bitstream(t),(d=e.copy_buffer(f,r,i,s,1))<0?d:(i+=d,s=o-(a+=d),0==o&&(s=0),t.write_id3tag_automatic&&n(),a))},this.lame_encode_buffer=function(r,i,a,s,c,u,f){var h,d,p=r.internal_flags,v=[null,null];if(p.Class_ID!=w)return-3;if(0==s)return 0;d=s,(null==(h=p).in_buffer_0||h.in_buffer_nsamples<d)&&(h.in_buffer_0=o(d),h.in_buffer_1=o(d),h.in_buffer_nsamples=d),v[0]=p.in_buffer_0,v[1]=p.in_buffer_1;for(var g=0;g<s;g++)v[0][g]=i[g],1<p.channels_in&&(v[1][g]=a[g]);return function(r,i,o,a,s,c,u){var f,h,d,p,v,g=r.internal_flags,m=0,b=[null,null],x=[null,null];if(g.Class_ID!=w)return-3;if(0==a)return 0;if((v=e.copy_buffer(g,s,c,u,0))<0)return v;if(c+=v,m+=v,x[0]=i,x[1]=o,_.NEQ(r.scale,0)&&_.NEQ(r.scale,1))for(h=0;h<a;++h)x[0][h]*=r.scale,2==g.channels_out&&(x[1][h]*=r.scale);if(_.NEQ(r.scale_left,0)&&_.NEQ(r.scale_left,1))for(h=0;h<a;++h)x[0][h]*=r.scale_left;if(_.NEQ(r.scale_right,0)&&_.NEQ(r.scale_right,1))for(h=0;h<a;++h)x[1][h]*=r.scale_right;2==r.num_channels&&1==g.channels_out&&n(),p=M(r),b[0]=g.mfbuf[0],b[1]=g.mfbuf[1];for(var S,C,E,I,j,A,T,D=0;0<a;){var P,L,N=[null,null];N[0]=x[0],N[1]=x[1];var R=new O;if(k(r,b,N,D,a,R),P=R.n_in,L=R.n_out,g.findReplayGain&&!g.decode_on_the_fly&&t.AnalyzeSamples(g.rgdata,b[0],g.mf_size,b[1],g.mf_size,L,g.channels_out)==y.GAIN_ANALYSIS_ERROR)return-6;if(a-=P,D+=P,g.channels_out,g.mf_size+=L,g.mf_samples_to_encode<1&&n(),g.mf_samples_to_encode+=L,g.mf_size>=p){var B=u-m;if(0==u&&(B=0),S=r,C=b[0],E=b[1],I=s,j=c,A=B,T=l.enc.lame_encode_mp3_frame(S,C,E,I,j,A),S.frameNum++,(f=T)<0)return f;for(c+=f,m+=f,g.mf_size-=r.framesize,g.mf_samples_to_encode-=r.framesize,d=0;d<g.channels_out;d++)for(h=0;h<g.mf_size;h++)b[d][h]=b[d][h+r.framesize]}}return m}(r,v[0],v[1],s,c,u,f)}}E.SFBMAX=3*A.SBMAX_s,A.ENCDELAY=576,A.POSTDELAY=1152,A.FFTOFFSET=224+(A.MDCTDELAY=48),A.DECDELAY=528,A.SBLIMIT=32,A.CBANDS=64,A.SBPSY_l=21,A.SBPSY_s=12,A.SBMAX_l=22,A.SBMAX_s=13,A.PSFB21=6,A.PSFB12=6,A.HBLKSIZE=(A.BLKSIZE=1024)/2+1,A.HBLKSIZE_s=(A.BLKSIZE_s=256)/2+1,A.NORM_TYPE=0,A.START_TYPE=1,A.SHORT_TYPE=2,A.STOP_TYPE=3,A.MPG_MD_LR_LR=0,A.MPG_MD_LR_I=1,A.MPG_MD_MS_LR=2,A.MPG_MD_MS_I=3,A.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],D.MFSIZE=3456+A.ENCDELAY-A.MDCTDELAY,D.MAX_HEADER_BUF=256,D.MAX_BITS_PER_CHANNEL=4095,D.MAX_BITS_PER_GRANULE=7680,D.BPC=320,E.SFBMAX=3*A.SBMAX_s,e.Mp3Encoder=function(t,e,i){1!=t&&n("fix cc: only supports mono");var o=new L,a=new function(){this.setModules=function(t,e){}},s=new y,c=new _,u=new function(){function t(t,e,n,r,i,o,a,s,c,u,l,f,h,d){this.quant_comp=e,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=i,this.st_lrm=o,this.st_s=a,this.nsbass=s,this.scale=c,this.masking_adj=u,this.ath_lower=l,this.ath_curve=f,this.interch=h,this.sfscale=d}var e;function r(t,e,r){n()}this.setModules=function(t){e=t};var i=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function o(t,n,r){var o=n,a=e.nearestBitrateFullIndex(n);if(t.VBR=v.vbr_abr,t.VBR_mean_bitrate_kbps=o,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,320<t.VBR_mean_bitrate_kbps&&(t.disable_reservoir=!0),0<i[a].safejoint&&(t.exp_nspsytune=2|t.exp_nspsytune),0<i[a].sfscale&&(t.internal_flags.noise_shaping=2),0<Math.abs(i[a].nsbass)){var s=int(4*i[a].nsbass);s<0&&(s+=64),t.exp_nspsytune=t.exp_nspsytune|s<<2}return 0!=r?t.quant_comp=i[a].quant_comp:0<Math.abs(t.quant_comp- -1)||(t.quant_comp=i[a].quant_comp),0!=r?t.quant_comp_short=i[a].quant_comp_s:0<Math.abs(t.quant_comp_short- -1)||(t.quant_comp_short=i[a].quant_comp_s),0!=r?t.msfix=i[a].nsmsfix:0<Math.abs(t.msfix- -1)||(t.msfix=i[a].nsmsfix),0!=r?t.internal_flags.nsPsy.attackthre=i[a].st_lrm:0<Math.abs(t.internal_flags.nsPsy.attackthre- -1)||(t.internal_flags.nsPsy.attackthre=i[a].st_lrm),0!=r?t.internal_flags.nsPsy.attackthre_s=i[a].st_s:0<Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)||(t.internal_flags.nsPsy.attackthre_s=i[a].st_s),0!=r?t.scale=i[a].scale:0<Math.abs(t.scale- -1)||(t.scale=i[a].scale),0!=r?t.maskingadjust=i[a].masking_adj:0<Math.abs(t.maskingadjust-0)||(t.maskingadjust=i[a].masking_adj),0<i[a].masking_adj?0!=r?t.maskingadjust_short=.9*i[a].masking_adj:0<Math.abs(t.maskingadjust_short-0)||(t.maskingadjust_short=.9*i[a].masking_adj):0!=r?t.maskingadjust_short=1.1*i[a].masking_adj:0<Math.abs(t.maskingadjust_short-0)||(t.maskingadjust_short=1.1*i[a].masking_adj),0!=r?t.ATHlower=-i[a].ath_lower/10:0<Math.abs(10*-t.ATHlower-0)||(t.ATHlower=-i[a].ath_lower/10),0!=r?t.ATHcurve=i[a].ath_curve:0<Math.abs(t.ATHcurve- -1)||(t.ATHcurve=i[a].ath_curve),0!=r?t.interChRatio=i[a].interch:0<Math.abs(t.interChRatio- -1)||(t.interChRatio=i[a].interch),n}this.apply_preset=function(t,e,n){switch(e){case L.R3MIX:e=L.V3,t.VBR=v.vbr_mtrh;break;case L.MEDIUM:e=L.V4,t.VBR=v.vbr_rh;break;case L.MEDIUM_FAST:e=L.V4,t.VBR=v.vbr_mtrh;break;case L.STANDARD:e=L.V2,t.VBR=v.vbr_rh;break;case L.STANDARD_FAST:e=L.V2,t.VBR=v.vbr_mtrh;break;case L.EXTREME:e=L.V0,t.VBR=v.vbr_rh;break;case L.EXTREME_FAST:e=L.V0,t.VBR=v.vbr_mtrh;break;case L.INSANE:return e=320,t.preset=e,o(t,e,n),t.VBR=v.vbr_off,e}switch(t.preset=e){case L.V9:case L.V8:case L.V7:case L.V6:case L.V5:case L.V4:case L.V3:case L.V2:case L.V1:case L.V0:return r(),e}return 8<=e&&e<=320?o(t,e,n):(t.preset=0,e)}},l=new O,f=new I,h=new b,d=new function(){this.getLameShortVersion=function(){return"3.98.4"}},p=new function(){this.setModules=function(t,e){}},w=new function(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,r){var i,o=e.internal_flags,a=o.l3_side,s=t.getframebits(e);r.bits=(s-8*o.sideinfo_len)/o.mode_gr;var c=2048*o.mode_gr-8;320<e.brate?n():(i=11520,e.strict_ISO&&n()),o.ResvMax=i-s,o.ResvMax>c&&(o.ResvMax=c),(o.ResvMax<0||e.disable_reservoir)&&(o.ResvMax=0);var u=r.bits*o.mode_gr+Math.min(o.ResvSize,o.ResvMax);return i<u&&(u=i),a.resvDrain_pre=0,null!=o.pinfo&&n(),u},this.ResvMaxBits=function(t,e,n,r){var i,o=t.internal_flags,a=o.ResvSize,s=o.ResvMax;0!=r&&(a+=e),0!=(1&o.substep_shaping)&&(s*=.9),n.bits=e,9*s<10*a?(i=a-9*s/10,n.bits+=i,o.substep_shaping|=128):(i=0,o.substep_shaping&=127,t.disable_reservoir||0!=(1&o.substep_shaping)||(n.bits-=.1*e));var c=a<6*o.ResvMax/10?a:6*o.ResvMax/10;return(c-=i)<0&&(c=0),c},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var n,r=t.l3_side;t.ResvSize+=e*t.mode_gr;var i=0;r.resvDrain_post=0,(r.resvDrain_pre=0)!=(n=t.ResvSize%8)&&(i+=n),0<(n=t.ResvSize-i-t.ResvMax)&&(i+=n);var o=Math.min(8*r.main_data_begin,i)/8;r.resvDrain_pre+=8*o,i-=8*o,t.ResvSize-=8*o,r.main_data_begin-=o,r.resvDrain_post+=i,t.ResvSize-=i}},x=new m,S=new function(){this.setModules=function(t,e,n){}},C=new function(){};o.setModules(s,c,u,l,f,h,d,p,C),c.setModules(s,C,d,h),p.setModules(c,d),u.setModules(o),f.setModules(c,w,l,x),l.setModules(x,w,o.enc.psy),w.setModules(c),x.setModules(l),h.setModules(o,c,d),a.setModules(S,C),S.setModules(d,p,u);var M=o.lame_init();M.num_channels=t,M.in_samplerate=e,M.out_samplerate=e,M.brate=i,M.mode=g.STEREO,M.quality=3,M.bWriteVbrTag=!1,M.disable_reservoir=!0,M.write_id3tag_automatic=!1,o.lame_init_params(M);var k=1152,E=0|1.25*k+7200,j=r(E);this.encodeBuffer=function(e,n){1==t&&(n=e),e.length>k&&(k=e.length,j=r(E=0|1.25*k+7200));var i=o.lame_encode_buffer(M,e,n,e.length,j,0,E);return new Int8Array(j.subarray(0,i))},this.flush=function(){var t=o.lame_encode_flush(M,j,0,E);return new Int8Array(j.subarray(0,t))}}}e(),t.lamejs=e}(("object"==("undefined"===typeof window?"undefined":i(window))&&window.document?window:Object).Recorder)}).call(this,n(157)(t))},1308:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){var e="object"==("undefined"===typeof window?"undefined":n(window))&&!!window.document,r=(e?window:Object).Recorder,i=r.i18n;!function(t,e,n,r){"use strict";var i=function(t){return new a(t)},o="WaveSurferView",a=function(t){var e={scale:2,fps:50,duration:2500,direction:1,position:0,centerHeight:1,linear:[0,"rgba(0,187,17,1)",.7,"rgba(255,215,0,1)",1,"rgba(255,102,0,1)"],centerColor:""};for(var i in t)e[i]=t[i];this.set=t=e;var a="compatibleCanvas";if(t[a])var s=this.canvas=t[a],c=this.canvas2=t[a+"_2x"];else{if(!r)throw new Error(n.G("NonBrowser-1",[o]));var u=t.elem;u&&("string"==typeof u?u=document.querySelector(u):u.length&&(u=u[0])),u&&(t.width=u.offsetWidth,t.height=u.offsetHeight);var l=this.elem=document.createElement("div");l.style.fontSize=0,l.innerHTML='<canvas style="width:100%;height:100%;"/>';s=this.canvas=l.querySelector("canvas"),c=this.canvas2=document.createElement("canvas");u&&(u.innerHTML="",u.appendChild(l))}var f=t.scale,h=t.width*f,d=t.height*f;if(!h||!d)throw new Error(n.G("IllegalArgs-1",[o+" width=0 height=0"]));s.width=h,s.height=d;this.ctx=s.getContext("2d");c.width=2*h,c.height=d;this.ctx2=c.getContext("2d");this.x=0};a.prototype=i.prototype={genLinear:function(t,e,n,r){for(var i=t.createLinearGradient(0,n,0,r),o=0;o<e.length;)i.addColorStop(e[o++],e[o++]);return i},input:function(t,e,n){this.sampleRate=n,this.pcmData=t,this.pcmPos=0,this.inputTime=Date.now(),this.schedule()},schedule:function(){var t=this,e=t.set,n=Math.floor(1e3/e.fps);t.timer||(t.timer=setInterval((function(){t.schedule()}),n));var r=Date.now();if(!(r-(t.drawTime||0)<n)){t.drawTime=r;for(var i=t.sampleRate/e.fps,o=t.pcmData,a=t.pcmPos,s=new Int16Array(Math.min(i,o.length-a)),c=0;c<s.length;c++,a++)s[c]=o[a];t.pcmPos=a,s.length?t.draw(s,t.sampleRate):r-t.inputTime>1300&&(clearInterval(t.timer),t.timer=0)}},draw:function(t,e){var n=this.set,r=this.ctx2,i=n.scale,o=n.width*i,a=2*o,s=n.height*i,c=1*i,u=n.position,l=Math.abs(n.position),f=1==u?0:s,h=s;l<1&&(f=h/=2,h=Math.floor(h*(1+l)),f=Math.floor(u>0?f*(1-l):f*(1+l)));var d=1e3*t.length/e*o/n.duration,p=0;(d+=this.drawLoss||0)<c?this.drawLoss=d:(this.drawLoss=0,p=Math.floor(d/c));for(var v=this.genLinear(r,n.linear,f,f-h),g=this.genLinear(r,n.linear,f,f+h),m=this.x,y=t.length/p,b=0,_=0;b<p;b++){var w=Math.floor(_),x=Math.floor(_+y);_+=y;for(var S=0;w<x;w++)S=Math.max(S,Math.abs(t[w]));var C=h*Math.min(1,S/32767);0!=f&&(r.fillStyle=v,r.fillRect(m,f-C,c,C)),f!=s&&(r.fillStyle=g,r.fillRect(m,f,c,C)),(m+=c)>=a&&(r.clearRect(0,0,o,s),r.drawImage(this.canvas2,o,0,o,s,0,0,o,s),r.clearRect(o,0,o,s),m=o)}this.x=m,(r=this.ctx).clearRect(0,0,o,s);var M=n.centerHeight*i;if(M){var O=f-Math.floor(M/2);O=Math.max(O,0),O=Math.min(O,s-M),r.fillStyle=n.centerColor||n.linear[1],r.fillRect(0,O,o,M)}var k=0,E=m,I=0;E>o?(k=E-o,E=o):I=o-E,-1==n.direction?r.drawImage(this.canvas2,k,0,E,s,I,0,E,s):(r.save(),r.scale(-1,1),r.drawImage(this.canvas2,k,0,E,s,-o+I,0,E,s),r.restore())}},t[o]=i}(r,0,i.$T,e)}()},1309:function(t,e,n){"use strict";var r=n(1196),i=n(100);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RHAP_UI",{enumerable:!0,get:function(){return E.RHAP_UI}}),e.default=void 0;var o=r(n(344)),a=r(n(345)),s=r(n(1191)),c=r(n(1197)),u=r(n(1198)),l=r(n(1199)),f=r(n(70)),h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=j(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),d=n(1311),p=r(n(1312)),v=r(n(1313)),g=r(n(1314)),m=r(n(1315)),y=r(n(1316)),b=r(n(1317)),_=r(n(1318)),w=r(n(1319)),x=r(n(1320)),S=r(n(1321)),C=r(n(1322)),M=r(n(1324)),O=r(n(1325)),k=r(n(1326)),E=n(1327),I=n(1200);function j(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(j=function(t){return t?n:e})(t)}function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var T=function(t){(0,c.default)(n,t);var e=A(n);function n(){var t;(0,o.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),(0,f.default)((0,s.default)(t),"audio",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"progressBar",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"container",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"lastVolume",t.props.volume),(0,f.default)((0,s.default)(t),"listenTracker",void 0),(0,f.default)((0,s.default)(t),"volumeAnimationTimer",void 0),(0,f.default)((0,s.default)(t),"downloadProgressAnimationTimer",void 0),(0,f.default)((0,s.default)(t),"togglePlay",(function(e){e.stopPropagation();var n=t.audio.current;(n.paused||n.ended)&&n.src?t.playAudioPromise():n.paused||(n.pause(),t.props.onPause&&t.props.onPause(e,"user"))})),(0,f.default)((0,s.default)(t),"playAudioPromise",(function(){var e=t.audio.current.play();e?e.then(null).catch((function(e){var n=t.props.onPlayError;n&&n(new Error(e))})):t.forceUpdate()})),(0,f.default)((0,s.default)(t),"isPlaying",(function(){var e=t.audio.current;return!!e&&(!e.paused&&!e.ended)})),(0,f.default)((0,s.default)(t),"handlePlay",(function(e){t.forceUpdate(),t.props.onPlay&&t.props.onPlay(e)})),(0,f.default)((0,s.default)(t),"handlePause",(function(e){t.audio&&(t.forceUpdate(),t.props.onPause&&t.props.onPause(e))})),(0,f.default)((0,s.default)(t),"handleEnded",(function(e){t.audio&&(t.forceUpdate(),t.props.onEnded&&t.props.onEnded(e))})),(0,f.default)((0,s.default)(t),"handleAbort",(function(e){t.props.onAbort&&t.props.onAbort(e)})),(0,f.default)((0,s.default)(t),"handleClickVolumeButton",(function(){var e=t.audio.current;e.volume>0?(t.lastVolume=e.volume,e.volume=0):e.volume=t.lastVolume})),(0,f.default)((0,s.default)(t),"handleMuteChange",(function(){t.forceUpdate()})),(0,f.default)((0,s.default)(t),"handleClickLoopButton",(function(){t.audio.current.loop=!t.audio.current.loop,t.forceUpdate()})),(0,f.default)((0,s.default)(t),"handleClickRewind",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,i=n.backward||r;t.setJumpTime(-i)})),(0,f.default)((0,s.default)(t),"handleClickForward",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,i=n.forward||r;t.setJumpTime(i)})),(0,f.default)((0,s.default)(t),"setJumpTime",(function(e){var n=t.audio.current,r=n.duration,i=n.currentTime;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(r)||!isFinite(i))return t.props.onChangeCurrentTimeError&&t.props.onChangeCurrentTimeError();var o=i+e/1e3;o<0?(n.currentTime=0,o=0):o>r?(n.currentTime=r,o=r):n.currentTime=o})),(0,f.default)((0,s.default)(t),"setJumpVolume",(function(e){var n=t.audio.current.volume+e;n<0?n=0:n>1&&(n=1),t.audio.current.volume=n})),(0,f.default)((0,s.default)(t),"handleKeyDown",(function(e){if(t.props.hasDefaultKeyBindings)switch(e.key){case" ":e.target!==t.container.current&&e.target!==t.progressBar.current||(e.preventDefault(),t.togglePlay(e));break;case"ArrowLeft":t.handleClickRewind();break;case"ArrowRight":t.handleClickForward();break;case"ArrowUp":e.preventDefault(),t.setJumpVolume(t.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),t.setJumpVolume(-t.props.volumeJumpStep);break;case"l":t.handleClickLoopButton();break;case"m":t.handleClickVolumeButton()}})),(0,f.default)((0,s.default)(t),"renderUIModules",(function(e){return e.map((function(e,n){return t.renderUIModule(e,n)}))})),(0,f.default)((0,s.default)(t),"renderUIModule",(function(e,n){var r=t.props,i=r.defaultCurrentTime,o=r.progressUpdateInterval,a=r.showDownloadProgress,s=r.showFilledProgress,c=r.showFilledVolume,u=r.defaultDuration,l=r.customIcons,f=r.showSkipControls,j=r.onClickPrevious,A=r.onClickNext,T=r.onChangeCurrentTimeError,D=r.showJumpControls,P=r.customAdditionalControls,L=r.customVolumeControls,N=r.muted,R=r.timeFormat,B=r.volume,z=r.loop,F=r.mse,H=r.i18nAriaLabels;switch(e){case E.RHAP_UI.CURRENT_TIME:return h.default.createElement("div",{key:n,id:"rhap_current-time",className:"rhap_time rhap_current-time"},h.default.createElement(M.default,{audio:t.audio.current,isLeftTime:!1,defaultCurrentTime:i,timeFormat:R}));case E.RHAP_UI.CURRENT_LEFT_TIME:return h.default.createElement("div",{key:n,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},h.default.createElement(M.default,{audio:t.audio.current,isLeftTime:!0,defaultCurrentTime:i,timeFormat:R}));case E.RHAP_UI.PROGRESS_BAR:return h.default.createElement(C.default,{key:n,ref:t.progressBar,audio:t.audio.current,progressUpdateInterval:o,showDownloadProgress:a,showFilledProgress:s,onSeek:F&&F.onSeek,onChangeCurrentTimeError:T,srcDuration:F&&F.srcDuration,i18nProgressBar:H.progressControl});case E.RHAP_UI.DURATION:return h.default.createElement("div",{key:n,className:"rhap_time rhap_total-time"},F&&F.srcDuration?(0,I.getDisplayTimeBySeconds)(F.srcDuration,F.srcDuration,t.props.timeFormat):h.default.createElement(O.default,{audio:t.audio.current,defaultDuration:u,timeFormat:R}));case E.RHAP_UI.ADDITIONAL_CONTROLS:return h.default.createElement("div",{key:n,className:"rhap_additional-controls"},t.renderUIModules(P));case E.RHAP_UI.MAIN_CONTROLS:var U,W=t.isPlaying();return U=W?l.pause?l.pause:h.default.createElement(d.Icon,{icon:v.default}):l.play?l.play:h.default.createElement(d.Icon,{icon:p.default}),h.default.createElement("div",{key:n,className:"rhap_main-controls"},f&&h.default.createElement("button",{"aria-label":H.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:j},l.previous?l.previous:h.default.createElement(d.Icon,{icon:g.default})),D&&h.default.createElement("button",{"aria-label":H.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:t.handleClickRewind},l.rewind?l.rewind:h.default.createElement(d.Icon,{icon:b.default})),h.default.createElement("button",{"aria-label":W?H.pause:H.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:t.togglePlay},U),D&&h.default.createElement("button",{"aria-label":H.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:t.handleClickForward},l.forward?l.forward:h.default.createElement(d.Icon,{icon:y.default})),f&&h.default.createElement("button",{"aria-label":H.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:A},l.next?l.next:h.default.createElement(d.Icon,{icon:m.default})));case E.RHAP_UI.VOLUME_CONTROLS:return h.default.createElement("div",{key:n,className:"rhap_volume-controls"},t.renderUIModules(L));case E.RHAP_UI.LOOP:var Y,V=t.audio.current?t.audio.current.loop:z;return Y=V?l.loop?l.loop:h.default.createElement(d.Icon,{icon:x.default}):l.loopOff?l.loopOff:h.default.createElement(d.Icon,{icon:S.default}),h.default.createElement("button",{key:n,"aria-label":V?H.loop:H.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:t.handleClickLoopButton},Y);case E.RHAP_UI.VOLUME:var G,X=(t.audio.current||{}).volume,K=void 0===X?N?0:B:X;return G=K?l.volume?l.volume:h.default.createElement(d.Icon,{icon:_.default}):l.volume?l.volumeMute:h.default.createElement(d.Icon,{icon:w.default}),h.default.createElement("div",{key:n,className:"rhap_volume-container"},h.default.createElement("button",{"aria-label":K?H.volume:H.volumeMute,onClick:t.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},G),h.default.createElement(k.default,{audio:t.audio.current,volume:K,onMuteChange:t.handleMuteChange,showFilledVolume:c,i18nVolumeControl:H.volumeControl}));default:return(0,h.isValidElement)(e)?e.key?e:(0,h.cloneElement)(e,{key:n}):null}})),t}return(0,a.default)(n,[{key:"componentDidMount",value:function(){var t=this;this.forceUpdate();var e=this.audio.current;this.props.muted?e.volume=0:e.volume=this.lastVolume,e.addEventListener("error",(function(e){t.props.onError&&t.props.onError(e)})),e.addEventListener("canplay",(function(e){t.props.onCanPlay&&t.props.onCanPlay(e)})),e.addEventListener("canplaythrough",(function(e){t.props.onCanPlayThrough&&t.props.onCanPlayThrough(e)})),e.addEventListener("play",this.handlePlay),e.addEventListener("abort",this.handleAbort),e.addEventListener("ended",this.handleEnded),e.addEventListener("playing",(function(e){t.props.onPlaying&&t.props.onPlaying(e)})),e.addEventListener("seeking",(function(e){t.props.onSeeking&&t.props.onSeeking(e)})),e.addEventListener("seeked",(function(e){t.props.onSeeked&&t.props.onSeeked(e)})),e.addEventListener("waiting",(function(e){t.props.onWaiting&&t.props.onWaiting(e)})),e.addEventListener("emptied",(function(e){t.props.onEmptied&&t.props.onEmptied(e)})),e.addEventListener("stalled",(function(e){t.props.onStalled&&t.props.onStalled(e)})),e.addEventListener("suspend",(function(e){t.props.onSuspend&&t.props.onSuspend(e)})),e.addEventListener("loadstart",(function(e){t.props.onLoadStart&&t.props.onLoadStart(e)})),e.addEventListener("loadedmetadata",(function(e){t.props.onLoadedMetaData&&t.props.onLoadedMetaData(e)})),e.addEventListener("loadeddata",(function(e){t.props.onLoadedData&&t.props.onLoadedData(e)})),e.addEventListener("pause",this.handlePause),e.addEventListener("timeupdate",(0,I.throttle)((function(e){t.props.onListen&&t.props.onListen(e)}),this.props.listenInterval)),e.addEventListener("volumechange",(function(e){t.props.onVolumeChange&&t.props.onVolumeChange(e)})),e.addEventListener("encrypted",(function(e){var n=t.props.mse;n&&n.onEcrypted&&n.onEcrypted(e)}))}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.src,r=e.autoPlayAfterSrcChange;t.src!==n&&(r?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.src,r=t.loop,i=t.preload,o=t.autoPlay,a=t.crossOrigin,s=t.mediaGroup,c=t.header,u=t.footer,l=t.layout,f=t.customProgressBarSection,d=t.customControlsSection,p=t.children,v=t.style,g=t.i18nAriaLabels,m=this.audio.current?this.audio.current.loop:r,y=m?"rhap_loop--on":"rhap_loop--off",b=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return h.default.createElement("div",{role:"group",tabIndex:0,"aria-label":g.player,className:"rhap_container ".concat(y," ").concat(b," ").concat(e),onKeyDown:this.handleKeyDown,ref:this.container,style:v},h.default.createElement("audio",{src:n,controls:!1,loop:m,autoPlay:o,preload:i,crossOrigin:a,mediaGroup:s,ref:this.audio},p),c&&h.default.createElement("div",{className:"rhap_header"},c),h.default.createElement("div",{className:"rhap_main ".concat((0,I.getMainLayoutClassName)(l))},h.default.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(f)),h.default.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(d))),u&&h.default.createElement("div",{className:"rhap_footer"},u))}}]),n}(h.Component);(0,f.default)(T,"defaultProps",{autoPlay:!1,autoPlayAfterSrcChange:!0,listenInterval:1e3,progressJumpStep:5e3,progressJumpSteps:{},volumeJumpStep:.1,loop:!1,muted:!1,preload:"auto",progressUpdateInterval:20,defaultCurrentTime:"--:--",defaultDuration:"--:--",timeFormat:"auto",volume:1,className:"",showJumpControls:!0,showSkipControls:!1,showDownloadProgress:!0,showFilledProgress:!0,showFilledVolume:!1,customIcons:{},customProgressBarSection:[E.RHAP_UI.CURRENT_TIME,E.RHAP_UI.PROGRESS_BAR,E.RHAP_UI.DURATION],customControlsSection:[E.RHAP_UI.ADDITIONAL_CONTROLS,E.RHAP_UI.MAIN_CONTROLS,E.RHAP_UI.VOLUME_CONTROLS],customAdditionalControls:[E.RHAP_UI.LOOP],customVolumeControls:[E.RHAP_UI.VOLUME],layout:"stacked",hasDefaultKeyBindings:!0,i18nAriaLabels:{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"}});var D=T;e.default=D},1310:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1311:function(t,e,n){"use strict";n.r(e),n.d(e,"Icon",(function(){return zt})),n.d(e,"InlineIcon",(function(){return Ft})),n.d(e,"_api",(function(){return Ht})),n.d(e,"addAPIProvider",(function(){return V})),n.d(e,"addCollection",(function(){return M})),n.d(e,"addIcon",(function(){return C})),n.d(e,"buildIcon",(function(){return D})),n.d(e,"calculateSize",(function(){return T})),n.d(e,"disableCache",(function(){return Rt})),n.d(e,"enableCache",(function(){return Nt})),n.d(e,"getIcon",(function(){return k})),n.d(e,"iconExists",(function(){return O})),n.d(e,"listIcons",(function(){return _})),n.d(e,"loadIcon",(function(){return bt})),n.d(e,"loadIcons",(function(){return yt})),n.d(e,"replaceIDs",(function(){return R}));var r=n(3);const i=/^[a-z0-9]+(-[a-z0-9]+)*$/,o=(t,e,n,r="")=>{const i=t.split(":");if("@"===t.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const t=i.pop(),n=i.pop(),o={provider:i.length>0?i[0]:r,prefix:n,name:t};return e&&!a(o)?null:o}const o=i[0],s=o.split("-");if(s.length>1){const t={provider:r,prefix:s.shift(),name:s.join("-")};return e&&!a(t)?null:t}if(n&&""===r){const t={provider:r,prefix:"",name:o};return e&&!a(t,n)?null:t}return null},a=(t,e)=>!!t&&!(""!==t.provider&&!t.provider.match(i)||!(e&&""===t.prefix||t.prefix.match(i))||!t.name.match(i)),s=Object.freeze({left:0,top:0,width:16,height:16}),c=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),u=Object.freeze({...s,...c}),l=Object.freeze({...u,body:"",hidden:!1});function f(t,e){const n=function(t,e){const n={};!t.hFlip!==!e.hFlip&&(n.hFlip=!0),!t.vFlip!==!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}(t,e);for(const r in l)r in c?r in t&&!(r in n)&&(n[r]=c[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function h(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let o={};function a(t){o=f(r[t]||i[t],o)}return a(e),n.forEach(a),f(t,o)}function d(t,e){const n=[];if("object"!==typeof t||"object"!==typeof t.icons)return n;t.not_found instanceof Array&&t.not_found.forEach(t=>{e(t,null),n.push(t)});const r=function(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);return(e||Object.keys(n).concat(Object.keys(r))).forEach((function t(e){if(n[e])return i[e]=[];if(!(e in i)){i[e]=null;const n=r[e]&&r[e].parent,o=n&&t(n);o&&(i[e]=[n].concat(o))}return i[e]})),i}(t);for(const i in r){const o=r[i];o&&(e(i,h(t,i,o)),n.push(i))}return n}const p={provider:"",aliases:{},not_found:{},...s};function v(t,e){for(const n in e)if(n in t&&typeof t[n]!==typeof e[n])return!1;return!0}function g(t){if("object"!==typeof t||null===t)return null;const e=t;if("string"!==typeof e.prefix||!t.icons||"object"!==typeof t.icons)return null;if(!v(t,p))return null;const n=e.icons;for(const o in n){const t=n[o];if(!o.match(i)||"string"!==typeof t.body||!v(t,l))return null}const r=e.aliases||Object.create(null);for(const o in r){const t=r[o],e=t.parent;if(!o.match(i)||"string"!==typeof e||!n[e]&&!r[e]||!v(t,l))return null}return e}const m=Object.create(null);function y(t,e){const n=m[t]||(m[t]=Object.create(null));return n[e]||(n[e]=function(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}(t,e))}function b(t,e){return g(e)?d(e,(e,n)=>{n?t.icons[e]=n:t.missing.add(e)}):[]}function _(t,e){let n=[];return("string"===typeof t?[t]:Object.keys(m)).forEach(t=>{("string"===typeof t&&"string"===typeof e?[e]:Object.keys(m[t]||{})).forEach(e=>{const r=y(t,e);n=n.concat(Object.keys(r.icons).map(n=>(""!==t?"@"+t+":":"")+e+":"+n))})}),n}let w=!1;function x(t){return"boolean"===typeof t&&(w=t),w}function S(t){const e="string"===typeof t?o(t,!0,w):t;if(e){const t=y(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function C(t,e){const n=o(t,!0,w);if(!n)return!1;return function(t,e,n){try{if("string"===typeof n.body)return t.icons[e]={...n},!0}catch(r){}return!1}(y(n.provider,n.prefix),n.name,e)}function M(t,e){if("object"!==typeof t)return!1;if("string"!==typeof e&&(e=t.provider||""),w&&!e&&!t.prefix){let e=!1;return g(t)&&(t.prefix="",d(t,(t,n)=>{n&&C(t,n)&&(e=!0)})),e}const n=t.prefix;if(!a({provider:e,prefix:n,name:"a"}))return!1;return!!b(y(e,n),t)}function O(t){return!!S(t)}function k(t){const e=S(t);return e?{...u,...e}:null}const E=Object.freeze({width:null,height:null}),I=Object.freeze({...E,...c}),j=/(-?[0-9.]*[0-9]+[0-9.]*)/g,A=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function T(t,e,n){if(1===e)return t;if(n=n||100,"number"===typeof t)return Math.ceil(t*e*n)/n;if("string"!==typeof t)return t;const r=t.split(j);if(null===r||!r.length)return t;const i=[];let o=r.shift(),a=A.test(o);for(;;){if(a){const t=parseFloat(o);isNaN(t)?i.push(o):i.push(Math.ceil(t*e*n)/n)}else i.push(o);if(o=r.shift(),void 0===o)return i.join("");a=!a}}function D(t,e){const n={...u,...t},r={...I,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(t=>{const e=[],n=t.hFlip,r=t.vFlip;let a,s=t.rotate;switch(n?r?s+=2:(e.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),e.push("scale(-1 1)"),i.top=i.left=0):r&&(e.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),e.push("scale(1 -1)"),i.top=i.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4,s){case 1:a=i.height/2+i.top,e.unshift("rotate(90 "+a.toString()+" "+a.toString()+")");break;case 2:e.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:a=i.width/2+i.left,e.unshift("rotate(-90 "+a.toString()+" "+a.toString()+")")}s%2===1&&(i.left!==i.top&&(a=i.left,i.left=i.top,i.top=a),i.width!==i.height&&(a=i.width,i.width=i.height,i.height=a)),e.length&&(o='<g transform="'+e.join(" ")+'">'+o+"</g>")});const a=r.width,s=r.height,c=i.width,l=i.height;let f,h;null===a?(h=null===s?"1em":"auto"===s?l:s,f=T(h,c/l)):(f="auto"===a?c:a,h=null===s?T(f,l/c):"auto"===s?l:s);const d={},p=(t,e)=>{(t=>"unset"===t||"undefined"===t||"none"===t)(e)||(d[t]=e.toString())};return p("width",f),p("height",h),d.viewBox=i.left.toString()+" "+i.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:d,body:o}}const P=/\sid="(\S+)"/g,L="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let N=0;function R(t,e=L){const n=[];let r;for(;r=P.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const r="function"===typeof e?e(n):e+(N++).toString(),o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+r+i+"$3")}),t=t.replace(new RegExp(i,"g"),"")}const B=Object.create(null);function z(t,e){B[t]=e}function F(t){return B[t]||B[""]}function H(t){let e;if("string"===typeof t.resources)e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:!0===t.random,index:t.index||0,dataAfterTimeout:!1!==t.dataAfterTimeout}}const U=Object.create(null),W=["https://api.simplesvg.com","https://api.unisvg.com"],Y=[];for(;W.length>0;)1===W.length||Math.random()>.5?Y.push(W.shift()):Y.push(W.pop());function V(t,e){const n=H(e);return null!==n&&(U[t]=n,!0)}function G(t){return U[t]}U[""]=H({resources:["https://api.iconify.design"].concat(Y)});let X=(()=>{let t;try{if(t=fetch,"function"===typeof t)return t}catch(e){}})();const K={prepare:(t,e,n)=>{const r=[],i=function(t,e){const n=G(t);if(!n)return 0;let r;if(n.maxURL){let t=0;n.resources.forEach(e=>{const n=e;t=Math.max(t,n.length)});const i=e+".json?icons=";r=n.maxURL-t-n.path.length-i.length}else r=0;return r}(t,e);let o={type:"icons",provider:t,prefix:e,icons:[]},a=0;return n.forEach((n,s)=>{a+=n.length+1,a>=i&&s>0&&(r.push(o),o={type:"icons",provider:t,prefix:e,icons:[]},a=n.length),o.icons.push(n)}),r.push(o),r},send:(t,e,n)=>{if(!X)return void n("abort",424);let r=function(t){if("string"===typeof t){const e=G(t);if(e)return e.path}return"/"}(e.provider);switch(e.type){case"icons":{const t=e.prefix,n=e.icons.join(",");r+=t+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const t=e.uri;r+="/"===t.slice(0,1)?t.slice(1):t;break}default:return void n("abort",400)}let i=503;X(t+r).then(t=>{const e=t.status;if(200===e)return i=501,t.json();setTimeout(()=>{n(function(t){return 404===t}(e)?"abort":"next",e)})}).then(t=>{"object"===typeof t&&null!==t?setTimeout(()=>{n("success",t)}):setTimeout(()=>{404===t?n("abort",t):n("next",i)})}).catch(()=>{n("next",i)})}};function Z(t,e){t.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(t=>t.id!==e))})}let q=0;var Q={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function J(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let a;if(t.random){let e=t.resources.slice(0);for(a=[];e.length>1;){const t=Math.floor(Math.random()*e.length);a.push(e[t]),e=e.slice(0,t).concat(e.slice(t+1))}a=a.concat(e)}else a=t.resources.slice(o).concat(t.resources.slice(0,o));const s=Date.now();let c,u="pending",l=0,f=null,h=[],d=[];function p(){f&&(clearTimeout(f),f=null)}function v(){"pending"===u&&(u="aborted"),p(),h.forEach(t=>{"pending"===t.status&&(t.status="aborted")}),h=[]}function g(t,e){e&&(d=[]),"function"===typeof t&&d.push(t)}function m(){u="failed",d.forEach(t=>{t(void 0,c)})}function y(){h.forEach(t=>{"pending"===t.status&&(t.status="aborted")}),h=[]}function b(){if("pending"!==u)return;p();const r=a.shift();if(void 0===r)return h.length?void(f=setTimeout(()=>{p(),"pending"===u&&(y(),m())},t.timeout)):void m();const i={status:"pending",resource:r,callback:(e,n)=>{!function(e,n,r){const i="success"!==n;switch(h=h.filter(t=>t!==e),u){case"pending":break;case"failed":if(i||!t.dataAfterTimeout)return;break;default:return}if("abort"===n)return c=r,void m();if(i)return c=r,void(h.length||(a.length?b():m()));if(p(),y(),!t.random){const n=t.resources.indexOf(e.resource);-1!==n&&n!==t.index&&(t.index=n)}u="completed",d.forEach(t=>{t(r)})}(i,e,n)}};h.push(i),l++,f=setTimeout(b,t.rotate),n(r,e,i.callback)}return"function"===typeof r&&d.push(r),setTimeout(b),function(){return{startTime:s,payload:e,status:u,queriesSent:l,queriesPending:h.length,subscribe:g,abort:v}}}function $(t){const e={...Q,...t};let n=[];function r(){n=n.filter(t=>"pending"===t().status)}return{query:function(t,i,o){const a=J(e,t,i,(t,e)=>{r(),o&&o(t,e)});return n.push(a),a},find:function(t){return n.find(e=>t(e))||null},setIndex:t=>{e.index=t},getIndex:()=>e.index,cleanup:r}}function tt(){}const et=Object.create(null);function nt(t,e,n){let r,i;if("string"===typeof t){const e=F(t);if(!e)return n(void 0,424),tt;i=e.send;const o=function(t){if(!et[t]){const e=G(t);if(!e)return;const n={config:e,redundancy:$(e)};et[t]=n}return et[t]}(t);o&&(r=o.redundancy)}else{const e=H(t);if(e){r=$(e);const n=F(t.resources?t.resources[0]:"");n&&(i=n.send)}}return r&&i?r.query(e,i,n)().abort:(n(void 0,424),tt)}function rt(t,e){try{return t.getItem(e)}catch(n){}}function it(t,e,n){try{return t.setItem(e,n),!0}catch(r){}}function ot(t,e){try{t.removeItem(e)}catch(n){}}function at(t,e){return it(t,"iconify-count",e.toString())}function st(t){return parseInt(rt(t,"iconify-count"))||0}const ct={local:!0,session:!0},ut={local:new Set,session:new Set};let lt=!1;let ft="undefined"===typeof window?{}:window;function ht(t){const e=t+"Storage";try{if(ft&&ft[e]&&"number"===typeof ft[e].length)return ft[e]}catch(n){}ct[t]=!1}function dt(t,e){const n=ht(t);if(!n)return;const r=rt(n,"iconify-version");if("iconify2"!==r){if(r){const t=st(n);for(let e=0;e<t;e++)ot(n,"iconify"+e.toString())}return it(n,"iconify-version","iconify2"),void at(n,0)}const i=Math.floor(Date.now()/36e5)-168,o=t=>{const r="iconify"+t.toString(),o=rt(n,r);if("string"===typeof o){try{const n=JSON.parse(o);if("object"===typeof n&&"number"===typeof n.cached&&n.cached>i&&"string"===typeof n.provider&&"object"===typeof n.data&&"string"===typeof n.data.prefix&&e(n,t))return!0}catch(a){}ot(n,r)}};let a=st(n);for(let s=a-1;s>=0;s--)o(s)||(s===a-1?(a--,at(n,a)):ut[t].add(s))}function pt(){if(!lt){lt=!0;for(const t in ct)dt(t,t=>{const e=t.data,n=y(t.provider,e.prefix);if(!b(n,e).length)return!1;const r=e.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,r):r,!0})}}function vt(t,e){function n(n){let r;if(!ct[n]||!(r=ht(n)))return;const i=ut[n];let o;if(i.size)i.delete(o=Array.from(i).shift());else if(o=st(r),!at(r,o+1))return;const a={cached:Math.floor(Date.now()/36e5),provider:t.provider,data:e};return it(r,"iconify"+o.toString(),JSON.stringify(a))}lt||pt(),e.lastModified&&!function(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in ct)dt(r,n=>{const r=n.data;return n.provider!==t.provider||r.prefix!==t.prefix||r.lastModified===e});return!0}(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&delete(e=Object.assign({},e)).not_found,n("local")||n("session"))}function gt(){}function mt(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,function(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(e=>{const o=e.icons,a=o.pending.length;o.pending=o.pending.filter(e=>{if(e.prefix!==i)return!0;const a=e.name;if(t.icons[a])o.loaded.push({provider:r,prefix:i,name:a});else{if(!t.missing.has(a))return n=!0,!0;o.missing.push({provider:r,prefix:i,name:a})}return!1}),o.pending.length!==a&&(n||Z([t],e.id),e.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),e.abort))})}))}(t)}))}const yt=(t,e)=>{const n=function(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((t,e)=>t.provider!==e.provider?t.provider.localeCompare(e.provider):t.prefix!==e.prefix?t.prefix.localeCompare(e.prefix):t.name.localeCompare(e.name));let r={provider:"",prefix:"",name:""};return t.forEach(t=>{if(r.name===t.name&&r.prefix===t.prefix&&r.provider===t.provider)return;r=t;const i=t.provider,o=t.prefix,a=t.name,s=n[i]||(n[i]=Object.create(null)),c=s[o]||(s[o]=y(i,o));let u;u=a in c.icons?e.loaded:""===o||c.missing.has(a)?e.missing:e.pending;const l={provider:i,prefix:o,name:a};u.push(l)}),e}(function(t,e=!0,n=!1){const r=[];return t.forEach(t=>{const i="string"===typeof t?o(t,e,n):t;i&&r.push(i)}),r}(t,!0,x()));if(!n.pending.length){let t=!0;return e&&setTimeout(()=>{t&&e(n.loaded,n.missing,n.pending,gt)}),()=>{t=!1}}const r=Object.create(null),i=[];let a,s;return n.pending.forEach(t=>{const{provider:e,prefix:n}=t;if(n===s&&e===a)return;a=e,s=n,i.push(y(e,n));const o=r[e]||(r[e]=Object.create(null));o[n]||(o[n]=[])}),n.pending.forEach(t=>{const{provider:e,prefix:n,name:i}=t,o=y(e,n),a=o.pendingIcons||(o.pendingIcons=new Set);a.has(i)||(a.add(i),r[e][n].push(i))}),i.forEach(t=>{const{provider:e,prefix:n}=t;r[e][n].length&&function(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:n}=t,r=t.iconsToLoad;let i;if(delete t.iconsToLoad,!r||!(i=F(e)))return;i.prepare(e,n,r).forEach(n=>{nt(e,n,e=>{if("object"!==typeof e)n.icons.forEach(e=>{t.missing.add(e)});else try{const n=b(t,e);if(!n.length)return;const r=t.pendingIcons;r&&n.forEach(t=>{r.delete(t)}),vt(t,e)}catch(r){console.error(r)}mt(t)})})}))}(t,r[e][n])}),e?function(t,e,n){const r=q++,i=Z.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach(t=>{(t.loaderCallbacks||(t.loaderCallbacks=[])).push(o)}),i}(e,n,i):gt},bt=t=>new Promise((e,n)=>{const r="string"===typeof t?o(t,!0):t;r?yt([r||t],i=>{if(i.length&&r){const t=S(r);if(t)return void e({...u,...t})}n(t)}):n(t)});function _t(t,e){switch(t){case"local":case"session":ct[t]=e;break;case"all":for(const t in ct)ct[t]=e}}const wt=/[\s,]+/;function xt(t,e){e.split(wt).forEach(e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0}})}function St(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(t){for(;t<0;)t+=4;return t%4}if(""===n){const e=parseInt(t);return isNaN(e)?0:r(e)}if(n!==t){let e=0;switch(n){case"%":e=25;break;case"deg":e=90}if(e){let i=parseFloat(t.slice(0,t.length-n.length));return isNaN(i)?0:(i/=e,i%1===0?r(i):0)}}return e}let Ct;function Mt(t){return void 0===Ct&&function(){try{Ct=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch(t){Ct=null}}(),Ct?Ct.createHTML(t):t}const Ot={...I,inline:!1},kt={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Et={display:"inline-block"},It={backgroundColor:"currentColor"},jt={backgroundColor:"transparent"},At={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Tt={WebkitMask:It,mask:It,background:jt};for(const Wt in Tt){const t=Tt[Wt];for(const e in At)t[Wt+e]=At[e]}const Dt={...Ot,inline:!0};function Pt(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Lt=(t,e,n,i)=>{const o=n?Dt:Ot,a=function(t,e){const n={...t};for(const r in e){const t=e[r],i=typeof t;r in E?(null===t||t&&("string"===i||"number"===i))&&(n[r]=t):i===typeof n[r]&&(n[r]="rotate"===r?t%4:t)}return n}(o,e),s=e.mode||"svg",c={},u=e.style||{},l={..."svg"===s?kt:{},ref:i};for(let r in e){const t=e[r];if(void 0!==t)switch(r){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":a[r]=!0===t||"true"===t||1===t;break;case"flip":"string"===typeof t&&xt(a,t);break;case"color":c.color=t;break;case"rotate":"string"===typeof t?a[r]=St(t):"number"===typeof t&&(a[r]=t);break;case"ariaHidden":case"aria-hidden":!0!==t&&"true"!==t&&delete l["aria-hidden"];break;default:void 0===o[r]&&(l[r]=t)}}const f=D(t,a),h=f.attributes;if(a.inline&&(c.verticalAlign="-0.125em"),"svg"===s){l.style={...c,...u},Object.assign(l,h);let t=0,n=e.id;return"string"===typeof n&&(n=n.replace(/-/g,"_")),l.dangerouslySetInnerHTML={__html:Mt(R(f.body,n?()=>n+"ID"+t++:"iconifyReact"))},r.createElement("svg",l)}const{body:d,width:p,height:v}=t,g="mask"===s||"bg"!==s&&-1!==d.indexOf("currentColor"),m=function(t,e){let n=-1===t.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}(d,{...h,width:p+"",height:v+""});var y;return l.style={...c,"--svg":(y=m,'url("'+function(t){return"data:image/svg+xml,"+function(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(t)}(y)+'")'),width:Pt(h.width),height:Pt(h.height),...Et,...g?It:jt,...u},r.createElement("span",l)};function Nt(t){_t(t,!0)}function Rt(t){_t(t,!1)}if(x(!0),z("",K),"undefined"!==typeof document&&"undefined"!==typeof window){pt();const t=window;if(void 0!==t.IconifyPreload){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";"object"===typeof e&&null!==e&&(e instanceof Array?e:[e]).forEach(t=>{try{("object"!==typeof t||null===t||t instanceof Array||"object"!==typeof t.icons||"string"!==typeof t.prefix||!M(t))&&console.error(n)}catch(e){console.error(n)}})}if(void 0!==t.IconifyProviders){const e=t.IconifyProviders;if("object"===typeof e&&null!==e)for(let t in e){const n="IconifyProviders["+t+"] is invalid.";try{const r=e[t];if("object"!==typeof r||!r||void 0===r.resources)continue;V(t,r)||console.error(n)}catch(Ut){console.error(n)}}}}class Bt extends r.Component{constructor(t){super(t),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(t){this.state.icon!==t&&this.setState({icon:t})}_checkIcon(t){const e=this.state,n=this.props.icon;if("object"===typeof n&&null!==n&&"string"===typeof n.body)return this._icon="",this._abortLoading(),void((t||null===e.icon)&&this._setData({data:n}));let r;if("string"!==typeof n||null===(r=o(n,!1,!0)))return this._abortLoading(),void this._setData(null);const i=S(r);if(i){if(this._icon!==n||null===e.icon){this._abortLoading(),this._icon=n;const t=["iconify"];""!==r.prefix&&t.push("iconify--"+r.prefix),""!==r.provider&&t.push("iconify--"+r.provider),this._setData({data:i,classes:t}),this.props.onLoad&&this.props.onLoad(n)}}else this._loading&&this._loading.name===n||(this._abortLoading(),this._icon="",this._setData(null),null!==i&&(this._loading={name:n,abort:yt([r],this._checkIcon.bind(this,!1))}))}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(t){t.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const t=this.props,e=this.state.icon;if(null===e)return t.children?t.children:r.createElement("span",{});let n=t;return e.classes&&(n={...t,className:("string"===typeof t.className?t.className+" ":"")+e.classes.join(" ")}),Lt({...u,...e.data},n,t._inline,t._ref)}}const zt=r.forwardRef((function(t,e){const n={...t,_ref:e,_inline:!1};return r.createElement(Bt,n)})),Ft=r.forwardRef((function(t,e){const n={...t,_ref:e,_inline:!0};return r.createElement(Bt,n)})),Ht={getAPIConfig:G,setAPIModule:z,sendAPIQuery:nt,setFetch:function(t){X=t},getFetch:function(){return X},listAPIProviders:function(){return Object.keys(U)}}},1312:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M10 16.5v-9l6 4.5M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/>'}},1313:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M15 16h-2V8h2m-4 8H9V8h2m1-6A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/>'}},1314:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M6 18V6h2v12H6m3.5-6L18 6v12l-8.5-6Z"/>'}},1315:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M16 18h2V6h-2M6 18l8.5-6L6 6v12Z"/>'}},1316:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M13 6v12l8.5-6M4 18l8.5-6L4 6v12Z"/>'}},1317:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="m11.5 12l8.5 6V6m-9 12V6l-8.5 6l8.5 6Z"/>'}},1318:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.84-5 6.7v2.07c4-.91 7-4.49 7-8.77c0-4.28-3-7.86-7-8.77M16.5 12c0-1.77-1-3.29-2.5-4.03V16c1.5-.71 2.5-2.24 2.5-4M3 9v6h4l5 5V4L7 9H3Z"/>'}},1319:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M3 9h4l5-5v16l-5-5H3V9m13.59 3L14 9.41L15.41 8L18 10.59L20.59 8L22 9.41L19.41 12L22 14.59L20.59 16L18 13.41L15.41 16L14 14.59L16.59 12Z"/>'}},1320:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M17 17H7v-3l-4 4l4 4v-3h12v-6h-2M7 7h10v3l4-4l-4-4v3H5v6h2V7Z"/>'}},1321:function(t,e){e.__esModule=!0,e.default={width:24,height:24,body:'<path fill="currentColor" d="M2 5.27L3.28 4L20 20.72L18.73 22l-3-3H7v3l-4-4l4-4v3h6.73L7 10.27V11H5V8.27l-3-3M17 13h2v4.18l-2-2V13m0-8V2l4 4l-4 4V7H8.82l-2-2H17Z"/>'}},1322:function(t,e,n){"use strict";var r=n(1196),i=n(100);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ProgressBarForwardRef=e.ProgressBar=void 0;var o=r(n(1323)),a=r(n(344)),s=r(n(345)),c=r(n(1191)),u=r(n(1197)),l=r(n(1198)),f=r(n(1199)),h=r(n(70)),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=v(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),p=n(1200);function v(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(v=function(t){return t?n:e})(t)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.default)(t);if(e){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(t){(0,u.default)(n,t);var e=g(n);function n(){var t;(0,a.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.default)((0,c.default)(t),"audio",void 0),(0,h.default)((0,c.default)(t),"timeOnMouseMove",0),(0,h.default)((0,c.default)(t),"hasAddedAudioEventListener",!1),(0,h.default)((0,c.default)(t),"downloadProgressAnimationTimer",void 0),(0,h.default)((0,c.default)(t),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),(0,h.default)((0,c.default)(t),"getCurrentProgress",(function(e){var n=t.props,r=n.audio,i=n.progressBar;if(0!==r.src.indexOf("blob:")&&"undefined"===typeof t.props.srcDuration&&(!r.src||!isFinite(r.currentTime)||!i.current))return{currentTime:0,currentTimePos:"0%"};var o=i.current.getBoundingClientRect(),a=o.width,s=(0,p.getPosX)(e)-o.left;return s<0?s=0:s>a&&(s=a),{currentTime:t.getDuration()*s/a,currentTimePos:"".concat((s/a*100).toFixed(2),"%")}})),(0,h.default)((0,c.default)(t),"handleContextMenu",(function(t){t.preventDefault()})),(0,h.default)((0,c.default)(t),"handleMouseDownOrTouchStartProgressBar",(function(e){e.stopPropagation();var n=t.getCurrentProgress(e.nativeEvent),r=n.currentTime,i=n.currentTimePos;isFinite(r)&&(t.timeOnMouseMove=r,t.setState({isDraggingProgress:!0,currentTimePos:i}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.addEventListener("touchend",t.handleWindowMouseOrTouchUp)))})),(0,h.default)((0,c.default)(t),"handleWindowMouseOrTouchMove",(function(e){e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();var n=window.getSelection();if(n&&"Range"===n.type&&n.empty(),t.state.isDraggingProgress){var r=t.getCurrentProgress(e),i=r.currentTime,o=r.currentTimePos;t.timeOnMouseMove=i,t.setState({currentTimePos:o})}})),(0,h.default)((0,c.default)(t),"handleWindowMouseOrTouchUp",(function(e){e.stopPropagation();var n=t.timeOnMouseMove,r=t.props,i=r.audio,o=r.onChangeCurrentTimeError,a=r.onSeek;if(a)t.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},(function(){a(i,n).then((function(){return t.setState({waitingForSeekCallback:!1})}),(function(t){throw new Error(t)}))}));else{var s={isDraggingProgress:!1};i.readyState!==i.HAVE_NOTHING&&i.readyState!==i.HAVE_METADATA&&isFinite(n)?i.currentTime=n:(s.currentTimePos="0%",o&&o()),t.setState(s)}e instanceof MouseEvent?(window.removeEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,h.default)((0,c.default)(t),"handleAudioTimeUpdate",(0,p.throttle)((function(e){var n=t.state.isDraggingProgress,r=e.target;if(!n&&!0!==t.state.waitingForSeekCallback){var i=r.currentTime,o=t.getDuration();t.setState({currentTimePos:"".concat((i/o*100||0).toFixed(2),"%")})}}),t.props.progressUpdateInterval)),(0,h.default)((0,c.default)(t),"handleAudioDownloadProgressUpdate",(function(e){for(var n=e.target,r=t.getDuration(),i=[],o=0;o<n.buffered.length;o++){var a=n.buffered.start(o),s=n.buffered.end(o);i.push({left:"".concat(Math.round(100/r*a)||0,"%"),width:"".concat(Math.round(100/r*(s-a))||0,"%")})}clearTimeout(t.downloadProgressAnimationTimer),t.setState({downloadProgressArr:i,hasDownloadProgressAnimation:!0}),t.downloadProgressAnimationTimer=setTimeout((function(){t.setState({hasDownloadProgressAnimation:!1})}),200)})),t}return(0,s.default)(n,[{key:"getDuration",value:function(){var t=this.props,e=t.audio,n=t.srcDuration;return"undefined"===typeof n?e.duration:n}},{key:"componentDidUpdate",value:function(){var t=this.props.audio;t&&!this.hasAddedAudioEventListener&&(this.audio=t,this.hasAddedAudioEventListener=!0,t.addEventListener("timeupdate",this.handleAudioTimeUpdate),t.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var t=this.props,e=t.showDownloadProgress,n=t.showFilledProgress,r=t.progressBar,i=t.i18nProgressBar,o=this.state,a=o.currentTimePos,s=o.downloadProgressArr,c=o.hasDownloadProgressAnimation;return d.default.createElement("div",{className:"rhap_progress-container",ref:r,"aria-label":i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(a.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},d.default.createElement("div",{className:"rhap_progress-bar ".concat(e?"rhap_progress-bar-show-download":"")},d.default.createElement("div",{className:"rhap_progress-indicator",style:{left:a}}),n&&d.default.createElement("div",{className:"rhap_progress-filled",style:{width:a}}),e&&s.map((function(t,e){var n=t.left,r=t.width;return d.default.createElement("div",{key:e,className:"rhap_download-progress",style:{left:n,width:r,transitionDuration:c?".2s":"0s"}})}))))}}]),n}(d.Component);e.ProgressBar=m;var y=function(t,e){return d.default.createElement(m,(0,o.default)({},t,{progressBar:e}))};e.ProgressBarForwardRef=y;var b=(0,d.forwardRef)(y);e.default=b},1323:function(t,e){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},1324:function(t,e,n){"use strict";var r=n(1196);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(344)),o=r(n(345)),a=r(n(1191)),s=r(n(1197)),c=r(n(1198)),u=r(n(1199)),l=r(n(70)),f=n(3),h=n(1200);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(t){(0,s.default)(n,t);var e=d(n);function n(t){var r;(0,i.default)(this,n),r=e.call(this,t),(0,l.default)((0,a.default)(r),"audio",void 0),(0,l.default)((0,a.default)(r),"hasAddedAudioEventListener",!1),(0,l.default)((0,a.default)(r),"state",{currentTime:r.props.defaultCurrentTime}),(0,l.default)((0,a.default)(r),"handleAudioCurrentTimeChange",(function(t){var e=t.target,n=r.props,i=n.isLeftTime,o=n.timeFormat,a=n.defaultCurrentTime;r.setState({currentTime:(0,h.getDisplayTimeBySeconds)(i?e.duration-e.currentTime:e.currentTime,e.duration,o)||a})})),(0,l.default)((0,a.default)(r),"addAudioEventListeners",(function(){var t=r.props.audio;t&&!r.hasAddedAudioEventListener&&(r.audio=t,r.hasAddedAudioEventListener=!0,t.addEventListener("timeupdate",r.handleAudioCurrentTimeChange),t.addEventListener("loadedmetadata",r.handleAudioCurrentTimeChange))}));var o=t.audio,s=t.defaultCurrentTime,c=t.isLeftTime,u=t.timeFormat,f=s;return o&&(f=(0,h.getDisplayTimeBySeconds)(c?o.duration-o.currentTime:o.currentTime,o.duration,u)),r.state={currentTime:f},r}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),n}(f.PureComponent);e.default=p},1325:function(t,e,n){"use strict";var r=n(1196);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(344)),o=r(n(345)),a=r(n(1191)),s=r(n(1197)),c=r(n(1198)),u=r(n(1199)),l=r(n(70)),f=n(3),h=n(1200);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(t){(0,s.default)(n,t);var e=d(n);function n(t){var r;(0,i.default)(this,n),r=e.call(this,t),(0,l.default)((0,a.default)(r),"audio",void 0),(0,l.default)((0,a.default)(r),"hasAddedAudioEventListener",!1),(0,l.default)((0,a.default)(r),"state",{duration:r.props.audio?(0,h.getDisplayTimeBySeconds)(r.props.audio.duration,r.props.audio.duration,r.props.timeFormat):r.props.defaultDuration}),(0,l.default)((0,a.default)(r),"handleAudioDurationChange",(function(t){var e=t.target,n=r.props,i=n.timeFormat,o=n.defaultDuration;r.setState({duration:(0,h.getDisplayTimeBySeconds)(e.duration,e.duration,i)||o})})),(0,l.default)((0,a.default)(r),"addAudioEventListeners",(function(){var t=r.props.audio;t&&!r.hasAddedAudioEventListener&&(r.audio=t,r.hasAddedAudioEventListener=!0,t.addEventListener("durationchange",r.handleAudioDurationChange),t.addEventListener("abort",r.handleAudioDurationChange))}));var o=t.audio,s=t.timeFormat,c=t.defaultDuration;return r.state={duration:o?(0,h.getDisplayTimeBySeconds)(o.duration,o.duration,s):c},r}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),n}(f.PureComponent);e.default=p},1326:function(t,e,n){"use strict";var r=n(1196),i=n(100);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(344)),a=r(n(345)),s=r(n(1191)),c=r(n(1197)),u=r(n(1198)),l=r(n(1199)),f=r(n(70)),h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var n=p(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=t[a]}r.default=t,n&&n.set(t,r);return r}(n(3)),d=n(1200);function p(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:e})(t)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(t){(0,c.default)(n,t);var e=v(n);function n(){var t;(0,o.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),(0,f.default)((0,s.default)(t),"audio",void 0),(0,f.default)((0,s.default)(t),"hasAddedAudioEventListener",!1),(0,f.default)((0,s.default)(t),"volumeBar",(0,h.createRef)()),(0,f.default)((0,s.default)(t),"volumeAnimationTimer",0),(0,f.default)((0,s.default)(t),"lastVolume",t.props.volume),(0,f.default)((0,s.default)(t),"state",{currentVolumePos:"".concat((t.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),(0,f.default)((0,s.default)(t),"getCurrentVolume",(function(e){var n=t.props.audio;if(!t.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:t.state.currentVolumePos};var r,i,o=t.volumeBar.current.getBoundingClientRect(),a=o.width,s=(0,d.getPosX)(e)-o.left;return s<0?(r=0,i="0%"):s>o.width?(r=1,i="100%"):(r=s/a,i="".concat(s/a*100,"%")),{currentVolume:r,currentVolumePos:i}})),(0,f.default)((0,s.default)(t),"handleContextMenu",(function(t){t.preventDefault()})),(0,f.default)((0,s.default)(t),"handleClickVolumeButton",(function(){var e=t.props.audio;e.volume>0?(t.lastVolume=e.volume,e.volume=0):e.volume=t.lastVolume})),(0,f.default)((0,s.default)(t),"handleVolumnControlMouseOrTouchDown",(function(e){e.stopPropagation();var n=t.props.audio,r=t.getCurrentVolume(e.nativeEvent),i=r.currentVolume,o=r.currentVolumePos;n.volume=i,t.setState({isDraggingVolume:!0,currentVolumePos:o}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.addEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,f.default)((0,s.default)(t),"handleWindowMouseOrTouchMove",(function(e){e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();var n=t.props.audio,r=window.getSelection();if(r&&"Range"===r.type&&r.empty(),t.state.isDraggingVolume){var i=t.getCurrentVolume(e),o=i.currentVolume,a=i.currentVolumePos;n.volume=o,t.setState({currentVolumePos:a})}})),(0,f.default)((0,s.default)(t),"handleWindowMouseOrTouchUp",(function(e){e.stopPropagation(),t.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener("mousemove",t.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",t.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",t.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",t.handleWindowMouseOrTouchUp))})),(0,f.default)((0,s.default)(t),"handleAudioVolumeChange",(function(e){var n=t.state.isDraggingVolume,r=e.target.volume;(t.lastVolume>0&&0===r||0===t.lastVolume&&r>0)&&t.props.onMuteChange(),t.lastVolume=r,n||(t.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((r/1*100||0).toFixed(2),"%")}),clearTimeout(t.volumeAnimationTimer),t.volumeAnimationTimer=setTimeout((function(){t.setState({hasVolumeAnimation:!1})}),100))})),t}return(0,a.default)(n,[{key:"componentDidUpdate",value:function(){var t=this.props.audio;t&&!this.hasAddedAudioEventListener&&(this.audio=t,this.hasAddedAudioEventListener=!0,t.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var t=this.props,e=t.audio,n=t.showFilledVolume,r=t.i18nVolumeControl,i=this.state,o=i.currentVolumePos,a=i.hasVolumeAnimation,s=(e||{}).volume;return h.default.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":r,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((100*s).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},h.default.createElement("div",{className:"rhap_volume-bar"},h.default.createElement("div",{className:"rhap_volume-indicator",style:{left:o,transitionDuration:a?".1s":"0s"}}),n&&h.default.createElement("div",{className:"rhap_volume-filled",style:{width:o}})))}}]),n}(h.Component);e.default=g},1327:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RHAP_UI=void 0,e.RHAP_UI=r,function(t){t.CURRENT_TIME="CURRENT_TIME",t.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",t.PROGRESS_BAR="PROGRESS_BAR",t.DURATION="DURATION",t.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",t.MAIN_CONTROLS="MAIN_CONTROLS",t.VOLUME_CONTROLS="VOLUME_CONTROLS",t.LOOP="LOOP",t.VOLUME="VOLUME"}(r||(e.RHAP_UI=r={}))},1328:function(t,e,n){(function(t){var r,i,o,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!==typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}Object.defineProperty(t,"__esModule",{value:!0}),function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}(t,{BlockMath:function(){return h},InlineMath:function(){return d}}),e=a(e),n=i(n),r=i(r);var c=function(t,i){var o=i.displayMode,a=function(n){var i=n.children,a=n.errorColor,s=n.math,c=n.renderError,u=null!==s&&void 0!==s?s:i,l=(0,e.useMemo)((function(){try{return{html:r.default.renderToString(u,{displayMode:o,errorColor:a,throwOnError:!!c}),error:void 0}}catch(h){if(h instanceof r.default.ParseError||h instanceof TypeError)return{error:h};throw h}}),[u,a,c]),f=l.html,h=l.error;return h?c?c(h):e.default.createElement(t,{html:"".concat(h.message)}):e.default.createElement(t,{html:f})};return a.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},a},u={html:n.default.string.isRequired},l=function(t){var n=t.html;return e.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};l.propTypes=u;var f=function(t){var n=t.html;return e.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};f.propTypes=u;var h=c(l,{displayMode:!0}),d=c(f,{displayMode:!1})},"object"===s(t)&&"object"===s(t.exports)?a(e,n(3),n(13),n(1269)):(i=[e,n(3),n(13),n(1269)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))}).call(this,n(157)(t))},1329:function(t,e,n){(function(e){var n=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof i?new i(t.type,r.util.encode(t.content),t.alias):Array.isArray(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var i,o,a=r.util.type(e);switch(n=n||{},a){case"Object":if(o=r.util.objId(e),n[o])return n[o];for(var s in i={},n[o]=i,e)e.hasOwnProperty(s)&&(i[s]=t(e[s],n));return i;case"Array":return o=r.util.objId(e),n[o]?n[o]:(i=[],n[o]=i,e.forEach((function(e,r){i[r]=t(e,n)})),i);default:return e}}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var i in e)n[i]=e[i];return n},insertBefore:function(t,e,n,i){var o=(i=i||r.languages)[t],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==e)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[t];return i[t]=a,r.languages.DFS(r.languages,(function(e,n){n===u&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,i,o){o=o||{};var a=r.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],i||s);var c=e[s],u=r.util.type(c);"Object"!==u||o[a(c)]?"Array"!==u||o[a(c)]||(o[a(c)]=!0,t(c,n,s,o)):(o[a(c)]=!0,t(c,n,null,o))}}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=t.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===e,i.callback)},highlightElement:function(n,i,o){for(var a,s="none",c=n;c&&!e.test(c.className);)c=c.parentNode;c&&(s=(c.className.match(e)||[,"none"])[1].toLowerCase(),a=r.languages[s]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,n.parentNode&&(c=n.parentNode,/pre/i.test(c.nodeName)&&(c.className=c.className.replace(e,"").replace(/\s+/g," ")+" language-"+s));var u={element:n,language:s,grammar:a,code:n.textContent},l=function(t){u.highlightedCode=t,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&t.Worker){var f=new Worker(r.filename);f.onmessage=function(t){l(t.data)},f.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else l(r.highlight(u.code,u.grammar,u.language));else l(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(t,e,n){var o={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,n,o,a,s,c){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==c)return;var l=n[u];l="Array"===r.util.type(l)?l:[l];for(var f=0;f<l.length;++f){var h=l[f],d=h.inside,p=!!h.lookbehind,v=!!h.greedy,g=0,m=h.alias;if(v&&!h.pattern.global){var y=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,y+"g")}h=h.pattern||h;for(var b=o,_=a;b<e.length;_+=e[b].length,++b){var w=e[b];if(e.length>t.length)return;if(!(w instanceof i)){if(v&&b!=e.length-1){if(h.lastIndex=_,!(k=h.exec(t)))break;for(var x=k.index+(p?k[1].length:0),S=k.index+k[0].length,C=b,M=_,O=e.length;C<O&&(M<S||!e[C].type&&!e[C-1].greedy);++C)x>=(M+=e[C].length)&&(++b,_=M);if(e[b]instanceof i)continue;E=C-b,w=t.slice(_,M),k.index-=_}else{h.lastIndex=0;var k=h.exec(w),E=1}if(k){p&&(g=k[1]?k[1].length:0);S=(x=k.index+g)+(k=k[0].slice(g)).length;var I=w.slice(0,x),j=w.slice(S),A=[b,E];I&&(++b,_+=I.length,A.push(I));var T=new i(u,d?r.tokenize(k,d):k,m,k,v);if(A.push(T),j&&A.push(j),Array.prototype.splice.apply(e,A),1!=E&&r.matchGrammar(t,e,n,b,_,!0,u),s)break}else if(s)break}}}}},tokenize:function(t,e){var n=[t],i=e.rest;if(i){for(var o in i)e[o]=i[o];delete e.rest}return r.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var i,o=0;i=n[o++];)i(e)}},Token:i};function i(t,e,n,r,i){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(t.Prism=r,i.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return i.stringify(t,e)})).join("");var n={type:t.type,content:i.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,o)}r.hooks.run("wrap",n);var a=Object.keys(n.attributes).map((function(t){return t+'="'+(n.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(a?" "+a:"")+">"+n.content+"</"+n.tag+">"},!t.document)return t.addEventListener?(r.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),i=n.language,o=n.code,a=n.immediateClose;t.postMessage(r.highlight(o,r.languages[i],i)),a&&t.close()}),!1),r):r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=n),"undefined"!==typeof e&&(e.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+e]={pattern:/[\s\S]+/,inside:n.languages[e]};var o={};o[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:i},n.languages.insertBefore("markup","cdata",o)}}),n.languages.xml=n.languages.extend("markup",{}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,"undefined"!==typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach((function(t){if(!t.hasAttribute("data-src-loaded")){for(var r,i=t.getAttribute("data-src"),o=t,a=/\blang(?:uage)?-([\w-]+)\b/i;o&&!a.test(o.className);)o=o.parentNode;if(o&&(r=(t.className.match(a)||[,""])[1]),!r){var s=(i.match(/\.(\w+)$/)||[,""])[1];r=e[s]||s}var c=document.createElement("code");c.className="language-"+r,t.textContent="",c.textContent="Loading\u2026",t.appendChild(c);var u=new XMLHttpRequest;u.open("GET",i,!0),u.onreadystatechange=function(){4==u.readyState&&(u.status<400&&u.responseText?(c.textContent=u.responseText,n.highlightElement(c),t.setAttribute("data-src-loaded","")):u.status>=400?c.textContent="\u2716 Error "+u.status+" while fetching file: "+u.statusText:c.textContent="\u2716 Error: File does not exist or is empty")},u.send(null)}})),n.plugins.toolbar&&n.plugins.toolbar.registerButton("download-file",(function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),r=document.createElement("a");return r.textContent=e.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))}).call(this,n(53))},1330:function(t,e,n){},1331:function(t,e,n){},1342:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changeConfirmLocale=function(t){a=t?o(o({},a),t):o({},i.default.Modal)},e.getConfirmLocale=function(){return a};var r,i=(r=n(671))&&r.__esModule?r:{default:r};function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=o({},i.default.Modal)},1348:function(t,e,n){var r=n(94);t.exports=function(){return r.Date.now()}},1349:function(t,e,n){"use strict";n(343),n(665),n(1387)},1350:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(27)),i=d(n(44)),o=d(n(39)),a=d(n(40)),s=d(n(37)),c=d(n(45)),u=d(n(75)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),f=d(n(663)),h=d(n(666));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},v=/^[\u4e00-\u9fa5]{2}$/,g=v.test.bind(v);function m(t){return"string"===typeof t}function y(t){return m(t.type)&&g(t.props.children)?l.cloneElement(t,{},t.props.children.split("").join(" ")):m(t)?(g(t)&&(t=t.split("").join(" ")),l.createElement("span",null,t)):t}var b=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t,e=this.props,n=e.children,o=e.className,a=e.prefixCls,s=e.type,c=e.size,d=e.inline,v=e.disabled,g=e.icon,m=e.loading,b=e.activeStyle,_=e.activeClassName,w=e.onClick,x=p(e,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),S=m?"loading":g,C=(0,u.default)(a,o,(t={},(0,i.default)(t,a+"-primary","primary"===s),(0,i.default)(t,a+"-ghost","ghost"===s),(0,i.default)(t,a+"-warning","warning"===s),(0,i.default)(t,a+"-small","small"===c),(0,i.default)(t,a+"-inline",d),(0,i.default)(t,a+"-disabled",v),(0,i.default)(t,a+"-loading",m),(0,i.default)(t,a+"-icon",!!S),t)),M=l.Children.map(n,y),O=void 0;if("string"===typeof S)O=l.createElement(h.default,{"aria-hidden":"true",type:S,size:"small"===c?"xxs":"md",className:a+"-icon"});else if(S){var k=S.props&&S.props.className,E=(0,u.default)("am-icon",a+"-icon","small"===c?"am-icon-xxs":"am-icon-md");O=l.cloneElement(S,{className:k?k+" "+E:E})}return l.createElement(f.default,{activeClassName:_||(b?a+"-active":void 0),disabled:v,activeStyle:b},l.createElement("a",(0,r.default)({role:"button",className:C},x,{onClick:v?void 0:w,"aria-disabled":v}),O,M))}}]),e}(l.Component);b.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},e.default=b,t.exports=e.default},1356:function(t,e,n){"use strict";e.decode=e.parse=n(1373),e.encode=e.stringify=n(1374)},1360:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ANT_MARK=void 0;var i=h(n(3)),o=h(n(13)),a=h(n(1)),s=l(n(1361)),c=n(1342),u=l(n(347));function l(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function h(t){if(t&&t.__esModule)return t;if(null===t||"object"!==d(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function d(t){return(d="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){t&&t.locale?(0,s.default)(a).locale(t.locale):(0,s.default)(a).locale("en")}e.ANT_MARK="internalMark";var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=g(this,m(e).call(this,t)),b(t.locale),(0,c.changeConfirmLocale)(t.locale&&t.locale.Modal),(0,u.default)("internalMark"===t._ANT_MARK__,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"getChildContext",value:function(){return{antLocale:p(p({},this.props.locale),{exist:!0})}}},{key:"componentDidUpdate",value:function(t){var e=this.props.locale;t.locale!==e&&(b(e),(0,c.changeConfirmLocale)(e&&e.Modal))}},{key:"componentWillUnmount",value:function(){(0,c.changeConfirmLocale)()}},{key:"render",value:function(){return this.props.children}}])&&v(n.prototype,r),i&&v(n,i),e}(i.Component);e.default=_,_.propTypes={locale:o.object},_.defaultProps={locale:{}},_.childContextTypes={antLocale:o.object}},1361:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.default||t}},1362:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.withConfigConsumer=function(t){return function(e){var n=function(n){return o.createElement(h,null,(function(r){var i=t.prefixCls,a=(0,r.getPrefixCls)(i,n.prefixCls);return o.createElement(e,l({},r,n,{prefixCls:a}))}))},r=e.constructor,i=r&&r.displayName||e.name||"Component";return n.displayName="withConfigConsumer(".concat(i,")"),n}},e.ConfigConsumer=e.ConfigContext=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),a=c(n(1264)),s=c(n(1365));function c(t){return t&&t.__esModule?t:{default:t}}function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=(0,a.default)({getPrefixCls:function(t,e){return e||"ant-".concat(t)},renderEmpty:s.default});e.ConfigContext=f;var h=f.Consumer;e.ConfigConsumer=h},1363:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.__esModule=!0;var i=n(3),o=(s(i),s(n(13))),a=s(n(1364));s(n(1257));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}e.default=function(t,e){var n,r,s="__create-react-context-"+(0,a.default)()+"__",h=function(t){function n(){var e,r;c(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=f(r.props.value),u(r,e)}return l(n,t),n.prototype.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof e?e(n,r):1073741823,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(i.Component);h.childContextTypes=((n={})[s]=o.default.object.isRequired,n);var d=function(e){function n(){var t,r;c(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return l(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},n.prototype.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},n.prototype.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[s]?this.context[s].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return d.contextTypes=((r={})[s]=o.default.object,r),{Provider:h,Consumer:d}},t.exports=e.default},1364:function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(53))},1365:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),s=(o=n(1366))&&o.__esModule?o:{default:o},c=n(1181);function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}var l=function(t){return a.createElement(c.ConfigConsumer,null,(function(e){var n=(0,e.getPrefixCls)("empty");switch(t){case"Table":case"List":return a.createElement(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return a.createElement(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return a.createElement(s.default,null)}}))};e.default=l},1366:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3)),a=f(n(661)),s=n(1181),c=f(n(664)),u=f(n(1367)),l=f(n(1368));function f(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},v=o.createElement(u.default,null),g=o.createElement(l.default,null),m=function(t){return o.createElement(s.ConfigConsumer,null,(function(e){var n=e.getPrefixCls,r=t.className,i=t.prefixCls,s=t.image,u=void 0===s?v:s,l=t.description,f=t.children,h=t.imageStyle,m=p(t,["className","prefixCls","image","description","children","imageStyle"]);return o.createElement(c.default,{componentName:"Empty"},(function(t){var e,s,c,p=n("empty",i),v="undefined"!==typeof l?l:t.description,y="string"===typeof v?v:"empty",b=null;return b="string"===typeof u?o.createElement("img",{alt:y,src:u}):u,o.createElement("div",d({className:(0,a.default)(p,(e={},s="".concat(p,"-normal"),c=u===g,s in e?Object.defineProperty(e,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[s]=c,e),r)},m),o.createElement("div",{className:"".concat(p,"-image"),style:h},b),v&&o.createElement("p",{className:"".concat(p,"-description")},v),f&&o.createElement("div",{className:"".concat(p,"-footer")},f))}))}))};m.PRESENTED_IMAGE_DEFAULT=v,m.PRESENTED_IMAGE_SIMPLE=g;var y=m;e.default=y},1367:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var s=function(){return o.createElement("svg",{width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(24 31.67)"},o.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),o.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),o.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),o.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),o.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),o.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),o.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},o.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),o.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};e.default=s},1368:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(3));function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var s=function(){return o.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},o.createElement("ellipse",{fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"}),o.createElement("g",{fillRule:"nonzero",stroke:"#D9D9D9"},o.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),o.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA"}))))};e.default=s},1373:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!==typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,h,d,p,v=t[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(f=v.substr(0,g),h=v.substr(g+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},1374:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){switch(r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,c){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===r(t)?a(s(t),(function(r){var s=encodeURIComponent(i(r))+n;return o(t[r])?a(t[r],(function(t){return s+encodeURIComponent(i(t))})).join(e):s+encodeURIComponent(i(t[r]))})).join(e):c?encodeURIComponent(i(c))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},1386:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement);e.IS_IOS=r&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},1387:function(t,e,n){},1404:function(t,e,n){"use strict";var r=n(2162),i=Object(r.a)({scriptUrl:"https://at.alicdn.com/t/c/font_2883675_lzy1nojei49.js"});e.a=i},1416:function(t,e,n){var r=n(677),i=n(359);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e}))}},1417:function(t,e,n){var r=n(160);t.exports=function(t){return r(t)&&t!=+t}},1426:function(t,e,n){"use strict";var r=n(1465),i=n.n(r),o=n(1417),a=n.n(o),s=n(1472),c=n.n(s),u=n(25),l=n.n(u),f=n(102),h=n.n(f),d=n(76),p=n.n(d),v=n(71),g=n.n(v),m=n(9),y=n.n(m),b=n(12),_=n.n(b);e.a={isNullOrUndefined:function(t){return g()(t)||p()(t)},findAndGet:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=_()(t,e);return y()(i,n,r)},getAndToNumber:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Number(y()(t,e,n));return r>0&&(i=h()(i,r)),i},reduceNumberField:function(t,e){var n=0;return l()(t,(function(t){n+=Number(y()(t,e))})),n},sliceByPage:function(t,e,n){var r=e*n,i=r+n;return c()(t,r,i)},formatScore:function(t){if("string"===typeof t&&(t=Number(t)),a()(t)||!i()(t))return 0;var e=h()(100*t);return e%100===0?h()(t).toString():e%10===0?h()(t,1).toString():h()(t,2).toString()},limitNumber:function(t,e,n){return t<e?e:t>n?n:t},randomInt:function(t){return Number.parseInt((t*Math.random()).toString(),0)}}},1465:function(t,e,n){var r=n(94).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},1472:function(t,e,n){var r=n(667),i=n(359),o=n(191);t.exports=function(t,e,n){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&i(t,e,n)?(e=0,n=a):(e=null==e?0:o(e),n=void 0===n?a:o(n)),r(t,e,n)):[]}},1485:function(t,e,n){var r=n(125),i=n(1616);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):0}},1608:function(t,e,n){"use strict";n(662),n(1687)},1609:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(3)),o=u(n(661)),a=u(n(1748)),s=u(n(342)),c=n(1181);function u(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(t){return(f="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},_=function(t){function e(){var t;return p(this,e),(t=g(this,m(e).apply(this,arguments))).saveInputNumber=function(e){t.inputNumberRef=e},t.renderInputNumber=function(e){var n,r=e.getPrefixCls,c=t.props,u=c.className,l=c.size,f=c.prefixCls,p=b(c,["className","size","prefixCls"]),v=r("input-number",f),g=(0,o.default)((d(n={},"".concat(v,"-lg"),"large"===l),d(n,"".concat(v,"-sm"),"small"===l),n),u),m=i.createElement(s.default,{type:"up",className:"".concat(v,"-handler-up-inner")}),y=i.createElement(s.default,{type:"down",className:"".concat(v,"-handler-down-inner")});return i.createElement(a.default,h({ref:t.saveInputNumber,className:g,upHandler:m,downHandler:y,prefixCls:v},p))},t}var n,r,u;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"focus",value:function(){this.inputNumberRef.focus()}},{key:"blur",value:function(){this.inputNumberRef.blur()}},{key:"render",value:function(){return i.createElement(c.ConfigConsumer,null,this.renderInputNumber)}}])&&v(n.prototype,r),u&&v(n,u),e}(i.Component);e.default=_,_.defaultProps={step:1}},1616:function(t,e){t.exports=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},1617:function(t,e,n){var r=n(274),i=n(212),o=n(1416),a=n(127),s=n(218),c=n(72),u=Object.prototype.hasOwnProperty,l=o((function(t,e){if(s(e)||a(e))i(e,c(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])}));t.exports=l},1636:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return g}));var r=n(66),i=n.n(r),o=n(1),a=n.n(o),s=n(165);function c(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={1:"\u5168\u4f53",2:"\u4e2a\u4eba",3:"\u5c0f\u7ec4",4:"\u73ed\u7ea7"},f={1:"\u5168\u4f53",2:"\u4e2a\u4eba",3:"\u5c0f\u7ec4",4:"\u73ed\u7ea7"},h=function(t){var e;return null!==(e=l[t])&&void 0!==e?e:""},d=function(t){var e;return null!==(e=f[t])&&void 0!==e?e:""},p=function(t,e){return a()().isBefore(a()(t))?"\u672a\u5f00\u59cb":a()().isAfter(a()(e))?"\u5df2\u7ed3\u675f":"\u8fdb\u884c\u4e2d"},v=function(t,e,n,r){try{var i,o=2===n?"ABCDE":"\u4f18\u826f\u4e2d\u5dee",a=r[2===n?"grade_setting_en":"grade_setting_cn"],u=Object(s.b)(t,e),l=c(o);try{for(l.s();!(i=l.n()).done;){var f=i.value;if(u>=a[f].gte)return f}}catch(h){l.e(h)}finally{l.f()}}catch(d){}return""},g=function(t,e,n,r){return 1===n?t:i()(t)?v(t,e,n,r):""}},1687:function(t,e,n){},1689:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"h",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return d}));n(65);var r=n(22),i=n.n(r),o=n(2),a=function(t,e){return Object(o.i)("".concat(o.f,"/evaluation/queryjudgeRecord"),{group_id:t,evaluation_activity_id:e}).then((function(t){return t.success?t.data:{}}))},s=function(t,e,n,r){try{return Object(o.j)("".concat(o.f,"/evaluation/submit"),{group_id:t,evaluation_activity_id:e,judge_id:n,judgeRecords:r}).then((function(t){if(void 0!==t){if(3003297!==t.code)return t.success?{success:!0,message:"\u63d0\u4ea4\u6210\u529f"}:{success:!1,message:t.message};i.a.fail("\u63d0\u4ea4\u5931\u8d25\uff0c\u5f53\u524d\u8bc4\u4ef7\u5df2\u88ab\u64a4\u9500")}else i.a.fail("\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}))}catch(a){}},c=function(t,e,n){return Object(o.j)("".concat(o.f,"/evaluation/revokSubmit"),{group_id:t,evaluation_activity_id:e,judge_id:n}).then((function(t){return t.success?{success:!0,message:"\u56de\u9000\u6210\u529f"}:{success:!1,message:t.message}}))},u=function(t){var e=t.group_id,n=t.evaluation_activity_id,r=t.judge_id,i=t.judge_record_id,a=t.score,s=t.rubric_id,c=t.remark;return Object(o.j)("".concat(o.f,"/evaluation/score"),{group_id:e,evaluation_activity_id:n,judge_id:r,judge_record_id:i,score:a,rubric_id:s,remark:c}).then((function(t){return t.success?{success:!0,message:"\u4fdd\u5b58\u6210\u529f"}:{success:!1,message:t.message}}))},l=function(t,e,n){return Object(o.i)("".concat(o.f,"/evaluation/player/queryEvaDetail"),{group_id:t,evaluation_activity_id:e,player_id:n}).then((function(t){return t.success?t.data:{}}))},f=function(t,e,n){return Object(o.i)("".concat(o.f,"/evaluation/judge/queryDetail"),{group_id:t,evaluation_activity_id:e,judge_id:n}).then((function(t){return t.success?t.data:{}}))},h=function(t,e){return Object(o.i)("".concat(o.f,"/evaluation/player/scoreDetail/v2"),{group_id:t,evaluation_activity_id:e,page_index:1,page_size:1e4}).then((function(t){return t.success?t.data:{}}))},d=function(t,e){return Object(o.i)("".concat(o.f,"/evaluation/judge/querySubmitRecord"),{group_id:t,evaluation_activity_id:e}).then((function(t){return t.success?t.data:[]}))}},1748:function(t,e,n){"use strict";n.r(e);var r=n(158),i=n.n(r),o=n(27),a=n.n(o),s=n(39),c=n.n(s),u=n(37),l=n.n(u),f=n(45),h=n.n(f),d=n(3),p=n.n(d),v=n(13),g=n.n(v),m=n(75),y=n.n(m),b={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=b.F1&&e<=b.F12)return!1;switch(e){case b.ALT:case b.CAPS_LOCK:case b.CONTEXT_MENU:case b.CTRL:case b.DOWN:case b.END:case b.ESC:case b.HOME:case b.INSERT:case b.LEFT:case b.MAC_FF_META:case b.META:case b.NUMLOCK:case b.NUM_CENTER:case b.PAGE_DOWN:case b.PAGE_UP:case b.PAUSE:case b.PRINT_SCREEN:case b.RIGHT:case b.SHIFT:case b.UP:case b.WIN_KEY:case b.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=b.ZERO&&t<=b.NINE)return!0;if(t>=b.NUM_ZERO&&t<=b.NUM_MULTIPLY)return!0;if(t>=b.A&&t<=b.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case b.SPACE:case b.QUESTION_MARK:case b.NUM_PLUS:case b.NUM_MINUS:case b.NUM_PERIOD:case b.NUM_DIVISION:case b.SEMICOLON:case b.DASH:case b.EQUALS:case b.COMMA:case b.PERIOD:case b.SLASH:case b.APOSTROPHE:case b.SINGLE_QUOTE:case b.OPEN_SQUARE_BRACKET:case b.BACKSLASH:case b.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},_=b,w=n(663),x=function(t){function e(){return c()(this,e),l()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.render=function(){var t=this.props,e=t.prefixCls,n=t.disabled,r=i()(t,["prefixCls","disabled"]);return p.a.createElement(w.default,{disabled:n,activeClassName:e+"-handler-active"},p.a.createElement("span",r))},e}(d.Component);x.propTypes={prefixCls:g.a.string,disabled:g.a.bool,onTouchStart:g.a.func,onTouchEnd:g.a.func,onMouseDown:g.a.func,onMouseUp:g.a.func,onMouseLeave:g.a.func};var S=x;function C(){}function M(t){t.preventDefault()}var O=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,k=function(t){return void 0!==t&&null!==t},E=function(t,e){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)},I=function(t){function e(n){c()(this,e);var r=l()(this,t.call(this,n));j.call(r);var i=void 0;i="value"in n?n.value:n.defaultValue,r.state={focused:n.autoFocus};var o=r.getValidValue(r.toNumber(i));return r.state=a()({},r.state,{inputValue:r.toPrecisionAsStep(o),value:o}),r}return h()(e,t),e.prototype.componentDidMount=function(){this.componentDidUpdate()},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.value,r=e.onChange,i=e.max,o=e.min,a=this.state.focused;if(t){if(!E(t.value,n)||!E(t.max,i)||!E(t.min,o)){var s=a?n:this.getValidValue(n),c=void 0;c=this.pressingUpOrDown?s:this.inputting?this.rawInput:this.toPrecisionAsStep(s),this.setState({value:s,inputValue:c})}var u="value"in this.props?n:this.state.value;"max"in this.props&&t.max!==i&&"number"===typeof u&&u>i&&r&&r(i),"min"in this.props&&t.min!==o&&"number"===typeof u&&u<o&&r&&r(o)}try{if(void 0!==this.cursorStart&&this.state.focused)if(this.partRestoreByAfter(this.cursorAfter)||this.state.value===this.props.value){if(this.currentValue===this.input.value)switch(this.lastKeyCode){case _.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case _.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1)}}else{var l=this.cursorStart+1;this.cursorAfter?this.lastKeyCode===_.BACKSPACE?l=this.cursorStart-1:this.lastKeyCode===_.DELETE&&(l=this.cursorStart):l=this.input.value.length,this.fixCaret(l,l)}}catch(f){}this.lastKeyCode=null,this.pressingUpOrDown&&(this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus(),this.pressingUpOrDown=!1)},e.prototype.componentWillUnmount=function(){this.stop()},e.prototype.getCurrentValidValue=function(t){var e=t;return e=""===e?"":this.isNotCompleteNumber(parseFloat(e,10))?this.state.value:this.getValidValue(e),this.toNumber(e)},e.prototype.getRatio=function(t){var e=1;return t.metaKey||t.ctrlKey?e=.1:t.shiftKey&&(e=10),e},e.prototype.getValueFromEvent=function(t){var e=t.target.value.trim().replace(/\u3002/g,".");return k(this.props.decimalSeparator)&&(e=e.replace(this.props.decimalSeparator,".")),e},e.prototype.getValidValue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.min,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.max,r=parseFloat(t,10);return isNaN(r)?t:(r<e&&(r=e),r>n&&(r=n),r)},e.prototype.setValue=function(t,e){var n=this.props.precision,r=this.isNotCompleteNumber(parseFloat(t,10))?null:parseFloat(t,10),i=this.state,o=i.value,a=void 0===o?null:o,s=i.inputValue,c=void 0===s?null:s,u="number"===typeof r?r.toFixed(n):""+r,l=r!==a||u!==""+c;return"value"in this.props?this.setState({inputValue:this.toPrecisionAsStep(this.state.value)},e):this.setState({value:r,inputValue:this.toPrecisionAsStep(t)},e),l&&this.props.onChange(r),r},e.prototype.getPrecision=function(t){if(k(this.props.precision))return this.props.precision;var e=t.toString();if(e.indexOf("e-")>=0)return parseInt(e.slice(e.indexOf("e-")+2),10);var n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n},e.prototype.getMaxPrecision=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.props,r=n.precision,i=n.step;if(k(r))return r;var o=this.getPrecision(e),a=this.getPrecision(i),s=this.getPrecision(t);return t?Math.max(s,o+a):o+a},e.prototype.getPrecisionFactor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getMaxPrecision(t,e);return Math.pow(10,n)},e.prototype.fixCaret=function(t,e){if(void 0!==t&&void 0!==e&&this.input&&this.input.value)try{var n=this.input.selectionStart,r=this.input.selectionEnd;t===n&&e===r||this.input.setSelectionRange(t,e)}catch(i){}},e.prototype.focus=function(){this.input.focus(),this.recordCursorPosition()},e.prototype.blur=function(){this.input.blur()},e.prototype.select=function(){this.input.select()},e.prototype.formatWrapper=function(t){return this.props.formatter?this.props.formatter(t):t},e.prototype.toPrecisionAsStep=function(t){if(this.isNotCompleteNumber(t)||""===t)return t;var e=Math.abs(this.getMaxPrecision(t));return isNaN(e)?t.toString():Number(t).toFixed(e)},e.prototype.isNotCompleteNumber=function(t){return isNaN(t)||""===t||null===t||t&&t.toString().indexOf(".")===t.toString().length-1},e.prototype.toNumber=function(t){var e=this.props.precision,n=this.state.focused,r=t&&t.length>16&&n;return this.isNotCompleteNumber(t)||r?t:k(e)?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Number(t)},e.prototype.upStep=function(t,e){var n=this.props.step,r=this.getPrecisionFactor(t,e),i=Math.abs(this.getMaxPrecision(t,e)),o=((r*t+r*n*e)/r).toFixed(i);return this.toNumber(o)},e.prototype.downStep=function(t,e){var n=this.props.step,r=this.getPrecisionFactor(t,e),i=Math.abs(this.getMaxPrecision(t,e)),o=((r*t-r*n*e)/r).toFixed(i);return this.toNumber(o)},e.prototype.step=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments[3];this.stop(),e&&(e.persist(),e.preventDefault());var o=this.props;if(!o.disabled){var a=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(a)){var s=this[t+"Step"](a,r),c=s>o.max||s<o.min;s>o.max?s=o.max:s<o.min&&(s=o.min),this.setValue(s),this.setState({focused:!0}),c||(this.autoStepTimer=setTimeout((function(){n[t](e,r,!0)}),i?200:600))}}},e.prototype.render=function(){var t,e=a()({},this.props),n=e.prefixCls,r=e.disabled,o=e.readOnly,s=e.useTouch,c=e.autoComplete,u=e.upHandler,l=e.downHandler,f=(i()(e,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler"]),y()(((t={})[n]=!0,t[e.className]=!!e.className,t[n+"-disabled"]=r,t[n+"-focused"]=this.state.focused,t))),h="",d="",v=this.state,g=v.value,m=v.inputValue;if(g||0===g)if(isNaN(g))h=n+"-handler-up-disabled",d=n+"-handler-down-disabled";else{var b=Number(g);b>=e.max&&(h=n+"-handler-up-disabled"),b<=e.min&&(d=n+"-handler-down-disabled")}var _={};for(var w in e)!e.hasOwnProperty(w)||"data-"!==w.substr(0,5)&&"aria-"!==w.substr(0,5)&&"role"!==w||(_[w]=e[w]);var x=!e.readOnly&&!e.disabled,O=this.composing?m:this.getInputDisplayValue(),k=void 0,E=void 0;s?(k={onTouchStart:x&&!h?this.up:C,onTouchEnd:this.stop},E={onTouchStart:x&&!d?this.down:C,onTouchEnd:this.stop}):(k={onMouseDown:x&&!h?this.up:C,onMouseUp:this.stop,onMouseLeave:this.stop},E={onMouseDown:x&&!d?this.down:C,onMouseUp:this.stop,onMouseLeave:this.stop});var I=!!h||r||o,j=!!d||r||o;return p.a.createElement("div",{className:f,style:e.style,title:e.title,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut,onCompositionStart:this.onComposition,onCompositionEnd:this.onComposition},p.a.createElement("div",{className:n+"-handler-wrap"},p.a.createElement(S,a()({ref:this.saveUp,disabled:I,prefixCls:n,unselectable:"unselectable"},k,{role:"button","aria-label":"Increase Value","aria-disabled":!!I,className:n+"-handler "+n+"-handler-up "+h}),u||p.a.createElement("span",{unselectable:"unselectable",className:n+"-handler-up-inner",onClick:M})),p.a.createElement(S,a()({ref:this.saveDown,disabled:j,prefixCls:n,unselectable:"unselectable"},E,{role:"button","aria-label":"Decrease Value","aria-disabled":!!j,className:n+"-handler "+n+"-handler-down "+d}),l||p.a.createElement("span",{unselectable:"unselectable",className:n+"-handler-down-inner",onClick:M}))),p.a.createElement("div",{className:n+"-input-wrap"},p.a.createElement("input",a()({role:"spinbutton","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":g,required:e.required,type:e.type,placeholder:e.placeholder,onClick:e.onClick,onMouseUp:this.onMouseUp,className:n+"-input",tabIndex:e.tabIndex,autoComplete:c,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:x?this.onKeyDown:C,onKeyUp:x?this.onKeyUp:C,autoFocus:e.autoFocus,maxLength:e.maxLength,readOnly:e.readOnly,disabled:e.disabled,max:e.max,min:e.min,step:e.step,name:e.name,title:e.title,id:e.id,onChange:this.onChange,ref:this.saveInput,value:O,pattern:e.pattern,inputMode:e.inputMode},_))))},e}(p.a.Component);I.propTypes={value:g.a.oneOfType([g.a.number,g.a.string]),defaultValue:g.a.oneOfType([g.a.number,g.a.string]),focusOnUpDown:g.a.bool,autoFocus:g.a.bool,onChange:g.a.func,onPressEnter:g.a.func,onKeyDown:g.a.func,onKeyUp:g.a.func,prefixCls:g.a.string,tabIndex:g.a.oneOfType([g.a.string,g.a.number]),disabled:g.a.bool,onFocus:g.a.func,onBlur:g.a.func,readOnly:g.a.bool,max:g.a.number,min:g.a.number,step:g.a.oneOfType([g.a.number,g.a.string]),upHandler:g.a.node,downHandler:g.a.node,useTouch:g.a.bool,formatter:g.a.func,parser:g.a.func,onMouseEnter:g.a.func,onMouseLeave:g.a.func,onMouseOver:g.a.func,onMouseOut:g.a.func,onMouseUp:g.a.func,precision:g.a.number,required:g.a.bool,pattern:g.a.string,decimalSeparator:g.a.string,inputMode:g.a.string},I.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",min:-O,step:1,style:{},onChange:C,onKeyDown:C,onPressEnter:C,onFocus:C,onBlur:C,parser:function(t){return t.replace(/[^\w\.-]+/g,"")},required:!1,autoComplete:"off"};var j=function(){var t=this;this.onKeyDown=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.props,a=o.onKeyDown,s=o.onPressEnter;if(e.keyCode===_.UP){var c=t.getRatio(e);t.up(e,c),t.stop()}else if(e.keyCode===_.DOWN){var u=t.getRatio(e);t.down(e,u),t.stop()}else e.keyCode===_.ENTER&&s&&s(e);t.recordCursorPosition(),t.lastKeyCode=e.keyCode,a&&a.apply(void 0,[e].concat(r))},this.onKeyUp=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.props.onKeyUp;t.stop(),t.recordCursorPosition(),o&&o.apply(void 0,[e].concat(r))},this.onChange=function(e){var n=t.props.onChange;t.state.focused&&(t.inputting=!0),t.rawInput=t.props.parser(t.getValueFromEvent(e)),t.composing?t.setState({inputValue:t.getValueFromEvent(e)}):(t.setState({inputValue:t.rawInput}),n(t.toNumber(t.rawInput)))},this.onMouseUp=function(){var e=t.props.onMouseUp;t.recordCursorPosition(),e&&e.apply(void 0,arguments)},this.onFocus=function(){var e;t.setState({focused:!0}),(e=t.props).onFocus.apply(e,arguments)},this.onBlur=function(){var e=t.props.onBlur;t.inputting=!1,t.setState({focused:!1});var n=t.getCurrentValidValue(t.state.inputValue),r=t.setValue(n);if(e){var i=t.input.value,o=t.getInputDisplayValue({focus:!1,value:r});t.input.value=o,e.apply(void 0,arguments),t.input.value=i}},this.onComposition=function(e){"compositionstart"===e.type?t.composing=!0:"compositionend"===e.type&&(t.composing=!1,t.onChange(e))},this.getInputDisplayValue=function(e){var n=e||t.state,r=n.focused,i=n.inputValue,o=n.value,a=void 0;void 0!==(a=r?i:t.toPrecisionAsStep(o))&&null!==a||(a="");var s=t.formatWrapper(a);return k(t.props.decimalSeparator)&&(s=s.toString().replace(".",t.props.decimalSeparator)),s},this.recordCursorPosition=function(){try{t.cursorStart=t.input.selectionStart,t.cursorEnd=t.input.selectionEnd,t.currentValue=t.input.value,t.cursorBefore=t.input.value.substring(0,t.cursorStart),t.cursorAfter=t.input.value.substring(t.cursorEnd)}catch(e){}},this.restoreByAfter=function(e){if(void 0===e)return!1;var n=t.input.value,r=n.lastIndexOf(e);if(-1===r)return!1;var i=t.cursorBefore.length;return t.lastKeyCode===_.DELETE&&t.cursorBefore.charAt(i-1)===e[0]?(t.fixCaret(i,i),!0):r+e.length===n.length&&(t.fixCaret(r,r),!0)},this.partRestoreByAfter=function(e){return void 0!==e&&Array.prototype.some.call(e,(function(n,r){var i=e.substring(r);return t.restoreByAfter(i)}))},this.stop=function(){t.autoStepTimer&&clearTimeout(t.autoStepTimer)},this.down=function(e,n,r){t.pressingUpOrDown=!0,t.step("down",e,n,r)},this.up=function(e,n,r){t.pressingUpOrDown=!0,t.step("up",e,n,r)},this.saveUp=function(e){t.upHandler=e},this.saveDown=function(e){t.downHandler=e},this.saveInput=function(e){t.input=e}};e.default=I},1760:function(t,e,n){"use strict";n(343),n(1218),n(1761)},1761:function(t,e,n){},1762:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(44)),i=m(n(27)),o=m(n(39)),a=m(n(40)),s=m(n(37)),c=m(n(45)),u=m(n(75)),l=g(n(13)),f=g(n(3)),h=m(n(663)),d=n(1256),p=m(n(1763)),v=m(n(1767));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};function b(){}function _(t){return"undefined"===typeof t||null===t?"":t+""}var w=function(t){function e(t){(0,o.default)(this,e);var n=(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onInputChange=function(t){var e=t.target,r=e.value,i=0;try{i=e.selectionEnd||0}catch(l){console.warn("Get selection error:",l)}var o=n.state.value,a=void 0===o?"":o,s=n.props.type,c=r;switch(s){case"bankCard":c=r.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":var u=(c=r.replace(/\D/g,"").substring(0,11)).length;u>3&&u<8?c=c.substr(0,3)+" "+c.substr(3):u>=8&&(c=c.substr(0,3)+" "+c.substr(3,4)+" "+c.substr(7));break;case"number":c=r.replace(/\D/g,"")}n.handleOnChange(c,c!==r,(function(){switch(s){case"bankCard":case"phone":case"number":try{var t=n.calcPos(i,a,r,c,[" "],/\D/g);("phone"===s&&(4===t||9===t)||"bankCard"===s&&t>0&&t%5===0)&&(t-=1),e.selectionStart=e.selectionEnd=t}catch(l){console.warn("Set selection error:",l)}}}))},n.handleOnChange=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,i=n.props.onChange;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:t}),i?e?setTimeout((function(){i(t),r()})):(i(t),r()):r()},n.onInputFocus=function(t){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0}),n.props.onFocus&&n.props.onFocus(t)},n.onInputBlur=function(t){n.inputRef&&(n.debounceTimeout=window.setTimeout((function(){document.activeElement!==(n.inputRef&&n.inputRef.inputRef)&&n.setState({focus:!1})}),200)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur(t))},n.clearInput=function(){"password"!==n.props.type&&n.props.updatePlaceholder&&n.setState({placeholder:n.props.value}),n.setState({value:""}),n.props.onChange&&n.props.onChange(""),n.focus()},n.focus=function(){n.inputRef&&n.inputRef.focus()},n.calcPos=function(t,e,n,r,i,o){var a=n.length-e.length,s=t;if(a>0){var c=n.substr(s-a,a).replace(o,"").length;s-=a-c;for(var u=0;c>0;)-1===i.indexOf(r.charAt(s-c+u))?c--:u++;s+=u}return s},n.state={placeholder:t.placeholder,value:_(t.value||t.defaultValue)},n}return(0,c.default)(e,t),(0,a.default)(e,[{key:"componentWillReceiveProps",value:function(t){"placeholder"in t&&!t.updatePlaceholder&&this.setState({placeholder:t.placeholder}),"value"in t&&this.setState({value:t.value})}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var t,e,o=this,a=(0,i.default)({},this.props);delete a.updatePlaceholder;var s=a.prefixCls,c=a.prefixListCls,l=a.editable,g=a.style,m=a.clear,b=a.children,w=a.error,x=a.className,S=a.extra,C=a.labelNumber,M=a.type,O=a.onExtraClick,k=a.onErrorClick,E=a.moneyKeyboardAlign,I=a.moneyKeyboardWrapProps,j=a.moneyKeyboardHeader,A=a.onVirtualKeyboardConfirm,T=a.autoAdjustHeight,D=a.disabledKeys,P=y(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","extra","labelNumber","type","onExtraClick","onErrorClick","moneyKeyboardAlign","moneyKeyboardWrapProps","moneyKeyboardHeader","onVirtualKeyboardConfirm","autoAdjustHeight","disabledKeys"]),L=P.name,N=P.disabled,R=P.maxLength,B=this.state.value,z=(0,d.getComponentLocale)(this.props,this.context,"InputItem",(function(){return n(1768)})),F=z.confirmLabel,H=z.backspaceLabel,U=z.cancelKeyboardLabel,W=this.state,Y=W.focus,V=W.placeholder,G=(0,u.default)(c+"-item",s+"-item",c+"-item-middle",x,(t={},(0,r.default)(t,s+"-disabled",N),(0,r.default)(t,s+"-error",w),(0,r.default)(t,s+"-focus",Y),(0,r.default)(t,s+"-android",Y),t)),X=(0,u.default)(s+"-label",(e={},(0,r.default)(e,s+"-label-2",2===C),(0,r.default)(e,s+"-label-3",3===C),(0,r.default)(e,s+"-label-4",4===C),(0,r.default)(e,s+"-label-5",5===C),(0,r.default)(e,s+"-label-6",6===C),(0,r.default)(e,s+"-label-7",7===C),e)),K=s+"-control",Z="text";"bankCard"===M||"phone"===M?Z="tel":"password"===M?Z="password":"digit"===M?Z="number":"text"!==M&&"number"!==M&&(Z=M);var q=void 0;"number"===M&&(q={pattern:"[0-9]*"});var Q=void 0;return"digit"===M&&(Q={className:"h5numInput"}),f.createElement("div",{className:G},f.createElement("div",{className:c+"-line"},b?f.createElement("div",{className:X},b):null,f.createElement("div",{className:K},"money"===M?f.createElement(p.default,{value:_(B),type:M,ref:function(t){return o.inputRef=t},maxLength:R,placeholder:V,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onVirtualKeyboardConfirm:A,disabled:N,editable:l,prefixCls:s,style:g,confirmLabel:F,backspaceLabel:H,cancelKeyboardLabel:U,moneyKeyboardAlign:E,moneyKeyboardWrapProps:I,moneyKeyboardHeader:j,autoAdjustHeight:T,disabledKeys:D}):f.createElement(v.default,(0,i.default)({},q,P,Q,{value:_(B),defaultValue:void 0,ref:function(t){return o.inputRef=t},style:g,type:Z,maxLength:R,name:L,placeholder:V,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,readOnly:!l,disabled:N}))),m&&l&&!N&&B&&(""+B).length>0?f.createElement(h.default,{activeClassName:s+"-clear-active"},f.createElement("div",{className:s+"-clear",onClick:this.clearInput})):null,w?f.createElement("div",{className:s+"-error-extra",onClick:k}):null,""!==S?f.createElement("div",{className:s+"-extra",onClick:O},S):null))}}]),e}(f.Component);w.defaultProps={prefixCls:"am-input",prefixListCls:"am-list",type:"text",editable:!0,disabled:!1,placeholder:"",clear:!1,onChange:b,onBlur:b,onFocus:b,extra:"",onExtraClick:b,error:!1,onErrorClick:b,onVirtualKeyboardConfirm:b,labelNumber:5,updatePlaceholder:!1,moneyKeyboardAlign:"right",moneyKeyboardWrapProps:{},moneyKeyboardHeader:null,disabledKeys:null},w.contextTypes={antLocale:l.object},e.default=w,t.exports=e.default},1763:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(39)),i=v(n(40)),o=v(n(37)),a=v(n(45)),s=v(n(75)),c=p(n(3)),u=p(n(46)),l=n(1764),f=v(n(1765)),h=v(n(1766)),d=n(1386);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function v(t){return t&&t.__esModule?t:{default:t}}var g=null,m=!!u.createPortal;var y=function(t){function e(t){(0,r.default)(this,e);var n=(0,o.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onChange=function(t){"value"in n.props||n.setState({value:t.target.value}),n.props.onChange(t)},n.onConfirm=function(t){n.props.onVirtualKeyboardConfirm(t)},n.addBlurListener=function(){document.addEventListener("click",n.doBlur,!1)},n.removeBlurListener=function(){document.removeEventListener("click",n.doBlur,!1)},n.saveRef=function(t){m&&t&&(g=t)},n.doBlur=function(t){var e=n.state.value;t.target!==n.inputRef&&n.onInputBlur(e)},n.unLinkInput=function(){g&&g.antmKeyboard&&g.linkedInput&&g.linkedInput===n&&(g.linkedInput=null,n.props.autoAdjustHeight&&(n.getContainer().style.height="0"),(0,l.addClass)(g.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")),n.removeBlurListener()},n.onInputBlur=function(t){m&&(n.keyBoard=null),n.state.focus&&(n.setState({focus:!1}),n.props.onBlur(t),setTimeout((function(){n.unLinkInput()}),50))},n.onInputFocus=function(){var t=n.state.value;n.props.onFocus(t),n.setState({focus:!0},(function(){if(g){if(g.linkedInput=n,g.antmKeyboard){if(n.props.autoAdjustHeight){var e=g.antmKeyboard.offsetHeight;if(n.getContainer().style.height=e+"px",n.inputRef){var r=n.inputRef.getBoundingClientRect().bottom,i=window.innerHeight-r;i<e&&(o=function(){var t=document.scrollingElement||document.documentElement;return t&&t.scrollTop||0}()+e-i,(document.scrollingElement||document.documentElement).scrollTop=o)}}(0,l.removeClass)(g.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")}g.confirmDisabled=""===t,g.confirmKeyboardItem&&(""===t?(0,l.addClass)(g.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,l.removeClass)(g.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"))}var o}))},n.onKeyboardClick=function(t){var e=n.props.maxLength,r=n.state.value,i=n.onChange,o=void 0;"delete"===t?i({target:{value:o=r.substring(0,r.length-1)}}):"confirm"===t?(i({target:{value:o=r}}),n.onInputBlur(r),n.onConfirm(r)):"hide"===t?(o=r,n.onInputBlur(o)):i(void 0!==e&&+e>=0&&(r+t).length>e?{target:{value:o=(r+t).substr(0,e)}}:{target:{value:o=r+t}}),g&&(g.confirmDisabled=""===o,g.confirmKeyboardItem&&(""===o?(0,l.addClass)(g.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,l.removeClass)(g.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))},n.onFakeInputClick=function(){n.focus()},n.focus=function(){n.renderCustomKeyboard(),n.removeBlurListener(),n.state.focus||n.onInputFocus(),setTimeout((function(){n.addBlurListener()}),50)},n.state={focus:!1,value:t.value||""},n}return(0,a.default)(e,t),(0,i.default)(e,[{key:"componentWillReceiveProps",value:function(t){"value"in t&&this.setState({value:t.value})}},{key:"componentWillUnmount",value:function(){this.state.focus&&this.props.onBlur(this.state.value),this.unLinkInput()}},{key:"getComponent",value:function(){var t=this.props,e=t.confirmLabel,n=t.backspaceLabel,r=t.cancelKeyboardLabel,i=t.keyboardPrefixCls,o=t.moneyKeyboardWrapProps,a=t.moneyKeyboardHeader,s=t.disabledKeys;return c.createElement(f.default,{ref:this.saveRef,onClick:this.onKeyboardClick,prefixCls:i,confirmLabel:e,backspaceLabel:n,cancelKeyboardLabel:r,wrapProps:o,header:a,disabledKeys:s})}},{key:"getContainer",value:function(){var t=this.props.keyboardPrefixCls,e=document.querySelector("#"+t+"-container");return e||((e=document.createElement("div")).setAttribute("id",t+"-container"),document.body.appendChild(e)),this.container=e,this.container}},{key:"renderCustomKeyboard",value:function(){var t=this;m?this.keyBoard=c.createElement(h.default,{getContainer:function(){return t.getContainer()}},this.getComponent()):g=u.unstable_renderSubtreeIntoContainer(this,this.getComponent(),this.getContainer())}},{key:"renderPortal",value:function(){return m&&d.canUseDOM?this.keyBoard:null}},{key:"render",value:function(){var t=this,e=this.props,n=e.placeholder,r=e.disabled,i=e.editable,o=e.moneyKeyboardAlign,a=this.state,u=a.focus,l=a.value,f=r||!i,h=(0,s.default)("fake-input",{focus:u,"fake-input-disabled":r}),d=(0,s.default)("fake-input-container",{"fake-input-container-left":"left"===o});return c.createElement("div",{className:d},""===l&&c.createElement("div",{className:"fake-input-placeholder"},n),c.createElement("div",{role:"textbox","aria-label":l||n,className:h,ref:function(e){return t.inputRef=e},onClick:f?function(){}:this.onFakeInputClick},l),this.renderPortal())}}]),e}(c.Component);y.defaultProps={onChange:function(){},onFocus:function(){},onBlur:function(){},onVirtualKeyboardConfirm:function(){},placeholder:"",disabled:!1,editable:!0,prefixCls:"am-input",keyboardPrefixCls:"am-number-keyboard",autoAdjustHeight:!1},e.default=y,t.exports=e.default},1764:function(t,e,n){"use strict";function r(t,e){return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=r,e.addClass=function(t,e){t.classList?t.classList.add(e):r(t,e)||(t.className=t.className+" "+e)},e.removeClass=function(t,e){if(t.classList)t.classList.remove(e);else if(r(t,e)){var n=t.className;t.className=(" "+n+" ").replace(" "+e+" ","")}}},1765:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardItem=void 0;var r=d(n(27)),i=d(n(44)),o=d(n(39)),a=d(n(40)),s=d(n(37)),c=d(n(45)),u=d(n(75)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),f=d(n(663)),h=n(1386);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};function v(t,e){if(!t||!t.length||!e)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1}var g=e.KeyboardItem=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.onClick,o=t.className,a=t.disabled,s=t.children,c=t.tdRef,h=t.label,d=t.iconOnly,v=p(t,["prefixCls","onClick","className","disabled","children","tdRef","label","iconOnly"]),g=s;"keyboard-delete"===o?g="delete":"keyboard-hide"===o?g="hide":"keyboard-confirm"===o&&(g="confirm");var m=(0,i.default)({},e+"-item-disabled",a),y=(0,u.default)(e+"-item",o,m);return l.createElement(f.default,{disabled:a,activeClassName:e+"-item-active"},l.createElement("td",(0,r.default)({ref:c,onClick:function(t){n(t,g)},className:y},v),s,d&&l.createElement("i",{className:"sr-only"},h)))}}]),e}(l.Component);g.defaultProps={prefixCls:"am-number-keyboard",onClick:function(){},disabled:!1};var m=function(t){function e(){(0,o.default)(this,e);var t=(0,s.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.onKeyboardClick=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.nativeEvent.stopImmediatePropagation(),t.props.disabledKeys&&v(t.props.disabledKeys,n)||"confirm"===n&&t.confirmDisabled?null:void(t.linkedInput&&t.linkedInput.onKeyboardClick(n))},t.renderKeyboardItem=function(e,n){var r=!1;return t.props.disabledKeys&&v(t.props.disabledKeys,e)&&(r=!0),l.createElement(g,{onClick:t.onKeyboardClick,key:"item-"+e+"-"+n,disabled:r},e)},t}return(0,c.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,i=e.confirmLabel,o=e.backspaceLabel,a=e.cancelKeyboardLabel,s=e.wrapProps,c=e.header,f=(0,u.default)(n+"-wrapper",n+"-wrapper-hide");return l.createElement("div",(0,r.default)({className:f,ref:function(e){return t.antmKeyboard=e}},s),c&&l.cloneElement(c,{onClick:this.onKeyboardClick}),l.createElement("table",null,l.createElement("tbody",null,l.createElement("tr",null,["1","2","3"].map((function(e,n){return t.renderKeyboardItem(e,n)})),l.createElement(g,(0,r.default)({className:"keyboard-delete",rowSpan:2,onClick:this.onKeyboardClick},this.getAriaAttr(o)))),l.createElement("tr",null,["4","5","6"].map((function(e,n){return t.renderKeyboardItem(e,n)}))),l.createElement("tr",null,["7","8","9"].map((function(e,n){return t.renderKeyboardItem(e,n)})),l.createElement(g,{className:"keyboard-confirm",rowSpan:2,onClick:this.onKeyboardClick,tdRef:function(e){return t.confirmKeyboardItem=e}},i)),l.createElement("tr",null,[".","0"].map((function(e,n){return t.renderKeyboardItem(e,n)})),l.createElement(g,(0,r.default)({className:"keyboard-hide",onClick:this.onKeyboardClick},this.getAriaAttr(a)))))))}},{key:"getAriaAttr",value:function(t){return h.IS_IOS?{label:t,iconOnly:!0}:{role:"button","aria-label":t}}}]),e}(l.Component);m.defaultProps={prefixCls:"am-number-keyboard",disabledKeys:null},e.default=m},1766:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(39)),i=u(n(40)),o=u(n(37)),a=u(n(45)),s=c(n(3));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}var l=c(n(46)).createPortal,f=function(t){function e(t){(0,r.default)(this,e);var n=(0,o.default)(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.container=n.props.getContainer(),n}return(0,a.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){return this.props.children?l(this.props.children,this.container):null}}]),e}(s.Component);e.default=f,t.exports=e.default},1767:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(27)),i=u(n(39)),o=u(n(40)),a=u(n(37)),s=u(n(45)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},f=function(t){function e(){(0,i.default)(this,e);var t=(0,a.default)(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.onInputBlur=function(e){var n=e.target.value;t.props.onBlur&&t.props.onBlur(n)},t.onInputFocus=function(e){var n=e.target.value;t.props.onFocus&&t.props.onFocus(n)},t.focus=function(){t.inputRef&&t.inputRef.focus()},t}return(0,s.default)(e,t),(0,o.default)(e,[{key:"render",value:function(){var t=this,e=this.props,n=(e.onBlur,e.onFocus,l(e,["onBlur","onFocus"]));return c.createElement("input",(0,r.default)({ref:function(e){return t.inputRef=e},onBlur:this.onInputBlur,onFocus:this.onInputFocus},n))}}]),e}(c.Component);e.default=f,t.exports=e.default},1768:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={confirmLabel:"\u786e\u5b9a",backspaceLabel:"\u9000\u683c",cancelKeyboardLabel:"\u6536\u8d77\u952e\u76d8"},t.exports=e.default},1801:function(t,e,n){var r=n(1802),i=n(358);t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))===n?n:0),void 0!==e&&(e=(e=i(e))===e?e:0),r(i(t),e,n)}},1802:function(t,e){t.exports=function(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},1803:function(t,e,n){},1857:function(t,e,n){"use strict";n(184);var r=n(99),i=n.n(r),o=(n(1608),n(1609)),a=n.n(o),s=(n(1263),n(342)),c=n.n(s),u=n(17),l=n.n(u),f=n(102),h=n.n(f),d=n(1801),p=n.n(d),v=n(66),g=n.n(v),m=n(87),y=n.n(m),b=n(75),_=n.n(b),w=n(3),x=n.n(w),S=n(13),C=n.n(S),M=n(1465),O=n.n(M),k=n(1417),E=n.n(k),I=n(1426);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A=["onChange"];function T(){return(T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function D(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function L(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}function N(t,e,n){return e=R(e),function(t,e){if(e&&("object"===j(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],R(t).constructor):e.apply(t,n))}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=N(this,e,[t])).handleBlur=function(t){var e=n.props,r=e.onChange,i=e.onBlur,o=e.min,a=e.max,s=null;g()(t.target.value)&&(s=Number(t.target.value),!E()(s)&&O()(s)||(s=0),s=I.a.limitNumber(s,o,a),s=h()(s,2)),n.setState({value:s}),"function"===typeof r&&r(s),i&&i()},n.handleChange=function(t){n.setState({value:t.target.value})},n.state={value:t.value},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=(t.onChange,D(t,A)),n=this.state.value;return x.a.createElement("input",T({},e,{value:null!==n?n.toString():"",onBlur:this.handleBlur,onChange:this.handleChange}))}}])&&P(n.prototype,r),i&&P(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(x.a.Component);z.defaultProps={min:0,max:100,value:null,onChange:function(){},onBlur:function(){},onFocus:function(){}};n(1803);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function W(t){var e=function(t,e){if("object"!=F(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==F(e)?e:e+""}function Y(t,e,n){return e=V(e),function(t,e){if(e&&("object"===F(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}n(31).a.t;var X=function(t){function e(){var t;H(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Y(this,e,[].concat(r))).state={select_index:-1,item:{},visible:!1,evaluations:[]},t.show=function(e,n){t.setState({visible:e,evaluations:y()(n.rubrics,"sort"),item:n})},t.hide=function(){t.setState({visible:!1,evaluations:[]})},t.handleInputChange=function(e,n){var r=t.props.onChangeEvaluation,i=t.state.item;if(g()(e)){var o=p()(e,0,n.total_score);r(h()(parseFloat(o),2),n,i),t.setState({t:Date.now()})}else r(null,n,i)},t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t,e=this,n=this.props.disabled,r=this.state,o=r.select_index,s=r.visible,u=r.evaluations,f=r.item;return x.a.createElement(i.a,{className:"question_gauge_grade",animationType:"slide-up",maskClosable:!0,onClose:this.hide,popup:!0,visible:s},x.a.createElement("div",{className:"title"},x.a.createElement("div",null,null!==(t=null===f||void 0===f?void 0:f.player_name)&&void 0!==t?t:""),x.a.createElement(c.a,{onClick:this.hide,type:"down"})),x.a.createElement("div",{className:"content"},l()(u,(function(t,r){t.id;var i=t.score,s=t.context,c=t.dimension,u=t.sort,l=t.total_score;return x.a.createElement("div",{className:_()("gauge_card ".concat(r===o?"selected":""))},x.a.createElement("div",null,x.a.createElement("span",null,"".concat(u,".").concat(c)),x.a.createElement("span",null,"\uff08".concat(l,"\u5206\uff09"))),x.a.createElement("div",null,s),x.a.createElement("div",null,x.a.createElement("span",null,"\u5f97\u5206\uff1a"),x.a.createElement(a.a,{disabled:n,className:_()("input",{def:null!==i?i.toString():!e.props.submit}),min:0,max:l,value:null!==i?i.toString():null,onBlur:function(){null===i&&e.handleInputChange(0,t),e.setState({select_index:-1})},onFocus:function(){return e.setState({select_index:r})},onChange:function(n){return e.handleInputChange(n,t)}})))}))))}}])&&U(n.prototype,r),o&&U(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(x.a.Component);X.defaultProps={onChangeEvaluation:function(){},disabled:!1},X.propTypes={disabled:C.a.bool,onChangeEvaluation:C.a.func};e.a=X},2015:function(t,e,n){},2016:function(t,e,n){},2187:function(t,e,n){"use strict";n.r(e);n(1349);var r=n(1350),i=n.n(r),o=(n(1263),n(342)),a=n.n(o),s=(n(1760),n(1762)),c=n.n(s),u=(n(65),n(22)),l=n.n(u),f=(n(184),n(99)),h=n.n(f),d=n(1485),p=n.n(d),v=n(23),g=n.n(v),m=n(1617),y=n.n(m),b=n(1220),_=n.n(b),w=n(102),x=n.n(w),S=n(66),C=n.n(S),M=n(17),O=n.n(M),k=n(115),E=n.n(k),I=n(12),j=n.n(I),A=n(29),T=n.n(A),D=n(9),P=n.n(D),L=n(1258),N=n.n(L),R=n(354),B=n.n(R),z=n(360),F=n.n(z),H=n(3),U=n.n(H),W=n(75),Y=n.n(W),V=n(1356),G=n.n(V),X=n(1),K=n.n(X),Z=(n(2015),n(1636)),q=n(31);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tt(r.key),r)}}function tt(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}function et(t,e,n){return e=nt(e),function(t,e){if(e&&("object"===Q(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],nt(t).constructor):e.apply(t,n))}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}q.a.t;var it=function(t){function e(){return J(this,e),et(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){}},{key:"renderContent",value:function(){var t=this.props.info,e=t.name,n=t.player_type,r=t.judge_type,i=t.start_time,o=t.total_score,a=t.end_time;return U.a.createElement(U.a.Fragment,null,U.a.createElement("div",null,"\u8bc4\u4ef7\u540d\u79f0\uff1a".concat(null!==e&&void 0!==e?e:"")),U.a.createElement("div",null,U.a.createElement("div",null,U.a.createElement("span",null,"\u72b6\u6001\uff1a".concat(Object(Z.b)(i,a)," | \u8bc4\u4ef7\u603b\u5206\u503c\uff1a")),U.a.createElement("span",null,"".concat(null!==o&&void 0!==o?o:0)),U.a.createElement("span",null,"\u5206")),U.a.createElement("span",null,"\u88ab\u8bc4\u8bbe\u7f6e\uff1a".concat(Object(Z.d)(n)," | \u53c2\u8bc4\u8bbe\u7f6e\uff1a").concat(Object(Z.c)(r))),U.a.createElement("span",null,"\u8d77\u6b62\u65f6\u95f4\uff1a".concat(K()(i).format("YYYY/MM/DD HH:mm")," - ").concat(K()(a).format("YYYY/MM/DD HH:mm"))),(3===r||4===r)&&U.a.createElement("span",null,"*\u672c\u6b21\u8bc4\u4ef7\u6d3b\u52a8\u4e3a\u73ed\u7ea7\uff08\u5c0f\u7ec4\uff09\u5408\u4f5c\u53c2\u8bc4\uff0c\u4ee5\u6210\u5458\u7684\u6700\u540e\u63d0\u4ea4\u7ed3\u679c\u4e3a\u51c6\u3002 \u5efa\u8bae\u73ed\u7ea7\uff08\u5c0f\u7ec4\uff09\u9009\u4e00\u4f4d\u4ee3\u8868\u63d0\u4ea4\u7ed3\u679c\u5373\u53ef\u3002")))}},{key:"render",value:function(){var t=this.props.isPreview;return U.a.createElement("div",{className:Y()("appraise-info",{isPreview:t})},this.renderContent())}}])&&$(n.prototype,r),i&&$(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(U.a.Component);it.defaultProps={info:{},isPreview:!1};var ot=n(1209),at=n(1857),st=n(1689),ct=n(47),ut=(n(2016),n(1404));function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return(e=vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vt(r.key),r)}}function vt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}function gt(t,e,n){return e=mt(e),function(t,e){if(e&&("object"===lt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],mt(t).constructor):e.apply(t,n))}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}q.a.t;var bt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=gt(this,e,[t])).onGoBack=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("onGoBack");var e=n.state,r=e.isPreview,i=e.originRecords,o=e.records;r||t||N()(i,o)?n.handleGoBack():h.a.alert("\u63d0\u793a","\u5f53\u524d\u586b\u5199/\u4fee\u6539\u7684\u5185\u5bb9\u5c1a\u672a\u63d0\u4ea4\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\uff1f",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u5b9a",onPress:function(){n.handleGoBack()}}])},n.handleGoBack=function(){var t=P()(window,"Toolkits.onGoBack");t&&t()},n.onRejectSubmit=function(){var t=n.state,e=t.group_id,r=t.evaluation_activity_id,i=t.info;t.originRecords;Object(st.f)(e,r,i.judge_id).then((function(t){t.success?(l.a.success(t.message),n.setState({info:ht(ht({},i),{},{is_submit:1})})):l.a.fail(t.message)}))},n.onChangeSubmit=function(){h.a.alert("\u63d0\u793a","\u5f53\u524d\u8bc4\u4ef7\u4e3a\u5df2\u63d0\u4ea4\u72b6\u6001\uff0c\u8bf7\u786e\u8ba4\u5c06\u8bc4\u4ef7\u56de\u9000\u81f3\u672a\u63d0\u4ea4\u72b6\u6001\uff0c\u4fee\u6539\u5b8c\u6210\u540e\u518d\u6b21\u63d0\u4ea4\u3002",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){n.onRejectSubmit()}}])},n.onSubmit=function(){var t=n.state,e=t.records,r=t.group_id,i=t.evaluation_activity_id,o=t.info,a=o.is_rubric,s=o.judge_id,c=o.judge_type;if(n.setState({submit:!0}),!T()(e)){if(2===a){if(e.filter((function(t){return!!j()(t.rubrics,{score:null})})).length>0)return void h.a.alert(null,"\u6709".concat(e.filter((function(t){return!!j()(t.rubrics,{score:null})})).length,"\u9879\u88ab\u8bc4\u9879\u5f97\u5206/\u8bc4\u7ea7\u672a\u8bc4\uff0c\u8bf7\u5b8c\u5584\u8bc4\u4ef7\u5185\u5bb9\uff0c\u672a\u63d0\u4ea4\u7684\u8bc4\u4ef7\u7ed3\u679c\u5b9e\u65f6\u6682\u5b58"),[{text:"\u786e\u5b9a",onPress:function(){var t=e.filter((function(t){return!!j()(t.rubrics,{score:null})}));if(t.length>0){var r=0,i=document.querySelector(".appraise-list");if(i){var o=i.querySelector("#appraise_".concat(t[0].id));if(o){var a=190;3!==c&&4!==c||(a=220),r=o.offsetTop-a,i.scroll({top:r,left:0,behavior:"smooth"}),n.setState({curId:t[0].id},(function(){this.onShowRubric(t[0])}))}}}}}])}else if(e.filter((function(t){return null===t.score})).length>0)return void h.a.alert(null,"\u6709".concat(e.filter((function(t){return null===t.score})).length,"\u9879\u88ab\u8bc4\u9879\u5f97\u5206/\u8bc4\u7ea7\u672a\u8bc4\uff0c\u8bf7\u5b8c\u5584\u8bc4\u4ef7\u5185\u5bb9\uff0c\u672a\u63d0\u4ea4\u7684\u8bc4\u4ef7\u7ed3\u679c\u5b9e\u65f6\u6682\u5b58"),[{text:"\u786e\u5b9a",onPress:function(){if(e.filter((function(t){return null===t.score})).length>0){var t=E()(e,{score:null}),r=0,i=document.querySelector(".appraise-list");if(i&&-1!==t){var o=i.querySelector("#appraise_".concat(e[t].id));if(o){var a=190;3!==c&&4!==c||(a=220),r=o.offsetTop,r-=a,i.scroll({top:r,left:0,behavior:"smooth"}),n.setState({curId:e[t].id},(function(){}))}}}}}]);if(n.submit_time&&K()().diff(K()(n.submit_time),"second")<5)l.a.info("\u63d0\u4ea4\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e5\u79d2\uff0c\u8bf7\u7a0d\u540e\u63d0\u4ea4");else{var u=O()(e,(function(t){var e={id:t.id,score:t.score};return 2===a&&(e.rubrics=O()(t.rubrics,(function(t){var e=null;return C()(t.score)&&(e=x()(parseFloat(t.score),2)),{id:t.id,judge_record_id:t.judge_record_id,activity_rebric_id:t.activity_rebric_id,score:e}}))),t.remark&&(e.remark=t.remark),e}));Object(st.h)(r,i,s,u).then((function(t){t.success?(l.a.success(t.message),n.submit_time=K()(),setTimeout((function(){n.onGoBack(!0)}),1e3)):l.a.fail(t.message)}))}}},n.onSaveEvaluation=function(t,e){var r=n.state,i=r.group_id,o=r.evaluation_activity_id,a=r.info,s=a.is_rubric,c=a.judge_id,u={};if(2===s){if(e){var l=j()(t.rubrics,{id:e}),f=null;C()(l.score)&&(f=x()(parseFloat(l.score),2)),u.judge_record_id=l.judge_record_id,u.rubric_id=l.id,u.score=f}else u.score=t.score,u.judge_record_id=t.id;u.remark=t.remark}else u.judge_record_id=t.id,u.score=t.score,u.remark=t.remark;Object(st.g)(ht({group_id:i,evaluation_activity_id:o,judge_id:c},u)).then((function(t){t.success}))},n.debounceOnSaveEvaluation=_()((function(t,e){n.onSaveEvaluation(t,e)}),500),n.onScoreChange=function(t,e){var r=n.state,i=r.records,o=r.info.total_score,a=void 0===o?0:o,s=j()(i,{id:e.id});if(C()(t)){var c=x()(parseFloat(t),2);c>a?y()(s,{score:a}):y()(s,{score:c})}else y()(s,{score:null});n.setState({records:i},(function(){n.debounceOnSaveEvaluation(s)}))},n.onSelectGrade=function(t,e,r){var i=n.state,o=i.records,a=i.info,s=a.grade_setting,c=void 0===s?{}:s,u=a.total_score,l=void 0===u?0:u,f=c[r];if(f){var h=f[t],d=x()((h.lt+h.gte)*l/200,2),p=j()(o,{id:e.id});y()(p,{score:d}),n.setState({records:o,modal1:!1},(function(){n.onSaveEvaluation(p)}))}},n.onCommonChange=function(t,e){var r=n.state.records,i=Object(ct.a)(t),o=j()(r,{id:e.id});y()(o,{remark:i}),n.setState({records:r},(function(){n.debounceOnSaveEvaluation(o)}))},n.onShowRubric=function(t){n.modal.show(!0,t)},n.onChangeEvaluation=function(t,e,r){var i=n.state.records,o=O()(r.rubrics,(function(n){return n.id===e.id&&(C()(t)?n.score=x()(parseFloat(t),2):n.score=null),n})),a=null,s=g()(r.rubrics,(function(t){return null!==t.score}));T()(s)||(a=p()(s,"score"));var c=j()(i,{id:r.id});y()(c,{rubrics:o}),y()(c,{score:a}),n.setState({records:i},(function(){n.debounceOnSaveEvaluation(c,e.id)}))},n.onClick=function(t){n.setState({curId:t})};var r=window.location.hash.split("?")[1],i=G.a.parse(F()(r,"?"));return n.state={records:[],originRecords:[],info:{},group_id:null===i||void 0===i?void 0:i.group_id,evaluation_activity_id:null===i||void 0===i?void 0:i.activity_id,isPreview:!1,visible:!1,showAlert:!1},n.submit_time=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this,e=this.state,n=e.group_id,r=e.evaluation_activity_id;Object(st.c)(n,r).then((function(e){var n,r=null!==(n=null===e||void 0===e?void 0:e.judgeRecords)&&void 0!==n?n:[];t.setState({records:r,originRecords:B()(r),info:e,isPreview:K()().isAfter(K()(e.end_time))})}))}},{key:"renderCommon",value:function(){var t=this,e=this.state,n=e.records,r=e.isPreview,o=e.info;if(T()(n))return null;var s=o.grade_setting,u=void 0===s?{}:s,l=o.total_score,f=void 0===l?0:l,d=o.grade_type,p=void 0===d?1:d,v=o.is_rubric,g=void 0===v?1:v,m=o.is_submit,y=o.player_type,b=2===m;return U.a.createElement("div",{className:Y()("appraise-list")},O()(n,(function(e){var n,o,s=e.score,l=e.remark,d=e.player_name,v=e.id,m=!1;function _(t){return{1:"icon-renyuan",2:"icon-renyuan",3:"icon-xiaozu",4:"icon-a-ban2"}[t]}return 2===g&&e.rubrics.filter((function(t){return null===t.score})).length>0&&(m=!0),U.a.createElement("div",{key:v,id:"appraise_".concat(v),className:Y()("list-item",{select:t.state.curId===v}),onClick:function(){return t.onClick(v)}},U.a.createElement("div",null,2===g?U.a.createElement("div",{onClick:function(){return t.onShowRubric(e)},className:Y()("rubric"),style:{width:"100%"}},U.a.createElement("span",{style:{flex:1,marginTop:4}},"\u88ab\u8bc4\u4eba/\u7ec4\uff1a".concat(d)," ",U.a.createElement(ut.a,{type:_(y)})),U.a.createElement("a",{style:{marginTop:4}},1===p?"\u5f97\u5206\uff1a":"\u8bc4\u7ea7\uff1a"),U.a.createElement("div",{className:Y()({def:!m||!t.state.submit})},Object(Z.a)(s,f,p,u))):U.a.createElement(U.a.Fragment,null,U.a.createElement("span",null,"\u88ab\u8bc4\u4eba/\u7ec4\uff1a".concat(d)," ",U.a.createElement(ut.a,{type:_(y)})),1===p&&U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{style:{marginTop:4}},"\u5f97\u5206\uff1a"),U.a.createElement(c.a,{className:Y()({def:null!==s?s.toString():!t.state.submit}),type:"number",disabled:r||b,value:null!==s?s.toString():null,onChange:function(n){return t.onScoreChange(n,e)},onBlur:function(){return null==s?t.onScoreChange("0",e):null}})),2===p&&U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{style:{marginTop:4}},"\u8bc4\u7ea7\uff1a"),U.a.createElement("div",{className:Y()("am-input-item",{def:null!==s?s.toString():!t.state.submit}),disabled:b,children:null!==s?Object(Z.e)(s,f,2,u):null,onClick:function(){return t.setState({modal1:!0,modal1Item:e,modal1toLevel:Object(Z.e)(s,f,2,u)})}}),U.a.createElement(h.a,{className:"modal1",visible:t.state.modal1,popup:!0,mask:e.id===(null===(n=t.state.modal1Item)||void 0===n?void 0:n.id),animationType:"slide-up",maskClosable:!0,onClose:function(){return t.setState({modal1:!1})}},U.a.createElement("div",{className:"title"},U.a.createElement("div",null,""),U.a.createElement(a.a,{onClick:function(){return t.setState({modal1:!1})},type:"down"})),U.a.createElement("div",{className:"grade_type"},["A","B","C","D","E"].map((function(e){return U.a.createElement(i.a,{disabled:b,key:e,className:Y()({grade_select:null!==s&&e===t.state.modal1toLevel}),children:e,onClick:t.onSelectGrade.bind(null,e,t.state.modal1Item,"grade_setting_en")})}))))),3===p&&U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{style:{marginTop:4}},"\u8bc4\u7ea7\uff1a"),U.a.createElement("div",{disabled:b,className:Y()("am-input-item",{def:null!==s?s.toString():!t.state.submit}),children:null!==s?Object(Z.e)(s,f,3,u):null,onClick:function(){return t.setState({modal1:!0,modal1Item:e,modal1toLevel:Object(Z.e)(s,f,3,u)})}}),U.a.createElement(h.a,{className:"modal1",visible:t.state.modal1,popup:!0,mask:e.id===(null===(o=t.state.modal1Item)||void 0===o?void 0:o.id),animationType:"slide-up",maskClosable:!0,onClose:function(){return t.setState({modal1:!1})}},U.a.createElement("div",{className:"title"},U.a.createElement("div",null,""),U.a.createElement(a.a,{onClick:function(){return t.setState({modal1:!1})},type:"down"})),U.a.createElement("div",{className:"grade_type"},["\u4f18","\u826f","\u4e2d","\u5dee"].map((function(e){return U.a.createElement(i.a,{disabled:b,key:e,className:Y()({grade_select:null!==s&&e===t.state.modal1toLevel}),children:e,onClick:t.onSelectGrade.bind(null,e,t.state.modal1Item,"grade_setting_cn")})}))))))),U.a.createElement("div",null,U.a.createElement("span",null,"\u8bc4\u8bed"),U.a.createElement(ot.a,{value:l,readOnly:r||b,placeholder:r?"":"\u8bf7\u8f93\u5165\u8bc4\u8bed",onChange:function(n){return t.onCommonChange(n,e)}})))})))}},{key:"renderContent",value:function(){var t=this.state,e=t.info,n=t.isPreview;return U.a.createElement("div",{className:Y()("appraise-content")},U.a.createElement(it,{info:e,isPreview:n}),this.renderCommon())}},{key:"renderHeader",value:function(){var t=this,e=this.state,n=e.isPreview,r=e.info,i=2===(null===r||void 0===r?void 0:r.is_submit),o=null===r||void 0===r||!r.end_time||K()().isAfter(K()(r.end_time));return U.a.createElement("div",{className:Y()("appraise-header")},U.a.createElement(a.a,{onClick:function(){return t.onGoBack(!1)},type:"left"}),U.a.createElement("div",null,"\u53c2\u4e0e\u8bc4\u4ef7"),!n&&!i&&!o&&U.a.createElement("a",{onClick:this.onSubmit},"\u63d0\u4ea4"),i&&!o&&U.a.createElement("a",{onClick:this.onChangeSubmit},"\u64a4\u56de\u5e76\u4fee\u6539"))}},{key:"render",value:function(){var t=this,e=this.state,n=e.isPreview,r=e.info;return U.a.createElement("div",{className:Y()("appraise-active")},this.renderHeader(),this.renderContent(),U.a.createElement(at.a,{ref:function(e){t.modal=e},submit:this.state.submit,disabled:n||2===(null===r||void 0===r?void 0:r.is_submit),onChangeEvaluation:this.onChangeEvaluation}))}}])&&pt(n.prototype,r),o&&pt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(U.a.Component);e.default=bt}}]);